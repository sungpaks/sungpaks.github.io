<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.13.0"/><meta name="description" content="Mutual Exclusionì…ë‹ˆë‹¤.. ê·¼ë° ì´ì œ í•˜ë“œì›¨ì–´ë¥¼ ê³ë“¤ì¸" data-gatsby-head="true"/><meta property="og:title" content="ğŸš§ ì½”ë“œ í•œ ì¤„ë¡œ Critical Sectionì— í˜¼ì ì§„ì…í•˜ê¸° : Mutual Exclusion Hardware Approach" data-gatsby-head="true"/><meta property="og:description" content="Mutual Exclusionì…ë‹ˆë‹¤.. ê·¼ë° ì´ì œ í•˜ë“œì›¨ì–´ë¥¼ ê³ë“¤ì¸" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta name="twitter:card" content="summary" data-gatsby-head="true"/><meta name="twitter:creator" content="" data-gatsby-head="true"/><meta name="twitter:title" content="ğŸš§ ì½”ë“œ í•œ ì¤„ë¡œ Critical Sectionì— í˜¼ì ì§„ì…í•˜ê¸° : Mutual Exclusion Hardware Approach" data-gatsby-head="true"/><meta name="twitter:description" content="Mutual Exclusionì…ë‹ˆë‹¤.. ê·¼ë° ì´ì œ í•˜ë“œì›¨ì–´ë¥¼ ê³ë“¤ì¸" data-gatsby-head="true"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="alternate" type="application/rss+xml" title="Gatsby Starter Blog RSS Feed" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=2cf56bc54b68286ec1a7e4d2d66f176b" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=2cf56bc54b68286ec1a7e4d2d66f176b"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=2cf56bc54b68286ec1a7e4d2d66f176b"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=2cf56bc54b68286ec1a7e4d2d66f176b"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=2cf56bc54b68286ec1a7e4d2d66f176b"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=2cf56bc54b68286ec1a7e4d2d66f176b"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=2cf56bc54b68286ec1a7e4d2d66f176b"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=2cf56bc54b68286ec1a7e4d2d66f176b"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=2cf56bc54b68286ec1a7e4d2d66f176b"/><title data-gatsby-head="true">ì„±í›ˆ ë¸”ë¡œê·¸</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div><div class="top-ui"><h4 class="top-ui-title" style="margin:0"><a href="/">ğŸ‘ ì„±í›ˆ ë¸”ë¡œê·¸</a></h4><h6 class="top-ui-tag" style="margin:0 20px 0 0"><a href="/tag/">Tag</a></h6></div><div class="progress-bar" style="width:0%"></div></div><div class="global-wrapper" data-is-root-path="false"><header class="global-header"></header><main><article class="blog-post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline">ğŸš§ ì½”ë“œ í•œ ì¤„ë¡œ Critical Sectionì— í˜¼ì ì§„ì…í•˜ê¸° : Mutual Exclusion Hardware Approach</h1><a class="custom-button tag-button" href="/tag/os/">OS</a><p>April 20, 2024</p></header><hr/><br/><section itemProp="articleBody"><p>ì €ë²ˆ í¬ìŠ¤íŒ…ì—ì„œ Software ë¡œì§ìœ¼ë¡œ Mutual Exclusionì„ ì§€í‚¤ëŠ” ë°©ë²•ì„ ì‚´í´ë´¤ìŠµë‹ˆë‹¤<br>
Dekker ì„ ìƒë‹˜ì´ë‚˜ Peterson ì„ ìƒë‹˜ê»˜ì„œ ë¹ˆí‹ˆì—†ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ ë§Œë“¤ì–´ ì£¼ì…¨ì§€ë§Œ<br>
ì—¬ì „íˆ ë¬¸ì œê°€ ì¡´ì¬í–ˆìŠµë‹ˆë‹¤..\</p>
<ul>
<li><code class="language-text">while</code>ê°™ì€ ë°˜ë³µë¬¸ì„ ì´ìš©í•˜ì—¬ ê°€ì§œë¡œ ê¸°ë‹¤ë¦¬ê¸° ë•Œë¬¸ì— busy-waiting ë¬¸ì œê°€ ìˆê³ </li>
<li>í”„ë¡œì„¸ìŠ¤ê°€ ì„¸ ê°œ, ì—´ ê°œ, ... ì´ë ‡ê²Œ ë§ì•„ì§€ë©´ ì´ê±¸ ë‹¤ ë§‰ê¸° ë„ˆë¬´ ë³µì¡í•´ì§€ê³ </li>
<li>ê²°êµ­ ë‹ê²ì˜ ì†ìœ¼ë¡œ ë§¤ë²ˆ ì½”ë“œë¥¼ ì§œì•¼í•˜ê¸° ë•Œë¬¸ì— êµ¬ë©ì´ ë‚  ìˆ˜ ìˆê³ </li>
</ul>
<p>ëŒ€ì¶© ì´ëŸ° ë‹¨ì ë“¤ì´ ìˆì—ˆëŠ”ë°ìš”<br>
ê·¸ë˜ì„œ, Mutual Exclusionì„ ìœ„í•œ <strong>Hardware Instruction</strong>ì„ ë¯¸ë¦¬ ì •ì˜í•´ë‘ê³  ì‚¬ìš©í•œë‹¤ëŠ” ë°œìƒì´ ë‚˜ì™”ìŠµë‹ˆë‹¤<br>
ì´ë ‡ê²Œ í•˜ë©´ ë§¤ìš° ê°„ë‹¨íˆ, ì§„ì§œ í•œ ì¤„ ì •ë„ë¡œ Mutual Exclusionì„ ë³´ì¥í•  ìˆ˜ ìˆê³ ,<br>
í”„ë¡œì„¸ìŠ¤ê°€ ì—¬ëŸ¿ ì¡´ì¬í•´ë„ ë„ë–¡ì—†ì´ ë§‰ì•„ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ê·¸ë˜ì„œ ì–´ë–»ê²Œ í•˜ëŠ” ê²ƒì¸ì§€ ì´ì œë¶€í„° ì•Œì•„ë³¼ê±´ë°, ì£¼ì˜í•  ì ì€<br>
ì•„ë˜ì—ì„œ ì„¤ëª…í•  instructionì— ëŒ€í•œ ì½”ë“œëŠ” ì‹¤ì œë¡œ ì–´ë–¤ í•¨ìˆ˜ê°™ì€ ì½”ë“œê°€ ì•„ë‹ˆë¼,<br>
<em>ì´ë ‡ê²Œ ë™ì‘í•œë‹¤ëŠ” ê²ƒì„ ë‚˜íƒ€ë‚´ê¸° ìœ„í•œ ê²ƒ</em>ì¼ ë¿ì…ë‹ˆë‹¤.<br>
ë¯¸ë¦¬ ì •ì˜ë˜ì–´ ìˆëŠ”, í•˜ë‚˜ì˜ <strong>atomicí•œ ê³¼ì •</strong>ì´ë©°,<br>
ì¦‰ ì¤‘ê°„ì— interruptë¥¼ ë°›ì•„ ì¤‘ë‹¨ë˜ê±°ë‚˜ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
ë˜í•œ ì–´ë–¤ ë©”ëª¨ë¦¬ë¥¼ ì°¸ì¡°í•  ë•Œë„, í•´ë‹¹ ë©”ëª¨ë¦¬ë¥¼ ë¸”ë½ì‹œí‚¨ ì±„ë¡œ ì ‘ê·¼í•˜ê¸° ë•Œë¬¸ì—,<br>
<strong>hardware instructionì€ ì§„ì§œì§„ì§œ ë…ë¦½ì </strong>ì…ë‹ˆë‹¤.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 251px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/c0342ca4f8efb9178020b5fe75dcc62a/26abe/image.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 80.37974683544303%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAADt0lEQVR42hXR6U/bBhjHcb+lpeEIcRwndhzfdhJfJD4S5+LICVaAUUgZjZA6oOMcZVC2MlUqRVUnaKEp0HLsoq0QTCqatL2YKm2aNK3d2Nap68tJnfZi+y8WpM/b74vn9wAREYoIUFRytWjehOIN8y6BBgOUg8cdCNzkgkGGxlI6PWhpuWhQZd0JEY8FfNEgGvNjQG/adT7j6sue6s+6Snn3QMF90YIHOxDS28j4XAWTO7hVXp3KlzuD+RiUiUL5uCtjQq26E6h11tQ6as45aurAM/WgzeFy1Dad1ZWGqAw5oHMLZbNyJff4RmllIpeNE4Lf1ptxy2KdKjdpihOwM3Y702inG06RdgcJ2rw2SYO1pH9kZqQy3/PJta6dq8WVsTQreeq8tngCqXHbzsL1Z6BGwC87eQlkJQcrOkjJ7lPdfAvL50JMtnn25rW1pelbo/G7U/m+gg7zkDfQ5Ak0evyNHq7Bw9UDhuCsrqWKrlAQ0mKMYmli0agiM3JxdGD93u2lyY4Ppsuz1xfZhBw2GdXvCPNNIc4eYu2AL2m4VNwdoWGdoLPNUldE6VQDnSqZllIDuc8P9h9s319ZXyteepuKC0JGZU0/2oxhIRyTvQCba0WiBJrgOINIJwLZGN+vkYplMPmQUoze39uslhvbD8zz7bjJcymZSUmoQSMGjRokQLTFkagPjNKKhM2QzivF4BAPdRRV1or4C+HFlaXVyr2tvR1rpEQkg2xKJk0e1alTGg6QLRFYxwNZrrdf/CjPfHO3/dvtzsmFpDclE23SxMLo9u7Go6PDnncHyJYgZQZwnUV1EjEIpBqjGgsblJzlDz7uPtmfev31wh9fzT69PbRTuTg/2zo+nF69s/jk8LA0ViYSQSLCowqO6gQaIT2aD4gnwmCYKI3qPz4af757/ef9mRd70893R//7ZaFyZzLek3346e7mzqY12O01OExnPZLPLaCIXo1x4IKVAZux9Ur+5PHID5WJP4/feXU8/uansX9eDk9M5dhUaGtva31jLd2R8hksrnOQz0koFJ0U4DAG9HS01olIe5948uXgq6P3fv3i8ovPLr/5fuLld9207qUSwvuLcx8uXtUNoXqwRyRAzEmafr5N9rfJgBsBEZ0JtnDPnnb99dvA378P/fv60rMja/lm21vDcaq1OVkwL5StdDGJaSwapj0KASsYqpLxjAlokbBTwJPd8vysEc2RvWVl6UYs1iVwOV2wzEBBnVseeXK8Orc8jqqUN0x5dKr6ZEhEOT/1P9EsCnNMM32pAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="ê±´ë“œë¦¬ì§€ë§ˆ"
        title=""
        src="/static/c0342ca4f8efb9178020b5fe75dcc62a/26abe/image.png"
        srcset="/static/c0342ca4f8efb9178020b5fe75dcc62a/c26ae/image.png 158w,
/static/c0342ca4f8efb9178020b5fe75dcc62a/26abe/image.png 251w"
        sizes="(max-width: 251px) 100vw, 251px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>ì•„ë¬´íŠ¼ ì‹œì‘í•©ì‹œë‹¤.<br>
Instructionì´ ë‘ ê°€ì§€ ë‚˜ì˜µë‹ˆë‹¤.</p>
<h1>1. Compare &#x26; Swap Instruction</h1>
<div class="gatsby-highlight" data-language="c"><pre class="language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">compare_and_swap</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>word<span class="token punctuation">,</span> <span class="token keyword">int</span> testval<span class="token punctuation">,</span> <span class="token keyword">int</span> newval<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">int</span> oldval<span class="token punctuation">;</span>

	oldval <span class="token operator">=</span> <span class="token operator">*</span>word<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>oldval <span class="token operator">==</span> testval<span class="token punctuation">)</span> <span class="token operator">*</span>word <span class="token operator">=</span> newval<span class="token punctuation">;</span>
	<span class="token keyword">return</span> oldval<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>ì²« ë²ˆì§¸ Instructionì€ ìœ„ì™€ ê°™ì´ ìƒê²¨ë¨¹ì—ˆëŠ”ë°,<br>
<code class="language-text">word</code>ì˜ ê°’ì´ <code class="language-text">testval</code>ì™€ ê°™ì•„ì•¼ <code class="language-text">newval</code>ë¡œ ê°’ì„ ë°”ê¾¸ê³ , ì´ì „ì˜ <code class="language-text">word</code>ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.<br>
ë‹¹ì¥ ì´ê²ƒë§Œ ë´ì„œëŠ” ì–´ë–»ê²Œ ì¨ë¨¹ëŠ”ì§€ ì˜ ëª¨ë¥´ê² ìœ¼ë‹ˆ, ì‹¤ì œë¡œ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ì—¬ Mutual Exclusionì„ êµ¬í˜„í•˜ëŠ”ì§€ ë´…ì‹œë‹¤.</p>
<div class="gatsby-highlight" data-language="c"><pre class="language-c"><code class="language-c"><span class="token keyword">int</span> bolt<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">P</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//ië²ˆì§¸ í”„ë¡œì„¸ìŠ¤ì˜ ì‘ì—…</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>ture<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">compare_and_swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>bolt<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
			<span class="token comment">/* do nothing */</span><span class="token punctuation">;</span>
		<span class="token comment">/* Critical Section */</span>
		bolt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token comment">/* remainder */</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	bolt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token function">parbegin</span><span class="token punctuation">(</span><span class="token function">P</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">P</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">,</span> <span class="token function">P</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<ul>
<li><code class="language-text">bolt</code>ê°’ì´ 0ì´ë©´, <code class="language-text">compare_and_swap</code>ì€ boltê°’ì„ 1ë¡œ ë°”ê¾¸ê³  0ì„ ë°˜í™˜í•©ë‹ˆë‹¤.</li>
<li><code class="language-text">bolt</code>ê°’ì´ 1ì´ë©´, <code class="language-text">compare_and_swap</code>ì€ 1ì´ ë°˜í™˜ë©ë‹ˆë‹¤.</li>
</ul>
<p>ì´ <code class="language-text">bolt</code>ê°’ì€ ì‚¬ì‹¤ìƒ C.Sê°€ ì ê²¨ìˆëŠ”ì§€ ì—¬ë¶€ì…ë‹ˆë‹¤.<br>
nê°œì˜ í”„ë¡œì„¸ìŠ¤ê°€ ì•„ë¬´ë¦¬ í•œêº¼ë²ˆì— <code class="language-text">compare_and_swap</code>ìœ¼ë¡œ ë„ë‹¬í•˜ë”ë¼ë„,<br>
í•´ë‹¹ instructionì€ atomicí•˜ë¯€ë¡œ ë‹¨ í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë§Œì´ <code class="language-text">bolt</code>ê°’ì„ 1ë¡œ ë°”ê¾¸ê³  0ì˜ ë°˜í™˜ê°’ì„ ì–»ëŠ” ë° ì„±ê³µí•©ë‹ˆë‹¤.<br>
ê·¸ëŸ¼ ë‚˜ë¨¸ì§€ í”„ë¡œì„¸ìŠ¤ë“¤ì€ <code class="language-text">bolt</code>ê°’ì´ ì´ë¯¸ 1ì´ë¯€ë¡œ ê³„ì† ê¸°ë‹¤ë¦´ ë¿ì…ë‹ˆë‹¤.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 296px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/51e90ecf8acd898070640e35bc368757/b1a44/image-1.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 57.59493670886076%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtklEQVR42o2Ryy8DURSH53+SsBK7Lj0iuiISCQsJEWIhSCU2hHRBMfpSgpRoqGLa0cn0RSqYms5MDfqYjnm0RltVUnauetSmjeTLLyc3+U7OuQeqrVM1qJpVTWpVs3rGiq2dxMx4xOyOGFD6m+OKQL3t2k37qSCLt9G4lFaivMBLcjguGFHShNLVgbZOk94bJfdalDN5EciJ5L0ohaK8znG+4Lg0uCgjSlcCauzqb+0ZaukZ7BgY1x8Rqzi7gjGmY8bgpD7N6vJoX/+MbnnbtqOZsywdhowoAxyDi67ilOXdw5CfTb+/Fw8IbgGh/uOU5XmE2gvecpJM3iVCMcGCg1cw9v9kM3bnjaReCoVsJpvLP624iUUHoXeSJjcNWnxRUR6eNQ9OLY5p9aPaZdhxArso3QGxdHQFI2HYScHIJ5X+HKqvaevsHpqYmh7RTG4gPj8r4yTnCSdBYiSHh3lQr3vZ0i7M7yxfQFoYQy/ib8WC8pDOZZRcVpHF+8eHFMi0LEoC//KctQeZuf0LsEvpEGUg61nMFoz6mKSX4vwMH4jwIP2MEPipA9eC1Xdtcl2tYvS6h/3LB8CsDF4DHASxAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="ì„ ì°©ìˆœ!!"
        title=""
        src="/static/51e90ecf8acd898070640e35bc368757/b1a44/image-1.png"
        srcset="/static/51e90ecf8acd898070640e35bc368757/c26ae/image-1.png 158w,
/static/51e90ecf8acd898070640e35bc368757/b1a44/image-1.png 296w"
        sizes="(max-width: 296px) 100vw, 296px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>ì„ ì°©ìˆœ 1ëª…ë§Œ ë°˜í™˜ê°’ 0ì„ ë°›ì•„ì„œ C.Së¡œ ë“¤ì–´ê°€ê² ë„¤ìš”<br>
ë‹¹ì—°íˆ ëë‚˜ê³  ë‚˜ë©´, <code class="language-text">bolt = 0</code>ìœ¼ë¡œ ë˜ ì„ ì°©ìˆœ 1ëª…ì„ ë°›ë„ë¡ í•´ì¤ë‹ˆë‹¤.<br>
í™”ì¥ì‹¤ ë³€ê¸° ì¹¸ ì“°ê³  ë‹¤ì‹œ ë‚˜ì˜¬ë ¤ë©´ ì ê°”ë˜ ë¬¸ì„ ë‹¤ì‹œ ì—´ì–´ì•¼ê² ì£ ..<br>
ë‚˜ê°€ë©´ì„œ ì ê·¸ê³  ë‚˜ê°€ëŠ” ì‚¬ëŒì€ ì•„ì£¼ ì •ì‹ ì´ ì´ìƒí•œ ì‚¬ëŒì„ì— ë…¼ë€ì˜ ì—¬ì§€ê°€ ì—†ì–´ë³´ì…ë‹ˆë‹¤.</p>
<h1>2. Exchange Instruction</h1>
<div class="gatsby-highlight" data-language="c"><pre class="language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">exchange</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> <span class="token keyword">register</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> memory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">int</span> temp<span class="token punctuation">;</span>

	temp <span class="token operator">=</span> <span class="token operator">*</span>memory<span class="token punctuation">;</span>
	<span class="token operator">*</span>memory <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">register</span><span class="token punctuation">;</span>
	<span class="token operator">*</span><span class="token keyword">register</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>ë‘ ë²ˆì§¸ Instructionì€ ë„ˆë¬´ ì¹œê·¼í•˜ê²Œ ìƒê²¨ë¨¹ì—ˆìŠµë‹ˆë‹¤<br>
ì½”ë”© ì²˜ìŒ ë°°ìš¸ ë•Œ ì´ëŸ°ê±° ìì£¼ í•˜ì…¨ì£ ?</p>
<iframe width="50%" src="https://www.youtube.com/embed/vpQUw8MQ3c4?si=7H7YgNLTojpf00-k" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<p>from. <a href="https://www.youtube.com/@yoojunho1201">ìœ íŠœë¸Œ ì±„ë„ [ìœ ì¤€í˜¸]</a></p>
<p><del><strong><em>ë‚˜ë‘ ì°¨ ë°”ê¾¸ì!!!</em></strong></del></p>
<p>ì•„.. ê·¸ë¦¬ê³  ì“°ëŠ”ê±´</p>
<div class="gatsby-highlight" data-language="c"><pre class="language-c"><code class="language-c"><span class="token keyword">int</span> bolt<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">P</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">int</span> keyi <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">do</span> <span class="token function">exchange</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>keyi<span class="token punctuation">,</span> <span class="token operator">&amp;</span>bolt<span class="token punctuation">)</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>keyi <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">/* critical section */</span><span class="token punctuation">;</span>
	bolt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token comment">/* remainder */</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	bolt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token function">parbegin</span><span class="token punctuation">(</span><span class="token function">P</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">P</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token function">P</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<ul>
<li>C.Sì— ë“¤ì–´ê°€ë ¤ëŠ” í”„ë¡œì„¸ìŠ¤ë“¤ì€ ê°ìì˜ <code class="language-text">key</code>ë¥¼ ê°€ì§‘ë‹ˆë‹¤. ì ê¸´ ë°© ë¬¸ì„ ì—´ê¸° ìœ„í•œ í‚¤ë¼ê³  ìƒê°í•©ì‹œë‹¤.</li>
<li><code class="language-text">do-while</code>ë¡œ í”„ë¡œì„¸ìŠ¤ë“¤ì€ <code class="language-text">exchange</code>ë¥¼ ê³„----ì† ì‹œë„í•˜ë©° <code class="language-text">bolt</code>ì™€ <code class="language-text">keyi</code>ê°’ì„ êµì²´í•©ë‹ˆë‹¤.</li>
<li>ë‹¨ í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë§Œì´ <code class="language-text">bolt</code>ê°’ì´ 0ì¼ ë•Œ <code class="language-text">exchange</code>ì— ì„±ê³µí•˜ê³ , <code class="language-text">keyi</code>ê°€ 1ì´ ì•„ë‹Œ 0ì´ ë˜ì–´ C.Sì— ì§„ì…í•©ë‹ˆë‹¤</li>
</ul>
<p>ì ê¸´ ë°© ë¬¸ì„ ì—´ê¸° ìœ„í•´ ëª¨ë“  í”„ë¡œì„¸ìŠ¤ê°€ ìë¬¼ì‡  í‚¤ì¸ <code class="language-text">keyi</code>ë¥¼ ê°€ì§€ê³  ìˆì§€ë§Œ, ì´ ê°’ì´ 1ì´ë©´ í‚¤ê°€ ê°€ì§œ í‚¤ì…ë‹ˆë‹¤ ã…œã…œ<br>
ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ë“¤ì´ ì´ ê°€ì§œ í‚¤ë¥¼ ì§„ì§œ í‚¤ë¡œ ë°”ê¾¸ê¸° ìœ„í•´ <code class="language-text">bolt</code>ì™€ <code class="language-text">keyi</code>ë¥¼ ë°”ê¿”ë¨¹ì§€ë§Œ,<br>
ë‹¨ í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë§Œì´ <code class="language-text">bolt==0</code>ì¼ ë•Œ í‚¤ë¥¼ ë°”ê¾¸ëŠ”ë° ì„±ê³µí•˜ì—¬ C.Së¡œ ì§„ì…í•©ë‹ˆë‹¤.<br>
ê·¸ëŸ¼ í”„ë¡œì„¸ìŠ¤ê°€ C.Së¥¼ ë¹ ì ¸ë‚˜ì˜¤ê¸° ì „ê¹Œì§€ëŠ” ëª¨ë“  í”„ë¡œì„¸ìŠ¤ê°€ ë³¸ì¸ì˜ ì—´ì‡ ë¥¼ ì§„ì§œ ì—´ì‡ ë¡œ ë°”ê¿€ ìˆ˜ ì—†ê³ ,<br>
C.Së¥¼ ë¹ ì ¸ë‚˜ì˜¨ í”„ë¡œì„¸ìŠ¤ê°€ ì§„ì§œ ì—´ì‡ ë¥¼ ë‘ê³  ê°€ë©´(<code class="language-text">bolt=0</code>) ë‹¤ì‹œ ë˜ ì„ ì°©ìˆœìœ¼ë¡œ ì§„ì§œ ì—´ì‡ ë¥¼ ëˆ„êµ°ê°€ ì–»ê²Œ ë©ë‹ˆë‹¤.</p>
<h1>ì¥ì ê³¼ ë‹¨ì </h1>
<p>Hardware Instructionì„ í†µí•´ Mutual Exclusionì„ êµ¬í˜„í•˜ëŠ” ë‘ ê°€ì§€ ë°©ë²•ì„ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤\</p>
<p>Software Approachë¡œ êµ¬í˜„í•  ë•Œì™€ ë¹„êµí•´ë³´ë©´</p>
<ul>
<li>processê°€ ë§ì•„ë„ ê°„ë‹¨íˆ ì ìš©í•  ìˆ˜ ìˆë‹¤</li>
<li>C.Sê°€ ì—¬ëŸ¬ë²ˆ ë°˜ë³µë˜ì–´ë„ ì—¬ì „íˆ ê°•ë ¥í•˜ë‹¤</li>
</ul>
<p>ë¼ëŠ” ì¥ì ì´ ì¡´ì¬í•©ë‹ˆë‹¤<br>
ê·¸ëŸ¬ë‚˜..</p>
<ul>
<li>ì—¬ì „íˆ <code class="language-text">while</code>ê³¼ ê°™ì´ ê°€ì§œë¡œ ê¸°ë‹¤ë¦¬ê¸° ë•Œë¬¸ì—, <em>busy-waiting</em>ë¬¸ì œê°€ ì—¬ì „íˆ ì¡´ì¬í•œë‹¤</li>
<li>starvationì„ ë§‰ì„ ë°©ë²•ì´ ì—†ë‹¤..
<ul>
<li>ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ê°€ C.Së¥¼ ë¹ ì ¸ë‚˜ì™€ ë‹¤ì‹œ ì¤„ì„ ì„œê³ ëŠ”, ëŒ€ê¸°ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ì œë¼ê³  ë˜ C.Sì— ë“¤ì–´ê°€ë²„ë¦´ ìˆ˜ ìˆë‹¤ëŠ” ëœ»</li>
<li>{<code class="language-text">bolt=0</code> --> non-CSêµ¬ê°„ ì§€ë‚˜ì„œ --> ë‹¤ì‹œ C.S ì§ì „ì˜ hardware instruction ì‹¤í–‰ --> ë°”ë¡œ C.Së¡œ ì¬ì§„ì… ì„±ê³µ}ê³¼ ê°™ì€ ê³¼ì •ì„ timeout ë˜ê¸° ì „ì— ë°˜ë³µí•´ë²„ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
</ul>
</li>
</ul>
<p>ì™€ ê°™ì€ ë‹¨ì ì´ ì¡´ì¬í•©ë‹ˆë‹¤.
ë˜í•œ deadlock ë°œìƒ ê°€ëŠ¥ì„±ì´ ì¡´ì¬í•˜ì§€ë§Œ,<br>
ì´ê±´ C.Së¥¼ ë‹¤ì¤‘ìœ¼ë¡œ êµ¬í˜„í•˜ì—¬ <code class="language-text">while</code>(ë˜ëŠ” <code class="language-text">do-while</code>)ë¬¸ì„ ì—¬ëŸ¬ ê°œ ì“°ê²Œ ë˜ë©´ ë°œìƒí•˜ëŠ” ë¬¸ì œë¼ì„œ<br>
hardware instruction ë°©ë²• ìì²´ì˜ ë¬¸ì œë¼ê¸°ì—ëŠ” ì¢€ .. ì• ë§¤í•˜ë„¤ìš”</p>
<hr>
<p><br>
ì´ëŸ° ë…¸ë ¥ì—ë„ ë¶ˆêµ¬í•˜ê³  ë¬¸ì œë¥¼ ì™„ì „íˆ í•´ê²°í•  ìˆ˜ëŠ” ì—†ì—ˆë„¤ìš”..</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 564px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/37a2bc9380036d77b48295e8724ae5f5/ba4d9/image-3.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 148.7341772151899%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="ì—­ì‹œ í˜•ì´ì•¼"
        title=""
        src="/static/37a2bc9380036d77b48295e8724ae5f5/ba4d9/image-3.png"
        srcset="/static/37a2bc9380036d77b48295e8724ae5f5/c26ae/image-3.png 158w,
/static/37a2bc9380036d77b48295e8724ae5f5/6bdcf/image-3.png 315w,
/static/37a2bc9380036d77b48295e8724ae5f5/ba4d9/image-3.png 564w"
        sizes="(max-width: 564px) 100vw, 564px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>ê²°êµ­ ìš°ë¦¬ì˜ ì¹œêµ¬ OSê°€ ë„ì™€ì¤˜ì•¼ê² ìŠµë‹ˆë‹¤..<br>
OSëŠ” <code class="language-text">while</code>ë¡œ ê°€ì§œë¡œ ê¸°ë‹¤ë¦°ë‹¤ê±°ë‚˜ ê·¸ëŸ¬ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
<em>ê·¸ëƒ¥ ë¸”ë½ì‹œì¼œë²„ë¦¬ë©´ ê·¸ë§Œì´ì•¼~</em> ê±°ë“ ìš”<br>
ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ” OSê°€ ì œê³µí•˜ëŠ” íˆ´ë¡œ Mutual Exclusionì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë”</p>
<p>ì´ë§Œ ë§ˆì¹©ë‹ˆë‹¤</p></section><hr/></article><nav class="blog-post-nav"><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/mutual-exclusion-software-approach/">â† <!-- -->ğŸ¤¼ ì½”ë“œ ëª‡ ì¤„ë¡œ Critical Sectionì— í˜¼ì ì§„ì…í•˜ê¸° : Mutual Exclusion Software Approach</a></li><li></li></ul></nav></main><footer>Â© <!-- -->2024<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.com">Gatsby</a></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXXX-X"></script><script>
    window.GATSBY_GTAG_PLUGIN_GA_TRACKING_ID = (
      'UA-XXXXXXXX-X'
    );
    window.GATSBY_GTAG_PLUGIN_ANONYMIZE = true;

    var options = {
      send_page_view: false
    };
    if (true) {
      options.anonymize_ip = true;
    }

    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    window.gtag = gtag;
    gtag('js', new Date());
    gtag('config', 'UA-XXXXXXXX-X', options);
  </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/mutual-exclusion-hardware-approach/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"commons\":[\"/commons.css\",\"/commons.js\",\"/commons.4b04c36e59fa66439329.hot-update.js\"],\"component---cache-dev-404-page-js\":[\"/component---cache-dev-404-page-js.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx.js\"],\"component---src-pages-tag-tsx\":[\"/component---src-pages-tag-tsx.js\"],\"component---src-templates-blog-post-tsx\":[\"/component---src-templates-blog-post-tsx.js\"],\"component---src-templates-tag-post-tsx\":[\"/component---src-templates-tag-post-tsx.js\"],\"component---src-pages-404-jshead\":[\"/component---src-pages-404-jshead.js\"],\"component---src-pages-index-tsxhead\":[\"/component---src-pages-index-tsxhead.js\"],\"component---src-templates-blog-post-tsxhead\":[\"/component---src-templates-blog-post-tsxhead.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="986361c34f8356472fe5";</script><!-- slice-end id="_gatsby-scripts-1" --></body></html>