{"version":3,"file":"component---src-pages-visitor-log-tsx-a6706d68bfd69a7b3a82.js","mappings":"qNAiHA,UA5DmBA,IAAwC,IAAvC,KAAEC,EAAI,SAAEC,GAA0B,EACpD,MAAMC,EAAQ,QACRC,EAAO,OACPC,EAAY,QACZC,EAAW,YACX,EAACC,EAAQ,EAAEC,IAAeC,EAAAA,EAAAA,UAASN,GA2BzC,OA1BAO,EAAAA,EAAAA,YAAU,KACJC,OAAOC,WAAW,gCAAgCC,QAEpDL,EACEG,OAAOG,aAAaC,QAAQV,KAAeC,EAAWH,EAAQC,GAIhEI,EACEG,OAAOG,aAAaC,QAAQV,KAAeC,EAAWF,EAAOD,EAEjE,GACC,KAEHO,EAAAA,EAAAA,YAAU,KACR,MAAMM,EAAmBC,IACnBA,EAAMC,MAAQb,GAChBG,GAAYW,GAASA,IAASf,EAAOD,EAAQC,GAC/C,EAGF,OADAO,OAAOS,iBAAiB,UAAWJ,GAC5B,KACLL,OAAOU,oBAAoB,UAAWL,EAAgB,CACvD,GACA,IAGDM,EAAAA,cAACC,EAAAA,EAAM,CAACrB,SAAUA,GAChBoB,EAAAA,cAAAA,MAAAA,CAAKE,UAAU,OACbF,EAAAA,cAAAA,IAAAA,KACEA,EAAAA,cAAAA,KAAAA,MAAM,kBAIVA,EAAAA,cAACG,EAAAA,EAAM,CACLC,IAAI,+BACJC,KAAK,yBACLC,OAAO,eACPC,SAAS,gBACTC,WAAW,uBACXC,QAAQ,WACRC,OAAO,IACPC,iBAAiB,IACjBC,aAAa,IACbC,cAAc,MACdC,MAAO7B,EACP8B,KAAK,KACLC,YAAY,YACZC,OAAK,IAEA,EAWN,MAAMC,EAAO,IAClBlB,EAAAA,cAACmB,EAAAA,EAAG,CAACC,MAAM,eAAeC,YAAY,GAAGC,SAAU,M","sources":["webpack://gatsby-starter-blog/./src/pages/visitor-log.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Link, graphql } from \"gatsby\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Bio from \"../components/Bio\";\nimport Layout from \"../components/Layout\";\nimport Seo from \"../components/seo\";\nimport { FC } from \"react\";\nimport Giscus from \"@giscus/react\";\n\ninterface SiteMetadata {\n  title: string;\n}\n\ninterface Frontmatter {\n  date: string;\n  title: string;\n  description: string;\n  tag: string[];\n}\n\ninterface Fields {\n  slug: string;\n}\n\ninterface MarkdownRemarkNode {\n  excerpt: string;\n  fields: Fields;\n  frontmatter: Frontmatter;\n}\n\ninterface TagNode {\n  fieldValue: string;\n  totalCount: number;\n}\n\nexport interface PageQueryData {\n  site: {\n    siteMetadata: SiteMetadata;\n  };\n  allMarkdownRemark: {\n    nodes: MarkdownRemarkNode[];\n  };\n  tags: {\n    group: TagNode[];\n  };\n}\n\ninterface ComponentProps {\n  data: PageQueryData;\n  location: any;\n}\n\nconst VisitorLog = ({ data, location }: ComponentProps) => {\n  const LIGHT = \"light\";\n  const DARK = \"dark\";\n  const KEY_THEME = \"theme\";\n  const REVERSED = \"reversed\";\n  const [curTheme, setCurTheme] = useState(LIGHT);\n  useEffect(() => {\n    if (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\n      //시스템 설정이 다크임\n      setCurTheme(\n        window.localStorage.getItem(KEY_THEME) === REVERSED ? LIGHT : DARK\n      ); //뒤집혔으면 라이트로 ㄱㄱ\n    } else {\n      //시스템 설정이 라이트임\n      setCurTheme(\n        window.localStorage.getItem(KEY_THEME) === REVERSED ? DARK : LIGHT\n      ); //뒤집혔으면 다크로 ㄱㄱ\n    }\n  }, []);\n\n  useEffect(() => {\n    const storageListener = (event: StorageEvent) => {\n      if (event.key === KEY_THEME) {\n        setCurTheme(prev => (prev === DARK ? LIGHT : DARK));\n      }\n    };\n    window.addEventListener(\"storage\", storageListener);\n    return () => {\n      window.removeEventListener(\"storage\", storageListener);\n    };\n  }, []);\n\n  return (\n    <Layout location={location}>\n      <div className=\"bio\">\n        <p>\n          <br />\n          📖✍️방명록입니다~💬\n        </p>\n      </div>\n      <Giscus\n        src=\"https://giscus.app/client.js\"\n        repo=\"sungpaks/blog-comments\"\n        repoId=\"R_kgDOLARSPg\"\n        category=\"Announcements\"\n        categoryId=\"DIC_kwDOLARSPs4CcKJh\"\n        mapping=\"pathname\"\n        strict=\"0\"\n        reactionsEnabled=\"1\"\n        emitMetadata=\"0\"\n        inputPosition=\"top\"\n        theme={curTheme}\n        lang=\"ko\"\n        crossorigin=\"anonymous\"\n        async\n      ></Giscus>\n    </Layout>\n  );\n};\n\nexport default VisitorLog;\n\n/**\n * Head export to define metadata for the page\n *\n * See: https://www.gatsbyjs.com/docs/reference/built-in-components/gatsby-head/\n */\nexport const Head = () => (\n  <Seo title=\"visitors log\" description=\"\" children={null} />\n);\n"],"names":["_ref","data","location","LIGHT","DARK","KEY_THEME","REVERSED","curTheme","setCurTheme","useState","useEffect","window","matchMedia","matches","localStorage","getItem","storageListener","event","key","prev","addEventListener","removeEventListener","React","Layout","className","Giscus","src","repo","repoId","category","categoryId","mapping","strict","reactionsEnabled","emitMetadata","inputPosition","theme","lang","crossorigin","async","Head","Seo","title","description","children"],"sourceRoot":""}