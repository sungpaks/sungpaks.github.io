{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/render-props-and-dynamic-key-and-debouncing/","result":{"data":{"site":{"siteMetadata":{"title":"조성개발실록"}},"markdownRemark":{"id":"4553831a-fd39-5ee8-8979-b2d228341513","excerpt":"이번 시간에는 Render Props에 대해 알아보고 key를 동적으로 넣는 방법도 알아보고 Debouncing으로 사용자 경험을 높이는 법도 알아봅시다. 그리고 이 세 트리오를 짬뽕해서 검색창 구현해보려구요. 실제 구현할 때는 TypeScript…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 594px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9b008c8a6d587b24c70bdd5ef6ef0ac5/5fd3e/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 113.29113924050634%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAD2klEQVR42iWU2Su0YRjGnz9BiSbJAVmaFCllQvkHjJIhceJEoiyTKQeTlCyTIxoJIUpEsu9ZhvHN2Pd9HevYl8HY4vvNvO/B0/ss93Vd93XfzyMODw+TkpJSU1NTUlJycnI2Nzf39vZmZ2eLi4tramra2tq6urpaWlrq6+trnV9zc3N7ezvT8vJywZ5Sqdza2lpeXuaf4I2NjdXV1YaGBrBGRkZsNhtYoJydnb2+vq6vr/O/vb09PDws5ufn+/r6bm9vd3Z22D44OCD45OTk8fFRq9XC//7+zhSBrPz9/XV0dMB8fX398fEhrFbr09MTMZOTk0dHRzc3N3a7ncXLy8uLiwtWGhsb397eYOvs7Ly7uxsbG+MMBPf39+Lq6spsNvf397O9v78PECoA1ul06enpJBkUFJSZmenl5QU6MgMCAtLS0mJiYubm5gRJnp6e6vX6oqIik8lEGIRYoFAo5HJ5fHy8q6urm5ubi4tLZWUlyoEDt7q6emBgQIyOjkoG7O7urq2tYTXpMYVQpVIlJiYS6efn5+HhERISAq7BYMCLnp4ekhcUiQmS4EQCEDMzM4zIy8rKgtnd3d3HxwfZQIDb2tqam5vb3d1dVlYmqBjFOD4+xuqpqamlpSVocZ6jGRkZcXFxUrCnpydZAFpVVaVWq0tLS/Pz80VTUxOWTk9Pr6ysIIYyPDw8LCws+Pv7FxYWYgyyvb29GWNjY8EdHBwkO5wjWfHP+VEPnKOeWE2RcC4iIgLlvr6+MpkMWgyjl0AnmEKin+QFjYVIqgXExMQELfHy8kLNsCo4ODgyMjI0NDQ8PDwsLCwwMJDicRKl9Bw5CtrD6vxI22KxMGI4P6QHPCPQrKBLqgiRQPMDq0M2GwSTJ4coBlOj0UgkEnCRZmCFKQ1PR9FtpMZhQB3B9BpLz8/P2E5vnp+f4x97X19fxBPASNsQgJe0N2cAZV2ggY7FBnL4+fn5/v7GMPxkfWhoCEu5PcSQHaD0M0I4THaQCdiQodFouIBUa3FxEYUIoW3oMAoWFRVFV0iCkVlXV1dQUEB1+HcEg0oM25BER0dzYz8/P6UORzyLVBgL4aeWpIA6fhz3GTEQcumxkRESmLmrtCoK0Tk+Ps41AJr+RSNMFueHBQJOILmJxPBQcGlB5Rw5sw4/VGTILipwBzIiOUmpBdXDIeZMuHH0Nm4RAwTrEGIsRaKwnCFH3MJFFDnqzLvFS8BpyH9/f0mht7eXu8obRhjiYaYrOVZSUiIRSId5FUVycjKrIEnAPAkVFRV5eXl0MsG8OEhLSEjIzs7mhvOkkQIqyE6hUPwHHU7cjdhWXT0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"리액트 검색창 삼형제\"\n        title=\"\"\n        src=\"/static/9b008c8a6d587b24c70bdd5ef6ef0ac5/5fd3e/image-1.png\"\n        srcset=\"/static/9b008c8a6d587b24c70bdd5ef6ef0ac5/c26ae/image-1.png 158w,\n/static/9b008c8a6d587b24c70bdd5ef6ef0ac5/6bdcf/image-1.png 315w,\n/static/9b008c8a6d587b24c70bdd5ef6ef0ac5/5fd3e/image-1.png 594w\"\n        sizes=\"(max-width: 594px) 100vw, 594px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이번 시간에는 Render Props에 대해 알아보고<br>\nkey를 동적으로 넣는 방법도 알아보고<br>\nDebouncing으로 사용자 경험을 높이는 법도 알아봅시다.<br>\n그리고 이 세 트리오를 짬뽕해서 검색창 구현해보려구요.<br>\n실제 구현할 때는 TypeScript도 좀 사용하면서 해보겠습니다</p>\n<h1 id=\"이론-먼저\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%A1%A0-%EB%A8%BC%EC%A0%80\" aria-label=\"이론 먼저 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이론 먼저.</h1>\n<h2 id=\"render-props\" style=\"position:relative;\"><a href=\"#render-props\" aria-label=\"render props permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Render Props</h2>\n<p>Render props라는 리액트 패턴, 또는 테크닉, 을 활용하여 유연한 재사용 컴포넌트를 만들어볼 수 있습니다.<br>\nJSX를 반환하는, 즉 <strong>Render할 수 있는 함수를 props로 전달</strong>하는 것입니다.<br>\nprops로 뭐든 되긴 하는데, 보통 <code class=\"language-text\">children</code>으로 넘긴다네요</p>\n<p>만약 \"검색 가능한 리스트\" 컴포넌트를 만들고, 여기서 검색 로직을 작성한다고 해봅시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">SearchableList</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> items <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>searchTerm<span class=\"token punctuation\">,</span> setSearchTerm<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> searchResults <span class=\"token operator\">=</span> <span class=\"token comment\">// 대충 searchTerm으로부터 items 필터링</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">handleChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setSearchTerm</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handleChange<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>searchResults<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>description<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이렇게 할까요?<br>\n근데 이건.. 목록 컴포넌트를 렌더링하는게 너무 특정 item에 치중되어 있네요<br>\n그렇다고 목록에서 <code class=\"language-text\">&lt;SomeItem item={item}/></code>이라고 쓰기도 못미덥습니다. 이것도 결국 특정 Item에 국한되어있죠,<br>\n<code class=\"language-text\">&lt;AnotherItem item={item}></code>을 렌더링하고 싶으면 어떡하지? 싶습니다.<br>\n저는 지금 여기서, <em>무슨 item이든 상관 없이 검색과 검색된 결과 리스트를 제공하는 재사용 컴포넌트</em>를 작성하고 싶은건데..</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4da492dca87414a73a435f998bfd1d7a/5a190/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.75949367088608%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACw0lEQVR42g3OaW/SYAAA4P4BdeNuy9FSWtrSvm1fKHQcpVDKjTuZAtvYJMu2zC1q5jTGeeB9RE2MTiVei+cXY7KZTH+AftaYGP+NJs8PeJCqpUzUU4/vXfjw4k69kqVJeyPPGGmGIl0k5qT9HgJ30xShxmIo6nS7HXaHbdg27HQMBdw2xEgLY8XY6+3+92+vFucmFM45UwlWS9EQ5RVILBLEcyNA4kOphEp4XTjqDKCuAOpAXTaFRJGCDvO6OjVlHm2XraLqJx0R0cNLFEOhXBDjSUzkCJ4hEiokcBdH4F6P3e+xHxo+qNA+JK9LANKi5G+XYVgKBIE/IPpIASdZD4bbCNzhx+2AIRWRJ3GHypIu+6G0wtD/UwSKiEqIUyhNU7Z65YrVEGKKIGOMQgRYLBTyHi2rmuhTeTLCBAnMrtJep+1AezQNJUbwuxBG8oUllheTmWxrbuFmoXGia+grSVI3QameMNOSKBBRQAHaHfbaQBCNsKRI45TPCSgcgQkqyLIRUK41TzVnb+erW4ZWO9dK3X23e2VnL1nU5FRI1lhNlQTKI3mHVM63MaNfXCrTmAMZLwmLM/V6t3fz/aezD58Xx6bKFbC5fvjzj9+P93+ubc5NNmIsCCvqyEQOvrlQfXvS7HfMBwt6JowjtVx4fzD67OOD80//bmy/Nap8oxMv6cT9a/PLZ1tWMd6ZsLREguPo/q0zg71fV55sD1atzTKYjgeQqOS7uqIurhl3dvq7g/UU8B2uRednreWlqmaK0TSEIzBjJmFcPH330qMvfy6/fLO3kT03qVkqimgVrjQKBSskJV1fb0xvHa+sLem9Zio3KWa7cm5GznbkTBtkjoB8C6xeH189UShAcqnA17IUkpoWjDa0ZmNGJzrajY331FRbyraAMavk56G58J+S68r5ebl0DBrNcLMLzWlZSmCJEfofCGS4T3tj5ncAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"뻣뻣\"\n        title=\"\"\n        src=\"/static/4da492dca87414a73a435f998bfd1d7a/f058b/image.png\"\n        srcset=\"/static/4da492dca87414a73a435f998bfd1d7a/c26ae/image.png 158w,\n/static/4da492dca87414a73a435f998bfd1d7a/6bdcf/image.png 315w,\n/static/4da492dca87414a73a435f998bfd1d7a/f058b/image.png 630w,\n/static/4da492dca87414a73a435f998bfd1d7a/5a190/image.png 800w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이 때, Render Props를 이용해볼 수 있습니다.<br>\n<code class=\"language-text\">children</code> prop으로 Render가능한 JSX를 반환하는 함수를 받아오고,<br>\n단순히 <code class=\"language-text\">&lt;li>{children(item)}&lt;/li></code>처럼 쓰면 되겠습니다. 아래처럼</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">SearchableList</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> items<span class=\"token punctuation\">,</span> children <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>searchTerm<span class=\"token punctuation\">,</span> setSearchTerm<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> searchResults <span class=\"token operator\">=</span> <span class=\"token comment\">// 대충 searchTerm으로부터 items 필터링</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">handleChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setSearchTerm</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handleChange<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>searchResults<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span><span class=\"token function\">children</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>그럼 이 <code class=\"language-text\">SearchableList</code>라는 Wrapper컴포넌트를 쓰는 입장에서는,</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SearchableList</span></span> <span class=\"token attr-name\">items</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">PLACES</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Place</span></span> <span class=\"token attr-name\">item</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">SearchableList</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>이렇게 쓰면 되곘어요. item을 인자로 받기로 했으니까, 이걸 받고 해당하는 렌더링 컴포넌트를 반환합니다.<br>\n지금은 \"장소\"에 대한 개별 리스트아이템을 써먹은건데,<br>\n\"게시글\"처럼 다른 것을 검색하고 싶은 경우 저 <code class=\"language-text\">&lt;Place></code>자리를 그냥,<br>\n그 다른 item에 맞는 컴포넌트로 대체하면 됩니다. 예를 들면 <code class=\"language-text\">&lt;PostItem></code>처럼요.<br>\n그리고 인자인 <code class=\"language-text\">item</code>을 받아서 뭔가 하고싶으면, 로직을 추가해도 되겠죠?<br>\n결국엔 Render만 될 수 있게 jsx를 반환하는 함수이기만 하면 됩니다.</p>\n<p>이처럼, <code class=\"language-text\">&lt;SearchableList></code>의 책임은 item의 리스트를 검색하여 제한하는 로직, 딱 거기까지만 가져가고,<br>\nitem 각 항목을 예쁘게 UI에 담아내는 Rendering 책임은 추상화하여 <code class=\"language-text\">&lt;SearchableList></code>를 사용하는 주체에게 떠넘깁니다.<br>\n이렇게 하여 꽤나 강력하고 유연한 검색용 재사용 컴포넌트를 만들었어요</p>\n<h2 id=\"동적으로-key-처리하기\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%A0%81%EC%9C%BC%EB%A1%9C-key-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0\" aria-label=\"동적으로 key 처리하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>동적으로 key 처리하기</h2>\n<p>아시다시피 <code class=\"language-text\">map()</code>에서처럼 목록으로 컴포넌트들을 찍어내는 경우, <code class=\"language-text\">key</code> props를 무조건 넣어줘야 하죠?<br>\n근데 위에서 쓴 코드에서는, 대충 <code class=\"language-text\">item</code>이라고 퉁치고 있는게 좀 맘에 들지 않습니다.<br>\n<code class=\"language-text\">id</code> 프로퍼티가 있다면 <code class=\"language-text\">item.id</code>로, 어떤 경우에는 <code class=\"language-text\">item.title</code>로, ...<br>\n<code class=\"language-text\">&lt;SearchableList></code>를 사용하려는 객체가 뭐냐에 따라서 <code class=\"language-text\">key</code>로 뭘 쓸지 알 수가 없습니다.</p>\n<p>Render Props에서 한 것과 꽤 비슷하게 이걸 처리할 수 있어요. 저만 비슷하다고 느끼는지는 모르겠으나..<br>\n<strong>item을 받아 key를 반환하는 콜백함수</strong>를 props로 넘겨주면 됩니다.<br>\n예를 들어, props로 <code class=\"language-text\">itemKeyFn</code>을 받아와서, <code class=\"language-text\">key={itemKeyFn(item)}</code> 이렇게 쓰면 되겠죠?</p>\n<p>그러면 <code class=\"language-text\">&lt;SearchableList></code>를 사용할 적에는</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SearchableList</span></span> <span class=\"token attr-name\">itemKeyFn</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Place</span></span> <span class=\"token attr-name\">item</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">SearchableList</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>이렇게 쓰면 되겠어요<br>\n이러면 <code class=\"language-text\">&lt;SearchableList></code>를 사용하는 객체를 위해 확장될 수 있는 셈입니다</p>\n<h2 id=\"debouncing\" style=\"position:relative;\"><a href=\"#debouncing\" aria-label=\"debouncing permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Debouncing</h2>\n<p>지금 저 검색 컴포넌트는 매 key stroke를 렌더링에 반영합니다.<br>\n당연히 상태값인 <code class=\"language-text\">searchTerm</code>이 수정되면, 파생상태인 <code class=\"language-text\">searchResults</code>도 업데이트되고,<br>\n바뀐 <code class=\"language-text\">searchResult</code>에 따른 리스트를 UI에 반영하게 됩니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 235px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/60dfd5d11bde59986d24cbed8bde0880/6783b/image-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEOUlEQVR42j2TyU9bZxTF3z9RFREMNraxmQdDTSAEEghg6oIHbDMEzPM82++zjQee5xmX0XiGVwYlVhpKGcoQAgXRAGkbRc2iiw7ZVO2um6qLbvu6qfTTXVydo3ukowvRKQQqqZhaVkwpLaIQihorySrBx4kZXdYPMh5TBtVnPFqcpEu94tHgm6zHlPMi+Ey7DBCdRKL9B5FaVkYllpIIxY00skbITrlNWR+S8yCrfoAFrVhoGgtZ1gK483+zESKXlVKJRBzcTy/HIdGJZbyejqABxoKWtMcYRWBUJjA/ZtunuDEgzvmRvBe/b0ihWqixnEIjECqJJGpJKaWEUF5cQi8j8ns6AwY44zVaYC6ns6mF8mET6YNmctHDpkrd2NCSQ5Xz69MeDbQkFRvZjxyjgsDUiJn/CaupZqC1ST7Mnrdp7BL+0H0Go/wOg0xoriC21lYw6ypba+lTg71xuzzvR6AXfvPNoudm0f1DLnIWAVn1yKfqkSSqXXRoFNzejrqKevIdBp3cUk1j1lUx66tqqaR79dUWMW/Vh0BfudSv5uxvM77vVtwXUcuex1BwGz5zaUNK0WT/vbs1lAYqiVlNe9BY39fS3NfCaKuktdIoKn5vxqWHzkKmixg4DRl2nPL9GcVzu2J9WhEXc4ysds5HVa2V5N6mBuXAQ5+Ik9TAOZPMIxwcf8A0T7Dx/qCzKDiPgi3T2CYY39CJ9rw6bFo+Kx6yc7tHOxl8Zr2Nx9p26K4i1ls84DJ67tPnzXDCrsrjsXcc0oJ5AtMLCzbJM4v4IGBas8rCMMc61I0OD8TGBrd0k9/EbL9szP+4Gr2dtV2FwS6u8erwqqE17eiyhJNS8D53yk/84DBozZkl/okhY3/HslS0bZXtOxT7TtllGBy7tWmYm5JwMYs061an3XroqpBYBpM7fuQkbH0Zmt71IgvqUQe/X93FCAtZBQR+GTR9HTEfu9RrsmFvX1dcMJAE4pRLlZhRQmGjFBWzs8bJ86jzYs6dNUzMCB6pe+7qetoCwyxMJbqet18v2L9fnDm0K49tuidAlnJIki5lwqaCWijUsEo8C/MuYjNHEVsaiP3iQcDuFLc3IKyO2Dhr3626nrddxcxHbs2aRpADE0tWOIVqlqZV0GrE+yIz94UbuYyjzz36J0HDrHZ0mtcN3290iNgpILlIB349wF7nQisqvovbPg8PLgMJ/l4plw56d/TsLD93lQwfBJDDOQfm1QRkQlVvG6emXFBVPjvO/3Yr/c+fP//x9vQ44V2Q8PPax4UQyHh11pF+aC8RPl70nSx4F7WTS0COTgxhqHHdY92fj286rRERLywcXkORDR/Yi6PbfvB6feH97e5W3AGGWVDOrLxcCMalIsDpU/R1TbUxopMjSb3mLJm63tp4tYF9GQ09dTs3UQtm1/90Wvj7/c1fv735/d3Vm8On/wJnANVARQmidQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"정신없는 짤\"\n        title=\"\"\n        src=\"/static/60dfd5d11bde59986d24cbed8bde0880/6783b/image-2.png\"\n        srcset=\"/static/60dfd5d11bde59986d24cbed8bde0880/c26ae/image-2.png 158w,\n/static/60dfd5d11bde59986d24cbed8bde0880/6783b/image-2.png 235w\"\n        sizes=\"(max-width: 235px) 100vw, 235px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>아.. 그러면 타자를 칠 때마다 렌더링이 마구마구 일어나고, 아주 정신이 사나운 사태가 벌어지고 말아요<br>\n검색 결과를 보여줄 때 조금 여유를 가지고 보여줘야겠습니다..</p>\n<p>그래서 뭘 할거냐면, 검색창 입력값이 바뀌어도, 임의의 시간(500ms정도?)을 기다리겠습니다.<br>\n500ms가 지나는 동안 새로운 입력이 없으면, 사용자가 결과를 원하는 것으로 간주하고, 검색을 진행합니다.<br>\n500ms가 지나기 전에 새로운 입력이 들어오면, 다시 새로운 500ms를 시작합니다.<br>\n이를 구현하려면 아래처럼 합니다 :</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> lastChange <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">handleChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>lastChange<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>lastChange<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  lastChange<span class=\"token punctuation\">.</span>current <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    lastChange<span class=\"token punctuation\">.</span>current <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setSearchTerm</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol>\n<li>500ms 뒤에 입력값이 상태에 반영되도록 예약(하고, <code class=\"language-text\">lastChange</code> 참조로 이 예약 타이머를 갖고 있기)</li>\n<li>예약이 걸려있는데 handleChange가 다시 호출된 경우(<code class=\"language-text\">if(lastChange.current)</code>), 이전 예약을 취소하고 다시 새로 예약</li>\n<li>이 때, 예약의 콜백에서 <code class=\"language-text\">lastChange.current=null</code>로 이제 예약이 비었음을 나타내줘야 합니다.</li>\n</ol>\n<p>이렇게 하면, 사용자가 마구마구 타자를 칠 때는 잠시 여유를 갖고 기다립니다.<br>\n사용자가 입력을 좀 쉴 때, 그 때가 되어서야 검색 결과를 보여줘요.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5e3f9bbd6dc0a7903073e9ee3668f37f/3684f/image-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 99.36708860759494%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEv0lEQVR42j2U2VNTBxSH73/RmT60Mx3sqEgCZAMSIZDlJjdkD5JFspAQEiABAhFMZAmYEMCIwbCI0Iq0LBEIaEFAARHjRhnoULTt1AeXWi1W2wKCSe69vfahM9+cmTNzvvmd83IA2pEvMNJxcfTELzOTDjKJh0BKPJSCE9IIEjpFnJWSw6YpIbqGz9QKwHwJVyfl6iSQRgwpszlAFiYkH2IRDn+EGA+Sj3BS8dy0ZDY5gUtNFmamSBhpMvbRXHa6ksvQiiCdhKcVQxoRlMfnACzCEZCEA8kYCWAKnkcjZFMJ2RS8Xc23KIUSBlXKSMsF0+XcDFU2Q43JUqFeJsiXCbUSPsAiJrBICWxSAoeC41GTMcA0cr/X/vreV8Mtlj5XiV7I5mekyrnMPAG2LV8nExcoZIXKHJNcCjCJOBYJxybj2ZREFhkvpqd6TtV1XfzGrD7WWZr7x9LA6NmTxXKREmJKWPQ8UbYhV1agkBtVCqMqB4DSsDQiBj+dzE7FOyyGhYVw07k+BZQ13lj4+3TP6nDzzb76h2P+ntP2Eq1GIxFrZSK1VKwSZgOZSUlH8XgaITGdkAzSUpQi3omaBlPecQuP0mySBmuLL9YWV+g1Qy1Vd8a7p2bvehp8TntVtc1uL7cB7qb2q1Ozk9euz8/fCU1cFXBZJpP1u4nQab24y6q82li6NjP89M93/u5evc7aErj04uXrrfd7G//sbO7uAbdXfkJRNBqNYXVzcwOC2FZrdaCtVctnVeVwAkWK65NXegeCztqmkw730vJ9bOwtgmygyI8oAizce4z1e3t7WA2FroBsTqHZ3uptU6s0BfKcc65ad2CwpNJddqJ+fn4Zm0FgeCsWW4vBazAM3Fj5+f/kh6sPOFxuns7i8rbX1TcbzfbA5TFPd9D3dWh6cemjiSAoDL+OxdYReB1BgLkHH5OjkSiCon/vbBsN+mO52qKSCl/bRUtZTVXDufbL16ZWHm2jmBWLwjASg59/iKxHImuRKDB+54dd7Aw49mp/9y2K+Pw+kUCmzze4Glu6+69odBZn/ZmRxdVfdqMvd/Z/2/3wfOfDk+3I5l700X4UGFt68OzVr1NzoeW78+H7i8MjvRVlZq3WYCwo6ugb6hudPdsbnAivv0Ni/y2NwgjyBkFeoMgWjMm3v7+5ON7qccxdH+vp9AUHznecdRQaCspLK202Z8+3k4FLoWvhR88i6Jv3kZdbW0+3Xj35a/vd/j52LFDT4Gv3Nz8O+6cHHbNDdeu3vA6renVlYrDvVEtN8XTI19Ph7u9t8/sDowNnVpe7RkY8wQFveGmw3esBcJ99Yjcd3Vi2XagHZ8ctNwaU1lzaQr+po1oY7CoaqeP3elThmZrmYrDTo7o1eSIY0M8ErWOdWrtBBTCp5MVR5203tZJ/4F5HZpv8kA6i2AQEDUh1W0QGkHHByWk1UdXMVJNKdKnJ7Dqe1FOeVKeMb2lyAYxUnM0gFRIPcEiHZSlxPFK8mMvUHNcbzWU2W42zrrXWWesos+nkMgWf6aosEtOJ0iyKgMlwlhsB0uHPcXGfknBxaYkHaYR4Fi1Zwswwa/MqbNVlpVVOR6Pbe74pcLnUYhFkYI+FooDo9Ay6SMTzN9j+BfzrbXPY+6uHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"여유\"\n        title=\"\"\n        src=\"/static/5e3f9bbd6dc0a7903073e9ee3668f37f/3684f/image-3.png\"\n        srcset=\"/static/5e3f9bbd6dc0a7903073e9ee3668f37f/c26ae/image-3.png 158w,\n/static/5e3f9bbd6dc0a7903073e9ee3668f37f/3684f/image-3.png 225w\"\n        sizes=\"(max-width: 225px) 100vw, 225px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h1 id=\"typescript와-함께-직접-구현하기\" style=\"position:relative;\"><a href=\"#typescript%EC%99%80-%ED%95%A8%EA%BB%98-%EC%A7%81%EC%A0%91-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0\" aria-label=\"typescript와 함께 직접 구현하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TypeScript와 함께 직접 구현하기</h1>\n<p>아래는 제가 진짜 최근 프로젝트에 써놓은 코드입니다<br>\n여담으로 이 프로젝트는 최근 꽤나 급하게 작업할 일이 있었어서<br>\n기술 부채는 늘어만 가는데.. 여기에 스파게티를 토핑으로 추가하는 그 기분이 매우 죄책감들었습니다</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d83d2cdd9fc8ad607e2075411699b5b9/0a47e/image-5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzklEQVR42n2Sy8qpcRTG3YwrcQcmolwBpkQGykTKUMaUgQxMhESkRFKInG1nOed8tu0f79fbt2vvbw3e1rvWep611rP+kte/7Hw+T6fT5XK5WCzm8/n1eiV4uVy22+3xeDydTs/nk4hEqP79MRwh2uv1fn2sXq+PRqNmswkdzmQywceZzWZfYBEp4mu12mAwoHQ8HuMwAt0qlQrIfD7Pt91u3+93iQAYDof843Q6nXK5HI/HoViv12BE0tVqRRlb0Hmz2Xx1ZiStVuv1eulQrVZ9Ph89GTgSiRwOh91uJ+IpSKVS+/1eWPYNdrlcarU6GAzSvNvtsmomk9HpdCaTSalUQtrv9ykDJpPJFAqF0+mE5Q2mrUajsdlsgIUhH4+H3+83m82AjUZjNpvN5XIsolKppFKpw+FIJBIs/AYzj8ViMRgM0WiUbQmRCAQCdrs9HA6j6u12KxaLer3e4/HI5XKr1SqoA/A9NicFyZ5QckauWigUmD+ZTDYaDeIo7Ha7UT6dTkNXKpXw350hRnp2oJrzEkJMZEP2UCgUi8WQjRFQvtVq8aUAiKCf5Pt5BYedDx/jSaEC2gop0cSH+NcL+574bv9LSX6o/pnx9Xr9AVk6rox4c4rqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"기술부채..\"\n        title=\"\"\n        src=\"/static/d83d2cdd9fc8ad607e2075411699b5b9/0a47e/image-5.png\"\n        srcset=\"/static/d83d2cdd9fc8ad607e2075411699b5b9/c26ae/image-5.png 158w,\n/static/d83d2cdd9fc8ad607e2075411699b5b9/6bdcf/image-5.png 315w,\n/static/d83d2cdd9fc8ad607e2075411699b5b9/0a47e/image-5.png 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Box</span></span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">[</span><span class=\"token string\">\"scenario-list\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span>scenarios<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Box</span></span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">.</span>card<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>profileImage<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\n            <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">[</span><span class=\"token string\">\"start-button\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">handleClickStart</span><span class=\"token punctuation\">(</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            시작하기\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Box</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Box</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>이런.. 살짝 끔찍?한, \"시나리오 리스트\" 컴포넌트가 있었습니다.<br>\n컴포넌트 분리도 안 되어있고, 검색 기능도 사실은 아직 만들지 않았었어요<br>\n데이터는 가짜 객체 배열이라, 나중에 바뀔 가능성이 있어 <code class=\"language-text\">any</code>타입으로 뒀습니다</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/307c2f54cb1e5de1c45dfdd61b025beb/a2b88/image-4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 109.49367088607596%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAADr0lEQVR42oVUS2/dVBC2r5/n4XNsHz+u7fhxH7klpMlNmmdTSCgEEK2ogCZBaaDcotKoAgnYAJsuKBsWVGwQEhvEkgULVkiIDSu2/CU++0KFuqk1smbmzJyZ+WbmaIMym1NTZsMqL7MkVX4Wh1uXVvd2Nq7u721tTGsYVPmgyjpqmaaz1zqfbFTl8Bw3RZWneRJGPo8Dr0jDVImm7I+bhXEDg35rWRfD1j/vnBeSvuJR0FLc/SOfBZ4L8jsKJVU+Uz4NJQkFaXlJyzRAfK3MlGOZjPHHn+PY2tM+6bnIQqvzCHcL7kpOQB5zOLGZa3Fqe9SBiD80grkesxmxwXPqZIk/rHOtLpJB2RYzaOvJUyVh7XsETF2koyqrilR6TEoeBkIKJgWVwqsWAEGhDcpkWKWjOgMk40EBpq+E8nkgeRzCPxnXWZ3HglPh0VjJJJK4Po18oKstJEIFLAqY5LbPHe4agSCInAQUARPlJSFLQo5TahvE1jkxAZ6SblMoDTUAANM0lpcmb7/1+t3ZGaUuNNS1fMEEJ4ahQ1wc1YdX99+9dbK9uQaxp+tpJDTBHAgHV7Y++mC2tjr9+68/Pr4/gwbYwBkQ6rre62nn75/euzP78/dff/7pO5xCmSihAR4IG9OLZ8dv3nvv9Ldffjyfnc4jo2zfo+CLTL12+HxZjB4++OLbr7+0DQvKREkNLQGnAvHGtVdmt05+ePRwc7r0OG0UD96xjNtH186OTx58/sntoxt61+o28rxmo6ejK/s76ztrS45tQkMcE4AJRgwkrWnPTppP779z4+XLeSTbtOeRMQ+0my+vJUoIkVJSyv515qQHcLpYlmW6jtMV/J8zJ5YJtWnZtmMYlmXZjuOCaZ05lZ3zfCR7Bj5zzuvztFEbI9bqOFq/0N9dbS4t5dPFOBSubRkYBkwlnMdlsD5Jt1cqGKxfSCdViOAw6mrjzu7FfG9avbA9eW69ubxSYDAss4ecRdeq5WG0t1IcbI4OthZxujKKkY0KOPpsz/v2xN6gHCwAFsY2e//Xt4a6Zvb0OPS0fhygTx4AavGw2x3weEcMu0lch7g2o24725xy6jLiwgxMEgVaFvt4AEKJYWqXDisBTT+SCRbfsXFpKCgeFojttggKEc3Hs5EloaYEbkJMAxlGgYdpRZ7QADOkjSXxqO1iJRwzj/0qizC2MAbGCNDOcNuGnnHz+uFLV3a/f/TV8jOjbsJM6rarb3Stunn9xbvHr37z2fmHd446ez0Q7B+oGnKvkczNGwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"예시\"\n        title=\"\"\n        src=\"/static/307c2f54cb1e5de1c45dfdd61b025beb/f058b/image-4.png\"\n        srcset=\"/static/307c2f54cb1e5de1c45dfdd61b025beb/c26ae/image-4.png 158w,\n/static/307c2f54cb1e5de1c45dfdd61b025beb/6bdcf/image-4.png 315w,\n/static/307c2f54cb1e5de1c45dfdd61b025beb/f058b/image-4.png 630w,\n/static/307c2f54cb1e5de1c45dfdd61b025beb/a2b88/image-4.png 908w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>검색창 컴포넌트까지 포함해서 이렇게 생긴 페이지였습니다.<br>\n여기다 검색 기능을 실제로 추가하고,<br>\n위에서 배운 것처럼 Render Props를 이용한 유연한 컴포넌트로 만들고 싶네요</p>\n<h2 id=\"먼저-searchablelist-컴포넌트를-만듭시다\" style=\"position:relative;\"><a href=\"#%EB%A8%BC%EC%A0%80-searchablelist-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A5%BC-%EB%A7%8C%EB%93%AD%EC%8B%9C%EB%8B%A4\" aria-label=\"먼저 searchablelist 컴포넌트를 만듭시다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>먼저 SearchableList 컴포넌트를 만듭시다.</h2>\n<p>아래와 같이 구현해줬습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">SearchableListProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token punctuation\">{</span>\n  items<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function-variable function\">keyFn</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>item<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function-variable function\">children</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>item<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> index<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token constant\">JSX</span><span class=\"token punctuation\">.</span>Element<span class=\"token punctuation\">;</span>\n  className<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  itemClassName<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">SearchableList</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  items<span class=\"token punctuation\">,</span>\n  keyFn<span class=\"token punctuation\">,</span>\n  children<span class=\"token punctuation\">,</span>\n  className<span class=\"token punctuation\">,</span>\n  itemClassName\n<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> SearchableListProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Box</span></span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>className<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>items<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Box</span></span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>itemClassName<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">keyFn</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token punctuation\">{</span><span class=\"token function\">children</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Box</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Box</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위에서 살펴본 Render Props 이론에 TypeScript만 더했을 뿐이예요<br>\nkey를 동적으로 뱉어줄 <code class=\"language-text\">keyFn</code>은 숫자든 문자열이든 상관은 없습니다<br>\n<code class=\"language-text\">children</code>은 render props를 사용할거라, 이를 위한 인자와 반환값을 강력하게 명시했습니다</p>\n<p>알고 계셨나요? 함수형 컴포넌트에서 타입을 <code class=\"language-text\">function FooComponent : React.FC</code>처럼 쓰면 <code class=\"language-text\">children</code>같은 특별 컴포넌트들을 이미 포함시킬 수 있습니다.<br>\n거기다 다른 props가 또 있다면 <code class=\"language-text\">React.FC&lt;FooPropsType></code>처럼 제네릭을 구체화하면 됩니다<br>\n근데 저는 그냥 저렇게 하는게 편하더라구여.. <code class=\"language-text\">React.FC&lt;></code>로 하려면 props를 구조분해할당으로 받아오는거 어떻게 하는지 모르겠어서..</p>\n<p>이제 각 item 항목들의 render를 담당할 친구를 대충 작성해줍니다.<br>\n저는 <code class=\"language-text\">item</code>과 기타 여러 props를 받는 <code class=\"language-text\">&lt;ScenarioListItem></code> 컴포넌트를 만들었어요.<br>\n사실 여러분 입장에서는 별 관심을 코드라서 여기에는 안 씁니다.</p>\n<p>이제 <code class=\"language-text\">&lt;SearchableList></code>를 이용하여 시나리오 리스트 검색 컴포넌트를 만들 일만 남았네요</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SearchableList</span></span> <span class=\"token attr-name\">items</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>scenarios<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">keyFn</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ScenarioListItem</span></span> <span class=\"token attr-name\">item</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">SearchableList</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>편하게 보시라고 안궁금하실 props 넣는 부분은 쳐냈습니다<br>\n아무튼 이렇게 사용해주면,<br>\n<code class=\"language-text\">&lt;SearchableList></code>에서 children을 render props로 사용할 때<br>\n<code class=\"language-text\">children(item, index)</code>처럼 썼으니, <code class=\"language-text\">{(item, index) => 컴포넌트를뱉기}</code> 이런 식으로 쓰게 됩니다</p>\n<p>여기까지 하면 컴포넌트의 분리와 추상화가 잘 마이그레이션되어서<br>\n원래의 리스트가 잘 출력됩니다.</p>\n<h2 id=\"검색-로직-추가\" style=\"position:relative;\"><a href=\"#%EA%B2%80%EC%83%89-%EB%A1%9C%EC%A7%81-%EC%B6%94%EA%B0%80\" aria-label=\"검색 로직 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>검색 로직 추가</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9f4b868fa5fe9e14decff1c5a4bc1613/5a46d/image-6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AIyaiJGsl5SgioOKetPUkNTajsvQjLCxbD46KBcTEjkwKMnOeOTogdzQjdLFhrq1gIeYcXaGfG2EdmiGZwC2yZa5z6S1s5GSpHbU4XPU3I29yIU4OCkDAwwQEhEAAgVwbl7s3pLItYLQupPPv5XIxYpwenqBhXWnpG4AjaJ/zM6VsbiLZ4Ryrrxst8l5v8iESUkzGBUcJR4hHhcWMC03lop8bGRcaGBaWlRMe3Znb2pnhHdsmIp2AG+Jd4CVeaTAfZ26dafCbqG2fbi0mI2BaDYuMk08O1VCP0E6PUE4OlBFRScjKBoaHh8eIionKSMiJSIhJgCdvGmFpVybuWSbtWWHnWSVl41xcX2WcHRgR0RDMzFGMzNaQ0NVQDlGOzg0MjMRFRcnJSQfHyAKCgscGBcAkMJ5bZ5uVYZoc6B9cKWSd5yNX1dVc1xcj2tleFZVhF1djmdgTD83QDUvNTc3FSEiKjEzGB4hFRkaMjEvAH7KqInWt3G7n3O1mEyOeU1vYlxNS29pZpuGfnVUUIJcV4htZXJoZExAOikwLxMfICs3OhAlJBYkIS4xMQB1tIVjoH0/dmA1YVIpUERea2eOh4qZl5+KeHpvUEZwTkVfU1diY3F3eYRUWl0YIiMqNTkNHh4dJyU6OTkAX5J4RHlfZohnVVZOU11dpKeirqWJgXlth4F5i3tkiXpigXxtjohvjYd1lZSXSFNXIzQ4DB4hGyUmOjs7AENyWkhvWHuOaVc9Mn9veJGIh4NUL3xoVIJnVnVdSYNmT35oU45kPY1iOYmCgWNmaTMyNCopKzIqLTszMgB8h3h1f3R5eXBcSEd7bnVveI9ZV2xaWWpbXW1aVmleW3BWWG5WWGthZXmFhpNkU1I3KygvKCkwJyYwJyf0dAbvUxU8JwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"검색한번해봐\"\n        title=\"\"\n        src=\"/static/9f4b868fa5fe9e14decff1c5a4bc1613/5a46d/image-6.png\"\n        srcset=\"/static/9f4b868fa5fe9e14decff1c5a4bc1613/c26ae/image-6.png 158w,\n/static/9f4b868fa5fe9e14decff1c5a4bc1613/5a46d/image-6.png 300w\"\n        sizes=\"(max-width: 300px) 100vw, 300px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이제 진짜 검색이 되게 해봅시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>inputClassName<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>검색어를 입력해주세요.<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Box</span></span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>className<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token punctuation\">{</span>items<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Box</span></span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>itemClassName<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">keyFn</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span><span class=\"token function\">children</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Box</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Box</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>원래 <code class=\"language-text\">&lt;SearchableList></code> 와 같은 레벨에 있던 input을<br>\nSearchableList.tsx 안쪽으로 병합합니다.<br>\n이제 기능을 만들어요</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>searchTerm<span class=\"token punctuation\">,</span> setSearchTerm<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> lastChange <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useRef</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> resultItems <span class=\"token operator\">=</span> items<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>item<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>searchTerm<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">handleInputChange</span><span class=\"token punctuation\">(</span>event<span class=\"token operator\">:</span> ChangeEvent<span class=\"token operator\">&lt;</span>HTMLInputElement<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>lastChange<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>lastChange<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  lastChange<span class=\"token punctuation\">.</span>current <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    lastChange<span class=\"token punctuation\">.</span>current <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setSearchTerm</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>검색 거르는 로직은 대충 미니멀하게 GPT한테 부탁했습니다.<br>\n그리고 <strong>*Debouncing</strong>도 넣은거 잘 보이시나요?<br>\n이거 할 때, setTimeout 반환값이 브라우저는 number라서 number로 하니까<br>\nIDE가 Node.js환경인 줄 알고 자꾸 \"이거 Timeout객체 타입인데요?\" 경고띄우길래.. 그냥 <code class=\"language-text\">any</code> 박았습니다.</p>\n<p>나머지는 딱히 새로울 것도 없네요<br>\n이렇게 하고, <code class=\"language-text\">handleInputChange</code>를 가져다 input 요소에 등록합니다.</p>\n<p><img src=\"https://github.com/sungpaks/sungpaks.github.io/blob/master/content/blog/render-props-and-dynamic-key-and-debouncing/gif-image.gif?raw=true\" alt=\"결과\"></p>\n<p>좋네요.</p>\n<hr>\n<p><br>\nRender Props라는 리액트 패턴도 알아보고<br>\n동적으로 key 넣는 잡기술도 살펴보고<br>\nDebouncing으로 사용자 경험에 대해서도 고민해봤습니다<br>\n사실 Render Props는 요새 커스텀 훅으로 많이 대체될 수 있다고 해요<br>\n아무튼 알아두면 은근히 유용할 패턴인 것 같습니다<br>\n<a href=\"https://sungpaks.github.io/til/react-life-hacks-3/\">TIL에서도 리액트 패턴 중 하나인 합성 컴포넌트에 대해 알아봤는데</a><br>\n다른 것들 또 뭐 있나 알아보고 싶어지네요.</p>\n<p>이만 마칩니다</p>","frontmatter":{"title":"🔍 리액트 검색창 구현 : Render Props + 동적 key 설정 + Debouncing","date":"September 21, 2024","description":"앗! 리액트 검색창 구현 삼형제다!","tag":["React","TypeScript"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%9D%B4%EB%A1%A0-%EB%A8%BC%EC%A0%80\">이론 먼저.</a></p>\n<ul>\n<li><a href=\"#render-props\">Render Props</a></li>\n<li><a href=\"#%EB%8F%99%EC%A0%81%EC%9C%BC%EB%A1%9C-key-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0\">동적으로 key 처리하기</a></li>\n<li><a href=\"#debouncing\">Debouncing</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#typescript%EC%99%80-%ED%95%A8%EA%BB%98-%EC%A7%81%EC%A0%91-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0\">TypeScript와 함께 직접 구현하기</a></p>\n<ul>\n<li><a href=\"#%EB%A8%BC%EC%A0%80-searchablelist-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A5%BC-%EB%A7%8C%EB%93%AD%EC%8B%9C%EB%8B%A4\">먼저 SearchableList 컴포넌트를 만듭시다.</a></li>\n<li><a href=\"#%EA%B2%80%EC%83%89-%EB%A1%9C%EC%A7%81-%EC%B6%94%EA%B0%80\">검색 로직 추가</a></li>\n</ul>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/til/throw-on-hydration-mismatch-error-and-validate-dom-nesting-error/"},"frontmatter":{"title":"onThrowHydrationMismatch 에러.. 근데 이제 validateDOMNesting 경고를 곁들인. (Gatsby.js)"}},"next":{"fields":{"slug":"/til/introducing-redux/"},"frontmatter":{"title":"Redux."}}},"pageContext":{"id":"4553831a-fd39-5ee8-8979-b2d228341513","previousPostId":"86e7e062-cc00-54d4-889d-e4b3bd899a0e","nextPostId":"b6e94b84-09b8-53a0-8eb8-8e2648454fd5"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}