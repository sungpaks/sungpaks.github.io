{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/render-props-and-dynamic-key-and-debouncing/","result":{"data":{"site":{"siteMetadata":{"title":"조성개발실록"}},"markdownRemark":{"id":"04e848cd-c54d-543c-803d-0bdc160ad5f3","excerpt":"이번 시간에는 Render Props에 대해 알아보고 key를 동적으로 넣는 방법도 알아보고 Debouncing으로 사용자 경험을 높이는 법도 알아봅시다. 그리고 이 세 트리오를 짬뽕해서 검색창 구현해보려구요. 실제 구현할 때는 TypeScript…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 594px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9b008c8a6d587b24c70bdd5ef6ef0ac5/5fd3e/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 113.29113924050634%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAD6ElEQVR42iWU6Su0YRTG73+BsUSUaKRBlg9qFP+AGhTimy/KUpZSSpYPtpEvPhBeSyPZl+xr1uyGse/bDF5jrGMZ5I33Z+apeXrm3Odc55zrOucWJycnMTExcXFxsbGxKSkpOzs7h4eHS0tL+fn51dXVra2t3d3dTU1NtbW1f8xPY2NjR0dHXV1daWmp4EyhUOzt7Wk0Gr4J3t7e3tjYUKlUqampIyMjLy8vy8vL7e3tFxcXb29vW1tbIO7v74+OjoqVlZWBgYHb21vidTrd8fExwWdnZ4+Pj9nZ2UVFRQRotVoKfHh4+Pn56erqamtru7m5+fj4EHq9Hr+jo6PJycnT01ODwfD+/o7xr/nBUl9fTzzZCCPH+Pg4b/Lf39+L6+vrxcVFknMMxNPTE2cAl5SUJCUl1dTU+Pn5paWlubi4TE9PU6ZMJktISAgLC6MXQZNUW1ZWVlhYuLCwQNjV1dXu7q5cLscvKipKIpHY2tpaWVmVl5dTIywWFxdXVVWRT4yNjZGThg8ODjY3N3nTHn99fHwiIyOjo6NtbGzc3d0dHR19fX3BnZmZycrK6uvr6+zsFIiUmZk5NTVFTvhEp9nZWSA8PDySk5PJbGdn5+rq6uzsDAS4LS0t6enpPT099CUQEDGgl+Lpam1tjbQogWtiYmJERATBbm5uTk5OdIG9oqICCpRKZU5OjmhoaDg/P6eY9fX13t5eZEAStVpNZuYkNDTU3t6eYCAAAnd4eBgtcWBUxNzcHDwBgQkUpEKh+fn5oKAgT09P8js4OFCztbU1s0SrQ0NDCMk40KkgIcUQT8DExITJZHp+fkYzuvXy8goMDPT394f5gIAAaomPj8eTzlGXHgUYevND20wSbzjjA0ScYM4iBIqin0ULoDllnAUJsUL16uoqYRaRIRxQSoBFloSO+Is3HVHa3d0dPRP/2zOoDCCu0M7EXl5ewh9nX19fGBlB3iAyXpbxZn4RFbugBpAYFwj4Z36AZ1qwDw4ONjc3wxCDRWZAmWcKwZmZNxqNgmwwjO4sM+ShM36vr6/sCdpIpdLg4GBOIYXqKJO5yM3NZWHp9zcYb2I4ZntDQkLYmM/PT5qnclhgb8PDw1GRmnnjTzt84CwoBibwgEb+k4QPOodw9oY60a+yspJeIJWFI5PW/MCZ4Ackm0gM1bK0oOJHz9iJgS065JRCYIdkROKJ1AITBVskAYK2KZuasVjuA7yxUD8WaoZFdgOUX53ZD9jDCUq/v78J7u/vh2Eo0ZkfMuPD9caVRALcgOPNrSi4OgsKCuiNYgDOy8vjWszIyIA5xEQIFGax0cLb2xtP3OgILLlc/h+ldtvQ5PQ8sgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"리액트 검색창 삼형제\"\n        title=\"\"\n        src=\"/static/9b008c8a6d587b24c70bdd5ef6ef0ac5/5fd3e/image-1.png\"\n        srcset=\"/static/9b008c8a6d587b24c70bdd5ef6ef0ac5/c26ae/image-1.png 158w,\n/static/9b008c8a6d587b24c70bdd5ef6ef0ac5/6bdcf/image-1.png 315w,\n/static/9b008c8a6d587b24c70bdd5ef6ef0ac5/5fd3e/image-1.png 594w\"\n        sizes=\"(max-width: 594px) 100vw, 594px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이번 시간에는 Render Props에 대해 알아보고<br>\nkey를 동적으로 넣는 방법도 알아보고<br>\nDebouncing으로 사용자 경험을 높이는 법도 알아봅시다.<br>\n그리고 이 세 트리오를 짬뽕해서 검색창 구현해보려구요.<br>\n실제 구현할 때는 TypeScript도 좀 사용하면서 해보겠습니다</p>\n<h1 id=\"이론-먼저\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%A1%A0-%EB%A8%BC%EC%A0%80\" aria-label=\"이론 먼저 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이론 먼저.</h1>\n<h2 id=\"render-props\" style=\"position:relative;\"><a href=\"#render-props\" aria-label=\"render props permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Render Props</h2>\n<p>Render props라는 리액트 패턴, 또는 테크닉, 을 활용하여 유연한 재사용 컴포넌트를 만들어볼 수 있습니다.<br>\nJSX를 반환하는, 즉 <strong>Render할 수 있는 함수를 props로 전달</strong>하는 것입니다.<br>\nprops로 뭐든 되긴 하는데, 보통 <code class=\"language-text\">children</code>으로 넘긴다네요</p>\n<p>만약 \"검색 가능한 리스트\" 컴포넌트를 만들고, 여기서 검색 로직을 작성한다고 해봅시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">SearchableList</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> items <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>searchTerm<span class=\"token punctuation\">,</span> setSearchTerm<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> searchResults <span class=\"token operator\">=</span> <span class=\"token comment\">// 대충 searchTerm으로부터 items 필터링</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">handleChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setSearchTerm</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handleChange<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>searchResults<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>description<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이렇게 할까요?<br>\n근데 이건.. 목록 컴포넌트를 렌더링하는게 너무 특정 item에 치중되어 있네요<br>\n그렇다고 목록에서 <code class=\"language-text\">&lt;SomeItem item={item}/></code>이라고 쓰기도 못미덥습니다. 이것도 결국 특정 Item에 국한되어있죠,<br>\n<code class=\"language-text\">&lt;AnotherItem item={item}></code>을 렌더링하고 싶으면 어떡하지? 싶습니다.<br>\n저는 지금 여기서, <em>무슨 item이든 상관 없이 검색과 검색된 결과 리스트를 제공하는 재사용 컴포넌트</em>를 작성하고 싶은건데..</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4da492dca87414a73a435f998bfd1d7a/5a190/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.75949367088608%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACwUlEQVR42g3CbU8ScQAA8PsCZcLxcBwcdxwHdxz3vycOTuTgDjg8UJwiaoD4gE4tdbZMm5mWVrNyc20tUteysvJVa7pmvW/rpS9aW1+nfvtBJVOs9KXa+5unb/fKVoYi7GUjpGshknASHgeFuXHURZG4EoshiMPlgu2wrdPWCcPX/C4bpKe4gZ7YcXv754/j6WZFpB2NYqDUIwdJlCUQNoDqXYCPBLsTCu51oogD8zj8iANx2gQCgfJpKZtWqtV8rW6ZhThGOKIcwvJkiESYgCdCIBzjj4TwuCLhqJPGUa/bjrntHZ1XRcoHZTUAJArweL0k0wIRABjO+QIcStAI6rXjKOxHYRAiRC5CoLBC4064IyWGKMLD4ggExCAjkqoqbU5bRbMcjYlRwROWcJzxUhQ2aikq51MiATYUwD12hfI6bVfq/SkZhKKYEwoLGM3TES6Z1mvjrd18eXlcT99IEpkcX+hLZDWeixIyIAHlCvtsPOlhGQJQaNDn4EkUkhMkSTMssHqHbw+PP8+WNvREcb2W3Pt0tv3uPFlQhe6goNKqwnNBt+DrVCLYylh6a9aiUBgaLLAzY719E62nn7+sv3xTGKgWi/zqYvnrr9/ti8ul1eZQX4zmw5KiVgzxZKt0ciu33ci9mNS0MAqVjPDFYf/B6f7Gwd+V9kejxJbrcStD7D+emrtbM3vijYqpJuIMQz3cXTs8v9x5/epowVyz+OG4H5J536N5ZWZJf/Z+++xoKcVj5V5pqmnOz5e6TBDTJCkpa7mklODu7D1of/uzc/zhfEW/N6SaCgKpFmMNSFyBEjX3993R+wvFxdl0q5rMVkFmQjTGhExD0OpAGwXZOrj5pLKwnDdjgbl8pDdDQt0jUaMmmc2Y3pAHJpTBlpKqC/p13miK2UkpN/W/aIwL2QmhpyUZo8zwpGyOCIKKJrqof+OGuDJXRGJrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"뻣뻣\"\n        title=\"\"\n        src=\"/static/4da492dca87414a73a435f998bfd1d7a/f058b/image.png\"\n        srcset=\"/static/4da492dca87414a73a435f998bfd1d7a/c26ae/image.png 158w,\n/static/4da492dca87414a73a435f998bfd1d7a/6bdcf/image.png 315w,\n/static/4da492dca87414a73a435f998bfd1d7a/f058b/image.png 630w,\n/static/4da492dca87414a73a435f998bfd1d7a/5a190/image.png 800w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이 때, Render Props를 이용해볼 수 있습니다.<br>\n<code class=\"language-text\">children</code> prop으로 Render가능한 JSX를 반환하는 함수를 받아오고,<br>\n단순히 <code class=\"language-text\">&lt;li>{children(item)}&lt;/li></code>처럼 쓰면 되겠습니다. 아래처럼</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">SearchableList</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> items<span class=\"token punctuation\">,</span> children <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>searchTerm<span class=\"token punctuation\">,</span> setSearchTerm<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> searchResults <span class=\"token operator\">=</span> <span class=\"token comment\">// 대충 searchTerm으로부터 items 필터링</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">handleChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">setSearchTerm</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handleChange<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>searchResults<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span><span class=\"token function\">children</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>그럼 이 <code class=\"language-text\">SearchableList</code>라는 Wrapper컴포넌트를 쓰는 입장에서는,</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SearchableList</span></span> <span class=\"token attr-name\">items</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">PLACES</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Place</span></span> <span class=\"token attr-name\">item</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">SearchableList</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>이렇게 쓰면 되곘어요. item을 인자로 받기로 했으니까, 이걸 받고 해당하는 렌더링 컴포넌트를 반환합니다.<br>\n지금은 \"장소\"에 대한 개별 리스트아이템을 써먹은건데,<br>\n\"게시글\"처럼 다른 것을 검색하고 싶은 경우 저 <code class=\"language-text\">&lt;Place></code>자리를 그냥,<br>\n그 다른 item에 맞는 컴포넌트로 대체하면 됩니다. 예를 들면 <code class=\"language-text\">&lt;PostItem></code>처럼요.<br>\n그리고 인자인 <code class=\"language-text\">item</code>을 받아서 뭔가 하고싶으면, 로직을 추가해도 되겠죠?<br>\n결국엔 Render만 될 수 있게 jsx를 반환하는 함수이기만 하면 됩니다.</p>\n<p>이처럼, <code class=\"language-text\">&lt;SearchableList></code>의 책임은 item의 리스트를 검색하여 제한하는 로직, 딱 거기까지만 가져가고,<br>\nitem 각 항목을 예쁘게 UI에 담아내는 Rendering 책임은 추상화하여 <code class=\"language-text\">&lt;SearchableList></code>를 사용하는 주체에게 떠넘깁니다.<br>\n이렇게 하여 꽤나 강력하고 유연한 검색용 재사용 컴포넌트를 만들었어요</p>\n<h2 id=\"동적으로-key-처리하기\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%A0%81%EC%9C%BC%EB%A1%9C-key-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0\" aria-label=\"동적으로 key 처리하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>동적으로 key 처리하기</h2>\n<p>아시다시피 <code class=\"language-text\">map()</code>에서처럼 목록으로 컴포넌트들을 찍어내는 경우, <code class=\"language-text\">key</code> props를 무조건 넣어줘야 하죠?<br>\n근데 위에서 쓴 코드에서는, 대충 <code class=\"language-text\">item</code>이라고 퉁치고 있는게 좀 맘에 들지 않습니다.<br>\n<code class=\"language-text\">id</code> 프로퍼티가 있다면 <code class=\"language-text\">item.id</code>로, 어떤 경우에는 <code class=\"language-text\">item.title</code>로, ...<br>\n<code class=\"language-text\">&lt;SearchableList></code>를 사용하려는 객체가 뭐냐에 따라서 <code class=\"language-text\">key</code>로 뭘 쓸지 알 수가 없습니다.</p>\n<p>Render Props에서 한 것과 꽤 비슷하게 이걸 처리할 수 있어요. 저만 비슷하다고 느끼는지는 모르겠으나..<br>\n<strong>item을 받아 key를 반환하는 콜백함수</strong>를 props로 넘겨주면 됩니다.<br>\n예를 들어, props로 <code class=\"language-text\">itemKeyFn</code>을 받아와서, <code class=\"language-text\">key={itemKeyFn(item)}</code> 이렇게 쓰면 되겠죠?</p>\n<p>그러면 <code class=\"language-text\">&lt;SearchableList></code>를 사용할 적에는</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SearchableList</span></span> <span class=\"token attr-name\">itemKeyFn</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Place</span></span> <span class=\"token attr-name\">item</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">SearchableList</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>이렇게 쓰면 되겠어요<br>\n이러면 <code class=\"language-text\">&lt;SearchableList></code>를 사용하는 객체를 위해 확장될 수 있는 셈입니다</p>\n<h2 id=\"debouncing\" style=\"position:relative;\"><a href=\"#debouncing\" aria-label=\"debouncing permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Debouncing</h2>\n<p>지금 저 검색 컴포넌트는 매 key stroke를 렌더링에 반영합니다.<br>\n당연히 상태값인 <code class=\"language-text\">searchTerm</code>이 수정되면, 파생상태인 <code class=\"language-text\">searchResults</code>도 업데이트되고,<br>\n바뀐 <code class=\"language-text\">searchResult</code>에 따른 리스트를 UI에 반영하게 됩니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 235px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/60dfd5d11bde59986d24cbed8bde0880/6783b/image-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEOUlEQVR42j3Q209aBxwH8PM/LMuMVy6CiBOrWLU6a521ijIRUVCmUkDBA+cA5+DhIpwLd/GGitwLXuqKaU2rdl5mXe1MtS6bW9aHJbv0Zdme9rQs2fMwS5Z88n36fZNvfgCntIhFz2eV5JcW55UW5VWXMyekwhUHlPAgccIUd8IJCkqQUJTQRUl9gjTlJCkklzHcAHDo9LJrNFZJCYtWTC/Kr2YzdFJhlDAlXEiSRB640VUvtuqzrPqwtAdJUv+XjUBpSQmbRsspY9A5/6EVi9uavbAy7Z2MksYAonSM9aPybquiN4gqkq7rfoI0RJ16oIrOZBUUsotpzPxCRn4hLa+AXVwi/vi2G1bmjjClWNRSw2e+X017j8/4oLWGA8tFy1Ng0g3HCB2wqB6Fuu5aB/tdozKkT9hZXSGoq1b3dc9b9XZ1v6ills8o5DOLatm0hkp2Pa/8ViVHJeqYs2lSbgQ49kxeLlNvlsi3qemX0+akbmheNxQloCU7qBG3f8Rj85gFfA7zZkVZfRW3oYpbyaI18bjm0b6UCwH2cfAiZP8h6b6KkGcz2HPKuEWa1gjIq5WNdDQ1VDCrSuk3ueyWG7x7tfychjJ2HYuhFbfHcRg48ZlOg+ixz/BsamzPoXls06xZxmcVIqOgsbeOW1/OaK+pGhe0klJRGLwfN6oJ6Sfy1nrzsDBO6oGTafTLAPrQNLSOfroOy3YoKGMZDypENnHbYEtNXx3PKhZs26GzAHa5YPtu2XniglNmZdg2cT37qV39yDychqVZm2prUvHcY0pbxvzKXqynDe/vmpH3bMKj5zPWXzcWfnwwfTlrPQuYdz1I2gXFKROQgeTLanFUK3k8NX7oRj/3Ykmzyj0iMnY2L6tlT7CxPfv4nn3slR89IvRxVV9MJU5PquMEGCNg4CwbXkJHnrpNRz7s2GvZoZAQOGSXdIJ3+H6pIIsoX3hNLwPmAyeYVkuojpaZga4Iqog6J8IOLeA3qp2K7oRx9GTafjqHJwyjjoF2Xdst6G6jp1+Q1srOF2zni7ZvFh37Ns2BRf8Zqo7aVRFcG7ZOAA0sth9UzCglp0HHQcAaQxVuRQ8qbLnfdAMRNAeHBXsEeL5g/WravE+AaV1/Eh1ZwpRRXLdkmQBSfvKL2Nw2YTqddTwhoU2PYUYvt/S1KW/XTA0Ko6jqNOb5ZTfzJulbASW4uCmkEoVRVYJCojgEfL+/dZKcO1vx5f68P2/LkDrPmBTsaOr9kCnlMoPDkq83Yv/8+dPvV0eHYSqkkqT0w1kfGqcgbLAT2A37DxddRyFqUa9YRMedI6K0w7CKT+7MB9dtWEAmCcgGMji64ZncncO33ejlWujdxc7mnB0d6AISZu2rkGdWLUN7OzT37iga+YGRwQisexGJvN5Ye72eeRb0ZcmphziWscE/H2f/fnfx12/f/vH27Org0b9x09TghIbfRgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"정신없는 짤\"\n        title=\"\"\n        src=\"/static/60dfd5d11bde59986d24cbed8bde0880/6783b/image-2.png\"\n        srcset=\"/static/60dfd5d11bde59986d24cbed8bde0880/c26ae/image-2.png 158w,\n/static/60dfd5d11bde59986d24cbed8bde0880/6783b/image-2.png 235w\"\n        sizes=\"(max-width: 235px) 100vw, 235px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>아.. 그러면 타자를 칠 때마다 렌더링이 마구마구 일어나고, 아주 정신이 사나운 사태가 벌어지고 말아요<br>\n검색 결과를 보여줄 때 조금 여유를 가지고 보여줘야겠습니다..</p>\n<p>그래서 뭘 할거냐면, 검색창 입력값이 바뀌어도, 임의의 시간(500ms정도?)을 기다리겠습니다.<br>\n500ms가 지나는 동안 새로운 입력이 없으면, 사용자가 결과를 원하는 것으로 간주하고, 검색을 진행합니다.<br>\n500ms가 지나기 전에 새로운 입력이 들어오면, 다시 새로운 500ms를 시작합니다.<br>\n이를 구현하려면 아래처럼 합니다 :</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> lastChange <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">handleChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>lastChange<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>lastChange<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  lastChange<span class=\"token punctuation\">.</span>current <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    lastChange<span class=\"token punctuation\">.</span>current <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setSearchTerm</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol>\n<li>500ms 뒤에 입력값이 상태에 반영되도록 예약(하고, <code class=\"language-text\">lastChange</code> 참조로 이 예약 타이머를 갖고 있기)</li>\n<li>예약이 걸려있는데 handleChange가 다시 호출된 경우(<code class=\"language-text\">if(lastChange.current)</code>), 이전 예약을 취소하고 다시 새로 예약</li>\n<li>이 때, 예약의 콜백에서 <code class=\"language-text\">lastChange.current=null</code>로 이제 예약이 비었음을 나타내줘야 합니다.</li>\n</ol>\n<p>이렇게 하면, 사용자가 마구마구 타자를 칠 때는 잠시 여유를 갖고 기다립니다.<br>\n사용자가 입력을 좀 쉴 때, 그 때가 되어서야 검색 결과를 보여줘요.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5e3f9bbd6dc0a7903073e9ee3668f37f/3684f/image-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 99.36708860759494%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEtUlEQVR42iWU61PSWRjHf//FzuyL3Zkdmx01EREEhVWU6487iMklbgGiIqgQXiAxwruGeTc1LbuJF2Btc8gulmZljVrb6jY77Yvc2lpt16m0BPnBHndnPvOdM2eezzzPc14ciHT4O0AmKi4LfYic8j0VG8/AJ7IIKD4xVUTGC3MIeXSSjEVWcalqHuOYCNbkAlgqIUvGYUKUlHgqJp6WmkDDAhIZaYeZ6clwBoYGDhkYfjZBRMkQ00hH6JlSmKIWwBohG5gqPnyUw4Bo2MMMHIqRBkgCGpuUyiWmcvDJNhXXLBeIKSQxlSiBsyQwWcahKPmwOpd/LJcHUIm4QE6i4ZLouCQmHsUmYgCMDPzFlorNRyPeVtOw26QT0HnkDAmLquDBSgFHIxbqpWKDLM8gyYVoOBQ9LfkAApqOTxZlZzTV1PYNXS5U5PWW5m/NX57yVJdIBXI2VUQjK/hs7ZFcnSRfL5PoZWKIBYYkYtlELDcLT09H2026O3OLDZ5zElb2lNvwdmZgeazl9rDria9zsN5WolaqREK1WKjMFcr5HCgHk/IDOpmERWdiMQwSQSZgV5w4VaiQm9iEJoPI6yweqDFatMqx1sr7vv6Z2YcN7tMnbJXV1gpbuRWqa+yY/ikYmJ65dWvB75/mw7TCQvM1v8+tFfSZZdfcpU+DY6/e/93ZP6TVmFq6RjbevNvc/fzzh09rO7vQwpMXsVhsfz8Ccm3tOYtFM5uretrb1Fx6ZR6z2yidCUwMjo47nI1V9vp7C49A2XY0+gsojsWgu0sH8t5eCKQ/MMmgMw1FtpamdqVcpcvPaz/prOu+YrTWlVWcBG8BamIIsoUgqxFkFUGgm/93Du+DfLzyGIZhhabE1dR5sra5oNjWfWGqod/rOe+fmbt3IEajQP4LiTyNIqvRKDS79Cu4jfw39ofdnQKdNu+I2lhiPd0+ZCqvsbk8nRemrz9e/3jQMhJGQCB/hMOrodBKOAz57z/7DNZAkHehz9uxWFvHaT5XpD2mO+VuOTs6qVAZq2vbvHPLv+3uv9nZe70T2tgJvfwUXvuyv763D03dXdp49/L6rH9+8fbi0pzXO2QtK9JodAUFxb3DV4cngp7B8cDi6j/RSCwKho5FEOR9NPo6imxFwtDkvSe35nxtjY7ZoG+wz+O92NXjsRt0+vLS4xaL4+ylQM953/Ti+kYotrUb+nNr89Xm29+3P27vfQFrQk63p+NM84sHXcGrjhtjrmfzzXazcnX5x7HhmtYaYzDgGeitHz13pqOzZ+qSZ+V+//h448Sl5ocLYx1N9VDSN19VFGY+X7AOuJg3A6abozJzPunOhaLuSv5En9Fbyx1qkC/ecLaUMPsa5XenK8e7tcHxUl+vxqaXQ5T01Nve6vk64nFO3IOe7HZJvIaVZuGlqhjE+hKhnkE5a2e2FZMUFIJBxhtpMLiOovvLUpzShOaGWiAnW/RiAfYQjEsQp8dx0hKFMFV1VGsoLrdYak7UtjodTntpuUYilvKoLptRRMaJc/A8KsVRXgDhEr5FxX2dhoojouOJ2EQ6CSOiZhWpFVZLVVlppcPurm/qauy+aDaZeGTwseClLHJ2Flkg4HScsvwLQmBtoByYzqYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"여유\"\n        title=\"\"\n        src=\"/static/5e3f9bbd6dc0a7903073e9ee3668f37f/3684f/image-3.png\"\n        srcset=\"/static/5e3f9bbd6dc0a7903073e9ee3668f37f/c26ae/image-3.png 158w,\n/static/5e3f9bbd6dc0a7903073e9ee3668f37f/3684f/image-3.png 225w\"\n        sizes=\"(max-width: 225px) 100vw, 225px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h1 id=\"typescript와-함께-직접-구현하기\" style=\"position:relative;\"><a href=\"#typescript%EC%99%80-%ED%95%A8%EA%BB%98-%EC%A7%81%EC%A0%91-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0\" aria-label=\"typescript와 함께 직접 구현하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TypeScript와 함께 직접 구현하기</h1>\n<p>아래는 제가 진짜 최근 프로젝트에 써놓은 코드입니다<br>\n여담으로 이 프로젝트는 최근 꽤나 급하게 작업할 일이 있었어서<br>\n기술 부채는 늘어만 가는데.. 여기에 스파게티를 토핑으로 추가하는 그 기분이 매우 죄책감들었습니다</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d83d2cdd9fc8ad607e2075411699b5b9/0a47e/image-5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0ElEQVR42n2SS6upYRTHfRsfxDcwMNH+BowVShlJGcqYomRg4hoiKYpIJPe7jVyS+/W85+c89s45dfYzWO9617P+67/+az0ySZJ+fR3p65xOp9lstlwuF4vFfD4/n88EsZvNZr/fH49HkSwT2d/gx+OB7ff7vV6v2+3W6/XxeNxsNgHgTCYTfBwqvsD/0IIHMxqNPv+c4XBIC4Cr1Wqr1SoUCuDb7fbtdpMJGKn843Q6nUqlkkgkKLFarcB8t8MvhZADM/2/mFGo1Wo9Hg8MtVrN6/VCCHkkEkHhdrsV3WEZQTqdFpEX2OFwfHx8BAIByJEKeTabpZzBYFCr1W63ezAYkAZMoVCoVCq73Q7NE0xjGo3GYrEEg0Exxvv97vP5jEYjYL1en8vl8vk8Qigkl8ttNlsymUTwE0y2yWTS6XTRaBS1hLjw+/1WqzUcDk+nUzZUKpVIcLlcSqXSbDaL6QB8ts0MYrEYOil5OBwul0uxWGRPqVSq0WgQZ8JOp5M9ZTIZllQul/GfzNfrlQw0oJb1EmKYjA3loVAoHo/TES2s12v2hCUByOuR8BGbwIoQmhnybrejYaaAI66EfX8Rf72w94v3878r2Q/ZP1eUJOk3F3muZaPysjEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"기술부채..\"\n        title=\"\"\n        src=\"/static/d83d2cdd9fc8ad607e2075411699b5b9/0a47e/image-5.png\"\n        srcset=\"/static/d83d2cdd9fc8ad607e2075411699b5b9/c26ae/image-5.png 158w,\n/static/d83d2cdd9fc8ad607e2075411699b5b9/6bdcf/image-5.png 315w,\n/static/d83d2cdd9fc8ad607e2075411699b5b9/0a47e/image-5.png 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Box</span></span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">[</span><span class=\"token string\">\"scenario-list\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span>scenarios<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Box</span></span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">.</span>card<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>profileImage<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>\n            <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">[</span><span class=\"token string\">\"start-button\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span>\n            <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">handleClickStart</span><span class=\"token punctuation\">(</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            시작하기\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Box</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Box</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>이런.. 살짝 끔찍?한, \"시나리오 리스트\" 컴포넌트가 있었습니다.<br>\n컴포넌트 분리도 안 되어있고, 검색 기능도 사실은 아직 만들지 않았었어요<br>\n데이터는 가짜 객체 배열이라, 나중에 바뀔 가능성이 있어 <code class=\"language-text\">any</code>타입으로 뒀습니다</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/307c2f54cb1e5de1c45dfdd61b025beb/a2b88/image-4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 109.49367088607596%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAADqklEQVR42oVUS4/cRBC2x89+uNtvj+0Ze57sLklmdmfZV5KFJeEhEq1QyCRitFplEwiJQAjlEnEACXJCQhEnECcO3BAnLhwQJy6c+Ud8ba8Q4oJVM1Ndrm+q6quq1ob9vJVBPx9VRT9Ps0jmSbizNbu8u310eHlnMa/hUBXDKh8oaZTGXxv0u6NKwcZ1MRmUVZEVaRj7PAk4lCwUg153MuhNBkXjlo/rcqTwRQPupd2Ix8G/xGeB50L8RkJJI59FPg0lCQVRuqT9LEB8rZ9HtmUwxrn6qMdxHO3/Hum5yEKryxj/LZgrOYF4zOHEZq7Fqe1RB0d8wwIHTh1GbK7EyRN/VBcAp8OmbHCGssEWvH2PQMGrcZVXZSo9JiUPAyEFa4RXPdRfasN+Nqq64zoHJdNhOa663UhEPg8kT0KFn9R5XaSCU8EJLEkkfY9msQ92tV4m4oBBJLd97lCnEwg3ECQNme+xLPTSkEMEs4ndcU2dumbs00iSQRlpqAEEmIbx4tr07q3jB6crQhRh1LV8wRDNMHQcJ6P6+tHhybvLncUMx46uZ7HQBFOuR1d3P354tjnb/OvP3598eB8WcAMwKIRfp6M9fm/1wYOzP3775acfv23BaSQ00IPD9vziyZ1bD++tfv35h0dnqzYyykZ50Ms8euu1w6o3/vLzT7/56gvbsGBUYLQEWuSLt2+8cW919/vnz7ZnG/+kDdqhO5Z5uryxur387Oknp8tjvWl1A25qNjoauvLy3mJ3vu5YBizEMdEhwYiBpDVtY1o/eXxyfP0gR6mapiuw1DAPlNF2tjxOKSFSSkrZORg1o74mlm2ZrqtqxPEczIllmpZp2bbjGqZlWfhVigJzKhtwO5KGYcLe6nqbNmoDfj5Jtta6+/PB9kY5nyahcDHwmDVMJQJP+8FiLdu7VMNhsZ6t1SGCw6mpjTv7F4srm9W1vReubg0OZmUWMsvsIGcIkr4wig8ula+8NDnanUKZjRNkEwUcfbZ1VYb+n71BOtgERLbNTpvnecLNY3b0JPS0bhJEvueBIMciroOhlx5Xm4CFcmxYiGsz6grOhMfgxohLHJtTN40DDcuFCwBbKT2CaYsDL08CrFSKxXewkuoCwMWCY7MtuBIomg9InoZaJMC/6ToGkEngtXnCAs6QNjbEo7ZrG6CmSPwqjymx4cyI1Y2lmmE1qx3j9s3Xr13Z/+75swvr43bCqKuuAaNp1Ts3X33/zptfP3300f1l468Hgv4N+75ynE0KysMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"예시\"\n        title=\"\"\n        src=\"/static/307c2f54cb1e5de1c45dfdd61b025beb/f058b/image-4.png\"\n        srcset=\"/static/307c2f54cb1e5de1c45dfdd61b025beb/c26ae/image-4.png 158w,\n/static/307c2f54cb1e5de1c45dfdd61b025beb/6bdcf/image-4.png 315w,\n/static/307c2f54cb1e5de1c45dfdd61b025beb/f058b/image-4.png 630w,\n/static/307c2f54cb1e5de1c45dfdd61b025beb/a2b88/image-4.png 908w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>검색창 컴포넌트까지 포함해서 이렇게 생긴 페이지였습니다.<br>\n여기다 검색 기능을 실제로 추가하고,<br>\n위에서 배운 것처럼 Render Props를 이용한 유연한 컴포넌트로 만들고 싶네요</p>\n<h2 id=\"먼저-searchablelist-컴포넌트를-만듭시다\" style=\"position:relative;\"><a href=\"#%EB%A8%BC%EC%A0%80-searchablelist-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A5%BC-%EB%A7%8C%EB%93%AD%EC%8B%9C%EB%8B%A4\" aria-label=\"먼저 searchablelist 컴포넌트를 만듭시다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>먼저 SearchableList 컴포넌트를 만듭시다.</h2>\n<p>아래와 같이 구현해줬습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">SearchableListProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span> <span class=\"token punctuation\">{</span>\n  items<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function-variable function\">keyFn</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>item<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function-variable function\">children</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>item<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> index<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token constant\">JSX</span><span class=\"token punctuation\">.</span>Element<span class=\"token punctuation\">;</span>\n  className<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  itemClassName<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token generic-function\"><span class=\"token function\">SearchableList</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  items<span class=\"token punctuation\">,</span>\n  keyFn<span class=\"token punctuation\">,</span>\n  children<span class=\"token punctuation\">,</span>\n  className<span class=\"token punctuation\">,</span>\n  itemClassName\n<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> SearchableListProps<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Box</span></span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>className<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>items<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Box</span></span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>itemClassName<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">keyFn</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token punctuation\">{</span><span class=\"token function\">children</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Box</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Box</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위에서 살펴본 Render Props 이론에 TypeScript만 더했을 뿐이예요<br>\nkey를 동적으로 뱉어줄 <code class=\"language-text\">keyFn</code>은 숫자든 문자열이든 상관은 없습니다<br>\n<code class=\"language-text\">children</code>은 render props를 사용할거라, 이를 위한 인자와 반환값을 강력하게 명시했습니다</p>\n<p>알고 계셨나요? 함수형 컴포넌트에서 타입을 <code class=\"language-text\">function FooComponent : React.FC</code>처럼 쓰면 <code class=\"language-text\">children</code>같은 특별 컴포넌트들을 이미 포함시킬 수 있습니다.<br>\n거기다 다른 props가 또 있다면 <code class=\"language-text\">React.FC&lt;FooPropsType></code>처럼 제네릭을 구체화하면 됩니다<br>\n근데 저는 그냥 저렇게 하는게 편하더라구여.. <code class=\"language-text\">React.FC&lt;></code>로 하려면 props를 구조분해할당으로 받아오는거 어떻게 하는지 모르겠어서..</p>\n<p>이제 각 item 항목들의 render를 담당할 친구를 대충 작성해줍니다.<br>\n저는 <code class=\"language-text\">item</code>과 기타 여러 props를 받는 <code class=\"language-text\">&lt;ScenarioListItem></code> 컴포넌트를 만들었어요.<br>\n사실 여러분 입장에서는 별 관심을 코드라서 여기에는 안 씁니다.</p>\n<p>이제 <code class=\"language-text\">&lt;SearchableList></code>를 이용하여 시나리오 리스트 검색 컴포넌트를 만들 일만 남았네요</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">SearchableList</span></span> <span class=\"token attr-name\">items</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>scenarios<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">keyFn</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ScenarioListItem</span></span> <span class=\"token attr-name\">item</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">SearchableList</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>편하게 보시라고 안궁금하실 props 넣는 부분은 쳐냈습니다<br>\n아무튼 이렇게 사용해주면,<br>\n<code class=\"language-text\">&lt;SearchableList></code>에서 children을 render props로 사용할 때<br>\n<code class=\"language-text\">children(item, index)</code>처럼 썼으니, <code class=\"language-text\">{(item, index) => 컴포넌트를뱉기}</code> 이런 식으로 쓰게 됩니다</p>\n<p>여기까지 하면 컴포넌트의 분리와 추상화가 잘 마이그레이션되어서<br>\n원래의 리스트가 잘 출력됩니다.</p>\n<h2 id=\"검색-로직-추가\" style=\"position:relative;\"><a href=\"#%EA%B2%80%EC%83%89-%EB%A1%9C%EC%A7%81-%EC%B6%94%EA%B0%80\" aria-label=\"검색 로직 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>검색 로직 추가</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9f4b868fa5fe9e14decff1c5a4bc1613/5a46d/image-6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AIyaiJCsl5SgioSKetPUkNTajcvQjLGxbD87KRcTEjkwKMnOeOTpgdzQjdLFhru2gYeXcXaGfGyEdmiGZwC3ypa5z6S2s5GSpXXT4XLT3Y29yIY3NigCAgwQEhEAAAVvbV7s3pLItYLQupPQv5XIxYtveXmBhHWopG0AjaJ/zc6VsbeLZoJyrbtstsl5v8mDSUgzGBUcJR0hHhYWMS03l4t9bGRcZ2BbW1RMfHdocGtohXhtmYx3AG+Jd4CVeaTAfZ26dafCbqG2fLi0l4yAaDYuMkw7O1VBPkA6PUE4OlBERSYiKBkZHh8eIionKSMiJSEhJwCcvGmEplyauGSatGWGnGSUloxycHyWcXRhR0RDMzFGNDRbQ0NUQDlHPDg0MjIRFRYnJSUgHyAKCwscGRcAkcN5bJ5uVIVoc6B9caaUdpyNXFRTcltbkWxleFZWhV1dkGhgTD42PzMtNDY3FCEiKjEzFx4hFBgZMTAvAH7Jp4jVtnG6nnO1mE2OeU5wYlxOS29pZpmFfXVUT4JbVohsZXFnY0tAOikwMBMfICs3OhAlJBYjIS4xMQB1tIZioH4/dmA1YVIpUERebGeOh4qZl6CLeHtvUEdwTkVfU1hiY3F3eIRUWl0YISMpNTkNHh4dJyU6OTkAX5F3RHheZohmVVZPU15epaijr6aKgXlth4F5jHxliXtjgX1tj4hvjYh3lpWYSVNXIzQ4DB4gGyUlOjs7AEJyWUdvWHyOaVc9Mn9veJGIhoRULn1oU4JnVXZdSYRmTn9oU49kO41jOImBgGNmaTMyNCopKzIqLTszMgB8hnh2f3N4eW9bR0Z7bnVveI9ZVmtaWGlaXGxaVWhdW29VWG1WWGphZXmFhpNkU1I3LCkvKSkvJycwJya+sga/tb7CjwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"검색한번해봐\"\n        title=\"\"\n        src=\"/static/9f4b868fa5fe9e14decff1c5a4bc1613/5a46d/image-6.png\"\n        srcset=\"/static/9f4b868fa5fe9e14decff1c5a4bc1613/c26ae/image-6.png 158w,\n/static/9f4b868fa5fe9e14decff1c5a4bc1613/5a46d/image-6.png 300w\"\n        sizes=\"(max-width: 300px) 100vw, 300px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이제 진짜 검색이 되게 해봅시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>inputClassName<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>검색어를 입력해주세요.<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Box</span></span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>className<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token punctuation\">{</span>items<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Box</span></span> <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>itemClassName<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token function\">keyFn</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span><span class=\"token function\">children</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Box</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Box</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>원래 <code class=\"language-text\">&lt;SearchableList></code> 와 같은 레벨에 있던 input을<br>\nSearchableList.tsx 안쪽으로 병합합니다.<br>\n이제 기능을 만들어요</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>searchTerm<span class=\"token punctuation\">,</span> setSearchTerm<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> lastChange <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useRef</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">any</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> resultItems <span class=\"token operator\">=</span> items<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>item<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>searchTerm<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">handleInputChange</span><span class=\"token punctuation\">(</span>event<span class=\"token operator\">:</span> ChangeEvent<span class=\"token operator\">&lt;</span>HTMLInputElement<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>lastChange<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>lastChange<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  lastChange<span class=\"token punctuation\">.</span>current <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    lastChange<span class=\"token punctuation\">.</span>current <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setSearchTerm</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>검색 거르는 로직은 대충 미니멀하게 GPT한테 부탁했습니다.<br>\n그리고 <strong>*Debouncing</strong>도 넣은거 잘 보이시나요?<br>\n이거 할 때, setTimeout 반환값이 브라우저는 number라서 number로 하니까<br>\nIDE가 Node.js환경인 줄 알고 자꾸 \"이거 Timeout객체 타입인데요?\" 경고띄우길래.. 그냥 <code class=\"language-text\">any</code> 박았습니다.</p>\n<p>나머지는 딱히 새로울 것도 없네요<br>\n이렇게 하고, <code class=\"language-text\">handleInputChange</code>를 가져다 input 요소에 등록합니다.</p>\n<p><img src=\"https://github.com/sungpaks/sungpaks.github.io/blob/master/content/blog/render-props-and-dynamic-key-and-debouncing/gif-image.gif?raw=true\" alt=\"결과\"></p>\n<p>좋네요.</p>\n<hr>\n<p><br>\nRender Props라는 리액트 패턴도 알아보고<br>\n동적으로 key 넣는 잡기술도 살펴보고<br>\nDebouncing으로 사용자 경험에 대해서도 고민해봤습니다<br>\n사실 Render Props는 요새 커스텀 훅으로 많이 대체될 수 있다고 해요<br>\n아무튼 알아두면 은근히 유용할 패턴인 것 같습니다<br>\n<a href=\"https://sungpaks.github.io/til/react-life-hacks-3/\">TIL에서도 리액트 패턴 중 하나인 합성 컴포넌트에 대해 알아봤는데</a><br>\n다른 것들 또 뭐 있나 알아보고 싶어지네요.</p>\n<p>이만 마칩니다</p>","frontmatter":{"title":"🔍 리액트 검색창 구현 : Render Props + 동적 key 설정 + Debouncing","date":"September 21, 2024","description":"앗! 리액트 검색창 구현 삼형제다!","tag":["React","TypeScript"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%9D%B4%EB%A1%A0-%EB%A8%BC%EC%A0%80\">이론 먼저.</a></p>\n<ul>\n<li><a href=\"#render-props\">Render Props</a></li>\n<li><a href=\"#%EB%8F%99%EC%A0%81%EC%9C%BC%EB%A1%9C-key-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0\">동적으로 key 처리하기</a></li>\n<li><a href=\"#debouncing\">Debouncing</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#typescript%EC%99%80-%ED%95%A8%EA%BB%98-%EC%A7%81%EC%A0%91-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0\">TypeScript와 함께 직접 구현하기</a></p>\n<ul>\n<li><a href=\"#%EB%A8%BC%EC%A0%80-searchablelist-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A5%BC-%EB%A7%8C%EB%93%AD%EC%8B%9C%EB%8B%A4\">먼저 SearchableList 컴포넌트를 만듭시다.</a></li>\n<li><a href=\"#%EA%B2%80%EC%83%89-%EB%A1%9C%EC%A7%81-%EC%B6%94%EA%B0%80\">검색 로직 추가</a></li>\n</ul>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/til/throw-on-hydration-mismatch-error-and-validate-dom-nesting-error/"},"frontmatter":{"title":"onThrowHydrationMismatch 에러.. 근데 이제 validateDOMNesting 경고를 곁들인. (Gatsby.js)"}},"next":{"fields":{"slug":"/til/introducing-redux/"},"frontmatter":{"title":"Redux."}}},"pageContext":{"id":"04e848cd-c54d-543c-803d-0bdc160ad5f3","previousPostId":"544a048b-06f7-598d-8a37-adc640a4809b","nextPostId":"35207938-89ae-5212-80af-d5732f90062e"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}