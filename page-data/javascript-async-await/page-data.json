{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/javascript-async-await/","result":{"data":{"site":{"siteMetadata":{"title":"조성개발실록"}},"markdownRemark":{"id":"d26bb57c-fcaa-54f5-849d-7fba212f2751","excerpt":"Promise…","html":"<p>Promise로 스마트한 비동기 처리를 살펴봤었는데요..<br>\n괜찮은 것 같긴 한데.. 아래와 같은 경우에는 아직도 알아보기 힘든 것 같네요?</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getJohnData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//John의 데이터 가져오기</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">username</span><span class=\"token operator\">:</span> <span class=\"token string\">\"John\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">email</span><span class=\"token operator\">:</span> <span class=\"token string\">\"john@example.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getSunghoData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//Sungho의 데이터 가져오기</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">username</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Sungho\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">email</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Sungho@example.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//꼭 John, Sungho 순서로 데이터를 가져오려면..</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getJohnAndSunghoData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">getJohnData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">return</span> <span class=\"token function\">getSunghoData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">return</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"John, Sungho Data 가져왔어용\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 329px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fafe9f6f4d12986516587366d216eea8/004a5/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.835443037974684%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABbklEQVR42pWRSVPCQBCF+QOWCxBkTQgBkpA9kw3CZoEWLuVRPcvd/3969nS0vKkcXtI96Xn55k2tZYQYxWtM0i3GYgN7fgvVzdGzUigj/2TVFCNA8fSK/dsRu5d3PB8/EKwP0P2SB5q6d5JqctNl38ZF18I56aw9pX7Gqqsu6pqLBumK6sbwH4ZyyEgy+HclxP0K4mENc1EgPqzgbBeY5inUQMDblVC9iM3/IAzQc2J07QhalGBI6loRv/tORHWIjhli4AtcGz5Re1CM3zKkxzjL4GzmTOFsFhCPK6b09ksEtCa/S3PnpsQkzzgGZfRDJevvngk7RDHwBHRBhGFCEaQVVZBAo+NK4hZR9d2YjZsUk6JXRM2hz31lTISy0MhkRnnpccIbDSIyy5xpVfqRkaZ8AjknI5hkOcy8gFnkGFP+1nzOEclLJEOf8gu/6ERF5sWY0LC9LJhIahSnbN6eBkws1ZuRKHu5Lu+gMXTxCbiNCr8IYRlKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"실행결과 1\"\n        title=\"\"\n        src=\"/static/fafe9f6f4d12986516587366d216eea8/004a5/image.png\"\n        srcset=\"/static/fafe9f6f4d12986516587366d216eea8/c26ae/image.png 158w,\n/static/fafe9f6f4d12986516587366d216eea8/6bdcf/image.png 315w,\n/static/fafe9f6f4d12986516587366d216eea8/004a5/image.png 329w\"\n        sizes=\"(max-width: 329px) 100vw, 329px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>더 좋아질 수는 없을까요?</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 276px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a7767145d2ac7b5ebd403d1c7fd8faf4/f2d11/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACk0lEQVR42mP4DwP//v1DZv/7+/c/IcAAUw7ScOvKxXVLF+7avOHDuzdw44DkHxD4DcRAI0FKkTVDFK2e1Z/iZOxnpGYsL+ZvZ3n94gWQFIb9f//+hbuR4S9Y+sbFczVhTgenlFxZ1r6pLaPIy7QyMfTv3z9AqfdvXq2aP3N6Z/POdatev3iG7EGo5nVzJq2sjXu4acajrbPe7JlzampBX5rP27dv/vz4sndyWbaDepCBvLeuop+Z7sTW+u/fv0KMADn727tX23sK76yfsH1C/fklfZdXTdjckjWjMOzLtx/Xdq08NyV/T39xU6xHhrupj5GauhDnxM4WiPtBmj8+vHV1ZtW7w0vvbJh+fXnbtt78ZTXpa5qzHl2/tGNy7fU1U3ZNbejKCKmMdE1yNXPUUPC2t/z9+zc0wP7+/vn46Kanm6d9Obby/rqJJ2aUnZpZuawg+FBf4aFJZS/2LDo4o256UWRrgmeGh4W1spSPrcXv37/AmsG+//7p/e11E07N61hTk3tkStWa0og5ya7XFtS/3jHj6ZbJZ2ZVHOrNmpcfWBHuZK8qWZWTBnU2MBKB+v/8/Xtz14JrqyduaS7c2JDcHWp7uCvj1NTyi9PKLs4ouTq/9uq0shlJ7hHWepEuNvdu30D4GRjcj2YsOFGccmVN36GpJe32WvMinW6tajo2MX93a+GmusR9nemHOhI25jm2+GpeOLoXohPk7Nfb91z1jDzDIHSGQ+aYsv5GKYVVfBKnu3MOdKcskBTf4+D35M6NE+1Rrya4fp9m+7jD+vnFPeAUCdZ8ilX4LAP3BRaJ80ziZxhFTjMIntA2vLqifn2840oGzjUMPJem9r6eG/V0SsDzqf5XOvwPdcV8+/QOEs8AwcolECE6OhkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"속닥속닥...\"\n        title=\"\"\n        src=\"/static/a7767145d2ac7b5ebd403d1c7fd8faf4/f2d11/image-1.png\"\n        srcset=\"/static/a7767145d2ac7b5ebd403d1c7fd8faf4/c26ae/image-1.png 158w,\n/static/a7767145d2ac7b5ebd403d1c7fd8faf4/f2d11/image-1.png 276w\"\n        sizes=\"(max-width: 276px) 100vw, 276px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>속닥속닥...</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getJohnData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//John의 데이터 가져오기</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">username</span><span class=\"token operator\">:</span> <span class=\"token string\">\"John\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">email</span><span class=\"token operator\">:</span> <span class=\"token string\">\"john@example.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getSunghoData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//Sungho의 데이터 가져오기</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">username</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Sungho\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">email</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Sungho@example.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//이렇게 해보세요..</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getJohnAndSunghoData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> john <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getJohnData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> sungho <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getSunghoData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>sungho<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"John, Sungho Data 가져왔어용\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>헉 이렇게 해보라는데요?<br>\n코드가 아주 절차적으로 보이고 아무튼 정갈해보입니다<br>\n근데 처음보는 <code class=\"language-text\">async</code>와 <code class=\"language-text\">await</code> 키워드가 있죠?<br>\n당장 알아보도록 합시다.</p>\n<h1 id=\"async와-await\" style=\"position:relative;\"><a href=\"#async%EC%99%80-await\" aria-label=\"async와 await permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Async와 Await</h1>\n<p>Promise를 더 잘 쓰기 위해 나온 특별한 친구들이 바로 <code class=\"language-text\">async</code>와 <code class=\"language-text\">await</code>입니다.<br>\n사실 이름 안에 역할이 다 담겨있고, 사용하기도 쉽습니다.</p>\n<h2 id=\"async\" style=\"position:relative;\"><a href=\"#async\" aria-label=\"async permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>async</h2>\n<p>먼저, <code class=\"language-text\">async</code> 키워드는 함수를 비동기(<em>asynchronous</em>) 함수로 정의하기 위해 쓰입니다.<br>\n<code class=\"language-text\">async function myAsyncrhonousFunction() {}</code>과 같이,<br>\n그저 함수 선언 앞에 키워드를 갖다 붙이기만 하면 됩니다.<br>\n이렇게 하면 해당 함수는 항상 <code class=\"language-text\">Promise</code>를 반환하며,<br>\n함수가 명시적으로 <code class=\"language-text\">Promise</code>를 반환하지 않는 경우에도 묵시적으로 <code class=\"language-text\">Promise</code>객체로 감싸줍니다.</p>\n<p>예를 들어, 아래 두 함수는 동등합니다 :</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">\"BBOONG\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">fart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"BBOONG\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>그렇습니다.</p>\n<h2 id=\"await\" style=\"position:relative;\"><a href=\"#await\" aria-label=\"await permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>await</h2>\n<p><code class=\"language-text\">async</code>얘기에 <code class=\"language-text\">await</code>가 빠지면 섭합니다?</p>\n<p><code class=\"language-text\">await</code>는 <code class=\"language-text\">async</code> 함수 내에서 동작하는, 이름 그대로 <em>\"기다려\"</em> 키워드입니다.<br>\n<code class=\"language-text\">await</code>키워드를 붙이면 해당 줄에서 <code class=\"language-text\">Promise</code>가 처리될 때까지 함수 진행이 멈춥니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 204px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4a8ec8f4051b8654da68b800520c86d1/779ef/image-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 94.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAAETklEQVR42hVT+U8bZxRcfOC1zeG9vv329PrANkewMTZgLuED29gUijmCTUgJLjgYg7lCIcXcBMghQlAlSBCBNqlIlPxQiUptVTWRKkWq+k91K71f3kijmaeZh+i0eGkZjhM0QUKMBASGqdWoUq0yAv09f81Cn+8wM3i9Of/5dP98fwtCEifLCbIc0DgFMATDAEHKkMwnKChjpFKpIg1oX71pIe7OdTflekK7o/GLlYmrvbWekN+A6XmehpCADIlgZJkBN8gbZBnAQYED7TaTWySG3aaleMN2KnK6PLlxO/T0Xu+fP+y8OdoTWELgAQNJhiURQrZKQcAYecEIeUbi6WzAl/JYv67hssG67ZHIyUwy39VcGIi828i/3lqymwUeUrI4x5MIgDTLSZA1khQLaK5EX2YDoLfGkqyXsiHX97f9O6OxmbBvJRE7m0tf7X7HkAaJpUWO5mVllqdFowgZQbag0aBKhbJMqxcNBr8ZG/VJ+W7v9jex9cHg/nji78vj6WQC1+kkDooszTEUQrMs5CmKBqpiFClC5CnT6cNtLYkm56BLHK4XR9scU13e2aHowp2h7kBrXzwU8DWEW72R1kYEsiwOcKVa45CszS5ns6s2FY+murtWJ0ZXkz2LvU1TEc9sT2ArncqE/HPRzslIONnWNBL0tdQ6EIYBqF6rUKmrJclpNlWJJp/FUknTDY7K442tV88Org5Xz9emb85Ost6WIYyLmitCja42r50BeqS4WIMoETWq0mhVxVqVslihUCoRRCEf3+nyHMzP37x/+8+n3z5ev7nj9vUSXNRib3HW3qqysiyG0JC3Vlh4gdWV6FQapRJVlOg1dohHvbZcb/t6KvZ8cezm7PD51vItm8ThBp4mJZNQ7bA21tgQXhBsDqtkNur0uqKiIrVa4akgU63WzP8hxy8LmZ8K2Q+Plv99f7E5n6HwMhwrrfV6Y1/1pPvDCEZQGGHA8HIdimpUKhssT9SJd332Mb93qS+6mYy9XPz2YvX+yVLm96vTYEcjhmlZiNMk5quvRuSEGY4BkFKjGlSr6qiA6baqmWBdOujNdAcedLdtDwSu13Lz/bGbF092H8zg5VrJyPIcXVtpRRgWQF4Om/KYeBNhaBGJ0SbrXNT7eCz+Mp8qDPjHPRUfNhd+Pdr8cvHsyy8/V9ssPCBZFrA0iTAcYDhaZEC6vTZo4z1M+bDHNBf2PErFjtIDs353trXueGL46uH020Luj1dPPU47Q2GiAE0CI5NZQeI4julwGAeclnYTMegW8zH3+oC/kAiMNzszHc0LsfDR1N2Pe4vvDlerLQJPY0aWNAsAgZCT31iNFqsUChtlCFip/jou1+UqDHduJqNZv3u8xZWPBp9MjHw+P/jxYAUvRRmAGTlSlLuN4watXmuWRIfZolWjNrI0bGeSXutcvGllMPAw0bGTirxevv/p/PFfl4fLkymfx1FtAQ4TbxG5/wDkWQLLUS+FJgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"기다린다\"\n        title=\"\"\n        src=\"/static/4a8ec8f4051b8654da68b800520c86d1/779ef/image-2.png\"\n        srcset=\"/static/4a8ec8f4051b8654da68b800520c86d1/c26ae/image-2.png 158w,\n/static/4a8ec8f4051b8654da68b800520c86d1/779ef/image-2.png 204w\"\n        sizes=\"(max-width: 204px) 100vw, 204px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>아까 처음에 살펴봤던 코드를 다시 볼까요?</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//async function에서</span>\n<span class=\"token keyword\">const</span> john <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getJohnData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">)</span></code></pre></div>\n<p>await가 없었다면 getJohnData()가 1초 대기하는 것을 기다리지도 않고 <code class=\"language-text\">console.log</code>가 실행되기 때문에, 결과값은 <code class=\"language-text\">undefined</code>였을 것입니다.<br>\n그러나 <code class=\"language-text\">await</code> 키워드를 붙여 기다리도록 했으므로, <code class=\"language-text\">Promise</code>가 이행되고 나서야 <code class=\"language-text\">console.log</code>가 실행됩니다.</p>\n<p>우리는 <code class=\"language-text\">getJohnData()</code>같은 비동기함수 호출과 그 밑 줄을 차례대로 실행하기 위해<br>\n콜백이니 <code class=\"language-text\">Promise.then()</code>이니.. 코드를 새로운 형태로 짜야 했는데<br>\n그냥 <code class=\"language-text\">await</code> 딸깍으로 가능해졌습니다..<br>\n펀하고 쿨한데요?</p>\n<p>흠.. 그리고 <code class=\"language-text\">async</code>함수에서 에러를 반환하고 싶을 수도 있겠죠? <code class=\"language-text\">Promise</code>의 <code class=\"language-text\">reject</code>처럼요<br>\n이 경우에도 그냥 아래와 같이 간단하게 할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">wannaReject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"No\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>혹은 예외 <code class=\"language-text\">throw</code>로</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">wannaReject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"NO\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이렇게 해서, 일상적으로 으레 하듯이 <code class=\"language-text\">try-catch</code>블록을 사용할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> john <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getJohnData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> sungho <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getSunghoData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/*두 썸띵*/</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"ref\" style=\"position:relative;\"><a href=\"#ref\" aria-label=\"ref permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ref</h3>\n<p><a href=\"https://ko.javascript.info/async-await\">모던 JavaScript 튜토리얼 - async와 await</a><br>\n<a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Statements/async_function\">MDN web docs - async function</a><br>\n<a href=\"https://velog.io/@tosspayments/%EC%98%88%EC%A0%9C%EB%A1%9C-%EC%9D%B4%ED%95%B4%ED%95%98%EB%8A%94-awaitasync-%EB%AC%B8%EB%B2%95\">토스 페이먼츠 - 예제로 이해하는 await async 문법</a></p>\n<hr>\n<br/>\n<p>이렇게 Javascript의 비동기 작업 관련해서 3번이나 포스팅을 뽑아냈네요<br>\n아무튼 마칩니다</p>","frontmatter":{"title":"🛑 자바스크립트의 비동기 작업과 Async/Await","date":"March 22, 2024","description":"JavaScript 비동기 작업 3탄입니다","tag":["JavaScript"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#async%EC%99%80-await\">Async와 Await</a></p>\n<ul>\n<li>\n<p><a href=\"#async\">async</a></p>\n</li>\n<li>\n<p><a href=\"#await\">await</a></p>\n<ul>\n<li><a href=\"#ref\">Ref</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/how-to-make-progress-bar-in-gatsby-blog/"},"frontmatter":{"title":"📉 Gatsby 블로그에 Progress Bar 넣기"}},"next":{"fields":{"slug":"/slack-github-subscribe/"},"frontmatter":{"title":"🖇️ 슬랙에서 깃허브 연동하기"}}},"pageContext":{"id":"d26bb57c-fcaa-54f5-849d-7fba212f2751","previousPostId":"73996920-36ad-5a49-8e56-3ab94d6b353b","nextPostId":"d3890864-70d7-58d5-838b-f21383d88a9d"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}