{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/javascript-async-await/","result":{"data":{"site":{"siteMetadata":{"title":"조성개발실록"}},"markdownRemark":{"id":"ff3f7e43-4229-533f-ae28-543b4a8a072e","excerpt":"Promise…","html":"<p>Promise로 스마트한 비동기 처리를 살펴봤었는데요..<br>\n괜찮은 것 같긴 한데.. 아래와 같은 경우에는 아직도 알아보기 힘든 것 같네요?</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getJohnData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//John의 데이터 가져오기</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">username</span><span class=\"token operator\">:</span> <span class=\"token string\">\"John\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">email</span><span class=\"token operator\">:</span> <span class=\"token string\">\"john@example.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getSunghoData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//Sungho의 데이터 가져오기</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">username</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Sungho\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">email</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Sungho@example.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//꼭 John, Sungho 순서로 데이터를 가져오려면..</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getJohnAndSunghoData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">getJohnData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">return</span> <span class=\"token function\">getSunghoData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">return</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"John, Sungho Data 가져왔어용\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 329px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fafe9f6f4d12986516587366d216eea8/004a5/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.835443037974684%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABd0lEQVR42pWRyVLCQBCGeQOVJRQkISEJSxKy7+ygFEVRelWvcvf9b7/dk0JPFnrodGYy3fP1l0bXimClG0yKPcbZDu7iCN2roNg5JDP4dzQkK0T1/IbD+wWPrx94uXwi3JxgBEtIVoCO6aNj+D/5RjS4a1N18aA6uFcc3Mk2mgNeu2jpnoi27td5+IeGfMjKCwTHFdLzRsR0WSE5rTHbLTApc2hhCv9pCc2PReMbhCEUN4HsRNCjFEacQbZjDCmrboy+HaE3jTAIUnRJQUvzhIrfHdJjVBRwtwtBMdvOkZzXmM4r+IcVQtrj79x8tl9iXBaCkuuuVJJZxzehTBQDP4GZ5YLMotwnKi3MoNO4TNwdBVDpjDqLySmPXROxsqtbQcgvepTBJV88Lo/DTtmjR9Sal9A6F+SsRKaLJmWJaVWJGGUF7MVc1LKOBt/E/ow0w5AK+nZIvhKMqwLOqhJEihfDTDJotN+b1BNxKKRBdmL6WfUU7aGHL/mFCtLCFSdsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"실행결과 1\"\n        title=\"\"\n        src=\"/static/fafe9f6f4d12986516587366d216eea8/004a5/image.png\"\n        srcset=\"/static/fafe9f6f4d12986516587366d216eea8/c26ae/image.png 158w,\n/static/fafe9f6f4d12986516587366d216eea8/6bdcf/image.png 315w,\n/static/fafe9f6f4d12986516587366d216eea8/004a5/image.png 329w\"\n        sizes=\"(max-width: 329px) 100vw, 329px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>더 좋아질 수는 없을까요?</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 276px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a7767145d2ac7b5ebd403d1c7fd8faf4/f2d11/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAChElEQVR42mP4DwP//v37jwD/wIgAYEBS/vfmlQtrlyzYsWnd+3dvkI37CwR//gAJLJohitbMmpDsaOxrqGokK+pvZ3n90kWQFIYGZAcyQMy7efF8TajjoSklV5a1b2rPKPQyrUgM/fsPJPX+7etV82fN6GrZtX7125fPkfVDNa+dM2lFTeyDTdMfbZ31Zs/cU1ML+tJ837198/fntz2Ty7Ls1YP05b11FfzMdSe1N/z4/g1iBMjZ396/2t5deGf9hO0T688v6bu8asLmlqwZhWGfv/24umvF+akFeyYUN8W6Z3qY+RqrqwtxTexogQQESPPHB7euzax6f2TpnQ3Tb6xo29aTv6wmY01z1qPrF3dMqrm+ZsruqY3dmaGVka5JrmYOGvKetua/f/+GBtjf3z+fHNv8dPP0L8dW3l878cSMslMzK5cVBB/oyT80sfTl3sWHZtRPL4lsTfTM9LCwVpbytgFq/gXWDPb9908fbq+beGpex+ra3CNTqleXRsxJdru2oP7NzhlPN086O6vicG/2/LzAinAne1XJmtx0qLMhkQGMxJu7F15bPWlrc9GmxpSuENtDXemnp5Vfml5+aUbJtQW1V6eXTU90D7fSi3CyunvzOszP4IB/PGvxidLUK+snHJpe2mavOSfC8faq5mNTC3a3F2+ojd/XkX6oI3FDnlOzr+aFo/sgOkHOfrNz31XvqDMMwmc4ZI6q6G+UVljJJ3G6O/tgT+oCKYk9jv5P79080R71coLbj6m2j9utnl/cC04rYM2nWYXPMvBeYJY4zyR2hlHkNIPgCW3Dqyvq18c7rmTgXMvAc2lK76s5UU+nBDyfGnClw/9wd+y3T+8h8QwAOJYlaSC9qQgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"속닥속닥...\"\n        title=\"\"\n        src=\"/static/a7767145d2ac7b5ebd403d1c7fd8faf4/f2d11/image-1.png\"\n        srcset=\"/static/a7767145d2ac7b5ebd403d1c7fd8faf4/c26ae/image-1.png 158w,\n/static/a7767145d2ac7b5ebd403d1c7fd8faf4/f2d11/image-1.png 276w\"\n        sizes=\"(max-width: 276px) 100vw, 276px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>속닥속닥...</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getJohnData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//John의 데이터 가져오기</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">username</span><span class=\"token operator\">:</span> <span class=\"token string\">\"John\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">email</span><span class=\"token operator\">:</span> <span class=\"token string\">\"john@example.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">getSunghoData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//Sungho의 데이터 가져오기</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">username</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Sungho\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">email</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Sungho@example.com\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//이렇게 해보세요..</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getJohnAndSunghoData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> john <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getJohnData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> sungho <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getSunghoData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>sungho<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">)</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"John, Sungho Data 가져왔어용\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>헉 이렇게 해보라는데요?<br>\n코드가 아주 절차적으로 보이고 아무튼 정갈해보입니다<br>\n근데 처음보는 <code class=\"language-text\">async</code>와 <code class=\"language-text\">await</code> 키워드가 있죠?<br>\n당장 알아보도록 합시다.</p>\n<h1 id=\"async와-await\" style=\"position:relative;\"><a href=\"#async%EC%99%80-await\" aria-label=\"async와 await permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Async와 Await</h1>\n<p>Promise를 더 잘 쓰기 위해 나온 특별한 친구들이 바로 <code class=\"language-text\">async</code>와 <code class=\"language-text\">await</code>입니다.<br>\n사실 이름 안에 역할이 다 담겨있고, 사용하기도 쉽습니다.</p>\n<h2 id=\"async\" style=\"position:relative;\"><a href=\"#async\" aria-label=\"async permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>async</h2>\n<p>먼저, <code class=\"language-text\">async</code> 키워드는 함수를 비동기(<em>asynchronous</em>) 함수로 정의하기 위해 쓰입니다.<br>\n<code class=\"language-text\">async function myAsyncrhonousFunction() {}</code>과 같이,<br>\n그저 함수 선언 앞에 키워드를 갖다 붙이기만 하면 됩니다.<br>\n이렇게 하면 해당 함수는 항상 <code class=\"language-text\">Promise</code>를 반환하며,<br>\n함수가 명시적으로 <code class=\"language-text\">Promise</code>를 반환하지 않는 경우에도 묵시적으로 <code class=\"language-text\">Promise</code>객체로 감싸줍니다.</p>\n<p>예를 들어, 아래 두 함수는 동등합니다 :</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">\"BBOONG\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">fart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"BBOONG\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>그렇습니다.</p>\n<h2 id=\"await\" style=\"position:relative;\"><a href=\"#await\" aria-label=\"await permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>await</h2>\n<p><code class=\"language-text\">async</code>얘기에 <code class=\"language-text\">await</code>가 빠지면 섭합니다?</p>\n<p><code class=\"language-text\">await</code>는 <code class=\"language-text\">async</code> 함수 내에서 동작하는, 이름 그대로 <em>\"기다려\"</em> 키워드입니다.<br>\n<code class=\"language-text\">await</code>키워드를 붙이면 해당 줄에서 <code class=\"language-text\">Promise</code>가 처리될 때까지 함수 진행이 멈춥니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 204px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4a8ec8f4051b8654da68b800520c86d1/779ef/image-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 94.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAAES0lEQVR42hWT+09TdxjGD+3p5ZRLz/V7vufe0xtFEFraMlou69W2tOHeAa2wAWoBQcrNMRSFhgmiTKZZIjoMMM0kcfthYcliFuOSZTH7q3b2/va+ySfP8755XsSCkbV1JEmxFAUJGpAEYTCY9AZUAdWT0ablgdB+Kf92e+nj0e6Pu9sQ0iRlpWgrYEkGEAhBAIqmSVrjKQZqM0qPojRu7very1nffK59vjexM559tX7t9Ns7vfEITlSLIoSQghyNEHQdTuKs1vIcEKAsgG632iqTo351NdtWKaSe375xfyRxMNX35w87r588kHhKEgEHaY6nEYoGmiLgFFFSOJFTRXYuFioGnP1NwlzcVymmny0UFjPhzXz6/H75pLLqcUgiZESRFUQaAZqkYIO8jWZ4AIWamjo3AP2XHWN+21zCe2ckWhnvWUiG1gd6jspTZztfczSu8KwksAJPIbwIZUWBnKhZMJownU5fi1XLuDVqx8dDtsVcW+XL7L18fHdq8O/Tp/PFIRzDNFjmWAEyCOR5KDIMC1CjGalCtKqz1KS6OwfbvV94lZFW+Wpn/Uw6cCufWb6az0Y7h3LJeKgt1RVMdX72P0wCUo+aGmzODp837Gsp5jKFXGbjxsRGoW91IDSnkb3xynRxJh4pp5KldKrQHbqaCHU0exAOArMFq0LRJtXmddgbFXvY6fCwIOhpONzafnmwd7a/cby5cPHi2WwwnMf5tN2ZaPN2BtyQsSBGza0eMZpRE4YaMVRv1On1egTRoXo05QvsLS1dnL/59OGPX89fT/jDfZSQcrg7WpqbL7kEntCuLThcDkHiLTUW1KRHMV1tjdkDyXTANd/bvTmWOVz56uJo78n2Wku9KlGkCGhFFS95HG1NLkSUJFe902ZXLNWWKl2V0aALuplil6sU820Xsid3Sz/dnX334Pa/58eVlRlA4yRRezkYzOR6pwaTCEEyBIkTpLUaM5sMqJu1DvrkiVD9ZCy4OpjeGu05Wpl+9c3Ms5XS+7PnyWiIIDEOapEm2v2NCOQkXuAAZAxmkxlDIy443XVpIe6bTgRLudharqsyHHu7ubA01HPx9PHO2gJhxVSFFwW2ucGJcAKAWtZ4JqCKdgrvkKnxdmc5HdyfzL4oF+8NRyf9rndby78fbv3z6uDTbz83up3a2jwPOEBrMMMJrMKBa583J9xigLOOBtTylcBuIXs4PXwr2nqz0/f99dHTjZtv7s6/f/k44PVwDCFLUJU4DeZlmygKfKTBNux1dKtUvlVezLbeG45sDsSmwi2lSHipJ/nd7MQvOyvnD9cbnbLIEjaetkssAqGgvbHBbNTrdC4ajzmZIZ8wn/Fujia3xtJzUf90h28xHX90vfjX8d7Z3jpRa+YAoQi0zDEISeJYNWa3yR67AzOY3XTtlXpuLOgsZ9vX87GNwehOIXVye/bj8aMPJw/XbhRCAU+jA3hU0SEL/wGGmQMdqjs2XQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"기다린다\"\n        title=\"\"\n        src=\"/static/4a8ec8f4051b8654da68b800520c86d1/779ef/image-2.png\"\n        srcset=\"/static/4a8ec8f4051b8654da68b800520c86d1/c26ae/image-2.png 158w,\n/static/4a8ec8f4051b8654da68b800520c86d1/779ef/image-2.png 204w\"\n        sizes=\"(max-width: 204px) 100vw, 204px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>아까 처음에 살펴봤던 코드를 다시 볼까요?</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//async function에서</span>\n<span class=\"token keyword\">const</span> john <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getJohnData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">)</span></code></pre></div>\n<p>await가 없었다면 getJohnData()가 1초 대기하는 것을 기다리지도 않고 <code class=\"language-text\">console.log</code>가 실행되기 때문에, 결과값은 <code class=\"language-text\">undefined</code>였을 것입니다.<br>\n그러나 <code class=\"language-text\">await</code> 키워드를 붙여 기다리도록 했으므로, <code class=\"language-text\">Promise</code>가 이행되고 나서야 <code class=\"language-text\">console.log</code>가 실행됩니다.</p>\n<p>우리는 <code class=\"language-text\">getJohnData()</code>같은 비동기함수 호출과 그 밑 줄을 차례대로 실행하기 위해<br>\n콜백이니 <code class=\"language-text\">Promise.then()</code>이니.. 코드를 새로운 형태로 짜야 했는데<br>\n그냥 <code class=\"language-text\">await</code> 딸깍으로 가능해졌습니다..<br>\n펀하고 쿨한데요?</p>\n<p>흠.. 그리고 <code class=\"language-text\">async</code>함수에서 에러를 반환하고 싶을 수도 있겠죠? <code class=\"language-text\">Promise</code>의 <code class=\"language-text\">reject</code>처럼요<br>\n이 경우에도 그냥 아래와 같이 간단하게 할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">wannaReject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"No\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>혹은 예외 <code class=\"language-text\">throw</code>로</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">wannaReject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"NO\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이렇게 해서, 일상적으로 으레 하듯이 <code class=\"language-text\">try-catch</code>블록을 사용할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> john <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getJohnData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> sungho <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getSunghoData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/*두 썸띵*/</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"ref\" style=\"position:relative;\"><a href=\"#ref\" aria-label=\"ref permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ref</h3>\n<p><a href=\"https://ko.javascript.info/async-await\">모던 JavaScript 튜토리얼 - async와 await</a><br>\n<a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Statements/async_function\">MDN web docs - async function</a><br>\n<a href=\"https://velog.io/@tosspayments/%EC%98%88%EC%A0%9C%EB%A1%9C-%EC%9D%B4%ED%95%B4%ED%95%98%EB%8A%94-awaitasync-%EB%AC%B8%EB%B2%95\">토스 페이먼츠 - 예제로 이해하는 await async 문법</a></p>\n<hr>\n<br/>\n<p>이렇게 Javascript의 비동기 작업 관련해서 3번이나 포스팅을 뽑아냈네요<br>\n아무튼 마칩니다</p>","frontmatter":{"title":"🛑 자바스크립트의 비동기 작업과 Async/Await","date":"March 22, 2024","description":"JavaScript 비동기 작업 3탄입니다","tag":["JavaScript"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#async%EC%99%80-await\">Async와 Await</a></p>\n<ul>\n<li>\n<p><a href=\"#async\">async</a></p>\n</li>\n<li>\n<p><a href=\"#await\">await</a></p>\n<ul>\n<li><a href=\"#ref\">Ref</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/how-to-make-progress-bar-in-gatsby-blog/"},"frontmatter":{"title":"📉 Gatsby 블로그에 Progress Bar 넣기"}},"next":{"fields":{"slug":"/slack-github-subscribe/"},"frontmatter":{"title":"🖇️ 슬랙에서 깃허브 연동하기"}}},"pageContext":{"id":"ff3f7e43-4229-533f-ae28-543b4a8a072e","previousPostId":"11be4ba9-0660-5613-a920-d53511355c4a","nextPostId":"c7f91836-3e2f-5909-b251-f31e8246e968"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}