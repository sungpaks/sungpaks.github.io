{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/mutual-exclusion-software-approach/","result":{"data":{"site":{"siteMetadata":{"title":"조성개발실록","siteUrl":"https://sungpaks.github.io"}},"markdownRemark":{"id":"e94a1b8f-b92f-5000-bbe1-4b7124e50ca0","excerpt":"…","html":"<p>옛날에는 프로그램이 오도기합짜세해병이라서<br>\n악! 한번 시작한 프로그램은 영원한 프로그램! 이었으므로 이게 끝나기 전에는 다른 무언가를 할 수 없었습니다</p>\n<p>이후로 어쩌구 저쩌구.. 역사를 거쳐서<br>\n프로그램을 중단시켰다가 다시 실행시키는 방법이 나왔습니다<br>\n덕분에 프로그램을 <strong>번갈아</strong> 실행할 수 있게 된건데<br>\n말이 번갈아서 실행하는거지 매우 빠르게 갈아끼우면 사람으로서는 동시에 실행된다고 느끼게 됩니다<br>\n마치 이미지를 주르륵 갈아끼우면 동영상이 되듯이요<br>\n이렇듯 여러 개의 프로그램들을 프로세스라는 단위로 나눈 다음, 줄 세워서 실행하게 되었습니다..</p>\n<p>게다가 이것으로도 모자라서, CPU를 여러 개 둠으로써 프로세스를 <strong>진짜 동시에</strong>실행할 수 있게 되었습니다<br>\n그리고 프로세스 안에 일꾼(=스레드)을 여럿 두기도 하게 되었고..<br>\n아무튼 거두절미하고, 이런 이야기는 나중에 또 쓰기로 하고</p>\n<p>그렇게 일을 동시에들 하니까 또 문제가 생깁니다</p>\n<h1 id=\"동시성-문제\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%8B%9C%EC%84%B1-%EB%AC%B8%EC%A0%9C\" aria-label=\"동시성 문제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>동시성 문제</h1>\n<p>무슨 문제가 발생하나 봅시다<br>\n잔고 0원인 제 통장에 A가 만원, B가 5만원을 입금하려고 하는데<br>\n제 잔고를 확인 --> 잔고 + 만원.<br>\n이렇게 하는 과정을 동시에 한다고 치면..</p>\n<p>A | 잔고 확인 : 잔고 = 0<div style=\"text-align: right\">잔고 확인 : 잔고 = 0 | B</div></p>\n<p>A | 잔고 = 잔고(=0) + 10,000 ==> 잔고 = 10,000<div style=\"text-align: right\">잔고 = 잔고(=0) + 50,000 ==> 잔고 = 50,000 | B</div></p>\n<p>결과적으로 잔고가 50,000이 되었습니다?? <del>뭐야 돌려줘요</del><br>\n게다가 이건 매우 운이 좋은 케이스인데,<br>\n위와 반대로 B의 순서가 A보다 앞섰다면 만원과 오만원을 넣었는데 잔고가 만원이 되어버릴 수도 있습니다..</p>\n<p>이렇게 어떤 공유 데이터를 둘 이상의 프로세스가 읽고 쓰는 작업을 하는데,<br>\n그 순서에 따라 결과가 달라지는 경우를 <strong>Race Condition</strong>이라고 하고, <br>\n이게 발생하는 부분을 <strong>Critical Section</strong>(이하 C.S)이라고 부릅니다.</p>\n<p>흠.. 어떻게 해결할까요?<br>\nA와 B가 (잔고 읽고, 잔고=잔고+금액)을 한 번에 한 명씩만 하면 되겠죠?<br>\n이렇게 한 번에 한 놈만 Critical Section에 들어오라고 하는 것을 <strong><em>Mutual Exclusion</em></strong>(상호 배제)이라고 합니다.</p>\n<p>이 상호 배제는</p>\n<ul>\n<li>소프트웨어로 구현하거나,</li>\n<li>따로 하드웨어 수준의 instruction으로 구현해버리거나,</li>\n<li>OS의 동기화 툴을 이용하거나,</li>\n</ul>\n<p>이렇게 크게 세 가지 방법이 있습니다</p>\n<p>지금 알아볼 것은 소프트웨어 알고리즘을 잘 작성해서 적당히 Mutual Exclusion을 구현하는 방법인데요<br>\n단순한 발상부터 시작해서 총 6개 방법을 알아봅니다</p>\n<h1 id=\"1-공유-변수-turn-사용\" style=\"position:relative;\"><a href=\"#1-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-turn-%EC%82%AC%EC%9A%A9\" aria-label=\"1 공유 변수 turn 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 공유 변수 <code class=\"language-text\">turn</code> 사용</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6e017a5ef7621475beefa7fc527c3d18/d0e73/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.645569620253163%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAzklEQVR42m2R1wqFQAxE9/9/TxAbvliwYO91ZALr3Qs+DInJSTaJKo5jWJYF3/dh2zb4fV0X9n0XHcchlrGyLIVxXReO4yDLspclR6lt22BKF2ud5/nCzGluXddPVvV9j7ZtQTsMg/hd16FpGtR1jXmepRnhcRwlRo4+OYoxapomqCRJ4HkegiCQlZjI8xxpmopYyIacoCgKWTcMQ/H5OFn2oPiQYiKKIik0xzfX0KtVVSU3pmWcYvy+79/KHHNZlr8fYErfjzDXJ6tv/aUHNnHNkpr/CFQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"#1\"\n        title=\"\"\n        src=\"/static/6e017a5ef7621475beefa7fc527c3d18/f058b/image-1.png\"\n        srcset=\"/static/6e017a5ef7621475beefa7fc527c3d18/c26ae/image-1.png 158w,\n/static/6e017a5ef7621475beefa7fc527c3d18/6bdcf/image-1.png 315w,\n/static/6e017a5ef7621475beefa7fc527c3d18/f058b/image-1.png 630w,\n/static/6e017a5ef7621475beefa7fc527c3d18/d0e73/image-1.png 671w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>마치 카드게임을 하듯이 턴을 정하는 방법입니다.</p>\n<ul>\n<li>공유 변수인 <code class=\"language-text\">turn</code>을 두고, <code class=\"language-text\">turn</code>값이 0이면 P0가, 1이면 P1가 C.S로 진입합니다.</li>\n<li><code class=\"language-text\">turn</code>이 상대 차례이면 기다립니다.</li>\n<li>C.S를 빠져나오면, <code class=\"language-text\">turn</code>을 넘깁니다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 487px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/53828edfd9b2dd5782d7538ee4a74b4f/7b439/image-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 148.1012658227848%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"고이즈미 신지로\"\n        title=\"\"\n        src=\"/static/53828edfd9b2dd5782d7538ee4a74b4f/7b439/image-3.png\"\n        srcset=\"/static/53828edfd9b2dd5782d7538ee4a74b4f/c26ae/image-3.png 158w,\n/static/53828edfd9b2dd5782d7538ee4a74b4f/6bdcf/image-3.png 315w,\n/static/53828edfd9b2dd5782d7538ee4a74b4f/7b439/image-3.png 487w\"\n        sizes=\"(max-width: 487px) 100vw, 487px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이 경우 <em>Mutual Exclusion</em>은 지켜집니다만..<br>\nC.S를 나와서 <code class=\"language-text\">turn</code>을 상대편으로 넘겨주기 전에 CPU 실행권을 뺏겨버리곤 영영 돌아오지 못한다면?<br>\n다른 프로세스는 C.S에 진입한다는 현실에 도달하지 못합니다..</p>\n<p>게다가 이게 진짜 공평한 턴제라서, C.S로의 진입은 무조건 같은 횟수만큼 <em>번갈아서</em> 진입할 수 있습니다.<br>\n문제는 C.S로의 진입을 P0는 10번만 하고 싶을 수도 있고, 반면 P1는 100번 들어가고 싶을 수도 있습니다..<br>\n이 <strong>무조건 번갈아서 들어갈 수 있다</strong>라는 것은 매우 큰 단점이 되기 때문에, 다음 방법이 등장합니다</p>\n<h1 id=\"2-공유-변수-flag2-사용-1--나-들어왔어\" style=\"position:relative;\"><a href=\"#2-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-flag2-%EC%82%AC%EC%9A%A9-1--%EB%82%98-%EB%93%A4%EC%96%B4%EC%99%94%EC%96%B4\" aria-label=\"2 공유 변수 flag2 사용 1  나 들어왔어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 공유 변수 <code class=\"language-text\">flag[2]</code> 사용 (1) : 나 들어왔어</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/da08f54f199406306508a0e1d8944a50/af192/image-7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.177215189873415%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA7ElEQVR42n2R14qFQBBE5/+/zowKYsIE5pz7Ug0j3t1lH4pph9NtV42wLIts22Y5jkP7vj86juPReZ6UJAkZhsGcruuU5znd903btj2cmOeZxnFkoUbjdV0s1O+haHzz+Jas5EXf9zQMA2uaJuq6jpqmobZtaV3Xr4FgwL97wNd1zeeyLCQURSHXddlCWZZsI45jiqKIG/BX2McGvu8zh3hwVlXFfBiGLAwVyCQIAvI8j4qiYEt/WUadZRmZpsnNGI4FJC/Zrw2xGYD/HkVVVeY1TaM0TX/xAv6RFXLB5c+HeA+U+SIr8PL+zX0AD0kVbouYStoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"#2\"\n        title=\"\"\n        src=\"/static/da08f54f199406306508a0e1d8944a50/f058b/image-7.png\"\n        srcset=\"/static/da08f54f199406306508a0e1d8944a50/c26ae/image-7.png 158w,\n/static/da08f54f199406306508a0e1d8944a50/6bdcf/image-7.png 315w,\n/static/da08f54f199406306508a0e1d8944a50/f058b/image-7.png 630w,\n/static/da08f54f199406306508a0e1d8944a50/af192/image-7.png 645w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>턴제가 아닌, 공유 변수 <code class=\"language-text\">flag[]</code>를 사용하여 <em>C.S에 진입헀는지 여부</em>를 표현합니다.</p>\n<ul>\n<li><code class=\"language-text\">flag[1] == true</code>이면 P1이 C.S에 진입했다는 의미이므로 P0는 기다림.</li>\n<li><code class=\"language-text\">flag[1] == false</code>라서 P0가 C.S에 들어가도 괜찮은 경우, <code class=\"language-text\">flag[0] = true</code>로 \"나 C.S 들어간다\"를 표현</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 474px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/48f04c94b8c5c8352f096a2ad107300c/5595f/image-6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9ADA9Rk1TT11fUUpFSURJUUBJT0NKUTE7RC8+SDlLVSMuOQ0VHA0WHRUeJicyOD1MUUlbX1lrcFRnbEVaXgAxPktlaFuAfF9yYlxxbm1ra2l0cG89RU0xQks6TVQWIysTGB8jJi0eIioSGyYhLjY8VVZfgn5bgn1JcWsAMz9IMkBKMD1KLjxFKzdCKzhEKDQ+JjI6M0BIIis1JSYtVktMZFdTaFlXSkVJFRwnOEZFb5J5a5NyYoJ0ADxGUTpETzI9SSgzPigyPh8pMhojKxkhKB8pMxoeJ0tHR29iXYRxaXhlYIJxcEhDTEZfUXqld3aabX6cjwDN2NrH1Na7xsy2xMxBTlcOFh4VGyMSGiEOFR0aHiZCQUVbXFpybGhbW1picnJYWmJIYVdfhGdsiXxljYUA1fz8uvf/rOT8h63BLz9GIC0yIzE3GyctFh8lMDE2eHNugIF3Z2higX94e4aBT1JcOVBYf5aVpcTFmrm4AH+eqK/V63ubsg0ZISc1OTBAQzBERys9QR8qMVNMS5B8dIl1cJR/d5aCfp+Mh391fSEyQl5xfY+yxKng9gBBTVOhvM2HobJha3Jzc3V9f4BUXGBhaW1manA0MzmHcGuOdHCSdnSsj4enkIl1fIkpPU8tPUtfgZlhjq4ALDo+N0VRNEJNMj1AOT5CLDE5eXhmb3Fea21fZ2RTin9vfWlkgm50m4uHlImGb3yFW2x6GCk2f5Whk56qABgiJxYfJhgjKRkmKxIiKBYeJINVK3hPLXlWLo9sQoJiO3ZgTXp3enp3d3x7fX9+fm11fCE1RFZqcvP39wAcJi0iMTgpOT8oNj0jMjokMDclJi8kJS8hJzAnJy5tWlJsWlNrX1l4b3BOYnYrO0RVcn9DW2sdMD2CqLS0Y+hoAYMpbgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"기다려 무도\"\n        title=\"\"\n        src=\"/static/48f04c94b8c5c8352f096a2ad107300c/5595f/image-6.png\"\n        srcset=\"/static/48f04c94b8c5c8352f096a2ad107300c/c26ae/image-6.png 158w,\n/static/48f04c94b8c5c8352f096a2ad107300c/6bdcf/image-6.png 315w,\n/static/48f04c94b8c5c8352f096a2ad107300c/5595f/image-6.png 474w\"\n        sizes=\"(max-width: 474px) 100vw, 474px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이러면 상대편이 C.S에 관심이 없다면(<code class=\"language-text\">flag == false</code>), 내가 원할 때마다 계속 C.S에 진입할 수 있습니다.<br>\n이전처럼 꼭 진입의 균형을 수호하지 않아도 됩니다 !</p>\n<p>그런데 <em>Mutual Exclusion</em>을 보장하지 못합니다??<br>\n양 옆의 코드 한 줄 한 줄마다 계속 차례가 넘어간다고 생각해봅시다..</p>\n<ul>\n<li>P0가 <code class=\"language-text\">flag[1] == false</code>임을 확인하고 <code class=\"language-text\">while</code>을 탈출</li>\n<li>P1가 <code class=\"language-text\">flag[0] == false</code>임을 확인하고 `while을 탈출</li>\n<li>P0는 <code class=\"language-text\">flag[0] = true</code>로 올리고, C.S 진입</li>\n<li>P1도 <code class=\"language-text\">flag[1] = true</code>로 올리고, C.S 진입</li>\n</ul>\n<p>C.S에 동시에 진입할 수 있게 되어버립니다..<br>\n근데 여기서 <code class=\"language-text\">flag[] = true</code>로 켜는 명령줄 위치를 바꿔주면 떔빵이 가능합니다.<br>\n그게 바로</p>\n<h1 id=\"3-공유-변수-flag2-사용-2--나-들어갈거야\" style=\"position:relative;\"><a href=\"#3-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-flag2-%EC%82%AC%EC%9A%A9-2--%EB%82%98-%EB%93%A4%EC%96%B4%EA%B0%88%EA%B1%B0%EC%95%BC\" aria-label=\"3 공유 변수 flag2 사용 2  나 들어갈거야 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 공유 변수 <code class=\"language-text\">flag[2]</code> 사용 (2) : 나 들어갈거야</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/32248180c0e0250d082a8fea7b63240d/a1253/image-8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.44303797468354%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA7ElEQVR42m2R2QqFMAxE/f9/Ex8Udx9E3BD3FbdcJpBS4T6E0vR0mGSMNE3J8zwKw5Bc16WiKOh5HrquS9V5ntybpokZ3/cpCALKsozu+/6wxnEctK6rqm3blIgOSg/vy7J82I/gOI6E2vedITjRS0A4gUDf94pF731fxeJuJElClmXxyBhjGAbquo6qquLP4hQfcDdNk+I4JsdxqG1bNtM0DRecG/iIvQCAYBRFlOc57xLCuuA8z/wO1rZt3iUyqOuayrJk1wYWC0DCkVH0kSUUuBEWYnClszwy9oKd6EHg/BcKAtRDk4SFR/0AAuIWH3448fIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"#3\"\n        title=\"\"\n        src=\"/static/32248180c0e0250d082a8fea7b63240d/f058b/image-8.png\"\n        srcset=\"/static/32248180c0e0250d082a8fea7b63240d/c26ae/image-8.png 158w,\n/static/32248180c0e0250d082a8fea7b63240d/6bdcf/image-8.png 315w,\n/static/32248180c0e0250d082a8fea7b63240d/f058b/image-8.png 630w,\n/static/32248180c0e0250d082a8fea7b63240d/a1253/image-8.png 657w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">while</code>직전에 먼저 <code class=\"language-text\">flag</code>값을 <code class=\"language-text\">true</code>로 올리도록 순서를 살짝 바꾸어서<br>\n이제 <code class=\"language-text\">flag[1]</code>과 <code class=\"language-text\">flag[0]</code>을 마치 <em>C.S에 들어가기 위한 의사 표현</em>으로 사용하게 됩니다</p>\n<ul>\n<li>먼저 <code class=\"language-text\">flag[0] = true</code>로 놓고 <code class=\"language-text\">while</code>로 기다리다가,</li>\n<li><code class=\"language-text\">flag[1] == false</code>이면 C.S로 진입</li>\n</ul>\n<p>이러면 일단 P0가 <code class=\"language-text\">flag[0] = true</code>를 켜고 나면, P1은 P0가 C.S를 빠져나오기 전까지 그 어디서도 <code class=\"language-text\">flag[0] == false</code>임을 확인할 수 없으며,<br>\nP1이 P0의 <code class=\"language-text\">flag[0] = true</code>직전에 CPU 사용권을 잡아채서 한 줄이라도 실행했다면, P0가 C.S에 진입하는 것이 성립하지 않습니다</p>\n<p>이로써 <em>Mutual Exclusion</em>을 보장할 수 있게 되었는데, 새로운 문제가 발생합니다 :</p>\n<ul>\n<li>P0가 <code class=\"language-text\">flag[0]=true</code>, CPU 사용권 뺏김</li>\n<li>P1가 <code class=\"language-text\">flag[1]=true</code>, <code class=\"language-text\">flag[0]==true</code>인 것을 보고 기다림</li>\n<li>P0는 <code class=\"language-text\">flag[1]==true</code>인 것을 보고 기다림</li>\n</ul>\n<p>이렇게 서로가 서로의 <code class=\"language-text\">flag==true</code>를 확인하고 무작정 기다립니다.<br>\n한 치의 양보 없이 그저 상대편이 <code class=\"language-text\">flag=false</code> 해주기를 기다릴 뿐입니다..<br>\n이렇게 서로 버티는 상황을 <strong>Deadlock</strong>이라고 합니다</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 189px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5d2d7732f419e3332c13e1e3aa3beded/0f8c7/image-9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 141.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAIAAADuuAg3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEWklEQVR42mWUySv+XxTHr7HIvLBRprDAQnak/AEWRGxspKysKIqSLEhKhiLJPEU8fBGZ5zLP8+wxPY95nh++v9fnc3/ZfO/i0/3ce97nvM/7nHPF2tpaf3//0dHR8fFxcHCwEMLGxsbOzo5Namoq53t7e3q9fnNzc3Z2dnx8fHFxkf3Jycno6KjY3d3t6em5urpKSUkBYGxszNfIyIivtbU1AK1W+1ddb29vGN/d3b28vJydnVVUVIj39/elpSV8JyUlAfDy8goPD4+IiHB2dra0tJyYmGhtbQX/+fmp1+mASUdfX19VVVWC3c3NDUZjY2NZWVn19fWrq6u4y83NraysnJ6e5gTmBwcHW1tbuLi/v396egKl0CYmd+3t7URgw+nk5CR4PI6MjAAeHh4mVU7AX15eNjQ0dHZ2YjY0NCTIYWdnByQ0Ojo6OCUCyPn5eeI/PDygDRmiK66vr6+bm5vxhRlKCUyJgOOVlZXQ0NDb21syhFt+fj5hSVKn0/GLoijf29tbW1sLF7wTX2CNP9wjZklJCRlqNJqmpqaysjJyA0PwG3VRIWAzMzPLy8vw7+vrE9/f34+Pj+fn5+DJn+RbWlr4Tk1NcYjR8/MzyP39fepkMBik2jBCY8EFGNwThAYgPdiSC1lwAueLiwtcHB4ekg4BKNLp6SmWqCDgRnDpb3t7m8TY6NXF5ufnh0YgJmYEwDVpr6+v4w5jIa0pIC4wZWNQF78fHx9cESQ2NpaAyEaClAZGr6+vsBM5OTkywt9/lmQUFRVFn8IZPOqiK+TZQEf4+voi8ry6cMYRvjFFWIpRVFRkZmZG21I5mQ4xUQEVlcj+/v5CXYGBgWSysbHBBRPm6uoq58TBwYFNSEgIYNIhL8iTP8FEQECAqakp1+bm5l1dXZJ/TEyMRFpZWXl4eLB3c3NDedhSJFwQAC2UgL+TSHuALCgoYG9iYsLXwsLC3t7e0dGRMUAClJeVw0wplQSz4uPjOaJ7bG1tf0eahMEXFxdLzvILHoKKYEFBQZKVHPrIyEh+ZSIS7+TkxCSgMIQpnpwTMmdOhJ+fHxZMMmWkdRAsLCxMSiCZe3p6NquLnqXtGhsb6Wr407DKHTz31Uk2fCvELi4vXFxcftP29vYuLCwsLS1NTEzMy8uLjo5OT0/HTKEdFxeXnJws+4FMDOqGuUtISABQU1Pj7u6enZ0NSQq7sLAwMDCAeLKXBZ1AV9CkTPXg4GB3dzdGVAJVAMzNzfG2ZWZm8hLK1woMw/8/mGt+EIPr6upqXjJal3rS/cTRqgsteGqwRhECcEWTMNiCl0CCj7Taurq6yalJvDLJHNJn3H6pC7bl5eWMFNMOL9JUOowgdCzR/qBmZ0dbWyv1gDPCwuK3vFSIp4/npa2tDaeAlVKxgxX50JYf6jzS+vcP92lpaUjFDP2OF+2JLjCnSARQwFQMwXgolBn+UYzoAeL4+PhQp4yMDBlc4glDIuBJU6PR/Acvgr3WYy9D9QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"서로 죽여라\"\n        title=\"\"\n        src=\"/static/5d2d7732f419e3332c13e1e3aa3beded/0f8c7/image-9.png\"\n        srcset=\"/static/5d2d7732f419e3332c13e1e3aa3beded/c26ae/image-9.png 158w,\n/static/5d2d7732f419e3332c13e1e3aa3beded/0f8c7/image-9.png 189w\"\n        sizes=\"(max-width: 189px) 100vw, 189px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>그럼 서로 좀 양보하고 그러면 어떨까요?</p>\n<h1 id=\"4-공유-변수-flag2-사용-3--양보\" style=\"position:relative;\"><a href=\"#4-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-flag2-%EC%82%AC%EC%9A%A9-3--%EC%96%91%EB%B3%B4\" aria-label=\"4 공유 변수 flag2 사용 3  양보 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 공유 변수 `flag[2] 사용 (3) : 양보</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 573px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/64bbe71218cf43ea31f20e3eff1287bb/3c024/image-10.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABTklEQVR42o2T6Y6CQBCE5/3fDRUUAUVF7giKAp4cvalOBsnugv6oQMJUdffXg1BVlZbLJZmmSYvFgmzbpqZp6PV6UVVVf1TXNW23W4LPMAxarVak63p3XhyPR8qyjHU6nehyubDpvzCpoigIvr63C2zblvpCd2NhUkMeoWkaua5LURSR7/sfg9A9sADT4XBg7/V67aYSk8mE+YHJfD6n2+02ODLGQjfr9ZpmsxkzVBSF9vv9O3C32xFCARpVPc8bHRtGcEYDm82mW8rj8eBvAm2jGsYA5Ofz+XHk+/3O5zFREARUluV7KeCGDtE2eKRp+vHaIEBeMQTC142c5zlDRWfgJ9+HOkSh8/nM5zAmhAJ44hszBFyAtiyLWaLI2F0Mw5DZScEbxzGHiul0So7jsLBtCXcoDDjkn4JgLDJJkm6RAgHfXOS+gOY3BnmxfwBCfJPlkVk/5AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"#4\"\n        title=\"\"\n        src=\"/static/64bbe71218cf43ea31f20e3eff1287bb/3c024/image-10.png\"\n        srcset=\"/static/64bbe71218cf43ea31f20e3eff1287bb/c26ae/image-10.png 158w,\n/static/64bbe71218cf43ea31f20e3eff1287bb/6bdcf/image-10.png 315w,\n/static/64bbe71218cf43ea31f20e3eff1287bb/3c024/image-10.png 573w\"\n        sizes=\"(max-width: 573px) 100vw, 573px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>말 그대로 아까 코드에서 양보룰을 추가했습니다.\n이제 아래와 같은 동작을 반복합니다 :</p>\n<ul>\n<li>P0가 C.S에 진입하려는데 <code class=\"language-text\">flag[1] == true</code>인 경우, <code class=\"language-text\">while</code>로 진입하되</li>\n<li><code class=\"language-text\">while</code>내에서 <code class=\"language-text\">flag[0]=false</code>로 양보하고 잠깐 기다림(delay).</li>\n<li>잠깐 기다린 후 다시 <code class=\"language-text\">flag[0]=true</code>로 놓고, `flag[1]을 재차 확인</li>\n</ul>\n<p>이전과 동일하게 <em>Mutual Exclusion</em>은 보장되며, 양보로 인해 <strong>Deadlock</strong>은 발생하지 않게 되었습니다.<br>\n그러나 과유불급이라고 했나요.. 무작정 양보하기 때문에 또 새로운 문제인 <strong>Livelock</strong>이 발생해버립니다<br>\n둘 다 <code class=\"language-text\">while</code>에서 서로의 의사를 확인하고 <code class=\"language-text\">while</code>문 내부로 진입한 경우,</p>\n<ul>\n<li>P0가 양보 (<code class=\"language-text\">flag[0]=false</code>), 기다리다가 CPU 사용권 뺏김</li>\n<li>P1가 양보 (<code class=\"language-text\">flag[1]=false</code>), 기다리다가 CPU 사용권 뺏김</li>\n<li>P0가 다시 <code class=\"language-text\">flag[0] = true</code> 하자마자 CPU 사용권 뺏김</li>\n<li>P1이 다시 <code class=\"language-text\">flag[1] = true</code></li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEkklEQVR42g3R6VthCwCA8fNn3nnuzNymjSbabOVQJk12jUZSKUQhEaFVSqlBEoqyhmNfj13N3Dt3nuf9+vv0AvFn6sUpTSqmcuj4l5DQYmbaf8h///al06ZIcLdUWO80l+HSar0ibDVFnba+3ZI1a6Jq2disnQK1EsP5g7Ylp2DH+4z6L7tKrFpBPj5inBwzDXv0xzv2vy1Zu6xow6oWvNOqqpvl9Sa81qpvtmAlACfAnxVi+JE8NvI+G2EQJj6Iloburil61UgtB1bSU50qvl3FtmFyE2a0auJu67BVMjRTGji+C9Qy7EZ+rpQW3rsWXxvy+1tO9Ilps5AKaWoOms6nKO06rVWndRsrP7vmtzdLJSxLWZgZMyNu5AD1wvdaYe21xrq9nlcqCDoNwXZBJ2AH9rXzBh1nf49xdMCymYn/dXiJyOqLnZc1U3KH1PwpM77PAWAI0yjwOwXm0x3hxoKzX2Ac59gVPraU2wn41vc1s7WyoJhlNQpcl2HBpmT61eScgQTtzQY1LKAS7aumMI38YjMNwtD4W2WinpvOxJZ+dXmdOuv1TxVuIyfPe6R1PTWpZgRl+IxxMqYmRbV0oBL7BCcRjRKnlv/WhRmeG4xWRL1SieCC4e3V9NrZboX4JYug7JRVNWBpcyqnJWQMxLCS9Kz4CpQhQS0nqBWlfzbUS3KdlB8++l7YJaYvF7odcSu7EbEKk+aV1N1+UE7xSGcOBJSwhvQHe+XzQCVCqaaJ9SzYLJLhDC5rx5XPCJAEkbfNtIvsgpdrVXMOJGsOk+RYTDvbYl9quSebNKcIdItngXwAXQyhi+HhSnioEScWzvDZHUx0Y6QBrXST3LiDdKOj3O5NBq9YvkOuW/P1Vk8Ts6b3+JSMcx14uRzNujDp61HITs3m424+8xSPOhhDXuk0Pl8oeTqdP0HBDxMpFzm0O11UTSip44h3iNnJ3mb1O2ATDj0YwFqEFjBxjAf2y3OPuhetmwSNkmXL/npEO5ZWjLwYMX7bskWysDreL2RxJ9GT+IH31bAQcC0Mnsz3hY0YL+nj9ui4fk3iEmCit/p8VF587MsFBnPOTzHbnFahn8OMmGTEI/0R8t2nSz2qGvoCPC31B4QDZ+zPjo0VE5W9Q8QHl3ojYsSj5Uv2EZnzDxWCiFREMDP1bZOD/pWZs5s5s6OgeR1ZfMIB3uW+0BbSwuk5UW1e3yVubFaf4+rFLvGeM9LPwnxIlHbzIMeigU60rVIrYUkpyPBtkz1ibNYHAm5e75NswLfSo6YMS5clPjM9GvNbDuW3KkTiajhuBWPGYZ+8/0E6GNQNJc7xkYM5J380ejiTdguBC+YHq2DAsYqQEAa32ajkda/H7VBuyMO2vwohVNyKC572RWz/vDh7kq7+pGMwcTkY/zECeRdjfhFwxu41CdACcIiORFhVw6XnMfMq026eyse+XqwsPZmmID8u4QFT92DSRUi4JuL3U6mgEAqvJQIgcDT7983y561p5AYBYfiGutegrykf7xWoZ4d4D7v4cMzKRFgvXl7CL0g+8iA/Hwopk0FRxDsKBXD/A2frSa2L6/vOAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"형님먼저 아우먼저\"\n        title=\"\"\n        src=\"/static/46ecb893e87ea183cf2bf50afcb13a4f/3684f/image-11.png\"\n        srcset=\"/static/46ecb893e87ea183cf2bf50afcb13a4f/c26ae/image-11.png 158w,\n/static/46ecb893e87ea183cf2bf50afcb13a4f/3684f/image-11.png 225w\"\n        sizes=\"(max-width: 225px) 100vw, 225px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<a href=\"https://www.melon.com/album/music.htm?albumId=10100122\">출처</a></p>\n<p>이런 과정을 반복해버리면 서로가 서로를 양보하다가 Livelock 사태가 벌어지고 맙니다..<br>\n이 경우 딜레이를 줄이거나 아예 없애도 Livelock 문제를 완전히 해결할 수가 없습니다</p>\n<p>장난 그만 하고 진짜 문제없는 알고리즘을 살펴보도록 합시다<br>\n앞으로 두 개의 실명제 알고리즘이 나오는데<br>\n'이름이 붙었다는 것은 강하다는 것'<br>\n과 같습니다</p>\n<h1 id=\"5-dekkers-algorithm\" style=\"position:relative;\"><a href=\"#5-dekkers-algorithm\" aria-label=\"5 dekkers algorithm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Dekker's Algorithm</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/24b7bf7bed3febe422869f67648980f6/e9beb/image-12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 84.81012658227847%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABlElEQVR42pWU6a6CQAyFef+XI1Fj4oYRcQU3VFyhN1+TTpA73OXHSMc5PdOeUwhWq5VMp1OJ41hms5m8Xi/ver/fuoifz2crLpjP59Lv9+V0Osn9fm8Fc5bnuT4hbsMF2+1Wut2uLBYLTSjL8gNAIv8dDgfF0Qlxa4XcNhqNFMwzyzIvaVVVemmn05HBYCDr9dpPSDJACIfDocYk+6rc7XbS6/UUx+WPx8Pp6ggtAdB4PFaD0jR1RLbYQ4pxkEVRJMvl8gPDBYEBJ5OJhGGoCVRJSxjG/nK5OEKmAhz4JEl0DzGFIJcSwswBAEzCHFrBUc7qLVE9F4E7Ho9uAmxCAn4gsASqqOtiMc/z+ayJhqmfWayElEqbtAa4OWPsSdjv99oFY+PDubFBJzTZbDbaRtM5cxldMQ95IG/inMuICiEuo5FvDknmDHcpgAFv4pSQNk2D+mq+x9frVW6324du3sG26rCddhG9KIpvQMh++ig4QhzmLYGYVmws7CPwG4GXEKHRBtHbxP4zIbMFKaNA7Gv3P4Rf+QcecShE/qQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"#5\"\n        title=\"\"\n        src=\"/static/24b7bf7bed3febe422869f67648980f6/f058b/image-12.png\"\n        srcset=\"/static/24b7bf7bed3febe422869f67648980f6/c26ae/image-12.png 158w,\n/static/24b7bf7bed3febe422869f67648980f6/6bdcf/image-12.png 315w,\n/static/24b7bf7bed3febe422869f67648980f6/f058b/image-12.png 630w,\n/static/24b7bf7bed3febe422869f67648980f6/e9beb/image-12.png 730w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>각자의 의사 표현인 <code class=\"language-text\">flag[2]</code>만으로는 문제를 해결할 수 없어서, <code class=\"language-text\">turn</code>까지 도입합니다<br>\nP0과 P1 함수에서 막 <code class=\"language-text\">while(true)</code>로 C.S와 non-C.S를 무한반복하는 것 처럼 보이는데,<br>\n그냥 프로그램은 C.S와 non-C.S의 반복적으로 나온다는 것을 간단히 보이기 위한 장치니까 신경쓰지 않아도 됩니다<br>\n아무튼 중요한건 이전의 알고리즘에서 <code class=\"language-text\">if(turn==1)</code>와 <code class=\"language-text\">while (turn ==1)</code>이 추가되었다는 점입니다</p>\n<ul>\n<li>P0는 <code class=\"language-text\">flag[1]==true</code>이면 <code class=\"language-text\">turn</code>을 확인합니다</li>\n<li>P0가 보니까 <code class=\"language-text\">turn == 1</code>인 경우,\n<ul>\n<li>내 차례가 아니니까 <code class=\"language-text\">flag[0]=false</code>로 양보하고 기다립니다.</li>\n<li><code class=\"language-text\">turn==0</code>이 되면 이제 그만 기다리고, <code class=\"language-text\">flag[0]=true</code>로 다시 올립니다.</li>\n</ul>\n</li>\n<li>P0가 보니까 <code class=\"language-text\">turn == 0</code>인 경우,\n<ul>\n<li>내 차례니까 상대편이 <code class=\"language-text\">flag[1]=false</code>로 양보하기를 기다립니다.</li>\n<li><code class=\"language-text\">flag[1] == false</code>가 되면 C.S로 진입하고, 끝나면 <code class=\"language-text\">turn</code>을 넘기고 <code class=\"language-text\">flag[0]</code>을 내립니다.</li>\n</ul>\n</li>\n</ul>\n<p>이렇게, 현재 <em>내 턴이면 버티고 내 턴이 아니면 양보</em>하도록 하여 Deadlock과 Livelock 문제를 모두 해결합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 261px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d7bdf9ee4a23115149b95782b2f3a67b/edf96/image-14.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.0506329113924%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADdUlEQVR42g2TyW8bZRiH5x9gEQiQkHpCggNIvQAR6QXSqlIqgcMiJW1CGyDQNPHMeFavsZ1ZPYvHEy8Z2+PZPN4anFWlWFFJUtRSpQtV04YkTiygpKoE/wQjfYf38tPzLs8HcAbKlJCkBkdy/nB2OlrwxzUwrvmpCkybUKZJpFuE3CR4B6HKIGVAjAlROswYGGtggGihvI554VgBis1DMxo4W5yeLYFBdSKe+vac76P+T05+NjpApsYVF+VMmDW8MMIYiGBhgGITYoVkSqiXT2gwVYToEig56LCvn5kYWmSuXDzT986br7/y8ktDF05nXIwzAh5WsAjRJgDFCslmkC0j1DzEFBHaKzT/oh15XOfiXw8etPnn69ml1NT44KkTr7069sO5bJNkDZT3wg4JqFZYNj1ygPawJXiuCG84yTuVRA4bW89iu1fZ1OUh4vxZbOTs1OcDb791gsr7JQdL2WiqigNzTkQxgkIZZUuIoiG3bWqvIT5uCCs8eEeP7S8IMnh+TUE28ngaHH7jxRcuB0fmGhHJCqZrISDrhjJWUKzgdCnQKEd3G9KTBbm7pByvqcermb+W0sssaITHe0vKtpVQoQvVPCLbmGQRshMGsk447QRTOkqVA1qJ3KkJt3LBLRk5+lH6e0V5uqr+ez3730+5o7bUbcvPO4VHLUE1UdHGRTsI5OszIWk6mQ9IJsnpiKtHyhNf1r737dfZXls4bNDdFnvQEg4X1Z0W90crtVmn+CKcnEcEmwQKjbhkkFIlJFshrgQv/1x5eGPB/Kqv6eurDb63PHZ6k5/ctvne3u0HN9tVJ6o6BKejUdUveKcqNBK5eizjhEWL5Mvo2rp1b9Wofud7cM3pJKdu5pOb9MTeLwt/Ht172r1bW1FEC1HdcNolZRcHCvXonBtN2yHBxL3OM27MFAL3r2aPn+10d2/1Ht7oEKO9R1tHT7aeHd5fu655/ohVz1ZUqhHAfDOquiFve5yBiQYpVpAvRqYKQv733zr/HG7v/9reYid7B3fXO0sbG26xHpMdgrdR1gpwDgrk6p4rKKsHaB3ldIzLoRevkO/246OX4jNJUaSZfDKOh9PfTJKpPC6YqDcqawZoC/YeoNYxyUaYCpIoQgkNpDWElaAEGP50GP/wDHzyVPj9gdkPPo5egoiMJ5b3ixzUY7I2Qpng/+m56QMI3cRJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"봐준다\"\n        title=\"\"\n        src=\"/static/d7bdf9ee4a23115149b95782b2f3a67b/edf96/image-14.png\"\n        srcset=\"/static/d7bdf9ee4a23115149b95782b2f3a67b/c26ae/image-14.png 158w,\n/static/d7bdf9ee4a23115149b95782b2f3a67b/edf96/image-14.png 261w\"\n        sizes=\"(max-width: 261px) 100vw, 261px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>또한 이전에 발생했던, 강제로 턴을 기다리는 상황 또는 <em>Mutual Exclusion</em>이 보장되지 않는 상황 또한 일어나지 않습니다.</p>\n<p>아 근데 좀.. 길지 않나요?<br>\n더 짧게도 가능한 방법이 있습니다</p>\n<h1 id=\"6-petersons-algorithm\" style=\"position:relative;\"><a href=\"#6-petersons-algorithm\" aria-label=\"6 petersons algorithm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. Peterson's Algorithm</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/eef2dd4a431e8f2624e00339c9ea3c1d/be86f/image-13.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABe0lEQVR42p2TiY6CQBBE5/8/zohKFIy3gkdUUAQ827xOZqOT0c2uyQSc43VV9WDW67XEcSzj8ViiKJIsy+R+v8vlcpHr9fo2brebrvF01+wwi8VCWq2WAAZyPp8/bq7rWvI8l7IsFewF7vd7CcNQptOpqgPqU8Dc6XSSXq8nw+FQdrud/nfBhonRaCRBEKjl+XzurUwh9uKk2WzqXs6h+g34eDxktVpJt9sV1B4Ohx/bPF+zRGVRFJo5UeHIAm1cqnC73Sqw3W5Lp9PR9+VyqfPkBchGgU2A7Gs0Gqp0MpnIZrPRGIzdlCSJdprK2KKyL0tUsD4YDPQM43g8vltGDapY5J1DPhhuiITG0ESicjtubNBWer/fl6qqvnaavQCx7t5bgzUATL52zHexWacpgG3j3MKG4AmTDlOdCIC794uD2Pt28RWIZHuvsEuOdCxN06+f2Ecg1mgIFxoQeRI8hf4KUyA2UMaYzWaqEOv8fDn+CuQwubhfxX9gAJ+1toLRw0WHrwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"#6\"\n        title=\"\"\n        src=\"/static/eef2dd4a431e8f2624e00339c9ea3c1d/f058b/image-13.png\"\n        srcset=\"/static/eef2dd4a431e8f2624e00339c9ea3c1d/c26ae/image-13.png 158w,\n/static/eef2dd4a431e8f2624e00339c9ea3c1d/6bdcf/image-13.png 315w,\n/static/eef2dd4a431e8f2624e00339c9ea3c1d/f058b/image-13.png 630w,\n/static/eef2dd4a431e8f2624e00339c9ea3c1d/be86f/image-13.png 662w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>데커 알고리즘에서는 <code class=\"language-text\">turn</code>을 C.S가 끝나고서야 반납했으나,<br>\n피터슨 알고리즘에서는 <code class=\"language-text\">turn</code>을 초장에 양보합니다.<br>\n이 차이로 인해 전체 코드의 길이가 반으로 줄어버립니다!!<br>\nsoftware-approach라는 말은 매번 이 코드를 직접 작성해야 한다는 뜻이라서, 짧고 단순할 수록 당연히 장점이 됩니다.</p>\n<p>아무튼 이 알고리즘은</p>\n<ul>\n<li>P0가 C.S에 들어가려면, <code class=\"language-text\">flag[0]=true</code>로 의사표현을 하되, <code class=\"language-text\">turn=1</code>로 턴을 일단 양보합니다.</li>\n<li><code class=\"language-text\">while</code>에서 기다리지 않고 넘어갈 조건은\n<ul>\n<li>P1가 C.S에 들어가려 하지 않는 경우 (<code class=\"language-text\">flag[1]==false</code>)</li>\n<li>P1가 C.S에 들어가고자 하는데(<code class=\"language-text\">flag[1]==true</code>), <code class=\"language-text\">turn</code>이 내 차례일 경우</li>\n</ul>\n</li>\n<li>둘 다 아니면 어쩔 수 없이 .. 기다립니다.</li>\n</ul>\n<p>재미있는 점은, 양쪽 다 <code class=\"language-text\">flag</code>를 켠 경우 <code class=\"language-text\">turn</code>에 의해 정해지되,<br>\n이 <code class=\"language-text\">turn</code>은 먼저 양보한 쪽이 먼저 C.S에 진입하게 된다는 점입니다. <br>\n이러한 특성으로 인해 <em>Mutual Exclusion</em>을 보장 + deadlock과 livelock을 방지하게 됩니다</p>\n<hr>\n<h1 id=\"software-approach의-단점\" style=\"position:relative;\"><a href=\"#software-approach%EC%9D%98-%EB%8B%A8%EC%A0%90\" aria-label=\"software approach의 단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Software Approach의 단점</h1>\n<p>근데 지금까지 살펴본 방법에서, 공통적으로 등장하는 문제가 있습니다<br>\n바로 <code class=\"language-text\">while</code>로 기다린다는 것인데요<br>\n<code class=\"language-text\">while</code>을 계속 도는건 사실 CPU 사용권을 받고도 쓰지 않는 것이기 때문에,<br>\nCPU 사용권을 낭비하는 셈이 됩니다.<br>\n또 머냐.. 자바 수업해주신 교수님이<br>\nCPU는 <code class=\"language-text\">while</code>이 중요한 줄 알고 최선을 다해서 실행한다는 언급을 하신게 기억이 나네요</p>\n<p>아무튼 이렇게 <em>열심히 기다리는 문제</em>를 <strong>Busy Waiting</strong>이라고 합니다<br>\n이건 어쩔 수가 없습니다.. OS의 도움이 없으면 이렇게 가짜로 기다리는 것 외에 방법이 없습니다 ㅜㅜ</p>\n<p>그리고 지금까지는 프로세스(또는 스레드)가 딱 둘인 경우를 살펴봤는데<br>\n실제로는 더 많을 수 있고, 그렇게 되면 소프트웨어적인 방법으로는 굉장히 복잡해집니다..</p>\n<p>또한 이런 코드들을 직접 작성해야 하므로 아무리 짧아도 어쩔 수 없이 복잡해집니다</p>\n<p>뭐 그런 등등의 문제가 있습니다</p>\n<h1 id=\"그럼-우짭니까\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9F%BC-%EC%9A%B0%EC%A7%AD%EB%8B%88%EA%B9%8C\" aria-label=\"그럼 우짭니까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그럼 우짭니까?</h1>\n<p>hardware instruction을 따로 만들어서 매우 단순하게 한 줄로 해결할 수 있도록 하는 방법이 있습니다<br>\n그러나 이 경우도 <code class=\"language-text\">while</code>을 써서 가짜로 기다리는 Busy Waiting 이슈를 피할 순 없고, 다른 문제들도 존재합니다</p>\n<p>Busy Waiting 이슈까지 해결해버리는 진짜 베스트는 아예 OS가 제공하는 동기화 툴을 이용하는 것입니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 260px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b4f2292a355bb0ef679ebf5516cdc531/86c28/image-15.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnklEQVR42gGTA2z8AMfLn9TIisOxgqmQaZubiJ7QxYOehmReUWZmW19eVFRQQFZRQFxXTWRgUHJjTGlmWHhsU2uKomGl0Gys1ADEyJ7XzYrLuYSsk2qbnYik1ct/mIZzhImEo655oaFvo3R2pHdyhZOSlph2cVgLBAMZEw8XGx8tRVZumbIAxcei2s+N0cWLs55xoqGNst3ZjKCNdHFnfIB7dIF3cYtjcolhaGtsfXJohnRSPzMpWko3bIWVfqrDosPYAMXHn9nOjNfOj8Ozdpubha3Tz4iZiGtiZXBweWNiW2NlYXNsWIt5UIFmR3pWSk08M2hUP4STnIunuJupsADDx57Zz4vRyI6pqpuxs7PIy895j7BnepyFipWOk5WQnaOfnn/LsWanhlN9WEpRPzRmUj2wtbi9z9vG0NgAwceg3NCMoKSdnK3R0MjFysLDyc3fg5e5YV9ZcWNabmRddGpWfnJKalo7aFE6RTIlbllBlIZplYltlohuAMXLoNjNj6Gqq9LV3dnT1trW3eXh5sTK2GRZZXpdcHxliWZ3bWiSaXF+WX56U6OYkIuCb5+3pKXAsaK7rQDCxpXWzI23t6Ld3erl5+7b3OTp6fLEytdxWFeCX2yDZoNrbluqu6DFw7ejmomzrKuxraW5zsix0smvz8kAxcyd3NSXycCVxby62c3NzsS/0sXIjYiMXlY/XU48SDo2iYB4lIuHYlZHfGY/X0ota2JWuszCsc/IrczHAL20krGph6uohX6Gk3F+pLatnJqeuVFri2pqPkU7K0xFRq6trEc/Nr2nWuXFU8+wVlNGT4mZlK7KsqXBrwCouquqxLuz089+psp8mcfT1trJztutus2mpohGQCxeVlW0opKhhkvewlPjwk66m0xANEdzg1ejwmCZuF0Av+Lgu9zctdTOk6yy3t7p1dXgrLPE6eT01OHFiZlWenRa1auP0ahszKdgzpZofWVfhH+Sr7yVnLddnLdeAK7Nup69lpW3cZO0ZsbOurXErYikd7vFn7jHibLKca/Cb7yxcLKzcKWmabiqcLS2fsjOn7vCjq26cbC+dAChxWmexV2lyGSrymutxm61yXW+z3m6yHq+y3/BzIXEzoa8yICtuHa8x4HCzYPDy4PBx4LFyIXJyovIyIwAnbxgm7dgnLVlobJrpbBsprByprB3qrF4rLF5r7J8q6x4mpturq19s7F7sa16sK18sa59sK59r6x8r6t9NJwNFwGdY60AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"도라에몽 도와줘\"\n        title=\"\"\n        src=\"/static/b4f2292a355bb0ef679ebf5516cdc531/86c28/image-15.png\"\n        srcset=\"/static/b4f2292a355bb0ef679ebf5516cdc531/c26ae/image-15.png 158w,\n/static/b4f2292a355bb0ef679ebf5516cdc531/86c28/image-15.png 260w\"\n        sizes=\"(max-width: 260px) 100vw, 260px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n도라에몽 도와줘!</p>\n<p>이 다른 방법들에 대해서는 또 후속작을 내놓겠습니다</p>\n<hr>\n<p>그러고보니 1번같은 방법을 쓴 적이 있습니다<br>\n프론트엔드단에서 제출버튼 연타를 막기 위해</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">isSubmitting <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n<span class=\"token function\">postOrPutSomthing</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">finally</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nisSubmitting <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span></code></pre></div>\n<p>대충 이딴식으로 써놓는 것인디..<br>\n좀 주먹구구같다는 생각을 버릴 수가 없지만<br>\n간단히 의도를 실현시키기에는 꽤나 적당한 것 같습니다 ㅜㅜ</p>\n<p>아무튼 배고파서 이만 마칩니다</p>","frontmatter":{"title":"🤼 코드 몇 줄로 Critical Section에 혼자 진입하기 : Mutual Exclusion Software Approach","date":"April 13, 2024","description":"Mutual Exclusion입니다.. 근데 이제 소프트웨어를 곁들인.","tag":["OS"],"ogImage":null},"tableOfContents":"<ul>\n<li><a href=\"#%EB%8F%99%EC%8B%9C%EC%84%B1-%EB%AC%B8%EC%A0%9C\">동시성 문제</a></li>\n<li><a href=\"#1-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-turn-%EC%82%AC%EC%9A%A9\">1. 공유 변수 <code class=\"language-text\">turn</code> 사용</a></li>\n<li><a href=\"#2-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-flag2-%EC%82%AC%EC%9A%A9-1--%EB%82%98-%EB%93%A4%EC%96%B4%EC%99%94%EC%96%B4\">2. 공유 변수 <code class=\"language-text\">flag[2]</code> 사용 (1) : 나 들어왔어</a></li>\n<li><a href=\"#3-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-flag2-%EC%82%AC%EC%9A%A9-2--%EB%82%98-%EB%93%A4%EC%96%B4%EA%B0%88%EA%B1%B0%EC%95%BC\">3. 공유 변수 <code class=\"language-text\">flag[2]</code> 사용 (2) : 나 들어갈거야</a></li>\n<li><a href=\"#4-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-flag2-%EC%82%AC%EC%9A%A9-3--%EC%96%91%EB%B3%B4\">4. 공유 변수 `flag[2] 사용 (3) : 양보</a></li>\n<li><a href=\"#5-dekkers-algorithm\">5. Dekker's Algorithm</a></li>\n<li><a href=\"#6-petersons-algorithm\">6. Peterson's Algorithm</a></li>\n<li><a href=\"#software-approach%EC%9D%98-%EB%8B%A8%EC%A0%90\">Software Approach의 단점</a></li>\n<li><a href=\"#%EA%B7%B8%EB%9F%BC-%EC%9A%B0%EC%A7%AD%EB%8B%88%EA%B9%8C\">그럼 우짭니까?</a></li>\n</ul>"},"previous":{"fields":{"slug":"/slack-github-subscribe/"},"frontmatter":{"title":"🖇️ 슬랙에서 깃허브 연동하기"}},"next":{"fields":{"slug":"/mutual-exclusion-hardware-approach/"},"frontmatter":{"title":"🙋 선착순 한 명 Critical Section!! : Mutual Exclusion Hardware Approach"}}},"pageContext":{"id":"e94a1b8f-b92f-5000-bbe1-4b7124e50ca0","previousPostId":"d3890864-70d7-58d5-838b-f21383d88a9d","nextPostId":"8c7479f0-93fd-5147-9d0f-899d9307b474"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}