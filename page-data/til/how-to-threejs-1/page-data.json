{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/til/how-to-threejs-1/","result":{"data":{"site":{"siteMetadata":{"title":"조성개발실록"}},"markdownRemark":{"id":"627c2333-15f8-5e82-82a7-2a7ee1a69267","excerpt":"! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다. 최근에 Three.js 스터디를 시작하게 되었는데요 Three.js는 JavaScript로 3D…","html":"<blockquote>\n<p>! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.</p>\n</blockquote>\n<p>최근에 Three.js 스터디를 시작하게 되었는데요<br>\n<a href=\"https://threejs.org/\">Three.js</a>는 JavaScript로 3D 그래픽을 구현할 수 있게 해주는 라이브러리입니다.</p>\n<p>공식문서를 쭉 한번 읽어보며 뭘 할 수 있는지를 좀 보려고 해요<br>\n심지어 Three.js는 <a href=\"https://threejs.org/docs/index.html#manual/ko/introduction/Installation\">한국어 docs</a>를 지원합니다.<br>\n영어 docs면 피로감이 391% 추가되는데, 아주 좋네요<br>\n시작해보겠습니다.</p>\n<p>설치는 위 docs에서 쉽게 설치할 수 있습니다.<br>\n<code class=\"language-text\">npm install three</code>처럼 패키지매니저로 설치할 수도 있고,<br>\nCDN으로 가져다 쓸 수도 있구요</p>\n<h1 id=\"장면을-만들기--spinning-cube\" style=\"position:relative;\"><a href=\"#%EC%9E%A5%EB%A9%B4%EC%9D%84-%EB%A7%8C%EB%93%A4%EA%B8%B0--spinning-cube\" aria-label=\"장면을 만들기  spinning cube permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>장면을 만들기 : spinning cube</h1>\n<p>설치 후 가장 먼저 보이는 것은 <a href=\"https://threejs.org/docs/index.html#manual/ko/introduction/Creating-a-scene\">Scene 만들기</a> 단계입니다.<br>\n먼저 <code class=\"language-text\">import * as THREE from 'three'</code> 처럼 Three.js의 모듈을 import하고 시작합시다.</p>\n<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f90474833d478d4bc12466725895a674/d10fb/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 103.16455696202532%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsTAAALEwEAmpwYAAADVklEQVR42mPQwQD2YGBpaeng4ODu7m5ra+vj42NkZKStrY2mkgGND1QRHByclJQUFRUVGRkJJF1cXGJiYszMzLS0tAhoBgJ1DQ0VNXUNTRDQ0NBQ19RQ11DH1IlNs66ulqamvpqygZYmUIO2ppa+uramirquri6SEl0IF6QZaAPEYF19fSDDwtHFf/5O75ZpRurq7pGBaTsnemdGa2tp6errAfUB/QV2kyaQwaCnp2dlZWVqagoMDS0NNVVJUbfYZJ9H/50u/Eraczz3+sL0P1tT1nRqySirK6uCHGKgbwUG+vr6DCYmJjk5OYFBQerKSq5xaS5J2b6rTrhc+m9z5n/UvReZL5YlPl6afmtxYHmqf3ackamJkaFhWlpabm6utbU1xM+66qoqtu7efpe++N/573Tln/35f7bn/sc8eJn5annS42WpL1blvF6X93NbZE+xhqKKlo42xJsM8ECytLH1XHsu4db/+jt/PC7/dz3/O37rwewr8zJer+t+tafp1Y6shyt8MqK11DR0YIEHC219fU0JYe+2mW43/+de+5Fw8797Ya2uoryto0PmyZmVrzaXvNyYfnGeqbaBuhoi5KE2a2uou6fm++577Hj6h+WJb26HP+sbmGloa6hJKYVMqk54uSL+1tzUu4vjp9UYm5mC3AyPKh1dPR1V5eC1Rx2v/7c68Mn2yK+yGxfz6qJVlbQ9POwmn27Lubc08vKCuDsL8p6vdQ70UldR1dXTRbJZU8MxLNZvytrEM3dn3Z6271nkzicxS48lbryRsP9l5OaHeR0Pp6XvmhRcnmZkjEjkDPBUo6mqpKWiOW9n+sFXQRvvhe16nHz+Y+uhl/mb7kVsexi853FKQIiHoqQ8UkpDSp5A00xMzFeeTjjwIXb/27j9r1IuvZ575GXF/nfRe1/HHnyfGJ/ppaqqpaeniz1ta2vpVXQHz9wSn1MZsPho7P43CVvvJdb2h9ZPCp+1LcHeyVJTQwu7zUAADEYNNR19PUNJUaWIOK+Dr7K6F8YpygADXVsHFEmayDqx5CqwtLaeHjDi9SwszYyMDIEiEEE0ndjzMyTTqasDE7uKmpqaDm7AgEunv79fWlpqUFAQMPdgFkD4NAM9D8w0np6ewGJMF9O5MM0ARgWBDugtBO0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"three.js 필수 3요소\"\n        title=\"\"\n        src=\"/static/f90474833d478d4bc12466725895a674/d10fb/image.png\"\n        srcset=\"/static/f90474833d478d4bc12466725895a674/c26ae/image.png 158w,\n/static/f90474833d478d4bc12466725895a674/6bdcf/image.png 315w,\n/static/f90474833d478d4bc12466725895a674/d10fb/image.png 420w\"\n        sizes=\"(max-width: 420px) 100vw, 420px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<figcaption>three.js에서 필수적인 3대 요소. - generated by NapkinAI</figcaption>\n</figure>\n<p>이제부터 three.js를 본격적으로 시작할건데,<br>\nthree.js에서 무언가를 표현하려면 <strong>scene, camera, 그리고 renderer</strong> 세 가지가 필수적입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> scene <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Scene</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> camera <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>PerspectiveCamera</span><span class=\"token punctuation\">(</span>\n  <span class=\"token number\">75</span><span class=\"token punctuation\">,</span>\n  window<span class=\"token punctuation\">.</span>innerWidth <span class=\"token operator\">/</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">,</span>\n  <span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">1000</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> renderer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>WebGLRenderer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrenderer<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>innerWidth<span class=\"token punctuation\">,</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>renderer<span class=\"token punctuation\">.</span>domElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이게 사실상 boilerplate처럼 됩니다</p>\n<p>카메라는 <code class=\"language-text\">PerspectiveCamera</code>라는 종류를 썼는데, 이외에도 다른 몇 가지 종류가 있습니다.<br>\n생성자에서 전달한 각 속성으로는</p>\n<ul>\n<li>시야각(field of view) : 각도 값으로 설정합니다. 75<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">°</mi></mrow><annotation encoding=\"application/x-tex\">\\degree</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\">°</span></span></span></span></span>처럼.</li>\n<li>종횡비(aspect ratio) : 화면의 너비와 높이 비율로, 보통 요소의 높이와 너비에 맞추어 표시합니다.</li>\n<li>near 절단면 : 이 값보다 가까이 있는 물체는 렌더링하지 않습니다.</li>\n<li>far 절단면 : 이 값보다 멀리 있는 물체는 렌더링하지 않습니다.</li>\n</ul>\n<p>렌더러는 <code class=\"language-text\">WebGLRenderer</code>를 사용했습니다. 이 또한 다른 종류의 렌더러가 있는데, WebGL이 지원되지 않는 환경에서 쓸 수 있는 객체가 있는 등, 입니다.</p>\n<ul>\n<li>먼저 렌더러를 생성(<code class=\"language-text\">new THREE.WebGLRenderer()</code>)하고,</li>\n<li>크기를 설정합니다(<code class=\"language-text\">renderer.setSize(window.innerWidth, innerHeight)</code>).</li>\n<li>사이즈는 유지하면서 해상도를 낮추려면, <code class=\"language-text\">setSize</code>의 세 번째 인자인 <code class=\"language-text\">updateStyle</code>을 false로 꺼줍시다.\n<ul>\n<li><code class=\"language-text\">setSize(window.innerWidth/2, window.innerHeight/2, false)</code>라고 쓰면, 절반의 해상도로 렌더링됩니다(<code class=\"language-text\">&lt;canvas></code> 높이너비가 100%인 경우).</li>\n</ul>\n</li>\n</ul>\n<p><code class=\"language-text\">const scene = new THREE.Scene()</code>처럼 장면 객체도 생성해줍니다.<br>\n나중에 오브젝트를 만들고 장면에 추가할 것입니다.</p>\n<p>이제 <strong>renderer 요소를 HTML문서에 삽입</strong>합니다.<br>\n이는 하나의 <code class=\"language-text\">&lt;canvas></code> 요소로, 렌더러가 장면을 나타내는 구역에 해당합니다.</p>\n<h2 id=\"큐브를-하나-추가해봅시다\" style=\"position:relative;\"><a href=\"#%ED%81%90%EB%B8%8C%EB%A5%BC-%ED%95%98%EB%82%98-%EC%B6%94%EA%B0%80%ED%95%B4%EB%B4%85%EC%8B%9C%EB%8B%A4\" aria-label=\"큐브를 하나 추가해봅시다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>큐브를 하나 추가해봅시다.</h2>\n<p>예제 오브젝트로 큐브를 하나 추가해봅니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 큐브 기하학 구조 생성</span>\n<span class=\"token keyword\">const</span> geometry <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>BoxGeomery</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 재질(색상 등을 정의) 생성</span>\n<span class=\"token keyword\">const</span> material <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>MeshBasicMaterial</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> <span class=\"token number\">0x00ff00</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 기하학과 재질을 합치면 => 물체.</span>\n<span class=\"token keyword\">const</span> cube <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Mesh</span><span class=\"token punctuation\">(</span>geometry<span class=\"token punctuation\">,</span> material<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 장면에 추가.</span>\nscene<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>cube<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncamera<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>z <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>먼저 <code class=\"language-text\">BoxGemoetry</code>로 큐브를 추가합니다.<br>\n이 객체는 큐브를 만드는데 필요한 모든 <strong>꼭짓점</strong>과 <strong>면</strong>을 포함하는 기하학 객체입니다.<br>\n이 꼭짓점과 면에 대해서는 나중에 알아봅니다.</p>\n<p>이제 재질이 필요합니다. 이 재질은 요소에 색상 등의 성질을 부여합니다.<br>\nthree.js에서 이러한 \"색칠\"에 대해 여러 방법이 고민되었지만, 현재로서는 <code class=\"language-text\">MeshBasicMaterial</code>을 사용합니다.<br>\n이 속성이 적용된 오브젝트들은 모두 그 영향을 받습니다.</p>\n<p>이제 <code class=\"language-text\">Mesh</code>와 같이 Object를 생성합니다.<br>\n**기하학(Geometry)**과 **재질(material)**을 합쳐 하나의 물체가 되고, 이것이 화면에 삽입되어 자유롭게 움직일 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/31ce4a3c64c6cc1e052eefc2577d6677/23296/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.9620253164557%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACgklEQVR42mWT20tUURTG/Yuih4LEXip8EITyRSqCIJ96KIjIwAR9sdTQEAkNJU1Mq9F0bMZBJS9kpaaYmpcZZSY1x2M6MzaXc+Zcf+1zjgrRYh84e+3Ft771fXvnYIJlWtiRTqaY9A+QjMWcvWWIvFiGZqBkFOffyYmQU2lm33Swu7Zqp1GULKZhkmPvMmkZKRplKxxmuaOZTHTLBdTN/wFFCt1APYyz62tH2QmTSmeQtjbRNV0AHnVUdyQOvn9kpbuK9eFadCXmANgTnACaTilZSSLY+4ipFyUs+x4iR+Yx9yTnLMcy3KrEz1WG6osJ1BUz8iyX+Z47WJrsMlT1E4Z2bH59i6/mEkONN+h/UsBcZxmqkMAB5Eg/7XCL8eYiuisKGG+6TN/jPDbnvM6ZrqoossJxxEMB3pWfoqfqCl3lF9n41OJKIaByZKFfJpVBzRrsrIqRJ/v53N9McMbL7sYSWUUjeZgkHksIlrL4VJKJGJF5L9HgNKHpATLJuGioCaMy9siW45ye1R2yiYMYI83Piaytnziti5Htxq6eupNfWVjkffsrNE1zmJnCQLvWNUWsrJwW3SYIT31gzdOItB0hLcRHFP7jsmUXqyx4PfhrK4nt/XYB7UYmLkM79pd6CFRfZbj+AuMN15jvKyM02kFqb9vRR7EZipCCi0QDHkKDLUz7PcTE+PL6Okpk48iUY4aJX8z0VjP49ByjTTd5+SCPidbbWMq+YGgJLQ1Su9/w1d+i9X4+nqqzdJXm88VTykFwlo0x//G1scT8hrM5CI8yVJfLeOs9BhuK+CP9cG+AeAVq1mRzto3emus03j3P64rTdFYWUlNyhrayQhbG2hzAv/TWDAqWZRi2AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ppap\"\n        title=\"\"\n        src=\"/static/31ce4a3c64c6cc1e052eefc2577d6677/f058b/image-1.png\"\n        srcset=\"/static/31ce4a3c64c6cc1e052eefc2577d6677/c26ae/image-1.png 158w,\n/static/31ce4a3c64c6cc1e052eefc2577d6677/6bdcf/image-1.png 315w,\n/static/31ce4a3c64c6cc1e052eefc2577d6677/f058b/image-1.png 630w,\n/static/31ce4a3c64c6cc1e052eefc2577d6677/23296/image-1.png 675w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이제 물체를 <code class=\"language-text\">scene.add()</code>로 장면에 추가합니다.<br>\n이러면 기본적으로 (0,0,0) 좌표에 위치하므로, 카메라와 큐브가 겹치게 됩니다.<br>\n따라서 카메라를 살짝 움직여줍니다.</p>\n<h2 id=\"scene을-렌더링하기\" style=\"position:relative;\"><a href=\"#scene%EC%9D%84-%EB%A0%8C%EB%8D%94%EB%A7%81%ED%95%98%EA%B8%B0\" aria-label=\"scene을 렌더링하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Scene을 렌더링하기.</h2>\n<p>아직 렌더링하지 않았으므로 아무것도 보이지 않습니다.<br>\n<code class=\"language-text\">renderer.render()</code>로 현재 장면을 렌더할 수 있는데,<br>\n<strong>render or animate loop</strong>로 연속적으로 렌더링할 수 있습니다. (애니메이션)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>animate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 여기에 큐브를 움직이는 업데이트 로직을 추가하기.</span>\n  renderer<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>scene<span class=\"token punctuation\">,</span> camera<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>기본적으로 이렇게 생깁니다.<br>\nJava프로그래밍 시간에 Swing실습으로 배운 <a href=\"https://gameprogrammingpatterns.com/game-loop.html\">Game-Loop Pattern</a>이 생각나네요<br>\n대충 <em>입력받고 -> update하고 -> render하는 사이클을 무한반복</em>하는 패턴이었습니다.</p>\n<p>아무튼 이렇게 하면, 화면이 새로고침될 때마다 계속해서 렌더링합니다. (기본적으로 초당 60회)<br>\n<em>왜 <code class=\"language-text\">setInterval</code>을 사용하지 않나요?</em> => setInterval과 비슷해보이지만 다른 이점들을 제공합니다. 예를 들어, 브라우저 창에서 이탈한 경우 멈추는 등.</p>\n<h2 id=\"큐브를-움직여요\" style=\"position:relative;\"><a href=\"#%ED%81%90%EB%B8%8C%EB%A5%BC-%EC%9B%80%EC%A7%81%EC%97%AC%EC%9A%94\" aria-label=\"큐브를 움직여요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>큐브를 움직여요</h2>\n<p>animate함수에서 렌더링하기 전에 큐브를 업데이트합시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>animate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  cube<span class=\"token punctuation\">.</span>rotation<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+=</span> <span class=\"token number\">0.01</span><span class=\"token punctuation\">;</span>\n  cube<span class=\"token punctuation\">.</span>rotation<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+=</span> <span class=\"token number\">0.01</span><span class=\"token punctuation\">;</span>\n  renderer<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>scene<span class=\"token punctuation\">,</span> camera<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이런식으로. 천천히 회전하도록 매 렌더링마다 변형을 추가합니다.<br>\n이 예제는 <a href=\"https://jsfiddle.net/0c1oqf38/\">여기</a>에서 결과를 확인할 수 있습니다.</p>\n<h1 id=\"선-그리기\" style=\"position:relative;\"><a href=\"#%EC%84%A0-%EA%B7%B8%EB%A6%AC%EA%B8%B0\" aria-label=\"선 그리기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>선 그리기</h1>\n<p>그 다음은 <a href=\"https://threejs.org/docs/index.html#manual/ko/introduction/WebGL-compatibility-check\">WebGL 호환성 검사</a>지만, 혹시나 WebGL2를 지원하지 않는 환경에 대처하는 방법에 대한 간단한 내용입니다.<br>\n그 다음 내용인 <a href=\"https://threejs.org/docs/index.html#manual/ko/introduction/Drawing-lines\">선 그리기</a>를 알아봅시다.</p>\n<p>아까는 와이어프레임 <a href=\"https://threejs.org/docs/index.html#api/en/objects/Mesh\">Mesh</a>를 오브젝트로 사용했는데, 이제 선이나 원을 그려보려고 합니다.</p>\n<p>아까처럼 boilerplate를 먼저 작성합시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> renderer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>WebGLRenderer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrenderer<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>innerWidth<span class=\"token punctuation\">,</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>renderer<span class=\"token punctuation\">.</span>domElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> camera <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>PerspectiveCamera</span><span class=\"token punctuation\">(</span>\n  <span class=\"token number\">45</span><span class=\"token punctuation\">,</span>\n  window<span class=\"token punctuation\">.</span>innerWidth <span class=\"token operator\">/</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">,</span>\n  <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">500</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncamera<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncamera<span class=\"token punctuation\">.</span><span class=\"token function\">lookAt</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> scene <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Scene</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>아까랑 거의 비슷합니다. 카메라 설정만 살짝 달라졌네요.</p>\n<p>먼저 재질을 정의합시다.\n선을 그리려면 <code class=\"language-text\">LineBasicMaterial</code> 또는 <code class=\"language-text\">LineDashedMaterial</code>을 사용합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> material <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>LineBasicMaterial</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> <span class=\"token number\">0x0000ff</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이렇게 파란색 재질을 생성할 수 있습니다.</p>\n<p>그 다음엔 선을 구성할 각 꼭짓점에 대한 기하학을 정의합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> points <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\npoints<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Vector3</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\npoints<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Vector3</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\npoints<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Vector3</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> geometry <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>BufferGeometry</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setFromPoints</span><span class=\"token punctuation\">(</span>points<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이 <code class=\"language-text\">BufferGeometry</code> 기하학 객체에 대해서는 심화 과정 > 오브젝트를 업데이트하는 방법 단계에서 자세히 다룹니다.<br>\n세 점을 이어 두 개의 선을 그리게 된다는 사실만 기억하시면 됩니다.<br>\n선은 연속된 꼭짓점 쌍 사이에 그려지고, 첫 번째와 마지막 꼭짓점에는 선을 그리지 않습니다.<br>\n이는 곧 <em>선은 닫혀있지 않다</em>는 의미입니다.</p>\n<p>이제 물체를 그려내기 위한 기하학과 재질이 있으니, 선 물체를 만들어내고, 렌더할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> line <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Line</span><span class=\"token punctuation\">(</span>geometry<span class=\"token punctuation\">,</span> material<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nscene<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrenderer<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>scene<span class=\"token punctuation\">,</span> camera<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/087e4eef86a2c344864488346679a634/3fe45/image-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABb0lEQVR42o1S2W7bMBC0AamtnU+IeC53eYuilFg53tL+/zd189DCaVGnxADkww5nZjGHy/709uP7+rDdT0IqxRBSCiGJPIAbhuHwj3M6nQ7kfYyZkJwV1kohtQUwYC054+w4jrfIQgoNrrS6P+NjM5vzz5fd52gr2oLj1y+3yEprY5z3fq7KI8TgtdFCsXs1TWIYb9rmkCWWZVnmDjmmvm6QPWRKnMOYj5mPv+7jb9tyrqX1xQQiTLkUVzxmCohG6+E683F8xzV5krK3tl0ebPaBytIXVz1Wn51DgG888UH5+Kdtj+SJmYKA8wISQUBLQCmcz+ebmbUC9Lmk/RWW3aVcX55eUisyWD+n893dddi/t60AKIaQolLa1dpCiRgoxRRj/ExZKcTQ6pyDkZOy3A/3Di5P+B8yDy1bj9tc+wwOjLEO8X6ajDGfkMFxzrxuW2o59Tq3Vmrt68pr409ZP+fMheUucZkY/GA9/npu7SeqiEIEwXqeZgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"line\"\n        title=\"\"\n        src=\"/static/087e4eef86a2c344864488346679a634/f058b/image-2.png\"\n        srcset=\"/static/087e4eef86a2c344864488346679a634/c26ae/image-2.png 158w,\n/static/087e4eef86a2c344864488346679a634/6bdcf/image-2.png 315w,\n/static/087e4eef86a2c344864488346679a634/f058b/image-2.png 630w,\n/static/087e4eef86a2c344864488346679a634/3fe45/image-2.png 699w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이렇게 선을 그려낼 수 있습니다.</p>\n<h1 id=\"텍스트를-만들기\" style=\"position:relative;\"><a href=\"#%ED%85%8D%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"텍스트를 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>텍스트를 만들기</h1>\n<p><a href=\"https://threejs.org/docs/index.html#manual/ko/introduction/Creating-text\">three.js에서 텍스트를 다루는 방법</a>은 여럿 있는데</p>\n<ol>\n<li>DOM + CSS : 그냥 HTML요소로 텍스트 추가할 수 있습니다. (오버레이 설명 등)</li>\n<li><a href=\"https://threejs.org/docs/index.html#api/en/textures/Texture\">Texture</a>로 캔버스에 텍스트를 그릴 수 있습니다.</li>\n<li>3D 작업 앱으로 만들고 import할 수 있습니다 : <a href=\"https://threejs.org/docs/index.html#manual/ko/introduction/Loading-3D-models\">3D 모델 불러오기</a></li>\n<li>절체적 텍스트 geometry : <code class=\"language-text\">THREE.TextGeometry</code> 인스턴스인 mesh를 사용하여 절차적으로 사용할 수 있습니다.\n<ul>\n<li>이 때, TextGeometry의 font 파라미터가 <code class=\"language-text\">THREE.Font</code>인스턴스로 설정 필요</li>\n<li><a href=\"https://threejs.org/docs/index.html#examples/en/geometries/TextGeometry\">여기</a>참고</li>\n</ul>\n</li>\n<li>비트맵 글꼴</li>\n</ol>\n<p>등등.</p>\n<hr>\n<p><br>\n다음시간엔 매뉴얼의 심화 과정으로 들어가서 <a href=\"https://threejs.org/docs/index.html#manual/ko/introduction/How-to-update-things\">오브젝트를 업데이트하는 방법</a>과 <a href=\"https://threejs.org/docs/index.html#manual/ko/introduction/How-to-dispose-of-objects\">오브젝트를 폐기하는 방법</a>을 보겠습니다.</p>","frontmatter":{"title":"Three.js 공식문서로 시작해보기. - 1일차","date":"October 13, 2024","description":"Three.js를 시작하게 됐어요","tag":["TIL","Three.js"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%9E%A5%EB%A9%B4%EC%9D%84-%EB%A7%8C%EB%93%A4%EA%B8%B0--spinning-cube\">장면을 만들기 : spinning cube</a></p>\n<ul>\n<li><a href=\"#%ED%81%90%EB%B8%8C%EB%A5%BC-%ED%95%98%EB%82%98-%EC%B6%94%EA%B0%80%ED%95%B4%EB%B4%85%EC%8B%9C%EB%8B%A4\">큐브를 하나 추가해봅시다.</a></li>\n<li><a href=\"#scene%EC%9D%84-%EB%A0%8C%EB%8D%94%EB%A7%81%ED%95%98%EA%B8%B0\">Scene을 렌더링하기.</a></li>\n<li><a href=\"#%ED%81%90%EB%B8%8C%EB%A5%BC-%EC%9B%80%EC%A7%81%EC%97%AC%EC%9A%94\">큐브를 움직여요</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%84%A0-%EA%B7%B8%EB%A6%AC%EA%B8%B0\">선 그리기</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%85%8D%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EB%A7%8C%EB%93%A4%EA%B8%B0\">텍스트를 만들기</a></p>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/css-styling-methods/"},"frontmatter":{"title":"🎨 CSS 라이브러리를 고민하는 당신을 위해 (+ 성능비교)"}},"next":null},"pageContext":{"id":"627c2333-15f8-5e82-82a7-2a7ee1a69267","previousPostId":"b4ddc03e-40b4-5a58-880f-4dbc2e6c941c","nextPostId":null}},"staticQueryHashes":["2841359383"],"slicesMap":{}}