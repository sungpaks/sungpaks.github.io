{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/til/threejs-with-typescript-01/","result":{"data":{"site":{"siteMetadata":{"title":"조성개발실록"}},"markdownRemark":{"id":"fa279b0d-788d-5bbc-b755-6e38b7172ae6","excerpt":"! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다. 저번에 공식문서를 쭉 따라하고 TIL정리를 했었는데요 : 1 2 3 뭐가 있는지도 대충 알았겠다, 이제 강의를 보려고 합니다 TypeScript로 즐기는 Three.js…","html":"<blockquote>\n<p>! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.</p>\n</blockquote>\n<p>저번에 공식문서를 쭉 따라하고 TIL정리를 했었는데요 : <a href=\"/til/how-to-threejs-1\">1</a> <a href=\"/til/how-to-threejs-2\">2</a> <a href=\"/til/how-to-threejs-3\">3</a><br>\n뭐가 있는지도 대충 알았겠다, 이제 강의를 보려고 합니다</p>\n<p><a href=\"https://www.youtube.com/watch?v=WLdkjdh-sgU&#x26;list=PLe6NQuuFBu7F8tG1ZweG3pME3E4M-Q0LA\">TypeScript로 즐기는 Three.js</a>라는 강의를 보고 있어요<br>\n친구가 추천해줬기도 하고, 스터디 팀원분들도 이거 보시는 분들이 꽤 있는 것 같습니다<br>\n무료 무려입니다. 무한한 감사.</p>\n<p>저는 진득하게 강의 듣는거 좀 안좋아하는데,<br>\n이미 좀 알고 써본 상태로 강의를 듣는건 꽤 괜찮은 것 같아요</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 548px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ce0ab8354935316d61d3e4d0916ca2b3/a58fe/image-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.62025316455697%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC90lEQVR42j1USSh4fRT9IcqOLGxQhoUhZSXF0rgwJZGFYYVkCsnCsBILs5RElEJkWGBhLJIMkSESGTJPZZbpfN85/3j1+o333HvuOe8Z/P+kpaXBGANra2uNPj4+qK6uhru7u9ZNTU28ho+PD3x/f2u+sbEBb29vxMbG4vX1FV9fX/j8/IThYUZGBjw8PODq6goHBwcMDAxgc3MT8fHxcHZ2Rk9Pj0BeXl7w9PSkeUlJiZLZ2NhgcnJSe3+Ay8vLylRZWYmGhgYsLi5ibm4OY2NjWt/c3Kiy29tb7O/vK7i7u1vMZmdncXJyor2fnx+Y9/d3LcrKykRtfX0dExMTmJmZUaVM9kv3/v5e4IxhMEFbWlpweHiIx8dHJTWFhYWor6/HwcEBrq+vsbu7qzkDf0eCPT8/K4igvMeEycnJSE1Nxfb2NnZ2dv4BWllZqRfZ2dl4eHiAr68vIiMjER0djczMTFRUVKhSAp+enqpaVpWXl4fOzk6dnZ2d6YwJjZOTE+zt7ZGYmKiD4OBgxMXFCSghIUGCUaCLiwtcXV2pr0VFRcjNzUVWVpbEqa2tRWtrK46OjmCYKSIiAjk5Obi8vPyrinSXlpZwfHyMlZUVVRgSEiI2jo6OUp73mKCjowOenp64u7uD6erqQlVVlTIRhIpRWV7i/vDwsMC2trbg5eUlsICAANEuLy9HX1+faLOfLMgUFxcjKSkJBQUFAqRiMTExCAoKQkpKioDPz88xMjKC9vZ29Pf3IyoqSme0GT8AsnRzc5Ngxs7ODi4uLqLKhwr29vaq4QweHx9HXV0dpqamMDg4iLa2NlmMHmxsbJRD6OH8/HzFG39/f4SGhqpsSk8fzs/Pq/E1NTUKKi0tldEJurCwoFawl5aWlno5//1aDM3M4LW1NfmJ8tPMQ0NDAh4dHZU4HNkKusHPz08gFhYWGvlOT0//A2QPw8LCkJ6eLpXe3t5EmwoSpLm5Gaurq9jb21NbAgMDER4eLhBbW9u/HwrV5k/iP7JcD8rKjwF7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"대충 알았다..\"\n        title=\"\"\n        src=\"/static/ce0ab8354935316d61d3e4d0916ca2b3/a58fe/image-2.png\"\n        srcset=\"/static/ce0ab8354935316d61d3e4d0916ca2b3/c26ae/image-2.png 158w,\n/static/ce0ab8354935316d61d3e4d0916ca2b3/6bdcf/image-2.png 315w,\n/static/ce0ab8354935316d61d3e4d0916ca2b3/a58fe/image-2.png 548w\"\n        sizes=\"(max-width: 548px) 100vw, 548px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>그때서야 강의하시는 분들이 말씀하시는 한 마디 한 마디를 그나마 더 잘 이해할 수 있고<br>\n또한 작성하시는 코드 한 줄 한 줄의 의도가 더 와닿습니다</p>\n<p>아무튼 오늘은 1강부터 보려고 하는데, 기초적인 소개가 있지만 건너뛸게요<br>\n가장 기본적인 회전하는 큐브 애니메이션을 만드는 것으로 시작합니다</p>\n<h1 id=\"먼저-threejs의-기본-구성-요소\" style=\"position:relative;\"><a href=\"#%EB%A8%BC%EC%A0%80-threejs%EC%9D%98-%EA%B8%B0%EB%B3%B8-%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C\" aria-label=\"먼저 threejs의 기본 구성 요소 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>먼저 Three.js의 기본 구성 요소</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c44e7545161f5ecc064af900ca0438d5/1c3a5/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.202531645569614%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9klEQVR42nWRWQ6DMAxEc//T8Y3EXrHvkLIU0j4lpWojdSQsm4xn7EQ8/0ApRZymaRiGsizneZZSWhxh1ed57vv+0FjXNY7jLMvSNC2Kgv6P6LtZXTB1XdfjOFZVRaQNrfuF4zggLMtCzhQkP85YZRpRFNUa+H8TWIFZkM7znFywVdM0fd+PGlhxQDM5Vgh1XcfMUNu2JYfpeZ7ruvgL6iRJMCEiZLZCwlixJ/8dx/F9nx4ITFtoMLngw4qCmaFiCAN5IirIc4Q/0czI5cExBGE9jzmDSkTOul7A8EEQhGGIpf1UnN00eFv2NM3fz7FtG5siLaV8AbcMA7AJfOBbAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Three.js의 기본 구성 요소\"\n        title=\"\"\n        src=\"/static/c44e7545161f5ecc064af900ca0438d5/f058b/image.png\"\n        srcset=\"/static/c44e7545161f5ecc064af900ca0438d5/c26ae/image.png 158w,\n/static/c44e7545161f5ecc064af900ca0438d5/6bdcf/image.png 315w,\n/static/c44e7545161f5ecc064af900ca0438d5/f058b/image.png 630w,\n/static/c44e7545161f5ecc064af900ca0438d5/40601/image.png 945w,\n/static/c44e7545161f5ecc064af900ca0438d5/1c3a5/image.png 981w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Three.js에서 렌더링을 위해서는 대략 이런 파이프라인?이 필요합니다</p>\n<p>먼저, 화면 렌더링(그리기)을 담당하는 <strong>Renderer</strong>가 필요하겠죠?<br>\n그리고 이제 물질세계를 나타낼 장면인 <strong>Scene</strong>을 만듭니다<br>\n물질세계를 보려면 눈(<strong>Camera</strong>)이 있어야겠네요</p>\n<p>이제 다시 물질세계는 조명(<strong>Light</strong>)과 물질(<strong>Mesh</strong>)로 이루어집니다.<br>\n물질만 있으면 빛이 없어서 볼 수 없고, 빛만 있으면 볼 물질이 없겠죠?</p>\n<p>물질은 다시 기하학적 특성인 <strong>Geometry</strong>와 재질 특성인 <strong>Material</strong>로 나뉩니다.<br>\n기하학적 특성은 모양새고, 재질은 색상, 투명도, 질감 등이겠네요</p>\n<h1 id=\"세팅\" style=\"position:relative;\"><a href=\"#%EC%84%B8%ED%8C%85\" aria-label=\"세팅 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>세팅</h1>\n<p><code class=\"language-text\">npm create vite@latest</code>로 프로젝트를 만듭니다. VanilaJS와 TypeScript를 선택해서요<br>\n그리고 <code class=\"language-text\">npm install three</code>로 Three.js 패키지를,<br>\n<code class=\"language-text\">npm install @types/three</code>로 Three.js의 타입 정의들을 설치합니다</p>\n<p>그리고, 쓸데없는거 지우고, <code class=\"language-text\">index.html, main.js, style.css</code>만 남깁시다<br>\n<code class=\"language-text\">index.html</code>에는 <code class=\"language-text\">&lt;div id=\"app\" /></code> 요소가 있어야 합니다. 여기를 우리 Three.js앱의 엔트리포인트로 쓰려구요<br>\n<code class=\"language-text\">style.css</code>은 다 지우고 대충 높이너비 100%, 배경색 검은색을 칠해줍시다<br>\n이제 <code class=\"language-text\">main.js</code>에서 아래와 같이 클래스를 정의하고 인스턴스화합니다</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">private</span> renderer<span class=\"token operator\">:</span> <span class=\"token constant\">THREE</span><span class=\"token punctuation\">.</span>WebGLRenderer<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> domApp<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> scene<span class=\"token operator\">:</span> <span class=\"token constant\">THREE</span><span class=\"token punctuation\">.</span>Scene<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> camera<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">THREE</span><span class=\"token punctuation\">.</span>PerspectiveCamera<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> cube<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token constant\">THREE</span><span class=\"token punctuation\">.</span>Mesh<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>그리고 먼저 앞으로 필요할 모든 변수들을 정의해줬습니다<br>\n생성자에서 생성하고 들어갈 것은 조건부 없이, 나중에 할당할 것들은 <code class=\"language-text\">?</code>붙여서 조건부로 타입을 넣었습니다</p>\n<h1 id=\"constructor\" style=\"position:relative;\"><a href=\"#constructor\" aria-label=\"constructor permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>constructor</h1>\n<p>이제 생성자에</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">WebGLRenderer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> antialias<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">setPixelRatio</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> window<span class=\"token punctuation\">.</span>devicePixelRatio<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>domApp <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>domApp<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span>domElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Three</span><span class=\"token punctuation\">.</span><span class=\"token function\">Scene</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setupCamera</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setupLight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setupModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>첫줄 : 계단현상 방지 안티엘리어싱<br>\n둘째줄 : 픽셀비율 최적화<br>\n셋째줄 : id=app인 div 가져와서<br>\n넷째줄 : WebGLRenderer의 DOM요소를 자식으로 추가</p>\n<p>이거부터 쓰고 시작합시다.\n맨 밑줄 세 개의 메서드는 이제부터 살펴봅시다.</p>\n<h1 id=\"setupcamera\" style=\"position:relative;\"><a href=\"#setupcamera\" aria-label=\"setupcamera permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setupCamera()</h1>\n<p>카메라를 정의해요</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">private</span> <span class=\"token function\">setupCamera</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> width <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>domApp<span class=\"token punctuation\">.</span>clientWidth<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> height <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>domApp<span class=\"token punctuation\">.</span>clientHeight<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>camera <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">PerspectiveCamera</span><span class=\"token punctuation\">(</span><span class=\"token number\">75</span><span class=\"token punctuation\">,</span> width <span class=\"token operator\">/</span> height<span class=\"token punctuation\">,</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>camera<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>z <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>카메라 생성자를 호출할 때는 <code class=\"language-text\">(시야각, 종횡비, 최소 절단거리, 최대 절단거리)</code>와 같이 생성합니다<br>\n이 때, 종횡비를 브라우저 창에 맞추기 위해 HTML요소의 <code class=\"language-text\">clientWidth, clientHeight</code>를 가져온 것입니다<br>\n그리고 <code class=\"language-text\">this.camera.position.z = 2</code>와 같이 z축으로 이동하게 하여 (0,0,0)좌표를 내려다볼 수 있게 합니다</p>\n<h1 id=\"setuplight\" style=\"position:relative;\"><a href=\"#setuplight\" aria-label=\"setuplight permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setupLight()</h1>\n<p>조명을 정의해요</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">private</span> <span class=\"token function\">setupLight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> color <span class=\"token operator\">=</span> <span class=\"token number\">0xffffff</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> intensity <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> light <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">DirectionalLight</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">,</span> intensity<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    light<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>light<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://threejs.org/docs/index.html#api/en/lights/DirectionalLight\">DirectionalLight</a>은 특정 방향으로 방출되는 조명입니다<br>\n무한히 멀리 도달하는 평행광선처럼 동작하는데<br>\n그냥 햇빛같다고 생각하시면 됩니다.<br>\n햇빛은 근사적으로 평행광선으로 입사하는 것처럼 생각할 수 있으니까요</p>\n<p>생성자에는 색상과 강도?명도? 를 전달하여 생성하고<br>\n위치를 적당히 세팅해주고, 장면에 추가합니다</p>\n<h1 id=\"setupmodel\" style=\"position:relative;\"><a href=\"#setupmodel\" aria-label=\"setupmodel permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setupModel()</h1>\n<p>3D객체인 모델을 정의해요<br>\n모델은 material재질과 geometry기하학성질로 구성된다고 했습니다</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">private</span> <span class=\"token function\">setupModels</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> geometry <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">BoxGeometry</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//가로,세로,깊이</span>\n    <span class=\"token keyword\">const</span> material <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">MeshPhongMaterial</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> color<span class=\"token operator\">:</span> <span class=\"token number\">0x44aa88</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cube <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">Mesh</span><span class=\"token punctuation\">(</span>geometry<span class=\"token punctuation\">,</span> material<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cube<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>네모모양 기하학과 퐁 재질을 썼는데<br>\n<a href=\"https://threejs.org/docs/index.html#api/en/materials/MeshPhongMaterial\">퐁 재질</a>이란 :</p>\n<blockquote>\n<p>A material for shiny surfaces with specular highlights.</p>\n</blockquote>\n<p>그냥 광 좀 나는 재질이라고 합니다\n이제 기하학과 재질을 섞어서 녹이면 3D객체인 <code class=\"language-text\">Mesh</code>가 탄생합니다<br>\n이것을 <code class=\"language-text\">this.cube</code> 필드에 담아주고 장면에 추가합니다</p>\n<h1 id=\"render하기\" style=\"position:relative;\"><a href=\"#render%ED%95%98%EA%B8%B0\" aria-label=\"render하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>render하기</h1>\n<p>이제 렌더링하고싶은데, 아래같은 <code class=\"language-text\">render</code>메서드를 정의합니다</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">private</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span>time<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>camera<span class=\"token operator\">!</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>장면과 카메라를 넣어 <code class=\"language-text\">Renderer</code>객체의 <code class=\"language-text\">render</code>메서드를 호출합니다.<br>\n<code class=\"language-text\">time</code> : 나중에 애니메이션으로 등록할거라 첫 번째 인자로 타임스탬프를 받습니다</p>\n<p>그리고 이제 <code class=\"language-text\">setupEvents()</code>라는 메서드를 만들고 constructor 맨 마지막에 추가합니다</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">setupEvents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">setAnimationLoop</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://threejs.org/docs/#api/en/renderers/WebGLRenderer.setAnimationLoop\">setAnimationLoop</a>로 애니메이션 루프를 설정하는 작업입니다<br>\n<code class=\"language-text\">setAnimationLoop</code>는 <a href=\"https://developer.mozilla.org/ko/docs/Web/API/Window/requestAnimationFrame\">requestAnimationFrame</a>처럼 쓸 수 있는 빌트인 함수구요<br>\nrAF처럼 쓰는거니까 매 (가능한) 프레임마다 콜백을 호출하고, 콜백함수는 첫 번째 인자로 타임스탬프를 넘겨받습니다</p>\n<h1 id=\"반응형-설정하기\" style=\"position:relative;\"><a href=\"#%EB%B0%98%EC%9D%91%ED%98%95-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\" aria-label=\"반응형 설정하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>반응형 설정하기</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 419px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/15c623fe15654805cb6445c30cb8b458/d587d/image-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 182.27848101265823%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgElEQVR42u2U3UvCUBiHN7utq6X4Galrc34ylF14EV4YmkKCRrCCCgLvBIkICgLJMBMiQzAiIvpQ6iIqCCK679/65U6mhAsqRLzY4OHdOXv37Hc42yibzQYFq9UKjuPAsiyCwSBCoRDC4TBEUSRjSZLg8XhgNptJr9PphMPhIIiBAHxuNwRBAGUwGPCF0mw0GuFyuchFr9cLnufJWDm32+1gGAZ6vR4mk4n0KiiBLBYLeRDVOtBneidpmlbl38K+J9SEmlATDl5I/8BQLbnzu/p7uq6Q1ulIldbmIV9WkKkXkDnZRbpVU7UdJI+3ED/cRPRgHZFiDpFyHoI82wnQKxz5FE5vZ5F9b2Ll9Qyrb+dYbtWll1PIz3UsPNWQvj/C3G0FqYcqghvL38KoJhRzMlKPVSQaJSSbZSQUGvuI35QQu97DzFUR0YsCYndl+POL7XtVElLt2KMTRoyLPBjfFBi/Cj4WjNcJJsBhbNLUfTMGtstkh3W/R/uWNaEmHArhB0BzFO+2YsNEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"지금 상태\"\n        title=\"\"\n        src=\"/static/15c623fe15654805cb6445c30cb8b458/d587d/image-3.png\"\n        srcset=\"/static/15c623fe15654805cb6445c30cb8b458/c26ae/image-3.png 158w,\n/static/15c623fe15654805cb6445c30cb8b458/6bdcf/image-3.png 315w,\n/static/15c623fe15654805cb6445c30cb8b458/d587d/image-3.png 419w\"\n        sizes=\"(max-width: 419px) 100vw, 419px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>지금은 이런식일건데요<br>\n브라우저의 창 크기가 변해도 물체 크기가 고정되고, 반응형으로 변하지 않습니다<br>\n처음 그려질 때도 이상하게 되어있구요</p>\n<p>일단 <code class=\"language-text\">resize</code> 메서드를 작성합니다</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">private</span> <span class=\"token function\">resize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> width <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>domApp<span class=\"token punctuation\">.</span>clientWidth<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> height <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>domApp<span class=\"token punctuation\">.</span>clientHeight<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> camera <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>camera<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>camera<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      camera<span class=\"token punctuation\">.</span>aspect <span class=\"token operator\">=</span> width <span class=\"token operator\">/</span> height<span class=\"token punctuation\">;</span>\n      camera<span class=\"token punctuation\">.</span><span class=\"token function\">updateProjectionMatrix</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>루트 요소의 현재 너비,높이를 가져와 이를 기반으로 카메라의 종횡비를 업데이트합니다.<br>\n또한 렌더러의 사이즈를 설정하구요<br>\n이 때, 카메라의 프로퍼티를 변경하고 나면 <code class=\"language-text\">updateProjectionMatrix()</code>로 행렬연산을 트리거해야하는데<br>\n이에 대해서는 <a href=\"/til/how-to-threejs-3/#%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EB%B3%80%ED%98%95%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95-%EB%91%90-%EA%B0%80%EC%A7%80\">여기에서 배웠습니다</a></p>\n<p>이제 <code class=\"language-text\">setupEvents()</code>메서드를 수정합니다</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">private</span> <span class=\"token function\">setupEvents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span>onresize <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">resize</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">resize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">setAnimationLoop</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>리사이징 이벤트에 아까 그 메서드를 등록합니다.<br>\n근데 브라우저가 열릴 때는 <code class=\"language-text\">onresize</code>가 트리거되지 않아요<br>\n따라서 처음에 한 번 호출하여 리사이징을 한 번 해줍시다.</p>\n<h1 id=\"회전하는-애니메이션-넣기\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EC%A0%84%ED%95%98%EB%8A%94-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EB%84%A3%EA%B8%B0\" aria-label=\"회전하는 애니메이션 넣기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회전하는 애니메이션 넣기</h1>\n<p>다음과 같은 <code class=\"language-text\">update</code>메서드를 작성해요</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">private</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span>time<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  time <span class=\"token operator\">*=</span> <span class=\"token number\">0.001</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ms -> s</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cube<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cube<span class=\"token punctuation\">.</span>rotation<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> time<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cube<span class=\"token punctuation\">.</span>rotation<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> time<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span>time<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>camera<span class=\"token operator\">!</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>아까 <code class=\"language-text\">renderer.setAnimationLoop</code>는 타임스탬프를 인자로 받는다고 했습니다.<br>\n이걸 <code class=\"language-text\">update</code>함수 호출 시에 넘겨줄건데, ms단위라서 초단위로 바꿔줍시다<br>\n그리고 이제 큐브의 회전값을 <code class=\"language-text\">time</code>값으로 업데이트해주면 지속적으로 회전하는 모습을 볼 수 있습니다</p>\n<iframe src=\"https://codesandbox.io/embed/nqlkvt?view=preview&hidenavigation=1\"\n     style=\"width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"flamboyant-darkness-nqlkvt\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   ></iframe>\n<hr>\n<p><br>\n네모네모~ 네모네모~ 싸인<br>\n이만 마칩니다. 비타오스~</p>","frontmatter":{"title":"TypeScript로 즐기는 Three.js 강의 정리 - 01","date":"November 13, 2024","description":"공식문서 훑고 강의 보니까 좋네요","tag":["TIL","Three.js","TypeScript"]},"tableOfContents":"<ul>\n<li><a href=\"#%EB%A8%BC%EC%A0%80-threejs%EC%9D%98-%EA%B8%B0%EB%B3%B8-%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C\">먼저 Three.js의 기본 구성 요소</a></li>\n<li><a href=\"#%EC%84%B8%ED%8C%85\">세팅</a></li>\n<li><a href=\"#constructor\">constructor</a></li>\n<li><a href=\"#setupcamera\">setupCamera()</a></li>\n<li><a href=\"#setuplight\">setupLight()</a></li>\n<li><a href=\"#setupmodel\">setupModel()</a></li>\n<li><a href=\"#render%ED%95%98%EA%B8%B0\">render하기</a></li>\n<li><a href=\"#%EB%B0%98%EC%9D%91%ED%98%95-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\">반응형 설정하기</a></li>\n<li><a href=\"#%ED%9A%8C%EC%A0%84%ED%95%98%EB%8A%94-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EB%84%A3%EA%B8%B0\">회전하는 애니메이션 넣기</a></li>\n</ul>"},"previous":{"fields":{"slug":"/draggable-and-auto-walking-character-chrome-extension/"},"frontmatter":{"title":"🍔 ദി=´∀｀) 안녕하새용저는햄부기애용"}},"next":null},"pageContext":{"id":"fa279b0d-788d-5bbc-b755-6e38b7172ae6","previousPostId":"2ecda88e-bede-5c6f-87b0-d86f1727be4a","nextPostId":null}},"staticQueryHashes":["2841359383"],"slicesMap":{}}