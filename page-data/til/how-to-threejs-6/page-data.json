{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/til/how-to-threejs-6/","result":{"data":{"site":{"siteMetadata":{"title":"조성개발실록"}},"markdownRemark":{"id":"2b1dcd2f-07cf-565d-a348-5e5b5ce61ec3","excerpt":"! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다. 오늘은 Three.js 공식문서 > Fundamentals…","html":"<blockquote>\n<p>! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.</p>\n</blockquote>\n<p>오늘은 <a href=\"https://threejs.org/manual/#ko/tips\">Three.js 공식문서 > Fundamentals > 여러 팁들</a>에 대해 살펴보려고 합니다</p>\n<ul>\n<li>스크린샷 찍기</li>\n<li>캔버스 초기화 방지하기</li>\n<li>캔버스 키 입력 받기</li>\n<li>캔버스를 투명하게 하기</li>\n<li>HTML문서의 배경으로 Three.js 애니메이션을 삽입하기</li>\n</ul>\n<p>등의 내용이 집약되어 있습니다.<br>\n많아보이는데 내용이 많진 않습니다</p>\n<h1 id=\"캔버스-초기화-방지하기\" style=\"position:relative;\"><a href=\"#%EC%BA%94%EB%B2%84%EC%8A%A4-%EC%B4%88%EA%B8%B0%ED%99%94-%EB%B0%A9%EC%A7%80%ED%95%98%EA%B8%B0\" aria-label=\"캔버스 초기화 방지하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>캔버스 초기화 방지하기</h1>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>렌더링 영역이 전체 화면을 채우도록 onresize 핸들러로 다음과 같이 반응형 코드를 작성했을텐데요<br>\n이러면 리사이징 시에 캔버스가 초기화되는 상황이 벌어집니다</p>\n<p>어떤 경우에 문제가 될 수 있는지 알아보기 위해,<br>\n사용자가 움직이는 물체로 그림을 그릴 수 있는 예제를 만들어보겠습니다.</p>\n<h3 id=\"1-캔버스-설정\" style=\"position:relative;\"><a href=\"#1-%EC%BA%94%EB%B2%84%EC%8A%A4-%EC%84%A4%EC%A0%95\" aria-label=\"1 캔버스 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 캔버스 설정</h3>\n<p>먼저, 커서를 따라다니는 물체를 만들어야 하니 캔버스를 설정해봅시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>canvas <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>domApp<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"canvas\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">WebGLRenderer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  canvas<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">,</span>\n  antialias<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  alpha<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  preserveDrawingBuffer<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span>autoClearColor <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">preserveDrawingBuffer: true</code>로 드로잉 버퍼를 보존합니다.</li>\n<li><code class=\"language-text\">renderer.autoClearColor = false</code>로 설정해 잔상을 남기도록 합니다.</li>\n</ul>\n<p>카메라는 <code class=\"language-text\">OrthographicCamera</code>를 사용하겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> camera <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">OrthographicCamera</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"2-마우스-움직임에-따라-물체-이동\" style=\"position:relative;\"><a href=\"#2-%EB%A7%88%EC%9A%B0%EC%8A%A4-%EC%9B%80%EC%A7%81%EC%9E%84%EC%97%90-%EB%94%B0%EB%9D%BC-%EB%AC%BC%EC%B2%B4-%EC%9D%B4%EB%8F%99\" aria-label=\"2 마우스 움직임에 따라 물체 이동 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 마우스 움직임에 따라 물체 이동</h3>\n<p>마우스 이벤트를 처리하기 위해 이벤트 리스너를 추가해보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mousemove\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">moveRect</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">this.moveRect</code>는 마우스 위치를 받아 큐브를 해당 위치로 이동시키는 역할을 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">private</span> <span class=\"token function\">getRelativePositions</span><span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> MouseEvent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> rect <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getBoundingClientRect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> x <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>clientX <span class=\"token operator\">-</span> rect<span class=\"token punctuation\">.</span>left<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> rect<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> y <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>clientY <span class=\"token operator\">-</span> rect<span class=\"token punctuation\">.</span>top<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> rect<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token function\">moveRect</span><span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> MouseEvent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>camera<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> y <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRelativePositions</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> normalizedX <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x <span class=\"token operator\">/</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> normalizedY <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>y <span class=\"token operator\">/</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> flatted <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">Vector3</span><span class=\"token punctuation\">(</span>normalizedX<span class=\"token punctuation\">,</span> normalizedY<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unproject</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>camera\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cube<span class=\"token operator\">?.</span>position<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>flatted<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> flatted<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위 코드는 다음과 같은 단계를 거칩니다:</p>\n<ol>\n<li><code class=\"language-text\">e.clientX</code>와 <code class=\"language-text\">e.clientY</code>를 캔버스 좌표계로 변환합니다.</li>\n<li>변환된 좌표를 NDC(Normalized Device Coordinates)로 정규화합니다.</li>\n<li><code class=\"language-text\">Vector3.unproject(camera)</code>를 사용해 월드 스페이스로 변환합니다.</li>\n</ol>\n<p>이제 마우스를 따라다니는 큐브가 만들어졌습니다.</p>\n<iframe src=\"https://codesandbox.io/embed/9cdcpm?view=preview&hidenavigation=1\"\n     style=\"width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"interesting-flower-9cdcpm\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   ></iframe>\n<p>하지만 이렇게 구현하면, 브라우저 창 크기를 조정할 때 캔버스가 초기화되는 문제가 있습니다.<br>\n이를 해결하려면 렌더 타겟을 이용해 텍스처로 화면을 렌더링하는 방법이 필요합니다.</p>\n<hr>\n<h2 id=\"렌더-타겟으로-다시-구현하기\" style=\"position:relative;\"><a href=\"#%EB%A0%8C%EB%8D%94-%ED%83%80%EA%B2%9F%EC%9C%BC%EB%A1%9C-%EB%8B%A4%EC%8B%9C-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0\" aria-label=\"렌더 타겟으로 다시 구현하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>렌더 타겟으로 다시 구현하기</h2>\n<h3 id=\"1-렌더-타겟-설정\" style=\"position:relative;\"><a href=\"#1-%EB%A0%8C%EB%8D%94-%ED%83%80%EA%B2%9F-%EC%84%A4%EC%A0%95\" aria-label=\"1 렌더 타겟 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 렌더 타겟 설정</h3>\n<p>캔버스 크기에 맞는 렌더 타겟을 설정하고 별도의 장면(Scene)과 카메라를 추가합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">private</span> <span class=\"token function\">setupRenderTarget</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> renderTarget <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">WebGLRenderTarget</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">.</span>height\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> rtCamera <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">OrthographicCamera</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> rtScene <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">Scene</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  rtScene<span class=\"token punctuation\">.</span>background <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">Color</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"white\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderTarget <span class=\"token operator\">=</span> renderTarget<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rtCamera <span class=\"token operator\">=</span> rtCamera<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rtScene <span class=\"token operator\">=</span> rtScene<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> light <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">DirectionalLight</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xffffff</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  light<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  rtScene<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>light<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setupCubeInRenderTarget</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"2-큐브-이동-및-텍스처-적용\" style=\"position:relative;\"><a href=\"#2-%ED%81%90%EB%B8%8C-%EC%9D%B4%EB%8F%99-%EB%B0%8F-%ED%85%8D%EC%8A%A4%EC%B2%98-%EC%A0%81%EC%9A%A9\" aria-label=\"2 큐브 이동 및 텍스처 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 큐브 이동 및 텍스처 적용</h3>\n<p>렌더 타겟에 있는 카메라로 큐브를 이동시키고, 텍스처를 사용하는 평면을 추가합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">private</span> <span class=\"token function\">moveRect</span><span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> MouseEvent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n  <span class=\"token keyword\">const</span> flatted <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">Vector3</span><span class=\"token punctuation\">(</span>normalizedX<span class=\"token punctuation\">,</span> normalizedY<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unproject</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rtCamera<span class=\"token operator\">!</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cube<span class=\"token operator\">?.</span>position<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>flatted<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> flatted<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token function\">setupModels</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> geometry <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">PlaneGeometry</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> material <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">MeshStandardMaterial</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    map<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderTarget<span class=\"token operator\">?.</span>texture<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> plane <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">Mesh</span><span class=\"token punctuation\">(</span>geometry<span class=\"token punctuation\">,</span> material<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>plane<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>plane <span class=\"token operator\">=</span> plane<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"3-렌더-함수-구현\" style=\"position:relative;\"><a href=\"#3-%EB%A0%8C%EB%8D%94-%ED%95%A8%EC%88%98-%EA%B5%AC%ED%98%84\" aria-label=\"3 렌더 함수 구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 렌더 함수 구현</h3>\n<p>렌더 타겟을 먼저 렌더링한 뒤 메인 화면을 렌더링합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">private</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span>time<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  time <span class=\"token operator\">*=</span> <span class=\"token number\">0.001</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ms -> s</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderTarget<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">setRenderTarget</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderTarget<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rtScene<span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rtCamera<span class=\"token operator\">!</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">setRenderTarget</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>camera<span class=\"token operator\">!</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위 코드를 적용하면 캔버스 초기화 문제를 해결할 수 있습니다. 결과는 :</p>\n<iframe src=\"https://codesandbox.io/embed/cv64tw?view=preview&hidenavigation=1\"\n     style=\"width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"optimistic-gwen-cv64tw\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   ></iframe>\n<p>근데 왜 배경색이 계쏙 깜장색이죠? ;;; 당최 모르겠네요..<br>\n아무튼 화면 해상도가 변해도 캔버스가 아닌 텍스처에 잔상을 그려뒀기 때문에 초기화되지 않고 그대로 남아있는 모습을 확인하실 수 있습니다</p>\n<h1 id=\"키-입력받기\" style=\"position:relative;\"><a href=\"#%ED%82%A4-%EC%9E%85%EB%A0%A5%EB%B0%9B%EA%B8%B0\" aria-label=\"키 입력받기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>키 입력받기</h1>\n<p>캔버스에서 키보드 입력을 처리하려면 <code class=\"language-text\">tabindex</code>를 지정해주어야 합니다.<br>\nHTML 요소에서 기본적으로 키 입력 이벤트를 받으려면 포커스를 받을 수 있어야 하며, <code class=\"language-text\">tabindex</code> 속성을 통해 이를 활성화할 수 있습니다.</p>\n<h3 id=\"1-tabindex-설정\" style=\"position:relative;\"><a href=\"#1-tabindex-%EC%84%A4%EC%A0%95\" aria-label=\"1 tabindex 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. tabindex 설정</h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>canvas</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>이렇게 하면 키 입력이 활성화되지만, 포커스 상태를 나타내는 기본 스타일(테두리 강조)이 표시됩니다. 이를 비활성화하려면 <code class=\"language-text\">outline</code> 속성을 꺼줘야 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">canvas:focus</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">outline</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"2-키-입력-이벤트-처리\" style=\"position:relative;\"><a href=\"#2-%ED%82%A4-%EC%9E%85%EB%A0%A5-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC\" aria-label=\"2 키 입력 이벤트 처리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 키 입력 이벤트 처리</h3>\n<p>아래는 키 입력 이벤트를 추가한 코드입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"keydown\"</span><span class=\"token punctuation\">,</span> e <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>key <span class=\"token operator\">===</span> <span class=\"token string\">\"r\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cube<span class=\"token operator\">?.</span>material<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token function\">getRandomColor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>위 코드는 <code class=\"language-text\">r</code> 키를 누를 때마다 큐브의 색상을 랜덤으로 변경합니다.<br>\n앞서 보여드린 렌더 타겟 예제와 함께 사용하면 잔상이 남는 화면에서 <code class=\"language-text\">r</code> 키를 눌러 색상이 변하는 효과를 확인할 수 있습니다.<br>\n위의 코드샌드박스 예제에서 r키를 눌러보세요</p>\n<hr>\n<h1 id=\"캔버스를-투명하게-렌더링하기\" style=\"position:relative;\"><a href=\"#%EC%BA%94%EB%B2%84%EC%8A%A4%EB%A5%BC-%ED%88%AC%EB%AA%85%ED%95%98%EA%B2%8C-%EB%A0%8C%EB%8D%94%EB%A7%81%ED%95%98%EA%B8%B0\" aria-label=\"캔버스를 투명하게 렌더링하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>캔버스를 투명하게 렌더링하기</h1>\n<p>캔버스를 투명하게 렌더링하려면 렌더러 생성 시 <code class=\"language-text\">alpha: true</code> 옵션을 설정하면 됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token constant\">THREE</span></span><span class=\"token punctuation\">.</span><span class=\"token function\">WebGLRenderer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  alpha<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f7188078df504581cefff4d5389f6156/105d8/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACjElEQVR42m2Ta0iTURjH3899i/BTEBV2ESxX+SWyrChmKlZYYllquC4aDkvdlMjr1HkDIxBRSDfdNLxhlhuhafN+yRVWHxztYxhpKZWhbvv17q3ZHD7w8BzOec7vPM85/yM4HU5cLpfkvuaeczqdOER3/stxea15JeJy5zgdCOuLLtbBHtBmtuFwMbgh3nDh47hdGqyurfytxOlizeGQ5kw2K2XDXVKcnf/M8urKhgrdVbmrE5tk6ftXTK2PEG7LCqi4Wc9jTR12ux2bzYZer+fL3ByppicE16k5pcsnzFBEbFsVuYNtDH2w8vpVPyNj47y1TqGvziEvJQTlpR0IycEaEvc/IDmomMzIMu7eUZKfk0NWqYaoFi1RzaVENpdIwNONBYTq86lpNVBbXUN5QSq3zu8m44o/GVf3kZ0YJAKPaLh/tJK4wHR2bQug0dDEzJSVws4G5MYiEaglwlBMuLGYs42FxLZX8e3HEkOWQYruyVHF7SUrUYY64QDq+ECEFBF4bk8cgiAQcvyY565JeykCdRoutpQRaSwRXctJXR5p5nrpIdxmqFahvLyT7BuHyEo4KLmgkD1k6xY/CajT6aVE+8IcsR1VyMU2zxgKCROrCxfbPtGQS+Xo8/UX7e2sRhm9HfX1ANJj/UkXWxfiZZkSLEmRhFuTi4uLzC8sMGOfpef9OIUvmrhmqOCCsZTDtSpqx8zgcPFz+TcjA93kpcrJVUagVcdQrIpBCPWLRqFQ0NfXi8ViYXJyEpPJxLPOLmas7xgdGqavt5fB6QnK23Q8NXfzadZG/8AA7e0d9PSYeTNtXZeSMGiaYHn51wbBukXtLXJfYfvGDcL2ADw/wzvBd5N4DP8/H5sC/wA2NP8Dx4s4DAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"캔버스를 투명하게 렌더링\"\n        title=\"\"\n        src=\"/static/f7188078df504581cefff4d5389f6156/f058b/image.png\"\n        srcset=\"/static/f7188078df504581cefff4d5389f6156/c26ae/image.png 158w,\n/static/f7188078df504581cefff4d5389f6156/6bdcf/image.png 315w,\n/static/f7188078df504581cefff4d5389f6156/f058b/image.png 630w,\n/static/f7188078df504581cefff4d5389f6156/40601/image.png 945w,\n/static/f7188078df504581cefff4d5389f6156/105d8/image.png 1170w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이런 결과를 만들 수 있습니다.</p>\n<p>만약 <code class=\"language-text\">premultipliedAlpha: false</code>를 추가로 지정하면, 미리 계산된 알파값(premultiplied alpha)을 사용하지 않도록 설정할 수 있습니다.</p>\n<h3 id=\"premultipliedalpha---알파-블렌딩\" style=\"position:relative;\"><a href=\"#premultipliedalpha---%EC%95%8C%ED%8C%8C-%EB%B8%94%EB%A0%8C%EB%94%A9\" aria-label=\"premultipliedalpha   알파 블렌딩 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>premultipliedALpha? - 알파 블렌딩</h3>\n<p><a href=\"https://developer.nvidia.com/content/alpha-blending-pre-or-not-pre\">공식문서에서 걸어둔 링크 (NVIDIA 공식 게시글)</a><br>\n<a href=\"https://aker.tistory.com/558\">잉글리쉬포비아를 위한 한국어로 간단히 설명된 글</a></p>\n<p>알파 블렌딩은 투명도를 적용하는 방식입니다. 보통 RGB 값에 알파 채널을 곱해 표면의 색상을 혼합합니다.</p>\n<h4 id=\"사후-곱셈-알파-블렌딩\" style=\"position:relative;\"><a href=\"#%EC%82%AC%ED%9B%84-%EA%B3%B1%EC%85%88-%EC%95%8C%ED%8C%8C-%EB%B8%94%EB%A0%8C%EB%94%A9\" aria-label=\"사후 곱셈 알파 블렌딩 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사후 곱셈 알파 블렌딩</h4>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">DestinationColor<span class=\"token punctuation\">.</span>rgb <span class=\"token operator\">=</span>\n  SourceColor<span class=\"token punctuation\">.</span>rgb <span class=\"token operator\">*</span> SourceColor<span class=\"token punctuation\">.</span>a <span class=\"token operator\">+</span> DestinationColor<span class=\"token punctuation\">.</span>rgb <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">-</span> SourceColor<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>여기서 <code class=\"language-text\">SourceColor.a</code>는 투명도를 나타냅니다.</li>\n<li>알파값을 비율로 사용해 배경색(DestinationColor)과 소스색(SourceColor)을 섞는 방식입니다.</li>\n</ul>\n<p>예를 들어, 아래와 같이 <code class=\"language-text\">RGBA(1, 0, 0, 1)</code>과 <code class=\"language-text\">RGBA(0, 1, 0, 0.1)</code>을 섞는다고 생각해봅시다.</p>\n<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 174px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3715acea59f2e4d7b291286109898c4d/fe9c7/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 93.67088607594937%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPUlEQVR42rWTW0vDQBCFQ/91pQVFRVtviHd/TpNs9pKUaqOJNDWXbRWsVq3v6piBJbTqPIiwfMzDHs7O7Bzrw7K+P7UacHze7jz0ulo6Q6d730W6t25wF0Bt/SR+L8VX7SUxi1li+2MfNUCoWcqA1u/OxfGG/XjpFwJvG6qRAhLON7tN8RqJ0o3nHAlKrAnn9GCVTUOVcZELpZWh1BJIOCf7K+w5lCkThVg8hHiwt8xfrmXZJNxGftmWJJ6dHa45T32Vcy/zQGkISiDhHG01YGBe4syNGpT0wPTppj25CAq5+MlQk0tSl+WSoLKqh5pwHp21OpNeoKVZSaOnncNWXb7FbGBXlYb/6fynnvUJBAOmPR8MJOEcbzc4/PPQwRhV/xlIbdjRujvtQyRNpKrBopx3mmIW8bJP3CokRvIT4CeHR7U53McAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"빨간색과 옅은 초록\"\n        title=\"\"\n        src=\"/static/3715acea59f2e4d7b291286109898c4d/fe9c7/image-1.png\"\n        srcset=\"/static/3715acea59f2e4d7b291286109898c4d/c26ae/image-1.png 158w,\n/static/3715acea59f2e4d7b291286109898c4d/fe9c7/image-1.png 174w\"\n        sizes=\"(max-width: 174px) 100vw, 174px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<figcaption>\n사진 출처 https://aker.tistory.com/558\n</figcaption>\n</figure>\n<p>이를 혼합하면 보통은 \"빨간색이 강하고, 초록색은 아주 조금 섞이겠지?\"라고 생각하기 마련이겠지만<br>\n사후 곱셈 방식을 적용하면..</p>\n<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 175px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8106aad8f7303e4459f280a818f67be6/4edbd/image-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0UlEQVR42sVSiw6DIAzkTzdlmOy9z6IF9BcnVmstzi1LliVNY+gdd9QziOcQLKIN4UCdP6gD1PIEcQaYlG6IlRoPZdUtAjB+mBCuiDUTJvJ7ZlZGvCjbCrFxRbYN0Nt2q0x6cPHsyTbAKcY8jtGphdGh7EuAM1338H5HY3kxob2vuJcA4/0xpVlEjJ3kS0Cp3LCxpXLfmy3l/s0DaMs5K9OPJCQp718xVdfK/4tnjDmeH8aLayQPtmsAK7I9lowXr0qWads7wMrCyrX9Kp7fhOQJoH9ruHlCtH8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"사후 곱셈 알파 결과\"\n        title=\"\"\n        src=\"/static/8106aad8f7303e4459f280a818f67be6/4edbd/image-2.png\"\n        srcset=\"/static/8106aad8f7303e4459f280a818f67be6/c26ae/image-2.png 158w,\n/static/8106aad8f7303e4459f280a818f67be6/4edbd/image-2.png 175w\"\n        sizes=\"(max-width: 175px) 100vw, 175px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<figcaption>\n사진 출처 https://aker.tistory.com/558\n</figcaption>\n</figure>\n<p><code class=\"language-text\">RGBA(0.5, 0.5, 0, 0.55)</code>가 나와버립니다<br>\n좀 합리적이지 않은 듯 하네요<br>\n대신에 사전 곱셈 방식을 사용하면..</p>\n<h4 id=\"사전-곱셈premultiplied-alpha\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%A0%84-%EA%B3%B1%EC%85%88premultiplied-alpha\" aria-label=\"사전 곱셈premultiplied alpha permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사전 곱셈(Premultiplied Alpha)</h4>\n<p>사전 곱셈에서는 알파값을 미리 곱해둔 상태로 계산합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">DestinationColor<span class=\"token punctuation\">.</span>rgb <span class=\"token operator\">=</span>\n  SourceColor<span class=\"token punctuation\">.</span>rgb <span class=\"token operator\">+</span> DestinationColor<span class=\"token punctuation\">.</span>rgb <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">-</span> SourceColor<span class=\"token punctuation\">.</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 183px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1b28b4501561891a960f63d653e7eb86/e6f05/image-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxklEQVR42u2RSw6CQBBEhwS4/1VEggTQlQPdPR8Y8Dp+WiYhGIMY3bgwqdSu+lWnxFWIJZ2jiNKE+g6gJk2osMFGGVVD7X0hGQTslzjuq0IapRRyEgj4BGe01d7FS3KI2w0NrhnJLCZPyXXysC/vZM1QYPm2b5K/+7kr8tpqmv3M+clXyGaXQWeRAMf8XHxrJayzFF2L3HcGn3yltisLaR+m8m97/0/1RLb54lSsH50q5KkSNTj4bKrToTpq0rOpZCNNa7zfADEcW2yOt2KsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"사전 곱셈한 텍스처\"\n        title=\"\"\n        src=\"/static/1b28b4501561891a960f63d653e7eb86/e6f05/image-3.png\"\n        srcset=\"/static/1b28b4501561891a960f63d653e7eb86/c26ae/image-3.png 158w,\n/static/1b28b4501561891a960f63d653e7eb86/e6f05/image-3.png 183w\"\n        sizes=\"(max-width: 183px) 100vw, 183px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<figcaption>\n사진 출처 https://aker.tistory.com/558\n</figcaption>\n</figure>\n<p>위에서 살펴본 텍스처를 생각해봅시다.<br>\n이번에는 알파를 사전 곱셈해뒀으므로, 오른쪽은 <code class=\"language-text\">rgba(0, 0.1, 0, 0.1)</code>이 되었습니다<br>\n물론 왼쪽은 알파=1이므로 변함없겠죠?</p>\n<p>이제 섞어보면..</p>\n<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 183px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/54856fe8dea8406a20f200600ac7d465/e6f05/image-4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvElEQVR42uWTWQ7DIAxEfdVmgfRyBdIcsC4ug8G0Vb4jIYQfXpIZQWGent6lddndyisuM4eyMxT+DZKulEO3W4gDNXejSg1TC4mn25ZxNLaDHNKxeamXC/wbmlqITHpMt04wbgcVoY2FHNJx34IMkQ/zLuQhFfJhBN+TuQHfxazBrlI/sEy2kENCZSp6xqJHauWpEFbBA21G9cn4rOFlrcpBdSV3/QuzVSXGklQNUd9B0mVnFw0f6o/HrOELJScVED8fEicAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"사전 곱셈 결과\"\n        title=\"\"\n        src=\"/static/54856fe8dea8406a20f200600ac7d465/e6f05/image-4.png\"\n        srcset=\"/static/54856fe8dea8406a20f200600ac7d465/c26ae/image-4.png 158w,\n/static/54856fe8dea8406a20f200600ac7d465/e6f05/image-4.png 183w\"\n        sizes=\"(max-width: 183px) 100vw, 183px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<figcaption>\n사진 출처 https://aker.tistory.com/558\n</figcaption>\n</figure>\n<p>사후 곱셈 알파를 적용했던 결과에 비해 꽤 합리적인 결과가 나왔습니다.<br>\n이러한 방식을 통해 색상 혼합을 더욱 자연스럽게 해줄 수 있고,<br>\n이 방식을 사용하는게 그리 어려운 방식도 아니라서 보통 딸깍으로 제공됩니다</p>\n<hr>\n<h1 id=\"html-요소의-배경으로-threejs-렌더링하기\" style=\"position:relative;\"><a href=\"#html-%EC%9A%94%EC%86%8C%EC%9D%98-%EB%B0%B0%EA%B2%BD%EC%9C%BC%EB%A1%9C-threejs-%EB%A0%8C%EB%8D%94%EB%A7%81%ED%95%98%EA%B8%B0\" aria-label=\"html 요소의 배경으로 threejs 렌더링하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTML 요소의 배경으로 Three.js 렌더링하기</h1>\n<p>Three.js를 사용해 HTML 요소 배경으로 애니메이션을 추가하는 방법을 알아보겠습니다.<br>\n두 가지 방식이 있는데요</p>\n<ul>\n<li><code class=\"language-text\">position:fixed</code>로 캔버스를 고정하고 z-index를 내리기</li>\n<li><code class=\"language-text\">iframe</code>으로 삽입하기</li>\n</ul>\n<p>하나하나 살펴봅시다</p>\n<h3 id=\"1-css로-배경-설정\" style=\"position:relative;\"><a href=\"#1-css%EB%A1%9C-%EB%B0%B0%EA%B2%BD-%EC%84%A4%EC%A0%95\" aria-label=\"1 css로 배경 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. CSS로 배경 설정</h3>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">canvas</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> fixed<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">z-index</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>캔버스의 위치를 고정(<code class=\"language-text\">position: fixed</code>)하고 화면 전체를 채우도록 설정합니다.</p>\n<p>그런데 이 방식의 단점은, three.js 코드가 다른 메인 코드들(js 등..)과 혼재해야 한다는 점입니다</p>\n<h3 id=\"2-iframe으로-구현하기\" style=\"position:relative;\"><a href=\"#2-iframe%EC%9C%BC%EB%A1%9C-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0\" aria-label=\"2 iframe으로 구현하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. iframe으로 구현하기</h3>\n<p>따라서 대신에 iframe으로 삽입하는 방식을 사용하여, 두 관심사를 분리할 수 있습니다</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>iframe</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>background<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>three.html<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>iframe</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>안녕하세요!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>Three.js 애니메이션이 적용된 배경입니다.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>이곳에 내용을 추가할 수 있습니다.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>원래 <code class=\"language-text\">index.html</code>에 three.js 관련을 작성했는데,<br>\n이를 따로 <code class=\"language-text\">three.html</code>에 분리해뒀습니다. 이를 <code class=\"language-text\">iframe</code>소스로 사용합니다.</p>\n<p>iframe과 그 외 스타일은 다음과 같이 지정합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">#background</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> fixed<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">z-index</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.container</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">align-items</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">pointer-events</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">z-index</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.container *</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">z-index</span><span class=\"token punctuation\">:</span> 2<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>z-index를 -1로 하니 body가 iframe을 가려버리기에 마우스이동 인터렉션이 받아지지 않았습니다<br>\n따라서 z-index를 1로 지정하고, iframe 위에 올릴 친구들은 2로 설정했습니다.<br>\n또한 iframe은 기본적으로 border를 생성하므로 <code class=\"language-text\">border:none</code>을 추가해줍시다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2e1d67575d039d0bc42ac6a542410930/d5b59/image-5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAADr0lEQVR42n2UWVMbVxCF9RKj0eyLRiONNEK7EEJjgYQ2wCKAIeAFCYrNJnY5cTmpSpWT///wpSW8lBMnD11dd27P6dvLOQlVVfmupT5b6oullv4/4j9Z4tsP8oOyMBXNUNEtXbyYbaDbJkbakrP2FVj7P0AJ0jQNI+Ng5V0y2wHBIMAu+1jFDGbkk2nlyLYD3MhF0wV4kfy7gAswy5Cfs3itLP6Wh1N1CEbiK7Z4F93RcasWbkHOjQxe2VtW8E/QxOd+uY0QM0yTjk3sVQPNVOWlOrq82q1YeGs2fmxj+AtgE6/o4le8ZVXfAC4zeCaOlJPpWQSbEti1CXc93JbBivkDiv8IvZVEDZOSUGKGjsRKBRtpAbdJJVNf+pnQZADRakNK9ShVi2zlxzQf1+i2u5T2c/zx60defbzi7v0N8z+fEY0CzIxO+NShOAhZ66xj5UzU5MOQEr4WsKee0Ql7+FmfXe2Uer7FmhUzdA64a37g+d6c2c41o+d9MpsOapTEHii0yzGjzCF6U2ElubKcfqJk1LmM79k/ndIa1zk+O+Z+9z0/D35nNrrmcv+O2fCGnfMhF9NbjvZOmNxsczDb58POX7y+eMvuqxHxkzaaopNYVze5nbxjdL3F8OUW47ddzk9nvBn/RnxTZz6fczG8Y32wxnA4lAS3XE1f8+LpnLuTN7z85Yy98wn9yxgnb5GopNbYKRyh1h7hdjW8sUawazG2Dqk0K/RLY442zmj3WgSPHXLZkF3zJyaFA2q9Mlr8CLNgEExtvA1j0cMsx+4lrU4Lu6/g1k2yJwaNzTqHxpzjtNx1m9TGq2xu9OnVR0xW9+VcJurmyE0dCgsSyMTtopSsaTqH5pyn0Yx6o06pVaQyjKgNS8Q56ZU+49if8yR/TKf7mOJ2nkFhj+JQSNDT8Zom+XGGYH1BBgFU1CRNI+aZf8uLzD2nuWumFSmpOaXWaNApbbEdTThxr9gJD+mXxxz4L8j2hZ69hx0MOj5eyX2Y8mIZFSUprDAodiKiOM92PKYaNvDLaaJJQLVVoTYoSd9+ZG68o1cdEWwLYN0nLRQs9HK4JWcJvgTUVG1Jv2RSwWwrNCpNHMVjXdmkXKzQLQykR64MS6c8CilMRShiAaz6FMchuW52yesFxle1kS1PrajYkUlmYqEHKtkwi2VaqLZImamLEmnYdeF2zZRhCODWgqIuZvBJJLR/6eGDORURCFkFpy3i4EmSknBdQBZ3C4HQtAcfCqhTNpb6+ZnLfwOBWO1nCR4pyQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"HTML배경에 three.js 삽입\"\n        title=\"\"\n        src=\"/static/2e1d67575d039d0bc42ac6a542410930/f058b/image-5.png\"\n        srcset=\"/static/2e1d67575d039d0bc42ac6a542410930/c26ae/image-5.png 158w,\n/static/2e1d67575d039d0bc42ac6a542410930/6bdcf/image-5.png 315w,\n/static/2e1d67575d039d0bc42ac6a542410930/f058b/image-5.png 630w,\n/static/2e1d67575d039d0bc42ac6a542410930/40601/image-5.png 945w,\n/static/2e1d67575d039d0bc42ac6a542410930/78612/image-5.png 1260w,\n/static/2e1d67575d039d0bc42ac6a542410930/d5b59/image-5.png 1370w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이런 결과를 얻었어요</p>\n<h1 id=\"캔버스-스크린샷-찍기\" style=\"position:relative;\"><a href=\"#%EC%BA%94%EB%B2%84%EC%8A%A4-%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7-%EC%B0%8D%EA%B8%B0\" aria-label=\"캔버스 스크린샷 찍기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>캔버스 스크린샷 찍기</h1>\n<p>이건 three.js에만 국한되는 기능은 아닙니다만, <code class=\"language-text\">canvas.toDataURL</code>과 <code class=\"language-text\">canvas.toBlob</code> 메서드로 캔버스에 그려진 내용을 스크린샷찍을 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> elem <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#screenshot\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nelem<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  canvas<span class=\"token punctuation\">.</span><span class=\"token function\">toBlob</span><span class=\"token punctuation\">(</span>blob <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">saveBlob</span><span class=\"token punctuation\">(</span>blob<span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">screencapture-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>canvas<span class=\"token punctuation\">.</span>width<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">x</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>canvas<span class=\"token punctuation\">.</span>height<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.png</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> saveBlob <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  a<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">saveData</span><span class=\"token punctuation\">(</span>blob<span class=\"token punctuation\">,</span> fileName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span><span class=\"token constant\">URL</span><span class=\"token punctuation\">.</span><span class=\"token function\">createObjectURL</span><span class=\"token punctuation\">(</span>blob<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    a<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> url<span class=\"token punctuation\">;</span>\n    a<span class=\"token punctuation\">.</span>download <span class=\"token operator\">=</span> fileName<span class=\"token punctuation\">;</span>\n    a<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>대충 이렇겠죠?<br>\n근데 이 코드만으로는 three.js에서 렌더링한 결과를 담기 충분하지 않을 때가 많습니다<br>\n텅 빈 이미지가 나와버릴 수 있는건데<br>\n기본적으로 브라우저는 화면을 렌더링한 후 성능을 위해 WebGL 캔버스의 드로잉 버퍼를 비워버리기 때문입니다</p>\n<p>이를 해결하기 위해, <code class=\"language-text\">canvas.toBlob</code>호출 직전에 렌더링을 한번 그려내야합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderTarget<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">setRenderTarget</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderTarget<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rtScene<span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rtCamera<span class=\"token operator\">!</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">setRenderTarget</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>renderer<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>scene<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>camera<span class=\"token operator\">!</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">render()</code>메서드에서 이 부분만 쏙 떼면 되겠는데요? update관련은 빼구요<br>\n이 부분만 조심하면 된다는 사실을 인지하고 있으면 당할 일 없겠네요</p>\n<hr>\n<p><br>\n마칩니다</p>","frontmatter":{"title":"Three.js 공식문서로 시작해보기. - 6","date":"December 15, 2024","description":"캔버스 초기화 방지하기, 키 입력 받기, 캔버스를 투명하게 하기, HTML요소의 배경으로 Three.js를 삽입하기","tag":["TIL","Three.js"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%BA%94%EB%B2%84%EC%8A%A4-%EC%B4%88%EA%B8%B0%ED%99%94-%EB%B0%A9%EC%A7%80%ED%95%98%EA%B8%B0\">캔버스 초기화 방지하기</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#1-%EC%BA%94%EB%B2%84%EC%8A%A4-%EC%84%A4%EC%A0%95\">1. 캔버스 설정</a></li>\n<li><a href=\"#2-%EB%A7%88%EC%9A%B0%EC%8A%A4-%EC%9B%80%EC%A7%81%EC%9E%84%EC%97%90-%EB%94%B0%EB%9D%BC-%EB%AC%BC%EC%B2%B4-%EC%9D%B4%EB%8F%99\">2. 마우스 움직임에 따라 물체 이동</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A0%8C%EB%8D%94-%ED%83%80%EA%B2%9F%EC%9C%BC%EB%A1%9C-%EB%8B%A4%EC%8B%9C-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0\">렌더 타겟으로 다시 구현하기</a></p>\n<ul>\n<li><a href=\"#1-%EB%A0%8C%EB%8D%94-%ED%83%80%EA%B2%9F-%EC%84%A4%EC%A0%95\">1. 렌더 타겟 설정</a></li>\n<li><a href=\"#2-%ED%81%90%EB%B8%8C-%EC%9D%B4%EB%8F%99-%EB%B0%8F-%ED%85%8D%EC%8A%A4%EC%B2%98-%EC%A0%81%EC%9A%A9\">2. 큐브 이동 및 텍스처 적용</a></li>\n<li><a href=\"#3-%EB%A0%8C%EB%8D%94-%ED%95%A8%EC%88%98-%EA%B5%AC%ED%98%84\">3. 렌더 함수 구현</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%82%A4-%EC%9E%85%EB%A0%A5%EB%B0%9B%EA%B8%B0\">키 입력받기</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#1-tabindex-%EC%84%A4%EC%A0%95\">1. tabindex 설정</a></li>\n<li><a href=\"#2-%ED%82%A4-%EC%9E%85%EB%A0%A5-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC\">2. 키 입력 이벤트 처리</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%BA%94%EB%B2%84%EC%8A%A4%EB%A5%BC-%ED%88%AC%EB%AA%85%ED%95%98%EA%B2%8C-%EB%A0%8C%EB%8D%94%EB%A7%81%ED%95%98%EA%B8%B0\">캔버스를 투명하게 렌더링하기</a></p>\n<ul>\n<li>\n<ul>\n<li>\n<p><a href=\"#premultipliedalpha---%EC%95%8C%ED%8C%8C-%EB%B8%94%EB%A0%8C%EB%94%A9\">premultipliedALpha? - 알파 블렌딩</a></p>\n<ul>\n<li><a href=\"#%EC%82%AC%ED%9B%84-%EA%B3%B1%EC%85%88-%EC%95%8C%ED%8C%8C-%EB%B8%94%EB%A0%8C%EB%94%A9\">사후 곱셈 알파 블렌딩</a></li>\n<li><a href=\"#%EC%82%AC%EC%A0%84-%EA%B3%B1%EC%85%88premultiplied-alpha\">사전 곱셈(Premultiplied Alpha)</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#html-%EC%9A%94%EC%86%8C%EC%9D%98-%EB%B0%B0%EA%B2%BD%EC%9C%BC%EB%A1%9C-threejs-%EB%A0%8C%EB%8D%94%EB%A7%81%ED%95%98%EA%B8%B0\">HTML 요소의 배경으로 Three.js 렌더링하기</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#1-css%EB%A1%9C-%EB%B0%B0%EA%B2%BD-%EC%84%A4%EC%A0%95\">1. CSS로 배경 설정</a></li>\n<li><a href=\"#2-iframe%EC%9C%BC%EB%A1%9C-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0\">2. iframe으로 구현하기</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%BA%94%EB%B2%84%EC%8A%A4-%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7-%EC%B0%8D%EA%B8%B0\">캔버스 스크린샷 찍기</a></p>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/til/how-to-threejs-5/"},"frontmatter":{"title":"Three.js 공식문서로 시작해보기. - 5"}},"next":null},"pageContext":{"id":"2b1dcd2f-07cf-565d-a348-5e5b5ce61ec3","previousPostId":"77bc3fa2-909c-5f3a-bb6c-f0eacf4500f1","nextPostId":null}},"staticQueryHashes":["2841359383"],"slicesMap":{}}