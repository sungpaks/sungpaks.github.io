{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/til/implement-threejs-particles/","result":{"data":{"site":{"siteMetadata":{"title":"ì¡°ì„±ê°œë°œì‹¤ë¡","siteUrl":"https://sungpaks.github.io"}},"markdownRemark":{"id":"b0ae8c83-3748-5603-a96a-7347195a01d7","excerpt":"! ì£¼ì˜ : TIL ê²Œì‹œê¸€ì…ë‹ˆë‹¤. ë‹¤ë“¬ì§€ ì•Šê³  ì˜¬ë¦¬ê±°ë‚˜ ê¸°ë¡ì„ í†µì§¸ë¡œ ë³µë¶™í–ˆì„ ìˆ˜ ìˆëŠ” ë’·ê³ ê¸° í¬ìŠ¤íŒ…ì…ë‹ˆë‹¤. ì œ ë¸”ë¡œê·¸ ëŒ€ë¬¸ì— ë³´ë©´ ì›¬ ì†Ÿì•„ì˜¤ë¥´ëŠ” ë¡œì¼“ì´ ìˆëŠ”ë°ìš”  This work is based on \"Rocket ğŸš€\"\n(https://sketchfab.com/3d-modelsâ€¦","html":"<blockquote>\n<p>! ì£¼ì˜ : TIL ê²Œì‹œê¸€ì…ë‹ˆë‹¤. ë‹¤ë“¬ì§€ ì•Šê³  ì˜¬ë¦¬ê±°ë‚˜ ê¸°ë¡ì„ í†µì§¸ë¡œ ë³µë¶™í–ˆì„ ìˆ˜ ìˆëŠ” ë’·ê³ ê¸° í¬ìŠ¤íŒ…ì…ë‹ˆë‹¤.</p>\n</blockquote>\n<p>ì œ ë¸”ë¡œê·¸ ëŒ€ë¬¸ì— ë³´ë©´ ì›¬ ì†Ÿì•„ì˜¤ë¥´ëŠ” ë¡œì¼“ì´ ìˆëŠ”ë°ìš”</p>\n<figure>\n<p><img src=\"https://i.imgur.com/neJyyfb.gif\" alt=\"\"></p>\n<figcaption>\n<p>This work is based on \"Rocket ğŸš€\"\n(<a href=\"https://sketchfab.com/3d-models/rocket-9b9b64b138f24e4a908238c0b471930e\">https://sketchfab.com/3d-models/rocket-9b9b64b138f24e4a908238c0b471930e</a>)\nby lizlancaster (<a href=\"https://sketchfab.com/lizlancaster\">https://sketchfab.com/lizlancaster</a>) licensed under\nCC-BY-4.0 (<a href=\"http://creativecommons.org/licenses/by/4.0/\">http://creativecommons.org/licenses/by/4.0/</a>)</p>\n</figcaption>\n</figure>\n<p>ì´ê±° React-Three-Fiberë¡œ ë§Œë“¤ì–´ë³¸ ë°ëª¨ì…ë‹ˆë‹¤. ë¡œì¼“ì€ ë¬´ë£Œì‚¬ì´íŠ¸ì—ì„œ í¼ì™”êµ¬ìš”<br>\në¡œì¼“ì„ ì¡ì•„ì„œ ì´ë¦¬ì €ë¦¬ ëŒë ¤ë³´ë©´ ë¡œì¼“ ë°©í–¥ì„ ë°”ê¿€ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤(ì‚¬ì‹¤ ì¹´ë©”ë¼ê°€ ì›€ì§ì´ëŠ”ê±°ì‹¬)<br>\nì•„ë¬´íŠ¼ê°„ì— ì˜¤ëŠ˜ì€ ì—¬ê¸°ì— ì“°ì¸ íŒŒí‹°í´ íš¨ê³¼ êµ¬í˜„ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤</p>\n<h1 id=\"ì ì„-ì—¬ëŸ¬ê°œ-ìƒì„±í•˜ë ¤ë©´\" style=\"position:relative;\"><a href=\"#%EC%A0%90%EC%9D%84-%EC%97%AC%EB%9F%AC%EA%B0%9C-%EC%83%9D%EC%84%B1%ED%95%98%EB%A0%A4%EB%A9%B4\" aria-label=\"ì ì„ ì—¬ëŸ¬ê°œ ìƒì„±í•˜ë ¤ë©´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì ì„ ì—¬ëŸ¬ê°œ ìƒì„±í•˜ë ¤ë©´</h1>\n<p>3D ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•  ë•Œ ìš°ë¦¬ëŠ” meshë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mesh</span> <span class=\"token attr-name\">visible</span> <span class=\"token attr-name\">position</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">rotation</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span>Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>sphereGeometry</span> <span class=\"token attr-name\">args</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meshStandardMaterial</span> <span class=\"token attr-name\">color</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hotpink<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">transparent</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mesh</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>ê·¼ë° ì´ë²ˆì— êµ¬í˜„í•  íŒŒí‹°í´ ì‹œìŠ¤í…œì—ì„œëŠ” <code class=\"language-text\">&lt;points></code>ë¥¼ ì”ë‹ˆë‹¤.<br>\n<strong>ì…ì</strong>ì— í•´ë‹¹í•˜ëŠ” ì ë§Œ ìˆìœ¼ë©´ ë˜ë‹ˆê¹ìš”<br>\nê·¸ëŸ¼ ì €ëŸ° íš¨ê³¼ë¥¼ êµ¬í˜„í•˜ë ¤ë©´ ì•„ì£¼ ë§ì€ ìˆ˜ì˜ ì…ìë¥¼ ìƒì„±í•´ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤<br>\n300ê°œì •ë„ í•œë‹¤ê³  ìƒê°í•´ë´…ì‹œë‹¤.<br>\nê·¸ëŸ¼ ì´ëŸ°ê±´ ì–´ë–¤ê°€ìš”? ã…‹ã…‹ã…‹</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token builtin\">Array</span><span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> length<span class=\"token operator\">:</span> <span class=\"token number\">3000</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>points</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>i<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">points</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>fooGeometry</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>fooMaterial</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>points</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>íƒë„ì—†ìŠµë‹ˆë‹¤. ì´ëŸ¬ë©´ 300ê°œì˜ <code class=\"language-text\">&lt;points></code> ë¥¼ ìœ„í•œ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ê³ , 300ê°œì˜ WebGL draw callì„ ìœ ë°œí•˜ê³ , 300ë²ˆì˜ ë Œë”ë§ ì²˜ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.</p>\n<p>ëŒ€ì‹  <a href=\"https://threejs.org/docs/?q=bufferGeo#api/en/core/BufferGeometry\"><code class=\"language-text\">bufferGeometry</code></a>ë¡œ ì»¤ìŠ¤í…€ ê¸°í•˜í•™ ì •ë³´ë¥¼ ë‹´ì•„ì„œ, ì´ë¥¼ ë‹¨ì¼ <code class=\"language-text\">&lt;points></code>ì—ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>points</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bufferGeometry</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bufferAttribute</span>\n      <span class=\"token attr-name\">attach</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>attributes-position<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">count</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">array</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>positions<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">itemSize</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bufferGeometry</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pointsMaterial</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>points</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>ê·¸ëŸ¼ ì´ 300ê°œ ì ë“¤ì˜ ìœ„ì¹˜ì •ë³´ ë°°ì—´ì„ ë§Œë“¤ëŸ¬ ê°€ë´…ì‹œë‹¤</p>\n<h1 id=\"íŒŒí‹°í´ë“¤ì˜-ìœ„ì¹˜ì™€-ì†ë„ë¥¼-ì´ˆê¸°í™”í•˜ê¸°\" style=\"position:relative;\"><a href=\"#%ED%8C%8C%ED%8B%B0%ED%81%B4%EB%93%A4%EC%9D%98-%EC%9C%84%EC%B9%98%EC%99%80-%EC%86%8D%EB%8F%84%EB%A5%BC-%EC%B4%88%EA%B8%B0%ED%99%94%ED%95%98%EA%B8%B0\" aria-label=\"íŒŒí‹°í´ë“¤ì˜ ìœ„ì¹˜ì™€ ì†ë„ë¥¼ ì´ˆê¸°í™”í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>íŒŒí‹°í´ë“¤ì˜ ìœ„ì¹˜ì™€ ì†ë„ë¥¼ ì´ˆê¸°í™”í•˜ê¸°</h1>\n<p>ë¨¼ì € <code class=\"language-text\">&lt;points></code> ì˜¤ë¸Œì íŠ¸ë¥¼ ì°¸ì¡°í•  refì™€, íŒŒí‹°í´ë“¤ì˜ ìœ„ì¹˜ì™€ ì†ë„ë¥¼ ë‹´ì„ refë¥¼ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> count <span class=\"token operator\">=</span> <span class=\"token number\">300</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// íŒŒí‹°í´ ìˆ˜</span>\n<span class=\"token keyword\">const</span> particles <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">useRef</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>Points<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> particlesData <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    positions<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Float32Array</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    velocities<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Float32Array</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">...</span>\n\n<span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>points</span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>particles<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  // ...\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>points</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>300ê°œë§Œí¼ì˜ íŒŒí‹°í´ ì…ìë“¤ ìœ„ì¹˜ì™€ ì†ë„ë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ <code class=\"language-text\">Float32Array</code>ë¥¼ ë‘ ê°œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.<br>\nì´ ë•Œ ë°°ì—´ì˜ í¬ê¸°ëŠ” 300 x 3ì…ë‹ˆë‹¤. 3ì°¨ì› ê³µê°„ì´ë‹ˆê¹ì—¬</p>\n<p>ì´ì œ ê° ì…ìë“¤ì˜ ì´ˆê¸° ìœ„ì¹˜ì™€ ì†ë„ë¥¼ ì •í•´ì¤ë‹ˆë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> getRandomPositionFromCenter <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1.4</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.7</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// ì´ˆê¸°í™”</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">REDUCTION_FACTOR</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.01</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> count<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> x <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> y <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> z <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">;</span>\n\n  particlesData<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>positions<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">getRandomPositionFromCenter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  particlesData<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>positions<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">getRandomPositionFromCenter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  particlesData<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>positions<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">getRandomPositionFromCenter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  particlesData<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>velocities<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> x <span class=\"token operator\">*</span> <span class=\"token constant\">REDUCTION_FACTOR</span><span class=\"token punctuation\">;</span>\n  particlesData<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>velocities<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> y <span class=\"token operator\">*</span> <span class=\"token constant\">REDUCTION_FACTOR</span><span class=\"token punctuation\">;</span>\n  particlesData<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>velocities<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> z <span class=\"token operator\">*</span> <span class=\"token constant\">REDUCTION_FACTOR</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì¼ë‹¨ ì¤‘ì‹¬ ìœ„ì¹˜ë¡œë¶€í„° ì ë‹¹~í•œ ëœë¤ ë²”ìœ„ë¥¼ ë½‘ì•„ì„œ ìœ„ì¹˜ë¥¼ í• ë‹¹í•´ì¤ì‹œë‹¤.\nì‚¬ì‹¤ì€ ë¡œì¼“ì„ ì›”ë“œì¢Œí‘œì˜ 0,0,0ì— ë‘˜ê±°ë¼ ê·¸ëƒ¥ 0,0,0ê¸°ì¤€ìœ¼ë¡œ Centerê°€ ë½‘íˆê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤<br>\nê·¸ë¦¬ê³  ì†ë„ëŠ” ë¡œì¼“ì´ ë°”ë¼ë³´ëŠ” ë°©í–¥(Y) ë°˜ëŒ€ë¡œ ê°ˆ ìˆ˜ ìˆë„ë¡ ì •í•´ì¤ë‹ˆë‹¤.<br>\nê·¼ë° Yì¶•ìœ¼ë¡œë§Œ ì›€ì§ì´ê²Œ í•˜ë©´ ì¢€ ì¬ë¯¸ì—†ëŠ” ì§ì„ ì´ ë˜ë‹ˆê¹Œ X, Zì¶•ì— ëœë¤ì„ ì¢€ ì„ì–´ì¤ë‹ˆë‹¤</p>\n<h1 id=\"useframeìœ¼ë¡œ-íŒŒí‹°í´ë“¤ì´-ì›€ì§ì´ë„ë¡-ì—…ë°ì´íŠ¸\" style=\"position:relative;\"><a href=\"#useframe%EC%9C%BC%EB%A1%9C-%ED%8C%8C%ED%8B%B0%ED%81%B4%EB%93%A4%EC%9D%B4-%EC%9B%80%EC%A7%81%EC%9D%B4%EB%8F%84%EB%A1%9D-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8\" aria-label=\"useframeìœ¼ë¡œ íŒŒí‹°í´ë“¤ì´ ì›€ì§ì´ë„ë¡ ì—…ë°ì´íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>useFrameìœ¼ë¡œ íŒŒí‹°í´ë“¤ì´ ì›€ì§ì´ë„ë¡ ì—…ë°ì´íŠ¸</h1>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token function\">useFrame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>particles<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> positions <span class=\"token operator\">=</span> particlesData<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>positions<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> velocities <span class=\"token operator\">=</span> particlesData<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>velocities<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> count<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> particlePosition <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vector3</span><span class=\"token punctuation\">(</span>\n      positions<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      positions<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      positions<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    particlePosition<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+=</span> velocities<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    particlePosition<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+=</span> velocities<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    particlePosition<span class=\"token punctuation\">.</span>z <span class=\"token operator\">+=</span> velocities<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> dist <span class=\"token operator\">=</span> particlePosition<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> minProbability <span class=\"token operator\">=</span> <span class=\"token number\">0.01</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> maxProbability <span class=\"token operator\">=</span> <span class=\"token number\">0.99</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> probability <span class=\"token operator\">=</span>\n      Math<span class=\"token punctuation\">.</span><span class=\"token function\">pow</span><span class=\"token punctuation\">(</span>dist <span class=\"token operator\">/</span> maxDistance<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>maxProbability <span class=\"token operator\">-</span> minProbability<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n      minProbability<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> probability<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      positions<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">getRandomPositionFromCenter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      positions<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">getRandomPositionFromCenter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      positions<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">getRandomPositionFromCenter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      positions<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> particlePosition<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">;</span>\n      positions<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> particlePosition<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">;</span>\n      positions<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> particlePosition<span class=\"token punctuation\">.</span>z<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  particles<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>geometry<span class=\"token punctuation\">.</span>attributes<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>needsUpdate <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>useFrameì„ ì‚¬ìš©í•˜ì—¬ ì• ë‹ˆë©”ì´ì…˜ í”„ë ˆì„ì„ ìš”ì²­í•´ì¤ë‹ˆë‹¤<br>\nì—¬ê¸°ì„œëŠ” 300ê°œì˜ ìœ„ì¹˜, ì†ë„ ê°’ ê°ê°ì— ëŒ€í•´ (ê° íŒŒí‹°í´ì— ëŒ€í•´)</p>\n<ul>\n<li><code class=\"language-text\">new Vector3(x,y,z)</code>ì™€ ê°™ì´ í˜„ì¬ íŒŒí‹°í´ì˜ ìœ„ì¹˜ë¥¼ ë²¡í„°ê°ì²´ë¡œ ìƒì„±í•©ë‹ˆë‹¤</li>\n<li>ì´ì œ ì´ ìœ„ì¹˜ì—ì„œ ì†ë„ë¥¼ ë”í•´ì£¼ì–´(<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><msub><mi>x</mi><mi>i</mi></msub><mo>+</mo><mi>v</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">x = x_i + vt</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">t</span></span></span></span></span>) ì†ë„ì— ë”°ë¥¸ ìœ„ì¹˜ ë³€í™”ë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤</li>\n<li>íŒŒí‹°í´ì´ ë„ˆë¬´ ë©€ë¦¬ ê°€ë©´ ì‚¬ë¼ì§€ë„ë¡ í•´ì¤ë‹ˆë‹¤. : ê±°ë¦¬ì— ë”°ë¼ í™•ë¥ ì ì¸ particle ì´ˆê¸°í™” êµ¬í˜„\n<ul>\n<li>ë¨¼ì € <code class=\"language-text\">Vector3.length()</code>ë¡œ ì›ì ìœ¼ë¡œë¶€í„°ì˜ ê±°ë¦¬ë¥¼ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>\n<li>ì´ ê±°ë¦¬ì— ë¹„ë¡€í•˜ëŠ” íŒŒí‹°í´ ì´ˆê¸°í™” í™•ë¥  ê³„ì‚°ì‹ì„ ì„¸ì›ë‹ˆë‹¤</li>\n<li>ì´ì œ ë‚œìˆ˜ë¥¼ í•˜ë‚˜ ë½‘ì•„ë³´ê³ , ì´ í™•ë¥ ë³´ë‹¤ í¬ë©´ ì‚´ë ¤ì£¼ê³  ì‘ìœ¼ë©´ ìœ„ì¹˜ë¥¼ ë‹¤ì‹œ ì›ì ìœ¼ë¡œ ëŒë ¤ë³´ëƒ…ë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<p>ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ì—ëŠ” <code class=\"language-text\">particles</code>(<code class=\"language-text\">&lt;points></code>ë¥¼ ì°¸ì¡°í•¨)ì˜ ìœ„ì¹˜ ì†ì„±ì„ ì—…ë°ì´íŠ¸í•´ì•¼ í•œë‹¤ê³  í”Œë˜ê·¸ë¥¼ ì¼œì¤ë‹ˆë‹¤.<br>\nì§€ê¸ˆì²˜ëŸ¼ <code class=\"language-text\">bufferGeometry</code>ì˜ <code class=\"language-text\">attribute</code>ë¥¼ ì§ì ‘ ìˆ˜ì •í–ˆë‹¤ë©´ <code class=\"language-text\">needsUpate</code>ë¡œ ì—…ë°ì´íŠ¸í•´ì•¼í•¨ì„ ì•Œë ¤ì•¼ í•©ë‹ˆë‹¤.</p>\n<h1 id=\"ì´ì œ-buffergeometryì—-ìœ„ì¹˜ê°’ì„-ì „ë‹¬í•´ìš”\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%A0%9C-buffergeometry%EC%97%90-%EC%9C%84%EC%B9%98%EA%B0%92%EC%9D%84-%EC%A0%84%EB%8B%AC%ED%95%B4%EC%9A%94\" aria-label=\"ì´ì œ buffergeometryì— ìœ„ì¹˜ê°’ì„ ì „ë‹¬í•´ìš” permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì´ì œ <code class=\"language-text\">bufferGeometry</code>ì— ìœ„ì¹˜ê°’ì„ ì „ë‹¬í•´ìš”</h1>\n<p>ì´ì œ ë§ˆì§€ë§‰ì¸ë°ìš”, <code class=\"language-text\">&lt;points></code>ì˜ geometryë¡œ <code class=\"language-text\">bufferGeometry</code>ë¥¼ ì „ë‹¬í•´ì¤ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>points</span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>particles<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bufferGeometry</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bufferAttribute</span>\n      <span class=\"token attr-name\">attach</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>attributes-position<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">count</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">array</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>particlesData<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>positions<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">itemSize</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span></span> <span class=\"token comment\">// x,y,z</span>\n    <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bufferGeometry</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>points</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>ê¸°í•˜í•™ ì†ì„±ìœ¼ë¡œ ìš°ë¦¬ê°€ ì „ë‹¬í•  ê²ƒì€ ìœ„ì¹˜ì •ë³´ì…ë‹ˆë‹¤<br>\nê·¸ë˜ì„œ ì´ëŠ” <code class=\"language-text\">attributes</code> ì¤‘ì—ì„œë„ <code class=\"language-text\">position</code>ì— í•´ë‹¹í•˜êµ¬ìš”<br>\n<code class=\"language-text\">&lt;bufferAttribute></code>ë¡œ <code class=\"language-text\">&lt;bufferGeometry></code>ì— ì†ì„±ì„ ì„ ì–¸ì ìœ¼ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆê³ ìš”<br>\n<code class=\"language-text\">attach=\"attributes-position\"</code> propsë¡œ ì´ê²Œ ìœ„ì¹˜ ì†ì„±ì„ì„ ì•Œë ¤ì¤ë‹ˆë‹¤.<br>\n<code class=\"language-text\">array</code>ì— ìœ„ì¹˜ ë°°ì—´ì„, <code class=\"language-text\">count</code>ì— ëª‡ ê°œì˜ ìœ„ì¹˜(xyz)ë“¤ì´ ë“¤ì—ˆëŠ”ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤.</p>\n<p>ìŒ.. ê·¸ë¦¬ê³  three.jsì—ì„œ ë¬¼ì²´ëŠ” ì‘ë‹¹ ê¸°í•˜í•™+ì¬ì§ˆì´ë‹ˆ<br>\n<code class=\"language-text\">&lt;pointsMaterial/></code>ë¡œ ì ì˜ ì¬ì§ˆì„ ì •í•´ì¤ì‹œë‹¤ ì ë‹¹íˆ</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>points</span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>particles<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bufferGeometry</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bufferAttribute</span>\n      <span class=\"token attr-name\">attach</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>attributes-position<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">count</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">array</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>particlesData<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>positions<span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">itemSize</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bufferGeometry</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pointsMaterial</span> <span class=\"token attr-name\">size</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">color</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>color<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">transparent</span> <span class=\"token attr-name\">opacity</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0.8</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>points</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>ê·¸ëŸ¬ë©´ ì´ëŸ° ê²°ê³¼ê°€ ë‚˜ì˜µë‹ˆë‹¤ !!</p>\n<iframe src=\"https://codesandbox.io/embed/9vvlgp?view=preview&module=%2Fsrc%2FApp.tsx&hidenavigation=1\"\n     style=\"width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"React Three Fiber + TypeScript: Basic example (forked)\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   ></iframe>\n<p>ì© ê·¼ë° ì™œì¼€ ë°ë°í•˜ì£ ? ìƒ‰ìƒì„ ë‹¨ìƒ‰ìœ¼ë¡œ í•´ì„œ ê·¸ëŸ°ê°€<br>\në­”ê°€ ì•„ì‰¬ìš°ë‹ˆ ì¢€ ë” í•´ë´…ì‹œë‹¤</p>\n<h2 id=\"ì ê¹-ì½”ë“œë¥¼-ì •ë¦¬í•´ìš”\" style=\"position:relative;\"><a href=\"#%EC%9E%A0%EA%B9%90-%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%A0%95%EB%A6%AC%ED%95%B4%EC%9A%94\" aria-label=\"ì ê¹ ì½”ë“œë¥¼ ì •ë¦¬í•´ìš” permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì ê¹ ì½”ë“œë¥¼ ì •ë¦¬í•´ìš”</h2>\n<p><code class=\"language-text\">getRandomPositionFromCenter</code>ê°™ì€ê±°ë³´ë‹¤ ê·¸ëƒ¥ ì…ìë¥¼ ì´ˆê¸°í™”í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ë‘ê³  ì½œí•˜ëŠ”ê²Œ ë” ë‚˜ì•„ë³´ì…ë‹ˆë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> initParticle <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">(</span>\n    particlesData<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>MutableRefObject<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span>\n      positions<span class=\"token operator\">:</span> Float32Array<span class=\"token punctuation\">;</span>\n      velocities<span class=\"token operator\">:</span> Float32Array<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    i<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> positions <span class=\"token operator\">=</span> particlesData<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>positions<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> velocities <span class=\"token operator\">=</span> particlesData<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>velocities<span class=\"token punctuation\">;</span>\n    positions<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    positions<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    positions<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    velocities<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">;</span>\n    velocities<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">;</span>\n    velocities<span class=\"token punctuation\">[</span>i <span class=\"token operator\">*</span> <span class=\"token number\">3</span> <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>x, y, z ì†ë„ë‚˜ ìœ„ì¹˜ë¥¼ ê°ê° ë‹¤ë¥´ê²Œ í•˜ê³ ì‹¶ì„ ìˆ˜ë„ ìˆìœ¼ë‹ˆê¹ì—¬\nê·¸ëŸ¼ ì´ì œ ì²˜ìŒì—ëŠ”</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> count<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">initParticle</span><span class=\"token punctuation\">(</span>particlesData<span class=\"token punctuation\">,</span> particlesColor<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë ‡ê²Œ í•˜ê³ , ë‹¨ì¼ ì…ìê°€ ë„ˆë¬´ ë©€ë¦¬ê°€ì„œ ì´ˆê¸°í™”í•  ë•Œë„</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> probability<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">initParticle</span><span class=\"token punctuation\">(</span>particlesData<span class=\"token punctuation\">,</span> particlesColor<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ëŸ¬ë©´ ë˜ê² ì–´ìš”. ì´ê²Œ ë‚˜ì€ë“¯</p>\n<h1 id=\"ìƒ‰ê¹”ë„-ëœë¤ìœ¼ë¡œ-í•´ë³¼ë˜ìš”\" style=\"position:relative;\"><a href=\"#%EC%83%89%EA%B9%94%EB%8F%84-%EB%9E%9C%EB%8D%A4%EC%9C%BC%EB%A1%9C-%ED%95%B4%EB%B3%BC%EB%9E%98%EC%9A%94\" aria-label=\"ìƒ‰ê¹”ë„ ëœë¤ìœ¼ë¡œ í•´ë³¼ë˜ìš” permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìƒ‰ê¹”ë„ ëœë¤ìœ¼ë¡œ í•´ë³¼ë˜ìš”</h1>\n<p>ê°‘ìê¸° ì…ìë“¤ì˜ ìƒ‰ê¹”ì´ ëœë¤ìœ¼ë¡œ ë‚˜ì˜¤ê²Œ í•˜ê³ , ë¿œì–´ë‚´ë“¯ì´ ë‚˜ì˜¤ê²Œ í•´ë³´ê³  ì‹¶ì–´ì¡ŒìŠµë‹ˆë‹¤\nì…ìë“¤ì˜ ìƒ‰ì„ í•˜ë‚˜ì”© ì§ì ‘ ì •í•˜ë ¤ë©´ ì´ê²ƒë„ <code class=\"language-text\">&lt;bufferAttributes></code>ë¥¼ ì‚¬ìš©í•´ì•¼í•  ê²ƒ ê°™ì•„ìš”</p>\n<p>ì¼ë‹¨ 300ê°œ ì…ìë“¤ì˜ ìœ„ì¹˜/ì†ë„ ë°°ì—´ì„ ë§Œë“¤ì—ˆë˜ ê²ƒì²˜ëŸ¼, ìƒ‰ìƒ ë°°ì—´ë„ ë§Œë“¤ì–´ë´…ì‹œë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> particlesData <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  positions<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Float32Array</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  velocities<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Float32Array</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  colors<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Float32Array</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì´ë²ˆì—ë„ <code class=\"language-text\">Float32Array</code>ê°€ ì ë‹¹í•  ê²ƒ ê°™ì•„ìš”.<br>\nìƒ‰ìƒì€ <code class=\"language-text\">#ffffff</code>ì²˜ëŸ¼ 16ì§„ìˆ˜ 6ê°œë¡œ ë‚˜íƒ€ë‚´ë‹ˆ í•œ ìë¦¬ì— 16ë¹„íŠ¸ì¸ë°,<br>\nrgbë¡œ ìë¥´ë©´ 32ë¹„íŠ¸ê³ , ê·¸ëŸ¼ Float32Arrayë¥¼ ì…ììˆ˜ * 3ë§Œí¼ ë§Œë“¤ì–´ì„œ <code class=\"language-text\">itemSize=3</code>ìœ¼ë¡œ í•˜ë©´ ë˜ê² ì–´ìš”<br>\nìƒ‰ìƒë„ 3ì°¨ì›ì¸ê²ƒì„ ã„·ã„·ã„· ê·¼ë° ì°¨ì›ì´ë¼ëŠ” ë‹¨ì–´ë¥¼ ìƒê°í•´ë³´ë©´ ë³„ë¡œ ë†€ë„ ì¼ì€ ì•„ë‹Œë“¯</p>\n<p>ì•”íŠ¼ ì´ì œ <code class=\"language-text\">initParticle</code> í•¨ìˆ˜ì—ì„œ ì»¬ëŸ¬ë„ ëœë¤ìœ¼ë¡œ ë„£ê²Œ ì§œë´…ì‹œë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> initParticle <span class=\"token operator\">=</span> <span class=\"token function\">useCallback</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">(</span>\n    particlesData<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>MutableRefObject<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span>\n      positions<span class=\"token operator\">:</span> Float32Array<span class=\"token punctuation\">;</span>\n      velocities<span class=\"token operator\">:</span> Float32Array<span class=\"token punctuation\">;</span>\n      colors<span class=\"token operator\">:</span> Float32Array<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    i<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ... ìœ„ì¹˜, ì†ë„ë¥¼ ì´ˆê¸°í™”</span>\n    <span class=\"token keyword\">const</span> colors <span class=\"token operator\">=</span> particlesData<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>colors<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> color <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Color</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0xffffff</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    colors<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> color<span class=\"token punctuation\">.</span>r<span class=\"token punctuation\">;</span>\n    colors<span class=\"token punctuation\">[</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> color<span class=\"token punctuation\">.</span>g<span class=\"token punctuation\">;</span>\n    colors<span class=\"token punctuation\">[</span>i <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> color<span class=\"token punctuation\">.</span>b<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">Math.random()</code>ì€ 0~1ë²”ìœ„ë¥¼ ëœë¤ìœ¼ë¡œ ë½‘ìœ¼ë‹ˆê¹Œ, <code class=\"language-text\">Math.random() * 0xffffff</code>ë¼ê³  í•˜ë©´ <code class=\"language-text\">0x000000 ~ 0xffffff</code> ë²”ìœ„ë¥¼ ë½‘ì•„ì£¼ê² ì£ ?<br>\nì´ê±¸ r, g, bë¡œ ì˜ë¼ì„œ ì˜ ë„£ì–´ì¤ì‹œë‹¤</p>\n<p>ì´ì œ <code class=\"language-text\">bufferAttribute</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒ‰ìƒì†ì„±ì„ ë„£ì–´ì¤„ ì¼ë§Œ ë‚¨ì•˜ëŠ”ë°</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bufferGeometry</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bufferAttribute</span>\n    <span class=\"token attr-name\">attach</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>attributes-position<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">count</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span></span>\n    <span class=\"token attr-name\">array</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>particlesData<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>positions<span class=\"token punctuation\">}</span></span>\n    <span class=\"token attr-name\">itemSize</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>bufferAttribute</span>\n    <span class=\"token attr-name\">attach</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>attributes-color<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">count</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span></span>\n    <span class=\"token attr-name\">array</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>particlesData<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span>colors<span class=\"token punctuation\">}</span></span>\n    <span class=\"token attr-name\">itemSize</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">3</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>bufferGeometry</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>ëŒ€ì¶© ì´ëŸ° ì‹ìœ¼ë¡œ <code class=\"language-text\">bufferGeometry</code> ë°‘ì— ì¶”ê°€ë¡œ attributeë¥¼ ë„£ì–´ì¤ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pointsMaterial</span>\n  <span class=\"token attr-name\">size</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">transparent</span>\n  <span class=\"token attr-name\">opacity</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">vertexColors</span>\n<span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pointsMaterial</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>ê·¸ë¦¬ê³  ê·¸ ë°‘ì— ì›ë˜ ìˆì—ˆë˜ <code class=\"language-text\">pointMaterial</code>ì—ì„œëŠ” <code class=\"language-text\">color</code> propsë¥¼ ì œê±°í•˜ê³ ,<br>\nê¼­!!!!!!!!!!!!!!!1 <code class=\"language-text\">vertexColors=true</code>ì—¬ì•¼ í•©ë‹ˆë‹¤.<br>\nê·¸ë˜ì•¼ ì •ì ë³„ë¡œ ìƒ‰ìƒì„ ë‹¬ë¦¬ ì§€ì •í•˜ê²Œë” í•  ìˆ˜ ìˆì–´ìš¥</p>\n<p>ì´ì œ ëŒ€ì¶© <code class=\"language-text\">initParticle</code>ì˜ ì†ë„ê°’ì„ ì¡°ì •í•˜ê³  ì¤‘ë ¥ê°€ì†ë„ë¥¼ ë„£ì–´ì¤˜ì„œ ì•„ë˜ì²˜ëŸ¼ ì™„ì„±í•´ë´¤ìŠµë‹ˆë‹¤</p>\n<iframe src=\"https://codesandbox.io/embed/frdv7k?view=preview&module=%2Fsrc%2FParticles.tsx&hidenavigation=1\"\n     style=\"width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"React Three Fiber + TypeScript: Basic example (forked)\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   ></iframe>\n<p>ê²€ì€ ë°°ê²½ì— í•˜ë‹ˆê¹Œ ì¢€ ëŠë‚Œë‚˜ë„¤ìš”<br>\në­”ê°€ë¥¼ ì¶•í•˜í•´ì•¼í•  ê²ƒ ê°™ì€ ëŠë‚Œ?</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 272px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8a2431b0a79a2039e0c75f57f99849f8/2aae8/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAACPklEQVR42iWTWW9xYRSFzy933UiIC9QFJRJFSQzR1AVFDT3UTMxTS9VUs1A+fE97XJycs9+91l5r7Zfw/v4+HA4Hg0EulwuHw+Vyud1uf/79isViMBh8fn6m8vHx0e12+/1+Mpn0+/3pdDoUCgnf39+TyeR6vXJstVp9Ph9Eu93ufD7zYjabLRbLarUqlUqxWAwwROv1mkqtVhNarRbDAZ9Op9FoNB6Pl8tls9nkhSJHi8WCusFgeHp6qlQqUDQajWw2iy7h398vEAg8PDwgoVqtAgZGkSe68vk8dmazGTpfXl6QDSNgiATkYY+qy+WCcr/fI4FW5lDcbDZOp1Ov18NLAy6YjB30k5Sw3W4zmQwDC4UC2pAAAEtUqGOKIalUyuPxyGQyt9vNkwrOfz1Lk1FCgHd3d4g8HA6iKKL5crnwxDwsHBFENBrVaDSIqtfrv7IRiT273Y4kk8n0+PgIAPzX1xf0wPhkizc3N8DkcrlCoQBMitPpVEA9fchjw0ajEcpEIuFwOOggT5vNBhFFHCmVStbGLtFCBDyFXq8HDYa5D5LmSCRCYAwkGKZhGAmwMB+f8Xgcz5yyP+Hn54e3t7c3nU5HnoD5pAlAp9PBKnLm8zn6cceebm9vGUYPSQnshlZyZzEIg16KAC0oVKvVgAn5eDxyBV9fX9ElsWPzNzACxz2TVSoVmUPEqkhBuptEwN3EAgDuj3QdpS0IJI5tjN3f3xO11+tFsJQZM7VaLSvAJ4r4P6CFI+4SPaIo/geI7LCfIaLLlwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ì–í˜¸\"\n        title=\"\"\n        src=\"/static/8a2431b0a79a2039e0c75f57f99849f8/2aae8/image.png\"\n        srcset=\"/static/8a2431b0a79a2039e0c75f57f99849f8/c26ae/image.png 158w,\n/static/8a2431b0a79a2039e0c75f57f99849f8/2aae8/image.png 272w\"\n        sizes=\"(max-width: 272px) 100vw, 272px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>","frontmatter":{"title":"React-Three-Fiber ë°ëª¨: íŒŒí‹°í´ íš¨ê³¼ êµ¬í˜„í•˜ê¸°","date":"March 25, 2025","description":"points + geometryBuffer + geometryAttributes","tag":["TIL","Three.js","react-three-fiber"],"ogImage":null},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%A0%90%EC%9D%84-%EC%97%AC%EB%9F%AC%EA%B0%9C-%EC%83%9D%EC%84%B1%ED%95%98%EB%A0%A4%EB%A9%B4\">ì ì„ ì—¬ëŸ¬ê°œ ìƒì„±í•˜ë ¤ë©´</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%8C%8C%ED%8B%B0%ED%81%B4%EB%93%A4%EC%9D%98-%EC%9C%84%EC%B9%98%EC%99%80-%EC%86%8D%EB%8F%84%EB%A5%BC-%EC%B4%88%EA%B8%B0%ED%99%94%ED%95%98%EA%B8%B0\">íŒŒí‹°í´ë“¤ì˜ ìœ„ì¹˜ì™€ ì†ë„ë¥¼ ì´ˆê¸°í™”í•˜ê¸°</a></p>\n</li>\n<li>\n<p><a href=\"#useframe%EC%9C%BC%EB%A1%9C-%ED%8C%8C%ED%8B%B0%ED%81%B4%EB%93%A4%EC%9D%B4-%EC%9B%80%EC%A7%81%EC%9D%B4%EB%8F%84%EB%A1%9D-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8\">useFrameìœ¼ë¡œ íŒŒí‹°í´ë“¤ì´ ì›€ì§ì´ë„ë¡ ì—…ë°ì´íŠ¸</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%9D%B4%EC%A0%9C-buffergeometry%EC%97%90-%EC%9C%84%EC%B9%98%EA%B0%92%EC%9D%84-%EC%A0%84%EB%8B%AC%ED%95%B4%EC%9A%94\">ì´ì œ <code class=\"language-text\">bufferGeometry</code>ì— ìœ„ì¹˜ê°’ì„ ì „ë‹¬í•´ìš”</a></p>\n<ul>\n<li><a href=\"#%EC%9E%A0%EA%B9%90-%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%A0%95%EB%A6%AC%ED%95%B4%EC%9A%94\">ì ê¹ ì½”ë“œë¥¼ ì •ë¦¬í•´ìš”</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%83%89%EA%B9%94%EB%8F%84-%EB%9E%9C%EB%8D%A4%EC%9C%BC%EB%A1%9C-%ED%95%B4%EB%B3%BC%EB%9E%98%EC%9A%94\">ìƒ‰ê¹”ë„ ëœë¤ìœ¼ë¡œ í•´ë³¼ë˜ìš”</a></p>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/look-into-react-18-streaming-and-rsc-payload/"},"frontmatter":{"title":"ğŸ¤« React(^18)ì™€ Next.js(App Router)ê°€ ë‹¹ì‹  ëª°ë˜ í•˜ëŠ” ì¼"}},"next":{"fields":{"slug":"/til/image-compress-in-browser-implement/"},"frontmatter":{"title":"JavaScriptì—ì„œ ì´ë¯¸ì§€ë¥¼ ì¼ì • í¬ê¸° ì´í•˜ë¡œ ì••ì¶•í•˜ë ¤ë©´"}}},"pageContext":{"id":"b0ae8c83-3748-5603-a96a-7347195a01d7","previousPostId":"7b15f256-1799-562a-8ba5-91dcd5317715","nextPostId":"05f4f31c-ad46-5899-9304-fff3db43b120"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}