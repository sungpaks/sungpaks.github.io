{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/til/how-to-threejs-2/","result":{"data":{"site":{"siteMetadata":{"title":"조성개발실록"}},"markdownRemark":{"id":"8f07f032-9c32-5415-9e5b-6d92bb7cd25c","excerpt":"! 주의 : TIL…","html":"<blockquote>\n<p>! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.</p>\n</blockquote>\n<p><a href=\"/til/how-to-threejs-1\">저번 포스팅</a>에서 기초 매뉴얼을 살펴봤습니다<br>\n이번엔 심화 과정 > 오브젝트 부분을 한번 봅시다.</p>\n<h1 id=\"오브젝트를-업데이트-하는-방법\" style=\"position:relative;\"><a href=\"#%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-label=\"오브젝트를 업데이트 하는 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>오브젝트를 업데이트 하는 방법</h1>\n<p><a href=\"https://threejs.org/docs/index.html#manual/ko/introduction/How-to-update-things\">공식문서</a></p>\n<p>오브젝트들은</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> object <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Object3D</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nscene<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이런 식으로 장면에 추가되거나</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> object1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Object3D</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> object2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Object3D</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nobject1<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>object2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nscene<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>object1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//object1과 object2는 자동으로 자신들의 행렬구조를 업데이트할 것입니다.</span></code></pre></div>\n<p>이런 식으로 다른 오브젝트의 자식으로 장면에 추가되면<br>\n기본적으로 자신의 행렬구조를 자동으로 업데이트합니다.<br>\n라는 말 뜻을 완전히 이해하지 못하고 넘어갔었는데, 나중에 <a href=\"https://threejs.org/docs/#manual/ko/introduction/Matrix-transformations\">행렬 변환</a>에서 이 의미에 대한 복선이 조금 나옵니다.<br>\n더 뭔소리지? 싶어지긴 하지만..</p>\n<p>아무튼간에, 자동으로 행렬구조를 업데이트하고싶지 않다면,<br>\n기본 설정을 풀고 행렬구조를 수동으로 업데이트하게 할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">object<span class=\"token punctuation\">.</span>matrixAutoUpdate <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\nobject<span class=\"token punctuation\">.</span><span class=\"token function\">updateMatrix</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이거에 대해서도 행렬 변환에서 또 다룹니다.</p>\n<h2 id=\"buffergeometry\" style=\"position:relative;\"><a href=\"#buffergeometry\" aria-label=\"buffergeometry permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>BufferGeometry</h2>\n<p><code class=\"language-text\">BufferGeometry</code>는 꼭짓점 위치, 면 순서, 법선, 색 등 다양한 정보를 <a href=\"https://threejs.org/docs/index.html#api/ko/core/BufferAttribute\">buffers</a>에 저장하여 GPU보다 효율적으로 데이터를 전송할 수 있게 합니다.\n이 <code class=\"language-text\">buffers</code>는 <a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Typed_arrays\">typed arrays</a>입니다.</p>\n<p><code class=\"language-text\">buffers</code>가 typed array이기 때문에, <code class=\"language-text\">buffers</code>의 크기를 동적으로 조절하기는 어렵습니다.<br>\n대신에 배열에 담은 내용을 변경해야 합니다.<br>\n이는 곧, <code class=\"language-text\">BufferGeometry</code>에 원소들을 새로 넣을 것이 예상된다면, 그만큼 충분한 크기의 <code class=\"language-text\">buffers</code> 공간을 확보해두어야 한다는 셈입니다.</p>\n<h3 id=\"typed-arrays형식화-배열\" style=\"position:relative;\"><a href=\"#typed-arrays%ED%98%95%EC%8B%9D%ED%99%94-%EB%B0%B0%EC%97%B4\" aria-label=\"typed arrays형식화 배열 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Typed Arrays(형식화 배열)?</h3>\n<p><a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Typed_arrays\">typed arrays</a>는 배열-like한 객체인데, 원시(raw) 이진 데이터에 액세스하기 위한 메커니즘을 제공합니다.<br>\n이 때, 형식화 배열이 배열-like하다고 해서, 보통의 JS 배열과 완전히 비슷하진 않습니다.<br>\n예를 들어, <code class=\"language-text\">isArray</code> 반환값은 <code class=\"language-text\">false</code>이며, <code class=\"language-text\">push, pop</code>같은 일부 배열 메서드가 지원되지 않습니다.</p>\n<blockquote>\n<p>형식화 배열은 최대 유연성 및 효율을 위해 그 구현이 버퍼와 뷰로 나뉩니다.</p>\n</blockquote>\n<p>버퍼(<a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer\">ArrayBuffer</a>객체에 의해 구현됨)는 데이터 부분 또는 데이터 덩어리를 나타내는 객체입니다.</p>\n<blockquote>\n<p>이야기할 형식이 없으며, 그 콘텐츠에 액세스하기 위한 메커니즘을 제공하지 않습니다.</p>\n</blockquote>\n<p>이는 즉 <code class=\"language-text\">ArrayBuffer</code>가 그냥 단순 메모리 덩어리일 뿐이며, 이를 어떻게 해석하느냐(숫자로 봐야함? 문자로 봐야함? 등.)에 대한 정보를 하등 갖지 않습니다.<br>\n마치 <strong>비어있는 그릇</strong>처럼, 그냥 2byte를 담을 수 있냐, 4byte를 담을 수 있냐 등의 데이터 사이즈를 정할 뿐입니다.</p>\n<blockquote>\n<p>버퍼에 포함된 메모리에 객세스하려면 뷰를 사용합니다. 뷰는 context(데이터 형, 시작 오프셋 및 요소 수 등)울 제공하여 데이터를 실제 형식화 배열로 바꿉니다.</p>\n</blockquote>\n<p>예를 들어, 16byte를 포함하는 ArrayBuffer가 있다고 생각합시다.<br>\n이를 <code class=\"language-text\">UInt32Array</code> 뷰로 읽으면 4개의 Unsigned Int로 잘라낼 수 있습니다.</p>\n<figure>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/daacc0126d43a1462890484e87c0b135/ace37/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABCElEQVR42o1Ra2/DIAzk///FZUtD1qwBbINJMzXNYwfppH0cOlnH+fxAmOP3zPPc2f46fH1eB2LZ9uO5bsC6/QGu617jtm27Qc0wDOPoYlJPQhI9cSBB9AGEiWNgcZ4AKKMLLtDNBfiNql4ubddZ+FxgXyPSiGOg0oJLu9ETUEQfQG7Ox5RMSsn2tu97ZokpY7LqHdNePBcuKXNMGFW5siQkNE+lGJOt7QJRzBPVBPZMeYLv5PBBgHLqpZHmpNmISNO8t2074k2igSPqsRhHBQGwKniQiPji1YO1DAu/NU3bfjjv0fUEep9EpzumYQWt1zKwiiB4ntlxjh1f9ViW+bF8/w9wPpblB/g8wwDeVwUpAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"어레이버퍼\"\n        title=\"\"\n        src=\"/static/daacc0126d43a1462890484e87c0b135/f058b/image.png\"\n        srcset=\"/static/daacc0126d43a1462890484e87c0b135/c26ae/image.png 158w,\n/static/daacc0126d43a1462890484e87c0b135/6bdcf/image.png 315w,\n/static/daacc0126d43a1462890484e87c0b135/f058b/image.png 630w,\n/static/daacc0126d43a1462890484e87c0b135/ace37/image.png 666w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<figcaption>MDN docs의 참고사진자료</figcation>\n</figure>\n<p>이처럼 <code class=\"language-text\">ArrayBuffer</code>에는 일반 고정 길이 이진 데이터 버퍼를 나타내기 위한 데이터타입이고, 이를 직접 조작할 수 없습니다.<br>\n대신 <code class=\"language-text\">UInt32Array</code>같은 <strong>형식화 배열 뷰</strong> 또는 <a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/DataView\">DataView</a>를 따로 만들고 버퍼의 콘텐츠를 읽거나 씁니다.</p>\n<ul>\n<li>형식화 배열 뷰는 자체 설명형 이름을 갖습니다. 예를 들어, <code class=\"language-text\">Int8, Uint32</code> 등. 모든 일반 숫자형을 위한 뷰를 제공합니다.\n<ul>\n<li><a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Typed_arrays#%ED%98%95%EC%8B%9D%ED%99%94_%EB%B0%B0%EC%97%B4_%EB%B7%B0\">여기</a>에서 자세한 설명</li>\n</ul>\n</li>\n<li>DataView는 버퍼에 임의로 데이터를 쓰고 읽기 위해 getter, setter API를 제공하는 저수준 인터페이스입니다.\n<ul>\n<li>형식화 배열 뷰는 플랫폼의 <a href=\"https://developer.mozilla.org/ko/docs/Glossary/Endianness\">엔디언</a>에 따르지만, <code class=\"language-text\">DataView</code>는 이와 독립적으로 바이트 순서를 제어할 수 있습니다.</li>\n</ul>\n</li>\n</ul>\n<p>예를 들어,<br>\n먼저 16바이트 고정 길이 버퍼를 생성합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> buffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayBuffer</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이건 그냥 빈 그릇만이 존재할 뿐입니다.<br>\n딱히 뭐 할 수 있는건 없고, 해봤자 아래같은 것 뿐입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">.</span>byteLength <span class=\"token operator\">===</span> <span class=\"token number\">16</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"YES, 16 bytes.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이제 이 버퍼로 뭔가 작업하려면 뷰를 만듭니다. 예를 들어, 형식화 배열 뷰 :</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> int32View <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Int32Array</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>그럼 이제 보통 배열처럼, 배열의 원소에 액세스하여 읽고 쓸 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> int32View<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  int32View<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> i <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>16byte 고정길이 버퍼를 <code class=\"language-text\">Int32Array</code>(4byte씩) 잘랐으니, 4개 항목이 나옵니다.<br>\nfor문을 실행하면 배열의 4개 항목은 각각 0,2,4,6으로 값이 채워집니다.</p>\n<p>형식화 배열에 대해서는 이만 마칩시다.<br>\n아무튼 이러한 이유로, <code class=\"language-text\">BufferGeometry</code>는 동적으로 길이를 늘렸다 줄일 수 없습니다.</p>\n<h2 id=\"매-렌더링마다-랜덤하게-확장되는-선을-그리기\" style=\"position:relative;\"><a href=\"#%EB%A7%A4-%EB%A0%8C%EB%8D%94%EB%A7%81%EB%A7%88%EB%8B%A4-%EB%9E%9C%EB%8D%A4%ED%95%98%EA%B2%8C-%ED%99%95%EC%9E%A5%EB%90%98%EB%8A%94-%EC%84%A0%EC%9D%84-%EA%B7%B8%EB%A6%AC%EA%B8%B0\" aria-label=\"매 렌더링마다 랜덤하게 확장되는 선을 그리기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>매 렌더링마다 랜덤하게 확장되는 선을 그리기</h2>\n<p>buffer에 최대 500개 꼭짓점을 할당하고, 0개 점부터 시작하는 코드를 만들어봅시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/*\nboiler plate (scene, camera) 생성\n*/</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">MAX_POINTS</span> <span class=\"token operator\">=</span> <span class=\"token number\">500</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//500개 꼭짓점으로 한정하기.</span>\n\n<span class=\"token keyword\">const</span> geometry <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>BufferGeometry</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//BufferGeometry를 생성</span>\n\n<span class=\"token keyword\">const</span> positions <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Float32Array</span><span class=\"token punctuation\">(</span><span class=\"token constant\">MAX_POINTS</span> <span class=\"token operator\">*</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//x,y,z 담아야하니 3배</span>\ngeometry<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"position\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>BufferAttribute</span><span class=\"token punctuation\">(</span>positions<span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//position이라는 속성을 설정하고, BufferAttribute를 생성</span>\n\n<span class=\"token keyword\">let</span> drawCount <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//0에서부터 시작</span>\ngeometry<span class=\"token punctuation\">.</span><span class=\"token function\">setDrawRange</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> drawCount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 0~drawCount까지</span>\n\n<span class=\"token comment\">// 빨간색 재질 생성</span>\n<span class=\"token keyword\">const</span> material <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>LineBasicMaterial</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> <span class=\"token number\">0xff0000</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//기하학과 재질로 line 생성하고, 추가</span>\n<span class=\"token keyword\">const</span> line <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Line</span><span class=\"token punctuation\">(</span>geometry<span class=\"token punctuation\">,</span> material<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nscene<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이제 아래처럼, 무작위 패턴을 추가하여 업데이트합시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">updatePositions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> positionsAttribute <span class=\"token operator\">=</span> line<span class=\"token punctuation\">.</span>geometry<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"position\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>drawCount <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token operator\">&lt;</span> <span class=\"token constant\">MAX_POINTS</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> drawCount\n      <span class=\"token operator\">?</span> positionsAttribute<span class=\"token punctuation\">.</span><span class=\"token function\">getX</span><span class=\"token punctuation\">(</span>drawCount <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">20</span>\n      <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> y <span class=\"token operator\">=</span> drawCount\n      <span class=\"token operator\">?</span> positionsAttribute<span class=\"token punctuation\">.</span><span class=\"token function\">getY</span><span class=\"token punctuation\">(</span>drawCount <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">20</span>\n      <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> z <span class=\"token operator\">=</span> drawCount\n      <span class=\"token operator\">?</span> positionsAttribute<span class=\"token punctuation\">.</span><span class=\"token function\">getZ</span><span class=\"token punctuation\">(</span>drawCount <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">20</span>\n      <span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n    positionsAttribute<span class=\"token punctuation\">.</span><span class=\"token function\">setXYZ</span><span class=\"token punctuation\">(</span>drawCount<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> z<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    drawCount<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    drawCount <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  line<span class=\"token punctuation\">.</span>geometry<span class=\"token punctuation\">.</span><span class=\"token function\">setDrawRange</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> drawCount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 첫 렌더링 이후 그려낼 점의 갯수를 변경.</span>\n  positionsAttribute<span class=\"token punctuation\">.</span>needsUpdate <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 첫 렌더링 이후 position 데이터 수치를 변경하게 함.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">drawCount % MAX_POINTS</code>로 분기를 처리하면 더 간단하겠네요<br>\n암튼간에 <code class=\"language-text\">MAX_POINTS</code>보다 <code class=\"language-text\">drawCount</code>가 적은 동안은, 이전 위치를 기준으로 랜덤하게 뻗는 위치를 생성하고,<br>\n<code class=\"language-text\">positionAttribute.setXYZ(drawCount, x,y,z)</code>로 drawCount번째에 새 꼭짓점을 추가합니다.<br>\n그 뒤 **position 데이터의 변경이 적용되게 하려면 <code class=\"language-text\">positionAttribute.needsUpdate=true</code>로 선언해줍니다.</p>\n<blockquote>\n<p>첫 렌더링 이후에 position 데이터 수치를 변경한다면, bounding volumes를 재계산해서 다른 엔진의 절두체 컬링 혹은 헬퍼같은 특성들이 적절히 작동하도록 해야합니다.<br>\n<code class=\"language-text\">line.geometry.computeBoundingBox();</code><br>\n<code class=\"language-text\">line.geometry.computeBoundingSphere();</code></p>\n</blockquote>\n<p><a href=\"https://jsfiddle.net/t4m85pLr/1/\">이런 결과</a>가 나옵니다.</p>\n<h2 id=\"재질-materials\" style=\"position:relative;\"><a href=\"#%EC%9E%AC%EC%A7%88-materials\" aria-label=\"재질 materials permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>재질 Materials</h2>\n<p>모든 uniforms 값들은 자유롭게 변경 가능. 예를 들어, colors, textures, opacity ..<br>\n이 값들은 매 프레임마다 shader에 전송됩니다.<br>\n또한 depthTest, blending, polygonOffset처럼 GLstate관련 파라미터 또한 언제나 변경할 수 있습니다.</p>\n<p>런타임(재질이 최소 한 번 렌더링 된 이후)에 쉽게 변경할 수 없는 속성들</p>\n<ul>\n<li>uniforms의 갯수와 타입.</li>\n<li>아래 속성들의 사용/비사용 여부\n<ul>\n<li>texture, fog, vertex colors, morphing, shadow map, alpha test, transparent</li>\n</ul>\n</li>\n</ul>\n<p>이러한 요소들을 변경하려면 아래처럼 선언하여 새로운 shader 프로그램을 생성하게 해야 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">material<span class=\"token punctuation\">.</span>needsUpdate <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>근데 이건 매우 느리고 프레임이 끊겨보일 수 있습니다. (특히 shader 편집이 DirectX에서 OpenGL보다 느린, Windows같은 경우)</p>\n<p>좀 더 부드럽게 하려면, 밝기 0인 빛, 흰 텍스처, 밀도 0인 안개 등의 \"가상 값\"을 가지도록 특성을 변경하는 방법이 있습니다.</p>\n<p>이렇듯, 어떤 기하학 블록에 사용되는 재질은 자유롭게 바꿀 수 있지만, 오브젝트를 블록으로 나누는 구성은 변경할 수 없습니다.<br>\n라는 말의 뜻이 잘 와닿지 않았는데, 오브젝트의 기하학적 구조 또는 특성(면을 나누는 방식, 꼭짓점의 연결 구성 등)을 변경할 수 없다는 말 같네요</p>\n<h3 id=\"런타임-중에-재질을-서로-다르게-설정해야-할-때\" style=\"position:relative;\"><a href=\"#%EB%9F%B0%ED%83%80%EC%9E%84-%EC%A4%91%EC%97%90-%EC%9E%AC%EC%A7%88%EC%9D%84-%EC%84%9C%EB%A1%9C-%EB%8B%A4%EB%A5%B4%EA%B2%8C-%EC%84%A4%EC%A0%95%ED%95%B4%EC%95%BC-%ED%95%A0-%EB%95%8C\" aria-label=\"런타임 중에 재질을 서로 다르게 설정해야 할 때 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>런타임 중에 재질을 서로 다르게 설정해야 할 때</h3>\n<p>재질과 블록 수가 적은 경우, 오브젝트를 미리 분리해둘 수 있습니다.<br>\n예를 들어, 사람을 머리/얼굴/상의/바지, .. 이렇게</p>\n<p>그러나 모든 얼굴들이 조금씩 다른 경우처럼 그 수가 너무 많다면, 속성/텍스처를 사용하여 얼굴마다 다른 형태를 입히는 방법 등을 생각해볼 수 있습니다.</p>\n<h2 id=\"텍스처\" style=\"position:relative;\"><a href=\"#%ED%85%8D%EC%8A%A4%EC%B2%98\" aria-label=\"텍스처 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>텍스처</h2>\n<p>사진, 그림, 영상 및 데이터 텍스처를 변경했으면, 이 경우에도 플래그를 설정해야합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">texture<span class=\"token punctuation\">.</span>needsUpdate <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"카메라\" style=\"position:relative;\"><a href=\"#%EC%B9%B4%EB%A9%94%EB%9D%BC\" aria-label=\"카메라 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>카메라</h2>\n<p>카메라의 위치와 대상은 자동으로 업데이트됩니다.<br>\n만약 변경을 원하는 경우</p>\n<ul>\n<li>fov</li>\n<li>aspect</li>\n<li>near</li>\n<li>far</li>\n</ul>\n<p>이러한 속성을 변경한 직후, 행렬구조를 다시 계산하게 합니다.<br>\n예를 들어:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">camera<span class=\"token punctuation\">.</span>aspect <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>innerWidth <span class=\"token operator\">/</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">;</span>\ncamera<span class=\"token punctuation\">.</span><span class=\"token function\">updateProjectionMatrix</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h1 id=\"오브젝트를-폐기하는-방법\" style=\"position:relative;\"><a href=\"#%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%ED%8F%90%EA%B8%B0%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-label=\"오브젝트를 폐기하는 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>오브젝트를 폐기하는 방법</h1>\n<p><a href=\"https://threejs.org/docs/index.html#manual/ko/introduction/How-to-dispose-of-objects\">오브젝트를 폐기하는 방법</a></p>\n<p>three.js의 인스턴스는 생성될 때마다 일정량의 메모리를 할당합니다.<br>\n이들은 특정 개체에 대한 기하학적 구조나 WebGL 재질(버퍼 또는 쉐이더) 개체의 렌더링에 필요한 것입니다.<br>\n그러나 이러한 오브젝트들은 자동으로 폐기되지 않습니다.</p>\n<h2 id=\"기하학\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%95%98%ED%95%99\" aria-label=\"기하학 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기하학</h2>\n<p>기하학은 속성 집합으로 정의된 꼭짓점 정보를 표시합니다.<br>\nthree.js는 속성마다 하나의 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebGLBuffer\">WebGLBuffer</a> 유형의 객체를 만들어 내부에 저장합니다.<br>\n이러한 객체는 <a href=\"https://threejs.org/docs/index.html#api/ko/core/BufferGeometry.dispose\">BufferGeometry.dispose</a>를 호출할 때만 폐기됩니다.<br>\n그러니 만약 어플리케이션에서 기하학 객체가 더이상 사용되지 않는다면, 이를 호출하여 폐기하세요.</p>\n<h2 id=\"재질\" style=\"position:relative;\"><a href=\"#%EC%9E%AC%EC%A7%88\" aria-label=\"재질 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>재질</h2>\n<p>재질은 오브젝트가 어떻게 랜더링되는지를 정의합니다. three.js는 재질에 정의된 정보를 사용하여 렌더링을 위한 하나의 쉐이더 프로그램을 구축합니다.<br>\n이 쉐이더 프로그램은 해당 재질이 폐기된 후에만 삭제 가능합니다.<br>\n성능상의 이유로, three.js는 가능하다면 활용 가능한 쉐이더 프로그램을 재사용하게 되어있습니다.<br>\n따라서 쉐이더 프로그램은 모든 관련 재질들이 사라진 후에야 삭제될 수 있으며, <code class=\"language-text\">Material.dispose()</code>를 호출하여 재질을 폐기할 수 있습니다.</p>\n<h2 id=\"텍스처-1\" style=\"position:relative;\"><a href=\"#%ED%85%8D%EC%8A%A4%EC%B2%98-1\" aria-label=\"텍스처 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>텍스처</h2>\n<p>재질의 폐기는 텍스처에 영향을 미치지 않습니다. 이들은 분리되어있고, 따라서 하나의 텍스처를 여러 재질에 동시에 사용할 수 있습니다.<br>\n<code class=\"language-text\">Texture</code> 인스턴스를 만들 때마다 three.js는 내부에서 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebGLTexture\">WebGLTexture</a> 인스턴스를 만듭니다.<br>\n이는 기하학의 <code class=\"language-text\">WebGLBuffer</code>에서와 비슷하게, <code class=\"language-text\">Texture.dispose()</code>를 호출하여 삭제합니다.</p>\n<p>근데 만약 texture가 <code class=\"language-text\">ImageBitmap</code>을 사용하는데, 이제 폐기해야 한다면, <code class=\"language-text\">ImageBitmap.close()</code>를 호출하여 어플리케이션 레벨에서 모든 CPU 자원을 폐기하도록 해야 합니다.<br>\n<code class=\"language-text\">Texture.dispose()</code>에 의해 자동으로 <code class=\"language-text\">ImageBitmap.close()</code>가 트리거되게 할 수는 없는게, 엔진은 이미지 비트맵이 다른 어디서 쓰이는지 아닌지를 알 수 없습니다.</p>\n<h2 id=\"렌더링-대상\" style=\"position:relative;\"><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EB%8C%80%EC%83%81\" aria-label=\"렌더링 대상 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>렌더링 대상</h2>\n<p><code class=\"language-text\">WebGLRendererTarget</code> 타입의 오브젝트는 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebGLTexture\"><code class=\"language-text\">WebGLTexture</code></a>의 인스턴스가 할당되어 있으며, 이 뿐만 아니라 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebGLFramebuffer\"><code class=\"language-text\">WebGLFramebuffer</code></a>와 <a href=\"https://developer.mozilla.org/ko/docs/Web/API/WebGLRenderbuffer\"><code class=\"language-text\">WebGLRendererbuffer</code></a>도 할당되어 커스텀 렌더링 타겟을 실체화합니다.<br>\n이러한 오브젝트는 <code class=\"language-text\">WebGLRenderingTarget.dispose()</code>를 실행하여 폐기합니다.</p>\n<h2 id=\"그-외\" style=\"position:relative;\"><a href=\"#%EA%B7%B8-%EC%99%B8\" aria-label=\"그 외 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그 외</h2>\n<p>컨트롤러나 후기 처리 프로세스처럼 <code class=\"language-text\">dispose()</code>메서드가 제공되어 내부 이벤트리스너나 렌더링 타겟을 폐기할 수 있는 친구들이 있습니다.<br>\n일반적으로, API나 파일을 열람하여 <code class=\"language-text\">dispose()</code>가능한지 확인하는 것이 좋습니다.<br>\n이 메서드가 존재한다면 당연히 그 메서드를 이용하여 폐기해야 합니다.</p>\n<h1 id=\"샘플\" style=\"position:relative;\"><a href=\"#%EC%83%98%ED%94%8C\" aria-label=\"샘플 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>샘플</h1>\n<p>샘플을 한 번 만들어보려고 합니다.<br>\n\"오브젝트를 업데이트하는 방법\"에서 배운 내용으로, 순간마다(MAX에 도달하기 전까지) 오브젝트를 새로 추가고,<br>\n\"오브젝트를 폐기하는 방법\"에서 배운 내용으로, 순간마다(0에 도달하기 전까지) 오브젝트를 삭제합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> <span class=\"token constant\">THREE</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"three\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> scene <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Scene</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> camera <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>PerspectiveCamera</span><span class=\"token punctuation\">(</span>\n  <span class=\"token number\">75</span><span class=\"token punctuation\">,</span>\n  window<span class=\"token punctuation\">.</span>innerWidth <span class=\"token operator\">/</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">,</span>\n  <span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">1000</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncamera<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token number\">25</span><span class=\"token punctuation\">;</span>\ncamera<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> <span class=\"token number\">25</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> renderer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>WebGLRenderer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrenderer<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>innerWidth<span class=\"token punctuation\">,</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>renderer<span class=\"token punctuation\">.</span>domElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">getRandomColor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"#\"</span> <span class=\"token operator\">+</span>\n    Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">16777215</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">padStart</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> objects <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">addSphere</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> geometry <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>SphereGeometry</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> material <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>MeshBasicMaterial</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">wireframe</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> <span class=\"token function\">getRandomColor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> sphere <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Mesh</span><span class=\"token punctuation\">(</span>geometry<span class=\"token punctuation\">,</span> material<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  sphere<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">50</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">//sphere.position.set((objects.length % 10) * 2, (objects.length / 10) * 2);</span>\n  objects<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>sphere<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  scene<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>sphere<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>renderer<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">.</span>memory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">removeSphere</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> randomIndex <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> objects<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> object <span class=\"token operator\">=</span> objects<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>randomIndex<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  scene<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  object<span class=\"token punctuation\">.</span>geometry<span class=\"token punctuation\">.</span><span class=\"token function\">dispose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  object<span class=\"token punctuation\">.</span>material<span class=\"token punctuation\">.</span><span class=\"token function\">dispose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>renderer<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">.</span>memory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> radius <span class=\"token operator\">=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 공전할 반지름</span>\n<span class=\"token keyword\">let</span> theta <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 각도 (라디안 값)</span>\n\n<span class=\"token comment\">// 카메라가 (0,0,0)을 주시하면서 공전하는 함수</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">updateCameraPosition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  theta <span class=\"token operator\">+=</span> <span class=\"token number\">0.01</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 공전 속도 (값을 조절하여 속도를 변경 가능)</span>\n\n  <span class=\"token comment\">// 삼각함수를 이용해 카메라의 x, z 좌표를 업데이트 (y 좌표는 고정)</span>\n  camera<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> radius <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>theta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  camera<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>z <span class=\"token operator\">=</span> radius <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>theta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 카메라가 항상 (0, 0, 0)을 바라보도록 설정</span>\n  camera<span class=\"token punctuation\">.</span><span class=\"token function\">lookAt</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> addPhase <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>animate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>count<span class=\"token operator\">++</span> <span class=\"token operator\">%</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>objects<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      addPhase <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>objects<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      addPhase <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>addPhase<span class=\"token punctuation\">)</span> <span class=\"token function\">addSphere</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">else</span> <span class=\"token function\">removeSphere</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">updateCameraPosition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  renderer<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>scene<span class=\"token punctuation\">,</span> camera<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<iframe src=\"https://codesandbox.io/embed/x32ht8?view=preview&module=%2Fsrc%2Findex.js&hidenavigation=1\"\n     style=\"width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"Three.js playground (forked)\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   ></iframe>\n<p><br>\n잘 폐기되었는지는 렌더러 객체의 info 속성에서 확인할 수 있습니다.<br>\n예를 들어, <code class=\"language-text\">texture</code>와 <code class=\"language-text\">geometry</code>는 <code class=\"language-text\">console.log(renderer.info.memory);</code>와 같이 로그를 찍어 확인해볼 수 있습니다.</p>\n<p>카메라 공전도 넣어봤습니다.<br>\n0,0,0을 바라보며, 반지름 50의 원 궤도를 공전합니다.<br>\n근데 카메라가 아니라 물체들이 움직이는 것 같죠?<br>\n좌표계는 언제나 상대적이니 당연지사입니다.</p>\n<hr>\n<p><br>\n재밌는데요..<br>\n옛날에 물리천문학과 수업에서 등한시했던 수학 이론들이 점점 나옵니다 ㅜㅜ<br>\n악! 뭐지 이 기억은?</p>\n<p>이만 마칩니다.</p>","frontmatter":{"title":"Three.js 공식문서로 시작해보기. - 2일차","date":"October 16, 2024","description":"오브젝트를 변형, 삭제하기","tag":["TIL","Three.js"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\">오브젝트를 업데이트 하는 방법</a></p>\n<ul>\n<li>\n<p><a href=\"#buffergeometry\">BufferGeometry</a></p>\n<ul>\n<li><a href=\"#typed-arrays%ED%98%95%EC%8B%9D%ED%99%94-%EB%B0%B0%EC%97%B4\">Typed Arrays(형식화 배열)?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%A4-%EB%A0%8C%EB%8D%94%EB%A7%81%EB%A7%88%EB%8B%A4-%EB%9E%9C%EB%8D%A4%ED%95%98%EA%B2%8C-%ED%99%95%EC%9E%A5%EB%90%98%EB%8A%94-%EC%84%A0%EC%9D%84-%EA%B7%B8%EB%A6%AC%EA%B8%B0\">매 렌더링마다 랜덤하게 확장되는 선을 그리기</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%9E%AC%EC%A7%88-materials\">재질 Materials</a></p>\n<ul>\n<li><a href=\"#%EB%9F%B0%ED%83%80%EC%9E%84-%EC%A4%91%EC%97%90-%EC%9E%AC%EC%A7%88%EC%9D%84-%EC%84%9C%EB%A1%9C-%EB%8B%A4%EB%A5%B4%EA%B2%8C-%EC%84%A4%EC%A0%95%ED%95%B4%EC%95%BC-%ED%95%A0-%EB%95%8C\">런타임 중에 재질을 서로 다르게 설정해야 할 때</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%85%8D%EC%8A%A4%EC%B2%98\">텍스처</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%B9%B4%EB%A9%94%EB%9D%BC\">카메라</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%ED%8F%90%EA%B8%B0%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\">오브젝트를 폐기하는 방법</a></p>\n<ul>\n<li><a href=\"#%EA%B8%B0%ED%95%98%ED%95%99\">기하학</a></li>\n<li><a href=\"#%EC%9E%AC%EC%A7%88\">재질</a></li>\n<li><a href=\"#%ED%85%8D%EC%8A%A4%EC%B2%98-1\">텍스처</a></li>\n<li><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EB%8C%80%EC%83%81\">렌더링 대상</a></li>\n<li><a href=\"#%EA%B7%B8-%EC%99%B8\">그 외</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%83%98%ED%94%8C\">샘플</a></p>\n</li>\n</ul>"},"previous":{"fields":{"slug":"/til/how-to-threejs-1/"},"frontmatter":{"title":"Three.js 공식문서로 시작해보기. - 1일차"}},"next":{"fields":{"slug":"/contributing-tanstack-query/"},"frontmatter":{"title":"🤨 이슈 해결해준다고? 너 누군데"}}},"pageContext":{"id":"8f07f032-9c32-5415-9e5b-6d92bb7cd25c","previousPostId":"bf00079c-1878-593b-aae7-06578b5494a4","nextPostId":"5cec790c-dd3b-5cde-a78e-058b36b77b03"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}