<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Gatsby Starter Blog RSS Feed]]></title><description><![CDATA[Sunghoon Tech Blog]]></description><link>https://sungpaks.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Wed, 13 Nov 2024 13:20:33 GMT</lastBuildDate><item><title><![CDATA[TypeScript로 즐기는 Three.js 강의 정리 - 01]]></title><description><![CDATA[! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다. 저번에 공식문서를 쭉 따라하고 TIL정리를 했었는데요 : 1 2…]]></description><link>https://sungpaks.github.io/til/threejs-with-typescript-01/</link><guid isPermaLink="false">https://sungpaks.github.io/til/threejs-with-typescript-01/</guid><pubDate>Wed, 13 Nov 2024 21:29:12 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;저번에 공식문서를 쭉 따라하고 TIL정리를 했었는데요 : &lt;a href=&quot;/til/how-to-threejs-1&quot;&gt;1&lt;/a&gt; &lt;a href=&quot;/til/how-to-threejs-2&quot;&gt;2&lt;/a&gt; &lt;a href=&quot;/til/how-to-threejs-3&quot;&gt;3&lt;/a&gt;&lt;br&gt;
뭐가 있는지도 대충 알았겠다, 이제 강의를 보려고 합니다&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=WLdkjdh-sgU&amp;#x26;list=PLe6NQuuFBu7F8tG1ZweG3pME3E4M-Q0LA&quot;&gt;TypeScript로 즐기는 Three.js&lt;/a&gt;라는 강의를 보고 있어요&lt;br&gt;
친구가 추천해줬기도 하고, 스터디 팀원분들도 이거 보시는 분들이 꽤 있는 것 같습니다&lt;br&gt;
무료 무려입니다. 무한한 감사.&lt;/p&gt;
&lt;p&gt;저는 진득하게 강의 듣는거 좀 안좋아하는데,&lt;br&gt;
이미 좀 알고 써본 상태로 강의를 듣는건 꽤 괜찮은 것 같아요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 548px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ce0ab8354935316d61d3e4d0916ca2b3/a58fe/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 69.62025316455697%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC90lEQVR42j1USSh4fRT9IcqOLGxQhoUhZSXF0rgwJZGFYYVkCsnCsBILs5RElEJkWGBhLJIMkSESGTJPZZbpfN85/3j1+o333HvuOe8Z/P+kpaXBGANra2uNPj4+qK6uhru7u9ZNTU28ho+PD3x/f2u+sbEBb29vxMbG4vX1FV9fX/j8/IThYUZGBjw8PODq6goHBwcMDAxgc3MT8fHxcHZ2Rk9Pj0BeXl7w9PSkeUlJiZLZ2NhgcnJSe3+Ay8vLylRZWYmGhgYsLi5ibm4OY2NjWt/c3Kiy29tb7O/vK7i7u1vMZmdncXJyor2fnx+Y9/d3LcrKykRtfX0dExMTmJmZUaVM9kv3/v5e4IxhMEFbWlpweHiIx8dHJTWFhYWor6/HwcEBrq+vsbu7qzkDf0eCPT8/K4igvMeEycnJSE1Nxfb2NnZ2dv4BWllZqRfZ2dl4eHiAr68vIiMjER0djczMTFRUVKhSAp+enqpaVpWXl4fOzk6dnZ2d6YwJjZOTE+zt7ZGYmKiD4OBgxMXFCSghIUGCUaCLiwtcXV2pr0VFRcjNzUVWVpbEqa2tRWtrK46OjmCYKSIiAjk5Obi8vPyrinSXlpZwfHyMlZUVVRgSEiI2jo6OUp73mKCjowOenp64u7uD6erqQlVVlTIRhIpRWV7i/vDwsMC2trbg5eUlsICAANEuLy9HX1+faLOfLMgUFxcjKSkJBQUFAqRiMTExCAoKQkpKioDPz88xMjKC9vZ29Pf3IyoqSme0GT8AsnRzc5Ngxs7ODi4uLqLKhwr29vaq4QweHx9HXV0dpqamMDg4iLa2NlmMHmxsbJRD6OH8/HzFG39/f4SGhqpsSk8fzs/Pq/E1NTUKKi0tldEJurCwoFawl5aWlno5//1aDM3M4LW1NfmJ8tPMQ0NDAh4dHZU4HNkKusHPz08gFhYWGvlOT0//A2QPw8LCkJ6eLpXe3t5EmwoSpLm5Gaurq9jb21NbAgMDER4eLhBbW9u/HwrV5k/iP7JcD8rKjwF7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;대충 알았다..&quot;
        title=&quot;&quot;
        src=&quot;/static/ce0ab8354935316d61d3e4d0916ca2b3/a58fe/image-2.png&quot;
        srcset=&quot;/static/ce0ab8354935316d61d3e4d0916ca2b3/c26ae/image-2.png 158w,
/static/ce0ab8354935316d61d3e4d0916ca2b3/6bdcf/image-2.png 315w,
/static/ce0ab8354935316d61d3e4d0916ca2b3/a58fe/image-2.png 548w&quot;
        sizes=&quot;(max-width: 548px) 100vw, 548px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그때서야 강의하시는 분들이 말씀하시는 한 마디 한 마디를 그나마 더 잘 이해할 수 있고&lt;br&gt;
또한 작성하시는 코드 한 줄 한 줄의 의도가 더 와닿습니다&lt;/p&gt;
&lt;p&gt;아무튼 오늘은 1강부터 보려고 하는데, 기초적인 소개가 있지만 건너뛸게요&lt;br&gt;
가장 기본적인 회전하는 큐브 애니메이션을 만드는 것으로 시작합니다&lt;/p&gt;
&lt;h1 id=&quot;먼저-threejs의-기본-구성-요소&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A8%BC%EC%A0%80-threejs%EC%9D%98-%EA%B8%B0%EB%B3%B8-%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C&quot; aria-label=&quot;먼저 threejs의 기본 구성 요소 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;먼저 Three.js의 기본 구성 요소&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c44e7545161f5ecc064af900ca0438d5/1c3a5/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.202531645569614%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9klEQVR42nWRWQ6DMAxEc//T8Y3EXrHvkLIU0j4lpWojdSQsm4xn7EQ8/0ApRZymaRiGsizneZZSWhxh1ed57vv+0FjXNY7jLMvSNC2Kgv6P6LtZXTB1XdfjOFZVRaQNrfuF4zggLMtCzhQkP85YZRpRFNUa+H8TWIFZkM7znFywVdM0fd+PGlhxQDM5Vgh1XcfMUNu2JYfpeZ7ruvgL6iRJMCEiZLZCwlixJ/8dx/F9nx4ITFtoMLngw4qCmaFiCAN5IirIc4Q/0czI5cExBGE9jzmDSkTOul7A8EEQhGGIpf1UnN00eFv2NM3fz7FtG5siLaV8AbcMA7AJfOBbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Three.js의 기본 구성 요소&quot;
        title=&quot;&quot;
        src=&quot;/static/c44e7545161f5ecc064af900ca0438d5/f058b/image.png&quot;
        srcset=&quot;/static/c44e7545161f5ecc064af900ca0438d5/c26ae/image.png 158w,
/static/c44e7545161f5ecc064af900ca0438d5/6bdcf/image.png 315w,
/static/c44e7545161f5ecc064af900ca0438d5/f058b/image.png 630w,
/static/c44e7545161f5ecc064af900ca0438d5/40601/image.png 945w,
/static/c44e7545161f5ecc064af900ca0438d5/1c3a5/image.png 981w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Three.js에서 렌더링을 위해서는 대략 이런 파이프라인?이 필요합니다&lt;/p&gt;
&lt;p&gt;먼저, 화면 렌더링(그리기)을 담당하는 &lt;strong&gt;Renderer&lt;/strong&gt;가 필요하겠죠?&lt;br&gt;
그리고 이제 물질세계를 나타낼 장면인 &lt;strong&gt;Scene&lt;/strong&gt;을 만듭니다&lt;br&gt;
물질세계를 보려면 눈(&lt;strong&gt;Camera&lt;/strong&gt;)이 있어야겠네요&lt;/p&gt;
&lt;p&gt;이제 다시 물질세계는 조명(&lt;strong&gt;Light&lt;/strong&gt;)과 물질(&lt;strong&gt;Mesh&lt;/strong&gt;)로 이루어집니다.&lt;br&gt;
물질만 있으면 빛이 없어서 볼 수 없고, 빛만 있으면 볼 물질이 없겠죠?&lt;/p&gt;
&lt;p&gt;물질은 다시 기하학적 특성인 &lt;strong&gt;Geometry&lt;/strong&gt;와 재질 특성인 &lt;strong&gt;Material&lt;/strong&gt;로 나뉩니다.&lt;br&gt;
기하학적 특성은 모양새고, 재질은 색상, 투명도, 질감 등이겠네요&lt;/p&gt;
&lt;h1 id=&quot;세팅&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%84%B8%ED%8C%85&quot; aria-label=&quot;세팅 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;세팅&lt;/h1&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;npm create vite@latest&lt;/code&gt;로 프로젝트를 만듭니다. VanilaJS와 TypeScript를 선택해서요&lt;br&gt;
그리고 &lt;code class=&quot;language-text&quot;&gt;npm install three&lt;/code&gt;로 Three.js 패키지를,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm install @types/three&lt;/code&gt;로 Three.js의 타입 정의들을 설치합니다&lt;/p&gt;
&lt;p&gt;그리고, 쓸데없는거 지우고, &lt;code class=&quot;language-text&quot;&gt;index.html, main.js, style.css&lt;/code&gt;만 남깁시다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;index.html&lt;/code&gt;에는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;div id=&quot;app&quot; /&gt;&lt;/code&gt; 요소가 있어야 합니다. 여기를 우리 Three.js앱의 엔트리포인트로 쓰려구요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;style.css&lt;/code&gt;은 다 지우고 대충 높이너비 100%, 배경색 검은색을 칠해줍시다&lt;br&gt;
이제 &lt;code class=&quot;language-text&quot;&gt;main.js&lt;/code&gt;에서 아래와 같이 클래스를 정의하고 인스턴스화합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;App&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; renderer&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;THREE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WebGLRenderer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; domApp&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; HTMLElement&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; scene&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;THREE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Scene&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; camera&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;THREE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;PerspectiveCamera&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; cube&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;THREE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Mesh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그리고 먼저 앞으로 필요할 모든 변수들을 정의해줬습니다&lt;br&gt;
생성자에서 생성하고 들어갈 것은 조건부 없이, 나중에 할당할 것들은 &lt;code class=&quot;language-text&quot;&gt;?&lt;/code&gt;붙여서 조건부로 타입을 넣었습니다&lt;/p&gt;
&lt;h1 id=&quot;constructor&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#constructor&quot; aria-label=&quot;constructor permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;constructor&lt;/h1&gt;
&lt;p&gt;이제 생성자에&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;renderer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;THREE&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;WebGLRenderer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; antialias&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setPixelRatio&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;devicePixelRatio&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;domApp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;#app&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;domApp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;domElement&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scene &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Three&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Scene&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setupCamera&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setupLight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setupModel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;첫줄 : 계단현상 방지 안티엘리어싱&lt;br&gt;
둘째줄 : 픽셀비율 최적화&lt;br&gt;
셋째줄 : id=app인 div 가져와서&lt;br&gt;
넷째줄 : WebGLRenderer의 DOM요소를 자식으로 추가&lt;/p&gt;
&lt;p&gt;이거부터 쓰고 시작합시다.
맨 밑줄 세 개의 메서드는 이제부터 살펴봅시다.&lt;/p&gt;
&lt;h1 id=&quot;setupcamera&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#setupcamera&quot; aria-label=&quot;setupcamera permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;setupCamera()&lt;/h1&gt;
&lt;p&gt;카메라를 정의해요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setupCamera&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; width &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;domApp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientWidth&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;domApp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientHeight&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;camera &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;THREE&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;PerspectiveCamera&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;75&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; width &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;camera&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;z &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;카메라 생성자를 호출할 때는 &lt;code class=&quot;language-text&quot;&gt;(시야각, 종횡비, 최소 절단거리, 최대 절단거리)&lt;/code&gt;와 같이 생성합니다&lt;br&gt;
이 때, 종횡비를 브라우저 창에 맞추기 위해 HTML요소의 &lt;code class=&quot;language-text&quot;&gt;clientWidth, clientHeight&lt;/code&gt;를 가져온 것입니다&lt;br&gt;
그리고 &lt;code class=&quot;language-text&quot;&gt;this.camera.position.z = 2&lt;/code&gt;와 같이 z축으로 이동하게 하여 (0,0,0)좌표를 내려다볼 수 있게 합니다&lt;/p&gt;
&lt;h1 id=&quot;setuplight&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#setuplight&quot; aria-label=&quot;setuplight permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;setupLight()&lt;/h1&gt;
&lt;p&gt;조명을 정의해요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setupLight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; color &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xffffff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; intensity &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; light &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;THREE&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;DirectionalLight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;color&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; intensity&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    light&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scene&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;light&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://threejs.org/docs/index.html#api/en/lights/DirectionalLight&quot;&gt;DirectionalLight&lt;/a&gt;은 특정 방향으로 방출되는 조명입니다&lt;br&gt;
무한히 멀리 도달하는 평행광선처럼 동작하는데&lt;br&gt;
그냥 햇빛같다고 생각하시면 됩니다.&lt;br&gt;
햇빛은 근사적으로 평행광선으로 입사하는 것처럼 생각할 수 있으니까요&lt;/p&gt;
&lt;p&gt;생성자에는 색상과 강도?명도? 를 전달하여 생성하고&lt;br&gt;
위치를 적당히 세팅해주고, 장면에 추가합니다&lt;/p&gt;
&lt;h1 id=&quot;setupmodel&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#setupmodel&quot; aria-label=&quot;setupmodel permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;setupModel()&lt;/h1&gt;
&lt;p&gt;3D객체인 모델을 정의해요&lt;br&gt;
모델은 material재질과 geometry기하학성질로 구성된다고 했습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setupModels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; geometry &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;THREE&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;BoxGeometry&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//가로,세로,깊이&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; material &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;THREE&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;MeshPhongMaterial&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; color&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x44aa88&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cube &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;THREE&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Mesh&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;geometry&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; material&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scene&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cube&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;네모모양 기하학과 퐁 재질을 썼는데&lt;br&gt;
&lt;a href=&quot;https://threejs.org/docs/index.html#api/en/materials/MeshPhongMaterial&quot;&gt;퐁 재질&lt;/a&gt;이란 :&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A material for shiny surfaces with specular highlights.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;그냥 광 좀 나는 재질이라고 합니다
이제 기하학과 재질을 섞어서 녹이면 3D객체인 &lt;code class=&quot;language-text&quot;&gt;Mesh&lt;/code&gt;가 탄생합니다&lt;br&gt;
이것을 &lt;code class=&quot;language-text&quot;&gt;this.cube&lt;/code&gt; 필드에 담아주고 장면에 추가합니다&lt;/p&gt;
&lt;h1 id=&quot;render하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#render%ED%95%98%EA%B8%B0&quot; aria-label=&quot;render하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;render하기&lt;/h1&gt;
&lt;p&gt;이제 렌더링하고싶은데, 아래같은 &lt;code class=&quot;language-text&quot;&gt;render&lt;/code&gt;메서드를 정의합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;time&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scene&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;camera&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;장면과 카메라를 넣어 &lt;code class=&quot;language-text&quot;&gt;Renderer&lt;/code&gt;객체의 &lt;code class=&quot;language-text&quot;&gt;render&lt;/code&gt;메서드를 호출합니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;time&lt;/code&gt; : 나중에 애니메이션으로 등록할거라 첫 번째 인자로 타임스탬프를 받습니다&lt;/p&gt;
&lt;p&gt;그리고 이제 &lt;code class=&quot;language-text&quot;&gt;setupEvents()&lt;/code&gt;라는 메서드를 만들고 constructor 맨 마지막에 추가합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token function&quot;&gt;setupEvents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAnimationLoop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://threejs.org/docs/#api/en/renderers/WebGLRenderer.setAnimationLoop&quot;&gt;setAnimationLoop&lt;/a&gt;로 애니메이션 루프를 설정하는 작업입니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;setAnimationLoop&lt;/code&gt;는 &lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/API/Window/requestAnimationFrame&quot;&gt;requestAnimationFrame&lt;/a&gt;처럼 쓸 수 있는 빌트인 함수구요&lt;br&gt;
rAF처럼 쓰는거니까 매 (가능한) 프레임마다 콜백을 호출하고, 콜백함수는 첫 번째 인자로 타임스탬프를 넘겨받습니다&lt;/p&gt;
&lt;h1 id=&quot;반응형-설정하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B0%98%EC%9D%91%ED%98%95-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0&quot; aria-label=&quot;반응형 설정하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;반응형 설정하기&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 419px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/15c623fe15654805cb6445c30cb8b458/d587d/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 182.27848101265823%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgElEQVR42u2U3UvCUBiHN7utq6X4Galrc34ylF14EV4YmkKCRrCCCgLvBIkICgLJMBMiQzAiIvpQ6iIqCCK679/65U6mhAsqRLzY4OHdOXv37Hc42yibzQYFq9UKjuPAsiyCwSBCoRDC4TBEUSRjSZLg8XhgNptJr9PphMPhIIiBAHxuNwRBAGUwGPCF0mw0GuFyuchFr9cLnufJWDm32+1gGAZ6vR4mk4n0KiiBLBYLeRDVOtBneidpmlbl38K+J9SEmlATDl5I/8BQLbnzu/p7uq6Q1ulIldbmIV9WkKkXkDnZRbpVU7UdJI+3ED/cRPRgHZFiDpFyHoI82wnQKxz5FE5vZ5F9b2Ll9Qyrb+dYbtWll1PIz3UsPNWQvj/C3G0FqYcqghvL38KoJhRzMlKPVSQaJSSbZSQUGvuI35QQu97DzFUR0YsCYndl+POL7XtVElLt2KMTRoyLPBjfFBi/Cj4WjNcJJsBhbNLUfTMGtstkh3W/R/uWNaEmHArhB0BzFO+2YsNEAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;지금 상태&quot;
        title=&quot;&quot;
        src=&quot;/static/15c623fe15654805cb6445c30cb8b458/d587d/image-3.png&quot;
        srcset=&quot;/static/15c623fe15654805cb6445c30cb8b458/c26ae/image-3.png 158w,
/static/15c623fe15654805cb6445c30cb8b458/6bdcf/image-3.png 315w,
/static/15c623fe15654805cb6445c30cb8b458/d587d/image-3.png 419w&quot;
        sizes=&quot;(max-width: 419px) 100vw, 419px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;지금은 이런식일건데요&lt;br&gt;
브라우저의 창 크기가 변해도 물체 크기가 고정되고, 반응형으로 변하지 않습니다&lt;br&gt;
처음 그려질 때도 이상하게 되어있구요&lt;/p&gt;
&lt;p&gt;일단 &lt;code class=&quot;language-text&quot;&gt;resize&lt;/code&gt; 메서드를 작성합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; width &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;domApp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientWidth&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;domApp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientHeight&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; camera &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;camera&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;camera&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      camera&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;aspect &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; width &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      camera&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updateProjectionMatrix&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;루트 요소의 현재 너비,높이를 가져와 이를 기반으로 카메라의 종횡비를 업데이트합니다.&lt;br&gt;
또한 렌더러의 사이즈를 설정하구요&lt;br&gt;
이 때, 카메라의 프로퍼티를 변경하고 나면 &lt;code class=&quot;language-text&quot;&gt;updateProjectionMatrix()&lt;/code&gt;로 행렬연산을 트리거해야하는데&lt;br&gt;
이에 대해서는 &lt;a href=&quot;/til/how-to-threejs-3/#%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EB%B3%80%ED%98%95%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95-%EB%91%90-%EA%B0%80%EC%A7%80&quot;&gt;여기에서 배웠습니다&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;setupEvents()&lt;/code&gt;메서드를 수정합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setupEvents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;onresize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAnimationLoop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;리사이징 이벤트에 아까 그 메서드를 등록합니다.&lt;br&gt;
근데 브라우저가 열릴 때는 &lt;code class=&quot;language-text&quot;&gt;onresize&lt;/code&gt;가 트리거되지 않아요&lt;br&gt;
따라서 처음에 한 번 호출하여 리사이징을 한 번 해줍시다.&lt;/p&gt;
&lt;h1 id=&quot;회전하는-애니메이션-넣기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%9A%8C%EC%A0%84%ED%95%98%EB%8A%94-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EB%84%A3%EA%B8%B0&quot; aria-label=&quot;회전하는 애니메이션 넣기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;회전하는 애니메이션 넣기&lt;/h1&gt;
&lt;p&gt;다음과 같은 &lt;code class=&quot;language-text&quot;&gt;update&lt;/code&gt;메서드를 작성해요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;time&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  time &lt;span class=&quot;token operator&quot;&gt;*=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.001&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ms -&gt; s&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cube&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cube&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rotation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cube&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rotation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;time&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scene&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;camera&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;아까 &lt;code class=&quot;language-text&quot;&gt;renderer.setAnimationLoop&lt;/code&gt;는 타임스탬프를 인자로 받는다고 했습니다.&lt;br&gt;
이걸 &lt;code class=&quot;language-text&quot;&gt;update&lt;/code&gt;함수 호출 시에 넘겨줄건데, ms단위라서 초단위로 바꿔줍시다&lt;br&gt;
그리고 이제 큐브의 회전값을 &lt;code class=&quot;language-text&quot;&gt;time&lt;/code&gt;값으로 업데이트해주면 지속적으로 회전하는 모습을 볼 수 있습니다&lt;/p&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/nqlkvt?view=preview&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;flamboyant-darkness-nqlkvt&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
네모네모~ 네모네모~ 싸인&lt;br&gt;
이만 마칩니다. 비타오스~&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🍔 ദി=´∀｀) 안녕하새용저는햄부기애용]]></title><description><![CDATA[♚♚햄부기♚♚크롬확장프로그램♜♜즉시설치☜☜평생무료획득♜♜깃허브★스타 환영★10…]]></description><link>https://sungpaks.github.io/draggable-and-auto-walking-character-chrome-extension/</link><guid isPermaLink="false">https://sungpaks.github.io/draggable-and-auto-walking-character-chrome-extension/</guid><pubDate>Sat, 09 Nov 2024 23:15:21 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;♚♚햄부기♚♚크롬확장프로그램♜♜&lt;a href=&quot;(https://chromewebstore.google.com/detail/bugi/cidndoahplamogkfaimmahedcnakjnag?hl=ko)&quot;&gt;즉시설치&lt;/a&gt;☜☜평생무료획득♜♜&lt;a href=&quot;https://github.com/sungpaks/bugi_friends&quot;&gt;깃허브&lt;/a&gt;★스타 환영★100%오픈소스§§&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 59px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b025babeab9857bf3b03ccf6923ad0c0/ee850/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 115.2542372881356%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAAAsTAAALEwEAmpwYAAACZklEQVR42mP4TwFgGHya/6KCf//+EaUZqA6oGkijCWLqZ8C0EKLo1r0n5y/fOn/pxoWrd67ffvjl6w+IETg1Q+TeffyybfO2kmif/GDb5vTgtgT3wmi/udNmf/v5G00/A5rOl28+TGooWVvp/XlXw+fdbb8PNP/ZXPLvbP/6vuw5kyd/R9XPgKzz5++/zZXFh6st/u+r+Hy479Oi0HfT3d/s7nm9seT/wcoN1QFz5y4FKf6LqvnPnz9Acv367RMjjH4vj3gxK+D70tCj7QF3Z4R9XBH3cWnE41lhx3pCZxa579l7FBI06JrnzFk+3V/n9+qYz8sjVtcEFVZN8LGy+L4m6tOKyK7aypSkkjhTuS2bt8PVo2hesmRTjb7S9xmB/1fGbi7xl5QwCLEzXV/ntb7eN8HdUkvVMNXeYNumfSiaIR7+8uFrTGGiuZtKvonhbG+7qwV+pzuCH8+PW1/tt7bK4/X8kO2FnrH+JnElqW9ff4DoQmh+8eiNfpitdbt+YL6hdqmZu65iSaBJUZBRobd+gY9RSbBpuJ2OarGKR5P70wevQd6GaIY7Y+b8Vb1JBk9WBMnryFbaC2+tl16dz7+zVOjyUvMdFbKTkxSEZVQ37dyHPcAWLFq7INvi/MxIC06ZRFGlXAWFDAmFIiuVqcHquZLimUIS9qL6t+4+RNcMcfnzF68r0pJctDSjNFX7PA363A2meBu2OetUWWt0uRvW+jr3tvT++v0HrB5bCnv97tP2XYfmzpg3a+q83s5pvZ1TpkwAchZNm7rk7LnrOJMnrqyDRwEDpvQfHODvn7/4ctXQKcMACaV/LbJ1f1IAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;햄부기&quot;
        title=&quot;&quot;
        src=&quot;/static/b025babeab9857bf3b03ccf6923ad0c0/ee850/image.png&quot;
        srcset=&quot;/static/b025babeab9857bf3b03ccf6923ad0c0/ee850/image.png 59w&quot;
        sizes=&quot;(max-width: 59px) 100vw, 59px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;혹시 이 친구 보셨나요? 제 블로그에 돌아다니는데&lt;br&gt;
이름은 햄부기로 했습니다.&lt;br&gt;
그냥 갑자기 블로그에 귀엽고 특별한 것을 넣고싶어서 만들어봤어요&lt;br&gt;
햄버거인 이유는 그냥 제가 햄버거를 좋아해서 그렇습니다&lt;/p&gt;
&lt;p&gt;아무튼 이 친구가 어떤 기능이 있고 어떻게 구현했는지 쓰려고 해요&lt;br&gt;
그리고 이거 크롬 익스텐션으로도 만들어서 게시했는데요, 그 여정까지 쓰겠습니다&lt;br&gt;
나중에는 부기와 친구들 머 이런식으로 계속 캐릭터도 추가하고, 그러고 싶습니다&lt;br&gt;
막 오픈소스처럼 다른 사람들이 캐릭터도 기능도 추가하고 어쩌구저쩌구 하게 하고싶은데 점점 귀찮고 그럴 사람이 있을지는 모르곘어용&lt;/p&gt;
&lt;p&gt;아무튼 시작합시다&lt;br&gt;
그냥 기능이 뭐있나 궁금하시면 목차에서 대제목 1,2,3만 보세요&lt;/p&gt;
&lt;h1 id=&quot;1-드래그-앤-드롭으로-잡아-옮길-수-있습니다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%EB%93%9C%EB%9E%98%EA%B7%B8-%EC%95%A4-%EB%93%9C%EB%A1%AD%EC%9C%BC%EB%A1%9C-%EC%9E%A1%EC%95%84-%EC%98%AE%EA%B8%B8-%EC%88%98-%EC%9E%88%EC%8A%B5%EB%8B%88%EB%8B%A4&quot; aria-label=&quot;1 드래그 앤 드롭으로 잡아 옮길 수 있습니다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. 드래그 앤 드롭으로 잡아 옮길 수 있습니다&lt;/h1&gt;
&lt;p&gt;햄부기를 잡고, 드래그하여 다른 곳으로 옮겨버릴 수 있습니다&lt;br&gt;
얘때문에 글을 못 읽으면 안되잖아요?&lt;/p&gt;
&lt;p&gt;마침 JAVA수업 때 SWING 쓰면서 이런거는 또 전문이었습니다&lt;br&gt;
게다가 얼마전에 회사 업무에서도 canvas 쓸 일이 있었는데 거기서도 그 수업 때 했던걸 톡톡히 썼네요&lt;br&gt;
아. 그립읍니다 교수님.&lt;br&gt;
그래픽스 수업도 좀 들을걸 그랬어요&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 276px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/989d199cffa78b2126ec2dfa46187238/f2d11/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACw0lEQVR42g3QXW/aVgCAYYMhEIMxxsafxz72OccHbIxtbCckQPgoUJaGliVNRLVMaGsStVvXqbfbZS4m7XLS9n+XP/A+0ssgaKMkM3aHqB8Q7DYHi+rmC3e2Pxod2NFBHN4cj5/KH//h840OLBMTE3mGiw2XqMhjLNtR/FSa73zqIGhoOqx5Q371U3X5WLt/lkcHbvYoZNsWjVXTrL2+F0dvALBNRHWXMgbEtut6ECDXApbVJlFLtzWvJ52+Fq4exMFao4GBPZn02o4nQFLXLNl0NIj56TWjQk+3kO24ENoqcCrLQwNFQJXBSwoYFrQkxzte/KD4ifLC2KDGN8tcg1dNfnbLiCiubj8rQa7bWIdYtYmiWpqmAwhNhG0INQu1koUMSb/vby63cXbaFMVyTRBMl5HJoD6943sTyfVNyzYMoOiWKivNk3Vtef9CAxdDYKkGzNN4Op0OkwiqbYblqnyb0elAJCkXjGWaKN1UDs/apiNotoR7cmegOwi4VMEh6obDyH81u1ieJHZb1Pl6k4SM2Dmp+6N6cN6kKXe+q775pAIiGER+2WZC3SGqnxbe/jq5+XHS9yeRfx6QAJhEEivBiKlsPpYv9g2ayzRv0VyimeL0eIPydk9CoeIEWiepd4d3T1/jOCJAj7HlSc2G6hTdM6a8fqyevhNQIuJBC0UyTiQ35nSv9N1TbfZBNjs6TQXF+fTH893Dl1USjXudRlvLtnvRXzIsHlfQ8BgNeZzXorXQHTfduAHD42Be8ed1nLfDcZGOfvn7393D1zSK68hnvOwoW5fDDVPoXxXplMWTEp0dHZ4roz0H82xxtXl7HV1cTi5vdz//Vr3/8/Nf/wVhUjJcBsesf1YIxuz2G8Oufi92VwU6L9BFKb9hw02Rzjk6SV5d56vb88s9HO2YwTu0fC91kpJ/UiZpye6w2ffs4tv/3xt70ldFipwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;여전히 가르침을 주시는군요&quot;
        title=&quot;&quot;
        src=&quot;/static/989d199cffa78b2126ec2dfa46187238/f2d11/image-1.png&quot;
        srcset=&quot;/static/989d199cffa78b2126ec2dfa46187238/c26ae/image-1.png 158w,
/static/989d199cffa78b2126ec2dfa46187238/f2d11/image-1.png 276w&quot;
        sizes=&quot;(max-width: 276px) 100vw, 276px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;영화 아이언맨2&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;html요소를-드래그-앤-드롭하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#html%EC%9A%94%EC%86%8C%EB%A5%BC-%EB%93%9C%EB%9E%98%EA%B7%B8-%EC%95%A4-%EB%93%9C%EB%A1%AD%ED%95%98%EA%B8%B0&quot; aria-label=&quot;html요소를 드래그 앤 드롭하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;HTML요소를 드래그 앤 드롭하기&lt;/h2&gt;
&lt;p&gt;웹 API에는 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/DragEvent&quot;&gt;DragEvent&lt;/a&gt;가 이미 존재하지만 어떤 요소를 자유롭게 드래그 앤 드롭으로 옮기고 싶다면 꽤 한계가 있습니다&lt;br&gt;
모던 자바스크립트 튜토리얼의 &lt;a href=&quot;https://ko.javascript.info/mouse-drag-and-drop&quot;&gt;mouse-drag-and-drop&lt;/a&gt;에서도 이에 대한 내용이 나옵니다&lt;br&gt;
대신에 &lt;code class=&quot;language-text&quot;&gt;mousedown, mousemove, mouseup&lt;/code&gt; 이 세 이벤트만으로 드래그 앤 드롭을 구현해봅시다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;const [isDragging, setIsDragging] = useState(false)&lt;/code&gt;처럼 드래깅 여부를 나타낼 상태를 하나 선언하고 시작합시다.&lt;br&gt;
이제 아래와 같은 단계를 생각해볼 수 있습니다 :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;원하는 요소에서, 마우스 버튼을 누르면(&lt;code class=&quot;language-text&quot;&gt;mousedown&lt;/code&gt;) 드래깅을 시작 (&lt;code class=&quot;language-text&quot;&gt;setIsDragging(true)&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;isDragging === true&lt;/code&gt;인 동안 마우스를 움직이면(&lt;code class=&quot;language-text&quot;&gt;mousemove&lt;/code&gt;), 요소의 위치를 현재 마우스 위치로 업데이트&lt;/li&gt;
&lt;li&gt;마우스 버튼을 떼면(&lt;code class=&quot;language-text&quot;&gt;mouseup&lt;/code&gt;), 드래깅을 종료 (&lt;code class=&quot;language-text&quot;&gt;setIsDragging(false)&lt;/code&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;그럼 요소의 위치를 나타낼 &lt;code class=&quot;language-text&quot;&gt;[position, setPosition]&lt;/code&gt; 같은 상태값이 필요하겠습니다.&lt;br&gt;
위치가 변함에 따라 요소가 다시 그려지게 해야 하니까요&lt;br&gt;
또한 그 요소의 CSS &lt;code class=&quot;language-text&quot;&gt;position&lt;/code&gt; 속성은 &lt;code class=&quot;language-text&quot;&gt;fixed&lt;/code&gt;로 지정하여 자유로운 위치선정을 가능하게 해야겠습니다.&lt;br&gt;
모던 자바스크립트 튜토리얼에서는 &lt;code class=&quot;language-text&quot;&gt;absolute&lt;/code&gt;로 구현하긴 합니다. &lt;code class=&quot;language-text&quot;&gt;absolute&lt;/code&gt;도 레이아웃 배치 흐름에서 제외된다는 사실은 매한가지니까요&lt;/p&gt;
&lt;p&gt;아무튼 그럼 이런 식으로 될 것 같아요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;handleMouseDown&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;MouseEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setIsDragging&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;handleMouseMove&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; MouseEvent &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;MouseEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isDragging&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;buttons &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 왼쪽버튼만&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setPosition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      left&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientX&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      top&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientY
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;handleMouseUp&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setIsDragging&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 요소에 등록합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;mousemove&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; handleMouseMove&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;mousemove&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; handleMouseMove&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isDragging&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; position&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;fixed&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; top&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; left&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;onMouseDown&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;handleMouseDown&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;onMouseUp&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;handleMouseUp&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 때, &lt;code class=&quot;language-text&quot;&gt;mousemove&lt;/code&gt;는 꼭 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;를 활용하여 document에 등록해줘야 합니다.&lt;br&gt;
전체 문서를 기준으로 마우스 이벤트를 받아야하기 때문입니다&lt;/p&gt;
&lt;p&gt;근데 여기까지만 하면 드래그가 잘 안될건데&lt;br&gt;
막 커서가 not-allowed로 바뀌고 드래깅이 멈추고..&lt;br&gt;
이게 기본 드래깅 이벤트때문인데&lt;br&gt;
드래그 앤 드롭하는 요소의 props에 &lt;code class=&quot;language-text&quot;&gt;draggable={false}&lt;/code&gt;한 줄 추가해주면 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;diff&quot;&gt;&lt;pre class=&quot;language-diff&quot;&gt;&lt;code class=&quot;language-diff&quot;&gt;&lt;span class=&quot;token deleted-arrow deleted&quot;&gt;&lt;span class=&quot;token prefix deleted&quot;&gt;&lt;&lt;/span&gt;div
&lt;/span&gt;	style={{ position: &quot;fixed&quot;, top: position.top, left: position.left}}
	onMouseDown={handleMouseDown}
	onMouseUp={handleMouseUp}
&lt;span class=&quot;token inserted-sign inserted&quot;&gt;&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;	draggable={false}
&lt;/span&gt;	/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;드래그를-시작하면-커서-위치로-요소가-순간이동해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%93%9C%EB%9E%98%EA%B7%B8%EB%A5%BC-%EC%8B%9C%EC%9E%91%ED%95%98%EB%A9%B4-%EC%BB%A4%EC%84%9C-%EC%9C%84%EC%B9%98%EB%A1%9C-%EC%9A%94%EC%86%8C%EA%B0%80-%EC%88%9C%EA%B0%84%EC%9D%B4%EB%8F%99%ED%95%B4%EC%9A%94&quot; aria-label=&quot;드래그를 시작하면 커서 위치로 요소가 순간이동해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;드래그를 시작하면 커서 위치로 요소가 순간이동해요&lt;/h3&gt;
&lt;p&gt;지금 이 상태로도 드래그 앤 드롭이 잘 되긴 하지만&lt;br&gt;
드래그를 시작하면 요소의 위치가 현재 커서 위치로 순간적으로 바뀌어서 살짝 어색해보입니다&lt;br&gt;
&lt;a href=&quot;https://ko.javascript.info/mouse-drag-and-drop#ref-319&quot;&gt;모던 자바스크립트 튜토리얼 &gt; 드래그 앤 드롭 &gt; 올바른 위치 지정&lt;/a&gt;에서 자세한 설명과 예시를 볼 수 있습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 259px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/44df4f302cdedd7902cfeb07b41e4df5/a2ead/image-9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.31645569620254%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnElEQVR42iWQaVMaBwCG9w90Juln5WaXRfAMghIUiYlVPIlinLbxiLVJ1JLDidZMatrYQ20xOsSACRGdNCKCGGQEjUfEJEaJyA17r5R0ppM/Uad9vj/zPvMCPz/5Q28xDBoMA1OWX+ccQwbj2Mys2b0RSIYJYh8jwn/9TZLHyVeb7vd+X+ojTqfR4zRGp1CKTgI279xv5sE7+ge39CN9E1P3TTOmlTXj0uZhJJhMvKOOk5F4eOCnu01tLZeutIw8HjXNTz9dMG/vruNEDKCo0Ot935R1xehYnbQ6DS+cpiWP03cYI/BEwh+PhXpu9FQ2NyjUquqv6pu+aXkwPqw3j1sWn+FkDIjFg7FEdHffdxQLkikaoyiUJMk0iZF4Ev2w7LKyuAwOlyMQQjn5ObAIsr+04mk0ioQoGgM21hdti3OWWdOi0/Jmb/Xtnndvf/3Av0nTZCpNh6NHJWXFpz8/nZmRIYThU6c+m3v+9NOnfyiSpCgKCBzuWBdmLLNG75oTQY78/t3tLY/H69rZfXMYCMXi8T7dl1KpCBbCHA7zSuflUPiAPiYIAj8BQNDIUfD9qw33xtbq3PPZ9o7Oi43a2gbNF+qaKnV9T69Oq6m82tU6MTliX56naJSmcZxACALFMBRIJIOuFZvd8Wev7qpUUXq2rFxeopTKikTiXJ3uVt/tbmGWaGDgun/r2TufM47EcQwj/gPDMSCJhBxLL7xrLxub6rPzC85IZcKcHK4AzpPI5mcM1eUSoQj+ZajLNf39wqP+nR0PQVIoiv7fffJ2wONddq3YNZoGHo8ngEUgBDMYLFV5pWv+UadGmVsgvt/XbBxq0/c3O21mnCSQJIKdRKMoEIl+cK8ujY4Nn79wnsVi80GIDwrYHF7BmcKph/eGerXt2vLf+zXjd2oeDl4MHG6nPlI4fiKiCIIAGB6dmByFswQ8CGQxWQwmlw/CPC4kEguVCskP3Zrh7+omb1aM31BNj+ncXpdj2e73H5wsJxIJYGt7rVguA0GIzWIzmJlciM0G2eI8QWVNiaRIVKOWnjsraLwgatUUV9eeU6jKJLIi+5KNosloNAa0d3zN5XGysoSZmUyJAv72boX6ckHPjxXX7lW13la23Sxtvqaq7Siqaiuua5XnyXKEouxp82OSxiKRMACBAh4o4PDBTDY7g8Pki7mCXG69VtF1vUGuLMyXC7MLodIKeU1LnfpSXUVttUKp6u7VIQgWjSb+BSTA3e9dy0UhAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;잔상입니다만&quot;
        title=&quot;&quot;
        src=&quot;/static/44df4f302cdedd7902cfeb07b41e4df5/a2ead/image-9.png&quot;
        srcset=&quot;/static/44df4f302cdedd7902cfeb07b41e4df5/c26ae/image-9.png 158w,
/static/44df4f302cdedd7902cfeb07b41e4df5/a2ead/image-9.png 259w&quot;
        sizes=&quot;(max-width: 259px) 100vw, 259px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이건 &lt;code class=&quot;language-text&quot;&gt;mousedown&lt;/code&gt; 위치와 요소가 원래 있던 위치의 차이(offset)를 저장해두면 됩니다&lt;br&gt;
이건 어차피 딱히 렌더링에 필요한 정보는 아니라서, 참조로 저장했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;handleMouseDown&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;MouseEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setIsDragging&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  shift&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    x&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientX &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; ref&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetLeft&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    y&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientY &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; ref&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetTop
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;handleMouseUp&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setIsDragging&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;handleMouseMove&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; MouseEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isDragging &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; ref&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;buttons &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setPosition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      left&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientX &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; shift&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      top&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientY &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; shift&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 커서 위치에서, 햄버거의 왼쪽위 좌표를 빼주면 =&gt; shift
그럼 이제 left, top을 최신화할 때, shift를 빼줘서 보정해주면 됩니다&lt;/p&gt;
&lt;h2 id=&quot;터치로-드래그-앤-드롭하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%84%B0%EC%B9%98%EB%A1%9C-%EB%93%9C%EB%9E%98%EA%B7%B8-%EC%95%A4-%EB%93%9C%EB%A1%AD%ED%95%98%EA%B8%B0&quot; aria-label=&quot;터치로 드래그 앤 드롭하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;터치로 드래그 앤 드롭하기&lt;/h2&gt;
&lt;p&gt;클릭과 터치는 비슷해보이지만 은근 다릅니다&lt;br&gt;
생각해보면, 마우스는 항상 화면 위에 존재하는데 반해, 터치는 그렇지 않습니다&lt;br&gt;
터치는 여러 손가락에 의한 이벤트도 다뤄야 하고, 게다가 손가락은 점이 아니라 면이고, ..&lt;br&gt;
hover를 테스트할 때도, 크롬 개발자모드로 반응형 모드를 켜면 커서가 터치모드가 되어서&lt;br&gt;
커서를 올리는 것 만으로는 hover가 트리거되지 않는 것을 볼 수 있습니다&lt;/p&gt;
&lt;p&gt;이렇게 마우스 클릭과 화면 터치는 은근히 다르고 이벤트도 따로 존재합니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;touchstart, touchmove, touchend&lt;/code&gt;처럼요&lt;br&gt;
마우스 이벤트는 &lt;code class=&quot;language-text&quot;&gt;e.clientX&lt;/code&gt;처럼 바로 좌표값을 가져올 수 있었는데, 터치 이벤트는 그렇지 않습니다&lt;br&gt;
먼저 &lt;code class=&quot;language-text&quot;&gt;TouchEvent.touches[0]&lt;/code&gt;으로 &lt;code class=&quot;language-text&quot;&gt;Touch&lt;/code&gt;이벤트의 목록 중 가장 첫 번째를 가져옵니다.&lt;br&gt;
이제 여기서 &lt;code class=&quot;language-text&quot;&gt;clientX,Y&lt;/code&gt;를 꺼냅니다&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f6b8a097944ac229adfbfa7afff31768/3684f/image-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEmElEQVR42g2OSWwbVQBA/6z2eBvbM+NxvC8zdSZxnDpe48Qeb/USO4mXOrVdO7bTJnHlqEloQ5PWbakSmkKBblJbQQRqUQHBBQkkDohTuYF6Q3BDAiFx4IaEeiTS07u+B5RqTqp2ERpBpnFjqjFUPkpqPSTt1jJuinarKUGlFdS0oKRP4FobprGgSjOM6xBEQxAsYI1pqSWLW4uEo4wZSxA9R9oW9HxphKsYnYsmW5a1pPRcluGzSnuCMIVRnRdWjKKYQ6nkgYqOYyNJ3FKQWMpSS0ViLivtFcZZ0/HtY5u4JZu7YfLUaGdBpo/iOh+kGQcyHiMcGg0PpHScMOQl1orM1lA5W/TYOdrdozyrCm5NYmzIDEuk6TRlK2u4ityUkTMhhTaoID1q7ZiOEgCqz0sMZdzSkLnWSM8WGbqsnL0iDw7h0S3ceZ5ztZPedj2+lot0aXNWwc6ombBG66N1HpYZB4SpRFibqPM84tnEZt+WpB4QhY+g7BMkcov2vTHrHyzFB1uVvRutGzHvEkIdn4eklF+hm1LRk4DhS9oTLfnEBj59fWTh49WDnw6e/mLvfgMyj5Wh6xFxt18Z7rUOLtevV1OrCJPAmTilj6rYEEZNAcRck3ItwrstEQ/F7rd//fnf639f13ZegdQRHDyUT97kg3vB2d1oZM89uQ7pFhE2j+lEjImgdBBgtjrhaEs8A0y8Nd788vuXf//62z/zF3/G0s/wwB1o9Bof2JMbNoCsL1N3dM621FSUG7IqS05qEAFuKhL2s7LxPuTfkuceFDZ/vPn+K/fSCy53FEg9tJ7c7c3dWC68m4juz4tDA7dCWU8z9gXWWmQdGYAyadgwT7qa1Mk+Gx+K618M9n+YKN33xG/PiAdj02+dyd07OPf8ZudRKbWvt29brCsmx5KCSWn0MYCoRFibxvUFqaOpDm5Glo8WB59bY9ds01do77bdezUvvldffNqtPhb8+4jlEkz39M661ZFnzbMAUkRhMglTOWA4LR1dqaw/K/aOZELf6NtweAfxqav9zP2d1vN48hEbfIfxDUl+1eE5OzPTiMxWASQLw6SIsnOQpYFYG821o07nidJ61nHygn20lQhtri/e3WzeS8091QQeGhKPTcGLo962z1/2+QoAUQRw9hRqKVNc0+isuPhaI34pMLEuhK6EYpfCE72auH1140Wv/zUwb8LCZdi8TFmLU8GS318EiMwLq+MyXd7jLARP5DOB+pnMtobMMfZO98JnK427O2sfvjj6fanzCWDaqKmLGGqYcU5tP2VwZQGCuhHpjGkk4+Mz1elGJ31+UN7tZTc5ZzNVuevyrZUbD7769I/k/G3AVBDdIkynIU0cqKOAigIACzgRFrhsLlwtB6r1cG052WqJPZe9ap7syk0Fv7jzwZ2XucohzOQAk4I0MVg1cwxQBAEA43pdMjpZnuISAYfYmmlea7xZinUgLExaqjIqny0eDoffZRf2UTYHRjIQnYaVMVQdh8jjMhhRK+1mxjmi5wR+yu8KxidnE96EVM6jhABjvN4STWXO2bgEInfBagFR8hBuQ6VOhHD+DwGkDchWAUmRAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;뉴럴라이저&quot;
        title=&quot;&quot;
        src=&quot;/static/f6b8a097944ac229adfbfa7afff31768/3684f/image-10.png&quot;
        srcset=&quot;/static/f6b8a097944ac229adfbfa7afff31768/c26ae/image-10.png 158w,
/static/f6b8a097944ac229adfbfa7afff31768/3684f/image-10.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;영화 맨인블랙&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;근데 리액트를 사용하신다면 위 내용은 다 잊어두셔도 됩니다&lt;br&gt;
&lt;a href=&quot;https://ko.react.dev/reference/react-dom/components/common#react-event-object&quot;&gt;React 이벤트 객체&lt;/a&gt;가 알아서 추상화해주거든요. &quot;&lt;strong&gt;합성 이벤트&lt;/strong&gt;&quot;라고도 합니다&lt;br&gt;
예를 들어, &lt;code class=&quot;language-text&quot;&gt;onMouseDown&lt;/code&gt;에서 진짜 자바스크립트 이벤트인 &lt;code class=&quot;language-text&quot;&gt;mousedown&lt;/code&gt;은 &lt;code class=&quot;language-text&quot;&gt;e.nativeEvent&lt;/code&gt;에 들어있습니다&lt;br&gt;
이외에는 다 리액트 이벤트로 한 겹 래핑하여 제공됩니다.&lt;br&gt;
덕분에 &lt;code class=&quot;language-text&quot;&gt;TouchEvent&lt;/code&gt;든, &lt;code class=&quot;language-text&quot;&gt;MouseEvent&lt;/code&gt;든 상관 없이 &lt;code class=&quot;language-text&quot;&gt;e.clientX&lt;/code&gt;만으로 충분합니다&lt;/p&gt;
&lt;p&gt;그래서 아까 마우스 이벤트로 했던 것과 동일하게, &lt;code class=&quot;language-text&quot;&gt;onTouchStart={onMouseDown}&lt;/code&gt;처럼 재활용하면 됩니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;touchmove&lt;/code&gt;이벤트도 &lt;code class=&quot;language-text&quot;&gt;mousemove&lt;/code&gt;처럼 useEffect에서 &lt;code class=&quot;language-text&quot;&gt;document&lt;/code&gt;에 등록해주시구요.&lt;/p&gt;
&lt;h1 id=&quot;2-클릭-시-또는-가만히-서있다가-아무-때나-걷기를-시작합니다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-%ED%81%B4%EB%A6%AD-%EC%8B%9C-%EB%98%90%EB%8A%94-%EA%B0%80%EB%A7%8C%ED%9E%88-%EC%84%9C%EC%9E%88%EB%8B%A4%EA%B0%80-%EC%95%84%EB%AC%B4-%EB%95%8C%EB%82%98-%EA%B1%B7%EA%B8%B0%EB%A5%BC-%EC%8B%9C%EC%9E%91%ED%95%A9%EB%8B%88%EB%8B%A4&quot; aria-label=&quot;2 클릭 시 또는 가만히 서있다가 아무 때나 걷기를 시작합니다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. 클릭 시, 또는 가만히 서있다가 아무 때나 걷기를 시작합니다&lt;/h1&gt;
&lt;p&gt;지 혼자 움직이게끔 만들고 싶었어요&lt;br&gt;
그리고 또한 클릭하면 움직이게요. 건들면 도망간다는 느낌으로?&lt;br&gt;
그래서 먼저 &lt;code class=&quot;language-text&quot;&gt;startWalk&lt;/code&gt;라는 함수를 정의했습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;startWalk&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isWalking&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 화면 내 좌표 중 랜덤으로 targetX, targetY를 선정 (걸어가려는 목표지점)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setIsWalking&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setPose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;walking01&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setIsFlipped&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; targetX &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    animationFrameId&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;timestamp &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;animateWalk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;timestamp&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; targetX&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; targetY&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;움직이는 중이 아니라면 먼저 화면 내에서 아무 지점을 목표점으로 잡습니다.&lt;br&gt;
그 다음 이미지를 걷는 모션 프레임으로 바꾸고, 가려는 방향이 왼쪽이면 이미지를 뒤집습니다&lt;br&gt;
이제 비로소 애니메이션을 시작해야 하는데 :&lt;/p&gt;
&lt;h2 id=&quot;requestanimationframe으로-애니메이션-설정하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#requestanimationframe%EC%9C%BC%EB%A1%9C-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0&quot; aria-label=&quot;requestanimationframe으로 애니메이션 설정하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;requestAnimationFrame으로 애니메이션 설정하기&lt;/h2&gt;
&lt;p&gt;애니메이션은 &lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/API/Window/requestAnimationFrame&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;requestAnimationFrame&lt;/code&gt;&lt;/a&gt;으로 구현합니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;requestAnimationFrame&lt;/code&gt;은 첫 번째 인자로 콜백을 받습니다.&lt;br&gt;
자세히는, 브라우저에게 콜백을 넘기고, 다음 리페인트 바로 전에 브라우저가 이 콜백을 호출하도록 요청합니다.&lt;br&gt;
그리고 콜백함수는 &lt;code class=&quot;language-text&quot;&gt;timestamp&lt;/code&gt;라는 인수를 하나 받습니다. 이는 애니메이션이 요청된 이후의 timestamp입니다&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;requestAnimationFrame&lt;/code&gt;은 하나의 프레임을 요청합니다. 따라서 다음 리페인트에서 다음 애니메이션 프레임을 적용하려면 콜백 루틴이 스스로 &lt;code class=&quot;language-text&quot;&gt;requestAnimationFrame()&lt;/code&gt;을 다시 호출해야 합니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;그리고 이외에도 필요한 값들(목표 지점인 &lt;code class=&quot;language-text&quot;&gt;targetX, targetY&lt;/code&gt; 등.)을 인자로 넘겨 갖고다니겠습니다&lt;br&gt;
이제 매 애니메이션마다 targetX, targetY에 가까워지는 방향으로 움직이면 될 것 같아요&lt;/p&gt;
&lt;p&gt;그런데 의문이 있습니다&lt;br&gt;
왜 &lt;code class=&quot;language-text&quot;&gt;setInterval&lt;/code&gt;이 아닌 &lt;code class=&quot;language-text&quot;&gt;requestAnationFrame&lt;/code&gt;(이하 rAF)인가요?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;같은 비동기처리라도 rAF는 별도의 큐에서 관리되므로 콜백 실행이 밀리는 현상을 최소화할 수 있다&lt;/li&gt;
&lt;li&gt;setInterval은 주어진 간격을 지키려할 뿐 주사율에 관심이 없다. 그러나 rAF는 부드럽고 최적화된 애니메이션을 위해 디스플레이 주사율을 따른다&lt;/li&gt;
&lt;li&gt;setInterval과는 달리 rAF는 &lt;strong&gt;다음 리페인트가 준비되었을 때 콜백을 호출&lt;/strong&gt;하므로, 각 프레임 간격을 지키며 실행됨을 보장할 수 있다&lt;/li&gt;
&lt;li&gt;rAF는 탭이 비활성화되면 애니메이션을 중단해두므로 배터리와 리소스 소모를 최소화한다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9db96085870b7815ed5755cd16543e83/f2793/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSElEQVR42m1S226DMAzt//9UK1XV+lCpLy2kGahQLhELqFxKRkPCdoi3bp3mB3Ls+NjHDosPZ9ZaIcT5fH5zBneaJsQnZ/8C2IIOY0yvlFVKd50aBqSMxgxaz1fW3u93AnocAfClyKLvwVJw/NMp5Vwwtt1sRJLkUfSyWsmiSMNwu15XZRkytlku6+uVHw6vjM3kcUQPAyW3262qqlaILAjaslSg+X5f112aZpy/13VzuVwYm0Ecd1X1I9t+2wMDjE4kRWhO6xBNPpPpKIoiCAIpJVyt9RzE2FoTzRpD6iZrUfFR64sMmud5jDGsgNr+loAckCnoKtinbT+saZo8z2mZbdtC0YDlO2kw6zonSYLnfCKTBDz1brdDHnAURcCUB137/b7DQyoFABfgLxm/Ci4455gc+Hg8AmMWdAPOsgycOI7DMJRSfgK0NTlNV4y/KgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;requestAnimationFrame&quot;
        title=&quot;&quot;
        src=&quot;/static/9db96085870b7815ed5755cd16543e83/f058b/image-3.png&quot;
        srcset=&quot;/static/9db96085870b7815ed5755cd16543e83/c26ae/image-3.png 158w,
/static/9db96085870b7815ed5755cd16543e83/6bdcf/image-3.png 315w,
/static/9db96085870b7815ed5755cd16543e83/f058b/image-3.png 630w,
/static/9db96085870b7815ed5755cd16543e83/f2793/image-3.png 743w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;조잡하게 그려봤는데 딱히 도움이 될 것 같지는 않아 보입니다 ㅜㅜ&lt;/p&gt;
&lt;p&gt;아무튼 그래서 애니메이션 각 프레임에 전달할 콜백인 &lt;code class=&quot;language-text&quot;&gt;animateWalk&lt;/code&gt;를 이렇게 작성했습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;animateWalk&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    timestamp&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    targetX&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    targetY&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;startTimestamp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 걷기가 시작될 때의 타임스탬프를 기록 : elapsed 계산을 위함&lt;/span&gt;
      startTimestamp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; timestamp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; elapsed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; timestamp &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; startTimestamp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elapsed &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setIsWalking&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setPose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sitting&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;cancelAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;animationFrameId&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      animationFrameId&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      startTimestamp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 이미지를 바꿔 모션을 연출하기 }&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 매번 실행하니까 너무 빨라서 .. 10번에 한번씩만&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// targetX, targetY로 조금 이동하기&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 다음 애니메이션 프레임 요청&lt;/span&gt;
    animationFrameId&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;timestamp &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;animateWalk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;timestamp&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; targetX&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; targetY&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그런데 &lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/API/Window/requestAnimationFrame&quot;&gt;MDN 문서&lt;/a&gt;에서 이런 경고를 발견했습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 565px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/44bc466fd52b8697bff9c8a751008fab/07eba/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.848101265822784%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABD0lEQVR42j2OW26DMBREWQgEG4yQKmJCW2Li2DwMBJrEvPPRn3b/u+gFpEqjq/EZeTRGYCJqY9DxgEPkhtiltgMCTxFcZycnh2zQAUhXgt8s26iOnuZ5L7I744uq56LquHwmYswU3EEWvcgfyfW7uXfXVF/WCMxXfIkxMRj2nlwOaaG51CLtZa4hY1xDXSKaOGnPlzEvgfSy2Hkn8yFVjPgGc/wHFwWNhkzBt1nVncig7lW3S3nTPJ3WOTUYiKDlpxvnbWBkYYMhr40TGAlaimrKy0XdXuVtykpYOGXqtxvXNFWvsqlOn7HtnhFhiEQmMqiFT8h9d7xd0b/BBDjcD+JH2xMUHnBg2keQhQIL/QHPRk4E0AtT8QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;rAF 경고&quot;
        title=&quot;&quot;
        src=&quot;/static/44bc466fd52b8697bff9c8a751008fab/07eba/image-4.png&quot;
        srcset=&quot;/static/44bc466fd52b8697bff9c8a751008fab/c26ae/image-4.png 158w,
/static/44bc466fd52b8697bff9c8a751008fab/6bdcf/image-4.png 315w,
/static/44bc466fd52b8697bff9c8a751008fab/07eba/image-4.png 565w&quot;
        sizes=&quot;(max-width: 565px) 100vw, 565px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;저는 이동이 너무 빠르게 되는 것을 막고자 10프레임마다 한번씩 하려고 count값을 유지했습니다&lt;br&gt;
그런데 이것말고 &lt;code class=&quot;language-text&quot;&gt;timestamp&lt;/code&gt;를 기반으로 이를 구현해야 했겠네요&lt;br&gt;
저처럼 하면 주사율에 따라, 주사율이 높으면 그만큼 애니메이션 진행이 빨라진다고 경고하는 것입니다&lt;/p&gt;
&lt;p&gt;그럴만한게, 주사율이 초당 60번이면 1초 간 콜백이 60번 실행되고, 그 중 6회가 실제로 이동을 트리거하는 반면&lt;br&gt;
주사율이 촏아 120번이면, 1초 간 콜백이 120번 실행되고, 그 중 12회가 실제로 이동을 트리거합니다.&lt;br&gt;
그럼 같은 애니메이션이지만 디스플레이 주사율 차이로 인해 이동 애니메이션의 속도가 2배 차이가 나겠네요&lt;/p&gt;
&lt;p&gt;그리고 맨 처음에 &lt;code class=&quot;language-text&quot;&gt;startTimestamp&lt;/code&gt;라는 참조값에 &lt;code class=&quot;language-text&quot;&gt;timestamp&lt;/code&gt;를 저장하고, 애니메이션이 끝날 때 이를 삭제해주는데요&lt;br&gt;
이는 &lt;strong&gt;애니메이션이 시작된 후로 지난 시간&lt;/strong&gt;(elapsedTime)을 계산하기 위함입니다&lt;br&gt;
이게 가장 최초로 rAF를 호출할 때는 timestamp가 0부터 시작하는데,&lt;br&gt;
그 후로는 다시는 timestamp가 0이 되지 않습니다 (애니메이션이 끝날 때 &lt;code class=&quot;language-text&quot;&gt;cancelAnmationFrame&lt;/code&gt;을 호출해도)&lt;br&gt;
따라서 이러한 값을 유지해줘야합니다&lt;br&gt;
MDN 문서에서도 예제에 아래와 같이 썼습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;timestamp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;start &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    start &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; timestamp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; elapsed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; timestamp &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; start&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elapsed &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 애니메이션 진행은 2초가 지나기 전까지만&lt;/span&gt;
    window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;step&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;랜덤으로-애니메이션을-시작하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%9E%9C%EB%8D%A4%EC%9C%BC%EB%A1%9C-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98%EC%9D%84-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0&quot; aria-label=&quot;랜덤으로 애니메이션을 시작하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;랜덤으로 애니메이션을 시작하기&lt;/h2&gt;
&lt;p&gt;useEffect를 사용하여 마운트 시 일정 간격마다 랜덤 숫자를 뽑는 interval을 설정합시다.&lt;br&gt;
이 랜덤 숫자를 이용하여 분기처리하여 확률을 정의합니다.
예를 들어, 매 초 랜덤을 뽑고 10퍼센트 확률로 애니메이션을 트리거하게 하려면 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; intervalId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// walking 중이 아니고, dragging 중이 아닐 때 10% 확률로 walking 시작&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isWalking &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isDragging &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;startWalk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 2초마다 확률 체크&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;clearInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;intervalId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 컴포넌트 언마운트 시 interval 정리&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isWalking&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; isDragging&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// isWalking, isDragging 상태에 의존&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 2초마다 10% 확률로 걷는 모션을 시작하게 설정할 수 있습니다.&lt;/p&gt;
&lt;h2 id=&quot;onclick이벤트로-startwalk를-등록하되-드래그했으면-트리거하지-않기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#onclick%EC%9D%B4%EB%B2%A4%ED%8A%B8%EB%A1%9C-startwalk%EB%A5%BC-%EB%93%B1%EB%A1%9D%ED%95%98%EB%90%98-%EB%93%9C%EB%9E%98%EA%B7%B8%ED%96%88%EC%9C%BC%EB%A9%B4-%ED%8A%B8%EB%A6%AC%EA%B1%B0%ED%95%98%EC%A7%80-%EC%95%8A%EA%B8%B0&quot; aria-label=&quot;onclick이벤트로 startwalk를 등록하되 드래그했으면 트리거하지 않기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;onClick이벤트로 &lt;code class=&quot;language-text&quot;&gt;startWalk&lt;/code&gt;를 등록하되 드래그했으면 트리거하지 않기&lt;/h2&gt;
&lt;p&gt;그리고 클릭 시에도 걷기 모션을 트리거하기로 했으니까, 간단히 &lt;code class=&quot;language-text&quot;&gt;onClick={startWalk}&lt;/code&gt;와 같이 설정해주면 됩니다&lt;/p&gt;
&lt;p&gt;그런데 문제가 있어요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;mousedown&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;mouseup&lt;/code&gt;이 트리거되면 그 후에는 &lt;code class=&quot;language-text&quot;&gt;click&lt;/code&gt;이벤트가 트리거돼요&lt;br&gt;
순서가 &lt;code class=&quot;language-text&quot;&gt;mousedown&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;mouseup&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;click&lt;/code&gt; 순으로 트리거되는 셈입니다&lt;br&gt;
이는 &lt;code class=&quot;language-text&quot;&gt;mousedown&lt;/code&gt; 이후에 &lt;code class=&quot;language-text&quot;&gt;mousemove&lt;/code&gt;가 트리거되는 드래그 상황에도 똑같아요&lt;br&gt;
이 때문에, 드래그(햄부기를 잡고 옮김)후에도 마우스 클릭 이벤트가 트리거되어서 걷기 모션을 시작해버립니다.&lt;/p&gt;
&lt;p&gt;그래서 &lt;code class=&quot;language-text&quot;&gt;dragged&lt;/code&gt;값을 하나 유지하고, &lt;code class=&quot;language-text&quot;&gt;mousemove&lt;/code&gt; 이벤트핸들러에서 햄부기의 위치가 변할 때 true로 이 값을 &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;로 변경해주도록 했습니다&lt;br&gt;
그리고 &lt;code class=&quot;language-text&quot;&gt;mousedown&lt;/code&gt; 이벤트에서 이 &lt;code class=&quot;language-text&quot;&gt;dragged&lt;/code&gt;값을 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;로 변경하구요&lt;br&gt;
이제 &lt;code class=&quot;language-text&quot;&gt;startWalk()&lt;/code&gt;함수에서는 이 &lt;code class=&quot;language-text&quot;&gt;dragged&lt;/code&gt;값이 true면 걷기를 시작하지 않도록 합니다.&lt;/p&gt;
&lt;p&gt;음 근데 이렇게만 하면 드래그 후에 다시는 랜덤으로 걷기 모션이 시작되지 않아요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;dragged&lt;/code&gt;가 true로 남기 때문인데요&lt;br&gt;
그래서 아래와 같이 최종적으로 수정했습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; startWalk &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;method&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;click&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;auto&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;method &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;click&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; dragged&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; isWalking&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//걷기모션 시작&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;걷기 모션이 트리거된 사유를 인자로 받습니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;click&lt;/code&gt;에 의한 것이라면, dragged여부를 확인하도록이요&lt;br&gt;
이러면 이제 드래그 이후에도 걷기 모션이 시작되는 일을 막을 수 있습니다&lt;/p&gt;
&lt;h1 id=&quot;3-말풍선으로-감정을-표현합니다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-%EB%A7%90%ED%92%8D%EC%84%A0%EC%9C%BC%EB%A1%9C-%EA%B0%90%EC%A0%95%EC%9D%84-%ED%91%9C%ED%98%84%ED%95%A9%EB%8B%88%EB%8B%A4&quot; aria-label=&quot;3 말풍선으로 감정을 표현합니다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. 말풍선으로 감정을 표현합니다&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 124px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9aa17303a4fb6740179a0d917a701086/d6e54/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 94.35483870967741%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAACbklEQVR42qVTS2sTURi9P8RlN63tQlRwpUXBblrSatpoGougRRAfi6KCVPAPCCq04qpSRGtNYkWswRhcugjSEGxak0yeM3k1aTIzd155epKLIa+F4OFwufd73POdOwxRpFI/qVhU5ZKhSDoVqXg4sAYkAzs1KoolMcFn0pmcoWn/2oxOXZEO83nX5tqX1YcfVx798GwrlA5uRnUnFbFYKpW2158lXi+qjkXRfmPn6fT3rTeGrsvFQk8xMVTapq7ItbKWFYT71tl3y2bHsunJLZv0fOLt46Vao2FQsazSTpJ4JNxmlAtm+eQnz+cLlpNrt8+8vDu+cn18yXrs8s2pwK9AIsZFuVAsEm6TzHdjwWabMpvPHh9+ZR1avzp079SRBwsn7lw7Z5qxXLFZ561dJLO9MM9ZLplOn58eG50ZG5kZPjoxMnpxcnLOYpk1m3tKiaMPdmDLueH4sGF3gJtO53t7K9gH0vgPkFqtVq/X+xOVSmV/f5/n+YFttRaayvl8PhqNJroRDocVRcnlchzHJZPJzlQsFlNVtaksy7Lf7z84OMhkMtkWsEmn0+hkIsViMdMCy+I6QRACgUBTOZfNQgRFbPi2BYxdrVaZqU5fbL+7uwtxIuDbcxyzgepQKASfMBKPx0VRRBxq3F/giBqswWCQF1LkxerK3t4eu1WSJK/Xiwk9Hk+5XMbwbrcbpqDjcrmQajfjIu/PHfLtqwuvyuaBeCQSwRX4NxApFArwhqOu6z6fD0/FBsQKvWSSJ1SWkUCF0gKlFGZQjY1hGNDBXm2BZTVNS6VSbNjmp0IIVn93ALOwlaEniOeAqUaj8Qdr+bKRjPzBhQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;말풍선&quot;
        title=&quot;&quot;
        src=&quot;/static/9aa17303a4fb6740179a0d917a701086/d6e54/image-2.png&quot;
        srcset=&quot;/static/9aa17303a4fb6740179a0d917a701086/d6e54/image-2.png 124w&quot;
        sizes=&quot;(max-width: 124px) 100vw, 124px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;랜덤으로 또는 마우스 호버 시 말풍선을 띄웁니다.&lt;br&gt;
말풍선 내부 감정표현은 랜덤으로 바뀌어요&lt;br&gt;
드래그 시에는 당황한 표정을 짓습니다 ㅋㅋㅋ&lt;/p&gt;
&lt;p&gt;이거는 딱히 사실 설명할게 없긴한데요&lt;br&gt;
아까 걷는 모션을 랜덤으로 시작하게 interval을 설정했던 것처럼&lt;br&gt;
가끔 2초 간 말풍선을 띄우게 했습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; timeoutId&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; NodeJS&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Timeout &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; intervalId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;tooltipVisible &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setTooltipVisible&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setEmotionIndex&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; emotions&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      timeoutId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;setTooltipVisible&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 2초마다 확률 체크&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;clearInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;intervalId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;timeoutId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;clearTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;timeoutId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 컴포넌트 언마운트 시 interval 정리&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그리고 랜덤으로 말풍선을 띄우는 타이밍에, 말풍선 내용물도 바꿉니다.(&lt;code class=&quot;language-text&quot;&gt;emotionIndex&lt;/code&gt;)&lt;/p&gt;
&lt;h1 id=&quot;크롬-확장프로그램으로-만들려고-하는데요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%81%AC%EB%A1%AC-%ED%99%95%EC%9E%A5%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8%EC%9C%BC%EB%A1%9C-%EB%A7%8C%EB%93%A4%EB%A0%A4%EA%B3%A0-%ED%95%98%EB%8A%94%EB%8D%B0%EC%9A%94&quot; aria-label=&quot;크롬 확장프로그램으로 만들려고 하는데요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;크롬 확장프로그램으로 만들려고 하는데요..&lt;/h1&gt;
&lt;p&gt;이제 이 리액트 코드로 작성된 햄부기를 크롬 확장 프로그램으로 만들고 싶습니다&lt;br&gt;
다만 그러면 리액트 코드 그대로 쓸 수는 없겠고 자바스크립트를 사용해야 합니다&lt;br&gt;
리액트로 코드를 작성하고 자바스크립트로 변환을 거쳐도 되지만,&lt;br&gt;
이왕 하는거 그냥 같은 기능을 하는 자바스크립트 코드로 바꿔버렸습니다&lt;br&gt;
변환은 그냥 지피티 시켰습니다&lt;/p&gt;
&lt;p&gt;그리고 혹시 아예 나중에 인스턴스를 여럿 끼울 수도 있어서 클래스로 만들었어요&lt;br&gt;
부기를 화면에 둘, 셋, 넷, ... 추가하고 싶을 수도요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Bugi&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isWaling &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 각종 변수들..&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 햄부기 요소를 만들고, 이벤트리스너를 추가하고, 랜덤 모션을 추가&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElements&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListeners&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setupAutoWalk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setupTooltip&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;createElements&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;img &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;img&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 햄부기 이미지 초기세팅..&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tooltip &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 말풍선 초기세팅..&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;addEventListeners&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;mousedown&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;handleMouseDown&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;mousemove&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;handleMouseMove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 이외 필요한 이벤트리스너들 모두 등록&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/*
  이벤트핸들러들을 정의하고, 이외 유틸함수들을 작성하기
  */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; bugi &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Bugi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대충 쓰면 이런 식으로 나옵니다&lt;/p&gt;
&lt;h2 id=&quot;크롬-확장프로그램-개발-세팅하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%81%AC%EB%A1%AC-%ED%99%95%EC%9E%A5%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EA%B0%9C%EB%B0%9C-%EC%84%B8%ED%8C%85%ED%95%98%EA%B8%B0&quot; aria-label=&quot;크롬 확장프로그램 개발 세팅하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;크롬 확장프로그램 개발 세팅하기&lt;/h2&gt;
&lt;p&gt;이제 이 코드를 다듬기 전에 먼저 크롬 확장프로그램을 어떻게 만드는지 필요한만큼만 이해해봅시다&lt;br&gt;
&lt;a href=&quot;https://support.google.com/chrome/a/answer/2714278?hl=ko&quot;&gt;크롬 확장프로그램 시작하기 가이드&lt;/a&gt;를 보며 시작하면 됩니다&lt;/p&gt;
&lt;h3 id=&quot;manifest-파일-정의하고-개발자모드에서-프로그램을-추가하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#manifest-%ED%8C%8C%EC%9D%BC-%EC%A0%95%EC%9D%98%ED%95%98%EA%B3%A0-%EA%B0%9C%EB%B0%9C%EC%9E%90%EB%AA%A8%EB%93%9C%EC%97%90%EC%84%9C-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8%EC%9D%84-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0&quot; aria-label=&quot;manifest 파일 정의하고 개발자모드에서 프로그램을 추가하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;manifest 파일 정의하고, 개발자모드에서 프로그램을 추가하기&lt;/h3&gt;
&lt;p&gt;제일 먼저 &lt;code class=&quot;language-text&quot;&gt;manifest.json&lt;/code&gt;이 필요해요&lt;br&gt;
package.json처럼 프로젝트를 정의하는 문서입니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;manifest_version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Bugi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1.0.0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;permissions&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;activeTab&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;scripting&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;content_scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;default_icon&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;images/logo.png&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;background&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;service_worker&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;scripting.js&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;manifest_version&lt;/code&gt;은 2 또는 3을 쓰는데 버전별로 명세가 다릅니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;version&lt;/code&gt;은 각각 확장프로그램의 이름과 버전이 됩니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;permissions&lt;/code&gt;에서는 프로그램이 사용하는 권한을 명시해요. &lt;code class=&quot;language-text&quot;&gt;activeTab&lt;/code&gt;은 현재 활성 탭에 대한 접근을, &lt;code class=&quot;language-text&quot;&gt;scripting&lt;/code&gt;은 &lt;code class=&quot;language-text&quot;&gt;executeScript()&lt;/code&gt;에 대한 권한입니다&lt;br&gt;
우리는 자바스크립트를 실행할거라서 &lt;code class=&quot;language-text&quot;&gt;scripting&lt;/code&gt;권한이 필요해요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;default_icon&lt;/code&gt; 프로퍼티는 확장프로그램의 아이콘입니다&lt;/p&gt;
&lt;p&gt;이제 우리가 할 일로는 가장 중요한게 &lt;code class=&quot;language-text&quot;&gt;&quot;background&quot;: {&quot;service_worker&quot;: &quot;scripting.js&quot;}&lt;/code&gt;입니다&lt;br&gt;
이 &lt;a href=&quot;https://developer.chrome.com/docs/extensions/reference/manifest/background?hl=ko&quot;&gt;백그라운드 메니페스트&lt;/a&gt;는 자바스크립트 파일을 서비스 워커로 지정하게 합니다.&lt;br&gt;
이 자바스크립트 파일을 어떻게 정의하는지는 아래에서 봅시다&lt;/p&gt;
&lt;p&gt;아무튼 일단 &lt;code class=&quot;language-text&quot;&gt;manifest.json&lt;/code&gt;을 만들었으면 개발을 위해 크롬 익스텐션 개발자모드로 이동합시다
크롬 주소창에 &lt;code class=&quot;language-text&quot;&gt;chrome://extensions&lt;/code&gt;를 입력하고,&lt;br&gt;
오른쪽 상단의 &quot;개발자 모드&quot;를 켭니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/97917ab10d951818d683997795dc553f/31493/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 35.44303797468354%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA80lEQVR42q2QW0vDQBSE8zts09zvsaktVmtqjEWflOIltFTwQl/Ud+kvKP7tz56FlRYEEXwYmJ0zZ3Z2Ddvx6VguadZleDRSXDTL9gijlDjJCcJEcdcL8YMYz4/Qe0Wvz+TiUu36QYThuAFmx6Ecn/H49EyS7qsw0a6up3ysVry+vTNfPFCfT5jNF0xvbsnyglbb4mW5ZP255n7WMDweYchNGkVvoIy6pTQrxxUnZUUUZ6R5l4PBIf0N5Nw27c3slLumoaprpe0ESisdpp+917JUE+EyE48EaV/bdL73xLMT+BPkSwTbXJ+1tu3/NfCv+PfALwIyzygqX+3zAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;개발자모드 켜기&quot;
        title=&quot;&quot;
        src=&quot;/static/97917ab10d951818d683997795dc553f/f058b/image-5.png&quot;
        srcset=&quot;/static/97917ab10d951818d683997795dc553f/c26ae/image-5.png 158w,
/static/97917ab10d951818d683997795dc553f/6bdcf/image-5.png 315w,
/static/97917ab10d951818d683997795dc553f/f058b/image-5.png 630w,
/static/97917ab10d951818d683997795dc553f/31493/image-5.png 664w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그럼 이제 상단에 *&quot;압축 해제된 확장프로그램을 로드합니다&quot;*라는 버튼이 생기는데,&lt;br&gt;
이걸 클릭해서 폴더를 선택해줍시다&lt;/p&gt;
&lt;h3 id=&quot;활성-탭에-스크립트-삽입하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%99%9C%EC%84%B1-%ED%83%AD%EC%97%90-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%82%BD%EC%9E%85%ED%95%98%EA%B8%B0&quot; aria-label=&quot;활성 탭에 스크립트 삽입하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;활성 탭에 스크립트 삽입하기&lt;/h3&gt;
&lt;p&gt;이제 서비스 워커로 지정한 &lt;code class=&quot;language-text&quot;&gt;scripting.js&lt;/code&gt; 파일을 작성할건데요&lt;br&gt;
&lt;a href=&quot;https://developer.chrome.com/docs/extensions/get-started/tutorial/scripts-activetab?hl=ko&quot;&gt;활성 탭에 스크립트 삽입하기&lt;/a&gt; 문서를 참고합시다&lt;br&gt;
주의할 점은, &lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;default_popup&lt;/code&gt;이 있을 때는 &lt;code class=&quot;language-text&quot;&gt;background&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;service_worker&lt;/code&gt;를 사용할 수 없습니다&lt;br&gt;
크롬 익스텐션 튜토리얼에서 &lt;code class=&quot;language-text&quot;&gt;default_popup&lt;/code&gt;예제를 보여주는데 만약 이걸 따라했었다면 이건 지워줍시다&lt;/p&gt;
&lt;p&gt;아무튼 &lt;code class=&quot;language-text&quot;&gt;scripting.js&lt;/code&gt; 파일에 &lt;code class=&quot;language-text&quot;&gt;chrome.action.onClicked.addListener()&lt;/code&gt;와 같이 이벤트핸들러를 추가해줍시다&lt;br&gt;
이는 확장프로그램 아이콘이 클릭될 때 트리거될 것이고&lt;br&gt;
첫 번째 인자로 &lt;code class=&quot;language-text&quot;&gt;tab&lt;/code&gt;을 받는데 이는 현재 탭 정보입니다&lt;/p&gt;
&lt;p&gt;저는 일단 아래처럼, 익스텐션이 ON 또는 OFF일 때 라벨을 추가하게 하고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;mountBugi&lt;/code&gt;라는 임시 함수를 &lt;code class=&quot;language-text&quot;&gt;executeScript&lt;/code&gt;로 실행하게 하겠습니다&lt;br&gt;
이는 그냥 간단한 HTML요소를 추가하여 우리의 햄부기를 잘 마운트할 수 있는지를 체크하려는 함수입니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;chrome&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;action&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;onClicked&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;tab&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; prevState &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; chrome&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;action&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBadgeText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;tabId&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tab&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; nextState &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; prevState &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ON&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;OFF&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ON&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Set the action badge to the next state&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; chrome&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;action&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setBadgeText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;tabId&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tab&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; nextState
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  chrome&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scripting
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;tabId&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tab&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; mountBugi
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Bugi injected&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Failed to inject bugi:&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mountBugi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 임시 HTML요소와 CSS 스타일 추가 : 화면 중앙 50%를 채우는 반투명 div&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;스크립트를 실행하려면 &lt;code class=&quot;language-text&quot;&gt;chrome.scripting.executeScript({target, function or file})&lt;/code&gt;를 호출합니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;target&lt;/code&gt;은 스크립트를 실행할 대상 탭인데, &lt;code class=&quot;language-text&quot;&gt;tab.id&lt;/code&gt;로 현재 탭을 대상으로 해줍니다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;function&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;file&lt;/code&gt;을 추가합니다. 지금처럼 &lt;code class=&quot;language-text&quot;&gt;function&lt;/code&gt;을 넘겨도 되고, 특정 &lt;code class=&quot;language-text&quot;&gt;file&lt;/code&gt;을 넘겨도 되지만 둘 다는 안됩니다. 하나만 해야함&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이제 개발자모드에서 익스텐션을 리로드하고, 익스텐션 아이콘을 클릭하여 실행하면 아래와 같이 나옵니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/dec2f3d75663945b1ea634cb079dc852/2c5fd/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 148.1012658227848%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFC0lEQVR42nVW+U8bVxD2/9srGB+YGEjI0fwLlSpVPRL1UJKmKQQSqVEkKuWHQBGlHLbXa6+99+H1etcn5uvMmDUkIZY+z9v33szOPZtRVRUnNQUHr7eg/PM3Gi0djYaKZrNJtDGHYRiwLAumacJxHFQqFdTrdRwfH6NtWKioBlETmcFggF7cx4G6h8ivYDiaIkkSxISo10MYdhB0OphMJuDf+fm50F4cI4p68oLJFOgOIDTT7UbQNA2GaaAThqSZRho1mRVXfywoxXQ6na8vXzJ7zvRIC4VUb7VacF0X1WoNilJ/73K6vu734VnmUxendJHNZG3OCExlfzp7AZ+Nx+PZ+dmZQDSMyBdVtYG61kLbtKCoTXpuotXWodRqaLfbqBHloDSbDUFDnQWpUq2SZW2B7/vgeGSSJKYNEtDShJlNN/Q2nLAPOwa8BGh3gWR8DqMH6G4Ine5pdM8jISZFXteNS5OjZATFCKEaHbTtLk4bDrb/2sHWq9fY3HqFF9svsbX9ivASGy8Imy/w7Nkf2N7eFs1rikJBbUlKiUC/E+JU0aAZLoaTc5hOgGKpjGx2EflcDrkLLBLyOdrL55BdXMTy8rLk53A4ElMZInA8HiGOe2Aq+UVRf/Dga9y6dQvr6+u4ffv2FawL+Ozu3buwbfujSGdGFKkoigTD4VDovXv3sLKygrW1tWuxuroqL+OknkV+eikwCAIpI1afncxVcv/+fWFkrVibFKmmvL5z587cb+9pOKZ86iV9xP2+mNukqmEN8vk8CoUCSqUSlpaWBOleSk9OTsQim2qbrROBXG6HRyeoKqqU3eHhIQUhj4WFBWIqCuM8MIs5EcZr3j86OqZa71KFOeiTQiKQJXu+B8d24LmedBmOIPuQzWIT2V8peI8p+/naoHBXcRwXnueBG4Wu61gjH2VFmwKKRUaRtFucm5vNZsUFbDLzWpZJvN2ZwIT853k+lU4g/uBqYR+ywCIxsQ9Z46WLdbE482W5XKYmoggPB5aDKQLTYmea5iGbw0KvSxmO8CpnAJmdRnk0GhNGlMsTZEJqkl1CSObG/YF03ZXVNRRIk6XS8rUoLpVws7xCgawLz7u9fRydnEKn5pKxfOqHZgTV6qFleXRQQS5fxFc3FkRogZiZFj8hMBkM0SFlur1YILWsWw5sL4AfRmhobZRXVlFavonlm2WhH4KF8p3ahUCxMhXoBh20yMwatf06CXu3f4DPvvgSnxMWqEFwcD7EjYUsWVFAhYbbRwIj+ksoKVu6if9Oq6hQgj9++ju++fY7PPrlV/z2+Al+ePgI3//0ED8++hlPnj7D8z838HxjE4ZlS5W9J5D/ojiB5foizCHTe+RoPXCgBTQ2Q5eaLU0+ckdM2gw4mpMzjAhxMpgLutSQhAVUPhpp6FIu+kEIj9zgUG6alLQ2UV47gQ87oIrqzKjp0xlVWHAlICKQ1WXopo0mtXLb9UVLjdbNtiFzhqlO9araOnTPQcPRKSta0GxWooNUBkP64YgSks0QU+iZ6eRsCu5Ek7Mra96/iot95me+Ibkjw+OQs3xETYIpj0Om3DR4TKbtfSwvHkvLZ0a+M6BgpneZzgc9D5kmwSTzuINwx6nTNw9/wygXQ8gmf2qUXmw+p5lLzeT0tCITjycg9wB+aYYnF3fsf6m37e3v4+3bt3jz5g12dnawu7srH0T8QVVTajLlFMo9ntf8Ij5LaY32q9Uq/gdkkRWBvztW4AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;임시 scripting&quot;
        title=&quot;&quot;
        src=&quot;/static/dec2f3d75663945b1ea634cb079dc852/f058b/image-6.png&quot;
        srcset=&quot;/static/dec2f3d75663945b1ea634cb079dc852/c26ae/image-6.png 158w,
/static/dec2f3d75663945b1ea634cb079dc852/6bdcf/image-6.png 315w,
/static/dec2f3d75663945b1ea634cb079dc852/f058b/image-6.png 630w,
/static/dec2f3d75663945b1ea634cb079dc852/40601/image-6.png 945w,
/static/dec2f3d75663945b1ea634cb079dc852/2c5fd/image-6.png 1006w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;화면에 반투명 div 영역을 채웠습니다&lt;br&gt;
이게 되는거면 당연히 bugi도 추가할 수 있습니다&lt;br&gt;
다만 &lt;code class=&quot;language-text&quot;&gt;function&lt;/code&gt;을 실행하는게 아닌 &lt;code class=&quot;language-text&quot;&gt;file: bugi.js&lt;/code&gt;와 같이 파일을 실행하게 하겠습니다&lt;br&gt;
이제 우리는 &lt;code class=&quot;language-text&quot;&gt;bugi.js&lt;/code&gt;를 잘 다듬어서 동작하게 만드는게 목표입니다&lt;/p&gt;
&lt;h3 id=&quot;이미지-가져오려면&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EB%AF%B8%EC%A7%80-%EA%B0%80%EC%A0%B8%EC%98%A4%EB%A0%A4%EB%A9%B4&quot; aria-label=&quot;이미지 가져오려면 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이미지 가져오려면&lt;/h3&gt;
&lt;p&gt;이미지를 그냥 &lt;code class=&quot;language-text&quot;&gt;require(&apos;images/bugi.png&apos;)&lt;/code&gt; 이런식으로 가져올 수는 없습니다&lt;br&gt;
대신 크롬 런타임에서 가져오도록 해야하는데요&lt;br&gt;
먼저 manifest에 &lt;code class=&quot;language-text&quot;&gt;web_accessible_resources&lt;/code&gt;를 설정합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;...
&lt;span class=&quot;token property&quot;&gt;&quot;web_accessible_resources&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;resources&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;*.png&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;matches&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;all_urls&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 하여 런타임에 액세스 가능한 리소스를 명시해주고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;bugi.js&lt;/code&gt;에서 이미지에 접근할 때는 &lt;code class=&quot;language-text&quot;&gt;chrome.runtime.getURL&lt;/code&gt;로 가져옵니다.&lt;br&gt;
아래처럼요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;assets &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;sitting&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; chrome&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;runtime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;images/bugi/sitting.png&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;standing&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; chrome&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;runtime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;images/bugi/standing.png&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;walking01&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; chrome&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;runtime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;images/bugi/walking00.png&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;walking02&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; chrome&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;runtime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;images/bugi/walking01.png&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;walking03&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; chrome&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;runtime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;images/bugi/walking02.png&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;한 번에 갖고있고자 Bugi클래스 내에 이렇게 asset으로 저장했습니다&lt;br&gt;
그리고 밑에서 살펴보겠지만, 변수가 중복으로 선언되는 문제가 발생해서 그렇기도 합니다&lt;/p&gt;
&lt;h2 id=&quot;익스텐션-끌-때는-스크립트를-제거하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B5%EC%8A%A4%ED%85%90%EC%85%98-%EB%81%8C-%EB%95%8C%EB%8A%94-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%A5%BC-%EC%A0%9C%EA%B1%B0%ED%95%98%EA%B8%B0&quot; aria-label=&quot;익스텐션 끌 때는 스크립트를 제거하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;익스텐션 끌 때는 스크립트를 제거하기&lt;/h2&gt;
&lt;p&gt;익스텐션을 끌 때는 응당 햄부기가 사라져줘야합니다&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/88ee549296de077f252290d5c2892eea/f7616/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 57.59493670886076%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIElEQVR42m3P22/SYBgG8CJOYjzELEMEObaDAqWlB3oAUijtB18ppbQwYATZxkDZxG0eYgzRa733YomJuzLe+FeKy7awyJvv4r34fnmeF/F4PG632xvwYwThDYRSDJdiuThN/XsMjbMMSqXJOJZK42g2+Szs37i7ce96EMTlQhDk8ebmVuB5BE9m5UJS4hI8TRZ5tpjjeJIhE1wSy6RRlEC9IR/y/9x/+CCMbzMlQVSEgsyWi7QmEhpPAJECfEbJEXkK58l4JOJffnbdMNdlss/7xNDEliY5MteUeVXTdtvNTgPUC6RRpGtiVhVIjV/GB5GrrisYD/nGemEICwMgvZofn37/sbj4tTj/2TWrhkjpEg0lCopkNh65he9crgQWft2r75vlUaN00LPff/325fefD+cX1uhlmaYMkYY8ZUg0i8fWYDIenfeNsVU5tNQhEA9a0NrpBxP0o63o0wCqMFQjz5h5jsOxNTgdC87bcGaDmQOmLbAH5TqfjUYSaQwH7FKyBk+18iyPozeXrtSOhc96jXm7duxUZ7Y2NbV9XXlRLQ1BsVcSdpV8z9RtCOir5Ns4m0A/juw3Hf2ko88deOTAmVWdmmBQyc+H3XeLz2rdqKgqgcbWYAbHPo2c0279rGu87ZtnPfNkpzGz4bLCxNJNy5IyxEAWiunttbVDR3btsKFOm2BigkmzNm5WxxbcM7QRVOo52hBYRxa4eHQV/wU9Wn6SBJzxeAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;없어져볼게&quot;
        title=&quot;&quot;
        src=&quot;/static/88ee549296de077f252290d5c2892eea/f058b/image-11.png&quot;
        srcset=&quot;/static/88ee549296de077f252290d5c2892eea/c26ae/image-11.png 158w,
/static/88ee549296de077f252290d5c2892eea/6bdcf/image-11.png 315w,
/static/88ee549296de077f252290d5c2892eea/f058b/image-11.png 630w,
/static/88ee549296de077f252290d5c2892eea/f7616/image-11.png 766w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;내가 없어져볼게&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;근데 우리는 각종 이벤트리스너도 추가했기도 하고, 정리를 위해 작성할 코드가 좀 됩니다&lt;br&gt;
따라서 Bugi클래스에 아래와 같이 &lt;code class=&quot;language-text&quot;&gt;destroy&lt;/code&gt;함수를 추가했습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;_destroy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// DOM에서 요소들을 제거&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;img&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tooltip&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tooltip&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 이벤트 리스너 제거&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;mousemove&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handleMouseMove&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//등등&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// interval 제거&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;clearInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;autoWalkInterval&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;clearInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tooltipInterval&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 애니메이션 중지&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;cancelAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;walkRAF&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;scripting.js&lt;/code&gt;에서는 off될 때 이 함수만 호출하면 됩니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// scripting.js에서, chrome.aciton.onClicked.addEventListener 내부&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextState &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;OFF&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Remove the Bugi element&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; chrome&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scripting&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;tabId&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tab&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function-variable function&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      bugi&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;_destroy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  chrome&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scripting&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;insertCSS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;tabId&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tab&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;bugi.css&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  chrome&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scripting&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;tabId&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tab&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;bugi.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;OFF로 넘어가는 경우에는 이렇게 파괴함수를 호출합니다.&lt;/p&gt;
&lt;h2 id=&quot;익스텐션을-껐다-켜면-스코프에-변수들이-중복으로-생성되는-오류가-발생해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B5%EC%8A%A4%ED%85%90%EC%85%98%EC%9D%84-%EA%BB%90%EB%8B%A4-%EC%BC%9C%EB%A9%B4-%EC%8A%A4%EC%BD%94%ED%94%84%EC%97%90-%EB%B3%80%EC%88%98%EB%93%A4%EC%9D%B4-%EC%A4%91%EB%B3%B5%EC%9C%BC%EB%A1%9C-%EC%83%9D%EC%84%B1%EB%90%98%EB%8A%94-%EC%98%A4%EB%A5%98%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%B4%EC%9A%94&quot; aria-label=&quot;익스텐션을 껐다 켜면 스코프에 변수들이 중복으로 생성되는 오류가 발생해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;익스텐션을 껐다 켜면 스코프에 변수들이 중복으로 생성되는 오류가 발생해요&lt;/h2&gt;
&lt;p&gt;일단 OFF 시 bugi 인스턴스 내부를 정리하긴 했습니다&lt;br&gt;
근데 bugi 변수 자체는 남아있는데요&lt;br&gt;
이제 다시 ON으로 켜면 &lt;code class=&quot;language-text&quot;&gt;const bugi = new Bugi()&lt;/code&gt;를 실행하려 하기 때문에&lt;br&gt;
bugi라는 변수가 중복으로 생성되어 오류가 발생합니다&lt;br&gt;
그리고 &lt;code class=&quot;language-text&quot;&gt;class Bugi&lt;/code&gt;도 마찬가지인데 똑같은 Bugi라는 이름의 클래스가 또 생겨버려요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 256px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/688ed32b958ce9c8611522263fb3d857/6f3f2/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.21518987341771%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGElEQVR42q1SDWuDMBDt//9jMhFdZZv7UCdO1JmaNuarJjHbqS2WDVbKfBzh3XEveUdu8/UPbNYUW2tvFg/DYIwZJthrWMRzUlWV4zhhGGZZFgQBnK7rxnH8t5fxZa11nucfE5IkSdO0KIooioDUdV1dAFLoxBjPl45iSinkZVkSQn5M/tsw5xwhtIiFEPMLbdvS7gxCTnFRYYw1TYOaZhGP9wnBpKScE8YJpRAdcM47IUABhIgpHRuY0vo882RGVSXz7o7Jax89sK0vH7fy+emYvMl7v3+JJFRCnwden7/TwAMySLF8lZFC7ZAmB7PHmnaGdYYcFG77PAOiodgi9Vlrsld4Bz3W6LU2DMyP/u2JXI31d/sm8TfWu2izaY9/GwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;중복&quot;
        title=&quot;&quot;
        src=&quot;/static/688ed32b958ce9c8611522263fb3d857/6f3f2/image-12.png&quot;
        srcset=&quot;/static/688ed32b958ce9c8611522263fb3d857/c26ae/image-12.png 158w,
/static/688ed32b958ce9c8611522263fb3d857/6f3f2/image-12.png 256w&quot;
        sizes=&quot;(max-width: 256px) 100vw, 256px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그래서 일단 Bugi클래스는 전역객체인 window의 프로퍼티로 Bugi클래스를 선언하고, 없을 때만 새로 생성하게 했습니다&lt;br&gt;
또한 bugi 인스턴스도 window의 프로퍼티로 선언하고, OFF 시에는 이를 아예 제거해버립니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// bugi.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Bugi&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Bugi&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Bugi &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Bugi&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bugi &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Bugi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// scripting.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextState &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;OFF&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Remove the Bugi element&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; chrome&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scripting&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token literal-property property&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;tabId&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tab&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;token function-variable function&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bugi&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;_destroy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	  &lt;span class=&quot;token keyword&quot;&gt;delete&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bugi&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 해서 중복 선언을 막을 수 있습니다&lt;br&gt;
나중에는 햄부기를 화면에 여럿 추가하려면 배열로 선언해서 &lt;code class=&quot;language-text&quot;&gt;window.bugi.push(new Bugi())&lt;/code&gt; 이렇게 해도 괜찮겠네요&lt;/p&gt;
&lt;h2 id=&quot;이제-터치-이벤트를-따로-관리해줘야-합니다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%A0%9C-%ED%84%B0%EC%B9%98-%EC%9D%B4%EB%B2%A4%ED%8A%B8%EB%A5%BC-%EB%94%B0%EB%A1%9C-%EA%B4%80%EB%A6%AC%ED%95%B4%EC%A4%98%EC%95%BC-%ED%95%A9%EB%8B%88%EB%8B%A4&quot; aria-label=&quot;이제 터치 이벤트를 따로 관리해줘야 합니다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이제 터치 이벤트를 따로 관리해줘야 합니다&lt;/h2&gt;
&lt;p&gt;리액트일 때는 알아서 추상화된 이벤트를 썼지만, 이제 아닙니다&lt;br&gt;
그래서 터치 이벤트에 대해 따로 구현해줘야 합니다&lt;/p&gt;
&lt;p&gt;위에서 잠깐 살펴봤듯이, 터치 이벤트에 의한 이벤트 객체에서는 바로 &lt;code class=&quot;language-text&quot;&gt;clientX, clientY&lt;/code&gt;를 가져올 수 없습니다&lt;br&gt;
대신에 &lt;code class=&quot;language-text&quot;&gt;e.touches[0].clientX&lt;/code&gt;와 같이 써줘야 합니다&lt;br&gt;
나머지는 비슷하긴 한데, 미묘하게 다릅니다&lt;br&gt;
아래에서 &lt;code class=&quot;language-text&quot;&gt;mousedown&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;touchstart&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;mousemove&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;touchmove&lt;/code&gt;를 같이 뒀으니 비교해보세요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;mouseup&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;touchend&lt;/code&gt;는 다른게 없습니다 사실상&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;handleMouseDown&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// isDragging, pose 등 변수 업데이트는 동일&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;shiftX &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientX &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetLeft&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;shiftY &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientY &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetTop&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;handleTouchStart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// isDragging, pose 등 변수 업데이트는 동일&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; touch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;touches&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;shiftX &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; touch&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientX &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetLeft&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;shiftY &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; touch&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientY &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetTop&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;handleMouseMove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isDragging&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;moved &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// onclick 방지를 위한 moved 변수 업데이트&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientX &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;shiftX&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientY &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;shiftY&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updatePosition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;handleTouchMove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isDragging&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 기본 터치 이벤트를 막아줘야 함&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; touch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;touches&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; touch&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientX &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;shiftX&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; touch&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientY &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;shiftY&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updatePosition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;매우 비슷하긴합니다. &lt;code class=&quot;language-text&quot;&gt;clientX, clientY&lt;/code&gt;를 가져오는 방법과 move에서 한 줄씩 차이가 나네요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;mousemove&lt;/code&gt;에서는 onclick까지 트리거되는 현상을 방지하기 위한 변수 업데이트를 진행했습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;touchmove&lt;/code&gt;에서는 기본 터치 이벤트를 막아주기 위해 &lt;code class=&quot;language-text&quot;&gt;e.preventDefault()&lt;/code&gt;를 호출했습니다&lt;/p&gt;
&lt;h2 id=&quot;이만하면-된-것-같은데요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EB%A7%8C%ED%95%98%EB%A9%B4-%EB%90%9C-%EA%B2%83-%EA%B0%99%EC%9D%80%EB%8D%B0%EC%9A%94&quot; aria-label=&quot;이만하면 된 것 같은데요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이만하면 된 것 같은데요&lt;/h2&gt;
&lt;p&gt;이제 제출하고싶은데요&lt;br&gt;
먼저 프로젝트 폴더를 압축해서 &lt;code class=&quot;language-text&quot;&gt;.zip&lt;/code&gt;파일로 만들어야 합니다&lt;br&gt;
그 다음 &lt;a href=&quot;https://chrome.google.com/u/2/webstore/devconsole&quot;&gt;크롬 웹 스토어 개발자 대시보드&lt;/a&gt;로 접속합시다&lt;br&gt;
근데 개발자등록하려면 5달러를 내야했어요 ㅜㅜ&lt;/p&gt;
&lt;p&gt;아무튼 가서 개발자 등록까지 되었으면 &quot;새 항목&quot;버튼을 누릅시다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/94ccd2a29a357df4650a0e15d9707404/b97f6/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9ElEQVR42oWTy27TQBSG/Wo8BRI7uqBV4sbxJb6nC1Z9gVYVRbRJeAEkYMNFSOzYEFeUVYLUQlI3apwLVW0nSn7mnMShVWqI9OnM8WS+OXPGljTdhFJSsV0qQ94uoygrKCkalLLOkVC1CnTDugOto+c0r+sVyAUZGxtPIGmGC81wYFouKqbDmBxt2I63xM/BgyNQDQ+PCxYKig1J1Uyxo83CDJJqYlde4Pq52ALf97GluHjw0MSjTQdSdoTbQhJl438JM1zPR1WIPRGlyrKiv8LFEV1/B351R/y5yos8kdNGLklEtOxF9Zbtwlq2hnLpdmUENbqs6ihubUJWdM6Lcomf0cWpmiEuQhWXJi7DMFdSGpN0Tbi3f4Cj4xoO9vfw4qiG41qD81q9IcZ11Divo954iWeHzxe9pIqX7bkjpGO02z+QJAmm0ynyfvP5nGOv1+PqqAWOeCvuFbbabUwmEwyHQ1z1+xgOBoivB0gEgyhCvx9hNBrxpp1OZ/VqsTivQqqOhOHFBX52e3j7pYvXgvNfIcIw5Lk0TYWwu5LlClutFu8+Ho+RxjcIo2vsvonw9FXE4zS5EXO/EccxV2haDnOvkDg7O+f+zGaz//bw8rK3EmWsCd+9/4Bvp9/RbAYIghPma3NBlgdBgObJKT5++rz2Nf0BANLUAOlQkIYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;개발자 대시보드 새 항목&quot;
        title=&quot;&quot;
        src=&quot;/static/94ccd2a29a357df4650a0e15d9707404/f058b/image-7.png&quot;
        srcset=&quot;/static/94ccd2a29a357df4650a0e15d9707404/c26ae/image-7.png 158w,
/static/94ccd2a29a357df4650a0e15d9707404/6bdcf/image-7.png 315w,
/static/94ccd2a29a357df4650a0e15d9707404/f058b/image-7.png 630w,
/static/94ccd2a29a357df4650a0e15d9707404/40601/image-7.png 945w,
/static/94ccd2a29a357df4650a0e15d9707404/b97f6/image-7.png 958w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그럼 이제 ZIP파일을 업로드하여 등록을 시작할 수 있습니다
이제 시키는대로 하고 심사를 제출하면 됩니다&lt;br&gt;
저는 계속 막 거부되길래... 왜 자꾸 거부하냐고 막 재제출하고 컴플레인하고 그랬는데&lt;br&gt;
알고보니 실수로 파일을 잘못 올렸습니다. 머쓱;;;&lt;br&gt;
아무튼 이제 잘 게시되었습니다&lt;br&gt;
저는 권한을 쓰는 것도 적고, 수집하는 정보도 없어서 심사가 빨리 이루어졌습니다&lt;/p&gt;
&lt;p&gt;👉&lt;a href=&quot;https://chromewebstore.google.com/detail/bugi/cidndoahplamogkfaimmahedcnakjnag?hl=ko&quot;&gt;햄부기 다운로드하러 가기&lt;/a&gt;👈 §§즉시시작§§&lt;/p&gt;
&lt;p&gt;동영상도 다시 찍고, 설명도 다시 쓰고, 버그도 고치고, 이름도 Bugi And Friends 이런식으로 바꿔서 또 게시해야겠어요&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;햄부기 많이 사랑해주시고, 귀여워해주시고, 아껴주시고, 격려해주시고, 염려해주시고, 근심해주시고, 성원해주시고, 신경써주시고, 보살펴주시고, 밀어주시고, 근심해주시고, 보태주시고, 응원해주시고, 믿어주시고, 걱정해주시고, 용기를 주시고,&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6a2f3ca2d42077a601a66609f80fde11/5a46d/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AIqSlomTo2Rud1ZdX2JkdxokSxgoW3NpqWFXeD06SjM7dFZr1trX9Ofi7vTv9cbH8kZj2DNPzWyD4cu1+ACIkZWGk6JjbXZbX2KEgpIvRIkcN4c2MkAxJh00KCIxJiFES3rQ0fXRyOvYyu+or+83WN00UM09Us6/qPEAh5KVhZKhYm11V1pbWVtmMj1eIjFXSTYzmWlYqHhpgmlbT0hc5d/72NHs1Mfy29nwY3XgOVPSg3/c2b37AIeRlIaQn2FqdVtdXGprbEZPYUBBU41lWqt2ZpprXpt1ZoBnceTa+ci77Lym8tbC+cGr9bei8Ne9+9vC+wCGj5KFkKBibXVaXltvbm9CSF1fVlzHi23IhG2kbmKxgGape3ajjdiei9utluO0nOy+pu/Gr/HJsPDQuO4AhY6SiJWjbnmFWlxab29wSEtaQ0ddtYZ9yIFppGlfm3FbrpK6vaX5tJvpuqLuxKvyzrL31Lf42Lv45sT+AHyMkYaQnH6ImmBjX21ublFUYDI+ZXxojqtzW5tpVoRlXIh/l5OGrqiXy8Kr69q7/sSp7cOq7tm667+u0ACfgYiAjpSIk6d4e31rbGZucHBISk9BPkKVb2WNW0WDZm9XVlo/QTxMUFBkZmeDfK47SMEsQbyHfdBVRlIAu0dHoG1vhJKbf4OGbGtjamplTEtGPz9BYE9ch2JnfGN6R0JMNDQ4NDM5MzY0OkJXQ1GaO0ycWmGrpo6sAGskJn4/QoaQlW1zclxbVlhXVE1NSjU2OGFWZZuDnpJ7lFRMVzAwNjQzOS8uNTxAQV1iXV1gXVlfXFddXwBaICNyOj+Gj5RtdXRSUExMS0tDQ0EzMzZQSlaciaGbg51cU18uMTUzMzkqKS8vMDZdYmhtc3hnb3Nmam87PkQD4ss+2QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;아껴주시고&quot;
        title=&quot;&quot;
        src=&quot;/static/6a2f3ca2d42077a601a66609f80fde11/5a46d/image-8.png&quot;
        srcset=&quot;/static/6a2f3ca2d42077a601a66609f80fde11/c26ae/image-8.png 158w,
/static/6a2f3ca2d42077a601a66609f80fde11/5a46d/image-8.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;엄용수 옹.. (라디오스타에서)&lt;/figcaption&gt;
&lt;/figure&gt;</content:encoded></item><item><title><![CDATA[Three.js 공식문서로 시작해보기. - 3]]></title><description><![CDATA[! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다. 저번에는 오브젝트를 폐기하는 방법까지 했는데요 이번에는 후처리 사용 방법부터 남은 매뉴얼들을 모두 끝내겠습니다 후처리 (Post…]]></description><link>https://sungpaks.github.io/til/how-to-threejs-3/</link><guid isPermaLink="false">https://sungpaks.github.io/til/how-to-threejs-3/</guid><pubDate>Mon, 28 Oct 2024 18:06:39 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;저번에는 &lt;a href=&quot;https://threejs.org/docs/#manual/ko/introduction/How-to-dispose-of-objects&quot;&gt;오브젝트를 폐기하는 방법&lt;/a&gt;까지 했는데요&lt;br&gt;
이번에는 &lt;a href=&quot;https://threejs.org/docs/#manual/ko/introduction/How-to-use-post-processing&quot;&gt;후처리 사용 방법&lt;/a&gt;부터 남은 매뉴얼들을 모두 끝내겠습니다&lt;/p&gt;
&lt;h1 id=&quot;후처리-post-processing&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%9B%84%EC%B2%98%EB%A6%AC-post-processing&quot; aria-label=&quot;후처리 post processing permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;후처리 (Post Processing)&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://threejs.org/docs/#manual/ko/introduction/How-to-use-post-processing&quot;&gt;후처리 사용방법&lt;/a&gt;에 대해 다룹니다.&lt;br&gt;
포스트 프로세싱이라는 말이 더 익숙하신 분도 있곘는데요(사양 좀 있는 게임이면 포스트 프로세싱 최저로 하는거 국룰)&lt;br&gt;
렌더링한 화면에 다양한 그래픽 효과나 안티 엘리어싱을 적용하는 등의 후처리를 말합니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/56eef0aaa2af823fd1e72d3e32b86b5b/aa440/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.911392405063296%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtklEQVR42gGrAVT+AJqcoevq6rG2wKatu7m+yJyjsZafr32OpHaClGNmcFhXY5KOj66op3N1iqKhr5SVpYuMnoKKpXSBo250jQBAOTWjmpKFg4OEh5Coq7KSlZ1rb3lOVmQ4QlE9PUIrIiRxYFeaiX5tanWRkqGsqrOKh5Npa4JNVHM2PVsAODAtNiwoMSknTEI+al5WbFpPbFdIQzk1OzMuSkE9RDg2Rzg3RDU0Sjw7fl5Pj2pVnGZDjl4/U0A8Tzw2AFhKQ2ZXTXVjV4lyYY10X4NqV2RSRkA3MjkyLVJFPmNKPHtaRY9pTqh3UsiGUMiBSL58R4dfRFhFP1lDOACAalmReGOXfGWEbFhhUEM8Mi0xKiczKygnJSVvVkGwdkfCgkzVjk/NiUutdEN+WTxQPjdHOTdGODU8MjAAe2RSaVVGSTsyMScjKSEeKyMgLiYjKyQgHhwbbVA6sXA7rG87hls2WkAwQjIuOi4sQDIuQzQwNywpMSckADUqIx8ZFiAZFiUeGyUeGyUeGyMdGjczMDEvL1xEMmlDKDcnHyUeHS0jIjMnIzImIy8kIS4kIT83NS0nJSrfkvrUdEyHAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;포스트 프로세싱&quot;
        title=&quot;&quot;
        src=&quot;/static/56eef0aaa2af823fd1e72d3e32b86b5b/f058b/image.png&quot;
        srcset=&quot;/static/56eef0aaa2af823fd1e72d3e32b86b5b/c26ae/image.png 158w,
/static/56eef0aaa2af823fd1e72d3e32b86b5b/6bdcf/image.png 315w,
/static/56eef0aaa2af823fd1e72d3e32b86b5b/f058b/image.png 630w,
/static/56eef0aaa2af823fd1e72d3e32b86b5b/40601/image.png 945w,
/static/56eef0aaa2af823fd1e72d3e32b86b5b/78612/image.png 1260w,
/static/56eef0aaa2af823fd1e72d3e32b86b5b/aa440/image.png 1500w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 과정이 &lt;strong&gt;후처리&lt;/strong&gt;라고 이름이 붙은 이유는..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;먼저 비디오 카드의 메모리 버퍼에 있는 대상을 렌더링하기 위해 장면(Scene)이 그려집니다(우리가 지금까지 한 일들).&lt;/li&gt;
&lt;li&gt;그 다음(또는 최종적으로 렌더링되기 직전)에 필터와 효과(후처리 효과)를 이미지 버퍼에 적용합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;three.js에서는 &lt;a href=&quot;https://threejs.org/docs/index.html#examples/en/postprocessing/EffectComposer&quot;&gt;EffectComposer&lt;/a&gt;를 통해 이를 구현합니다.&lt;/p&gt;
&lt;h2 id=&quot;후처리-작업하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%9B%84%EC%B2%98%EB%A6%AC-%EC%9E%91%EC%97%85%ED%95%98%EA%B8%B0&quot; aria-label=&quot;후처리 작업하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;후처리 작업하기&lt;/h2&gt;
&lt;p&gt;three.js에서는 &lt;code class=&quot;language-text&quot;&gt;EffectComposer&lt;/code&gt;로 구현한다고 했는데요&lt;br&gt;
이를 위해 &lt;code class=&quot;language-text&quot;&gt;Composer&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;Pass&lt;/code&gt; 객체들을 import해와야 합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; EffectComposer &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;three/addons/postprocessing/EffectComposer.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; RenderPass &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;three/addons/postprocessing/RenderPass.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; GlitchPass &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;three/addons/postprocessing/GlitchPass.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; OutputPass &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;three/addons/postprocessing/OutputPass.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로&lt;/p&gt;
&lt;p&gt;그 다음에는, &lt;code class=&quot;language-text&quot;&gt;WebGLRenderer&lt;/code&gt; 객체를 넣어서 composer 객체를 만듭시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; composer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EffectComposer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;renderer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;composer를 사용할 때는 앱의 애니메이션 루프를 변경해줘야 합니다.&lt;br&gt;
기존에는 &lt;code class=&quot;language-text&quot;&gt;WebGLRenderer&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;render()&lt;/code&gt;메서드 호출로 렌더링했던 반면&lt;br&gt;
이제 각각의 &lt;code class=&quot;language-text&quot;&gt;EffectComposer&lt;/code&gt;에 대응되는 렌더링 방법을 사용합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;animate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  composer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 composer를 준비했으니, 후처리 과정을 설정합니다.&lt;br&gt;
이는 앱을 만드는 최종 화면 출력을 담당하며, 코드를 작성한 순서대로 처리됩니다.&lt;/p&gt;
&lt;p&gt;공식문서에서는 &lt;code class=&quot;language-text&quot;&gt;glitchPass&lt;/code&gt;라는 찌지직효과를 쓰는데, 저는 &lt;code class=&quot;language-text&quot;&gt;RenderPixelatedPass&lt;/code&gt;를 써봤습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; renderPass &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RenderPass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;scene&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; camera&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; renderPixelatedPass &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RenderPixelatedPass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; scene&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; camera&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; outputPass &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OutputPass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
composer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addPass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;renderPass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
composer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addPass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;renderPixelatedPass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
composer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addPass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;outputPass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;RenderPass&lt;/code&gt; : 일반적으로 가장 먼저 호출하여 기본 렌더링 장면을 담아냅니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;RenderPixelatedPass&lt;/code&gt; : 이미지 데이터 전반에 걸쳐 픽셀 효과를 줍니다. 인자로 각 pixel의 단위, &lt;code class=&quot;language-text&quot;&gt;scene&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;camera&lt;/code&gt;를 받습니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;OutputPass&lt;/code&gt; : 일반적으로 가장 마지막에 위치하여 &lt;code class=&quot;language-text&quot;&gt;sRGB&lt;/code&gt;변환 또는 &lt;a href=&quot;https://docs.unity3d.com/kr/530/Manual/script-Tonemapping.html&quot;&gt;톤 매핑&lt;/a&gt;등을 수행합니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;기본적으로 &lt;code class=&quot;language-text&quot;&gt;renderPass&lt;/code&gt; --&gt; 원하는 프로세스를 끼워넣고 --&gt; &lt;code class=&quot;language-text&quot;&gt;outputPass&lt;/code&gt; 이런 구조를 가지겠네요&lt;br&gt;
&lt;a href=&quot;https://github.com/mrdoob/three.js/tree/dev/examples/jsm/postprocessing&quot;&gt;여기&lt;/a&gt;에서 기본 내장된 post-processing 방식을 확인해볼 수 있습니다.&lt;br&gt;
또는 만약 쉐이더를 직접 작성했고 이를 후처리에서 사용하려면, &lt;code class=&quot;language-text&quot;&gt;ShaderPass&lt;/code&gt;를 사용합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; ShaderPass &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;three/addons/postprocessing/ShaderPass.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; LuminosityShader &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;three/addons/shaders/LuminosityShader.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// boilerplate 초기화 루틴 이후&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; luminosityPass &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ShaderPass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;LuminosityShader&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
composer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addPass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;luminosityPass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;처음 &lt;code class=&quot;language-text&quot;&gt;Shader&lt;/code&gt;를 만들 때는 &lt;code class=&quot;language-text&quot;&gt;CopyShader&lt;/code&gt;를 사용하면 좋은게, &lt;code class=&quot;language-text&quot;&gt;EffectComposer&lt;/code&gt;에 아무 효과를 적용하지 않고 이미지 컨텐츠만 복사해줍니다.&lt;/p&gt;
&lt;h3 id=&quot;샘플&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%83%98%ED%94%8C&quot; aria-label=&quot;샘플 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;샘플&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;/til/how-to-threejs-2/#%EC%83%98%ED%94%8C&quot;&gt;저번에 만든 예제 코드&lt;/a&gt;에다가 픽셀효과 후처리를 적용해봤습니다.&lt;/p&gt;
&lt;iframe src=&quot;https://stackblitz.com/edit/vitejs-vite-gnik1n?embed=1&amp;file=utils.js&amp;hideExplorer=1&amp;hideNavigation=1&amp;view=preview&quot; width=&quot;100%&quot; height=&quot;400px&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;개짱귀여운데요??;; 맘에듭니다&lt;/p&gt;
&lt;h1 id=&quot;행렬-변환&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%96%89%EB%A0%AC-%EB%B3%80%ED%99%98&quot; aria-label=&quot;행렬 변환 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;행렬 변환&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://threejs.org/docs/index.html#manual/ko/introduction/Matrix-transformations&quot;&gt;행렬 변환&lt;/a&gt;에 대해 다룹니다.&lt;br&gt;
Three.js는 행렬을 이용해 3D 변형(위치 변환, 회전, 확대 등)합니다.&lt;br&gt;
Three.js에서 거의 모든 3D물체는 &lt;a href=&quot;https://threejs.org/docs/index.html#api/ko/core/Object3D&quot;&gt;Object3D&lt;/a&gt; 슈퍼클래스를 구현하므로, &lt;code class=&quot;language-text&quot;&gt;matrix&lt;/code&gt; 속성을 가집니다.&lt;br&gt;
이 &lt;code class=&quot;language-text&quot;&gt;matrix&lt;/code&gt; 속성은 행렬 정보를 나타내며, 오브젝트의 위치, 회전, 확대 정보를 가집니다.&lt;/p&gt;
&lt;h2 id=&quot;오브젝트를-변형하는-방법-두-가지&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EB%B3%80%ED%98%95%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95-%EB%91%90-%EA%B0%80%EC%A7%80&quot; aria-label=&quot;오브젝트를 변형하는 방법 두 가지 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;오브젝트를 변형하는 방법 두 가지&lt;/h2&gt;
&lt;p&gt;오브젝트를 변형하려면 두 가지 방법이 있는데,&lt;br&gt;
하나는 속성만 변경하면 내부에서 행렬 재계산이 일어나는 방식,&lt;br&gt;
하나는 행렬을 직접 수정하는 방식입니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;전자의 경우, 오브젝트의 &lt;code class=&quot;language-text&quot;&gt;position, quaternion, scale&lt;/code&gt;같은 속성을 조절합니다. 그럼 내부에서 알아서 그에 맞는 행렬 재계산이 일어납니다.
&lt;ul&gt;
&lt;li&gt;ex: &lt;code class=&quot;language-text&quot;&gt;object.position.copy(start_position)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;matrixAutoUpdate&lt;/code&gt; 속성을 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;로 꺼버리면 재계산이 일어나지 않습니다. 이를 이용하여 오브젝트를 고정하거나 직접 재계산합니다.
&lt;ul&gt;
&lt;li&gt;이 속성을 껐으면 &lt;code class=&quot;language-text&quot;&gt;object.updateMatrix()&lt;/code&gt;메서드로 행렬을 수동 업데이트합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;오브젝트의 행렬을 직접 수정합니다. (&lt;a href=&quot;https://threejs.org/docs/index.html#api/en/math/Matrix4&quot;&gt;Matrix4&lt;/a&gt;클래스의 행렬 수정 메서드를 사용하면 굿)
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;object.matrix.setRotationFromQuaternion(quaternion)&lt;/code&gt;처럼..&lt;/li&gt;
&lt;li&gt;이 경우 무조건 &lt;code class=&quot;language-text&quot;&gt;object.matrixAutoUpdate=false&lt;/code&gt;로 자동 재계산을 꺼둬야 합니다.&lt;/li&gt;
&lt;li&gt;또한 &lt;code class=&quot;language-text&quot;&gt;updateMatrix()&lt;/code&gt;메서드를 사용하지 않습니다. 이걸 쓰면 수동 변경한 행렬을 덮어버리고 &lt;code class=&quot;language-text&quot;&gt;position, scale&lt;/code&gt; 등의 행렬이 재계산됩니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;오브젝트와-월드-행렬&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%EC%99%80-%EC%9B%94%EB%93%9C-%ED%96%89%EB%A0%AC&quot; aria-label=&quot;오브젝트와 월드 행렬 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;오브젝트와 월드 행렬&lt;/h2&gt;
&lt;p&gt;오브젝트의 &lt;code class=&quot;language-text&quot;&gt;matrix&lt;/code&gt; 속성이 업데이트되면 이 오브젝트의 변형 정보는 관련된 &lt;a href=&quot;https://threejs.org/docs/index.html#api/ko/core/Object3D.parent&quot;&gt;parent&lt;/a&gt;에 저장됩니다.&lt;br&gt;
오브젝트의 변형 정보를 &lt;strong&gt;world 좌표&lt;/strong&gt;에서 가져오려면, &lt;a href=&quot;https://threejs.org/docs/index.html#api/ko/core/Object3D.matrixWorld&quot;&gt;Object3D.matrixWorld&lt;/a&gt;에 접근합니다.&lt;br&gt;
자식 또는 부모 오브젝트가 변형된 경우, &lt;code class=&quot;language-text&quot;&gt;updateMatrixWorld()&lt;/code&gt; 메서드를 호출하여 자식 오브젝트의 &lt;code class=&quot;language-text&quot;&gt;matrixWorld&lt;/code&gt;도 업데이트되게 해줘야 합니다.&lt;/p&gt;
&lt;h3 id=&quot;world-행렬&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#world-%ED%96%89%EB%A0%AC&quot; aria-label=&quot;world 행렬 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;World 행렬??&lt;/h3&gt;
&lt;p&gt;근데 문서에는 딱히 world 행렬에 대한 일말의 소개도 없었습니다&lt;br&gt;
그래서 대충 찾아보고 GPT한테도 물어보고 하니&lt;br&gt;
3D 렌더링 좌표를 나타낼 때는 &lt;strong&gt;local 행렬&lt;/strong&gt;과 &lt;strong&gt;world 행렬&lt;/strong&gt;이라는게 있더라구요&lt;br&gt;
이는 거의 상대 좌표와 절대 좌표같은 개념이네요&lt;br&gt;
world행렬은 절대적인 기준점으로 모든 대상에 대해 동일하게 적용되고,&lt;br&gt;
local행렬은 상대적인 기준을 가집니다. 예를 들어 three.js에서는 위 내용으로 미루어보았을 때 &lt;code class=&quot;language-text&quot;&gt;parent&lt;/code&gt;가 기준이 될 수 있겠네요&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/91Heags.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;이런 그림을 생각해봅시다&lt;br&gt;
노란 공을 기준으로 하는 local 좌표에서는 사람의 좌표가 변하여 더 가까워졌습니다&lt;br&gt;
그러나 world 기준에서는 사람은 움직이지 않고 그대로입니다. 움직인건 노란 공이구요&lt;br&gt;
이런 식으로 &lt;strong&gt;물리학에서 상대/절대 좌표계&lt;/strong&gt;를 뜻하듯이 하는 개념으로 받아들여집니다&lt;/p&gt;
&lt;p&gt;라는 정리에 대해 GPT(Three.js expert)에게 &quot;잘 이해한거 맞아?&quot;라고 물어봤습니다&lt;br&gt;
대충 비슷하다고 하면서 추가 설명을 해줬네요&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Three.js에서 로컬 -&gt; 월드 변환 흐름&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;로컬 행렬 (Local Matrix)&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;각 오브젝트는 자신의 &lt;strong&gt;위치, 회전, 스케일&lt;/strong&gt;을 기반으로 &lt;strong&gt;로컬 행렬&lt;/strong&gt;을 계산합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;월드 행렬 (World Matrix)&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;이 로컬 행렬이 부모 객체의 행렬과 곱해지면서 월드 행렬로 변환됩니다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;matrixWorld&lt;/code&gt;&lt;/strong&gt; 속성은 이 최종 월드 좌표계를 나타내는 행렬입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;부모-자식 관계&lt;/strong&gt; 예제:
&lt;ul&gt;
&lt;li&gt;만약 사람이 &lt;strong&gt;노란 공의 부모&lt;/strong&gt;라고 하면, 공의 위치는 사람의 로컬 좌표계에 상대적으로 존재하게 됩니다.&lt;br&gt;
→ 공의 위치가 &lt;code class=&quot;language-text&quot;&gt;(2, 0, 0)&lt;/code&gt;이고 사람이 &lt;code class=&quot;language-text&quot;&gt;(10, 0, 0)&lt;/code&gt;에 있다면, 월드 좌표계에서 공은 &lt;code class=&quot;language-text&quot;&gt;(12, 0, 0)&lt;/code&gt;이 됩니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;어라.. 어떤 오브젝트의 로컬 행렬과 부모 객체의 행렬을 행렬곱연산을 내면 월드행렬이라네요???&lt;br&gt;
아무튼 이런 개념이 있었습니다&lt;/p&gt;
&lt;h2 id=&quot;회전과-사원수quaternion&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%9A%8C%EC%A0%84%EA%B3%BC-%EC%82%AC%EC%9B%90%EC%88%98quaternion&quot; aria-label=&quot;회전과 사원수quaternion permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;회전과 사원수(Quaternion)&lt;/h2&gt;
&lt;p&gt;three.js에서는 3D회전을 나타내기 위해 두 가지 방법이 존재합니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%98%A4%EC%9D%BC%EB%9F%AC_%EA%B0%81&quot;&gt;Euler angles&lt;/a&gt;: 보통 아는 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;xyz&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.04398em;&quot;&gt;yz&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 중심으로 회전하여 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;α&lt;/mi&gt;&lt;mi&gt;β&lt;/mi&gt;&lt;mi&gt;γ&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\alpha\beta\gamma&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8889em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.0037em;&quot;&gt;α&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05278em;&quot;&gt;β&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05556em;&quot;&gt;γ&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 나타내는 체계&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://namu.wiki/w/%EC%82%AC%EC%9B%90%EC%88%98&quot;&gt;quaternion&lt;/a&gt;: 사원수라는 다른 체계인데.. 옛날에 역학 수업에서 헤밀토니안이라는게 좀 비슷해보이는데 도저히 잘 모르겠습니다;;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;아무튼 그런데 오일러 각도 체계는 gimbal lock이라는 문제 때문에 항상 가능하진 않고, 그래서 내부에선 quaternion속성으로 저장한다고 합니다.&lt;br&gt;
이 gimbal lock은 다른 각 회전때문에 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;β&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\beta&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8889em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05278em;&quot;&gt;β&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;각 범위가 제한되는 경우가 생긴다나 뭐시기인데 아폴로 11호도 이거때문에 자세조정이 힘들었다고 하네요&lt;br&gt;
아무튼 둘 사이의 변환 메서드를 제공하니까 편한거 쓰면 된다고 합니다.&lt;br&gt;
예를 들어, &lt;code class=&quot;language-text&quot;&gt;setRotationFromEuler&lt;/code&gt;로 quaternion을 업데이트할 수 있습니다.&lt;/p&gt;
&lt;h1 id=&quot;애니메이션-시스템&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EC%8B%9C%EC%8A%A4%ED%85%9C&quot; aria-label=&quot;애니메이션 시스템 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;애니메이션 시스템&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://threejs.org/docs/index.html#manual/ko/introduction/Animation-system&quot;&gt;애니메이션 시스템&lt;/a&gt;에 대해 다룹니다.&lt;/p&gt;
&lt;p&gt;three.js 애니메이션 시스템에서는 모델의 다양한 속성을 설정할 수 있습니다. &lt;a href=&quot;https://threejs.org/docs/index.html#api/en/objects/SkinnedMesh&quot;&gt;Skinned Mesh&lt;/a&gt;뼈대, 물체 변형, 재질 속성, 가시성 등..&lt;br&gt;
애니메이션의 속성은 페이드 인, 페이드 아웃, 크로스페이드, 랩 등의 종류가 존재합니다&lt;br&gt;
한 오브젝트에 대한 변화 속도나 가중치도 조절할 수 있고, 서로 다른 오브젝트 간의 애니메이션도 전부 개별적으로 변화시킬 수 있습니다.&lt;br&gt;
또는 오브젝트들 간의 다양한 애니메이션에 대해 싱크를 맞추기도 가능합니다&lt;/p&gt;
&lt;p&gt;저는 개인적으로 이 파트 읽기 시작할 당시에는 잘 이해가 안 갔는데, 그냥 눈 딱 감고 문서 쭉 읽어보고 다시 생각해보는게 그나마 이해가능했습니다&lt;/p&gt;
&lt;h2 id=&quot;애니메이션-클립&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%ED%81%B4%EB%A6%BD&quot; aria-label=&quot;애니메이션 클립 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;애니메이션 클립&lt;/h2&gt;
&lt;p&gt;애니메이션 3D 오브젝트를 불러왔으면(ex: &lt;a href=&quot;https://threejs.org/docs/index.html#examples/en/loaders/GLTFLoader&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;GLTFLoader&lt;/code&gt;&lt;/a&gt;로 gltf 모델을 불려오기), 그 오브젝트에 &lt;code class=&quot;language-text&quot;&gt;animations&lt;/code&gt;라는 배열이 있는걸 확인할 수 있습니다.&lt;br&gt;
여기에는 해당 모델애 대한 &lt;a href=&quot;https://threejs.org/docs/index.html#api/en/animation/AnimationClip&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;AnimationClips&lt;/code&gt;&lt;/a&gt;가 존재합니다.&lt;/p&gt;
&lt;p&gt;이 &lt;code class=&quot;language-text&quot;&gt;AnimationClips&lt;/code&gt;는 보통 해당 오브젝트의 특정 행동에 대한 데이터를 가집니다.&lt;br&gt;
예를 들어, &quot;걷는 모션 한 사이클&quot;, &quot;점프&quot;, &quot;춤추기&quot; 등..&lt;/p&gt;
&lt;h2 id=&quot;키프레임-트랙&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%82%A4%ED%94%84%EB%A0%88%EC%9E%84-%ED%8A%B8%EB%9E%99&quot; aria-label=&quot;키프레임 트랙 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;키프레임 트랙&lt;/h2&gt;
&lt;p&gt;각 &lt;strong&gt;애니메이션 클립&lt;/strong&gt;에 대한 애니메이션 속성 데이터는 &lt;a href=&quot;https://threejs.org/docs/index.html#api/ko/animation/KeyframeTrack&quot;&gt;KeyframeTrack&lt;/a&gt;에 저장됩니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;KeyframeTrack은 시간 리스트와 관련 값으로 구성되어 있고 오브젝트의 특정 프로퍼티를 동작시키는 데 사용되는 &lt;a href=&quot;https://en.wikipedia.org/wiki/Key_frame&quot;&gt;keyframes&lt;/a&gt;의 시간별 시퀀스입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이 &lt;code class=&quot;language-text&quot;&gt;KeyframeTrack&lt;/code&gt;은 &lt;code class=&quot;language-text&quot;&gt;times&lt;/code&gt; 리스트와 그 각 순간에 대응하는 &lt;code class=&quot;language-text&quot;&gt;values&lt;/code&gt;리스트로 구성됩니다.&lt;br&gt;
각 애니메이션 클립은 그리고 여러 키프레임 트랙으로 구성될 수도 잇습니다. 예를 들어, 1번 키프레임 트랙은 팔을 뻗고, 2번 키프레임 트랙은 팔을 회전하고, ..&lt;/p&gt;
&lt;h2 id=&quot;애니메이션-믹서&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EB%AF%B9%EC%84%9C&quot; aria-label=&quot;애니메이션 믹서 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;애니메이션 믹서&lt;/h2&gt;
&lt;p&gt;이렇게 저장된 데이터들은 아직 그냥 애니메이션에 대한 기본 정보를 나타내는 데이터 쪼가리입니다.&lt;br&gt;
실제 플레이백은 &lt;a href=&quot;https://threejs.org/docs/index.html#api/ko/animation/AnimationMixer&quot;&gt;AnimationMixer&lt;/a&gt;가 담당합니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;AnimationMixer는 Scene에 있는 특정 오브젝트의 애니메이션 플레이어입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;게다가 단순한 애니메이션 플레이어가 아닌, 여러 애니메이션 동시재생, 혼합, 병합재생 등을 수행할 수 있습니다.&lt;/p&gt;
&lt;h2 id=&quot;애니메이션-액션&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EC%95%A1%EC%85%98&quot; aria-label=&quot;애니메이션 액션 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;애니메이션 액션&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;애니메이션 믹서&lt;/strong&gt;는 속성과 메서드가 많지 않고, 일반적인 구성요소만 존재합니다.&lt;br&gt;
대신 &lt;a href=&quot;https://threejs.org/docs/index.html#api/ko/animation/AnimationAction&quot;&gt;AnimationActions&lt;/a&gt;를 사용하여, 특정 &lt;strong&gt;애니메이션 클립&lt;/strong&gt;이 언제, 어떤 믹서에서, 실행/정지/중지되어야 하는지 설정할 수 있습니다(예약).&lt;br&gt;
나아가 얼마나 반복할거고, 페이드가 필요한지, 그럼 페이드 인인지 아웃인지, 등등 디테일한 설정이 가능합니다&lt;/p&gt;
&lt;p&gt;공식문서에서는 애니메이션 믹서를 생성자로 직접 생성하기보다는 &lt;code class=&quot;language-text&quot;&gt;AnimationMixer.clipAction&lt;/code&gt;으로 인스턴스화하는 것이 좋다고 합니다.&lt;br&gt;
더 나은 성능을 위한 캐싱 등을 제공한다 등의 이유가 있습니다&lt;/p&gt;
&lt;h2 id=&quot;애니메이션-오브젝트-그룹&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8-%EA%B7%B8%EB%A3%B9&quot; aria-label=&quot;애니메이션 오브젝트 그룹 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;애니메이션 오브젝트 그룹&lt;/h2&gt;
&lt;p&gt;같은 애니메이션 효과를 공유하는 오브젝트 그룹을 만들려면 &lt;a href=&quot;https://threejs.org/docs/index.html#api/ko/animation/AnimationObjectGroup&quot;&gt;AnimationObjectGroup&lt;/a&gt;를 사용합니다.&lt;/p&gt;
&lt;h2 id=&quot;활용해보기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%99%9C%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0&quot; aria-label=&quot;활용해보기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;활용해보기&lt;/h2&gt;
&lt;p&gt;사실 애니메이션 시스템 문서나 Keyframes 등등 관련 문서에서 예시 코드가 너무 빈약합니다..&lt;br&gt;
샘플이라고 적어놓은 것들은 사실 생략한 것도 많고 하더라구요&lt;br&gt;
그리고 예를 들어 &lt;code class=&quot;language-text&quot;&gt;Three.VectorKeyframeTrack()&lt;/code&gt;으로 키프레임 트랙을 만들거면 예시로 어떻게 코드를 구성하는지도 잘 안 나와있습니다.&lt;br&gt;
내가 못찾았나?&lt;/p&gt;
&lt;p&gt;아무튼 문서 파헤쳐보고 GPT한테도 물어물어서 간단한 애니메이션 클립을 활용하는 샘플을 만들어봤습니다&lt;/p&gt;
&lt;p&gt;먼저, &lt;a href=&quot;https://sketchfab.com/3d-models?features=downloadable&amp;#x26;sort_by=-likeCount&quot;&gt;이런 사이트&lt;/a&gt;에서 적당한 에셋을 하나 구해왔습니다.&lt;br&gt;
그중에서도 매우 귀염둥이인 시바견을 하나 가져왔어요&lt;br&gt;
이걸 가져다가 프로젝트 내부(저는 &lt;code class=&quot;language-text&quot;&gt;/public/gltf/&lt;/code&gt; 폴더를 만들고 그 밑에 넣었습니다)에 가져다둡니다.&lt;br&gt;
이제 &lt;a href=&quot;https://threejs.org/docs/#manual/ko/introduction/Loading-3D-models&quot;&gt;3D 모델 불러오기&lt;/a&gt;에서 말하는 것처럼 로드해오면 됩니다. 아래처럼&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; loader &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GLTFLoader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

loader&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;/gltf/scene.gltf&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//path to asset&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;gltf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 로드 성공 콜백&lt;/span&gt;
    model &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; gltf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scene&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    gltf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scene&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scale&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//좀 작아서 확대함&lt;/span&gt;
    scene&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;model&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//로드 중 콜백&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//에러 콜백&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;저는 애셋을 &lt;code class=&quot;language-text&quot;&gt;public/gltf/scene.gltf&lt;/code&gt;와 같이 두었으니까 저렇게 path를 쓰는겁니다&lt;br&gt;
이러면 귀여운 시바견이 나오구요&lt;/p&gt;
&lt;p&gt;이제 gltf를 로드한 콜백 내에서 애니메이션 로직을 추가합니다&lt;br&gt;
먼저 mixer, model(얘는 이미 있지만)을 콜백 바깥에서 만들어줍시다. 나중에 필요해서요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; mixer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; model&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

loader&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 load의 콜백 내에서 &lt;code class=&quot;language-text&quot;&gt;scene.add(model)&lt;/code&gt; 뒤에 애니메이션 클립을 정의해줍니다.&lt;br&gt;
저는 불투명도를 조절하는 &lt;code class=&quot;language-text&quot;&gt;NumberKeyframeTrack&lt;/code&gt;과, 회전을 주는 &lt;code class=&quot;language-text&quot;&gt;VectorKeyframeTrack&lt;/code&gt;을 만들겠습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;mixer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;AnimationMixer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;model&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 시바견에 대한 애니메이션 믹서 생성&lt;/span&gt;
model&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;traverse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;child&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isMesh &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;material&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    child&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;material&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;transparent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;//불투명도 키프레임&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; opacityKF &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;NumberKeyframeTrack&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.material.opacity&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 이름(중요)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// times // values&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;//회전 키프레임&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; rotateKF &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;VectorKeyframeTrack&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.rotation[z]&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PI&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PI&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PI&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PI&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; clip &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;AnimationClip&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;OpacityAnimation&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      opacityKF&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//이 배열에 키프레임을 삽입&lt;/span&gt;
      rotateKF
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// clipAction 생성, play&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; action &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; mixer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clipAction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;clip&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    action&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;키프레임의 첫 번째 인자에는 이름 프로퍼티가 들어갑니다. &lt;a href=&quot;https://threejs.org/docs/index.html#api/ko/animation/KeyframeTrack.name&quot;&gt;KeyframeTrack의 이름&lt;/a&gt;문서를 참고하세요. 이름 잘못쓰면 동작하지 않습니다&lt;/p&gt;
&lt;p&gt;저는 처음에 이걸 traverse 순회가 아닌 단일 &lt;code class=&quot;language-text&quot;&gt;model&lt;/code&gt;에 대해 저 코드를 작성했더니&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;THREE.PropertyBinding: Can not bind to objectName of node undefined.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 에러가 떴습니다. 찾아보니 GLTF모델 구조때문에 매터리얼 그잡채에 직접 접근할 수 없어서 그렇다네요.&lt;br&gt;
GLTF모델은 복잡한 렌더링 모델을 생성하므로 여러 계층 구조로 구성될 수 있다고 합니다.&lt;br&gt;
그러니 GLTF모델의 모든 매쉬 조각들에 대해 순회하면서 애니메이션 클립을 적용해줘야 합니다&lt;/p&gt;
&lt;p&gt;이제 액션클립을 만들었으니 &lt;code class=&quot;language-text&quot;&gt;animate&lt;/code&gt; 루프에서 액션믹서를 업데이트합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; clock &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;animate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; delta &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; clock&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getDelta&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mixer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    mixer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;delta&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;orbitCamera&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;camera&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; radius&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;scene&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; camera&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Three.clock()&lt;/code&gt;은 애니메이션 실행 중 경과한 시간(delta time)을 측정하는 데 사용됩니다.&lt;br&gt;
컴퓨터 로컬 elapsed time을 갖다 쓰면 성능에 따라 차이가 발생할 수 있는데,&lt;br&gt;
이걸 사용하면 일관적인 속도로 프레임을 측정하고 애니메이션을 실행할 수 있습니다.&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;animate()&lt;/code&gt;루프에서 &lt;code class=&quot;language-text&quot;&gt;mixer.update(delta)&lt;/code&gt;와 같이 작성하여 경과한 시간만큼 애니메이션 클립을 진행시킵니다.&lt;br&gt;
예를 들어, 1/60프레임이 지났으면 &lt;code class=&quot;language-text&quot;&gt;delta=0.016&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;mixer.update(0.016)&lt;/code&gt;이 되고, 애니메이션이 0.016초만큼 진행됩니다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/sungpaks/sungpaks.github.io/blob/master/content/blog/til/how-to-threejs-3/%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB%20%E1%84%80%E1%85%B5%E1%84%85%E1%85%A9%E1%86%A8%202024-10-25%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%2010.28.11.gif?raw=true&quot; alt=&quot;결과&quot;&gt;&lt;/p&gt;
&lt;p&gt;플레이그라운드를 올리려다가 시바견 용량이 초과돼서 ㅜㅜ 그냥 녹화해서 gif로 변환 땄습니다&lt;br&gt;
그래도 기엽죠?&lt;/p&gt;
&lt;p&gt;아무튼.. 이렇게 매뉴얼은 대충 톺아봤으니 강의라도 하나 좀 들어봐야겠습니다&lt;br&gt;
이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🤨 이슈 해결해준다고? 너 누군데]]></title><description><![CDATA[TanStack Query는 프론트엔드 개발자분들에겐 꽤 유명할 것 같은데요 이름이 바뀌기 전에는 React Query로 유명했고, Svelte, Vue 등등 다른 프레임워크들 또한 지원합니다 이게 뭐하는 패키지냐 하면 🤖 Powerful…]]></description><link>https://sungpaks.github.io/contributing-tanstack-query/</link><guid isPermaLink="false">https://sungpaks.github.io/contributing-tanstack-query/</guid><pubDate>Tue, 22 Oct 2024 21:37:21 GMT</pubDate><content:encoded>&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3b325c1927de9e3c6294121eee37ef63/8c557/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 110.12658227848102%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFSUlEQVR42gE+BcH6ACQiHzEvLCYkIxkXFRkXFSclIgkJCQAAAQAAAgAAAgEAAgEAAwAAAgAAAQAAAQMBAQEBAwIBAQMBAQUDAgARM2EaYsEbXrMcXLYdXbcYWrdcdJRDdKpOgbFLf7Q2c7M4c658mLJ6mbaHobZYirpohqNGeKgfbcQOMloAHliaLJn/KJH7JJH/JY/+HY//ib7Yttruxuf75fDs2+jasNHTk8r62O7/8Pr+3fT8xuT0yeT4ab7/DE+PACJalzqf/zCU9i6Y+i+c/SeQ9mSHsnCRv26r6HzA9o7B5Ym633689YTB9orG9X3B9Wm393q47z6j/w5MjAAkWpo+o/82lvgznv89fs5PRl1RNjtPMjdROkdTd7FNq/9Iofs+nPwym/03nvw5oP0unPsbjfcXjP8NSY4AHVOZLpL/Mo/3KZb/RlqPUy0nUDQ3XTw7akM3TE1wO578I5X9J5X9Np78I5b9JJf8FIr8GX74Moz/GUeIAD9klnSz/2ek8ofA/3WMtS8dKmFBPHtURGtGPoiVsZHP/5LI82qy9XK29YzC84a772Sh7zJ66I238EBafQBRapCEtf9Rk/Zkofdrp/VARmuIWDtvUUlzV02Ilqliq/FfpPE2mf4xmfk8ifc3gPAtduYjbd0odO0WPnsAHkuVL4D/L3v4LH79LoT/dHOJek86a1dVq5yDjoF3RUtgTFJmQHnBIIr/FHPzF3DvG27sKm7nMXj4G0KDADJTmUyS/zuJ/DyC8XJtfZZpS1tHSFFARXNkXl1RUiYnNi4rNENBTXmi3YHC/3Cw+W2k926d8HKo/ztYiQA9Wplwof9alvNjhsOXaEd+W0k5N0A3LjlbQUE/Nz8mKjkjJzgpKTaBfX/r7PTM5PW05P+x4Pu+7f9eeY8AO1eUYn7CcpPTk46hmGI+TDo7Fx4wLS05MS86KCk3JSk3GyAxKi06ODdCi42qrKu7iJagNlqGKUt7GipDADc9VD1DW0lklX95jYBscFNymhYcLCorNzY1PUNBRjU1PxgeLicqNzAvNlhYa7app6yTciUrSVVWc1BMVQAMDRNZU1hTTVA9PElRYoVegKkyND5TTk9HREhKR0o6OUEYHS0eIS9CPkdxdZWiob2xq72lobjDtLVrYFoAXldWzLy3uayubmVqQDc1ODlDKTBBYmRsOj1IPD5KRkhSOkBQcF9alXFhmKDJmZasn46Goo57s5uBYlZFAHlpUdGzhNC0ic2yhlFPUzY1OUlERB8mNyswPTY2PiAmNUI6QJtuUY1pXIuOrY+Egp2FZaCKbbSZc2JUPgB0YkLSsXDLq2rbtWtnXlMkJjJXS0NQSUYiJTMaIC4wJzGIXEuCZFqCgJeJiJmHd2qbgmKhiWi2mm1kVTwAdmNB1LFpzKpk3LhuaFxLGhsqR0A9NDA0RT9ARDxBh15SWUI8gImfc36bT05aalxRln9gnoVit5lrZlY9AHVjP9KvZ8qpZNm1bV1VRQ4cKC0pLkA6ODs2NzUwNkI4OxsfK4WWtVhnhEtVdDo8TGRWSJJ7WLGTZ2NTOgB6Z0DmwHHgvXDlvXVMTkMvVEpZT0NnWEs3Mzc2MzspLDgjJTEqPWU6U4lFVoY5RGklLUVDPj6OeFpbTTcAKSQYWUwuWEsuVkgvHB8dFCQhIR8dHBkZGBgaJSEjFxgcEhMZBAcQBwwaGCE3ExckExYhCQ4aIB4eGxgUAAIDBQAAAQAAAAAAAAcHBwwKCwYHCAABAQMDAwkKCgsLCwUFBAUEAwsKCA0MCQoJCAEBAAoKCAoLCwYHCN1wFSrM1ouOAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;헤어지자고? 너 누군데&quot;
        title=&quot;&quot;
        src=&quot;/static/3b325c1927de9e3c6294121eee37ef63/f058b/image.png&quot;
        srcset=&quot;/static/3b325c1927de9e3c6294121eee37ef63/c26ae/image.png 158w,
/static/3b325c1927de9e3c6294121eee37ef63/6bdcf/image.png 315w,
/static/3b325c1927de9e3c6294121eee37ef63/f058b/image.png 630w,
/static/3b325c1927de9e3c6294121eee37ef63/8c557/image.png 700w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
요새 갑자기 꽂힌 밈.. (원본: https://x.com/tttoootchi/status/1801572477702967698)
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/TanStack/query&quot;&gt;TanStack Query&lt;/a&gt;는 프론트엔드 개발자분들에겐 꽤 유명할 것 같은데요&lt;br&gt;
이름이 바뀌기 전에는 React Query로 유명했고, Svelte, Vue 등등 다른 프레임워크들 또한 지원합니다&lt;br&gt;
이게 뭐하는 패키지냐 하면&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;🤖 Powerful asynchronous state management, server-state utilities and data fetching for the web.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;한 마디로 서버와 브라우저 간에 데이터를 동기화하고 관리하는 데 아주 강력한 도구입니다&lt;br&gt;
TypeScript와의 완전한 통합도 지원하구요&lt;/p&gt;
&lt;p&gt;이 유명한 프로젝트에 박힌 42.2k회의 Star에 저도 한 몫 하고 있었는데요&lt;br&gt;
그냥 어느 날엔가.. 깃허브를 내리다가.. 피드에서 TanStack Query로 들어가서.. Issue를 봤습니다&lt;br&gt;
그러고는 우연히 그냥 재밌어보이는, 할만해보이는 이슈를 발견했습니다&lt;/p&gt;
&lt;h1 id=&quot;이슈를-뜯어봐요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%8A%88%EB%A5%BC-%EB%9C%AF%EC%96%B4%EB%B4%90%EC%9A%94&quot; aria-label=&quot;이슈를 뜯어봐요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이슈를 뜯어봐요&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/TanStack/query/issues/8132&quot;&gt;Cannot pass an optional infiniteData parameter to infiniteQueryOptions function&lt;/a&gt;라는 이슈였습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cde46f30d0454a7c7ab66368709fb668/f4b34/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 35.44303797468354%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABTklEQVR42m2RzU6EMBSFWcvPUGiZUmCGUqCj/DgTEzdq4satD+HG+P4PcLwtGWOMiy/39Nzb0h6C1loM8ww7P8CMC4xd0J9WdOOM8e6C4fYehtbO08OEtp/IP3vfVTtdUDY9woRBPX4geHv6xPvrF0ytIaRGzApEO0EDBFWno7Tw+spNwrce+Q63J2YSYZwgsOYF1jxDFDVy2SLfH8CKBhnB/iGXR09Gc6mosctLT5JJJLlC0I0n2PWM2kzgSiMvWz/oKepfejtQ0AynGVfdoU5nskGYcsR020DWHeWxYrAzZNWiUC1lYiApAqddX1Yae7X1inLzdrn0z5bygLZZUNUrdqpHkJcdVLeg1DNE1SOiPFKuwET1U5lQXl9xnntixPYQpLk4IBNHJLxCwEuNysyousk/u9EWnL4aUvBuwzX4v8SuR5QuCnfbVPif8w2j6bcuiWvQeAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이슈&quot;
        title=&quot;&quot;
        src=&quot;/static/cde46f30d0454a7c7ab66368709fb668/f058b/image-12.png&quot;
        srcset=&quot;/static/cde46f30d0454a7c7ab66368709fb668/c26ae/image-12.png 158w,
/static/cde46f30d0454a7c7ab66368709fb668/6bdcf/image-12.png 315w,
/static/cde46f30d0454a7c7ab66368709fb668/f058b/image-12.png 630w,
/static/cde46f30d0454a7c7ab66368709fb668/40601/image-12.png 945w,
/static/cde46f30d0454a7c7ab66368709fb668/78612/image-12.png 1260w,
/static/cde46f30d0454a7c7ab66368709fb668/f4b34/image-12.png 1457w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이게 TanStack React Query에서는 Query에 넣는 옵션 객체를 &lt;code class=&quot;language-text&quot;&gt;queryOptions&lt;/code&gt;로 따로 선언하여 만들어둘 수 있습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;infiniteQuery&lt;/code&gt;에 대한 &lt;code class=&quot;language-text&quot;&gt;infiniteQueryOptions&lt;/code&gt;도 마찬가지구요&lt;br&gt;
이런 식으로요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; queryOptions &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;infiniteQueryOptions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  queryKey&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;example&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;queryFn&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; initialData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;getNextPageParam&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  initialPageParam&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그리고 이제 여기에 &lt;code class=&quot;language-text&quot;&gt;initialData&lt;/code&gt;라는 초기값을 정의해줄 수 있는데,&lt;br&gt;
아래같이 optional하게 넣으면 사실 동작은 하는데 typescript에서 타입 에러를 띄운다는 문제였습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; queryOptions &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;infiniteQueryOptions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  queryKey&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;example&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;queryFn&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; initialData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// initialData below errors&lt;/span&gt;
  initialData&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; initialData
    &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pages&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;initialData&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pageParams&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;getNextPageParam&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  initialPageParam&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;음..&lt;br&gt;
재밌어보입니다&lt;/p&gt;
&lt;h1 id=&quot;소스코드를-들춰봐요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%86%8C%EC%8A%A4%EC%BD%94%EB%93%9C%EB%A5%BC-%EB%93%A4%EC%B6%B0%EB%B4%90%EC%9A%94&quot; aria-label=&quot;소스코드를 들춰봐요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;소스코드를 들춰봐요&lt;/h1&gt;
&lt;p&gt;당연히 먼저 소스코드를 까봐야겠죠?&lt;br&gt;
어지간히 해볼만한지 판단도 해야하고요 ㅋㅋㅋ&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 259px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/96fd6b743e2c883ac59626c486a0c5b5/a2ead/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADjUlEQVR42hWOaVMaBwBA93/EZqZt5Nq4LCCYRIokaC2OmanTcdocTZE0TWI0kBRE0xgCiBzKsXLJsbvAssu1LHJFG1Tk7mE1Y6fT6fEH+rH/oHbmfX3zHkCuyn+1Tp2uTB7rFO908t+/m3xnGP/tuaz9paAyA0WmwTUF23Sd9e0oS/ex2HFL9lgNyWYG5LPvTd+9AJSN433b2KlhoqeVn+hv/LWq7K9cPVsa7av42elLoU8+sI4Pbk7xlpWX9QoRor724J7wysTAiPLCvfsXgYr5Rh0ZPltS9DRjx0uKE420aZ780fVNy7ZQsT5hXn/t/1wau8N1zUleTIiimmHTwsjUzfevKwfWjYNA0Sl+k4K6L6SHz2Xdpx81zHOdDNop5jo7uV6J/qGW/z7iKpvlyFOx8dNhBhGSdsmc6kPt40E8wAMwJ7iTgA7s0l2z5O3a3QaF9/KpXp7qM5keTXbzyTaTOa4GEjop8hAqpyVUaGj5GYuKQrEgB7A7oLBXkHDBWd+VA8LVzCU7uVSXTndosr9DdQupMuqlfM7Mqy8oNxzF+IkIhPrgVFLg3eIAljU+4hEH3EPZ8OJRJt6mE508eU6PIUthj/+lxrKgssyr0z4FHmP5t0E0ysFQVmib7UJAgIkJK3HeLj57SESbWbxLJzt54tzMbdmsiyrzvNoyf6sSeNZMrRABeTwkiAeFCdcsjox53ZeAKs59m5LVCc//w+dZmugWiKMMuql/ZJm/7zLcZkJTzaCvsf5T1UpUQtO0yUY8qaV1Cdw9CpRR7l5C08gSrSzayuMdGu8V8ah1yfhIFTJ9lo5AZ/uWf3456yKntZf1ujdxsIHU173twEEhNAMUwpI93FEnto8yeCsf7xUJ0vPaoVVRLmWDgbJhVjH88N+/Gz9jjZanvW8qdGzGvkN/sq/3B2Eg6R5Ju28TG3fy/sVSbJl06w1qxc1R2GngdkvwUZH/JsNu5b/6oxH+85Deszhq2geUZWZl/aLTywUiXnYuyq4RUJUSlkkRgwmo7aGNVTbqETQrksOKoJLlZTEOHmTHw+Jtj9htg/U2ltbERXwQENti5zBOlQRrtIBOwhkMLhDiEjVcoYU5RlQoinaLgkIGRGM8r4tjc3KMdpZxDYwG4CTGBxgMzmFgKjIURfiUX5z2iUvotWr8qsN+2Y5KtihJnBLFCdFmQLj6imczgxsOMB0G92ghnYb/A4sjy3IvG+qLAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;들춰보기&quot;
        title=&quot;&quot;
        src=&quot;/static/96fd6b743e2c883ac59626c486a0c5b5/a2ead/image-1.png&quot;
        srcset=&quot;/static/96fd6b743e2c883ac59626c486a0c5b5/c26ae/image-1.png 158w,
/static/96fd6b743e2c883ac59626c486a0c5b5/a2ead/image-1.png 259w&quot;
        sizes=&quot;(max-width: 259px) 100vw, 259px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;일단 루트 경로에서.. &lt;code class=&quot;language-text&quot;&gt;packages&lt;/code&gt;로 들어갑니다.&lt;br&gt;
TanStack Query 레포지토리는 vue, svelte, 등등 여러 패키지들에 대한 소스코드를 여기에 다 둡니다&lt;br&gt;
그리고 여기서, 우리는 React Query니까, &lt;code class=&quot;language-text&quot;&gt;/packages/react-query&lt;/code&gt;로 들어갑시다.&lt;br&gt;
그리고 &lt;code class=&quot;language-text&quot;&gt;src/&lt;/code&gt;로 한번 더 들어가면..&lt;br&gt;
&lt;a href=&quot;https://github.com/TanStack/query/blob/main/packages/react-query/src/infiniteQueryOptions.ts&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;infiniteQueryOptions.ts&lt;/code&gt;&lt;/a&gt;를 찾아낼 수 있습니다&lt;/p&gt;
&lt;p&gt;이제 docs에서 &lt;a href=&quot;https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions&quot;&gt;infiniteQueryOptions&lt;/a&gt;가 어떤 값을 가질 수 있는지 명세도 좀 보고, 소스코드를 주르륵 한번 봅니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;infiniteQueryOptions&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;initialData&lt;/code&gt; 프로퍼티를 가질 수도, 가지지 않을 수도 있는데&lt;br&gt;
타입 구현이 사실은 어떻게 되어있냐면..&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;initialData&lt;/code&gt;가 undefined버전인 type과, defined버전인 type이 따로 있습니다;;&lt;br&gt;
git blame 열어봤는데 무슨 이유에서 이렇게 됐는지는 잘 모르겠습니다 ㅜㅜ&lt;/p&gt;
&lt;p&gt;암튼간에, 이렇게 오버라이드된 type의 버전이 두 개고,&lt;br&gt;
optional할 때는 이 중 뭘 선택해도 &lt;code class=&quot;language-text&quot;&gt;initialData&lt;/code&gt;가 있거나 없거나인 양자중첩상태를 허용하지 않으니 문제가 생깁니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 249px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6b19ec1ed31044c26dab4641dc25c339/6a5fb/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 96.20253164556962%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAADxUlEQVR42m2TW2zbVBjHDQ+8gLgINAnxAEI8soGmCXErY9sTSDx1UARCIJUXoDwwaUV9GO2QWIs2NLWot2QJ69ptsKVdt6GhNEmj5eakudhOHNtx7Nwbx4lTNxcnviQNpwkUJvX/YH3n6Py+7390/oaarVayrtDlWo4Xdv6nTmdnk+fpspisq+lGyx8hry5dA9LrLt2HN5I1pam1oKLcmsVztxGiJkmdf9WFO41m844fnQtvLsW3D711AoKgo33HT37w4fMvHbzgIQuyBuUb6jJCbWYz6VQylU5TFOXz+QKBQCxGB4PBBE3fDcaMaPbw6+8eePrZVw4e+fPG3W++Oj3uwIpqG8oI5QTHbYsiSVJ+vx/DMIfDYTabw+EwKErFIpPJLhK5j4ZOv/Dci0ffODE0ODQy8tOkj96dXKlWm4oMTKIo6vV6bTYbQRA0TVu7AvtSvX49zHw7MfXoI4+9/eaxs8NjwyPnJgMsD+B2uw0uWK/XAQzcgoGgiEajCIIkEok8xzXqtRUyedEWevyJA6++fPj82PiZX6/MEjwnyVClVlPbWiKZcLvc6+vrwDnDMIC0WCygi9PpFLe2Lls9xpjwznv9D0MPHTn02i+3nfOsWGgoULa0xeQKSDAIwzDAcBwnSdLlctnt9lQqhSIIFU+cX7VOmMyrZs/Hnw6e+3nmlh278JcrX5OgnKTcDJGwy+kPgJksTceBW9AI9npzuVwYDa3ZneaNEB2LZ/ntU9+PXfnjHhVPl4q8oqoQL7em8MxKiKxUqp0HpWqa1eHO57neMpvhjh97/8zohCBs97IAFRrqXJzXRYtGOGpGqRCTYjc5MplxYNSCFzesuaRabacLF7jCU08+c7J/ANTtnfY/8DRVmI8VDczWjBc3eYK/2+FLPsIQLc6RpWUY62gqeI5e5vr6+kZHR0HRarXAF+Ibqp7kdXFhHk3iMaalyFKtei9ILLDiHM6tOgO7c7oChclkAhHYyy/EN1UDGBsvL6IsyGYIQUL+DVeE+i0mTAfYVbNdkRuKovSuDQb2sJ6AbUVH5Y10aR5JeiIxRZY5vriCMEY07YlSPM+DB8Ow8N4P8wDMNzVw28vJqoGt6rGCYc09s7gwMTuz5ob37IEWgiDsLf+Di/XGgj+itzh0N65fvWlYMvy4PPXd9PAn9y13uj613XhLUj6f3wcmo/jXn/WfHRrQ//DFtfEvL54amBz+3Dg2eEs/LgplcELTNBAbWZb3gYVSyWG1EVgIdtoJzJ+mQjkG5dkIG/axNAVOi6JYqVQ6++lvWuOZ8wEgNc8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;슈뢰딩거의 고양이&quot;
        title=&quot;&quot;
        src=&quot;/static/6b19ec1ed31044c26dab4641dc25c339/6a5fb/image-3.png&quot;
        srcset=&quot;/static/6b19ec1ed31044c26dab4641dc25c339/c26ae/image-3.png 158w,
/static/6b19ec1ed31044c26dab4641dc25c339/6a5fb/image-3.png 249w&quot;
        sizes=&quot;(max-width: 249px) 100vw, 249px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그래서 이렇게 일단 답변을 달았었습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/36cf200f8639259db752503a5251180a/1bba8/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 91.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC9ElEQVR42oWT2XLbSAxF9ToT25IoUVzEfRdJcdUur4lTrkrNw9T8/7/cud2MHCdOyg+3utkETgMNYKTaBdzVEVn3BX5xhh5uYERbzJwail1Bsaof61uJM7uGmZxgpWeoXg9lmWM0NRJobomg2GMZNphbOcQlUyPFhP+EhM3UTKGYGaZ6KvdjPZb/5nZJ/4p+BSZ6hJG2DJCVLaJVhdW6R15t+N2hbHdYdweUzZbnHVLabI532J2fsDs98HyPot6gok3d7eEEKa6nOkYLO0G9vUWzPaPd39HpAf1hcOz4vbt9RNUfUTQ7+b+lXU+b7emJdvfY337m/hFLL8aVAHpBjKrpaHiHbneHpGglXNwsohxgewRJiYXpQbN8qKbLaLRBE40gDeOZjmvFJNDzUOY5/KRCvGoQZWsJFakXBIq9T1ic1fCiHHaQwXCiH8BX8GIATjQPlp9BtwKYTkhFcq8vfZ4n0ll3AizdSEb217WCKzrfKPpPunoFqjZsAryoRFT0cOI1rHDNInWMJoflFvDDFl7QytUNSqgs5NwcNDN8aHaMMG8xUR0CFw4sJ0XefcWqucW6PWC1feL+wLR3TLdhdAR7hVxN2i4sRrsUCqUEUAQyWdgiQocGMfrmBV31BVXJAmQtwubMZr9nYXiBAGcNLPaqmW7hxTXssJARXqAi0rFqDykbboqif0Z7+g/N4V9W9TOcqMachoruyYje6gL5VYI1ElTTXyFpnpFVD2i7R9SHb2zmI1ulYmFygoM/Qt4BRcriPartP1hvXrCuzkg2zwjrE2IWyWax3qb2MZBF0d0MacNC9C98t6+IyqM8m/MiCbuk+kHaEngzt1ilCDM6TvmwU8Pju/lQNHeQ7v1Wl7Z5K1kURXNg2CFbIpar6QyrwUvE2ZKNLZr7ciYaX4zgDafj1+a+mbGxdfZQlDffYYODAFiEiUkR06PZwxQNNiEnyeNkqBy5xc8SkzJjejNdjNQcn8YL/D1WX9fL/p3kmOnvNTPxP8Ct8iBVBW6ZAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이슈에 답변 남김&quot;
        title=&quot;&quot;
        src=&quot;/static/36cf200f8639259db752503a5251180a/f058b/image-2.png&quot;
        srcset=&quot;/static/36cf200f8639259db752503a5251180a/c26ae/image-2.png 158w,
/static/36cf200f8639259db752503a5251180a/6bdcf/image-2.png 315w,
/static/36cf200f8639259db752503a5251180a/f058b/image-2.png 630w,
/static/36cf200f8639259db752503a5251180a/1bba8/image-2.png 642w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;요약하자면, 이러이렇게 해서 슈뢰딩거의 타입으로 지정하니까 안됐던거다, 대충 저런 바보같은 방식으로 고칠수는 있는데.. 좀 드럽긴함&lt;br&gt;
이라고 적어놨습니다&lt;/p&gt;
&lt;p&gt;사실 이러고 말면 좀 .. 그렇죠? 게다가 좀 간단하기도 하고, 고쳐보기로 했습니다&lt;/p&gt;
&lt;h1 id=&quot;고쳐봐요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B3%A0%EC%B3%90%EB%B4%90%EC%9A%94&quot; aria-label=&quot;고쳐봐요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;고쳐봐요&lt;/h1&gt;
&lt;p&gt;오픈소스 프로젝트에 기여할 때 가장 먼저 해야하는 것은&lt;br&gt;
대개 &lt;a href=&quot;https://github.com/TanStack/query/blob/main/CONTRIBUTING.md&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;CONTRIBUTING.md&lt;/code&gt;&lt;/a&gt;라는 이름의 기여 가이드라인을 읽는 것입니다&lt;br&gt;
여기서는 보통 프로젝트를 로컬에서 빌드하고, 코드를 작성/수정하고, 커밋하고, 테스트하고, PR하고, 어쩌구 저쩌구 하는 가이드라인을 줍니다&lt;/p&gt;
&lt;p&gt;그러니 그대로 따라서 빌드를 해주고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;pnpm run watch&lt;/code&gt;로 개발서버를 열어줍니다&lt;br&gt;
이제 &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;버전 타입을 수정하여 Optional이 가능하게 했습니다&lt;/p&gt;
&lt;p&gt;저는 처음엔 잘 몰라서 &lt;em&gt;examples/react/infinite-query/index.tsx&lt;/em&gt;같은 example코드에 버그 reproduce 코드를 써놓고&lt;br&gt;
&lt;em&gt;import &apos;../../packages/react-query/src/infiniteQueryOptions&apos;&lt;/em&gt; 처럼 가져와 사용하면서 확인했는데&lt;br&gt;
나중에 보시면 아시겠지만 각 소스코드들 근처에 test코드가 함께 있어서, 여기다가 테스트를 작성하며 작업하는게 좋겠습니다.&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 199px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/38ac151c65cd0f876b73658c97f17b30/3d64b/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 127.84810126582278%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAIAAAA44esqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF8klEQVR42hVU61Ma1xver51pP8QLCruwsOwVWBYQWFyuAQRFQCWYgBiLeIvRX6TG+6DEoPGexEjwhpch2hjbmDQdO8mkJsa002nTTKe3zO9L/pduzjzn/fCeeeZ9n/M+5wAsyyUuBsf7Rmuq6w1qNY3Cftf52traiw5LhDPGXfao2aDW6rw2XY2FrncxAaeGpii7has06AGX05IaHBztv2mzeS45LT1+y0yieelGeiDsSyWujF0bLQz0GPXmlgZrb2u0J97Q21Lt4rhKnd6m0wPXe7qG+nujly6Op8aO99ZfF+7fvrWYGRlZaA+/mB56fTdzMjtk5TyNPsfkcNfkYFtmuLs1GjEwWlZbAXBGVq9R6bXa+kB9qC7Eo6qqxmy2Ri9GHuUfPsjubiyteT31SpI2aCpYncGk11cwjI7RURgJkJTSYOC0GpYk1WIYE0ukcjmmZjR+b21LuLXK7vW5fXaTrVJvZDV6vZIhMZLAKS2jQ+UYEPAFWxovuR3nLWyl18HV2C3mCsZh5QJuN6thrKzBrDdoFSq9Wu0wsn672aivUClptVqD4xQQj8YSsXjQU7OQHv317PWbV6931nIMRRrUGlajsbAsrVCgMhlF4AoMNxsNVf66SovTxBptDhvwv6udTZHLodr6gSuJu7PTd+fnhq/14FIZhWFaglCgGCqTEwiqkCMKPmJ4TWOj0x/welw+nxcQgxJIJIJEII7ioBCERLBcihM46as0FTKjSwPd6fbEeKJ1urtjsquN70goAHE5UV0TDDY0AgRK6XUVKCI3mbimppam6Je+qhqZRJJqi7w7WP3l4c7/f3j215NHfx59/X120c1x0UjM4/bGWzvHUpMASSqNRpZR0TarLdbcmog0H96caPU6X20vPl+b27918+FM5re93Vf5XKYnMX9j8t2735ujTfV14ba2q0Ck2tcUizkd5+12h1ZnJKXI05lUfrT392+2fsjOZvu7ny5k3qzf2xxJTl1tK2zu7D/Y83m8Xo9vZHgCoEklrdSgKEnTjEwmFxSXL19PPlmY+OlB7p9nhz8/2Pj76Ov3B7sHU+PLA306lUaOYLRCLUdQkqABEmcgEIZhmUrFwBJpuQDUU4q7A1fOdlc+HH/719HB+4d77w/2/zgoLA1cl8GoHMExjJCIxRIhBOjUOitnqfUFUBSXwjJQJOZo1Wxv/CR/593h7su15aNb04+mpl6t5SJ+P6XUUITyExmW2LxOgFYo47GmgK9OIuaNiYIgHKtyTiTC66m+4+z8Sl/3TrL/dkf7wlfX1JTaZnX7fAGVSi2BxU63GWA0OpphEARHEAJHKV5C2GGb74u3+535ybE3uZVHya8O0uOB8/YygZjXaTJZKjkrZ7SwehNAkLyLSIwghUJYWAbBkKyCIlId0e6AK2jWpdpbprraL7hdX3z2ubAMFAlhCEIUSo3fH2oIRwE5QqKfCsocDldjY6S8DFIp6NTI4GZ2uaOleWJ46Gpn54VQKBqN8TeKIJhEIuWhVKnreIchMgJDFWUCKBRqPDt7u729FY8nZmfnTk/PAsHg+MT40ZOjvb29H388OT194/cHi4tLETkm432uVAMyKc5DDCH8E1tZya6u5kKhhp/evt3a2iIIIplMzszMzM3N7e/v86c2m0MgKOfniiC8oXFACmMwLMcwUiTih0iQJAWCEMdZnE4nSZKKT0upVNIsa3I6q3gvQRDMM8ViWCqTAyXFonD40uHhN99992x2dr5Q2NvYyKfTk+vr65nMzXQ6/eLFi1xu9d69le3tHb746OjY0dHTlstfnjtXDBSdK+vtufbhw78fP37ke8tmsy9fvnz+/Pnx8fHjx493dnZ4/snJST6f39zcOD09TSb7U+MTHo9XIBABglKwru7C+sbG7aU7fX3JQmF/cfH20NDQnTvLg4NDnZ1d09O3VldXOzo679/PpdM3vN7qWOwyBIklYhmvGRcKxUVFJSUlgqKiUg3D//y6kpLS8nIRnxEKQRCUgKC4rFzIZ8pL+Q1CoJjXDEGS/wB+wf8SsWm0egAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;누군가는 해야하잖아&quot;
        title=&quot;&quot;
        src=&quot;/static/38ac151c65cd0f876b73658c97f17b30/3d64b/image-4.png&quot;
        srcset=&quot;/static/38ac151c65cd0f876b73658c97f17b30/c26ae/image-4.png 158w,
/static/38ac151c65cd0f876b73658c97f17b30/3d64b/image-4.png 199w&quot;
        sizes=&quot;(max-width: 199px) 100vw, 199px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;누군가는 테스트 작성해야하잖아&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;그래서 아래처럼 고쳐놓고, PR을 열었습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;diff&quot;&gt;&lt;pre class=&quot;language-diff&quot;&gt;&lt;code class=&quot;language-diff&quot;&gt;export type DefinedInitialDataInfiniteOptions&amp;lt;
&lt;span class=&quot;token unchanged&quot;&gt;&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; TQueryFnData,
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; TError = DefaultError,
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; TData = InfiniteData&amp;lt;TQueryFnData&gt;,
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; TQueryKey extends QueryKey = QueryKey,
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; TPageParam = unknown,
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;&gt; = UseInfiniteQueryOptions&amp;lt;
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; TQueryFnData,
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; TError,
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; TData,
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; TQueryFnData,
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; TQueryKey,
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; TPageParam
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;&gt; &amp;amp; {
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; initialData:
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   | NonUndefinedGuard&amp;lt;InfiniteData&amp;lt;TQueryFnData, TPageParam&gt;&gt;
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   | (() =&gt; NonUndefinedGuard&amp;lt;InfiniteData&amp;lt;TQueryFnData, TPageParam&gt;&gt;)
&lt;/span&gt;&lt;span class=&quot;token inserted-sign inserted&quot;&gt;&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;    | undefined&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;고작 한 줄 써놓고 생색내는 것 같지만 여정은 지금부터 시작입니다&lt;br&gt;
그리고 사실 오픈소스 기여는 작은 기여와 큰 기여로 나뉘는게 아닌&lt;br&gt;
큰 기여와 개큰 기여로 나뉩니다. (뇌피셜임)&lt;/p&gt;
&lt;h2 id=&quot;아차-답변을-못-봤어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%95%84%EC%B0%A8-%EB%8B%B5%EB%B3%80%EC%9D%84-%EB%AA%BB-%EB%B4%A4%EC%96%B4%EC%9A%94&quot; aria-label=&quot;아차 답변을 못 봤어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;아차, 답변을 못 봤어요&lt;/h2&gt;
&lt;p&gt;후다닥 고쳐서 커밋,푸시하고 PR을 열었는데&lt;br&gt;
이슈에 답변이 달려있었습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/717ccf16bbc59ecceed495da052effda/7762d/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.93670886075949%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABY0lEQVR42p2S226DMAyGud2h0HKm4RRgnAItlLarNO39H+ufE2Bik3azi0+O4+i3HVtjcY7p+gCvR0RZgyAuFc4xg72wPW9xWI6Qt2BpDS8qYAccmh9mKNszqv6KpOhUkKUVrCClB6my85mTyMJylomiXCAmvDBX7zXDPuJ172FP9uCEMN0IlhfB9hO4x3S2LMPBZnjWbbwYzoKt/KedRZik4cKwAmimG6KfHhjun+iGO8T5juZ0hRhuqMQFWX1C1Y3Iyg5Z1SMtWuqkVX5aCHCyRd1T4hi66UvBCGJ8Rz8+EPOKqmSqQolMJn2F6oD9iRRTghYph7zGM5Uuy/4vu4M3t2xYc2adLtaAvkIZpb8+XqtQbH3L31RIrcnJypUZbh/0Lw08WocgLmgoHAGtg0/8EPvFmlSi6aaccIiEd+hGGgitT9NPaGkwdTepAfX0x2U7KF/IexW7gL8JOEHy3ZkU/AJ9ouyfyx/M9gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이런 답변이 있었네&quot;
        title=&quot;&quot;
        src=&quot;/static/717ccf16bbc59ecceed495da052effda/f058b/image-5.png&quot;
        srcset=&quot;/static/717ccf16bbc59ecceed495da052effda/c26ae/image-5.png 158w,
/static/717ccf16bbc59ecceed495da052effda/6bdcf/image-5.png 315w,
/static/717ccf16bbc59ecceed495da052effda/f058b/image-5.png 630w,
/static/717ccf16bbc59ecceed495da052effda/7762d/image-5.png 649w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;저는 &lt;code class=&quot;language-text&quot;&gt;Defined~~&lt;/code&gt;에서 받아주게 했는데&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;Undefined~~&lt;/code&gt;에서 해야한다고 하네요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;queryOptions&lt;/code&gt;에서도 그렇게 처리하고 있다고 합니다.&lt;/p&gt;
&lt;p&gt;그래서 다시 &lt;code class=&quot;language-text&quot;&gt;Undefined~~&lt;/code&gt;를 아래와 같이 수정했습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;diff&quot;&gt;&lt;pre class=&quot;language-diff&quot;&gt;&lt;code class=&quot;language-diff&quot;&gt;&lt;span class=&quot;token deleted-sign deleted&quot;&gt;&lt;span class=&quot;token prefix deleted&quot;&gt;-&lt;/span&gt; initialData?: undefined
&lt;/span&gt;&lt;span class=&quot;token inserted-sign inserted&quot;&gt;&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt; initialData?:
&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;  | undefined
&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;  | InitialDataFunction&amp;lt;
&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;    NonUndefinedGuard&amp;lt;InfiniteData&amp;lt;TQueryFnData, TPageParam&gt;&gt;
&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;    &gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;콜라보레이터가 답변에서 언급한 &lt;code class=&quot;language-text&quot;&gt;UndefinedInitialDataOptions&lt;/code&gt;도 아래처럼 생겼습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;UseQueryOptions&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;TQueryFnData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; TError&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; TData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; TQueryKey&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    initialData&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; InitialDataFunction&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;NonUndefinedGuard&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;TQueryFnData&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이와 일관성있게, &lt;code class=&quot;language-text&quot;&gt;UndefinedInitialDataInfiniteOptions&lt;/code&gt;도 &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;InitialDataFunction&lt;/code&gt;까지 커버 가능하게 타입을 수정하고 PR을 올렸습니다.&lt;/p&gt;
&lt;h2 id=&quot;근데-initialdatafunction과-noneundefinedguard는-먼가요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%BC%EB%8D%B0-initialdatafunction%EA%B3%BC-noneundefinedguard%EB%8A%94-%EB%A8%BC%EA%B0%80%EC%9A%94&quot; aria-label=&quot;근데 initialdatafunction과 noneundefinedguard는 먼가요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;근데 InitialDataFunction과 NoneUndefinedGuard는 먼가요?&lt;/h2&gt;
&lt;p&gt;근데 작성한 코드를 보면 &lt;code class=&quot;language-text&quot;&gt;InitialDataFunction&lt;/code&gt;이라는 것과 &lt;code class=&quot;language-text&quot;&gt;NonUndefinedGuard&lt;/code&gt;라는게 있습니다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;InitialDataFunction&lt;/code&gt;에 대해서 먼저 보면 사실&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;(() =&gt; NonUndefinedGuard&amp;lt;InfiniteData&amp;lt;TQueryFnData, TPageParam&gt;&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;라고 그냥 써두면 안되나? 싶지만&lt;br&gt;
소스코드에 보면 아래와 같이 정의되어 있습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InitialDataFunction&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그리고 콜라보레이터가 말해주기를&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 545px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4c12bf864895b5d4299b648c8ecc9c38/3ddad/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 83.54430379746836%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACvUlEQVR42n1U2XLaQBD0Y4I5BUIHoPtAQuIwBoPtFFVJJZX//6FOz0iKcR7y0LW7s7uzM9O98zCaOhhMLHjRGmFWI84rJPkOcVbBj9eIuF6GOYKkQJRukJV7eHGBuNjyfIWQtiTfIl1vIb4eGoc2jPkSrp9i1TpOix2yzQHr+oik2CMtOa+Ous6qA/J2b74IeHeFme1haNiNw6HhoD8yEfOVy+0nrrdfOJzfsAoZIaNYBTnnObMoFH5S6sM+0R/P8aVvKGTeOrQ1XEnleLnhcPqGav/CdLfIqyeU22em2kSUMtpkvdfoZa/gXrE9oTq8YO4GjcPR1EVvOKODGu/ff+Py/gNF/QxrEcJeRUQMexnB8WLaIljL1tbaxSbzyXzROPwymPFQDNMJ2mhdJeqRZfgfekNTA9E155ryeObADxNl0vESraeiJUscd5AL9xjNXIzlHINQ8MzDxHTxfr2yJk84nr9RBhVcIYHFNx1Pazs2F4qJwlVFjOggIDnn1xt2T1et31/ZaMqsQbk7oWZxNxwLEhAkG9VlfbgqMQlVkKx3qr8oLYkKGUkSBfQGUwzuWZ5QS9YyYXETpp7BJZp5yqKzvm5IRDratIl9alODlkf4WIQF134nbAszJ2TaJ4r2yEgvlMEr8vqEfHtGkG3hJRVRw+fPKPcXtdt+jhkfm/Ph6vjGh7KPCIetwLviNrA/0BXeaAIYGFZzR2XX4O9P6ZF2lylI+J3i5ef0J/PW8fwTZF/kIuiPzXZszqpDiwyJZIQ1l+QY5hIzy1M9isb+lY6wLOdF1Ia10jtjSkgjFB2Zi1QbwvP1hpzdRJqE/Flhz3R8PXjvUH5GuT+zWRyYWYINFfCpOXwl5YsgY0fZY8lRWpUfl5RMrVKRR7uUOqciky7V3nD6OeXHtobyijj/+FpNne5T7qBEtpHfZ/AHWfvDEsTUrzkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;콜라보레이터가 답변해줌&quot;
        title=&quot;&quot;
        src=&quot;/static/4c12bf864895b5d4299b648c8ecc9c38/3ddad/image-6.png&quot;
        srcset=&quot;/static/4c12bf864895b5d4299b648c8ecc9c38/c26ae/image-6.png 158w,
/static/4c12bf864895b5d4299b648c8ecc9c38/6bdcf/image-6.png 315w,
/static/4c12bf864895b5d4299b648c8ecc9c38/3ddad/image-6.png 545w&quot;
        sizes=&quot;(max-width: 545px) 100vw, 545px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;InitialDataFunction has undefined baked into the return value:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;반환값이 &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;일 수도 있는 경우에 대해 보장해주는 유틸함수타입이네요.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;baked into&lt;/code&gt;라는 말은 약간.. &lt;em&gt;이미 반영되어 떼어낼 수 없는? 실수로 들어가버린?&lt;/em&gt; 이런 뜻이라고 합니다&lt;/p&gt;
&lt;p&gt;그리고 &lt;code class=&quot;language-text&quot;&gt;NoneUndefinedGuard&lt;/code&gt;는 아래와 같이 정의되어 있습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NonUndefinedGuard&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;never&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;undefined는 never 안되게 해준다네요~&lt;/p&gt;
&lt;h1 id=&quot;테스트를-작성해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%95%B4%EC%9A%94&quot; aria-label=&quot;테스트를 작성해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;테스트를 작성해요&lt;/h1&gt;
&lt;p&gt;또한 아래와 같은 피드백도 받았습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f5cb8c6c1ba8677f2b55e9ae65e97351/1bba8/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 38.60759493670886%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABW0lEQVR42qWSyW6DQAyGOfXQkrAP68wQIEDIJiUhSdNF9FCpqqq+/9v89UxRlENvPXyy8Xj82x6Mz68PfNcdhsUGol4jygoEsSRybf1IgCU5XJZh4oRXpm4EPmsgqwXyqtM4QQrjcOyxlxVaXiASc33ZC4VGFfVCPlqhi9yiclUDES+R5jVsP4Fxd+/AySpsTgPm3Q6JbCGqFWLZwIty+EkBl6zyA/JDylWwtAQvV6i6A9klGJ/DJVFj6obwycmo/SxvkIiaihLUbUSXWDKjs5Y6aBCmBXUWX7H9FA7j2lpeAluNbNqMlHNs9hesd2ds+yfyz9idX9A/DtifXnEZ3nF8ftM5SlgUihacRFISzmjcmMZWIrqg2sVy26OhkWXZ6r397k7qM/Uw7jWW65hqgo2E6UznWN5YUCWrxZoWw4S+zZEHK9CYNzFzjP2FLqh+ASfIaOlSv5wK/ocf8zPTb98/CGUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;테스트 써달라고 하심&quot;
        title=&quot;&quot;
        src=&quot;/static/f5cb8c6c1ba8677f2b55e9ae65e97351/f058b/image-7.png&quot;
        srcset=&quot;/static/f5cb8c6c1ba8677f2b55e9ae65e97351/c26ae/image-7.png 158w,
/static/f5cb8c6c1ba8677f2b55e9ae65e97351/6bdcf/image-7.png 315w,
/static/f5cb8c6c1ba8677f2b55e9ae65e97351/f058b/image-7.png 630w,
/static/f5cb8c6c1ba8677f2b55e9ae65e97351/1bba8/image-7.png 642w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;테스트를 좀 작성해달라고 합니다.&lt;br&gt;
아, 사실 응당 그래야죠?&lt;/p&gt;
&lt;p&gt;테스트 파일에 가서 아래와 같은 항목을 만듭니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;allow optional initialData&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 두 번째 인자의 콜백 내에 테스트를 작성합니다.&lt;br&gt;
이전에는 실패하지만 제가 고친 이후로 성공하는 테스트를요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;allow optional initialData&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; initialData&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; example&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; example&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; queryOptions &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;infiniteQueryOptions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    queryKey&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;example&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function-variable function&quot;&gt;queryFn&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; initialData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// initialData below errors&lt;/span&gt;
    initialData&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; initialData
      &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pages&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;initialData&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pageParams&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function-variable function&quot;&gt;getNextPageParam&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    initialPageParam&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;expectTypeOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;queryOptions&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;initialData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;toMatchTypeOf&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
    InitialDataFunction&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;InfiniteData&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; example&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같이 짜줬습니다. 사실 처음에 Issue 열었던 분이 제보한 코드를 긁어다 넣었어요&lt;br&gt;
그리고는 이제&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token function&quot;&gt;expectTypeOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;targetObject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;toMatchTypeOf&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;TypeToMatch&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;와 같이, &lt;code class=&quot;language-text&quot;&gt;targetObject&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;TypeToMatch&lt;/code&gt;의 타입이 호환가능한지 테스트합니다.&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;pnpm run test&lt;/code&gt;로 테스트를 실행하면 되겠습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7a3089e8e69d933c71bdfdc7692c5d9c/3fe45/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 24.68354430379747%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABCUlEQVR42mWQOU/EMBCFU9CQy84mdmznWJFjwxawyR5CCRIUSEgIWlqo4S/w4x8TwyKkLT49j+2ZeTNO111iO/Rg1T2SeoTKSgi9BE8ySyRmjFWeHDVDECkiPcF5vJvw9voEtv9AcfOOTb9F011DFTVUXkOXDdKsgilbSHMBTfe6aMBiA5/L04KMugYLBR5pcFI3jHEexFa9MIHHhMX9d/aJIJJU8FhI/sYSTkjWzzwXL+MXnqdP7MY9DtMD2vWGnLTW0ex0fbXDcLiFoTgue1rPBFUNEPnqxzVNkKgSztzB5wIybZHqlpIrZMvV31gs1gjJeSRyxGlBMe1uYRAmOebpQnpnFmP/fQNpsIPDMf/5GAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;머지됨&quot;
        title=&quot;&quot;
        src=&quot;/static/7a3089e8e69d933c71bdfdc7692c5d9c/f058b/image-8.png&quot;
        srcset=&quot;/static/7a3089e8e69d933c71bdfdc7692c5d9c/c26ae/image-8.png 158w,
/static/7a3089e8e69d933c71bdfdc7692c5d9c/6bdcf/image-8.png 315w,
/static/7a3089e8e69d933c71bdfdc7692c5d9c/f058b/image-8.png 630w,
/static/7a3089e8e69d933c71bdfdc7692c5d9c/3fe45/image-8.png 699w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;짜잔~ 그렇게 머지됐습니다&lt;/p&gt;
&lt;h1 id=&quot;새로운-의견이-달렸어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%83%88%EB%A1%9C%EC%9A%B4-%EC%9D%98%EA%B2%AC%EC%9D%B4-%EB%8B%AC%EB%A0%B8%EC%96%B4%EC%9A%94&quot; aria-label=&quot;새로운 의견이 달렸어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;새로운 의견이 달렸어요&lt;/h1&gt;
&lt;p&gt;Merge된 PR에 새로운 의견이 달렸습니다.&lt;br&gt;
최초 이 이슈를 올리셨던 분이네요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3652a5e6922a9e52e77846962fa8e22c/96220/image-9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.36708860759494%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABvklEQVR42m2S2XIaMRBFeXUVDLMvGmk2zcJsgAGnsAHnwSTvcbnyCfn/P7huaRIqVebhlLq1XOl2a/bx/o7VsEEoJJKigeML2D7XzJeeZmEFd5mbPu2LwbOazq7gswwzkUk9GaUN6uEJWTUiqzdIK6IciBGBqOBE+V1cJvV6mDRwKZ89GOoVLuL1G7off1AdfyHqryiOH+DDG8LVKxz5Art4npDTqObcUqHyI5zyBEusMTPsEAt6Ou8uqE6/kW2vcLId6v0Vq8NPFOvvEN0ZaX9B0p8h2hPS4QIvP8BKd7A1j3RmDytuMZtqEaBsOrT9BrIZEVE9GcHTEpbHYFg+lnYA4z8WNDc3PT2q+nks0bEWXDoRJSGCuEBeDeC0IRQleK7qksFwGEwvxtJVcIo5LGrejUDA55Iu55OgQYLKuuknqLcv2DxTDVePSKgpQlJj6hGi6KlRI1jewoslCZQ3VGM4rTth+lfQjjSmJyBIZPN0wfpwRrP+hqrfU/cPKLudjmW7JcHiCy7LYZKDL5aVTUZ2WVqBJaUmVjHBs0bn2tEdluRyErQnyx59TItqZblUsxv0ctr8L58uv//RlcYnSXEMrfcoPIoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;새 의견&quot;
        title=&quot;&quot;
        src=&quot;/static/3652a5e6922a9e52e77846962fa8e22c/f058b/image-9.png&quot;
        srcset=&quot;/static/3652a5e6922a9e52e77846962fa8e22c/c26ae/image-9.png 158w,
/static/3652a5e6922a9e52e77846962fa8e22c/6bdcf/image-9.png 315w,
/static/3652a5e6922a9e52e77846962fa8e22c/f058b/image-9.png 630w,
/static/3652a5e6922a9e52e77846962fa8e22c/40601/image-9.png 945w,
/static/3652a5e6922a9e52e77846962fa8e22c/96220/image-9.png 1165w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;제가 수정한 내용은 아래처럼&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;diff&quot;&gt;&lt;pre class=&quot;language-diff&quot;&gt;&lt;code class=&quot;language-diff&quot;&gt;&lt;span class=&quot;token inserted-sign inserted&quot;&gt;&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;  initialData?:
&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;    | undefined
&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;    | InitialDataFunction&amp;lt;
&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;        NonUndefinedGuard&amp;lt;InfiniteData&amp;lt;TQueryFnData, TPageParam&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;초기값을 반환하는 함수를 허용하는 내용이었습니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;infiniteQueryOptions&lt;/code&gt;의 레퍼런스 격인 &lt;code class=&quot;language-text&quot;&gt;queryOptions&lt;/code&gt;도 똑같이 생겼구요&lt;br&gt;
그런데 이 분이 말씀하시기를, 초기값 반환 함수 뿐만 아니라 그냥 초기값 객체도 받아줘야 하는게 아니냐? 입니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; NonUndefinedGuard&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;InfiniteData&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;TQueryFnData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; TPageParam&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;요놈을 포함하도록 말이죠&lt;br&gt;
그리고 이것이 없음으로 인해서 TypeError가 나는 코드를 보여주셨습니다&lt;br&gt;
콜라보레이터분이 보시고는 ㅇㅋ 그럼 고쳐주시던지~ 라고 하셨어요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3f778044ec47069c1ed23ba5d4c477e1/a0b80/image-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 33.54430379746836%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA+ElEQVR42o2RzW6DMBCEOYe/AAZjgw0YDASC0lRReuj7P9d0cdVDq0biMFqv1xp/Y3vTekNnr2Blg1y0CBMOP85dPaLgXCCXLcblDl518JphxrTe0Q4LGa9Q/QWjnVEJiVNcIDpgembSAe3VY0SV5JUbRClHnJXUS7c+ShkS5SlijtZ7fHxieXvCTBtKZZGJnsgYfBoGL/Q3cloozNs7hOrh7bmHyw3GLtDDBqavjjjlNdWaDtfI+HdlXLlYwT+UcbanKndDA2UmSHJXrUWle1SNpfXo9nQ3QdO8pr4xMzh9gE8JwqT4pR9694Yp3RySe5SKQ9ppXukLEguxQL4XyCwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;그래서 PR을 올리셨음&quot;
        title=&quot;&quot;
        src=&quot;/static/3f778044ec47069c1ed23ba5d4c477e1/f058b/image-10.png&quot;
        srcset=&quot;/static/3f778044ec47069c1ed23ba5d4c477e1/c26ae/image-10.png 158w,
/static/3f778044ec47069c1ed23ba5d4c477e1/6bdcf/image-10.png 315w,
/static/3f778044ec47069c1ed23ba5d4c477e1/f058b/image-10.png 630w,
/static/3f778044ec47069c1ed23ba5d4c477e1/40601/image-10.png 945w,
/static/3f778044ec47069c1ed23ba5d4c477e1/a0b80/image-10.png 955w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그래서 이분이 직접 PR을 올리시고 머지되었습니다.&lt;/p&gt;
&lt;h2 id=&quot;그럼-queryoptions도-이렇게-바꿔줘야-하는거-아님&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%B8%EB%9F%BC-queryoptions%EB%8F%84-%EC%9D%B4%EB%A0%87%EA%B2%8C-%EB%B0%94%EA%BF%94%EC%A4%98%EC%95%BC-%ED%95%98%EB%8A%94%EA%B1%B0-%EC%95%84%EB%8B%98&quot; aria-label=&quot;그럼 queryoptions도 이렇게 바꿔줘야 하는거 아님 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그럼 &lt;code class=&quot;language-text&quot;&gt;queryOptions&lt;/code&gt;도 이렇게 바꿔줘야 하는거 아님?&lt;/h2&gt;
&lt;p&gt;근데 처음에 말씀드렸듯이, 초기값 반환 함수까지만 허용하고, 초기값 객체 자체는 명시하지 않은거는 &lt;code class=&quot;language-text&quot;&gt;queryOptions&lt;/code&gt;도 마찬가지입니다. 저도 그래서 함수만 포함했구요
근데 그럼.. &lt;code class=&quot;language-text&quot;&gt;infiniteQueryOptions&lt;/code&gt;에 초기값 객체도 줄 수 있게 타입을 명시한 PR이 Merge되었다면,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;queryOptions&lt;/code&gt;도 마찬가지로 수정되어야 하는게 아닌지?&lt;br&gt;
그래서 물어보니까,&lt;br&gt;
&lt;em&gt;&quot;물론, 전에는 실패하지만 수정 시 성공하는 테스트케이스를 작성 가능하다면요~&quot;&lt;/em&gt; 라고 하셨습니다&lt;/p&gt;
&lt;h2 id=&quot;그래서-2번째-pr을-준비했습니다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%B8%EB%9E%98%EC%84%9C-2%EB%B2%88%EC%A7%B8-pr%EC%9D%84-%EC%A4%80%EB%B9%84%ED%96%88%EC%8A%B5%EB%8B%88%EB%8B%A4&quot; aria-label=&quot;그래서 2번째 pr을 준비했습니다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그래서 2번째 PR을 준비했습니다.&lt;/h2&gt;
&lt;p&gt;그럼 이제 그것도 수정해봅시다.&lt;br&gt;
테스트 코드 먼저 짰어요 이번에는&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;should allow optional initialData object&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;testFn&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; options &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;queryOptions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      queryKey&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token function-variable function&quot;&gt;queryFn&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;something string&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      initialData&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; id &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;initial string&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;expectTypeOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;options&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;initialData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;toMatchTypeOf&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
      InitialDataFunction&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;testFn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;testFn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;data타입이 &lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;인 &lt;code class=&quot;language-text&quot;&gt;queryOptions&lt;/code&gt;를 만들고, &lt;code class=&quot;language-text&quot;&gt;initialData&lt;/code&gt;를 조건부에 따라 &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;으로 넘겨줍니다.&lt;br&gt;
이제 &lt;code class=&quot;language-text&quot;&gt;expectTypeOf().toMatchTypeOf&amp;lt;&gt;();&lt;/code&gt;로 확인해주면, 예상대로 수정 전에는 실패해요&lt;br&gt;
현재는 타입이 &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt; 또는, &lt;code class=&quot;language-text&quot;&gt;string을 뱉는 함수&lt;/code&gt;만 가능하니까요&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;queryOptions&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;UndefinedInitialDataOptions&lt;/code&gt; 타입을 고쳐줍시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;diff&quot;&gt;&lt;pre class=&quot;language-diff&quot;&gt;&lt;code class=&quot;language-diff&quot;&gt;&lt;span class=&quot;token deleted-sign deleted&quot;&gt;&lt;span class=&quot;token prefix deleted&quot;&gt;-&lt;/span&gt;  initialData?: undefined | InitialDataFunction&amp;lt;NonUndefinedGuard&amp;lt;TQueryFnData&gt;&gt;
&lt;/span&gt;&lt;span class=&quot;token inserted-sign inserted&quot;&gt;&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;  initialData?:
&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;    | undefined
&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;    | InitialDataFunction&amp;lt;NonUndefinedGuard&amp;lt;TQueryFnData&gt;&gt;
&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;    | NonUndefinedGuard&amp;lt;TQueryFnData&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 고치니 테스트가 통과합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1a37b74cefbfe1a6d20a36f78da09ff7/4dba2/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 38.60759493670886%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABh0lEQVR42nVSSZKbQBDk7JFYBfQCDYJmEYsEw2CNYg7+hm/zjHmZ35cuWpIjHA4fMiqrm66qzMI6DVdcXm9o+hnDdMVpXNAOCy7LDcv1g/iMiXjdXaDbEf1lxfn1au63N1xpCFXB9hn2Xgzr6+cv/Hj7BMtyqKKDzGqItAQ7nhGXK5hqIfWMuFgQH2cI/QauV8jijPTYIBIF3IMwxUzBPB8R8e2Qw6EubsDvPBDwwpTig0cp3DCBfZDYeQw7lwq4IU0WY+eEhu+9CBajkbNmAs9OCGVFE3WI0xN8XlJeIxAVAq4RJjRNUuMgNNwoN3AecfvGZxpOqGAFskE53KCa7wjSAb5sESQd7LjCPtJ/8My36PKW0Bh4oiV7ZoRqhMtKWDZJGqcV/fSOsl9RkfGqaFE2A45Vh6LuUVQ9GV8gp1yokuTe5T3xQpLNGVlmOWRokjdgSQFOy9iMFmSDpM1xeiwz2mJKcgJmzN88fS7gH2wF7Yfh36jLi3vvdkf0F/bmt3jA/x84fgMa5dVNQcLxbAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;2번째 PR&quot;
        title=&quot;&quot;
        src=&quot;/static/1a37b74cefbfe1a6d20a36f78da09ff7/f058b/image-11.png&quot;
        srcset=&quot;/static/1a37b74cefbfe1a6d20a36f78da09ff7/c26ae/image-11.png 158w,
/static/1a37b74cefbfe1a6d20a36f78da09ff7/6bdcf/image-11.png 315w,
/static/1a37b74cefbfe1a6d20a36f78da09ff7/f058b/image-11.png 630w,
/static/1a37b74cefbfe1a6d20a36f78da09ff7/40601/image-11.png 945w,
/static/1a37b74cefbfe1a6d20a36f78da09ff7/4dba2/image-11.png 1151w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이제 수정사항을 커밋/푸시하고, 풀리퀘를 올리고 머지되었습니다&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
여기까지였습니다.&lt;br&gt;
재밌었네요~&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 221px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a060992f5305a365b08cee6892b74546/cccdc/image-13.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 103.79746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFDElEQVR42gEBBf76ANvb29vb2+zs7O7u7vf39+7u7vPz8/X19fDw8Ozs7Ozs7ODg4O7u7u3t7e3t7ejo6Obm5unp6evr6/T09ADFxcbBwcHExMXNzc3a2tvDw8PLy8vX19fCwsLGxsbPz8/Hx8fDw8TCwsLLy8va2trb29vJycm4uLjS0dEAzMzM4eHhycnI4eHhyMjIw8PDx8bG29ra0dDQzMvL1tbXz9DP1tbW09PTzMzMxsbHycrK0dLS6+vs////AOXl5enp6N7e3fDw7+Li4dXW1ebm5u/v7t7e39vb3Obk5ebk5eTk49zc2+bn5tTU097d3OLh4Ozs6v7//QDHzM67vsHDwsfGx8rEyMvLz9aXkY9QSkN6bl1vY1JhW1O+vcK/v8S5ur/EvLXOspeYf22Xjn7Fva+pk3sAsLe7p7K2oqaqsLW5tb7Eqq2yMCkfLighVko5OS8eeXd1w8LJt7m/u8DHtKmkq4VphGJLraWc3tfQhGtPAJONiLrBwq+3urC3ube7wLC0uHp2cZV9dZJ0b3NdV5ubm7OztrGsqaOfmpmMgYlqUmhMO56TisjDvXBgTgBhU0CfjHKvpY2blYe2uL24vL/BxsnHp5m+lYqSeXalo6iZnJ15alaSemGMeGiSfnFlTTqrm4C4sKJtYVEAUEYzdl5DmnlleWpcvMLCzMrEgZK0c3B9hWlcWE5OrrW/xcLCn4Z4pIdylXtwfHFkfGtVxLOTX1I/Z1hDAHpxZGhWQ4hsWW5hUbq9u5ysy05mpTZKgEFFToF5a6+sqb/ByLSinYttYXpfUlZKN7+vj56OcDguIYV1WgB6b2aKgHGUiXWNfmGYmZhGYJ05Sn8xQHEcMFthZGdiYmGKjpWAdGF7ZUxFNyqNf2fBsY2vn3xlVkJfVEEAWVRIaGNafHVrkYNkeHqDQ1qWJTZhIjNfLTttGSZMFyZJZWdwjnlWkX1gf21VuamJuKmGg3NYZlhFXVJDAFZSRlRNQ1NMQGxiS2tvgEhfoTdMghkoUyIwXis4ZBcnUF1gZJuDXV5PN4t8YrysjLalhVNFM15PPGpcSgBUTkNUT0ZJRDtYTDheYXVGX6AsP20NHTsTIUcdKlEPH0JKTFSLeFWGdE+UhWisnHusnH6Rf2WCbU5NPzQAQDguWFJIPjgyST4sWlxnTGKjPE+EKjxmFCVGFSNHCx0/MThDgW9NhXNQo5R1tqaEqZl5lINpbF5HbmFRAEI7MVBKPzUuKUQ7LEZGRkdbj0VblE9npUlhnTVFbRsnQy40QYNxT4dzV7Gif62cfpuKb19SP2JWRY6CZwA/OzBNRz0yKiRBOCsxLCchMFA2RW44SHQ7S3heUlWefXhvX1qBdmCfjnCunXuci2+Yh26JdlqDcl2PgGcAOjQqRkE3LyokNy4gNjEsDx08EiA8GSZAGyY9OS4wpYB3kHNqSD4uaV5HqZh5l4dqhndcjnphhnZfkIBmADkzKUA8MSokIDUsHjYyKRAdPAwbPg0bOAoXMAcSK0k+RVFDRi0kHVJHNaqZe4p6XXxtU4V0WYFxW458ZQA+OCw9Oi4oJBouKBk3MiggKzxCSU49RUc9RkI+Q0E4PTc7PzZMRzVuZkeZjWeGd1t7bFOGdFmFc1qIdVsASEU/PTw1NzUvNjMrMjAoGR4mJSszIykvISYtHiEnICMiIiMkLywmQDwuVlFASkQ3RD4zTEQ3TEU3TkU3n1dw+4hh0G8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;오픈소스 밈&quot;
        title=&quot;&quot;
        src=&quot;/static/a060992f5305a365b08cee6892b74546/cccdc/image-13.png&quot;
        srcset=&quot;/static/a060992f5305a365b08cee6892b74546/c26ae/image-13.png 158w,
/static/a060992f5305a365b08cee6892b74546/cccdc/image-13.png 221w&quot;
        sizes=&quot;(max-width: 221px) 100vw, 221px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;오픈소스인 TanStack Query는 타입을 어떻게 정의해두는지도 살펴볼 수 있었고&lt;br&gt;
Type Test를 작성하는 법도 대충 알게 된 시간이었습니다&lt;br&gt;
오픈소스 들여다 보면 안목도 넓어지는게 좀 느껴지는 것 같기도 하구요&lt;/p&gt;
&lt;p&gt;특히 오픈소스 기여는 쌩판 모르는(심지어는 외국의) 개발자들이랑 소통하고 협업한다는게 좀 매력적이고 재밌습니다&lt;br&gt;
기술적인 이야기도 나누고, 코드를 리뷰하고, 피드백을 반영하고, 이런 일련의 과정이 너무 좋죠&lt;br&gt;
그리고 Node.js 기여할 때부터 좀 느꼈는데, PR이 거절될 때조차 의미가 큽니다. 거절당하는게 무서워서 의견도 못 내면 안되잖아요&lt;/p&gt;
&lt;p&gt;앞으로는 좀 주기적으로 꾸준히 기여해보는 것도 좋을 것 같아요&lt;br&gt;
Node.js 기여 팀에서 활동할 때 들었는데, 멘토님은 옛날에 한창 Node.js 기여활동 할 때는 아예 주 1회정도는 목표를 잡았다고 합니다&lt;br&gt;
Node.js같은 큰 프로젝트에서 어떻게 주 1회 기여를 하셨지..? ㄷㄷ;&lt;br&gt;
저도 좀 더 딥다이브로 기여해보고 해야겠어요&lt;/p&gt;
&lt;p&gt;맞다 그리고 2시간 전에 따끈따끈한 새 코멘트가..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1bda65898aa6237ae7ea7adf33dd6568/105d8/image-14.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.16455696202532%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB+0lEQVR42mWS23LTMBCGcwlDEjuWJflsy+dDnBMDhaFN0jS0wzXDA/HkPys5DAUuvvlXq9XuStrZ0vEgwhyqXqPudgiSkqgMflwQJUSgsHJD6NjFSv6DgOUECMMeXBaYvV26sN0AeT2g6rakaxTNiKLdIKt6qGry6wIrHmJui1fJPLyzXXBR4vvxJz4MPzC7+/gZQdZShyNcX4ERjpeBafwMCxYYloTFI9gihiNTikmnGELbKy+hvQizNC0QqQb95oCCuimpu248oBn21OEaFWnd742W7dbEOjKmRLG52W909zY9y+zNnMHL1sjGB2TDPfLxiGL3CNV/QqxapOWApBiQViPydmdU0rvyUGHhTN0bJfQbzxY2xyrawG2e4bZEczWw+gmsOsEp7okjnFJzJt8ZvLkQT5D9M/EC0X012FJNCVmyhdTO5gzRUiAh6uN0oLuS70K+658EtOb1Cbw6gpdfKPkj2Q+wRKYTunCSPVV4Ae+ewVud4Gp0ggr13+jACSw9wFV3cKKRDisin1TmxtYfN3UYjwiHK4L2BL87I+gv8PL34HEHmdFzRB0srzTYNGu2JPVq2H51ozZYjD5Fz5UIMvhJDhlmBi/K4UeK7BRhnIMJmr8lgy4+JyZ1Mbdc6BvOb9w+RYDJxCx08r+RNLjCDLDen/Bf2f/zC8t1KWiy/WpwAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;새로운 코멘트가 나왔어요&quot;
        title=&quot;&quot;
        src=&quot;/static/1bda65898aa6237ae7ea7adf33dd6568/f058b/image-14.png&quot;
        srcset=&quot;/static/1bda65898aa6237ae7ea7adf33dd6568/c26ae/image-14.png 158w,
/static/1bda65898aa6237ae7ea7adf33dd6568/6bdcf/image-14.png 315w,
/static/1bda65898aa6237ae7ea7adf33dd6568/f058b/image-14.png 630w,
/static/1bda65898aa6237ae7ea7adf33dd6568/40601/image-14.png 945w,
/static/1bda65898aa6237ae7ea7adf33dd6568/105d8/image-14.png 1170w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;새로운 모험의 냄새가?&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Three.js 공식문서로 시작해보기. - 2]]></title><description><![CDATA[! 주의 : TIL…]]></description><link>https://sungpaks.github.io/til/how-to-threejs-2/</link><guid isPermaLink="false">https://sungpaks.github.io/til/how-to-threejs-2/</guid><pubDate>Wed, 16 Oct 2024 22:28:10 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;/til/how-to-threejs-1&quot;&gt;저번 포스팅&lt;/a&gt;에서 기초 매뉴얼을 살펴봤습니다&lt;br&gt;
이번엔 심화 과정 &gt; 오브젝트 부분을 한번 봅시다.&lt;/p&gt;
&lt;h1 id=&quot;오브젝트를-업데이트-하는-방법&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95&quot; aria-label=&quot;오브젝트를 업데이트 하는 방법 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;오브젝트를 업데이트 하는 방법&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://threejs.org/docs/index.html#manual/ko/introduction/How-to-update-things&quot;&gt;공식문서&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;오브젝트들은&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; object &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Object3D&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
scene&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;object&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 장면에 추가되거나&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; object1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Object3D&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; object2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Object3D&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

object1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;object2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
scene&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;object1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//object1과 object2는 자동으로 자신들의 행렬구조를 업데이트할 것입니다.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 다른 오브젝트의 자식으로 장면에 추가되면&lt;br&gt;
기본적으로 자신의 행렬구조를 자동으로 업데이트합니다.&lt;br&gt;
라는 말 뜻을 완전히 이해하지 못하고 넘어갔었는데, 나중에 &lt;a href=&quot;https://threejs.org/docs/#manual/ko/introduction/Matrix-transformations&quot;&gt;행렬 변환&lt;/a&gt;에서 이 의미에 대한 복선이 조금 나옵니다.&lt;br&gt;
더 뭔소리지? 싶어지긴 하지만..&lt;/p&gt;
&lt;p&gt;아무튼간에, 자동으로 행렬구조를 업데이트하고싶지 않다면,&lt;br&gt;
기본 설정을 풀고 행렬구조를 수동으로 업데이트하게 할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;matrixAutoUpdate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updateMatrix&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이거에 대해서도 행렬 변환에서 또 다룹니다.&lt;/p&gt;
&lt;h2 id=&quot;buffergeometry&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#buffergeometry&quot; aria-label=&quot;buffergeometry permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;BufferGeometry&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;BufferGeometry&lt;/code&gt;는 꼭짓점 위치, 면 순서, 법선, 색 등 다양한 정보를 &lt;a href=&quot;https://threejs.org/docs/index.html#api/ko/core/BufferAttribute&quot;&gt;buffers&lt;/a&gt;에 저장하여 GPU보다 효율적으로 데이터를 전송할 수 있게 합니다.
이 &lt;code class=&quot;language-text&quot;&gt;buffers&lt;/code&gt;는 &lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Typed_arrays&quot;&gt;typed arrays&lt;/a&gt;입니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;buffers&lt;/code&gt;가 typed array이기 때문에, &lt;code class=&quot;language-text&quot;&gt;buffers&lt;/code&gt;의 크기를 동적으로 조절하기는 어렵습니다.&lt;br&gt;
대신에 배열에 담은 내용을 변경해야 합니다.&lt;br&gt;
이는 곧, &lt;code class=&quot;language-text&quot;&gt;BufferGeometry&lt;/code&gt;에 원소들을 새로 넣을 것이 예상된다면, 그만큼 충분한 크기의 &lt;code class=&quot;language-text&quot;&gt;buffers&lt;/code&gt; 공간을 확보해두어야 한다는 셈입니다.&lt;/p&gt;
&lt;h3 id=&quot;typed-arrays형식화-배열&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#typed-arrays%ED%98%95%EC%8B%9D%ED%99%94-%EB%B0%B0%EC%97%B4&quot; aria-label=&quot;typed arrays형식화 배열 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Typed Arrays(형식화 배열)?&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Typed_arrays&quot;&gt;typed arrays&lt;/a&gt;는 배열-like한 객체인데, 원시(raw) 이진 데이터에 액세스하기 위한 메커니즘을 제공합니다.&lt;br&gt;
이 때, 형식화 배열이 배열-like하다고 해서, 보통의 JS 배열과 완전히 비슷하진 않습니다.&lt;br&gt;
예를 들어, &lt;code class=&quot;language-text&quot;&gt;isArray&lt;/code&gt; 반환값은 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;이며, &lt;code class=&quot;language-text&quot;&gt;push, pop&lt;/code&gt;같은 일부 배열 메서드가 지원되지 않습니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;형식화 배열은 최대 유연성 및 효율을 위해 그 구현이 버퍼와 뷰로 나뉩니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;버퍼(&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer&quot;&gt;ArrayBuffer&lt;/a&gt;객체에 의해 구현됨)는 데이터 부분 또는 데이터 덩어리를 나타내는 객체입니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;이야기할 형식이 없으며, 그 콘텐츠에 액세스하기 위한 메커니즘을 제공하지 않습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이는 즉 &lt;code class=&quot;language-text&quot;&gt;ArrayBuffer&lt;/code&gt;가 그냥 단순 메모리 덩어리일 뿐이며, 이를 어떻게 해석하느냐(숫자로 봐야함? 문자로 봐야함? 등.)에 대한 정보를 하등 갖지 않습니다.&lt;br&gt;
마치 &lt;strong&gt;비어있는 그릇&lt;/strong&gt;처럼, 그냥 2byte를 담을 수 있냐, 4byte를 담을 수 있냐 등의 데이터 사이즈를 정할 뿐입니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;버퍼에 포함된 메모리에 객세스하려면 뷰를 사용합니다. 뷰는 context(데이터 형, 시작 오프셋 및 요소 수 등)울 제공하여 데이터를 실제 형식화 배열로 바꿉니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;예를 들어, 16byte를 포함하는 ArrayBuffer가 있다고 생각합시다.&lt;br&gt;
이를 &lt;code class=&quot;language-text&quot;&gt;UInt32Array&lt;/code&gt; 뷰로 읽으면 4개의 Unsigned Int로 잘라낼 수 있습니다.&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/daacc0126d43a1462890484e87c0b135/ace37/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+UlEQVR42o2R0W7DIAxF+f9fXJYsaccKxgacLlOiJdkF1L7spciyTq6vjVHM+TjLsozT5dN+Xa1licd5/u77/9iP4wkGPdZa513KSixBIjIxcvShQJBEEl1gT4yS88ER33yA36jq8DGM0xRYqlt8AUZGA4nQo9k1kQLg5inlbHJO6JymC4tgGBZWnZELx6TzHRyzSkqtWjgmFHSe0ZzLzeMYmBOstYDlwfA1zkXPyI1xCfSss4kxdt37MAwOb4oZZfRjNzgACDwBDB35ydAxzUB867q+7z0RpraAo4Hev0NdVetnubCKgKRqjnrwq9Z1W9bt57WAc922P+ggwt/LZnL3AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;어레이버퍼&quot;
        title=&quot;&quot;
        src=&quot;/static/daacc0126d43a1462890484e87c0b135/f058b/image.png&quot;
        srcset=&quot;/static/daacc0126d43a1462890484e87c0b135/c26ae/image.png 158w,
/static/daacc0126d43a1462890484e87c0b135/6bdcf/image.png 315w,
/static/daacc0126d43a1462890484e87c0b135/f058b/image.png 630w,
/static/daacc0126d43a1462890484e87c0b135/ace37/image.png 666w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;MDN docs의 참고사진자료&lt;/figcation&gt;
&lt;/figure&gt;
&lt;p&gt;이처럼 &lt;code class=&quot;language-text&quot;&gt;ArrayBuffer&lt;/code&gt;에는 일반 고정 길이 이진 데이터 버퍼를 나타내기 위한 데이터타입이고, 이를 직접 조작할 수 없습니다.&lt;br&gt;
대신 &lt;code class=&quot;language-text&quot;&gt;UInt32Array&lt;/code&gt;같은 &lt;strong&gt;형식화 배열 뷰&lt;/strong&gt; 또는 &lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/DataView&quot;&gt;DataView&lt;/a&gt;를 따로 만들고 버퍼의 콘텐츠를 읽거나 씁니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;형식화 배열 뷰는 자체 설명형 이름을 갖습니다. 예를 들어, &lt;code class=&quot;language-text&quot;&gt;Int8, Uint32&lt;/code&gt; 등. 모든 일반 숫자형을 위한 뷰를 제공합니다.
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Typed_arrays#%ED%98%95%EC%8B%9D%ED%99%94_%EB%B0%B0%EC%97%B4_%EB%B7%B0&quot;&gt;여기&lt;/a&gt;에서 자세한 설명&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;DataView는 버퍼에 임의로 데이터를 쓰고 읽기 위해 getter, setter API를 제공하는 저수준 인터페이스입니다.
&lt;ul&gt;
&lt;li&gt;형식화 배열 뷰는 플랫폼의 &lt;a href=&quot;https://developer.mozilla.org/ko/docs/Glossary/Endianness&quot;&gt;엔디언&lt;/a&gt;에 따르지만, &lt;code class=&quot;language-text&quot;&gt;DataView&lt;/code&gt;는 이와 독립적으로 바이트 순서를 제어할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;예를 들어,&lt;br&gt;
먼저 16바이트 고정 길이 버퍼를 생성합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; buffer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ArrayBuffer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이건 그냥 빈 그릇만이 존재할 뿐입니다.&lt;br&gt;
딱히 뭐 할 수 있는건 없고, 해봤자 아래같은 것 뿐입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;buffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;byteLength &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;YES, 16 bytes.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 이 버퍼로 뭔가 작업하려면 뷰를 만듭니다. 예를 들어, 형식화 배열 뷰 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; int32View &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Int32Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;buffer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그럼 이제 보통 배열처럼, 배열의 원소에 액세스하여 읽고 쓸 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; int32View&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  int32View&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;16byte 고정길이 버퍼를 &lt;code class=&quot;language-text&quot;&gt;Int32Array&lt;/code&gt;(4byte씩) 잘랐으니, 4개 항목이 나옵니다.&lt;br&gt;
for문을 실행하면 배열의 4개 항목은 각각 0,2,4,6으로 값이 채워집니다.&lt;/p&gt;
&lt;p&gt;형식화 배열에 대해서는 이만 마칩시다.&lt;br&gt;
아무튼 이러한 이유로, &lt;code class=&quot;language-text&quot;&gt;BufferGeometry&lt;/code&gt;는 동적으로 길이를 늘렸다 줄일 수 없습니다.&lt;/p&gt;
&lt;h2 id=&quot;매-렌더링마다-랜덤하게-확장되는-선을-그리기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A7%A4-%EB%A0%8C%EB%8D%94%EB%A7%81%EB%A7%88%EB%8B%A4-%EB%9E%9C%EB%8D%A4%ED%95%98%EA%B2%8C-%ED%99%95%EC%9E%A5%EB%90%98%EB%8A%94-%EC%84%A0%EC%9D%84-%EA%B7%B8%EB%A6%AC%EA%B8%B0&quot; aria-label=&quot;매 렌더링마다 랜덤하게 확장되는 선을 그리기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;매 렌더링마다 랜덤하게 확장되는 선을 그리기&lt;/h2&gt;
&lt;p&gt;buffer에 최대 500개 꼭짓점을 할당하고, 0개 점부터 시작하는 코드를 만들어봅시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/*
boiler plate (scene, camera) 생성
*/&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;MAX_POINTS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//500개 꼭짓점으로 한정하기.&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; geometry &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;BufferGeometry&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//BufferGeometry를 생성&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; positions &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Float32Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;MAX_POINTS&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//x,y,z 담아야하니 3배&lt;/span&gt;
geometry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;position&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;BufferAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;positions&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//position이라는 속성을 설정하고, BufferAttribute를 생성&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; drawCount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//0에서부터 시작&lt;/span&gt;
geometry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setDrawRange&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; drawCount&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 0~drawCount까지&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 빨간색 재질 생성&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; material &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;LineBasicMaterial&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff0000&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//기하학과 재질로 line 생성하고, 추가&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; line &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Line&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;geometry&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; material&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
scene&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;line&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 아래처럼, 무작위 패턴을 추가하여 업데이트합시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updatePositions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; positionsAttribute &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; line&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;geometry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;position&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;drawCount &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;MAX_POINTS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; drawCount
      &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; positionsAttribute&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getX&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;drawCount &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; drawCount
      &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; positionsAttribute&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;drawCount &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; z &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; drawCount
      &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; positionsAttribute&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getZ&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;drawCount &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    positionsAttribute&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setXYZ&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;drawCount&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; z&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    drawCount&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    drawCount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  line&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;geometry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setDrawRange&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; drawCount&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 첫 렌더링 이후 그려낼 점의 갯수를 변경.&lt;/span&gt;
  positionsAttribute&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;needsUpdate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 첫 렌더링 이후 position 데이터 수치를 변경하게 함.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;drawCount % MAX_POINTS&lt;/code&gt;로 분기를 처리하면 더 간단하겠네요&lt;br&gt;
암튼간에 &lt;code class=&quot;language-text&quot;&gt;MAX_POINTS&lt;/code&gt;보다 &lt;code class=&quot;language-text&quot;&gt;drawCount&lt;/code&gt;가 적은 동안은, 이전 위치를 기준으로 랜덤하게 뻗는 위치를 생성하고,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;positionAttribute.setXYZ(drawCount, x,y,z)&lt;/code&gt;로 drawCount번째에 새 꼭짓점을 추가합니다.&lt;br&gt;
그 뒤 **position 데이터의 변경이 적용되게 하려면 &lt;code class=&quot;language-text&quot;&gt;positionAttribute.needsUpdate=true&lt;/code&gt;로 선언해줍니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;첫 렌더링 이후에 position 데이터 수치를 변경한다면, bounding volumes를 재계산해서 다른 엔진의 절두체 컬링 혹은 헬퍼같은 특성들이 적절히 작동하도록 해야합니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;line.geometry.computeBoundingBox();&lt;/code&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;line.geometry.computeBoundingSphere();&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://jsfiddle.net/t4m85pLr/1/&quot;&gt;이런 결과&lt;/a&gt;가 나옵니다.&lt;/p&gt;
&lt;h2 id=&quot;재질-materials&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%AC%EC%A7%88-materials&quot; aria-label=&quot;재질 materials permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;재질 Materials&lt;/h2&gt;
&lt;p&gt;모든 uniforms 값들은 자유롭게 변경 가능. 예를 들어, colors, textures, opacity ..&lt;br&gt;
이 값들은 매 프레임마다 shader에 전송됩니다.&lt;br&gt;
또한 depthTest, blending, polygonOffset처럼 GLstate관련 파라미터 또한 언제나 변경할 수 있습니다.&lt;/p&gt;
&lt;p&gt;런타임(재질이 최소 한 번 렌더링 된 이후)에 쉽게 변경할 수 없는 속성들&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;uniforms의 갯수와 타입.&lt;/li&gt;
&lt;li&gt;아래 속성들의 사용/비사용 여부
&lt;ul&gt;
&lt;li&gt;texture, fog, vertex colors, morphing, shadow map, alpha test, transparent&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이러한 요소들을 변경하려면 아래처럼 선언하여 새로운 shader 프로그램을 생성하게 해야 합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;material&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;needsUpdate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;근데 이건 매우 느리고 프레임이 끊겨보일 수 있습니다. (특히 shader 편집이 DirectX에서 OpenGL보다 느린, Windows같은 경우)&lt;/p&gt;
&lt;p&gt;좀 더 부드럽게 하려면, 밝기 0인 빛, 흰 텍스처, 밀도 0인 안개 등의 &quot;가상 값&quot;을 가지도록 특성을 변경하는 방법이 있습니다.&lt;/p&gt;
&lt;p&gt;이렇듯, 어떤 기하학 블록에 사용되는 재질은 자유롭게 바꿀 수 있지만, 오브젝트를 블록으로 나누는 구성은 변경할 수 없습니다.&lt;br&gt;
라는 말의 뜻이 잘 와닿지 않았는데, 오브젝트의 기하학적 구조 또는 특성(면을 나누는 방식, 꼭짓점의 연결 구성 등)을 변경할 수 없다는 말 같네요&lt;/p&gt;
&lt;h3 id=&quot;런타임-중에-재질을-서로-다르게-설정해야-할-때&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%9F%B0%ED%83%80%EC%9E%84-%EC%A4%91%EC%97%90-%EC%9E%AC%EC%A7%88%EC%9D%84-%EC%84%9C%EB%A1%9C-%EB%8B%A4%EB%A5%B4%EA%B2%8C-%EC%84%A4%EC%A0%95%ED%95%B4%EC%95%BC-%ED%95%A0-%EB%95%8C&quot; aria-label=&quot;런타임 중에 재질을 서로 다르게 설정해야 할 때 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;런타임 중에 재질을 서로 다르게 설정해야 할 때&lt;/h3&gt;
&lt;p&gt;재질과 블록 수가 적은 경우, 오브젝트를 미리 분리해둘 수 있습니다.&lt;br&gt;
예를 들어, 사람을 머리/얼굴/상의/바지, .. 이렇게&lt;/p&gt;
&lt;p&gt;그러나 모든 얼굴들이 조금씩 다른 경우처럼 그 수가 너무 많다면, 속성/텍스처를 사용하여 얼굴마다 다른 형태를 입히는 방법 등을 생각해볼 수 있습니다.&lt;/p&gt;
&lt;h2 id=&quot;텍스처&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%85%8D%EC%8A%A4%EC%B2%98&quot; aria-label=&quot;텍스처 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;텍스처&lt;/h2&gt;
&lt;p&gt;사진, 그림, 영상 및 데이터 텍스처를 변경했으면, 이 경우에도 플래그를 설정해야합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;texture&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;needsUpdate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;카메라&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%B9%B4%EB%A9%94%EB%9D%BC&quot; aria-label=&quot;카메라 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;카메라&lt;/h2&gt;
&lt;p&gt;카메라의 위치와 대상은 자동으로 업데이트됩니다.&lt;br&gt;
만약 변경을 원하는 경우&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;fov&lt;/li&gt;
&lt;li&gt;aspect&lt;/li&gt;
&lt;li&gt;near&lt;/li&gt;
&lt;li&gt;far&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이러한 속성을 변경한 직후, 행렬구조를 다시 계산하게 합니다.&lt;br&gt;
예를 들어:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;camera&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;aspect &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerWidth &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHeight&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
camera&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updateProjectionMatrix&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;h1 id=&quot;오브젝트를-폐기하는-방법&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%ED%8F%90%EA%B8%B0%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95&quot; aria-label=&quot;오브젝트를 폐기하는 방법 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;오브젝트를 폐기하는 방법&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://threejs.org/docs/index.html#manual/ko/introduction/How-to-dispose-of-objects&quot;&gt;오브젝트를 폐기하는 방법&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;three.js의 인스턴스는 생성될 때마다 일정량의 메모리를 할당합니다.&lt;br&gt;
이들은 특정 개체에 대한 기하학적 구조나 WebGL 재질(버퍼 또는 쉐이더) 개체의 렌더링에 필요한 것입니다.&lt;br&gt;
그러나 이러한 오브젝트들은 자동으로 폐기되지 않습니다.&lt;/p&gt;
&lt;h2 id=&quot;기하학&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B8%B0%ED%95%98%ED%95%99&quot; aria-label=&quot;기하학 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;기하학&lt;/h2&gt;
&lt;p&gt;기하학은 속성 집합으로 정의된 꼭짓점 정보를 표시합니다.&lt;br&gt;
three.js는 속성마다 하나의 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/WebGLBuffer&quot;&gt;WebGLBuffer&lt;/a&gt; 유형의 객체를 만들어 내부에 저장합니다.&lt;br&gt;
이러한 객체는 &lt;a href=&quot;https://threejs.org/docs/index.html#api/ko/core/BufferGeometry.dispose&quot;&gt;BufferGeometry.dispose&lt;/a&gt;를 호출할 때만 폐기됩니다.&lt;br&gt;
그러니 만약 어플리케이션에서 기하학 객체가 더이상 사용되지 않는다면, 이를 호출하여 폐기하세요.&lt;/p&gt;
&lt;h2 id=&quot;재질&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%AC%EC%A7%88&quot; aria-label=&quot;재질 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;재질&lt;/h2&gt;
&lt;p&gt;재질은 오브젝트가 어떻게 랜더링되는지를 정의합니다. three.js는 재질에 정의된 정보를 사용하여 렌더링을 위한 하나의 쉐이더 프로그램을 구축합니다.&lt;br&gt;
이 쉐이더 프로그램은 해당 재질이 폐기된 후에만 삭제 가능합니다.&lt;br&gt;
성능상의 이유로, three.js는 가능하다면 활용 가능한 쉐이더 프로그램을 재사용하게 되어있습니다.&lt;br&gt;
따라서 쉐이더 프로그램은 모든 관련 재질들이 사라진 후에야 삭제될 수 있으며, &lt;code class=&quot;language-text&quot;&gt;Material.dispose()&lt;/code&gt;를 호출하여 재질을 폐기할 수 있습니다.&lt;/p&gt;
&lt;h2 id=&quot;텍스처-1&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%85%8D%EC%8A%A4%EC%B2%98-1&quot; aria-label=&quot;텍스처 1 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;텍스처&lt;/h2&gt;
&lt;p&gt;재질의 폐기는 텍스처에 영향을 미치지 않습니다. 이들은 분리되어있고, 따라서 하나의 텍스처를 여러 재질에 동시에 사용할 수 있습니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;Texture&lt;/code&gt; 인스턴스를 만들 때마다 three.js는 내부에서 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/WebGLTexture&quot;&gt;WebGLTexture&lt;/a&gt; 인스턴스를 만듭니다.&lt;br&gt;
이는 기하학의 &lt;code class=&quot;language-text&quot;&gt;WebGLBuffer&lt;/code&gt;에서와 비슷하게, &lt;code class=&quot;language-text&quot;&gt;Texture.dispose()&lt;/code&gt;를 호출하여 삭제합니다.&lt;/p&gt;
&lt;p&gt;근데 만약 texture가 &lt;code class=&quot;language-text&quot;&gt;ImageBitmap&lt;/code&gt;을 사용하는데, 이제 폐기해야 한다면, &lt;code class=&quot;language-text&quot;&gt;ImageBitmap.close()&lt;/code&gt;를 호출하여 어플리케이션 레벨에서 모든 CPU 자원을 폐기하도록 해야 합니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;Texture.dispose()&lt;/code&gt;에 의해 자동으로 &lt;code class=&quot;language-text&quot;&gt;ImageBitmap.close()&lt;/code&gt;가 트리거되게 할 수는 없는게, 엔진은 이미지 비트맵이 다른 어디서 쓰이는지 아닌지를 알 수 없습니다.&lt;/p&gt;
&lt;h2 id=&quot;렌더링-대상&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A0%8C%EB%8D%94%EB%A7%81-%EB%8C%80%EC%83%81&quot; aria-label=&quot;렌더링 대상 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;렌더링 대상&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;WebGLRendererTarget&lt;/code&gt; 타입의 오브젝트는 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/WebGLTexture&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;WebGLTexture&lt;/code&gt;&lt;/a&gt;의 인스턴스가 할당되어 있으며, 이 뿐만 아니라 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/WebGLFramebuffer&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;WebGLFramebuffer&lt;/code&gt;&lt;/a&gt;와 &lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/API/WebGLRenderbuffer&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;WebGLRendererbuffer&lt;/code&gt;&lt;/a&gt;도 할당되어 커스텀 렌더링 타겟을 실체화합니다.&lt;br&gt;
이러한 오브젝트는 &lt;code class=&quot;language-text&quot;&gt;WebGLRenderingTarget.dispose()&lt;/code&gt;를 실행하여 폐기합니다.&lt;/p&gt;
&lt;h2 id=&quot;그-외&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%B8-%EC%99%B8&quot; aria-label=&quot;그 외 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그 외&lt;/h2&gt;
&lt;p&gt;컨트롤러나 후기 처리 프로세스처럼 &lt;code class=&quot;language-text&quot;&gt;dispose()&lt;/code&gt;메서드가 제공되어 내부 이벤트리스너나 렌더링 타겟을 폐기할 수 있는 친구들이 있습니다.&lt;br&gt;
일반적으로, API나 파일을 열람하여 &lt;code class=&quot;language-text&quot;&gt;dispose()&lt;/code&gt;가능한지 확인하는 것이 좋습니다.&lt;br&gt;
이 메서드가 존재한다면 당연히 그 메서드를 이용하여 폐기해야 합니다.&lt;/p&gt;
&lt;h1 id=&quot;샘플&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%83%98%ED%94%8C&quot; aria-label=&quot;샘플 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;샘플&lt;/h1&gt;
&lt;p&gt;샘플을 한 번 만들어보려고 합니다.&lt;br&gt;
&quot;오브젝트를 업데이트하는 방법&quot;에서 배운 내용으로, 순간마다(MAX에 도달하기 전까지) 오브젝트를 새로 추가고,&lt;br&gt;
&quot;오브젝트를 폐기하는 방법&quot;에서 배운 내용으로, 순간마다(0에 도달하기 전까지) 오브젝트를 삭제합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;THREE&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;three&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; scene &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Scene&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; camera &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;PerspectiveCamera&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;75&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerWidth &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHeight&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
camera&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
camera&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; renderer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WebGLRenderer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerWidth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;domElement&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getRandomColor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;#&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;16777215&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;padStart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; objects &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;addSphere&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; geometry &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;SphereGeometry&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; material &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;MeshBasicMaterial&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;wireframe&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getRandomColor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sphere &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Mesh&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;geometry&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; material&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  sphere&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//sphere.position.set((objects.length % 10) * 2, (objects.length / 10) * 2);&lt;/span&gt;
  objects&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sphere&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  scene&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sphere&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;memory&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;removeSphere&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; randomIndex &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; objects&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; object &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; objects&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;splice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;randomIndex&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  scene&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;object&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;geometry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dispose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;material&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dispose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;memory&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; radius &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 공전할 반지름&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; theta &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 각도 (라디안 값)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 카메라가 (0,0,0)을 주시하면서 공전하는 함수&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updateCameraPosition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  theta &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.01&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 공전 속도 (값을 조절하여 속도를 변경 가능)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 삼각함수를 이용해 카메라의 x, z 좌표를 업데이트 (y 좌표는 고정)&lt;/span&gt;
  camera&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; radius &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;theta&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  camera&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;z &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; radius &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;theta&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 카메라가 항상 (0, 0, 0)을 바라보도록 설정&lt;/span&gt;
  camera&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lookAt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; addPhase &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;animate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;objects&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      addPhase &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;objects&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      addPhase &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;addPhase&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;addSphere&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;removeSphere&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;updateCameraPosition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;scene&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; camera&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/x32ht8?view=preview&amp;module=%2Fsrc%2Findex.js&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;Three.js playground (forked)&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;p&gt;&lt;br&gt;
잘 폐기되었는지는 렌더러 객체의 info 속성에서 확인할 수 있습니다.&lt;br&gt;
예를 들어, &lt;code class=&quot;language-text&quot;&gt;texture&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;geometry&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;console.log(renderer.info.memory);&lt;/code&gt;와 같이 로그를 찍어 확인해볼 수 있습니다.&lt;/p&gt;
&lt;p&gt;카메라 공전도 넣어봤습니다.&lt;br&gt;
0,0,0을 바라보며, 반지름 50의 원 궤도를 공전합니다.&lt;br&gt;
근데 카메라가 아니라 물체들이 움직이는 것 같죠?&lt;br&gt;
좌표계는 언제나 상대적이니 당연지사입니다.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
재밌는데요..&lt;br&gt;
옛날에 물리천문학과 수업에서 등한시했던 수학 이론들이 점점 나옵니다 ㅜㅜ&lt;br&gt;
악! 뭐지 이 기억은?&lt;/p&gt;
&lt;p&gt;이만 마칩니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Three.js 공식문서로 시작해보기. - 1]]></title><description><![CDATA[! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다. 최근에 Three.js 스터디를 시작하게 되었는데요 Three.js는 JavaScript로 3D…]]></description><link>https://sungpaks.github.io/til/how-to-threejs-1/</link><guid isPermaLink="false">https://sungpaks.github.io/til/how-to-threejs-1/</guid><pubDate>Sun, 13 Oct 2024 20:33:25 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;최근에 Three.js 스터디를 시작하게 되었는데요&lt;br&gt;
&lt;a href=&quot;https://threejs.org/&quot;&gt;Three.js&lt;/a&gt;는 JavaScript로 3D 그래픽을 구현할 수 있게 해주는 라이브러리입니다.&lt;/p&gt;
&lt;p&gt;공식문서를 쭉 한번 읽어보며 뭘 할 수 있는지를 좀 보려고 해요&lt;br&gt;
심지어 Three.js는 &lt;a href=&quot;https://threejs.org/docs/index.html#manual/ko/introduction/Installation&quot;&gt;한국어 docs&lt;/a&gt;를 지원합니다.&lt;br&gt;
영어 docs면 피로감이 391% 추가되는데, 아주 좋네요&lt;br&gt;
시작해보겠습니다.&lt;/p&gt;
&lt;p&gt;설치는 위 docs에서 쉽게 설치할 수 있습니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm install three&lt;/code&gt;처럼 패키지매니저로 설치할 수도 있고,&lt;br&gt;
CDN으로 가져다 쓸 수도 있구요&lt;/p&gt;
&lt;h1 id=&quot;장면을-만들기--spinning-cube&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%A5%EB%A9%B4%EC%9D%84-%EB%A7%8C%EB%93%A4%EA%B8%B0--spinning-cube&quot; aria-label=&quot;장면을 만들기  spinning cube permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;장면을 만들기 : spinning cube&lt;/h1&gt;
&lt;p&gt;설치 후 가장 먼저 보이는 것은 &lt;a href=&quot;https://threejs.org/docs/index.html#manual/ko/introduction/Creating-a-scene&quot;&gt;Scene 만들기&lt;/a&gt; 단계입니다.&lt;br&gt;
먼저 &lt;code class=&quot;language-text&quot;&gt;import * as THREE from &apos;three&apos;&lt;/code&gt; 처럼 Three.js의 모듈을 import하고 시작합시다.&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f90474833d478d4bc12466725895a674/d10fb/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 103.16455696202532%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsTAAALEwEAmpwYAAADVklEQVR42mPQwQD2YGBpaeng4ODu7m5ra+vj42NkZKStrY2mkgGND1QRHByclJQUFRUVGRkJJF1cXGJiYszMzLS0tAhoBgJ1DQ0VNXUNTRDQ0NBQ19RQ11DH1IlNs66ulqamvpqygZYmUIO2ppa+uramirquri6SEl0IF6QZaAPEYF19fSDDwtHFf/5O75ZpRurq7pGBaTsnemdGa2tp6errAfUB/QV2kyaQwaCnp2dlZWVqagoMDS0NNVVJUbfYZJ9H/50u/Eraczz3+sL0P1tT1nRqySirK6uCHGKgbwUG+vr6DCYmJjk5OYFBQerKSq5xaS5J2b6rTrhc+m9z5n/UvReZL5YlPl6afmtxYHmqf3ackamJkaFhWlpabm6utbU1xM+66qoqtu7efpe++N/573Tln/35f7bn/sc8eJn5annS42WpL1blvF6X93NbZE+xhqKKlo42xJsM8ECytLH1XHsu4db/+jt/PC7/dz3/O37rwewr8zJer+t+tafp1Y6shyt8MqK11DR0YIEHC219fU0JYe+2mW43/+de+5Fw8797Ya2uoryto0PmyZmVrzaXvNyYfnGeqbaBuhoi5KE2a2uou6fm++577Hj6h+WJb26HP+sbmGloa6hJKYVMqk54uSL+1tzUu4vjp9UYm5mC3AyPKh1dPR1V5eC1Rx2v/7c68Mn2yK+yGxfz6qJVlbQ9POwmn27Lubc08vKCuDsL8p6vdQ70UldR1dXTRbJZU8MxLNZvytrEM3dn3Z6271nkzicxS48lbryRsP9l5OaHeR0Pp6XvmhRcnmZkjEjkDPBUo6mqpKWiOW9n+sFXQRvvhe16nHz+Y+uhl/mb7kVsexi853FKQIiHoqQ8UkpDSp5A00xMzFeeTjjwIXb/27j9r1IuvZ575GXF/nfRe1/HHnyfGJ/ppaqqpaeniz1ta2vpVXQHz9wSn1MZsPho7P43CVvvJdb2h9ZPCp+1LcHeyVJTQwu7zUAADEYNNR19PUNJUaWIOK+Dr7K6F8YpygADXVsHFEmayDqx5CqwtLaeHjDi9SwszYyMDIEiEEE0ndjzMyTTqasDE7uKmpqaDm7AgEunv79fWlpqUFAQMPdgFkD4NAM9D8w0np6ewGJMF9O5MM0ARgWBDugtBO0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;three.js 필수 3요소&quot;
        title=&quot;&quot;
        src=&quot;/static/f90474833d478d4bc12466725895a674/d10fb/image.png&quot;
        srcset=&quot;/static/f90474833d478d4bc12466725895a674/c26ae/image.png 158w,
/static/f90474833d478d4bc12466725895a674/6bdcf/image.png 315w,
/static/f90474833d478d4bc12466725895a674/d10fb/image.png 420w&quot;
        sizes=&quot;(max-width: 420px) 100vw, 420px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;three.js에서 필수적인 3대 요소. - generated by NapkinAI&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;이제부터 three.js를 본격적으로 시작할건데,&lt;br&gt;
three.js에서 무언가를 표현하려면 &lt;strong&gt;scene, camera, 그리고 renderer&lt;/strong&gt; 세 가지가 필수적입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; scene &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Scene&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; camera &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;PerspectiveCamera&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;75&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerWidth &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHeight&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; renderer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WebGLRenderer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerWidth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;domElement&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이게 사실상 boilerplate처럼 됩니다&lt;/p&gt;
&lt;p&gt;카메라는 &lt;code class=&quot;language-text&quot;&gt;PerspectiveCamera&lt;/code&gt;라는 종류를 썼는데, 이외에도 다른 몇 가지 종류가 있습니다.&lt;br&gt;
생성자에서 전달한 각 속성으로는&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;시야각(field of view) : 각도 값으로 설정합니다. 75&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;°&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\degree&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;°&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;처럼.&lt;/li&gt;
&lt;li&gt;종횡비(aspect ratio) : 화면의 너비와 높이 비율로, 보통 요소의 높이와 너비에 맞추어 표시합니다.&lt;/li&gt;
&lt;li&gt;near 절단면 : 이 값보다 가까이 있는 물체는 렌더링하지 않습니다.&lt;/li&gt;
&lt;li&gt;far 절단면 : 이 값보다 멀리 있는 물체는 렌더링하지 않습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;렌더러는 &lt;code class=&quot;language-text&quot;&gt;WebGLRenderer&lt;/code&gt;를 사용했습니다. 이 또한 다른 종류의 렌더러가 있는데, WebGL이 지원되지 않는 환경에서 쓸 수 있는 객체가 있는 등, 입니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;먼저 렌더러를 생성(&lt;code class=&quot;language-text&quot;&gt;new THREE.WebGLRenderer()&lt;/code&gt;)하고,&lt;/li&gt;
&lt;li&gt;크기를 설정합니다(&lt;code class=&quot;language-text&quot;&gt;renderer.setSize(window.innerWidth, innerHeight)&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;사이즈는 유지하면서 해상도를 낮추려면, &lt;code class=&quot;language-text&quot;&gt;setSize&lt;/code&gt;의 세 번째 인자인 &lt;code class=&quot;language-text&quot;&gt;updateStyle&lt;/code&gt;을 false로 꺼줍시다.
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;setSize(window.innerWidth/2, window.innerHeight/2, false)&lt;/code&gt;라고 쓰면, 절반의 해상도로 렌더링됩니다(&lt;code class=&quot;language-text&quot;&gt;&amp;lt;canvas&gt;&lt;/code&gt; 높이너비가 100%인 경우).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;const scene = new THREE.Scene()&lt;/code&gt;처럼 장면 객체도 생성해줍니다.&lt;br&gt;
나중에 오브젝트를 만들고 장면에 추가할 것입니다.&lt;/p&gt;
&lt;p&gt;이제 &lt;strong&gt;renderer 요소를 HTML문서에 삽입&lt;/strong&gt;합니다.&lt;br&gt;
이는 하나의 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;canvas&gt;&lt;/code&gt; 요소로, 렌더러가 장면을 나타내는 구역에 해당합니다.&lt;/p&gt;
&lt;h2 id=&quot;큐브를-하나-추가해봅시다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%81%90%EB%B8%8C%EB%A5%BC-%ED%95%98%EB%82%98-%EC%B6%94%EA%B0%80%ED%95%B4%EB%B4%85%EC%8B%9C%EB%8B%A4&quot; aria-label=&quot;큐브를 하나 추가해봅시다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;큐브를 하나 추가해봅시다.&lt;/h2&gt;
&lt;p&gt;예제 오브젝트로 큐브를 하나 추가해봅니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 큐브 기하학 구조 생성&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; geometry &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;BoxGeomery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 재질(색상 등을 정의) 생성&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; material &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;MeshBasicMaterial&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x00ff00&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 기하학과 재질을 합치면 =&gt; 물체.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; cube &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Mesh&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;geometry&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; material&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 장면에 추가.&lt;/span&gt;
scene&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cube&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
camera&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;z &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;BoxGemoetry&lt;/code&gt;로 큐브를 추가합니다.&lt;br&gt;
이 객체는 큐브를 만드는데 필요한 모든 &lt;strong&gt;꼭짓점&lt;/strong&gt;과 &lt;strong&gt;면&lt;/strong&gt;을 포함하는 기하학 객체입니다.&lt;br&gt;
이 꼭짓점과 면에 대해서는 나중에 알아봅니다.&lt;/p&gt;
&lt;p&gt;이제 재질이 필요합니다. 이 재질은 요소에 색상 등의 성질을 부여합니다.&lt;br&gt;
three.js에서 이러한 &quot;색칠&quot;에 대해 여러 방법이 고민되었지만, 현재로서는 &lt;code class=&quot;language-text&quot;&gt;MeshBasicMaterial&lt;/code&gt;을 사용합니다.&lt;br&gt;
이 속성이 적용된 오브젝트들은 모두 그 영향을 받습니다.&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;Mesh&lt;/code&gt;와 같이 Object를 생성합니다.&lt;br&gt;
**기하학(Geometry)**과 **재질(material)**을 합쳐 하나의 물체가 되고, 이것이 화면에 삽입되어 자유롭게 움직일 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/31ce4a3c64c6cc1e052eefc2577d6677/23296/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.9620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACgklEQVR42mWT20tUURTG/Yuih4LEXip8EITyRSqCIJ96KIjIwAR9sdTQEAkNJU1Mq9F0bMZBJS9kpaaYmpcZZSY1x2M6MzaXc+Zcf+1zjgrRYh84e+3Ft771fXvnYIJlWtiRTqaY9A+QjMWcvWWIvFiGZqBkFOffyYmQU2lm33Swu7Zqp1GULKZhkmPvMmkZKRplKxxmuaOZTHTLBdTN/wFFCt1APYyz62tH2QmTSmeQtjbRNV0AHnVUdyQOvn9kpbuK9eFadCXmANgTnACaTilZSSLY+4ipFyUs+x4iR+Yx9yTnLMcy3KrEz1WG6osJ1BUz8iyX+Z47WJrsMlT1E4Z2bH59i6/mEkONN+h/UsBcZxmqkMAB5Eg/7XCL8eYiuisKGG+6TN/jPDbnvM6ZrqoossJxxEMB3pWfoqfqCl3lF9n41OJKIaByZKFfJpVBzRrsrIqRJ/v53N9McMbL7sYSWUUjeZgkHksIlrL4VJKJGJF5L9HgNKHpATLJuGioCaMy9siW45ye1R2yiYMYI83Piaytnziti5Htxq6eupNfWVjkffsrNE1zmJnCQLvWNUWsrJwW3SYIT31gzdOItB0hLcRHFP7jsmUXqyx4PfhrK4nt/XYB7UYmLkM79pd6CFRfZbj+AuMN15jvKyM02kFqb9vRR7EZipCCi0QDHkKDLUz7PcTE+PL6Okpk48iUY4aJX8z0VjP49ByjTTd5+SCPidbbWMq+YGgJLQ1Su9/w1d+i9X4+nqqzdJXm88VTykFwlo0x//G1scT8hrM5CI8yVJfLeOs9BhuK+CP9cG+AeAVq1mRzto3emus03j3P64rTdFYWUlNyhrayQhbG2hzAv/TWDAqWZRi2AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;ppap&quot;
        title=&quot;&quot;
        src=&quot;/static/31ce4a3c64c6cc1e052eefc2577d6677/f058b/image-1.png&quot;
        srcset=&quot;/static/31ce4a3c64c6cc1e052eefc2577d6677/c26ae/image-1.png 158w,
/static/31ce4a3c64c6cc1e052eefc2577d6677/6bdcf/image-1.png 315w,
/static/31ce4a3c64c6cc1e052eefc2577d6677/f058b/image-1.png 630w,
/static/31ce4a3c64c6cc1e052eefc2577d6677/23296/image-1.png 675w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이제 물체를 &lt;code class=&quot;language-text&quot;&gt;scene.add()&lt;/code&gt;로 장면에 추가합니다.&lt;br&gt;
이러면 기본적으로 (0,0,0) 좌표에 위치하므로, 카메라와 큐브가 겹치게 됩니다.&lt;br&gt;
따라서 카메라를 살짝 움직여줍니다.&lt;/p&gt;
&lt;h2 id=&quot;scene을-렌더링하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#scene%EC%9D%84-%EB%A0%8C%EB%8D%94%EB%A7%81%ED%95%98%EA%B8%B0&quot; aria-label=&quot;scene을 렌더링하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Scene을 렌더링하기.&lt;/h2&gt;
&lt;p&gt;아직 렌더링하지 않았으므로 아무것도 보이지 않습니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;renderer.render()&lt;/code&gt;로 현재 장면을 렌더할 수 있는데,&lt;br&gt;
&lt;strong&gt;render or animate loop&lt;/strong&gt;로 연속적으로 렌더링할 수 있습니다. (애니메이션)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;animate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 여기에 큐브를 움직이는 업데이트 로직을 추가하기.&lt;/span&gt;
  renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;scene&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; camera&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;기본적으로 이렇게 생깁니다.&lt;br&gt;
Java프로그래밍 시간에 Swing실습으로 배운 &lt;a href=&quot;https://gameprogrammingpatterns.com/game-loop.html&quot;&gt;Game-Loop Pattern&lt;/a&gt;이 생각나네요&lt;br&gt;
대충 &lt;em&gt;입력받고 -&gt; update하고 -&gt; render하는 사이클을 무한반복&lt;/em&gt;하는 패턴이었습니다.&lt;/p&gt;
&lt;p&gt;아무튼 이렇게 하면, 화면이 새로고침될 때마다 계속해서 렌더링합니다. (기본적으로 초당 60회)&lt;br&gt;
&lt;em&gt;왜 &lt;code class=&quot;language-text&quot;&gt;setInterval&lt;/code&gt;을 사용하지 않나요?&lt;/em&gt; =&gt; setInterval과 비슷해보이지만 다른 이점들을 제공합니다. 예를 들어, 브라우저 창에서 이탈한 경우 멈추는 등.&lt;/p&gt;
&lt;h2 id=&quot;큐브를-움직여요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%81%90%EB%B8%8C%EB%A5%BC-%EC%9B%80%EC%A7%81%EC%97%AC%EC%9A%94&quot; aria-label=&quot;큐브를 움직여요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;큐브를 움직여요&lt;/h2&gt;
&lt;p&gt;animate함수에서 렌더링하기 전에 큐브를 업데이트합시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;animate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  cube&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rotation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.01&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  cube&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rotation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.01&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;scene&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; camera&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런식으로. 천천히 회전하도록 매 렌더링마다 변형을 추가합니다.&lt;br&gt;
이 예제는 &lt;a href=&quot;https://jsfiddle.net/0c1oqf38/&quot;&gt;여기&lt;/a&gt;에서 결과를 확인할 수 있습니다.&lt;/p&gt;
&lt;h1 id=&quot;선-그리기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%84%A0-%EA%B7%B8%EB%A6%AC%EA%B8%B0&quot; aria-label=&quot;선 그리기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;선 그리기&lt;/h1&gt;
&lt;p&gt;그 다음은 &lt;a href=&quot;https://threejs.org/docs/index.html#manual/ko/introduction/WebGL-compatibility-check&quot;&gt;WebGL 호환성 검사&lt;/a&gt;지만, 혹시나 WebGL2를 지원하지 않는 환경에 대처하는 방법에 대한 간단한 내용입니다.&lt;br&gt;
그 다음 내용인 &lt;a href=&quot;https://threejs.org/docs/index.html#manual/ko/introduction/Drawing-lines&quot;&gt;선 그리기&lt;/a&gt;를 알아봅시다.&lt;/p&gt;
&lt;p&gt;아까는 와이어프레임 &lt;a href=&quot;https://threejs.org/docs/index.html#api/en/objects/Mesh&quot;&gt;Mesh&lt;/a&gt;를 오브젝트로 사용했는데, 이제 선이나 원을 그려보려고 합니다.&lt;/p&gt;
&lt;p&gt;아까처럼 boilerplate를 먼저 작성합시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; renderer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WebGLRenderer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerWidth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;domElement&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; camera &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;PerspectiveCamera&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerWidth &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHeight&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
camera&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
camera&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lookAt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; scene &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Scene&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;아까랑 거의 비슷합니다. 카메라 설정만 살짝 달라졌네요.&lt;/p&gt;
&lt;p&gt;먼저 재질을 정의합시다.
선을 그리려면 &lt;code class=&quot;language-text&quot;&gt;LineBasicMaterial&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;LineDashedMaterial&lt;/code&gt;을 사용합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; material &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;LineBasicMaterial&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0000ff&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 파란색 재질을 생성할 수 있습니다.&lt;/p&gt;
&lt;p&gt;그 다음엔 선을 구성할 각 꼭짓점에 대한 기하학을 정의합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; points &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
points&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Vector3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
points&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Vector3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
points&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Vector3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; geometry &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;BufferGeometry&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setFromPoints&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;points&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 &lt;code class=&quot;language-text&quot;&gt;BufferGeometry&lt;/code&gt; 기하학 객체에 대해서는 심화 과정 &gt; 오브젝트를 업데이트하는 방법 단계에서 자세히 다룹니다.&lt;br&gt;
세 점을 이어 두 개의 선을 그리게 된다는 사실만 기억하시면 됩니다.&lt;br&gt;
선은 연속된 꼭짓점 쌍 사이에 그려지고, 첫 번째와 마지막 꼭짓점에는 선을 그리지 않습니다.&lt;br&gt;
이는 곧 &lt;em&gt;선은 닫혀있지 않다&lt;/em&gt;는 의미입니다.&lt;/p&gt;
&lt;p&gt;이제 물체를 그려내기 위한 기하학과 재질이 있으니, 선 물체를 만들어내고, 렌더할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; line &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;THREE&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Line&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;geometry&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; material&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
scene&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;line&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
renderer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;scene&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; camera&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/087e4eef86a2c344864488346679a634/3fe45/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABb0lEQVR42o1S2W7bMBC0AamtnU+IeC53eYuilFg53tL+/zd189DCaVGnxADkww5nZjGHy/709uP7+rDdT0IqxRBSCiGJPIAbhuHwj3M6nQ7kfYyZkJwV1kohtQUwYC054+w4jrfIQgoNrrS6P+NjM5vzz5fd52gr2oLj1y+3yEprY5z3fq7KI8TgtdFCsXs1TWIYb9rmkCWWZVnmDjmmvm6QPWRKnMOYj5mPv+7jb9tyrqX1xQQiTLkUVzxmCohG6+E683F8xzV5krK3tl0ebPaBytIXVz1Wn51DgG888UH5+Kdtj+SJmYKA8wISQUBLQCmcz+ebmbUC9Lmk/RWW3aVcX55eUisyWD+n893dddi/t60AKIaQolLa1dpCiRgoxRRj/ExZKcTQ6pyDkZOy3A/3Di5P+B8yDy1bj9tc+wwOjLEO8X6ajDGfkMFxzrxuW2o59Tq3Vmrt68pr409ZP+fMheUucZkY/GA9/npu7SeqiEIEwXqeZgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;line&quot;
        title=&quot;&quot;
        src=&quot;/static/087e4eef86a2c344864488346679a634/f058b/image-2.png&quot;
        srcset=&quot;/static/087e4eef86a2c344864488346679a634/c26ae/image-2.png 158w,
/static/087e4eef86a2c344864488346679a634/6bdcf/image-2.png 315w,
/static/087e4eef86a2c344864488346679a634/f058b/image-2.png 630w,
/static/087e4eef86a2c344864488346679a634/3fe45/image-2.png 699w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 선을 그려낼 수 있습니다.&lt;/p&gt;
&lt;h1 id=&quot;텍스트를-만들기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%85%8D%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EB%A7%8C%EB%93%A4%EA%B8%B0&quot; aria-label=&quot;텍스트를 만들기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;텍스트를 만들기&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://threejs.org/docs/index.html#manual/ko/introduction/Creating-text&quot;&gt;three.js에서 텍스트를 다루는 방법&lt;/a&gt;은 여럿 있는데&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;DOM + CSS : 그냥 HTML요소로 텍스트 추가할 수 있습니다. (오버레이 설명 등)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://threejs.org/docs/index.html#api/en/textures/Texture&quot;&gt;Texture&lt;/a&gt;로 캔버스에 텍스트를 그릴 수 있습니다.&lt;/li&gt;
&lt;li&gt;3D 작업 앱으로 만들고 import할 수 있습니다 : &lt;a href=&quot;https://threejs.org/docs/index.html#manual/ko/introduction/Loading-3D-models&quot;&gt;3D 모델 불러오기&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;절체적 텍스트 geometry : &lt;code class=&quot;language-text&quot;&gt;THREE.TextGeometry&lt;/code&gt; 인스턴스인 mesh를 사용하여 절차적으로 사용할 수 있습니다.
&lt;ul&gt;
&lt;li&gt;이 때, TextGeometry의 font 파라미터가 &lt;code class=&quot;language-text&quot;&gt;THREE.Font&lt;/code&gt;인스턴스로 설정 필요&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://threejs.org/docs/index.html#examples/en/geometries/TextGeometry&quot;&gt;여기&lt;/a&gt;참고&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;비트맵 글꼴&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;등등.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
다음시간엔 매뉴얼의 심화 과정으로 들어가서 &lt;a href=&quot;https://threejs.org/docs/index.html#manual/ko/introduction/How-to-update-things&quot;&gt;오브젝트를 업데이트하는 방법&lt;/a&gt;과 &lt;a href=&quot;https://threejs.org/docs/index.html#manual/ko/introduction/How-to-dispose-of-objects&quot;&gt;오브젝트를 폐기하는 방법&lt;/a&gt;을 보겠습니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🎨 CSS 라이브러리를 고민하는 당신을 위해 (+ 성능비교)]]></title><description><![CDATA[No CSS Club회원이 아니라면 웹페이지의 스타일링을 위해 CSS는 필수적이고 중요합니다 그러나 역사적으로 CSS는 개발자들에게 많은 고통을 주었습니다.. 그 역사에 대해서는 CSS…]]></description><link>https://sungpaks.github.io/css-styling-methods/</link><guid isPermaLink="false">https://sungpaks.github.io/css-styling-methods/</guid><pubDate>Sun, 06 Oct 2024 22:57:29 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 213px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8a96386bbd6f366d0121edfcf88c421c/3cb16/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 110.75949367088609%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEsUlEQVR42m2QaVBTVxiGb//4o9MfbUdrhwkJ4S7chBgMCQlhE5AgWxZAQZYRC4iFsriDdqxYrVOCFBIIQSAsIhSnY9uRIlgXyGIIDUuBAmFrSyGUwXCzAQ4doL2Baauj3zxz5rxnvme+cw5gtVptNhu+mkwmu91usVjwiGEYvjGbzfjJ0tLS3Nzc+vr6368VMDU1NTExMTMzMzY2Nj8/Pz4+Pjo6OjQ0ZDAY8M309PTk5KRer19ZWcG7t7a2XpGXTSbHEIt5cXHRuGBcWDCuru70bW43b25tbjqCozYcwcHGNpvA/MKfs3Pzc7PzM4aZidHJccMU/ozXh7yxgHH1oweK0m+7FK2DjS299W3fyTR3qjRNlZrbFZpGmaZpB3lXfWVb5922kQf3f65t/0XWNlzxo6ERuBnr5/8+cPAEGCimc6/ShdHO1wOREp57cSAsDkLEIW5iHio+SL3h756W5JmkCE9ReGS0uKc2o6fvBwG3skQscFdGKvnqdfRgsjNfRBMLvaujfeQCjiSaI43lVsRyy2M4FSL/s0f2pcu4abXsE/XeaU2e5+9FAGWZwugk6NpFiknj31rukiJ472IAUhPLlfNZUj6zXMCSClllIla50PtSzL7MMu7JOk56Lee4lHZZ7gtczQ3JkgXlFJCNj+h/DXhMfU9XnCCUhiJVAo5cwJZHecn4XlIhWybiXuPTPy6g5ZXSLxWDdVVgf0cAkJPPO1TITLhAu1cOrfZ4rGhRczej87KrNIIkCUOlEYgkDCoNBSWhUFG48/Wsve2N4K+PqTY1ba3HF4gvECJp7qwsr/jjJG0DuN5Ls6rg508YQ7dAbTGxv9x1pAYdqaXijDVTFx7S7FqqTUl58RRZUfkAgvxY6jH2/owA72SflCTCUAv1eSdVlviBWuqyMUy1aWEcuw616yj2HjeLBsa6oDW1u7Gd1iBhAVGnY6jxTEayn0ecHzOKlZ+yZ7GD8s05Z3012a6DTV2gqdsVU4KYElpWIpgasSiRwXryhTwn0ZkAICyHT4vnMBL9iMEIfACsLHSxdNFKYz7USJzX9MiyEjKrcWAMN5Xosgpe1aHdt0i8RJewwkggJIMPR3p6HvVjHOWEJrn1NpFWdYhKAv7xA2TVQphqR0Zw36wG8Wh5Bi0+oaafIR6WhABMgc871HchPoWTfeCjHNT4EDQ/gXu+IBjbQasWxlTwtgn9B6ZyXX1GKS5ySq72BQ6kHCLzSIxUuv8pn7MnCTYdOlmyV3dol6HEydaL4k/FVK/IyyroRQ+ltYqYWukLRH+W4JXtE3ElLCiTXZy7e2MQ+V3h9FPi27/Vkqw6XIYxx4VfluE1HUX9NTn1BgMIPhfukoTQM/ZRElzkn5M2+9Gnl4j9WczZGtCsAV/W/r02ZHsGz3a4FRYxAcEVIfOUB/e8J+sT+PKn5BUtTf8lPHE2dLwEl3e+6g1YVG63K72AuJtRvCKmUOIVIWaIMncP3XVavOPUdeStmeo9Ni0R6yZgSmdMSTD/Dx6JNhXhQS0duFiXG/dVSG7z4eyGmDxxqOYeb64heCCdPaUIsg/zLfooa5/A2h9l6Yu09OGrwKznm/UC20Dk6ONj/wAVkOfyHt3W1QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;CSS meme&quot;
        title=&quot;&quot;
        src=&quot;/static/8a96386bbd6f366d0121edfcf88c421c/3cb16/image-2.png&quot;
        srcset=&quot;/static/8a96386bbd6f366d0121edfcf88c421c/c26ae/image-2.png 158w,
/static/8a96386bbd6f366d0121edfcf88c421c/3cb16/image-2.png 213w&quot;
        sizes=&quot;(max-width: 213px) 100vw, 213px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://nocss.club/&quot;&gt;No CSS Club&lt;/a&gt;회원이 아니라면 웹페이지의 스타일링을 위해 CSS는 필수적이고 중요합니다&lt;br&gt;
그러나 역사적으로 CSS는 개발자들에게 많은 고통을 주었습니다..&lt;br&gt;
그 역사에 대해서는 &lt;a href=&quot;https://yozm.wishket.com/magazine/detail/1319/&quot;&gt;CSS는 왜 어려운가?&lt;/a&gt;시리즈 글이 재밌고 유익하니 한번쯤 보시면 좋겠습니다.&lt;br&gt;
이 글 쓰신 분이 꽤 유명하신 분이던데, 최근에 한동안 velog trending 1위에 머무는 중인 &lt;a href=&quot;https://velog.io/@teo/separation-of-concerns-of-frontend#%EA%B4%80%EC%8B%AC%EC%82%AC%EC%9D%98-%EB%B6%84%EB%A6%AC-%EC%99%9C-%ED%95%B4%EC%95%BC%ED%95%A0%EA%B9%8C%EC%9A%94&quot;&gt;프론트엔드 관심사 분리에 관한 글&lt;/a&gt; 도 매우 유익합니다. 추천&lt;/p&gt;
&lt;p&gt;아무튼 CSS에는 몇 가지 결함이 존재했습니다 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Global Scope&lt;/strong&gt; : CSS 규칙을 선언하면 전체 문서에 영향을 미칩니다. 이 특성은 프로젝트가 커질수록 문서를 발디딜 틈 없는 규칙과 선택자의 지뢰밭으로 만들었습니다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Specificity&lt;/strong&gt; : CSS는 선택자에 의한 규칙의 적용에 우선순위가 존재합니다. 규칙을 나중에 선언했다고 해서 기존 스타일을 덮어쓸 수 있는게 아닌 것입니다. 이러한 특성은 개발자들로 하여금 점점 더 복잡한 선택자를 만들고, &lt;code class=&quot;language-text&quot;&gt;!important&lt;/code&gt;나 inline-style같은 우회책에 찌들게 했습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/25a60f08dfc4893c163b265ddc4194dd/3684f/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD3ElEQVR42mP4jw38+/cPSL548GDxsWPrnz9e8+ju0qvnlty9PeP28+6jZ9u37K4+9bzk6FMGuGo4gGt+/fDBptMn97x7tvvBtSMTUyaV+E5pCtrbaH9tWmr/pXvt558y/Pnz59evX0DVf//+hWj+8/fvn9+/wZrv7zp3/ODHF3tfPdvdmzivKmBxrsbWZOFjW2Yvf/Z2xrWnDPfv39+wYcP+/fuvX79+4vjxw0ePPr1y9eqSZc9OnHj96OGuC8ePPLu2//Luua3Ra9oC1paZzY3m272qfNPJnWvuPGB49+7dpUuXrl69CiTPnTsH1HjtypW7167fvn7t5oVLBWt2pyxbnZvhuK3e4NlijztznJ72i/xfoXV5mu+yXRsZHjx4cPz48QMHDgDJCxcuXLt27cjRo2fOnr1+69bVsxdi52w0m38gsTLj++agX9uj2kr80/Ljz0y3OXVozvZHLxkePXp09OjRPXv2fPjwAR5U//6CyEe37sTPXBe+9mhXXdjDxf5Ha5Qs49PZHEr41b20/YrbNh5m+Pnz55fPn79++fr7129IsAEBMBSBmh/euBM+bVPe8Ztlhy+VbT9QPnda6Ya9EZPXWmd16sY1Zk9fz4A9nsE2P7x1L2bBrvxzD0vOP8i78Kzm1ruNL1/XXH9VfOVt1913+97+ZPj46PHHh49ACMiAoQ8PH31/+eragSNprbNKV+8sXbUlb/nWGdt3ztm5O2PxzoyF2xZs3btu1yEGZD1w9P7Bwx9v3lzetkOdh0+ET1CUX0xeQkZRSlZMTM5WSzHETF5eVllFQQm7s4HeBpL3zp1jY2AMdtVK99Vi4BbkkxAXkpaoDxafGCvGKyPLLinDAAzf/+CA+vfnDzBxQRjARAfUfOfMGUEWtr3TEh+tTMtyk2wIEJ8eK74gQawpUERIVppXWh6fzXfPnZMS5NnQG3VlfuKKXPXZsaIz46UXZKsuKNRzNJVjFZdhAIft3+dXrjy7cOn55avPLwEZF1/dvAV29llRPtbkcMs7i5O29SVdPjb93M6cLbMj3j5aHuVnw8AnyADJU+8ePHxy8tST02dfXr/x7Nz5N3fvA4VvnzojzsEqJC/s42YY6qyyd3HNy/s7713ednTrbA1dBSEFGXzOvnPmrAADo5CMCJekiJGu2KxIri2dQff39lXEGAjKiynoyCHlZ1iWBKUycJYEauZnYBSQEJJUljIxkO0LFVhXbvzs4MTCOGshBTE5LSJs5hMXklKW0taWyXIV2tfl9eXyysRoF345EQUdWSI0SwiJKYmbG8jU+wkenhL16uR8L3dDQZDNcgDJnzwyrz4ixQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;important keyword&quot;
        title=&quot;&quot;
        src=&quot;/static/25a60f08dfc4893c163b265ddc4194dd/3684f/image-4.png&quot;
        srcset=&quot;/static/25a60f08dfc4893c163b265ddc4194dd/c26ae/image-4.png 158w,
/static/25a60f08dfc4893c163b265ddc4194dd/3684f/image-4.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;프로젝트가 커질수록 이 결함은 늘어나고 불어나서 개발자들을 고통스럽게 했습니다&lt;br&gt;
이러한 문제점을 해결하고 CSS를 현명하게 사용하기 위해, 단순히 CSS를 살짝 확장하는 방법론부터 아예 새로운 패러다임을 갖는 라이브러리나 프레임워크 등이 등장해왔습니다.&lt;br&gt;
CSS Modules, SCSS, CSS-in-JS, Utility-First CSS 라이브러리, 등등..&lt;/p&gt;
&lt;p&gt;이러한 많은 선택지들 사이에서 프론트엔드 개발자는 매번 선택의 기로에 놓입니다.&lt;br&gt;
프로젝트의 특성, 함께 쓸 기술, 응집성, 생산성 등.. 많은 요인들이 고려되는데&lt;br&gt;
저는 이에 대해 고민하고 적절한 근거를 기반으로 어떤 방법을 사용할지 선택하려면 이론을 넘어서 경험이 필요하다고 생각했어요&lt;br&gt;
이것도 써보고, 저것도 써보고, 그 장단점을 몸으로 느껴보고, 그 경험들을 가지고 있다가 나중에 진짜 필요할 때 의사결정에 쓰고자 했습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 355px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/27f2c2b9d83adb368415d0d3325635bb/526ee/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.87341772151899%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB80lEQVR42gHoARf+ALrEz6y/0qy9z6i4yq68zLG/zLS+y6KvwHiImoaRn5Cbp3eInHqJnJulrqSjopd+dn2BjnaGmG98jpeeqQCzwdHG2vDV4u/Y4OvO1+L2+vz5/f2+1utmhKZdcIlzhJhMbJF1jKXr7OzSw8DMqqKbYlFcZXlHZYl3hZcAvMPK///+//7+////297h8vj565ua3L/DnL7cZXWLb4aYbIag4eXpzc3PxqKf2b6/toFxamRuT3CSeoiYAKy7y+/6/u/T09dWV+bZ3N3n6tRzdty2urrX7HOJn5WCkeng5dDa37S+zc63tt3EveXDvHN3imSAoKq3xwCous7T5vTz19fMbHP27u3EztfD0deyxNOht9V7mq20PWDhZIiFnrCFm7TSwMDpyMDqycR4ipqAp8W6ytoArsHUu9Hq7vLy2u31ucvdpLzZorXM19nc3ePsfZimuENmtzFiXIGcVnGRmZOi2K6u69DGw5minXidtL/QAKu8zqzJ6KO605+31Z+72qbA26m6zeTn6////8HPzas5XasVTZ4xXrIeUasmVOC5ttmPmcIcTcYDPbhdegC2v8uuvs6vv86uvcuywNGzwtLCyM3f397l5Oba3ty7gZPEW3nHX3zHYH7CYn63coi2XHi/YX7AXXvHipuVMEiFb5DStwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;choice&quot;
        title=&quot;&quot;
        src=&quot;/static/27f2c2b9d83adb368415d0d3325635bb/526ee/image-5.png&quot;
        srcset=&quot;/static/27f2c2b9d83adb368415d0d3325635bb/c26ae/image-5.png 158w,
/static/27f2c2b9d83adb368415d0d3325635bb/6bdcf/image-5.png 315w,
/static/27f2c2b9d83adb368415d0d3325635bb/526ee/image-5.png 355w&quot;
        sizes=&quot;(max-width: 355px) 100vw, 355px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그리고 지금까지의 고민과 경험을 나누고자 해요&lt;br&gt;
이제부터는 제가 &lt;strong&gt;지금껏 사용해본 스타일링 방법들&lt;/strong&gt;에 대해 이야기하고&lt;br&gt;
이를 실제로 사용했던 입장에서 어떤 &lt;strong&gt;장단점&lt;/strong&gt;들이 있었는지 써보겠습니다&lt;br&gt;
그리고 모던 웹페이지 구성을 위해 필수적인 &lt;strong&gt;동적 스타일링&lt;/strong&gt; 측면에 대해서도 쓰려고 합니다&lt;br&gt;
이는 매우 중요하고 이 또한 어떤 방법을 고를지 고민할 때 중요한 요인이니까요&lt;/p&gt;
&lt;h1 id=&quot;vanila-css&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#vanila-css&quot; aria-label=&quot;vanila css permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;vanila CSS&lt;/h1&gt;
&lt;p&gt;이 블로그에는 순수하게 CSS만 사용하고 있습니다.&lt;br&gt;
처음 만들 때부터 일부러 생각했어요. CSS만 써보면서, 무슨 불편함이 생기고, 어떤 니즈가 생기는지 느껴보고 싶었습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 339px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/01fbdb492768a9eeb2dbb45c3720b7f8/16caa/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.84810126582278%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8ElEQVR42p1U2XabMBT0b9RIAiMi9s2sxpjjLXEaN+1p+//fMr1AvCTtQ8PDHOlKMNKdO7qzrg6RRTbSgENKDk0jzDVwzqHr+qcxq9YF6u0R7dMJSiksixTdoYXnudDF24eGAeMOum5c1/4iTMsUzctvrE7f4bo2nn/ssXvcQFoWGGMQgoMzDUybg82/gGv97dl1rZ+/IyzWFZH9RFQ0SOsW2/MZSV7CcxQiP4B8cOCnJeJ6g6hsEeYr2F4EL8mHOPATGPeESR4gaRpChfJwxLLbIshjrDYpqjqDE5LG3QbFdo/m+Suq4wFxVaDY7+giT0jSDJaSlIkYCX1/AfPBoB8l7GABqQScyIIKLEiXYtp7cHu9GJQ3zpVvjnNHh2EJSNu86j2zpCCtdNJEQHCdTiJw8YZb3BdiiC8QI/RhFLeUTZNuaBqQw0gnGn1VP+Ci0X38ce9CuGsT1EWEdpUijRew7QWEbkzy4EC4rPLBNkV3QBD6OP86oWrKmwc/S+japB8fU+3L3+vxL8P+NyEnwXtCRkVhfSHESGxMJVzlPpZkkSZzUKYuAo8qRhaZaxPf8rqrsX35hsfXV9RtiyxU2GQhijiclPrMDxTsKIcdZ2TYCBbZJ7QVQmoOkwjNBaN2NR8ee//Q+6Iwal2Mi0kp/wGuFMiJQ5HUwwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;vanila CSS&quot;
        title=&quot;&quot;
        src=&quot;/static/01fbdb492768a9eeb2dbb45c3720b7f8/16caa/image-6.png&quot;
        srcset=&quot;/static/01fbdb492768a9eeb2dbb45c3720b7f8/c26ae/image-6.png 158w,
/static/01fbdb492768a9eeb2dbb45c3720b7f8/6bdcf/image-6.png 315w,
/static/01fbdb492768a9eeb2dbb45c3720b7f8/16caa/image-6.png 339w&quot;
        sizes=&quot;(max-width: 339px) 100vw, 339px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Global Scope는 확실히 문제입니다.&lt;br&gt;
블로그는 제가 혼자 개발하기도 하고, 그정도로 많은 스타일 코드가 발생하지 않아서 다행이지, 협업자가 있고 프로젝트가 커질 수록 이 선택자들 사이의 지뢰밭을 피하기는 쉽지 않을거예요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1ee0d0ff8929d4fcb6f0846d8cd45faa/350de/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 57.59493670886076%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSUlEQVR42n1S2XLDIAz05xjEZTC2OXx14knbPPX/f6ZrnGSaY7oDslhpJcS48t5v2zbP8zAMsDGGj4KUEo7TNK3ruizLaTvhePg556ZpiKhqnV8XpOau63MaY0hFMoUQoB/HEf5uR1QPKeYxTzFErQxxqowlqZkyvCwGv64ZwDlnBfUOJk2tG0aC5Y3CTMoIpUXVBdUFDet6mVebJktcSClFgdwhwCxnl+bG96qPukiUNqLiXByLMTLGOdsScg+luALjOdcatGZ0zycSlfiTYa11reOgC2pGh4uP923TGLqFDryIncO0BzMNVit5E3ut9X9ihLuuOzKwfz4XZw0uAoBHVDyiejojSSlFpcA5Kqsx3rWoeMGDGBJjTN/3cNDwMhqIGScw4J/u/KZzeViHPm3rL99fOSX4YF6Vb8T34UPA/7rv13e6i38BSmuIdKol9+AAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;global scope&quot;
        title=&quot;&quot;
        src=&quot;/static/1ee0d0ff8929d4fcb6f0846d8cd45faa/f058b/image-7.png&quot;
        srcset=&quot;/static/1ee0d0ff8929d4fcb6f0846d8cd45faa/c26ae/image-7.png 158w,
/static/1ee0d0ff8929d4fcb6f0846d8cd45faa/6bdcf/image-7.png 315w,
/static/1ee0d0ff8929d4fcb6f0846d8cd45faa/f058b/image-7.png 630w,
/static/1ee0d0ff8929d4fcb6f0846d8cd45faa/40601/image-7.png 945w,
/static/1ee0d0ff8929d4fcb6f0846d8cd45faa/350de/image-7.png 998w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그리고 모든 스타일코드가 중앙화될 수밖에 없기 때문에, 전환 사이의 거리가 너무 멀어집니다..&lt;br&gt;
그렇다고 스타일코드를 여러개 둘 수도 없죠. 파편화되기 시작하면 Global Scope를 감당하기 끔찍해집니다&lt;/p&gt;
&lt;p&gt;vanila CSS에서는 조건부 스타일링을, class같은 것을 동적으로 추가하거나 제거하여 달성합니다.&lt;br&gt;
만약 버튼을 클릭하여 body에 darkmode 클래스를 넣거나 제거하려면, 아래처럼 합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;button&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;click&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// body 태그에 darkmode 클래스를 추가하거나 제거&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;darkmode&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;또는 리액트 상태를 이용하여 일부 컴포넌트에 대해 동적으로 스타일을 적용하려면 이렇게 되겠네요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isActive &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;active&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id=&quot;css-modules&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#css-modules&quot; aria-label=&quot;css modules permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CSS Modules&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/RunTale/Runtale_FE_v2&quot;&gt;런테일&lt;/a&gt;이라는 서비스를 개발할 때 썼습니다&lt;/p&gt;
&lt;p&gt;그대로 CSS를 작성하는건 똑같은데, 일정 부분(파일 등)에만 국한되는 &lt;strong&gt;Local Scope를 가진 CSS코드&lt;/strong&gt;를 작성할 수 있어요.
&lt;code class=&quot;language-text&quot;&gt;파일명.module.css&lt;/code&gt; 이렇게 이름을 지으면 CSS module이 됩니다&lt;br&gt;
이를 &lt;code class=&quot;language-text&quot;&gt;import styles from &apos;./my-style.module.css&apos;&lt;/code&gt;와 같이 import하여 사용해요&lt;br&gt;
그럼 이제 CSS Module은 선언된 클래스들에 대해 임의의 해시값을 추가하므로, class이름이 겹치더라도 다른 클래스가 되어 범위가 이를 import한 파일에만 한정됩니다.
이 덕분에 &lt;strong&gt;CSS코드를 파일(컴포넌트, 페이지 등) 단위로 격리하고 구분&lt;/strong&gt;지을 수 있어요.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* Button.module.css */&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.button&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #3498db&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 10px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// React Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; styles &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./Button.module.css&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;styles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;button&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Click Me&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CSS Modules에서 조건부로 스타일을 적용하고 싶다면&lt;br&gt;
vanila CSS에서처럼 클래스를 동적으로 끼우는 것으로 해요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;className={isActive ? styles.active : undefined}&lt;/code&gt; 이런 식으로요&lt;/p&gt;
&lt;h2 id=&quot;장단점&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%A5%EB%8B%A8%EC%A0%90&quot; aria-label=&quot;장단점 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;장단점&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4dd9ac2da6a7315e6f5f30a1ccfd0fb0/37523/image-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.49367088607595%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABF0lEQVR42pWRSW6DQBBFuQ0CzEwgjBKDAEvMK8SC+x8jL7SNLIdF/BetKnX/oaql2x/ouh4EwfeBMAwNw9A07XYF6a3nnWVZURTBQSVN07IsKT4g46woCjUSeZ7btn1pfk0msKqqtEh4nmea5gdknCl836fwD/w3NiG/niAC87O2y7Glc8MCwjlJEsdxILuuiy2tGPtN4pfMeMoB9YAsyxi2bZtlGWfXdXDE7euzB5nB0CabCAmgzfM8DEPTNMuy0OIfHojjmGe0BJH4DH5yHMf7E9RwYK7rWlUVuvDFFSn6vicONXEeMxOmKArc+NW6roXWNE37vk8Htm1DAhpOzCUWJJ1LZkPWC2jZFjvjn6mJSi2uzoX9AH9QkaVknsz0AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;CSS Modules&quot;
        title=&quot;&quot;
        src=&quot;/static/4dd9ac2da6a7315e6f5f30a1ccfd0fb0/f058b/image-10.png&quot;
        srcset=&quot;/static/4dd9ac2da6a7315e6f5f30a1ccfd0fb0/c26ae/image-10.png 158w,
/static/4dd9ac2da6a7315e6f5f30a1ccfd0fb0/6bdcf/image-10.png 315w,
/static/4dd9ac2da6a7315e6f5f30a1ccfd0fb0/f058b/image-10.png 630w,
/static/4dd9ac2da6a7315e6f5f30a1ccfd0fb0/37523/image-10.png 720w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;좋은 점은, vanila CSS를 잘 알면 이 module만으로도 충분히 편합니다.&lt;br&gt;
사실상 CSS와 달라질게 하나도 없으니까요.&lt;br&gt;
기존 CSS에서 열받았던 global scope를 해결하고, 덕분에 우선도와 복잡도가 점점 깊어지는 상황도 피할 수 있습니다&lt;br&gt;
또한 이제 이 덕분에 CSS 코드는 이를 필요로하는 코드의 바로 옆에 위치하여 묶일 수 있게 돼요&lt;/p&gt;
&lt;p&gt;단점으로는 class이름의 가독성이 좀 떨어집니다. 어느정도는 알아볼만한데, 개발자도구로 검사할 때 좀 까다로워지는 측면이 없지않아 있습니다.&lt;br&gt;
동적스타일링도 사실은 다른 방법들에 비해 강점이 있는 편은 아니죠, 클래스 자체를 갈아끼우기 때문입니다&lt;/p&gt;
&lt;p&gt;이외에 다른 자료들에서 보면 전역스타일링이나, 파편화가 심해진다는 것을 단점으로 이야기하기도 하는데, 전 딱히 공감하지는 않습니다.&lt;br&gt;
전역스타일링이 필요하면 여전히 모듈이 아닌 전역css시트를 작성할 수 있고, 우리는 모듈화를 위해 CSS Modules를 사용하기 시작한겁니다&lt;/p&gt;
&lt;h1 id=&quot;css-in-js&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#css-in-js&quot; aria-label=&quot;css in js permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CSS-in-JS&lt;/h1&gt;
&lt;p&gt;CSS-in-JS는 &lt;strong&gt;자바스크립트 코드에서 CSS를 작성&lt;/strong&gt;하는 패러다임입니다.&lt;br&gt;
styled-component나 emotion같은 것들이 대표주자인데&lt;br&gt;
저는 &lt;a href=&quot;https://emotion.sh/docs/introduction&quot;&gt;emotion&lt;/a&gt;을 주로 사용해봤습니다.
회사에서도 emotion으로 작성하는 경우가 꽤 많고,&lt;br&gt;
&lt;a href=&quot;https://github.com/GPGT-Algorithm-Study/GPGT-Client&quot;&gt;처음 리액트 프로젝트&lt;/a&gt; 할 때도 이거로 시작했어요.&lt;/p&gt;
&lt;p&gt;emotion은 아래처럼 작성해요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; RedButton &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; styled&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;button&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  background-color: red;
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;FooComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RedButton&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;START!&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RedButton&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;스타일을 갖는 컴포넌트를 생성하고, 마치 으레 HTML요소나 컴포넌트를 사용하듯이 사용합니다.&lt;br&gt;
컴포넌트 파일에 함께 존재하게 해도 되고, 따로 &lt;code class=&quot;language-text&quot;&gt;style.jsx&lt;/code&gt;로 옆에 분리하여 둬도 괜찮습니다.&lt;br&gt;
취향에 따라 갈리는 것 같아요.&lt;/p&gt;
&lt;p&gt;동적 스타일링은 아래처럼 합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; RedButton &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; styled&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;button&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  background-color: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;active &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gray&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;;
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;FooComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isActive&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setIsActive&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RedButton&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;active&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isActive&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setIsActive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      START!
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RedButton&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;마치 진짜 컴포넌트를 만들듯이, props를 넘기고 styled 코드 내에서 props를 받아 쓸 수 있어요.&lt;br&gt;
또는 아래처럼도 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;FooComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isActive&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setIsActive&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; buttonStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; css&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
    background-color: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;isActive &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gray&quot;&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;;
  &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;css&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;buttonStyle&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setIsActive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      START!
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;장단점-1&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%A5%EB%8B%A8%EC%A0%90-1&quot; aria-label=&quot;장단점 1 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;장단점&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/28618b34b2e8241c2344b28b1d51eb51/e9d87/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvElEQVR42lVSTY+TUBTlv7TyPuBBu2kLWugHpZRQoNA2DSxq0GIaZ6ajM3VcTZpxoSYmrtxoYvypHuho9Kxu3r3nnnPvfZL6B0IITdM4571eb71e+77vum5aoyiKfr/PGEOB+g+kR6aqEkplWqHb7SZJEsfxfD6PoigIAvQyTJMQQonMGP2PDCZlbOI4m8XiqWmg6EmNZrPZaDRkWUZAiGwaRpiunlk2Z+yRDLdQGw2Hn8uX317tPhyuIKIqCnJGDQQK533L3r65Cy/usou3EGCMgyhpQqBtsUx/HW9+HG9/vrvNoqgpy0Ko+/2+LEuQGSGLTbY8nrzyOn//EG9yTimWVClj2sB1v14fvh8uv+xe+FMXzhVFsSxrMBhABKsaOpPL08f18bS7/zTxZpSQSlmpHWJmZzS6KYrQn1HOz7Z5jcq2omA0bzZ7/voQxAmanVkStt9qtUR9KGc6hRmtvtk5fT4hCjRdRwCBKqWq1YumSbZth2GIY6xWK1wlTRKcx/O8drtdTcvYeDzebrcoyPN8HobpcolDohjEamZ4w38AE12yLDOxbVX9+x90XUfc6XRQABr+DHYBX0KI31zFkIC3Yv8JAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;CSS-in-JS 장단점&quot;
        title=&quot;&quot;
        src=&quot;/static/28618b34b2e8241c2344b28b1d51eb51/f058b/image-8.png&quot;
        srcset=&quot;/static/28618b34b2e8241c2344b28b1d51eb51/c26ae/image-8.png 158w,
/static/28618b34b2e8241c2344b28b1d51eb51/6bdcf/image-8.png 315w,
/static/28618b34b2e8241c2344b28b1d51eb51/f058b/image-8.png 630w,
/static/28618b34b2e8241c2344b28b1d51eb51/40601/image-8.png 945w,
/static/28618b34b2e8241c2344b28b1d51eb51/e9d87/image-8.png 1176w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 방법은 스타일 코드의 재사용이 꽤 쉽고 좋았어요.&lt;br&gt;
그리고 제일 좋은 점은, 각 컴포넌트들에 이름이 있으니까 코드 수정할 때 알아보기 쉽다는 점입니다.&lt;br&gt;
예를 들어 &lt;code class=&quot;language-text&quot;&gt;TitleWrapper, ContentWrapper&lt;/code&gt; 이런식으로요. 원래같으면 그냥 &lt;code class=&quot;language-text&quot;&gt;div, div, ...&lt;/code&gt; 다 똑같은 div겠네요.&lt;br&gt;
꽤 &lt;strong&gt;읽기 쉬운 코드&lt;/strong&gt;를 만들어줍니다.&lt;/p&gt;
&lt;p&gt;JS 변수를 그대로 가져다가 동적 스타일링에 활용할 수 있다는 점도 큰 장점입니다.&lt;br&gt;
리액트나 JS적인 사고방식에서 별로 멀리 떨어지지 않아도 된다는 점에서 좋습니다&lt;br&gt;
다른 방법들도 동적 스타일링이 어려운건 아니지만, 따지자면 이게 좀 더 편하더라구요&lt;/p&gt;
&lt;p&gt;그리고 CSS코드가 JS코드 옆에 존재할 수 있다는 점도 은근히 장점입니다 (colocation.)&lt;br&gt;
딱 한 파일에 필요한 CSS-in-JS 코드만이 해당 파일 옆 또는 심지어 같은 파일에 존재할 수 있습니다&lt;/p&gt;
&lt;p&gt;한 가지 아쉬운 점은, 개발자도구에서 검사할 때 class이름이 그냥 임의의 문자열입니다&lt;br&gt;
이게 진짜 알아보기 힘들어져요.&lt;br&gt;
근데 이 단점은 &lt;a href=&quot;https://emotion.sh/docs/@emotion/babel-plugin&quot;&gt;이런 플러그인&lt;/a&gt;같은 것들로 커버할 수 있습니다&lt;/p&gt;
&lt;p&gt;진짜 단점으로는 &lt;strong&gt;런타임 성능&lt;/strong&gt;이 안좋다는 썰이 있는데.. 밑에서 알아보도록 하겠습니다.&lt;/p&gt;
&lt;h1 id=&quot;material-ui-ui-라이브러리&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#material-ui-ui-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC&quot; aria-label=&quot;material ui ui 라이브러리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Material UI (UI 라이브러리)&lt;/h1&gt;
&lt;p&gt;사실 &lt;a href=&quot;https://github.com/RunTale/RunTale_FE&quot;&gt;런테일&lt;/a&gt;이라는 서비스를 개발하는 단계에서 처음에 주로 Material UI를 사용했습니다&lt;br&gt;
Material UI라는건 일종의.. &lt;strong&gt;UI라이브러리&lt;/strong&gt; 또는 컴포넌트 라이브러리예요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm install @mui/material @emotion/react @emotion/styled&lt;/code&gt; 이렇게 일단 설치하면&lt;br&gt;
이 패키지에서 여러 미리 스타일이 적용된 컴포넌트들을 제공해줍니다.&lt;br&gt;
Material UI 이외에도 Chakra UI, bootstrap, ... 이런게 있나봅니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Button &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@mui/material/Button&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;sx&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;textAlign&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;marginTop&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;50px&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;variant&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;contained&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;primary&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        Click Me
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;variant&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;outlined&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;secondary&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;sx&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;marginLeft&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10px&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        Cancel
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; App&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;동적 스타일링은 mui같은 경우 &lt;code class=&quot;language-text&quot;&gt;sx&lt;/code&gt; props를 inline-style처럼 명시하게 하거나, 아예 몇몇 자주 쓰이는 토큰을 props로 넣을 수 있으니 이걸 이용합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;variant&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;contained&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isCancel &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  This is button
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;장단점-2&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%A5%EB%8B%A8%EC%A0%90-2&quot; aria-label=&quot;장단점 2 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;장단점&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ff9280cb227c1c80d0cbb179378cc22a/4ad3a/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.75949367088608%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzklEQVR42lWSyY7aQBRF/S9MrvKAwQNlG8KMgqGZUaKgDIuOBB2QINln238AUm8jZZ1PzMFOR3AX1qt69w2+tzTP8+r1eq1WazQacRwHQdBut7vdrpTSTGFZ1ng8Hg6Hvu/DDMOQL5ektGazOZ/P+/3+arVaLBZvU0wmE4phGIZh2/Zms5nNZr1ebzqd0gWa4zjX4lKplMvlCoUC33w+T8Bw2puvoD5UqlKpkIJQLBZh6rpOd63Vai2XSxrTleF8Gyp6E9U917sON00h5ZfHx85g0Ol01us1e8GBz8oaC/Az3itUFCYfFuNPa08FUhe6EJHvb9+/+zh5iJRyPa9arUKjhF00tpIpCPRiyQ2Dzy8/v/5+bj4MKnbZdJxpt/Pnx/df357iwC/q+i1fM2+AQlJIWxixrxy7vN1tn3Y7q1z241i3LCHFVeRU5wzarTBCCJOUZRqmgTaHw2G/3xOQS6/NbOZdMf0ow15koMV1vpTocT6fL5cLAUcMg4nhPAGk/ufz/zak0YAuUHEFM4/H4+l0IuDIJalyCgbcrc3ZdV0c5qlhMk8tiiKOqKqUIo5T8La4uSvO1s5s5G0lSTIajdgwizGWOEmBw9AgZ2v/Bdi1ob+7Wmx+AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Material UI 장단점&quot;
        title=&quot;&quot;
        src=&quot;/static/ff9280cb227c1c80d0cbb179378cc22a/f058b/image-11.png&quot;
        srcset=&quot;/static/ff9280cb227c1c80d0cbb179378cc22a/c26ae/image-11.png 158w,
/static/ff9280cb227c1c80d0cbb179378cc22a/6bdcf/image-11.png 315w,
/static/ff9280cb227c1c80d0cbb179378cc22a/f058b/image-11.png 630w,
/static/ff9280cb227c1c80d0cbb179378cc22a/40601/image-11.png 945w,
/static/ff9280cb227c1c80d0cbb179378cc22a/4ad3a/image-11.png 1152w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;장점으로는, 일단 &quot;우리 프로젝트 깔에는 이게 맞겠다&quot; 싶은걸 잘 고르고 시작한다면, 별도의 CSS코드를 거의 작성하지 않아도 됩니다&lt;br&gt;
런테일 프로젝트도 처음에는 색상 스타일 구상했던게 딱 MUI 깔이라서, 이걸 거의 가져다 썼어요&lt;br&gt;
그랬더니 아예 전체 프로젝트에서 css코드는 거의 없었습니다&lt;br&gt;
근데 디자인 컨셉을 새로 수정하는 v2작업을 진행하면서 거의 쓸모가 없어졌지만..&lt;/p&gt;
&lt;p&gt;이게 단점이긴합니다. 어느정도 수준에서는 매우 빠르고 간단하게 스타일링할 수 있지만, 디테일이 달라지게 되면 힘들어져요. 결국은 쓰는 의미가 거의 없어집니다&lt;br&gt;
또 단점인건 대신 해주는게 너무 많아요. 기본 글로벌 스타일이나, 컴포넌트 자체의 스타일이나, 어디서부터 잘못됐는지를 잘 모를 때가 있습니다&lt;/p&gt;
&lt;p&gt;그리고 그 UI라이브러리에 대해 조금은 알고 시작해야하는 러닝커브가 존재합니다&lt;br&gt;
MUI를 예로 들면, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Box&gt;&lt;/code&gt;를 이용해야겠구나, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Card&gt;&lt;/code&gt;를 사용해야지, 이런거를 처음부터 알 수는 없으니까요&lt;/p&gt;
&lt;p&gt;그리고 MUI는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Grid&gt;, &amp;lt;TreeView&gt;&lt;/code&gt;같은 유틸리티 UI 컴포넌트 셋도 제공합니다.&lt;br&gt;
이건 꽤 강력한데, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Grid&gt;&lt;/code&gt;로 반응형 레이아웃을 빈틈없이 구성할 수도 있고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;TreeView&gt;&lt;/code&gt;같은 경우, 복잡한 UI구성을 빌트인 컴포넌트로 편하게 작성해볼 수 있습니다&lt;/p&gt;
&lt;h1 id=&quot;tailwind-css&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#tailwind-css&quot; aria-label=&quot;tailwind css permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tailwind CSS&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://tailwindcss.com/&quot;&gt;tailwind css&lt;/a&gt;는 &lt;strong&gt;utility-first&lt;/strong&gt; CSS 프레임워크입니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;Tailwind CSS&lt;/em&gt; is a utility-first CSS framework for rapidly building modern websites without ever leaving your HTML.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;공식사이트에서 이런 소개를 할 정도로, 어디 가지 말고 적당히 클래스 몇 개 붙여서 스타일을 적용할 수 있게 한다, 라는 목표를 두고 있습니다.&lt;br&gt;
실제로도 컴포넌트에서 바로 인라인으로 스타일을 주르륵 써놓기만 하면 끝입니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  Click Me
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로, 간단히 유틸리티 클래스를 몇 개 덕지덕지 붙여서 스타일을 적용합니다.&lt;br&gt;
예를 들어, &quot;글씨는 흰색이면 좋겠어&quot; =&gt; &lt;code class=&quot;language-text&quot;&gt;text-white&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Tailwind CSS를 사용하는데 조건부로 스타일을 적용하고 싶다면&lt;br&gt;
간단히, 자바스크립트의 템플릿 리터럴 문법으로 원하는 자리에 쉽게 동적으로 유틸리티 클래스를 넣을 수 있습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;bg-blue-500 &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;theme &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;DARK&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;text-white&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;text-black&quot;&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  Click Me
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게요&lt;/p&gt;
&lt;p&gt;아니면 문자열 뒤에 &lt;code class=&quot;language-text&quot;&gt;+ &quot; text-white&quot;&lt;/code&gt;처럼 덧붙여서 스타일을 빌드할 수도 있습니다&lt;br&gt;
물론 중간중간에 공백이 잘 들어가게 해주도록 합시다&lt;br&gt;
이런 식으로 할 수 있다는 뜻&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; buttonClassName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;rounded &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;selectedColor &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;RED&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; buttonClassName &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bg-red-500 &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;selectedColor &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;GREEN&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; buttonClassName &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bg-green-500 &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;selectedColor &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;BLUE&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; buttonClassName &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bg-blue-500 &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;buttonClassName&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Click Me&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그럼 복잡한 조건문이라도 문제없이 주르륵 다 거쳐서 문자열로 쉽게 빌드하고 꽂아넣을 수 있습니다&lt;/p&gt;
&lt;h2 id=&quot;장단점-3&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%A5%EB%8B%A8%EC%A0%90-3&quot; aria-label=&quot;장단점 3 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;장단점&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/52391c9f39a897fdab018669728b7f9c/aa61c/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.64556962025317%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAABmElEQVR42m3SSZIaMAwFUN+GqZnnMcxDsYAFC7j/RfKwEjeVjhYqWf6S/pedvn5Yo9Fot9vr9Xq1WvGbzcZR8icyfdaUuNlsDofD6XQ6n89Ho1Gr1fr6n30Xa6+mHGu12uVyOZ/P1Wq1AP7pkmJmr9e7Xq+8WAt+PB4/n8/X6yWo1+tgh8NhNptF/KcYrp6tBMxYA4/H4+l0EhTAJ0acaPuVLdYTe7Kk5XJ5yGba8q+5Cg+mMCHZ6XRCMEnNbDJ8FAj6/X4rG6qBiWOi05zBYGC4ZovFQmPX2E6zobff711pYaDl4zKZTDBPrgnjDXGhGAIRsiHkBR7M2tQbI/ldHM8rMir2FBsSKwASxP4lK5VKYPj3tvXb7XZw2+1WY29rMp6gZTIAzkjJE2WLaNKbSH08Hgo8DOVAtsVHsaYkKA79Ctx2u13+vbDgwzsE2zh+0i5/6/OR37QhYtsQWupdcK6sUD7W083Wyyb5Lkb7fr+rp4dsXqOgM8kGdLvdCI7vQTCN8U+TOdrHDy8WkynXCG0YIoui8r1/A4Ijvz6AmrstAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Tailwind CSS 장단점&quot;
        title=&quot;&quot;
        src=&quot;/static/52391c9f39a897fdab018669728b7f9c/f058b/image-12.png&quot;
        srcset=&quot;/static/52391c9f39a897fdab018669728b7f9c/c26ae/image-12.png 158w,
/static/52391c9f39a897fdab018669728b7f9c/6bdcf/image-12.png 315w,
/static/52391c9f39a897fdab018669728b7f9c/f058b/image-12.png 630w,
/static/52391c9f39a897fdab018669728b7f9c/40601/image-12.png 945w,
/static/52391c9f39a897fdab018669728b7f9c/aa61c/image-12.png 1065w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;단점으로는..&lt;br&gt;
매우 긴.. &lt;strong&gt;끔찍하게 긴 클래스이름&lt;/strong&gt;을 갖는 컴포넌트가 등장해버립니다 ;; 막 쓰다보면 생각보다 길어져요.&lt;br&gt;
그리고 물론 모던 디자인을 위해 엄선된 유틸리티 클래스들이지만, 그만큼 &lt;strong&gt;자유도&lt;/strong&gt;가 떨어집니다&lt;/p&gt;
&lt;p&gt;장점으로는..
그래도 앉은 자리에서 스타일을 모두 해결할 수 있고, 엄선된 모던 스타일용 유틸리티 클래스들이라 은근 편한건 맞습니다.&lt;br&gt;
유틸리티 클래스들을 좀 쓰다보면 은근히 익숙해져서 꽤 빠르게 스타일작업을 진행할 수 있습니다&lt;br&gt;
진짜 이것만 쓰면서 한 몇 주 지나면? 또는 며칠내로? 완전히 &lt;strong&gt;생산성&lt;/strong&gt;이 엄청나질 것 같다는 느낌이 들었습니다&lt;/p&gt;
&lt;p&gt;근데 이건 곧 단점이 될 수 있어요&lt;br&gt;
새롭게 배워야 할게 생긴다는 뜻이고, 추가적인 &lt;strong&gt;러닝 커브&lt;/strong&gt;가 존재하는 셈입니다&lt;br&gt;
CSS만 알면 됐지 또 각각의 유틸리티 클래스들을 외우려면 싱찌증날 수 있어요&lt;/p&gt;
&lt;p&gt;저는 컴포넌트의 재사용성이 떨어진다고 생각했는데, 사실 그렇지는 않은 것 같아요. 오히려 더 용이할 수도 있겠다는 생각을 합니다&lt;br&gt;
미리 공통버튼같은 재사용 컴포넌트를 만들어두고, 이걸 분리해둔 다음에, 나중에 갖다 쓰고 필요에 따라 클래스이름을 또 거기다 덧붙여서 스타일을 커스텀할 수도 있겠습니다&lt;/p&gt;
&lt;h1 id=&quot;css-in-js-성능에-대한-괴소문은-진짜인가요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#css-in-js-%EC%84%B1%EB%8A%A5%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B4%B4%EC%86%8C%EB%AC%B8%EC%9D%80-%EC%A7%84%EC%A7%9C%EC%9D%B8%EA%B0%80%EC%9A%94&quot; aria-label=&quot;css in js 성능에 대한 괴소문은 진짜인가요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CSS-in-JS 성능에 대한 괴소문은 진짜인가요?&lt;/h1&gt;
&lt;p&gt;CSS-in-JS는 편하지만 최종적으로는 &lt;strong&gt;runtime에 이를 변환해주는 작업이 필요&lt;/strong&gt;합니다&lt;br&gt;
이는 다른 방법들과는 다르게 성능 오버헤드를 유발할 수 있습니다&lt;br&gt;
라는 이야기가 있어서, 한번 간단히 확인해봤습니다.&lt;/p&gt;
&lt;h2 id=&quot;간단한-성능-테스트를-위한-세팅&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%84%B1%EB%8A%A5-%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%84%B8%ED%8C%85&quot; aria-label=&quot;간단한 성능 테스트를 위한 세팅 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;간단한 성능 테스트를 위한 세팅&lt;/h2&gt;
&lt;p&gt;간단한 코드들을 작성할건데, 별 신경쓰지 않고 결과만 보셔도 됩니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;VanilaTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isActive&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setIsActive&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setIsActive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        Toggle Active State
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;TestArea&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;isActive&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isActive&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;TestArea&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; isActive &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;test-element &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;isActive &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;active&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;inactive&quot;&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      Vanila CSS Test
      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isActive &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;status-badge&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Active!!&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.test-element&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 300px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 200px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; lightgray&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;border-radius&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 10px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;box-shadow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0 4px 6px &lt;span class=&quot;token function&quot;&gt;rgba&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0.1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;align-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bold&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #333&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;transition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; all 0.3s ease&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;.test-element.active&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; lightcoral&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;.test-element.inactive&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; lightblue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; darkblue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;.status-badge&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;margin-top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 10px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5px 10px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; orange&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;border-radius&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 14px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그냥 vanila CSS를 사용하는 &lt;code class=&quot;language-text&quot;&gt;VanilaTest&lt;/code&gt; 컴포넌트를 위와 같이 작성하고&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; styled &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@emotion/styled&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;EmotionTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isActive&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setIsActive&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setIsActive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        Toggle Active State
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;TestElement&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;isActive&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isActive&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        Emotion Test
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isActive &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StatusBadge&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Active!!&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StatusBadge&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;TestElement&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; TestElement &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; styled&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;div&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  width: 300px;
  height: 200px;
  background-color: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isActive &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;lightcoral&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;lightblue&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;;
  border-radius: 10px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  font-size: 20px;
  font-weight: bold;
  color: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isActive &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;darkblue&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;;
  transition: all 0.3s ease;
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; StatusBadge &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; styled&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;div&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  margin-top: 10px;
  padding: 5px 10px;
  background-color: orange;
  color: white;
  border-radius: 5px;
  font-size: 14px;
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CSS-in-JS 라이브러리인 emotion을 사용하는 &lt;code class=&quot;language-text&quot;&gt;EmotionTest&lt;/code&gt; 컴포넌트를 만들었어요&lt;br&gt;
비교에 도움이 될까 싶어 일부러 스타일 줄도 많이 넣고, 조건부 스타일도 추가해버렸습니다.&lt;br&gt;
이정도면 조건은 똑같겠죠?&lt;/p&gt;
&lt;p&gt;아, Tailwind도 같이 해보고싶어져서 &lt;code class=&quot;language-text&quot;&gt;TailwindTest&lt;/code&gt;도 만들었습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;TailwindTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isActive&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setIsActive&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setIsActive&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        Toggle Active State
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;TestArea&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;isActive&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isActive&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;TestArea&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; isActive &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;flex flex-col items-center w-[300px] h-[200px] rounded-lg shadow-lg justify-center text-xl font-bold transition-all duration-300 &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;
        isActive
          &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bg-[lightcoral] text-white&quot;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bg-[lightblue] text-[darkblue]&quot;&lt;/span&gt;
      &lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      Tailwind Test
      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isActive &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;mt-2 px-4 py-2 bg-[orange] text-white rounded-lg text-sm&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          Active!!
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;처음에는 따로 &lt;code class=&quot;language-text&quot;&gt;TestArea&lt;/code&gt;를 분리하지 않았는데,&lt;br&gt;
나중에 생각해보니 Emotion은 컴포넌트 하나 더 뺀 셈이니까 Emotion가 더 불리하려나? 싶어서,&lt;br&gt;
스타일이 적용된 영역을 Vanila와 Tailwind에서도 별도의 컴포넌트로 분리했습니다&lt;br&gt;
이제 이 컴포넌트들을 적당히 잘 나열했습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;VanilaTest&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;EmotionTest&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;TailwindTest&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/yudtyTm.gif&quot; alt=&quot;컴포넌트 구성&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;성능-테스트해보기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%84%B1%EB%8A%A5-%ED%85%8C%EC%8A%A4%ED%8A%B8%ED%95%B4%EB%B3%B4%EA%B8%B0&quot; aria-label=&quot;성능 테스트해보기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;성능 테스트해보기&lt;/h2&gt;
&lt;p&gt;이제 React Dev Tools - Profiler를 켜고, 첫 렌더링의 FlameGraph를 살펴봅시다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/996f20036c4c2a500840a08601ae9133/d5bfb/image-16.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 19.62025316455696%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAqklEQVR42mMw8Qs0Dww2CQ53SM2wCIu2Dos0DYkyC47S8QzQ9vDXckdBmm5+et7Bep5+RtGpdsV1DNYRoTZxUfaJMW4lOSFTWoImNidNqsifW1Uwv7Z8RXPlSkzUBCQrVjQGTW9lUFMzUFXVU1XWVVXR0zW30TazsbUw9HUx8nY2CvAwDfE2w4VMnF0YtPRMNSFI11RdywiIVLRMlDRASFHdWEENJ1LTMAQAXeRGSes0zVcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;첫 렌더링 성능&quot;
        title=&quot;&quot;
        src=&quot;/static/996f20036c4c2a500840a08601ae9133/f058b/image-16.png&quot;
        srcset=&quot;/static/996f20036c4c2a500840a08601ae9133/c26ae/image-16.png 158w,
/static/996f20036c4c2a500840a08601ae9133/6bdcf/image-16.png 315w,
/static/996f20036c4c2a500840a08601ae9133/f058b/image-16.png 630w,
/static/996f20036c4c2a500840a08601ae9133/40601/image-16.png 945w,
/static/996f20036c4c2a500840a08601ae9133/d5bfb/image-16.png 1072w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;VanilaTest, EmotionTest, TailwindTest&lt;/code&gt; 각각이 사이놓게 어깨동무하고 있네요&lt;br&gt;
근데 딱봐도 Emotion의 어깨가 너무 넓습니다&lt;br&gt;
엄청난 차이를 보여주네요..&lt;br&gt;
너무 간단한 성능테스트라서 정확히 어느정도 수치의 차이가 난다, 를 결론짓기는 조심스럽습니다만&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;div (Styled)&lt;/code&gt;가 확실히 렌더링 성능이 안 좋은 것을 알 수 있습니다&lt;/p&gt;
&lt;p&gt;버튼을 토글해서 리렌더링 성능 프로파일링도 한번 해보겠습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Profiler&gt;&lt;/code&gt;로 세 개의 테스트 컴포넌트들을 감싸서 프로파일링 로그를 모을 수 있는데&lt;br&gt;
아래와 같이 코드를 짜줬습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 성능 데이터를 저장할 객체 (각 id 별로 성능 데이터를 저장)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; performanceData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// onRender 콜백 함수&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onRenderCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token parameter&quot;&gt;id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  phase&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  actualDuration&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  baseDuration&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  startTime&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  commitTime&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 해당 id에 대한 성능 데이터가 없으면 초기화&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;performanceData&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    performanceData&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;totalActualDuration&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;minActualDuration&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;Infinity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;maxActualDuration&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 해당 id에 대한 성능 데이터를 업데이트&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; performanceData&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;totalActualDuration &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; actualDuration&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;minActualDuration &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;minActualDuration&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; actualDuration&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;maxActualDuration &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;maxActualDuration&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; actualDuration&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 평균 렌더링 시간 계산&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; averageActualDuration &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;totalActualDuration &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
    &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Profiler Data for &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;id&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; (&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;phase&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; phase): \n&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Actual duration: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;actualDuration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toFixed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ms \n&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Base duration: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;baseDuration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toFixed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ms \n&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Total renders: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; \n&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Average actual duration: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;averageActualDuration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toFixed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ms \n&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Min actual duration: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;minActualDuration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toFixed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ms \n&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Max actual duration: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;maxActualDuration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toFixed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ms \n&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Profiler&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;vanila&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onRender&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;onRenderCallback&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;VanilaTest&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Profiler&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Profiler&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;emotion&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onRender&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;onRenderCallback&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;EmotionTest&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Profiler&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;br&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Profiler&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;tailwind&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onRender&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;onRenderCallback&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;TailwindTest&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Profiler&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 하면 &lt;code class=&quot;language-text&quot;&gt;onRender&lt;/code&gt; props로 등록한 &lt;code class=&quot;language-text&quot;&gt;onRenderCallback&lt;/code&gt;함수는 매번 렌더링이 일어날 때마다 호출되며&lt;br&gt;
각 컴포넌트의 &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;에 따라 각기 따로 저장되고 유지됩니다&lt;br&gt;
이제 토글버튼을 각각 50번씩 누르고 콘솔로그를 봅시다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 331px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/16f48d727772b6b767b54f8341895ebe/62452/image-17.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 93.0379746835443%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIUlEQVR42m3T605aURAF4PMemhArtNWCAhYERUEU5FKtQLiYoL8wvv8b+PUMgradH5Nh771mrVlzSGq1Wrfb7XQ6zWZTVisajcbNzY2fl5eX8mQycdjv9+/v78/Pz/P5/I80Eqej0cjFYDAYDocPDw+3t7dXV1dPT0/q4+PjUqlUqVQKhUK5XFYrvr1Hcn19PZ/P5d9paBHt1EdHR7lcLpvN7u3tfX0PmO/vkZA9nU4x93o98u7u7miWf6aBqlqtEkLqR9gabCQ6f6VhTtkJWsNToZ1bk1Pxf7BR2+32bDYLMOR4PMZ/cXGxWq0c7u7uhuBQDnaQRhKqzMlGDABg9Xo9Cidy7OLs7MxLz4rF4uHh4R+3XZuQQi/QssrwhDw/PzOykgY7YU5PT7WQwUJIEoK1BKNfIy8sCdJuuL2/v5/JZHgOIDvZDJ8QAxy2sYcEJCTQxiQmM9xGsG1G3RqG2VNUaC2MW0TGp+KcEFP4sPRC+DfYHQxL41OJsUngBf0vLy92trOzs5EdxRq8cVtwODKkceiPKYRDziks4uTkZO220/gqw22CUbVaLatW0wLTTSP+La7whWeJH/EoxtOFEE+Xy6XXYe+XNNSc/ySbksfHx7CN7TIMLQijPYVsP/gcazDmUNtLAz9m9lLIcBKIIsfCNoRbt10AeLdYLIB14XZ8Npb3+vrqkNSPG9qCTc9YmcOkMtMglLPUl2gc+V/OAL8BwtsGqzI4Vq8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;리렌더링 통계낸 결과&quot;
        title=&quot;&quot;
        src=&quot;/static/16f48d727772b6b767b54f8341895ebe/62452/image-17.png&quot;
        srcset=&quot;/static/16f48d727772b6b767b54f8341895ebe/c26ae/image-17.png 158w,
/static/16f48d727772b6b767b54f8341895ebe/6bdcf/image-17.png 315w,
/static/16f48d727772b6b767b54f8341895ebe/62452/image-17.png 331w&quot;
        sizes=&quot;(max-width: 331px) 100vw, 331px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;렌더링에 평균적으로 소요되는 시간(&lt;code class=&quot;language-text&quot;&gt;Average actual duration&lt;/code&gt;)은..&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;vanila CSS : 0.35ms&lt;/li&gt;
&lt;li&gt;Emotion : 0.48ms&lt;/li&gt;
&lt;li&gt;tailwind css : 0.27ms&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Tailwind &gt; Vanila CSS &gt; Emotion 순으로 빨랐네요&lt;br&gt;
생각보다 Tailwind가 좀 빠릅니다..&lt;br&gt;
그리고 생각보다 vanila CSS가 조금 느릴 때가 있네요?&lt;br&gt;
재밌네요.. 연구를 좀 더 하면 재밌을 것 같습니다&lt;/p&gt;
&lt;p&gt;아무튼 간단한 환경에서 각 방법들의 성능을 비교하고&lt;br&gt;
CSS-in-JS가 성능이 안 좋다는 괴소문이 진짜인지 확인해봤습니다&lt;br&gt;
꽤나 진짜인 것처럼 보이네요. 확실히 런타임 변환이 필요하니까 그럴만 하고요&lt;br&gt;
간단한 예제로 확인했는데, 프로젝트가 커질수록 큰 이슈로 다가올 수도 있겠습니다&lt;/p&gt;
&lt;p&gt;그리고 특이한 것은, Emotion 케이스에 대한 프로파일링 결과에서&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 454px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e07bd80b26c5e561df43ecf01931c3c6/b3c1d/image-18.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.848101265822784%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABRElEQVR42mNIzKxIzavNK2/PKWvLLW/LKWsFMrJK2jKKW4Eovaglp7y9rWdqR+/ktq6JdU1ddc0gVN/ak5lTzLCs1WlRs+vKLu91vd6rur03TfRZ3uG1bYrvmSVBpxYHnZjve3Zl0oN716/fuHX58qV79+9/+fLlAxj8/PGTIcJLP8zLIMxTP8xTL8RdL9ZPf1Orzunp2iemaJ+fpXdxttbzrZ63r587dvzUmbNnb926dfv2nTt37129eu3jx08Mcmqm8qjIwtzMxsrUytLU1Ng4Otx+/oyMQwf379y5e8+evUePHjt69Oi+ffsePnz4//9/Bi1dEzSkqmWirGmioglkmCqqG9g5eQGtunbt+rVr186dO3/p0uXHT57eu3f/6dNnDBo6JmhIUxeBNHSMtfXMvf1CfQPDfQPAKBCEfALCfAPDAa62rGmZQWUIAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;insertion?&quot;
        title=&quot;&quot;
        src=&quot;/static/e07bd80b26c5e561df43ecf01931c3c6/b3c1d/image-18.png&quot;
        srcset=&quot;/static/e07bd80b26c5e561df43ecf01931c3c6/c26ae/image-18.png 158w,
/static/e07bd80b26c5e561df43ecf01931c3c6/6bdcf/image-18.png 315w,
/static/e07bd80b26c5e561df43ecf01931c3c6/b3c1d/image-18.png 454w&quot;
        sizes=&quot;(max-width: 454px) 100vw, 454px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Insertion&lt;/code&gt;이라는.. 제가 추가하지도 않은 컴포넌트가 있습니다&lt;br&gt;
스택오버플로우를 살짝 찾아봤는데, &lt;a href=&quot;https://github.com/emotion-js/emotion/blob/main/packages/styled/src/base.js#L27&quot;&gt;emotion의 스타일링 엔트리포인트에 해당하는 컴포넌트&lt;/a&gt;라고 해요&lt;br&gt;
언젠가 이 라이브러리 간단히 한번 뜯어보는것도 재밌을 것 같습니다.&lt;/p&gt;
&lt;h1 id=&quot;결론&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B2%B0%EB%A1%A0&quot; aria-label=&quot;결론 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;결론?&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5c4f5a4d0c7cb35e5ecdf3f7159e8664/92bb4/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 43.67088607594937%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABqklEQVR42l2Ry27aQBiF/RqNBE4gxK5hPL6NbRIDlszNMMY2BoLExaKJ2HRVtZs2zxB1XSmrNGqlLrJIu8275QDNoj2L0Vz+y3fmF2r/Stc1xqx2u93tdjudTqvV6vf7FrM1TSOE/Bcs4Kr6Kpxt2zU0t9X0gyDwfR/JTe/CY4bLLLxXFYW8apcsSZJpmrquoyElOs+atw+rhu+oqsoYQ2En6KV3f+rxzCA123HQAymyLGMjgCpJkjRNp7NpHKXLq9HXH3nQbaiU1s/PkdwIo8uH5+j6/TwbT6bTyWTS6/VgCqWFwWAAh4vFYr1er1Yrh9XFwulJ+di165SqrmuJonxWLDjMGg55fy/OOeyAfIddLpeBgYNt247rmKZxf/P7w/LLm4L4+WP76WeIa8MwNY1WKpVSqXSI32HDLRjCMMSaxMnscsZ59O3TryV/d1QUr/KLx++dKBrN5/M4jiPsRiM0p5TukvExw71gG/B5nmdZdnxalN5KKiGSVCsU5fF4vN1uYWqz2RxiYFhRFAEFwAB4YIPC2IvU/g5DxVJVMHC+l+d5GDjaHub8AgKQgxWcvXYFAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;그래서 뭐 씀?&quot;
        title=&quot;&quot;
        src=&quot;/static/5c4f5a4d0c7cb35e5ecdf3f7159e8664/f058b/image.png&quot;
        srcset=&quot;/static/5c4f5a4d0c7cb35e5ecdf3f7159e8664/c26ae/image.png 158w,
/static/5c4f5a4d0c7cb35e5ecdf3f7159e8664/6bdcf/image.png 315w,
/static/5c4f5a4d0c7cb35e5ecdf3f7159e8664/f058b/image.png 630w,
/static/5c4f5a4d0c7cb35e5ecdf3f7159e8664/40601/image.png 945w,
/static/5c4f5a4d0c7cb35e5ecdf3f7159e8664/78612/image.png 1260w,
/static/5c4f5a4d0c7cb35e5ecdf3f7159e8664/92bb4/image.png 1824w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;AI친구에게 요약해달라고 해봤습니다.&lt;/p&gt;
&lt;p&gt;결론은..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7e5d43b81f7394452118447d22cb6c3a/3684f/image-13.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAADjElEQVR42mNgQAWMQMSIQMQCJmxKgfqZmRiBCKdBQAkmsCQrCysfF5uePKuOHJucJA8vNxuyMmacxjMzu5qJFYVIprqypbswpDszTCtUeL7H8/Bcu9YcHXcrSW5OkEFMTBh+YWZmmlZt0pEkHGXOkOXG0pYkVuDHFWvNsLVH+/+t0L/Xg/5fDLy32T0jVAVoERNaWFSnaPx/GLGmRXN+hcLGDt32ZPG55coJdoxNcSL/r4b8uxj0/3Lwv5uh/x9FzqwzY2FhQYSlhAjns/1e/88H/L4Q+P9OxOHZZv66DLsmGTza4nJ1pd3dDY7nF1vtm2K0uEZ1S7fe/1shC1osmJhYGMHxwhDuKf//WtDvU35/gei036/Tfk+3O/8+5fv9pH91OD/Q8UAnJNgxhBgDGSwvd7v9fxA+odwYGjsN2br/b4T8Oun374z//3MBP076fTns8/9i0O/zQTMKZarDeXI82eJtGeaXK95cbff3jD/Qmv/Xg2N8FEHOTglW+X8z+NcJiOagCdkyac5MfZkSOyfoP9vh+v9q2PYJ+o0xgm+OeAP9/+eU359T/v8vB15c58bOxsrAw8l2fi1QUdDv0/7/z/rNr1BMdWaKtGAINWFId2HuTRffP9X45W73/5eC/l0O/n8hEOi13yd9/54PNNQSBlluoiXy9pj//9Pe32aI/Vim+mqPx9FZxtMLpPO8WSPMGMJMGHI9WSflSB2cbvJ6j8e/C0F/gaZcC4nzU4GmG297uV+nvL5PE/rSy/X3uNv/29H/r4W9P+xzaLbZhFyZDG/2MHOGcDOGHE/W3gygjwz+Xw0uS9YG2czCDNJflar1f5nC527Ob8vVf2w2+blO/99mo//bjX+v1X44QWJXi3x/tiRQc4Q5g7cuw51NDjF+aogsYSDL9m0i/5cJ/J97eYH2f+vj/tLF+amd9Usn+69u1v8bdf5eDnuxw/XwdMPjs/SPLXTi4eKApm0gEOZmudEo8H8u/5+p/L+nCnzu4/+6QP77Gr3v6w2+bjL9ccj930VgKgr7fjpk40QHFXlBlLwBBMpiHHNi+a83CN5pEfw/nfvfbpP/t6P+Xwv9dysMmMif7/WpTtUXE+KBq0fXD8ybbKxsknzsDcEix+fa3N7ocWOt265pdvnRmhIivJDSApi3mDDzNxMjcpEALABYuLnYOdjZkLM0UCcBAC5AEG4D2sPMzIhZmgAAZcFhQ2puQsIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;흠&quot;
        title=&quot;&quot;
        src=&quot;/static/7e5d43b81f7394452118447d22cb6c3a/3684f/image-13.png&quot;
        srcset=&quot;/static/7e5d43b81f7394452118447d22cb6c3a/c26ae/image-13.png 158w,
/static/7e5d43b81f7394452118447d22cb6c3a/3684f/image-13.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;저라면&lt;/p&gt;
&lt;p&gt;다른 별도의 의존성 없이 가볍게 가고싶다면 CSS Modules를 선택하겠습니다. CSS의 고질적인 문제를 충분히 해결해줄 수 있어요&lt;/p&gt;
&lt;p&gt;Emotion같은 CSS-in-JS는 복잡한 협업이 있을 때 사용하기 좋은 것 같네요. 다른사람들 코드를 시맨틱하게 알아볼 수 있는게 장점입니다&lt;br&gt;
특히 Emotion은 와 함께할 때 또한 강력(&lt;a href=&quot;https://mui.com/material-ui/getting-started/#material-ui-vs-base-ui&quot;&gt;MUI 오피셜&lt;/a&gt;)해서, 둘을 같이 사용할 때 장점이 많습니다.&lt;br&gt;
대신에 성능을 극한까지 아껴야 하는 프로젝트라면 재고할 필요가 있겠습니다&lt;/p&gt;
&lt;p&gt;만약 디자인같은거에 신경쓸 겨를이 없이 빠른 개발이 필요하면, MUI나 다른 UI라이브러리를 사용하면 좋을 듯 합니다.&lt;br&gt;
많은 빌트인 컴포넌트로 빠르게 강력한 UI를 구성할 수 있게 도와줍니다&lt;br&gt;
적당히 팀원들과 상의해서 프로젝트에 적절한 테마만을 고르면 되겠죠&lt;br&gt;
저도 해커톤할 때 그래서 MUI를 선택했습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 251px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/137a276e88c50fadc30d4a0d83b69149/26abe/image-19.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 80.37974683544303%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAADoUlEQVR42kXR21MbZRgG8L12vPSi09IUFS3UapVJi870EIQBct5TdrO72SQEctxks7s5J9skJClkQ5ZAQ6DUaqHhIKWCnQxqx0pqaYsd9cILxxkvHWdkxn/CLVw488x795vne98PqDfk5ITEJKfSxaoQL+lAvwkNglgYsgowEUGpGEpFlWmxp0h7HCdDVhtnc8YRUuCEHPBDqzg1LUWytaJ0M54p6yDGiIbMGHeMETKKUFGrIzlK+Q2aq5fV6sFr/YYRnV4HClwKAKkQSLBGjEFJBkR9WlDBrMkShnAeJgSIiOJ0FDHi6vMfnOvqutB97v2e8+pedd/Fi7BOD1icAuLgYRtndXAIzrzCSMiEsqBSjvOoLYqY6d7u95D+q5KXQAc1qjNd3e/29JztVgKgiqQFkBRwmocxv9YcOMIhEGMhjLXYYhqNkcdNP9bF3emY0zjYpVJ1nDp9uqOzU3UGQO0cTHMgyWJ0CMZ8WrPPiDDKzcwWxYeU97td4RcL+f168l7aU/VZJj3I0KULJ06cfFPVedwcNhNBlApAmEdr9hrgwLGHsNAQyNwqTv2zPbNT8P9298Z2iVmMULxl4OxbnadOdiiYQ2kWJBgFg6h72OQxQP/jYZApJ9LtSnQpTH1bYZdilBRAZC9k6vuot1cNKNfS2yIjRNhAsXrEO2D0Kl9tPCo3W4JaOJhkkxsR33yA2si5b0XtsyFC9mHqd962IBYApoJpGuKtYNk2WLNeHkVHzDhogpWdlWZ22MxQTrGZCd8MWGUWzzl0SXwA/uTD115/g2UFwBVIbLmv7PL6X2KaPX7Ij+s1OsOnw84h/Vj/iPNjjfNSv9tB+MoBlAH7knb9fJZtyPJqc/PZkydAa+frR2u5h595mvWx5ixWiEG1WmN9dX357kpGrHgCeZyMStLtl99ttVv3f33xfO/x3v3Nr2R5gYsUAKky83nBIY2rS+PXCq4r1bhtdkaeqcxtrW/8fLB/+Pdf/x4e/vnH79/sthYX73CxksuXwl0JfDRFebIARoYXGos1uTpfr8tzc2I+V5tb2n746KfnBy/3nz3YfFCdrrOhTDYt5q4XcVfKyUwcJW/35wCt0VOVa2v3vtj6srl8p758u9Ha2V5bWRfF8pgniZE8ZkvgdKyQK0yWKqQ7Y/NeV2L35V7hx+2n7fb3B/tPV1eWS/lJLpylaAHGOYSIW50iPZa3j09QjkRx4kapIOGjUdKdoDxpwisSXvE/b+aSyFZ1IGYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;빨리빨리&quot;
        title=&quot;&quot;
        src=&quot;/static/137a276e88c50fadc30d4a0d83b69149/26abe/image-19.png&quot;
        srcset=&quot;/static/137a276e88c50fadc30d4a0d83b69149/c26ae/image-19.png 158w,
/static/137a276e88c50fadc30d4a0d83b69149/26abe/image-19.png 251w&quot;
        sizes=&quot;(max-width: 251px) 100vw, 251px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Tailwind로도 빠르게 디자인을 해결할 수 있습니다. 애초에 그러려고 만들어졌고요&lt;br&gt;
그리고 위에서 살펴본 것처럼, 성능에 (vanila CSS보다도??) 꽤 큰 이점이 있습니다&lt;br&gt;
번들사이즈는 어떨까? 싶어서 살짝 찾아봤는데, 빌드시에 Tailwind 내부에서 필요없는 CSS라인들을 정리해주기 때문에 번들 사이즈도 경량이라고 하네요&lt;br&gt;
매우 깃털처럼 사용할 수 있는 라이브러리같습니다&lt;br&gt;
대신 협업할 때는 알아보기 힘들 수도 있겠네요.&lt;/p&gt;
&lt;p&gt;이러한 점들을 고려해서 상황에 맞게 사용하시면 좋을 것 같습니다&lt;br&gt;
제 고민들이 조금이나마 도움이 되었으면 하네요&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
아휴.. 원래 이렇게까지 길게 쓸 생각이 아니었는데&lt;br&gt;
성능 테스트 한번 해보려다보니까 욕심이 나서 꽤 길게 썼습니다&lt;br&gt;
그래도 재밌었네요&lt;br&gt;
이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Next.js 먹어보기 (2) : Pages Router]]></title><description><![CDATA[! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다. 저번 포스팅에서 Next.js의 App Router에 대해 알아봤는데요 이건 Next.js 13 이후로 나온 기능이고, 이전에는 Pages…]]></description><link>https://sungpaks.github.io/til/nextjs-pages-router/</link><guid isPermaLink="false">https://sungpaks.github.io/til/nextjs-pages-router/</guid><pubDate>Sun, 06 Oct 2024 16:07:01 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;저번 포스팅에서 Next.js의 &lt;a href=&quot;/til/nextjs-app-router&quot;&gt;App Router&lt;/a&gt;에 대해 알아봤는데요&lt;br&gt;
이건 Next.js 13 이후로 나온 기능이고, 이전에는 &lt;a href=&quot;https://nextjs.org/docs/pages&quot;&gt;Pages Router&lt;/a&gt;만이 존재했습니다&lt;br&gt;
&lt;del&gt;App Router가 등장하기 이전의 범부여..&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;이번에는 Pages Router로 Next.js를 다시 먹어보겠습니다&lt;/p&gt;
&lt;p&gt;그리고 저번 App Router 포스팅의 마지막쯤에 살펴본 Next.js의 캐싱은 거의 Next.js 13에서 App Router와 함께 등장한 기능입니다&lt;br&gt;
예컨대 방문한 모든 Route의 사전렌더링 결과를 캐싱하는 전략 등&lt;br&gt;
Pages Router에는 보통 해당되지 않습니다&lt;/p&gt;
&lt;p&gt;또한 &lt;code class=&quot;language-text&quot;&gt;&quot;use client&quot;&lt;/code&gt;같은 지시자를 사용하지 않습니다&lt;br&gt;
대신 어떻게 렌더링 타이밍이 결정되냐..는 것은 이제부터 살펴보겠습니다&lt;br&gt;
또는 &lt;a href=&quot;https://nextjs.org/docs/pages/building-your-application/rendering/client-side-rendering&quot;&gt;CSR되는 기준&lt;/a&gt;에 대한 공식문서같은 것을 미리 보셔도 괜찮을 듯&lt;/p&gt;
&lt;h1 id=&quot;폴더-구조&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%8F%B4%EB%8D%94-%EA%B5%AC%EC%A1%B0&quot; aria-label=&quot;폴더 구조 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;폴더 구조&lt;/h1&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;app/&lt;/code&gt; 폴더 대신, &lt;code class=&quot;language-text&quot;&gt;pages/&lt;/code&gt; 폴더 내에 페이지들이 존재합니다&lt;br&gt;
루트 경로(&lt;code class=&quot;language-text&quot;&gt;example-domain.com/&lt;/code&gt;처럼)는 이제 &lt;code class=&quot;language-text&quot;&gt;index.js&lt;/code&gt;처럼 &lt;code class=&quot;language-text&quot;&gt;index&lt;/code&gt;라는 이름을 갖는 파일의 컴포넌트가 담당합니다&lt;/p&gt;
&lt;p&gt;이제 다른 경로의 페이지를 만들려면, 예를 들어, &lt;code class=&quot;language-text&quot;&gt;/pages/news.js&lt;/code&gt;와 같이 파일을 만듭니다&lt;br&gt;
이러면 이 이름에 해당하는 경로가 생성됩니다. (&lt;code class=&quot;language-text&quot;&gt;example-domain.com/news/&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;다른 방법도 있는데, &lt;code class=&quot;language-text&quot;&gt;/pages/news/index.js&lt;/code&gt;와 같이, 폴더를 만들고 그 밑에 &lt;code class=&quot;language-text&quot;&gt;index.js&lt;/code&gt;를 생성하여 새로운 경로를 정의할 수도 있습니다.&lt;br&gt;
이렇게 하면 루트에 대한 진입점은 &lt;code class=&quot;language-text&quot;&gt;/pages/index.js&lt;/code&gt;였고, 이제 &lt;code class=&quot;language-text&quot;&gt;/news&lt;/code&gt; 경로에 대한 진입점은 &lt;code class=&quot;language-text&quot;&gt;/pages/news/index.js&lt;/code&gt;가 됩니다&lt;br&gt;
이 방법이 &lt;strong&gt;세그먼트를 중첩&lt;/strong&gt;하여 하위 경로의 페이지들을 막 만들어낼 수 있으므로 자주 쓰입니다&lt;/p&gt;
&lt;h1 id=&quot;dynamic-route-동적-경로&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#dynamic-route-%EB%8F%99%EC%A0%81-%EA%B2%BD%EB%A1%9C&quot; aria-label=&quot;dynamic route 동적 경로 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dynamic Route (동적 경로)&lt;/h1&gt;
&lt;p&gt;전에 App Router에서 했듯이, 똑같이 대괄호(&lt;code class=&quot;language-text&quot;&gt;[]&lt;/code&gt;)를 사용합니다&lt;br&gt;
근데 이번에는 이를 폴더가 아닌 js파일에 대해 사용합니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;/pages/news/[newsId].js&lt;/code&gt;처럼요&lt;/p&gt;
&lt;p&gt;이제 동적 경로의 매개변수 값을 가져오고 싶을건데 (&lt;code class=&quot;language-text&quot;&gt;newsId&lt;/code&gt;)&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useRouter()&lt;/code&gt; 훅을 사용하여 &lt;code class=&quot;language-text&quot;&gt;router.query.newsId&lt;/code&gt;처럼 가져옵니다&lt;br&gt;
어라, 훅을 사용하니 어쩔수없이 클라이언트 컴포넌트가 되나? 싶을 수 있지만&lt;br&gt;
다른 방법이 뒤에 나옵니다&lt;/p&gt;
&lt;p&gt;일단은 아래처럼 합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useRouter &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;next/router&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;DetailPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; router &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useRouter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; newsId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; router&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;newsId&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;The Detail Page : &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;newsId&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;페이지 간 이동은 여전히 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Link&gt;&lt;/code&gt;로 하면 되겠습니다&lt;/p&gt;
&lt;h1 id=&quot;_appjs&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#_appjs&quot; aria-label=&quot;_appjs permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;_app.js&lt;/code&gt;&lt;/h1&gt;
&lt;p&gt;page를 initialize할 때 Next.js는 &lt;code class=&quot;language-text&quot;&gt;_app.js&lt;/code&gt;컴포넌트를 거칩니다&lt;br&gt;
여기에서는 아래와 같은 일들을 할 수 있는데&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;공통 layout을 정의&lt;/li&gt;
&lt;li&gt;페이지에 data 주입하기&lt;/li&gt;
&lt;li&gt;Global CSS를 선언하기&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;기본적으로 아래처럼 생겼는데&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; AppProps &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;next/app&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MyApp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Component&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pageProps &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; AppProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Component&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token spread&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;pageProps&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;props로는&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Component&lt;/code&gt; : 지금 initialize하려는 page입니다. 예를 들어, 유저가 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Link href=&quot;/news&quot;&gt;&lt;/code&gt;를 눌렀다면, &lt;code class=&quot;language-text&quot;&gt;/pages/news/index.js&lt;/code&gt;에 해당하는 페이지 컴포넌트입니다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;pageProps&lt;/code&gt; : &lt;a href=&quot;https://nextjs.org/docs/pages/building-your-application/data-fetching&quot;&gt;data fetching method&lt;/a&gt;중 하나로 pre-load된 데이터입니다. 이 data fetching method에 대해서는 아래에서 다룹니다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Component {...pageProps}&gt;&lt;/code&gt;와 같이 원래 들어갈 &lt;code class=&quot;language-text&quot;&gt;pageProps&lt;/code&gt;를 그대로 모두 전달해주고,&lt;br&gt;
이외에도 넣어주고 싶은게 있다면 props로 넣어줄 수 있습니다&lt;/p&gt;
&lt;p&gt;그리고 &lt;a href=&quot;https://nextjs.org/docs/pages/api-reference/functions/get-initial-props&quot;&gt;getInitialProps&lt;/a&gt;를 이 타이밍에 사용할 수 있는데&lt;br&gt;
이는 데이터를 pre-load하는 방법중 하나로, 첫 렌더링 전에 미리 data를 가져오고 주입할 수 있습니다&lt;br&gt;
공식문서를 보시면 아시겠지만 &lt;code class=&quot;language-text&quot;&gt;getStaticProps, getServerSideProps&lt;/code&gt;가 나오면서 레거시가 되었습니다&lt;/p&gt;
&lt;h1 id=&quot;_documentjs&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#_documentjs&quot; aria-label=&quot;_documentjs permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;_document.js&lt;/code&gt;&lt;/h1&gt;
&lt;p&gt;여기에 Page의 기본 뼈대가 될 HTML을 정의합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Html&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Head&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Main&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; NextScript &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;next/document&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Document&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Html&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;en&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Head&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Main&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;NextScript&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Html&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 &lt;code class=&quot;language-text&quot;&gt;_document.js&lt;/code&gt;는 무조건 &lt;strong&gt;서버에서만 렌더링&lt;/strong&gt;되며, 따라서 이벤트핸들러같은 브라우저 특성은 먹히지 않습니다&lt;br&gt;
여기서 무조건 포함되어야 하는 것은.. &lt;code class=&quot;language-text&quot;&gt;Html, Head, Main, NextScript&lt;/code&gt;(모두 &lt;code class=&quot;language-text&quot;&gt;next/document&lt;/code&gt;에서 import)입니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;이 때 이 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Head&gt;&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;next/head&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Head&gt;&lt;/code&gt;와 다릅니다
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;_document.js&lt;/code&gt;에서 쓰는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Head&gt;&lt;/code&gt;컴포넌트는 프로젝트 전체에 해당되는 공통적인 선언을,&lt;/li&gt;
&lt;li&gt;다른 개별 페이지에서 사용하는 &lt;code class=&quot;language-text&quot;&gt;next/head&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Head&gt;&lt;/code&gt;는 그 개별 페이지에 해당하는 선언을 나타냅니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Main /&gt;&lt;/code&gt; 바깥에 리액트 컴포넌트가 존재해도 이는 동작하지 않습니다. React 영역전개에 해당하지 않는다는 뜻
&lt;ul&gt;
&lt;li&gt;그러니 Layout처럼 공통코드를 집어넣고 싶다면, &lt;a href=&quot;https://nextjs.org/docs/pages/building-your-application/routing/pages-and-layouts#layout-pattern&quot;&gt;Layout&lt;/a&gt; 여기를 참고합시다. 그리고 우리는 아까 &lt;code class=&quot;language-text&quot;&gt;_app.js&lt;/code&gt;에서 공통 코드를 넣어줄 수 있다고 했습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;_document.js&lt;/code&gt;에서는 Data Fetching Method를 사용할 수 없습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;client-side-rendering되는-경우&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#client-side-rendering%EB%90%98%EB%8A%94-%EA%B2%BD%EC%9A%B0&quot; aria-label=&quot;client side rendering되는 경우 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Client Side Rendering되는 경우&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://nextjs.org/docs/pages/building-your-application/rendering/client-side-rendering&quot;&gt;Next.js Client-Side Rendering 문서&lt;/a&gt;에서는 CSR로 구현되는 두 가지 경우를 제시합니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;useEffect()&lt;/code&gt; 사용&lt;/li&gt;
&lt;li&gt;또는 SWR, TanStack Query 등 서드파티 데이터 fetching 라이브러리를 사용
&lt;ul&gt;
&lt;li&gt;(사실 최근에 &lt;a href=&quot;https://velog.io/@seungchan__y/React-Query-%EC%A0%81%EC%9C%BC%EB%A1%9C-%EC%82%AC%EA%B3%A0%ED%95%98%EA%B8%B0&quot;&gt;이런 글&lt;/a&gt;을 봤는데, &quot;리액트 쿼리(TanStack Query)는 데이터 패칭 라이브러리가 아닙니다&quot;라고 하더라구요? 딴소리하는거긴한데 재밌는 글이라 가져왔습니다.)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;훅은 잘 아시겠지만, 렌더링 이후에 추가로 실행되는 개념입니다&lt;br&gt;
따라서 서버쪽에서 실행될 수 없어요&lt;br&gt;
다른 데이터 fetching 라이브러리도 client side여야 하니까 그럴만 한 것 같습니다&lt;/p&gt;
&lt;p&gt;근데 여기서 의문이 생기는데 &quot;&lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;훅만 안 됨? &lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt;나 커스텀훅처럼 다른 훅은 되는건가?&quot;라는 것입니다&lt;br&gt;
공식문서를 좀 봐도 딱히 &quot;훅이면 전부 CSR입니다&quot;라는 명시적인 문장을 찾아보지 못했어서 이런 의문을 가졌습니다 저는&lt;br&gt;
음.. 근데 &lt;a href=&quot;https://dev.to/hiteshchawla/using-custom-react-hooks-in-nextjs-3gjo&quot;&gt;이런 글&lt;/a&gt;이나, 다른 어쩌구저쩌구를 다 뒤져봐도&lt;br&gt;
그냥 훅을 쓰면 필연적으로 클라이언트 컴포넌트가 된다고 결론지어집니다&lt;br&gt;
&quot;Hooks are not allowd in server components&quot;라는 Next.js 에러메시지가 있기도 하구요&lt;/p&gt;
&lt;h1 id=&quot;page-pre-rendering-data-fetching-method&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#page-pre-rendering-data-fetching-method&quot; aria-label=&quot;page pre rendering data fetching method permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Page Pre-rendering (Data Fetching Method)&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5182e99c3eac2ead267a8b73ca9c47d1/8cdda/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 86.70886075949367%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAABiUlEQVR42oXTWXLCMBAEUJ8GCGAHCMVqwOw7xf1Pk1dSQgyBZD6EJE/P9HSLpNlspmlar9eLothsNqvVajQabbdbm/P5nGVZo9GQ0HwWSfwBzvMceL1eA+ch5vN5rPsWIm7UegQLHyqVSrVatanVanGV2ul0hsNhv9/vdrvWj+9QNynTSEOUj8CDwaAIgdF0OoVvtVoq3nX+HY0QKKCDVBbCUbn9fq9c8gombzabkUA34lmv1yv+CC8WC3L4+giul+I9RLvdxhOm1+vhfDqdeDEejx9n1pAqkqy4WSE1dEM83VDARU/kH2fWDQZD9GRwazKZyHa52+0M6YiCQlHXJ7RV9Y2eiET/4Q+HA5FM4ebmSCLDlarL5XIdgh4Ax+MRbfa419BNdK7sZRLNiK7cfFYOVUNeLhfPzswaRufvnidLSEdG2cprGzNoMw8BGQd58raBYSCVQA9/Gw3BHJn0CvlDGysaOscnQVvgaN4r5JfatzkhyWONVMt/oL/+kvIY6PWgTeQoz7/xCdjtyNEMKaaxAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Hydration&quot;
        title=&quot;&quot;
        src=&quot;/static/5182e99c3eac2ead267a8b73ca9c47d1/f058b/image.png&quot;
        srcset=&quot;/static/5182e99c3eac2ead267a8b73ca9c47d1/c26ae/image.png 158w,
/static/5182e99c3eac2ead267a8b73ca9c47d1/6bdcf/image.png 315w,
/static/5182e99c3eac2ead267a8b73ca9c47d1/f058b/image.png 630w,
/static/5182e99c3eac2ead267a8b73ca9c47d1/40601/image.png 945w,
/static/5182e99c3eac2ead267a8b73ca9c47d1/8cdda/image.png 1168w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;사용자가 어떤 페이지를 처음 요청하면 위와 같은 과정을 거칩니다&lt;br&gt;
기존의 React식 사고로 어디선가 데이터를 가져오려고 한다면 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;가 실행되는 타이밍이겠죠?&lt;/p&gt;
&lt;p&gt;근데 이제 Next.js에서는 데이터를 Pre-Rendering 단계에서 포함하고 싶습니다. 또 그렇게 할 수 있어요&lt;br&gt;
이를 위한 두 가지 대표적인 사전 렌더링 방식이 있는데, 둘은 유사하지만 &lt;strong&gt;타이밍&lt;/strong&gt;에 차이가 있습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Static Generation&lt;/strong&gt; : 어플리케이션 빌드 시점(&lt;code class=&quot;language-text&quot;&gt;npm run build&lt;/code&gt;이런거)에 페이지가 Pre-Rendering됩니다&lt;/li&gt;
&lt;li&gt;`&lt;strong&gt;Server Side Rendering&lt;/strong&gt; : 사용자의 요청이 들어온 시점에 페이지가 Pre-Rendering됩니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;static-generation&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#static-generation&quot; aria-label=&quot;static generation permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Static Generation&lt;/h2&gt;
&lt;p&gt;페이지 컴포넌트에서 &lt;code class=&quot;language-text&quot;&gt;getStaticProps&lt;/code&gt;라는 이름으로 함수를 만들고 export하여&lt;br&gt;
Static Generation 방법으로 데이터를 가져다 사전렌더링에 포함할 수 있습니다&lt;br&gt;
Next.js는 이 &lt;code class=&quot;language-text&quot;&gt;getStaticProps&lt;/code&gt;를 발견하면 사전 렌더링 프로세스 중에 이를 먼저 실행한 뒤 컴포넌트에 &lt;code class=&quot;language-text&quot;&gt;props&lt;/code&gt;로 주입합니다.&lt;br&gt;
이 함수는 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt;로 할 수 있고, 그렇게 하면 Next.js는 이 함수의 실행을 기다리고 지나갑니다.&lt;/p&gt;
&lt;p&gt;이제 이 &lt;code class=&quot;language-text&quot;&gt;getStaticProps&lt;/code&gt;에서 데이터베이스 연결, http요청, 이런 비동기작업들을 다 하면 됩니다&lt;br&gt;
이는 서버에서만 실행되고, 절대로 클라이언트 사이드로 넘어가지 않습니다&lt;/p&gt;
&lt;p&gt;그 결과로 &lt;code class=&quot;language-text&quot;&gt;getStaticProps&lt;/code&gt;에서는 컴포넌트에 주입할 객체만 반환값으로 넘기면 되는데&lt;br&gt;
이는 &lt;strong&gt;무조건 props 프로퍼티&lt;/strong&gt;를 포함해야 합니다.&lt;br&gt;
그래야 그 &lt;code class=&quot;language-text&quot;&gt;props&lt;/code&gt; 프로퍼티에 해당하는 값이 컴포넌트에 props로 꽂힙니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;HomePage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; meetups &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MeetupList&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;meetups&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;meetups&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getStaticProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/*
  대충 http 요청이든 Database 연결이든 꿈을 이루기..
  */&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;meetups&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; meetupsFromDatabse
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 하여, 빌드 프로세스에서 이 페이지를 사전 렌더링할 때 컴포넌트가 포함할 데이터를 주입할 수 있습니다&lt;br&gt;
인자로는 &lt;code class=&quot;language-text&quot;&gt;context&lt;/code&gt;라는 것을 받습니다. &lt;code class=&quot;language-text&quot;&gt;context.params&lt;/code&gt;와 같이 하여 url 매개변수를 갖다 쓸 수도 있고 그렇습니다&lt;/p&gt;
&lt;p&gt;그리고 런타임에 이 사전 렌더링을 다시 수행하고 싶다면 (데이터가 변하거나, ..),&lt;br&gt;
반환값 객체에서 &lt;code class=&quot;language-text&quot;&gt;revalidate&lt;/code&gt; 프로퍼티를 설정하여 갱신 주기를 설정할 수 있습니다&lt;/p&gt;
&lt;p&gt;정리하자면.. &lt;code class=&quot;language-text&quot;&gt;getStaticProps&lt;/code&gt;가 실행되는 경우는 아래와 같습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매 빌드 시&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fallback: true&lt;/code&gt; =&gt; fallback화면을 띄운 채로, 백그라운드에서 실행&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fallback: &apos;blocking&apos;&lt;/code&gt; =&gt; 첫 렌더링 직전에 실행을 끝낸다&lt;/li&gt;
&lt;li&gt;반환하는 객체에 &lt;code class=&quot;language-text&quot;&gt;revalidate&lt;/code&gt; 프로퍼티 쓴 경우, 주기마다 백그라운드 실행&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;revalidate()&lt;/code&gt; 트리거되면 백그라운드에서 실행&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;getstaticpaths&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#getstaticpaths&quot; aria-label=&quot;getstaticpaths permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;getStaticPaths&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://nextjs.org/docs/pages/building-your-application/data-fetching/get-static-paths&quot;&gt;페이지가 Dynamic Route를 가지며, getStaticProps를 사용한다면, getStaticPaths 있어야 합니다&lt;/a&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;getStaticProps&lt;/code&gt;는 빌드 프로세스에서 사전 렌더링된다고 말했는데&lt;br&gt;
이는 &quot;Next.js가 동적 페이지의 모든 값들을 알고 있어야 한다&quot;는 뜻입니다&lt;br&gt;
그래야 존재하는 모든 동적페이지들에 대한 사전 렌더링 결과를 생성하고&lt;br&gt;
존재하지 않는 경로에 대해서는 생성하지 않게끔 할 수 있습니다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;getStaticProps&lt;/code&gt;를 export한 것처럼, &lt;code class=&quot;language-text&quot;&gt;getStaticPaths&lt;/code&gt;라는 이름의 함수도 만들고 export해줍시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getStaticPaths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;meetupId&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;m1&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;meetupId&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;m2&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;fallback&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로, &lt;code class=&quot;language-text&quot;&gt;getStaticPaths()&lt;/code&gt;에서는 객체를 반환하고, 그 객체는 &lt;code class=&quot;language-text&quot;&gt;paths&lt;/code&gt; 프로퍼티를 갖습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;paths&lt;/code&gt; 프로퍼티의 값으로는 각 동적페이지 하나 당 객체 하나씩, 결과적으로는 객체 배열이 됩니다&lt;br&gt;
각 객체 배열의 원소들은 &lt;code class=&quot;language-text&quot;&gt;{ params: {} }&lt;/code&gt;처럼, 개별 동적페이지의 쿼리파라미터에 대한 정보를 갖는 객체들이 됩니다&lt;br&gt;
물론 지금처럼 하드코딩하기보단, 예를 들어 데이터베이스에서 모든 meetings 건들을 가져와서 저기에 생성하거나, 하겠네요&lt;/p&gt;
&lt;p&gt;그리고 반환하는 객체에는 &lt;code class=&quot;language-text&quot;&gt;paths&lt;/code&gt;말고도 &lt;code class=&quot;language-text&quot;&gt;fallback&lt;/code&gt; 프로퍼티도 추가해줘야 합니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fallback: false&lt;/code&gt; =&gt; paths에 없는 내용 요청에 대해 404에러&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fallback: true&lt;/code&gt; =&gt; paths에 없는 요청이 들어오면, Next.js는 이 요청에 대한 페이지를 만들어냅니다. 그 전까지는 fallback페이지를 보여줍니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fallback: &apos;blocking&apos;&lt;/code&gt; : true처럼 페이지를 만들어내지만, 완성 전까지 fallback을 띄우지 않고 block합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;server-side-rendering&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#server-side-rendering&quot; aria-label=&quot;server side rendering permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Server Side Rendering&lt;/h2&gt;
&lt;p&gt;똑같이 &lt;code class=&quot;language-text&quot;&gt;getServerSideProps&lt;/code&gt;라는 함수를 만들고 export하여, 필요한 데이터를 &lt;strong&gt;request time&lt;/strong&gt;에 가져올 수 있습니다&lt;br&gt;
이 또한 서버에서 실행됨이 보장되며, static때와 마찬가지로 여기서 직접 DB에 연결하거나 http요청을 보낼 수 있습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8b2320a5495235ec3adbd82e4d7a7efa/37563/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 10.759493670886075%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfUlEQVR42mMICwtLS0tLSUmxtbEx9g6yjUmzCok1tLSxSy1yK250K2o0cXAx8w93SC1wTMk3c/M2cfV2SC1ySiuyCo5mAGpOTU2Nj4+3AWkOtolOtQqOMbS0tk0pcs2tcskuN7Z3NguIcEjMcYhNN3P1AmlOK3ZMyrXyDwMAM7wmVk/tBdkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;서버사이드렌더링&quot;
        title=&quot;&quot;
        src=&quot;/static/8b2320a5495235ec3adbd82e4d7a7efa/f058b/image-2.png&quot;
        srcset=&quot;/static/8b2320a5495235ec3adbd82e4d7a7efa/c26ae/image-2.png 158w,
/static/8b2320a5495235ec3adbd82e4d7a7efa/6bdcf/image-2.png 315w,
/static/8b2320a5495235ec3adbd82e4d7a7efa/f058b/image-2.png 630w,
/static/8b2320a5495235ec3adbd82e4d7a7efa/40601/image-2.png 945w,
/static/8b2320a5495235ec3adbd82e4d7a7efa/78612/image-2.png 1260w,
/static/8b2320a5495235ec3adbd82e4d7a7efa/37563/image-2.png 2228w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이런 순서로 진행됩니다&lt;br&gt;
페이지를 요청하는 타이밍에 미리 서버에서 데이터를 준비하고 이를 토대로 HTML을 생성합니다.&lt;br&gt;
일단 최소한의 HTML만 보내놓고 데이터를 가져와서 화면을 채우는 Client Side Rendering과는 상반되게요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getServerSideProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; req &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;getStaticProps&lt;/code&gt;와 되게 비슷하게 이런 식으로 씁니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;props&lt;/code&gt; 프로퍼티가 포함된 객체를 반환하고 컴포넌트에 props를 주입한다는 것도 비슷합니다&lt;br&gt;
그리고 &lt;code class=&quot;language-text&quot;&gt;getStaticProps&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;context&lt;/code&gt;와 다르게, 여기서의 &lt;code class=&quot;language-text&quot;&gt;context&lt;/code&gt;는 요청(&lt;code class=&quot;language-text&quot;&gt;req&lt;/code&gt;)과 응답(&lt;code class=&quot;language-text&quot;&gt;res&lt;/code&gt;)에 대한 객체도 포함합니다&lt;br&gt;
예를 드렁, 요청의 헤더를 열어보거나 등등..&lt;/p&gt;
&lt;h1 id=&quot;api-route&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#api-route&quot; aria-label=&quot;api route permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;API Route&lt;/h1&gt;
&lt;p&gt;페이지처럼 HTML코드를 반환하는게 아니라 http 요청을 받는 route를 만들 수 있습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;/pages/api/&lt;/code&gt; 이렇게 api 폴더를 만듭시다. 그냥 경로가 &lt;code class=&quot;language-text&quot;&gt;domain.com/api/&lt;/code&gt;로 시작하게 하는것인데&lt;br&gt;
이제 이 안에 JS파일을 생성하면, 그 파일의 이름대로 경로 세그먼트가 됩니다&lt;br&gt;
이 파일의 함수는 모두 서버에서만 실행됩니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// pages/api/new-meetup.js ===&gt; POST &apos;~~~~/api/new-meetup&apos;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;method &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;POST&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; image&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; address&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; description &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; handler&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;만약 &lt;code class=&quot;language-text&quot;&gt;pages/api/new-meetup.js&lt;/code&gt;에 이렇게 작성해두면,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;domain.com/api/new-meetup&lt;/code&gt;에 대한 POST요청을 handler가 처리하게 됩니다&lt;/p&gt;
&lt;p&gt;예를 들어 MongoDB에 새로 데이터를 넣으려고 한다면 아래처럼 하게 될 것 같네요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; MongoClient &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;mongodb&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;method &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;POST&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; MongoClient&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mongoUrl&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; db &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; meetupsColleciton &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;meetups&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; meetupsColleciton&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;insertOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;201&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Meetup successfully inserted!&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; handler&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 쓸 때는 &lt;code class=&quot;language-text&quot;&gt;fetch(&quot;/api/new-meetup&quot;, { method:, body:, headers:, })&lt;/code&gt; 이런 식으로 호출합니다&lt;br&gt;
같은 Next.js 프로젝트 내에 있으니까, 도메인 생략하고 루트부터의 절대경로를 작성해줍니다&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;그럼 &lt;code class=&quot;language-text&quot;&gt;getStaticProps&lt;/code&gt;로 Static Site Generation 방법을 선택할까요,&lt;br&gt;
아니면 &lt;code class=&quot;language-text&quot;&gt;getServerSideProps&lt;/code&gt;로 Server Side Rendering을 선택할까요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ba9c336a3c71ce717dfcbccc4420331f/92bb4/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 30.37974683544304%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA5ElEQVR42m2Qy07DMBBF/TXItT1+xAnBreME8kbKAnVTIcGu8AVFfEO/misa0UW5i9F4fK7mwdSNtKbtbts0zTiOLdR1MSVFdEuyv0yuEkrYh/sI57IsiNM0pbIw/E7Iq1bz6hDCWuucFRt6eQv79x0A733mvdzw/PXTH45GgnHAjDHg4WLOOUBlWaLD/Dyl2B6/Hj++E2mV54XPvRKiOJ3D6dzXVT8M8zx3XRdCgJHBhtnw7nt8DW37pKTmXGD86z6cG1JYHwx6XM4BI9NaV1VV13WMEVXk9N9tUHO/yrLsEonoB+YHTJ3J4w7aAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;SSR vs SSG&quot;
        title=&quot;&quot;
        src=&quot;/static/ba9c336a3c71ce717dfcbccc4420331f/f058b/image-3.png&quot;
        srcset=&quot;/static/ba9c336a3c71ce717dfcbccc4420331f/c26ae/image-3.png 158w,
/static/ba9c336a3c71ce717dfcbccc4420331f/6bdcf/image-3.png 315w,
/static/ba9c336a3c71ce717dfcbccc4420331f/f058b/image-3.png 630w,
/static/ba9c336a3c71ce717dfcbccc4420331f/40601/image-3.png 945w,
/static/ba9c336a3c71ce717dfcbccc4420331f/78612/image-3.png 1260w,
/static/ba9c336a3c71ce717dfcbccc4420331f/92bb4/image-3.png 1824w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;잘 생각해서 선택하면 되겠습니다&lt;br&gt;
이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Next.js 먹어보기 (1) : App Router]]></title><description><![CDATA[! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다. Next.js에 대해 쓰는건 처음이네요 최근에 처음 배웠기 때문입니다? Next.js 13 이전에는 Next.js에서 Route…]]></description><link>https://sungpaks.github.io/til/nextjs-app-router/</link><guid isPermaLink="false">https://sungpaks.github.io/til/nextjs-app-router/</guid><pubDate>Sat, 05 Oct 2024 19:45:44 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Next.js에 대해 쓰는건 처음이네요&lt;br&gt;
최근에 처음 배웠기 때문입니다?&lt;/p&gt;
&lt;p&gt;Next.js 13 이전에는 Next.js에서 Route를 만들기 위해 &lt;a href=&quot;https://nextjs.org/docs/pages&quot;&gt;Pages Router&lt;/a&gt; 방식이 사용되었는데요&lt;br&gt;
Next.js 13 이후로 새로 나와서 지금 밀고 있는게 &lt;a href=&quot;https://nextjs.org/docs/app&quot;&gt;App Router&lt;/a&gt;입니다&lt;br&gt;
지금 두 방식을 모두 지원해요. App Router를 조금 더 권장할 뿐&lt;br&gt;
아직 많은 프로덕트들이 Pages Router를 여전히 사용중입니다&lt;/p&gt;
&lt;p&gt;오늘은 App Router방식으로 Next.js 코드 짜는 법을 기록하것습니더잉&lt;/p&gt;
&lt;h1 id=&quot;폴더구조&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%8F%B4%EB%8D%94%EA%B5%AC%EC%A1%B0&quot; aria-label=&quot;폴더구조 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;폴더구조&lt;/h1&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;- /app
	- /about
	- /blog
		- /post-1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/app/&lt;/code&gt; 경로 밑에 웹사이트에 넣을 페이지들을 위치시킵니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;/app/&lt;/code&gt;밑에 존재하는 모든 &lt;code class=&quot;language-text&quot;&gt;page.js&lt;/code&gt;파일들은 그에 해당하는 route를 만듭니다.&lt;br&gt;
예를 들어, &lt;code class=&quot;language-text&quot;&gt;/app/about/page.js&lt;/code&gt; =&gt; &lt;code class=&quot;language-text&quot;&gt;&quot;http://my-domain.com/about&quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;그리고 이 app폴더 밑에 위치하는 리액트 컴포넌트들은 이제 Next.js에서 특별한 대우를 받게 됩니다.&lt;br&gt;
&lt;strong&gt;서버 컴포넌트&lt;/strong&gt;가 되는 것인데요..&lt;br&gt;
확인하고 싶으시면 &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;를 컴포넌트함수 내에서 찍어봅시다. 브라우저가 아닌 개발서버에 찍힙니다&lt;/p&gt;
&lt;h1 id=&quot;페이지-간-이동&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%8E%98%EC%9D%B4%EC%A7%80-%EA%B0%84-%EC%9D%B4%EB%8F%99&quot; aria-label=&quot;페이지 간 이동 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;페이지 간 이동&lt;/h1&gt;
&lt;p&gt;만약 지금 &lt;code class=&quot;language-text&quot;&gt;http://my-domain.com/&lt;/code&gt;애 있는데, &lt;code class=&quot;language-text&quot;&gt;http://my-domain.com/about/&lt;/code&gt;으로 가고 싶다면 우뜩할까요?&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;a href=&quot;/about&quot;&gt;&lt;/code&gt; 이러면 되겠죠?&lt;br&gt;
라고 생각할 수는 있는데 딱히 이상적이진 않습니다. 적어도 이 도메인(이 프로젝트)내의 다른 경로로 이동할거면요&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;a&gt;&lt;/code&gt;태그로 이동하는 것은 &lt;strong&gt;새로운 페이지를 로드&lt;/strong&gt;합니다.&lt;br&gt;
이는 리액트가 렌더링을 다시 하는 수준이 아닌, 페이지를 갈아엎게 되는 것인데&lt;br&gt;
Next.js는 그렇지 않고도 리액트의 장점을 살리고 SPA로 머무는 것을 허용합니다.&lt;br&gt;
&lt;strong&gt;클라이언트 측의 JS코드로 UI를 업데이트할 수 있게&lt;/strong&gt;한다는 것인데 (기존 리액트 like하게)&lt;/p&gt;
&lt;p&gt;이를 위해서는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Link href=&quot;&quot;&gt;&lt;/code&gt;라는 next.js에거 제공하는 특별한 컴포넌트를 사용합니다.&lt;br&gt;
명력적인 방법도 있는데, &lt;code class=&quot;language-text&quot;&gt;next/navigation&lt;/code&gt;에서 &lt;code class=&quot;language-text&quot;&gt;redirect()&lt;/code&gt;함수를 import하고,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;redirect(&apos;/about&apos;)&lt;/code&gt; 이렇게 쓰면 됩니다&lt;/p&gt;
&lt;h1 id=&quot;컴포넌트-추가하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0&quot; aria-label=&quot;컴포넌트 추가하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;컴포넌트 추가하기&lt;/h1&gt;
&lt;p&gt;Next.js의 &lt;code class=&quot;language-text&quot;&gt;app&lt;/code&gt;폴더 밑에서는 특별한 컴포넌트로 취급되는, &lt;a href=&quot;https://nextjs.org/docs/app/api-reference/file-conventions&quot;&gt;예약된 파일 명&lt;/a&gt;들이 있습니다.&lt;br&gt;
예를 들면..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;page.js&lt;/code&gt; 신규페이지&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;layout.js&lt;/code&gt; 형제/중첩 페이지의 레이아웃 (바로 뒤에 알아보겠습니다)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;not-found.js&lt;/code&gt; 404 Not Found에 대한 폴백 페이지&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;error.js&lt;/code&gt; 기타 오류에 대한 폴백 페이지&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;loading.js&lt;/code&gt; 형제 또는 중첩 페이지에서 데이터를 가져올 때 표시되는 폴백 페이지&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;route.js&lt;/code&gt; : API 경로를 생성합니다. (jsx가 아닌 JSON 등의 데이터를 반환합니다)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이런게 아니고 막 &lt;code class=&quot;language-text&quot;&gt;title-header.jsx&lt;/code&gt;처럼 대충 제목을 지으면 그냥 커스텀 컴포넌트입니다&lt;br&gt;
그리고 이제 &lt;code class=&quot;language-text&quot;&gt;app&lt;/code&gt; 폴더 밑에는 페이지와 route의 생성 관련한 파일만 남길거고,&lt;br&gt;
다른 커스텀 컴포넌트는 루트에서 &lt;code class=&quot;language-text&quot;&gt;component/&lt;/code&gt; 폴더를 하나 더 두는게 좋겠네요&lt;br&gt;
그리고 이제 import할 때, &lt;code class=&quot;language-text&quot;&gt;from &apos;@/components/header&apos;&lt;/code&gt;와 같이 @로 프로젝트의 루트 경로를 조회할 수 있습니다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;app&lt;/code&gt;폴더 밑에서는 예약된 파일명들이 소문자로 시작하니까, 기존 리액트 컴포넌트 파일명의 컨벤션과 다르게, 여기서는 소문자로 시작하게 하면 좋겠네요&lt;br&gt;
기타등등, &lt;a href=&quot;https://nextjs.org/docs/app/building-your-application/routing/colocation&quot;&gt;공식문서 보면 다양한 구조가 있습니다&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;layoutjs&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#layoutjs&quot; aria-label=&quot;layoutjs permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;layout.js&lt;/h2&gt;
&lt;p&gt;아까 말한 &lt;code class=&quot;language-text&quot;&gt;layout.js&lt;/code&gt;에 대해 살짝 더 알아봅시다
app폴더를 위한 &lt;code class=&quot;language-text&quot;&gt;layout.js&lt;/code&gt;파일이 최소 하나는 있어야 합니다.&lt;br&gt;
최소 하나의 근본 레이아웃이 있어야 한다는 뜻입니다&lt;/p&gt;
&lt;p&gt;이 &lt;code class=&quot;language-text&quot;&gt;layout.js&lt;/code&gt;는 그 하위의 중첩된 경로에 대해 모두 적용됩니다&lt;br&gt;
새로운 &lt;code class=&quot;language-text&quot;&gt;layout.js&lt;/code&gt;를 만나지 않는 한은 말이죠&lt;br&gt;
만약 &lt;code class=&quot;language-text&quot;&gt;/about/layout.js&lt;/code&gt;를 또 만들었다면, 이는 &lt;code class=&quot;language-text&quot;&gt;/about/&lt;/code&gt;이 중첩된 경로에 대해 모두 적용됩니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./globals.css&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; metadata &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NextJS Course App&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Your first NextJS app!&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;RootLayout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; children &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;en&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;루트 &lt;code class=&quot;language-text&quot;&gt;layout.js&lt;/code&gt;의 코드는 대충 이런식으로 쓸건데요&lt;br&gt;
보시다시피 루트 layout은 웹사이트의 뼈대 HTML을 정의합니다&lt;/p&gt;
&lt;p&gt;그리고 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;head&gt;&lt;/code&gt;내에 들어갈 메타데이터들이 있을건데&lt;br&gt;
이건 &lt;code class=&quot;language-text&quot;&gt;export const metadata={}&lt;/code&gt;라는 이름으로 객체로써 내보내면 됩니다.&lt;br&gt;
그리고 favicon은 metadata설정 안 해도, &lt;code class=&quot;language-text&quot;&gt;app&lt;/code&gt;폴더에 &lt;code class=&quot;language-text&quot;&gt;icon.png&lt;/code&gt;라는 이름으로 하나 넣어두면 알아서 이거 가져갑니다.&lt;/p&gt;
&lt;h1 id=&quot;dynamic-route-동적-경로&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#dynamic-route-%EB%8F%99%EC%A0%81-%EA%B2%BD%EB%A1%9C&quot; aria-label=&quot;dynamic route 동적 경로 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dynamic Route (동적 경로)&lt;/h1&gt;
&lt;p&gt;예를 들어, 블로그 포스트를 생각해봅시다&lt;br&gt;
각 포스트들에 대한 slug는 정해져있지 않고, 매번 다르게 추가됩니다&lt;br&gt;
이걸 미리 다 폴더를 만들고 그럴 수는 없어요&lt;br&gt;
대신 동적으로 route를 만들어내는 방법이 있습니다&lt;/p&gt;
&lt;p&gt;폴더 이름에 &lt;code class=&quot;language-text&quot;&gt;[]&lt;/code&gt;(대괄호)를 쓰면 됩니다. 그리고 그 안에는 임의의 식별자를 추가하구요&lt;br&gt;
예를 들어, &lt;code class=&quot;language-text&quot;&gt;/[slug]&lt;/code&gt;처럼 쓴다는 의미입니다&lt;br&gt;
그리고 그 밑에는 &lt;code class=&quot;language-text&quot;&gt;page.js&lt;/code&gt;를 두면 됩니다&lt;br&gt;
아래처럼&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;/app
	/about
	/blog
		/[slug]
			page.js
		page.js&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 경우 &lt;code class=&quot;language-text&quot;&gt;/blog/something-slug&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;/blog/another-slug&lt;/code&gt;, ...와 같이 동적으로 경로분할이 이루어집니다&lt;br&gt;
그리고 이제 &lt;code class=&quot;language-text&quot;&gt;/[slug]/page.js&lt;/code&gt;에서는 &lt;code class=&quot;language-text&quot;&gt;[slug]&lt;/code&gt;에 해당하는 식별자 값을 알아야 할건데&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;/[slug]/page.js&lt;/code&gt;에는 Next.js가 알아서 props를 넣어줍니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;BlogPostPage({ params })&lt;/code&gt; params라는 이름으로요&lt;br&gt;
이 params는 동적 경로에 넣은 식별자들이 &lt;code class=&quot;language-text&quot;&gt;key-value&lt;/code&gt;로 들어가있습니다&lt;br&gt;
즉 &lt;code class=&quot;language-text&quot;&gt;params.slug&lt;/code&gt;와 같이 써서 slug값을 가져올 수 있는거십니다잉&lt;/p&gt;
&lt;h1 id=&quot;server-component-vs-client-component&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#server-component-vs-client-component&quot; aria-label=&quot;server component vs client component permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Server Component VS. Client Component&lt;/h1&gt;
&lt;p&gt;기본적으로 컴포넌트들은 서버에서 실행됩니다.&lt;br&gt;
이건 처음 로드될 때 뿐만 아니라, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Link&gt;&lt;/code&gt;로 네비게이션할 때도 그렇고요&lt;br&gt;
서버 컴포넌트를 사용하면 &lt;a href=&quot;https://nextjs.org/docs/app/building-your-application/rendering/server-components&quot;&gt;많은 이점&lt;/a&gt;들을 가져갈 수 있습니다&lt;/p&gt;
&lt;p&gt;그런데 useEffect같은 훅을 쓰는 경우 서버 컴포넌트로 실행될 수 없습니다&lt;br&gt;
localStorage, Geolocaion API 등 웹브라우저(클라이언트 사이드)에서만 가능한 기능도 또한 그렇습니다&lt;br&gt;
당연히 우리는 컴포넌트를 클라이언트에서 렌더링해야 할 필요가 생기는 시점이 생깁니다&lt;br&gt;
이 경우 &lt;strong&gt;클라이언트 사이드 컴포넌트임을 명시하기 위해 &quot;use client&quot; 지시어&lt;/strong&gt;를 파일 맨 위에 적어줍시다.&lt;/p&gt;
&lt;p&gt;근데 &lt;code class=&quot;language-text&quot;&gt;use client&lt;/code&gt;를 항상 매 컴포넌트마다 써버린다면 기존 리액트랑 다를게 별로 없겠죠?&lt;br&gt;
&lt;a href=&quot;(https://nextjs.org/docs/app/building-your-application/rendering/server-components)&quot;&gt;서버 컴포넌트의 이점&lt;/a&gt;을 활용하려면 최대한 클라이언트 컴포넌트는 컴포넌트 트리의 하단부에 넣는게 좋겠습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4d0fc753683698f5e0d2e9dab85e1688/da952/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 24.050632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxklEQVR42lWPbXLCIBCGcxqV8BFYqGYoSZESmVDMGXqBegTP3g06GX1+MCw8u7w07AXOuRDC2s+UUs65lLIsS4xxGByvsHea16IlLWMUQB6PJ+eGsWKM5lJRSgkhm4nl2oxPPUYqJb0PKfvfv+iC7Dre9z1lVIR5vN3tNMdwBtBbwLX5UgkhYM5ruY5fznlQGm+F1nr19Ic8pzF8l5+MGsrTNOEqpWzQAABrLR5573F/2JMa6pmN0bbd71DSxoBS6Bv8SZ37D0R8PxAkCzauAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;컴포넌트 어디에&quot;
        title=&quot;&quot;
        src=&quot;/static/4d0fc753683698f5e0d2e9dab85e1688/f058b/image-1.png&quot;
        srcset=&quot;/static/4d0fc753683698f5e0d2e9dab85e1688/c26ae/image-1.png 158w,
/static/4d0fc753683698f5e0d2e9dab85e1688/6bdcf/image-1.png 315w,
/static/4d0fc753683698f5e0d2e9dab85e1688/f058b/image-1.png 630w,
/static/4d0fc753683698f5e0d2e9dab85e1688/40601/image-1.png 945w,
/static/4d0fc753683698f5e0d2e9dab85e1688/78612/image-1.png 1260w,
/static/4d0fc753683698f5e0d2e9dab85e1688/da952/image-1.png 1872w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h1 id=&quot;데이터베이스와-통신하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%EC%99%80-%ED%86%B5%EC%8B%A0%ED%95%98%EA%B8%B0&quot; aria-label=&quot;데이터베이스와 통신하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;데이터베이스와 통신하기&lt;/h1&gt;
&lt;p&gt;데이터베이스와 통신하여 데이터를 가져오거나 데이터를 전송하는 일은 매우 흔합니다&lt;br&gt;
보통은 DB를 따로 두고 CRUD가 가능한 api를 열든지 어쩌든지 하고, &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;에서 &lt;code class=&quot;language-text&quot;&gt;fetch&lt;/code&gt;같은 것으로 통신할텐데요&lt;br&gt;
Next.js는 풀스택 프레임워크니까 그런거 필요없습니다.&lt;br&gt;
SQLite를 사용하는 경우를 예시로 한번 살펴봅시다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b9388a087df730cf3cc414ef879000a9/8b69f/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25.316455696202528%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0UlEQVR42j2Py46DMAxF+ZsSAs2DR5OgQN4VIL5gNKt2M5pl/1+qS9qehW3J917ZRf2hOYBBCGmtXdd12zao+75bY4S4fDVZBhS5YYyrA4QQ5YRQIoWa51lrraQklDWUwqr6APqXOcdwzp1z1ppRTr//9udP12fU933btiVh/e0h7g8/T8a+gRX4i3EcU0ree7hwWZYY0+QGNVFIBCelMDREO2bCNaXrAbwDSqVUwRgbhqHrOqiQJ4So8bk8VfmXfB4uT02FfAgxxhACaEDJOX8C4kVAsXRT3lcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;데이터 가져오기&quot;
        title=&quot;&quot;
        src=&quot;/static/b9388a087df730cf3cc414ef879000a9/f058b/image-5.png&quot;
        srcset=&quot;/static/b9388a087df730cf3cc414ef879000a9/c26ae/image-5.png 158w,
/static/b9388a087df730cf3cc414ef879000a9/6bdcf/image-5.png 315w,
/static/b9388a087df730cf3cc414ef879000a9/f058b/image-5.png 630w,
/static/b9388a087df730cf3cc414ef879000a9/8b69f/image-5.png 912w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;데이터-꺼내오기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%BA%BC%EB%82%B4%EC%98%A4%EA%B8%B0&quot; aria-label=&quot;데이터 꺼내오기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;데이터 꺼내오기&lt;/h2&gt;
&lt;p&gt;데이터베이스에서 직접 꺼내올 수 있는 것은 서버 컴포넌트의 특권입니다&lt;br&gt;
데이터를 꺼내오려면 다음과 같은 과정을 밟습니다. &quot;식사에 대한 정보&quot;를 가져온다고 생각하겠습니다&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;일단 데이터 가져오는 함수를 만듭시다. 보통 &lt;code class=&quot;language-text&quot;&gt;/lib/meals.js&lt;/code&gt;처럼 하는가봅니다&lt;/li&gt;
&lt;li&gt;그 안에서 &lt;code class=&quot;language-text&quot;&gt;const db = sql(&apos;meals.db&apos;)&lt;/code&gt;와 같이, db파일을 가져다 데이터베이스를 준비합니다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;getMeals()&lt;/code&gt;라는, 데이터 가져오기 함수를 정의할건데, &lt;code class=&quot;language-text&quot;&gt;db.prepare(sql문).all();&lt;/code&gt;처럼 하면 됩니다.
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;prepare(sql).all()&lt;/code&gt;은 조회, &lt;code class=&quot;language-text&quot;&gt;prepare(sql).run()&lt;/code&gt;은 데이터 수정입니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; sql &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;better-sqlite3&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; db &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sql&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;meals.db&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getMeals&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;prepare&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;SELECT * FROM meals&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식이겠네요&lt;/p&gt;
&lt;p&gt;그리고 이제 컴포넌트에서 이걸 사용할건데&lt;br&gt;
서버 컴포넌트인 컴포넌트 함수는 &lt;strong&gt;async&lt;/strong&gt;가 가능합니다 (원래 안 됐음)&lt;br&gt;
따라서 Promise에 대해 &lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt;도 가능하죠&lt;br&gt;
그래서 이제&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MealsPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; meals &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getMeals&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MealsGrid&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;meals&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;meals&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 쓸 수 있습니다.&lt;/p&gt;
&lt;h3 id=&quot;꺼내오는-동안-폴백-보여주기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%BA%BC%EB%82%B4%EC%98%A4%EB%8A%94-%EB%8F%99%EC%95%88-%ED%8F%B4%EB%B0%B1-%EB%B3%B4%EC%97%AC%EC%A3%BC%EA%B8%B0&quot; aria-label=&quot;꺼내오는 동안 폴백 보여주기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;꺼내오는 동안 폴백 보여주기&lt;/h3&gt;
&lt;p&gt;근데 당연히 꺼내오는 시간은 여전히 존재합니다&lt;br&gt;
그럼 기다리는 동안 뭔가 보여주고 싶은데
전에 배운 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Suspense&gt;&lt;/code&gt;블록이 유용합니다.&lt;br&gt;
또는 &lt;code class=&quot;language-text&quot;&gt;loading.js&lt;/code&gt;를 만들어둘 수도 있겠고요&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Suspense&gt;&lt;/code&gt;로 하려면 먼저 &lt;code class=&quot;language-text&quot;&gt;meals&lt;/code&gt; 데이터를 가져오고 렌더하는 코드를 따로 분리합시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;async function Meals() {
  const meals = await getMeals();
  return &amp;lt;MealsGrid meals={meals} /&gt;;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 이를 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Suspense&gt;&lt;/code&gt;로 래핑하여 사용합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Suspense&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;fallback&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MealsLoading&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Meals&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Suspense&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이러면 데이터를 가져오는 부분만 쏙 빼서 &quot;준비중입니다 ^^;;&quot;를 하고&lt;br&gt;
다른 상관없는 부분들은 바로 보여줘버릴 수 있습니다&lt;/p&gt;
&lt;h3 id=&quot;errorjs&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#errorjs&quot; aria-label=&quot;errorjs permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;error.js&lt;/h3&gt;
&lt;p&gt;이 타이밍에 &lt;code class=&quot;language-text&quot;&gt;error.js&lt;/code&gt;가 슬슬 있어야겠습니다&lt;br&gt;
조회가 실패할 수도 있고 말이죠?&lt;br&gt;
아, &lt;code class=&quot;language-text&quot;&gt;error.js&lt;/code&gt;는 꼭 클라이언트 컴포넌트여야 합니다. 서버 뿐만 아니라 브라우저에서의 에러까지 모두 잡기 위함입니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;use client&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; error &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;An error occurred!&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대충 이런식으로 하면 되겠는데&lt;br&gt;
이러면 이제 중첩 route에서 에러 발생 시 이 폴백페이지를 띄웁니다&lt;br&gt;
props로는 &lt;code class=&quot;language-text&quot;&gt;error&lt;/code&gt;객체를 받아서 디테일을 추가할 수도 있구요&lt;/p&gt;
&lt;p&gt;NotFound도 비슷하게 &lt;code class=&quot;language-text&quot;&gt;not-found.js&lt;/code&gt;륾 만들면 되는데, 서버컴포넌트여도 됩니다&lt;/p&gt;
&lt;h3 id=&quot;값-하나만-꺼내오기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%92-%ED%95%98%EB%82%98%EB%A7%8C-%EA%BA%BC%EB%82%B4%EC%98%A4%EA%B8%B0&quot; aria-label=&quot;값 하나만 꺼내오기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;값 하나만 꺼내오기&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getMeal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;slug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;prepare&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;SELECT * FROM meals WHERE slug = ?&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;slug&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;아까 &lt;code class=&quot;language-text&quot;&gt;prepare().all()&lt;/code&gt;했던 것과 다르게 &lt;code class=&quot;language-text&quot;&gt;.get()&lt;/code&gt;하면 되는데&lt;br&gt;
그 하나를 식별할 paramter를 넣어서 &lt;code class=&quot;language-text&quot;&gt;.get(slug)&lt;/code&gt;처럼 하겠죠?&lt;br&gt;
근데 이 경우 &lt;code class=&quot;language-text&quot;&gt;.get(slug)&lt;/code&gt;가 아닌 단순히 &lt;code class=&quot;language-text&quot;&gt;&quot;SELECT * FROM meals WHERE slug=&quot;+slug&lt;/code&gt; 하면 안 됩니다. SQL Injection 당하기 딱좋습니다&lt;/p&gt;
&lt;p&gt;없는 값인가? 를 확인하려면 일단 저 반환값을 &lt;code class=&quot;language-text&quot;&gt;if(!meal)&lt;/code&gt;처럼 확인하고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;notFound()&lt;/code&gt;함수를 Next.js에서 제공하니까 이걸 호출하면 제일 가까운 NotFound폴백이 나타납니다&lt;/p&gt;
&lt;h2 id=&quot;데이터-수정하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%88%98%EC%A0%95%ED%95%98%EA%B8%B0&quot; aria-label=&quot;데이터 수정하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;데이터 수정하기&lt;/h2&gt;
&lt;p&gt;응당 데이터를 가져왔다면 다시 집어넣어야겠습니다. 때로는 삭제하고 싶을수도 있고요&lt;br&gt;
이것도 다이렉트로 서버에 넣어버리거나 하면 좋겠네요&lt;br&gt;
이를 위해서는 임의의 js함수를 만들고, &lt;code class=&quot;language-text&quot;&gt;&apos;use server&apos;&lt;/code&gt; 지시어를 씁니다.&lt;br&gt;
이제 그 파일 안에서 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt;함수를 만들면 &lt;strong&gt;Server Action&lt;/strong&gt;으로 생성됩니다.&lt;br&gt;
그럼 서버 컴포넌트가 서버단에서 실행되는 것이 보장되듯이 이 함수도 그렇게 됩니다.&lt;/p&gt;
&lt;h3 id=&quot;폼-제출&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%8F%BC-%EC%A0%9C%EC%B6%9C&quot; aria-label=&quot;폼 제출 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;폼 제출&lt;/h3&gt;
&lt;p&gt;폼 제출을 위한 함수를 만듭니다.&lt;br&gt;
그리고 파일 맨 위에 &lt;code class=&quot;language-text&quot;&gt;use server&lt;/code&gt; 지시어를 써도 되지만&lt;br&gt;
그냥 함수 정의 맨 위에 &lt;code class=&quot;language-text&quot;&gt;use server&lt;/code&gt;를 써서 개별 함수를 Server Action으로 만들 수 있습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;shareMeal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;formData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token string&quot;&gt;&quot;user server&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; meal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; formData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// meal 객체를 DB에 저장하기.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Form이 있는 컴포넌트 함수에서는..&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;form&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;shareMeal&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;form&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 server action인 함수를 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;form&gt;&lt;/code&gt;의 action 프로퍼티로 넣어줍니다.&lt;br&gt;
이게 근데 컴포넌트가 클라이언트 컴포넌트면 오류가 발생하는데&lt;br&gt;
당연히 서버액션을 클라이언트에서 실행하려면 그렇죠&lt;/p&gt;
&lt;h4 id=&quot;제출중입니다-기달&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A0%9C%EC%B6%9C%EC%A4%91%EC%9E%85%EB%8B%88%EB%8B%A4-%EA%B8%B0%EB%8B%AC&quot; aria-label=&quot;제출중입니다 기달 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;제출중입니다.. 기달&lt;/h4&gt;
&lt;p&gt;이제 제출중임을 표현하고 싶으면 &lt;code class=&quot;language-text&quot;&gt;useFormState()&lt;/code&gt;훅을 사용하는데&lt;br&gt;
아? 훅이라서 클라이언트 컴포넌트여야만 하죠?&lt;br&gt;
그러니 제출버튼만 따로 빼서 아래와 같이 합시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;use client&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useFormStatus &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react-dom&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MealsFormSubmit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pending &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useFormStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;disabled&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pending&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;pending &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Submitting...&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Share Meal&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 &lt;code class=&quot;language-text&quot;&gt;useFormStatus&lt;/code&gt;는 form 양식 내부에서만 가능합니다&lt;/p&gt;
&lt;h4 id=&quot;양식-제출-시-값이-유효하지-않은-경우-그대로-머무르기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%96%91%EC%8B%9D-%EC%A0%9C%EC%B6%9C-%EC%8B%9C-%EA%B0%92%EC%9D%B4-%EC%9C%A0%ED%9A%A8%ED%95%98%EC%A7%80-%EC%95%8A%EC%9D%80-%EA%B2%BD%EC%9A%B0-%EA%B7%B8%EB%8C%80%EB%A1%9C-%EB%A8%B8%EB%AC%B4%EB%A5%B4%EA%B8%B0&quot; aria-label=&quot;양식 제출 시 값이 유효하지 않은 경우 그대로 머무르기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;양식 제출 시 값이 유효하지 않은 경우 그대로 머무르기&lt;/h4&gt;
&lt;p&gt;Server Action에서 값이 유효하지 않으면 &lt;code class=&quot;language-text&quot;&gt;throw Error&lt;/code&gt;해버릴 수 있지만,&lt;br&gt;
그럼 페이지를 나가버리는게 단점입니다. 유저들은 이런걸 원하지 않을것인데&lt;br&gt;
따라서 값이 유효하지 않은 경우 그냥 &lt;code class=&quot;language-text&quot;&gt;return { message: &quot;Invalid input.&quot; }&lt;/code&gt;처럼 직렬화 가능한 객체를 반환합시다&lt;/p&gt;
&lt;p&gt;이제 Form이 있는 페이지에서, &lt;code class=&quot;language-text&quot;&gt;useFormState&lt;/code&gt;를 사용해야합니다.&lt;br&gt;
흠.. 그럼 어쩔 수 없이 그 페이지가 이제 클라이언트 컴포넌트가 되어야 하겠네요 ㅜㅜ&lt;br&gt;
그럼 Server Action은 이제 어떻게 쓰죠?&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;const [state, formAction] = useFormState(serverActionFn, initValue)&lt;/code&gt;&lt;br&gt;
이렇게 훅을 쓸거라서, 원래 &lt;Form action={serverActionFn}&gt;&lt;code class=&quot;language-text&quot;&gt;처럼 전달했던 &lt;/code&gt;serverActionFn&lt;code class=&quot;language-text&quot;&gt;을 이제 &lt;/code&gt;useFormState&lt;code class=&quot;language-text&quot;&gt;훅에 전달합니다  
이를 위해 server action 함수는 이제 &lt;/code&gt;(prevState, formData) =&gt; {}`와 같은 형태가 되어야 합니다&lt;br&gt;
받아오는건 두 가지인데,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt;는 상태 (initValue로 넣은 초기값이거나, 제출에 의한 상태값)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;formAction&lt;/code&gt; : 이걸 이제 form의 action으로 넣어줍니다. &lt;code class=&quot;language-text&quot;&gt;&amp;lt;form action={formAction}&gt;&lt;/code&gt; 이렇게&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;nextjs-캐싱&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#nextjs-%EC%BA%90%EC%8B%B1&quot; aria-label=&quot;nextjs 캐싱 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Next.js 캐싱&lt;/h1&gt;
&lt;p&gt;Next.js는 매우 공격적으로 페이지를 캐시합니다&lt;br&gt;
사실상 한 번 방문한 페이지는 모두 캐싱해놓고 새로 로드하기 전까지는 이걸 보여주죠&lt;br&gt;
특히 Next.js는 &lt;strong&gt;build할 때 가능한 모든 페이지를 모두 사전 렌더링하고 생성&lt;/strong&gt;해둡니다.&lt;br&gt;
사실상 정적 사이트가 되는건데 이 덕분에 첫 방문시에도 매우 빠르게 페이지를 보여줄 수 있습니다.&lt;/p&gt;
&lt;p&gt;근데 이거때문에 위에서 살펴본 폼 제출로 DB에 새 값을 넣어도, 모든 데이터를 보여주는 페이지에는 변화가 없게 됩니다&lt;br&gt;
따라서 데이터가 변경되거나 그럴 때 &lt;strong&gt;캐시 유효성을 재확인&lt;/strong&gt;하도록 트리거해야만 하는데&lt;br&gt;
server action함수가 끝날 때 (redirect 직전에) 함수를 호출합니다. Next.js에서 제공하는 함수를&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;revalidatePath&lt;/code&gt;입니다. &lt;code class=&quot;language-text&quot;&gt;revalidatePath(&apos;/meals&apos;)&lt;/code&gt;와 같이 호출하여 해당 경로의 캐시를 폐기합니다.&lt;br&gt;
그럼 이제 다시 &lt;code class=&quot;language-text&quot;&gt;/meals&lt;/code&gt;경로의 페이지를 사용자가 요청하면, 새로 페이지를 렌더링합니다.&lt;/p&gt;
&lt;p&gt;저렇게 하면 딱 저 route만 영향을 받고, 중첩 페이지는 영향받지 않는데&lt;br&gt;
만약 중첩페이지까지 모두 갱신하려면 두 번째 인자로 &lt;code class=&quot;language-text&quot;&gt;layout&lt;/code&gt;이라고 넘겨줍니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;revalidatePath(&quot;/meals&quot;, &quot;layout&quot;)&lt;/code&gt; 이렇게. 그러면 중첩페이지를 모두 재검사합니다.&lt;br&gt;
기본값은 &lt;code class=&quot;language-text&quot;&gt;page&lt;/code&gt;라서 그 페이지만 갱신합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f801df1bf40f56e7a6a24a4a2f77f51e/a6d36/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.75949367088608%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeUlEQVR42l2SWa6CQBBFezPKZEcgDuCsEEQFBQeI+mHi/hfxTiiHF+ujUn371nS7VedtWmvLsuI4rqoqy7KiKG632+FweDweeZ7f7/f1eg2h88/UT/JsNiNtt9tFUZSmKX673S4Wi81mM5lMbNv+TdaNSWCaZqvVarfbBIZh4IkpSowX2jeZYubbiLl2HMdqzG5MEAIBib/J4/H4eDzWdX06nZbLJSVWqxVj7/d7vOyZJAkxm6PFaDT6DK9c14V3vV658zyPwr7vsyRIEAS9Xg8SeBiGZVmCwP92FgERZjAYsBjJ4pkCnJg++G63CwLOaJ+NlFSlOd3oSat+v08HRAbnSFEQpEZw4rAxkOFwqEgAgs2ZfZ7PJ1OQwx0IivBy0+lUOHhiFiSmhBIlRXPm5AIGzyMTMi2a4eUtZH4QmCCvd+ZiPp+jOTrxmURSPgkiXS4XVkBw2JQ+n88gjMMirx8GlSH5j6B8Ty5QxWuMVm5jIjuFoLGa1voPlZWbuS95hzsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Next.js 캐싱&quot;
        title=&quot;&quot;
        src=&quot;/static/f801df1bf40f56e7a6a24a4a2f77f51e/f058b/image-4.png&quot;
        srcset=&quot;/static/f801df1bf40f56e7a6a24a4a2f77f51e/c26ae/image-4.png 158w,
/static/f801df1bf40f56e7a6a24a4a2f77f51e/6bdcf/image-4.png 315w,
/static/f801df1bf40f56e7a6a24a4a2f77f51e/f058b/image-4.png 630w,
/static/f801df1bf40f56e7a6a24a4a2f77f51e/a6d36/image-4.png 650w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h1 id=&quot;메타데이터&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A9%94%ED%83%80%EB%8D%B0%EC%9D%B4%ED%84%B0&quot; aria-label=&quot;메타데이터 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;메타데이터&lt;/h1&gt;
&lt;p&gt;위에서 살펴봤듯이 페이지 컴포넌트에서 &lt;code class=&quot;language-text&quot;&gt;export const metadata&lt;/code&gt;로 메타데이터를 설정할 수 있습니다&lt;br&gt;
이건 더 구체적인 페이지에 존재하는 metadata가 우선적용되는데&lt;br&gt;
동적페이지에서는 다르게 합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;generateMetadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; params &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; meal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getMeal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;params&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slug&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;meal&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;notFound&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; meal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; meal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;summary
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로, &lt;code class=&quot;language-text&quot;&gt;generateMetaData({ params })&lt;/code&gt;라는 함수에서 객체를 반환하도록 하고, 이를 내보냅니다&lt;br&gt;
경로 파라미터가 필요하면 인자로 주니까 그거 쓰면 됩니다&lt;br&gt;
서버에서 실행할거라 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt;도 되고, 서버액션으로 값을 가져올 수도 있습니다&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
여기까지인데요&lt;br&gt;
사실 App Router는 너무 MZ식이라 아직도 Pages Router는 유효하고 많이 남아있습니다&lt;br&gt;
다음 시간에는 Pages Router로 Next.js를 다시 알아보겠습니다&lt;/p&gt;
&lt;p&gt;그리고 &lt;a href=&quot;https://www.napkin.ai/&quot;&gt;Napkin AI&lt;/a&gt;너무 좋은데요?&lt;br&gt;
그림 자료들은 다 얘가 해줬습니다&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[React 프로젝트에 애니메이션 넣기]]></title><description><![CDATA[! 주의 : TIL…]]></description><link>https://sungpaks.github.io/til/animation-in-react/</link><guid isPermaLink="false">https://sungpaks.github.io/til/animation-in-react/</guid><pubDate>Sat, 05 Oct 2024 14:28:31 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;/demo&quot;&gt;데모 페이지&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;내 프로젝트가 좀 있어보이려면 애니메이션 넣는것도 좋은 선택일 수 있습니다&lt;br&gt;
아무래도 먹기 좋은 떡이 보기에도 좋습니다. 반대인가?&lt;/p&gt;
&lt;h1 id=&quot;css만-써서-애니메이션-넣기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#css%EB%A7%8C-%EC%8D%A8%EC%84%9C-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EB%84%A3%EA%B8%B0&quot; aria-label=&quot;css만 써서 애니메이션 넣기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CSS만 써서 애니메이션 넣기&lt;/h1&gt;
&lt;p&gt;먼저 내가 리액트를 쓰든, 뭘 쓰든 간에, CSS 자체로 애니메이션을 넣을 수 있습니다&lt;/p&gt;
&lt;h2 id=&quot;transitions&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#transitions&quot; aria-label=&quot;transitions permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Transitions&lt;/h2&gt;
&lt;p&gt;CSS Transitions를 이용하여, 특정 속성의 값이 변화할 때 애니메이션을 적용할 수 있습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;transition: color 0.5s ease&lt;/code&gt; 이런 식으로요&lt;br&gt;
&quot;&lt;code class=&quot;language-text&quot;&gt;속성 지속시간 타이밍함수&lt;/code&gt;&quot; 순으로 작성합니다&lt;br&gt;
타이밍 함수는 없어도 되는데 원하는 스타일이 있으면 적용합니다&lt;br&gt;
&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/transition-timing-function&quot;&gt;transition timing function&lt;/a&gt; 뭐가 있는지는 여기서 확인할 수 있습니다&lt;/p&gt;
&lt;p&gt;여러 개 적을 때는 콤마로 구분해요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;transition: color 0.5s ease, background-color 0.5 ease-out&lt;/code&gt; 이런 식으로&lt;/p&gt;
&lt;p&gt;그럼 이제 예를 들어, 다크모드 전환으로 인한 &lt;code class=&quot;language-text&quot;&gt;body&lt;/code&gt;의 배경색과 글씨 색 변화에 효과를 넣고 싶으면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/*
    다른 속성들
  */&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;transition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; background-color 0.2s ease-in&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color 0.2s ease-in&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 해주면 되겠죠? 우상단의 동그라미를 눌러보세요&lt;/p&gt;
&lt;p&gt;근데 이거는 이미 DOM에 있는 요소의 속성변화를 감지하는거라,&lt;br&gt;
모달을 조건부로 DOM에 삽입하고 띄울 때 등의 상황에서는 &lt;code class=&quot;language-text&quot;&gt;transition&lt;/code&gt;으로 효과를 볼 수 없습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;transition&lt;/code&gt;은 초기 값에 대해서는 효과가 없거덩요&lt;/p&gt;
&lt;h2 id=&quot;keyframes&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#keyframes&quot; aria-label=&quot;keyframes permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Keyframes&lt;/h2&gt;
&lt;p&gt;대신에 &lt;code class=&quot;language-text&quot;&gt;@keyframes&lt;/code&gt;를 사용할 수 있습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@keyframes&lt;/span&gt; slide-up-fade-in&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;0%&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;translateY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;30px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;100%&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;translateY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 &lt;code class=&quot;language-text&quot;&gt;@keyframes: 내맘대로-이름-정하기 {}&lt;/code&gt; 와 같이 규칙 블록을 만들고&lt;br&gt;
열어서 내부에는 &lt;code class=&quot;language-text&quot;&gt;from, to&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;0%, 100%&lt;/code&gt;처럼 단계를 정합니다&lt;br&gt;
대충 짐작 가능하듯이 &lt;code class=&quot;language-text&quot;&gt;0%&lt;/code&gt;는 처음에 시작할 상태, &lt;code class=&quot;language-text&quot;&gt;100%&lt;/code&gt;는 최종으로 도달할 상태입니다&lt;/p&gt;
&lt;p&gt;이제 이 애니메이션을 적용할 대상 선택자에&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;animation: slide-up-fade-in 0.3 ease-out forwards;&lt;/code&gt; 이라고 적어주면 됩니다&lt;br&gt;
아까 transition과 비슷하게 하네요.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;forwards&lt;/code&gt; 키워드는 애니메이션이 종료되면 이를 최종상태로 고정하게 명시하는 키워드입니다.&lt;br&gt;
이제 이 &lt;code class=&quot;language-text&quot;&gt;slide-up-fade-in&lt;/code&gt; 애니메이션이 적용된 경우 투명하고 살짝 아래에 있던 상태에서 스르륵 올라오는 효과가 부여될 것 같네요~&lt;/p&gt;
&lt;p&gt;이제 이정도만으로도 어느정도의 애니메이션이 다 가능할텐데&lt;br&gt;
모달을 닫을 때처럼 DOM에서 삭제하는 경우에는 애니메이션을 넣기 좀 까다롭고&lt;br&gt;
복잡한 애니메이션도 넣기 머리아픕니다..&lt;br&gt;
항상 그렇듯이 이걸 편하게 해주는 라이브러리가 또 존재하는데&lt;/p&gt;
&lt;h1 id=&quot;framer-motion&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#framer-motion&quot; aria-label=&quot;framer motion permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Framer Motion&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://www.framer.com/motion/&quot;&gt;Framer Motion&lt;/a&gt;이라는 라이부락리입니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm install framer-motion&lt;/code&gt;으로 먼저 설치합니다&lt;br&gt;
이제 이걸 쓸 곳에서 &lt;code class=&quot;language-text&quot;&gt;import { motion } from &quot;framer-motion&quot;&lt;/code&gt;와 같이 임포트해주면 준비됐습니다&lt;/p&gt;
&lt;h2 id=&quot;기본-사용&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B8%B0%EB%B3%B8-%EC%82%AC%EC%9A%A9&quot; aria-label=&quot;기본 사용 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;기본 사용&lt;/h2&gt;
&lt;p&gt;이제 움직일 요소에 대해, 예를 들어 div라면, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;motion.div&gt;&lt;/code&gt;로 대체해주면 됩니다&lt;br&gt;
이제 여기다 &lt;code class=&quot;language-text&quot;&gt;animate&lt;/code&gt; 프로퍼티를 넣어주는데, 객체로 넣어줍니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setX&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;motion.div&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; x &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;backgroundColor&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;lightgreen&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;fit-content&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setX&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; prev &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;-&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  안녕하세요? 지나가겠습니다
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setX&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; prev &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;-&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;motion.div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;/demo#1&quot;&gt;데모 : 1&lt;/a&gt;처럼, 예를 들어, x값을 상태로 관리하고 버튼을 눌러 x값이 변하게 만들 수 있습니다&lt;br&gt;
여기에 transition 프로퍼티를 또 설정할 수 있어서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;transition={{duration: 3}}&lt;/code&gt;과 같이 커스텀할 수도 있습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;transition={{ type: &apos;spring&apos;, bounce: 5 }}&lt;/code&gt; 이런 식으로 통통 튀게 할 수도 있구요&lt;/p&gt;
&lt;h2 id=&quot;초기-상태와-종료-상태를-정하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%B4%88%EA%B8%B0-%EC%83%81%ED%83%9C%EC%99%80-%EC%A2%85%EB%A3%8C-%EC%83%81%ED%83%9C%EB%A5%BC-%EC%A0%95%ED%95%98%EA%B8%B0&quot; aria-label=&quot;초기 상태와 종료 상태를 정하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;초기 상태와 종료 상태를 정하기&lt;/h2&gt;
&lt;p&gt;이제 모달을 조건부로 DOM에 추가될 때는 올라오는 모션을 적용하고자 합니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;animate&lt;/code&gt;프로퍼티는 그대로 사용하고, &lt;code class=&quot;language-text&quot;&gt;initial={{}}&lt;/code&gt;로 초기 값을 정의할 수 있습니다&lt;br&gt;
또한 &lt;code class=&quot;language-text&quot;&gt;exit={{}}&lt;/code&gt; 프로퍼티로 DOM에서 나갈 때의 종료 값을 정의할 수도 있습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;motion.dialog&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;initial&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	  &lt;span class=&quot;token literal-property property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	  &lt;span class=&quot;token literal-property property&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	  &lt;span class=&quot;token literal-property property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	  &lt;span class=&quot;token literal-property property&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	  &lt;span class=&quot;token literal-property property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	  &lt;span class=&quot;token literal-property property&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 하고, &lt;code class=&quot;language-text&quot;&gt;isOpen&lt;/code&gt;같은 true/false 상태값으로 모달 오픈 여부를 관리하고,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;isOpen &amp;amp;&amp;amp; &amp;lt;motion.modal&gt;&lt;/code&gt; 이렇게 띄우면&lt;br&gt;
열 때는 되지만 닫을 때는 모션이 적용되지 않습니다&lt;br&gt;
이건 &lt;code class=&quot;language-text&quot;&gt;isOpen&lt;/code&gt;이 false로 변하면 리액트가 해당 컴포넌트를 DOM에서 &lt;strong&gt;즉시 제거&lt;/strong&gt;하기 때문인데&lt;br&gt;
이는 곧 리액트는 애니메이션이고 뭐고 몰라~ 라는 뜻입니다&lt;/p&gt;
&lt;p&gt;다행히도 framer motion 라이브러리에서 이걸 리액트가 기다리도록 하는 컴포넌트를 제공하는데&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;AnimatePresence&gt;&lt;/code&gt; 컴포넌트로 감싸면 됩니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AnimatePresence&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isModalOpen &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;motion.dialog&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;onClose&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setIsModalOpen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;open&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;initial&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;안녕하세요? 모달입니다&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setIsModalOpen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;모달 닫기&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;motion.dialog&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AnimatePresence&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 이러면 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;AnimatePresence&gt;&lt;/code&gt; 덕분에 React는 애니메이션을 끝까지 기다리고 DOM에서 제거합니다&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;/demo#2&quot;&gt;데모 : 2&lt;/a&gt;에서 확인해볼 수 있습니다&lt;/p&gt;
&lt;h2 id=&quot;variants-프로퍼티로-간단히-할-수-있음&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#variants-%ED%94%84%EB%A1%9C%ED%8D%BC%ED%8B%B0%EB%A1%9C-%EA%B0%84%EB%8B%A8%ED%9E%88-%ED%95%A0-%EC%88%98-%EC%9E%88%EC%9D%8C&quot; aria-label=&quot;variants 프로퍼티로 간단히 할 수 있음 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;variants 프로퍼티로 간단히 할 수 있음&lt;/h2&gt;
&lt;p&gt;variants 프로퍼티로 아예.. 약간 redux에서 reducer의 action type에서 하듯이?&lt;br&gt;
아무튼 좀 간단하게 할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;motion.dialog&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;variants&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	  &lt;span class=&quot;token literal-property property&quot;&gt;hidden&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	  &lt;span class=&quot;token literal-property property&quot;&gt;visible&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;initial&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;hidden&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;visible&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token attr-name&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;hidden&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식인데, 변수처럼 키-값 쌍을 variants에서 정의하고, 이를 &lt;code class=&quot;language-text&quot;&gt;initial, animate, exit&lt;/code&gt;에서 갖다 씁니다.&lt;br&gt;
사실 &lt;code class=&quot;language-text&quot;&gt;initial&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;exit&lt;/code&gt;은 내용이 똑같았잖아요?&lt;/p&gt;
&lt;p&gt;그리고 이렇게 &lt;code class=&quot;language-text&quot;&gt;variants&lt;/code&gt;에서 선언한 것들은 그 하위 &lt;code class=&quot;language-text&quot;&gt;motion.요소&lt;/code&gt;들도 효과를 받습니다&lt;br&gt;
자식 모션 컴포넌트에서는 &lt;code class=&quot;language-text&quot;&gt;hidden, visible&lt;/code&gt;이라는 &lt;code class=&quot;language-text&quot;&gt;variants&lt;/code&gt;의 key에 대한 값들만 다시 재정의해주면 됩니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;initial, animate, exit&lt;/code&gt;은 다 상속받기 때문이지용&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;motion.dialog&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;variants&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;hidden&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;visible&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;initial&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;hidden&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;visible&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;hidden&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;motion.p&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;variants&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;hidden&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;visible&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    HI
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;motion.p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;motion.dialog&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로요&lt;br&gt;
자식 컴포넌트에 맞는 &lt;code class=&quot;language-text&quot;&gt;variants&lt;/code&gt;만 다시 적어주면 됩니다&lt;/p&gt;
&lt;h2 id=&quot;hover할-때는&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#hover%ED%95%A0-%EB%95%8C%EB%8A%94&quot; aria-label=&quot;hover할 때는 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Hover할 때는&lt;/h2&gt;
&lt;p&gt;버튼에 Hover하면 크기를 키우거나 하고 싶을 수 있습니다&lt;br&gt;
사실 css만으로도 할 수는 있지만.. 이미 framer를 쓰고있으니까욘&lt;br&gt;
css쓰러 가기는 귀찮고, 이벤트리스너로 하려면 상태값을 또 추가해야합니다&lt;br&gt;
framer는 단순하게 써줘도 기본으로 부드러운 애니메이션을 적용해주니까 또 좋습니다&lt;/p&gt;
&lt;p&gt;아무튼 그래서 &lt;code class=&quot;language-text&quot;&gt;whileHover&lt;/code&gt;같은 while류 프로퍼티를 사용할 수 있습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;motion.button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;whileHover&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1.5&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setIsModalOpen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  모달 열기
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;motion.button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로용&lt;br&gt;
대충 감이 오시죠?&lt;/p&gt;
&lt;h2 id=&quot;staggering&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#staggering&quot; aria-label=&quot;staggering permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Staggering&lt;/h2&gt;
&lt;p&gt;모션 컴포넌트 하위의 여러 자식 모션 컴포넌트들이 등장하게 될 때&lt;br&gt;
한 번에 어셈블!! 이 아니라 차례대로 줄지어 들어오게 하고 싶다면&lt;br&gt;
staggering을 이용할 수 있습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;variants&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token literal-property property&quot;&gt;visible&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	  &lt;span class=&quot;token literal-property property&quot;&gt;transition&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;staggerChildren&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.05&lt;/span&gt;
	  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;단순히 이렇게 해주면 됩니다.&lt;br&gt;
그럼 &lt;code class=&quot;language-text&quot;&gt;variants&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;staggerChildren&lt;/code&gt;에서 정의한 시간 간격에 따라&lt;br&gt;
자식 모션 컴포넌트들이 줄지어 등장합니다&lt;br&gt;
&lt;a href=&quot;/demo#3&quot;&gt;데모 : 3&lt;/a&gt;처럼요&lt;/p&gt;
&lt;h2 id=&quot;키-프레임으로-효과-여러-개-넣기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%82%A4-%ED%94%84%EB%A0%88%EC%9E%84%EC%9C%BC%EB%A1%9C-%ED%9A%A8%EA%B3%BC-%EC%97%AC%EB%9F%AC-%EA%B0%9C-%EB%84%A3%EA%B8%B0&quot; aria-label=&quot;키 프레임으로 효과 여러 개 넣기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;키 프레임으로 효과 여러 개 넣기&lt;/h2&gt;
&lt;p&gt;애니메이션 넣을 때, 객체에 &lt;code class=&quot;language-text&quot;&gt;scale:&lt;/code&gt; 이런 키에 대한 값으로 그냥 숫자만 넣었는데요&lt;br&gt;
숫자 배열도 넣을 수 있습니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;scale: [1.3, 0.7, 1.5, 0.5, 1]&lt;/code&gt; 이러면 1.3 갔다가, 0.7로 다시 갔다가, ... 다 거쳐서 1에 도달합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;motion.div&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;variants&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;visible&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token literal-property property&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token literal-property property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;hidden&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token literal-property property&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token literal-property property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 프레임을 지정할 수 있는 셈입니다&lt;br&gt;
&lt;a href=&quot;/demo#4&quot;&gt;데모 : 4&lt;/a&gt;에 있습니다&lt;/p&gt;
&lt;h2 id=&quot;명령적인-방법으로-애니메이션-정의하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%AA%85%EB%A0%B9%EC%A0%81%EC%9D%B8-%EB%B0%A9%EB%B2%95%EC%9C%BC%EB%A1%9C-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EC%A0%95%EC%9D%98%ED%95%98%EA%B8%B0&quot; aria-label=&quot;명령적인 방법으로 애니메이션 정의하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;명령적인 방법으로 애니메이션 정의하기&lt;/h2&gt;
&lt;p&gt;지금까지는 선언적이었어요&lt;br&gt;
모션 요소에 프로퍼티로써 애니메이션을 선언했습니다&lt;/p&gt;
&lt;p&gt;근데 이제 명령적인 방법도 궁금하죠? 예를 들어 입력이 유효하지 않으면 요소를 흔들리게 하거나 등..&lt;/p&gt;
&lt;p&gt;훅으로 할 수 있습니다. React 라이브러리답게 훅으로 애니메이션을 제어하는 방법을 제공합니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const [scope, animate] = useAnimate()&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;scope는 ref입니다. 원하는 HTML 요소에 연결하면 되겠습니다. &lt;code class=&quot;language-text&quot;&gt;&amp;lt;form ref={scope}&gt;&lt;/code&gt;처럼&lt;/li&gt;
&lt;li&gt;animate는 &lt;code class=&quot;language-text&quot;&gt;animate(선택자 문자열, { 애니메이션 상태 객체 }, { transition 객체 })&lt;/code&gt;와 같이 써서 애니메이션을 트리거하는 함수입니다.
&lt;ul&gt;
&lt;li&gt;첫 번째 인자로 문자열로 선택자를 집어넣습니다. &lt;code class=&quot;language-text&quot;&gt;&apos;textarea, input, .my-class&apos;&lt;/code&gt;처럼&lt;/li&gt;
&lt;li&gt;두 번째 인자에는 &lt;code class=&quot;language-text&quot;&gt;animate&lt;/code&gt; 프로퍼티에 넣었던 객체와 동일&lt;/li&gt;
&lt;li&gt;세 번째 인자에는 &lt;code class=&quot;language-text&quot;&gt;transition&lt;/code&gt; 프로퍼티에 넣었던 객체와 동일하게 합니다.
&lt;ul&gt;
&lt;li&gt;이 때, stagger는 제공되는 &lt;code class=&quot;language-text&quot;&gt;stagger()&lt;/code&gt;함수를 import하여 &lt;code class=&quot;language-text&quot;&gt;delay: stagger(0.5)&lt;/code&gt;처럼 씁니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;저는 빈 값을 제출하려 할 때 입력란이 진동되게 했습니다&lt;br&gt;
아래처럼요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;motionFormRef&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; motionFormAnimate&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useAnimate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;handleInputSubmit&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; formData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FormData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentTarget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; formData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;demo-input&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;motionFormAnimate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;input&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;rotateZ&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;duration&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;form&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;motionFormRef&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onSubmit&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;handleInputSubmit&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;demo-input&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;입력&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;form&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;/demo#5&quot;&gt;데모 : 5&lt;/a&gt;에 구현되어 있습니다&lt;/p&gt;
&lt;h2 id=&quot;스크롤-애니메이션&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%A4%ED%81%AC%EB%A1%A4-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98&quot; aria-label=&quot;스크롤 애니메이션 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;스크롤 애니메이션&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useScroll&lt;/code&gt; 훅으로 &lt;code class=&quot;language-text&quot;&gt;scrollX, scrollY, scrollYProgress&lt;/code&gt;같은 값을 가져올 수 있습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;scrollYProgress&lt;/code&gt;는 0~1사이 값을 갖는 진행률이고, &lt;code class=&quot;language-text&quot;&gt;scrollY&lt;/code&gt;는 픽셀값입니다&lt;/p&gt;
&lt;p&gt;이제 이 &lt;code class=&quot;language-text&quot;&gt;scrollY&lt;/code&gt;값을 이용하여
&lt;code class=&quot;language-text&quot;&gt;const scrollOpacity = useTransform(scrollY, [0, 200, 300, 500], [1, 0.5, 0.5, 0]);&lt;/code&gt;과 같이&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;첫 번째 인자로, 변화를 추적할 값&lt;/li&gt;
&lt;li&gt;두 번째 인자로, 브레이크포인트 (scrollY의 픽셀)&lt;/li&gt;
&lt;li&gt;각 브레이크포인트에 상응하는 반환값&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 하면, &lt;code class=&quot;language-text&quot;&gt;framer motion&lt;/code&gt;라이브러리에서 이 값을 추적하고 변화시킵니다&lt;br&gt;
그리고 또 이건 상태값으로 관리하는게 아니라서, 컴포넌트 함수를 다시 실행하지 않습니다&lt;br&gt;
이는 모션 값 객체로 내부에서 알아서 감싸 관리하기 때문인데&lt;br&gt;
이 덕분에 framer motion에 의한 에니메이션의 적용이 전체 컴포넌트 렌더링 사이클에 영향을 미치지 않게 합니다.&lt;br&gt;
최적화 방면에서 중요한 역할을 하는 셈이죠&lt;/p&gt;
&lt;p&gt;이제 이렇게 얻어온 값을 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;motion.div style={{opacity: scrollOpacity}}&gt;&lt;/code&gt;와 같이 사용합니다.&lt;br&gt;
이 &lt;code class=&quot;language-text&quot;&gt;style&lt;/code&gt;프로퍼티는 원래도 inline 스타일을 지정할 때 HTML요소에 사용할 수 있었지만&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;motion.div&gt;&lt;/code&gt;같은 모션 요소에서 더 특별해서, 여기에 모션 값을 넣어주면 그 값의 변화가 애니메이션을 트리거하면서도, 리렌더링이 일어나지 않게 합니다.&lt;/p&gt;
&lt;p&gt;전체 코드는 이렇구요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; scrollY &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useScroll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; scrollOpacity &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useTransform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  scrollY&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;motion.div&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; scrollOpacity
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;motion.div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;데모는 &lt;a href=&quot;/demo#6&quot;&gt;여기&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;그-외-잡다한-것들&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%B8-%EC%99%B8-%EC%9E%A1%EB%8B%A4%ED%95%9C-%EA%B2%83%EB%93%A4&quot; aria-label=&quot;그 외 잡다한 것들 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그 외 잡다한 것들&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;AnimatePresence&gt;&lt;/code&gt;로 감쌀 때, 이 때 역시 목록처럼 여러 컴포넌트가 있을 때는 &lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt; props를 줘야 Framer Motion이 이들이 서로 별개임을 알 수 있습니다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;AnimatePresence mode=&apos;wait&apos;&gt;&lt;/code&gt; 이렇게 하면, 각 애니메이션들은 줄지어서 실행됩니다. (기본값은 &lt;code class=&quot;language-text&quot;&gt;&apos;sync&apos;&lt;/code&gt;라서, 동시에 플레이)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;motion.div layoutId=&apos;tab-indicator&apos;&gt;&lt;/code&gt; 이런 식으로 &lt;code class=&quot;language-text&quot;&gt;layoutId&lt;/code&gt; 프로퍼티를 추가하면, 이 값이 똑같은 모션 요소들끼리는 전환을 부드럽게 변경해줍니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
이거 덕분에 블로그에 애니메이션 좀 넣었네요&lt;br&gt;
이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[아따 시방부터 리덕수 툴킷에 대해 알아볼텨 (Redux Toolkit)]]></title><description><![CDATA[! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.  지난 시간에는 리덕수 그잡채에 대해 알아봤는디라 기억할런가 몰것네잉 이전에 살펴본 Redux…]]></description><link>https://sungpaks.github.io/til/about-redux-toolkit/</link><guid isPermaLink="false">https://sungpaks.github.io/til/about-redux-toolkit/</guid><pubDate>Mon, 30 Sep 2024 20:14:38 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 360px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/42cd408979776e21fe2c3a86858b9d95/f21e7/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.151898734177216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAqElEQVR42j2OsQqDMBiEfZKY36AJmoA1AZPg5iIuzpXSpVDoVujmUOib92qoN4Qvdxz/ZTnnlaw4596HZVmmaVrXNYTAGMv/Qnpw8uEQUUZFsb2e18vZOYvmOI7zPKNc17VSqmmaA7TWYLxgIcSvLETxeW+P+w1BjNF73/e9c24YBnxPu1CAY61t2xbQdV1Zljie8V0YgzIyYwxiKWU6xXal2Wnw4RDRF616K3VozB4IAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;사투리변환기&quot;
        title=&quot;&quot;
        src=&quot;/static/42cd408979776e21fe2c3a86858b9d95/f21e7/image.png&quot;
        srcset=&quot;/static/42cd408979776e21fe2c3a86858b9d95/c26ae/image.png 158w,
/static/42cd408979776e21fe2c3a86858b9d95/6bdcf/image.png 315w,
/static/42cd408979776e21fe2c3a86858b9d95/f21e7/image.png 360w&quot;
        sizes=&quot;(max-width: 360px) 100vw, 360px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
어따 심심해서 저기 GPT성님헌티 전라도말씨로 바꿔달라헸단께요. 비타오스~
&lt;/figcatipn&gt;
&lt;/figure&gt;
&lt;p&gt;지난 시간에는 리덕수 그잡채에 대해 알아봤는디라 기억할런가 몰것네잉&lt;/p&gt;
&lt;p&gt;이전에 살펴본 Redux는&lt;br&gt;
액션 타입이 그냥 문자열이라 오타날 확률도 높고, 뭐가 있는지도 헷갈릴 수 있었지라&lt;br&gt;
데이터랑 상태가 많을수록 store라는 중앙집권식 객체가 점점 커질께&lt;br&gt;
그리고 state를 직접 건드리면 안된다는 규칙을 개발자가 알아서 지켜야 혀&lt;br&gt;
이런 문제를 뭐.. 상수 선언하던지, 리듀서를 나눠가지고 해결할 수도 있긴 한디&lt;br&gt;
이거를 다 간단하게 해결해주는 Redux Toolkit이 나왔당께&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.redux.js.org/redux-toolkit/overview/&quot;&gt;리덕스 툴킷&lt;/a&gt;은 효율적인 Redux 개발을 위한 도구로써, Redux 팀에서 강력추천하는 활용법이제.&lt;br&gt;
Redux의 대표적인 세 가지 문제를 해결하려고 만들어졌는디&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;저장소 설정이 너무 복잡하다잉&lt;/li&gt;
&lt;li&gt;쓰다보면 다른 패키지에 의존을 많이 하게 된다잉&lt;/li&gt;
&lt;li&gt;코드양이 너무 많아진다잉&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그래서 나온 것이 리덕스 툴킷이다잉 &lt;a href=&quot;https://redux-toolkit.js.org/&quot;&gt;https://redux-toolkit.js.org/&lt;/a&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm install @reduxjs/toolkit&lt;/code&gt;&lt;br&gt;
여기에는 redux가 이미 포함되어 있당께&lt;/p&gt;
&lt;h1 id=&quot;리듀서-쪼개보기-slice&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A6%AC%EB%93%80%EC%84%9C-%EC%AA%BC%EA%B0%9C%EB%B3%B4%EA%B8%B0-slice&quot; aria-label=&quot;리듀서 쪼개보기 slice permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;리듀서 쪼개보기 slice&lt;/h1&gt;
&lt;p&gt;전에야 하나의 중앙 store만 있구, 그 안에서만 상태를 관리했는디&lt;br&gt;
이제 &lt;code class=&quot;language-text&quot;&gt;createSlice&lt;/code&gt;를 사용해서 store의 분파를 만들 수 있당께. 마치 지방자치구를 만드는 것처럼 말여.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; initialState &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; counterSlice &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createSlice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;counter&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  initialState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;reducers&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;counter&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;decrement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;counter&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;increase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; amount &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;counter &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; amount&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;show &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;show&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt; : 지방자치구 이름&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;initialState&lt;/code&gt; : 초기 상태값
&lt;ul&gt;
&lt;li&gt;&quot;lazy initialize&quot;라서, state 값이 &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;일 때 이게 대신 사용된다잉&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;reducers&lt;/code&gt; : 액션 메서드가 들어간 객체
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;toggle(state)&lt;/code&gt; 이런 식으로 작성하면, 이전 상태를 받아서 업데이트하게 할 수 있고, &lt;code class=&quot;language-text&quot;&gt;increase(state, payload)&lt;/code&gt;처럼 페이로드를 받아서 쓸 수도 있당께.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;전에 리듀서로 &lt;code class=&quot;language-text&quot;&gt;case&lt;/code&gt;문 써서 &lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt;으로 구분했는디, 이제는 액션 메서드를 따로 만들어서 쓰면 된다잉.&lt;br&gt;
이러면 오타날 걱정도 없구, 더 명확허게 쓸 수 있당께.&lt;/p&gt;
&lt;p&gt;그리고 중요한 점이, &lt;strong&gt;state를 메서드 안에서 직접 변화시키는 것&lt;/strong&gt;인데&lt;br&gt;
이거는 리덕스 툴킷이 &lt;a href=&quot;https://github.com/immerjs/immer&quot;&gt;immer&lt;/a&gt;라는 라이브러리를 써서 가능한 것이여.&lt;br&gt;
직접 수정하는 것처럼 보이게 써도, 내부적으로 알아서 복제하고 반환하는 형태로 처리해줌께.&lt;br&gt;
그러니까 그냥 &lt;code class=&quot;language-text&quot;&gt;state.count++&lt;/code&gt; 이런 식으로 걍 써도 된다잉.&lt;/p&gt;
&lt;h1 id=&quot;리듀서-등록하고-store-만들기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A6%AC%EB%93%80%EC%84%9C-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B3%A0-store-%EB%A7%8C%EB%93%A4%EA%B8%B0&quot; aria-label=&quot;리듀서 등록하고 store 만들기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;리듀서 등록하고 store 만들기&lt;/h1&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;createSlice&lt;/code&gt;로 만든 슬라이스는 리듀서를 완전히 대체할 수 있당께&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;createStore(counterSlice.reducer)&lt;/code&gt;라고 쓰면 간단하게 store를 만들 수 있당께.&lt;/p&gt;
&lt;p&gt;중앙집권적이었던 저장소를 슬라이스로 나누게 되었는디,&lt;br&gt;
슬라이스가 여러 개 있을 수 있제.&lt;br&gt;
이전엔 &lt;code class=&quot;language-text&quot;&gt;combineReducer&lt;/code&gt;로 여러 리듀서를 병합했는디,&lt;br&gt;
리덕스 툴킷에선 &lt;code class=&quot;language-text&quot;&gt;configureStore&lt;/code&gt; 함수를 쓰면 간단혀.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; store &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;configureStore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;reducer&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; counterSlice&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; fooSlice&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;reducer
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;configureStore&lt;/code&gt;에 &lt;code class=&quot;language-text&quot;&gt;reducer&lt;/code&gt;라는 속성을 가진 객체를 넘겨주면,&lt;br&gt;
슬라이스들을 구분하는 이름이랑 그 리듀서를 넣어주면 됨께.&lt;br&gt;
그러면 자동으로 모든 슬라이스 리듀서를 합친 중앙 저장소가 만들어진당께.&lt;/p&gt;
&lt;h1 id=&quot;action을-내보내고-컴포넌트에서-쓰기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#action%EC%9D%84-%EB%82%B4%EB%B3%B4%EB%82%B4%EA%B3%A0-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EC%97%90%EC%84%9C-%EC%93%B0%EA%B8%B0&quot; aria-label=&quot;action을 내보내고 컴포넌트에서 쓰기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;action을 내보내고 컴포넌트에서 쓰기&lt;/h1&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;slice&lt;/code&gt;의 actions 객체에는 &lt;code class=&quot;language-text&quot;&gt;reducers:&lt;/code&gt;에서 정의한 액션 메서드들이 다 들어있당께.&lt;br&gt;
이제 액션 메서드들을 내보내면 되는데, 이건 다 &lt;strong&gt;액션 생성자&lt;/strong&gt;로 보면 된다잉.&lt;br&gt;
이전에는 &lt;code class=&quot;language-text&quot;&gt;{ type: &quot;increment&quot; }&lt;/code&gt; 이런 액션 객체를 직접 만들어서 &lt;code class=&quot;language-text&quot;&gt;dispatch&lt;/code&gt;했는디,&lt;br&gt;
이제는 &lt;code class=&quot;language-text&quot;&gt;counterSlice.actions.increment&lt;/code&gt;를 호출하면 알아서 &lt;code class=&quot;language-text&quot;&gt;{ type: &quot;increment&quot; }&lt;/code&gt;를 내보낸당께.&lt;br&gt;
그리고 &lt;code class=&quot;language-text&quot;&gt;counterSlice.actions&lt;/code&gt;를 내보내서 컴포넌트에서 갖다 쓰면 됨께.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;export const counterActions = counterSlice.actions;&lt;/code&gt; 이런 식으로 action 생성자를 내보낼 수 있다잉.&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;dispatch(counterActions.increment)&lt;/code&gt; 이렇게 쓰면 된다잉.&lt;br&gt;
페이로드를 넣고 싶으면 &lt;code class=&quot;language-text&quot;&gt;counterActions.increase(10)&lt;/code&gt; 이런 식으로 쓰면 됨께.&lt;/p&gt;
&lt;h1 id=&quot;useselector로-상태값-가져오기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#useselector%EB%A1%9C-%EC%83%81%ED%83%9C%EA%B0%92-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0&quot; aria-label=&quot;useselector로 상태값 가져오기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;useSelector로 상태값 가져오기&lt;/h1&gt;
&lt;p&gt;슬라이스 여러 개를 &lt;code class=&quot;language-text&quot;&gt;configureStore&lt;/code&gt;로 합쳤다면,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useSelector&lt;/code&gt;에서 저 reducer 객체의 키 값으로 상태를 찾아야 한당께.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; counter &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useSelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;counter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;counter&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; showCounter &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useSelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;counter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;show&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isAuthenticated &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useSelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;auth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;authenticated&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 철저하게 구분돼있당께.&lt;br&gt;
이제 &lt;code class=&quot;language-text&quot;&gt;store.fooCounter.counter&lt;/code&gt; 같은 식으로도 손쉽게 상태를 관리할 수 있제.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;비동기-처리나-부수효과를-redux에서-다루기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%B2%98%EB%A6%AC%EB%82%98-%EB%B6%80%EC%88%98%ED%9A%A8%EA%B3%BC%EB%A5%BC-redux%EC%97%90%EC%84%9C-%EB%8B%A4%EB%A3%A8%EA%B8%B0&quot; aria-label=&quot;비동기 처리나 부수효과를 redux에서 다루기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;비동기 처리나 부수효과를 Redux에서 다루기&lt;/h1&gt;
&lt;p&gt;리덕스에 몇 가지 제약이 있었는디&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;리듀서 함수는 순수해야 하고, 부수효과가 없고, 동기적으로 동작해야 한다는 것이제.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그래서 HTTP 요청이나 비동기 로직 같은 것들은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;컴포넌트 안에서 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;로 처리하던가,&lt;/li&gt;
&lt;li&gt;Redux Toolkit의 Thunk를 사용해서 처리할 수 있당께.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;useeffect로-처리하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#useeffect%EB%A1%9C-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;useeffect로 처리하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;useEffect로 처리하기&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; cart &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useSelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cart&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;https://my-firebase-url/cart.json&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;PUT&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cart&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;cart&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;를 사용해서 상태 변화에 따른 부수효과를 처리할 수 있당께.&lt;br&gt;
근디 첫 마운트 때 비어 있는 cart를 백엔드에 보내는 문제가 있을 수 있제.&lt;/p&gt;
&lt;p&gt;이걸 해결하려면 컴포넌트 함수 바깥에 &lt;code class=&quot;language-text&quot;&gt;let isInitial = true&lt;/code&gt;를 선언해서 첫 마운트 때는 HTTP 요청을 하지 않게 설정할 수 있다잉.&lt;/p&gt;
&lt;h2 id=&quot;액션-생성자-thunk-사용하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%95%A1%EC%85%98-%EC%83%9D%EC%84%B1%EC%9E%90-thunk-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0&quot; aria-label=&quot;액션 생성자 thunk 사용하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;액션 생성자 Thunk 사용하기&lt;/h2&gt;
&lt;p&gt;Thunk는 어떤 작업을 지연시키는 함수라 보면 된다잉.&lt;br&gt;
비동기 요청이나 다른 액션을 처리할 수 있당께.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;sendCartData&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;cartData&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;dispatch&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 여기에 다른 액션을 dispatch하거나 비동기 요청을 처리함께.&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 액션 생성자 안에 비동기 로직을 넣어 처리할 수 있다잉.&lt;/p&gt;
&lt;p&gt;예를 들어, 상태 변화에 따른 HTTP 요청과 알림 액션을 추가하는 로직을 이렇게 작성할 수 있당께.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;sendCartData&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;cartData&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;dispatch&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;sendRequest&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;https://my-firebase-url/cart.json&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;PUT&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cartData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ok&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Sending cart data failed.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sendRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      uiActions&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;showNotification&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 알림 payload&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 컴포넌트에서 &lt;code class=&quot;language-text&quot;&gt;dispatch(sendCartData(cart));&lt;/code&gt; 이렇게 써서 비동기 작업을 처리할 수 있다잉.&lt;/p&gt;
&lt;p&gt;마찬가지로, 첫 마운트 때 데이터를 가져오는 Thunk도 만들 수 있제.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;fetchCartData&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;dispatch&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;fetchData&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://my-firebase-url/cart.json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ok&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; cartData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetchData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cartActions&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replaceCart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cartData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/* 에러 처리 */&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 컴포넌트에서 &lt;code class=&quot;language-text&quot;&gt;useEffect(()=&gt;{ dispatch(fetchCartData()) }, []);&lt;/code&gt;&lt;br&gt;
이렇게 간단히 한 줄로 처리할 수 있당께.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
리덕수씨네 툴킷 워땐겨? 덕분에 더 깔끔하고 편리해졌지라&lt;br&gt;
이만 마치겄소&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Redux.]]></title><description><![CDATA[! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다. Redux…]]></description><link>https://sungpaks.github.io/til/introducing-redux/</link><guid isPermaLink="false">https://sungpaks.github.io/til/introducing-redux/</guid><pubDate>Sun, 29 Sep 2024 14:19:40 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://redux.js.org/&quot;&gt;Redux&lt;/a&gt;는 &lt;strong&gt;크로스 컴포넌트 또는 앱 와이드 상태를 위한 상태관리&lt;/strong&gt; 시스템인데요&lt;br&gt;
리액트의 상태관리 라이브러리 하면 먼저 떠오르는 터줏대감? 대명사? 머 그런 느낌입니다&lt;br&gt;
저한테는요&lt;/p&gt;
&lt;h1 id=&quot;redux-vs-context&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#redux-vs-context&quot; aria-label=&quot;redux vs context permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Redux VS. Context&lt;/h1&gt;
&lt;p&gt;근데 우리는 이미 Context API라는 리액트 기본 내장 기능으로 크로스 컴포넌트나 전역 상태관리를 도달할 수 있지 않나요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4d9bf91171ec9974927cf8e8e1981dd3/e548f/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.78481012658228%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA8ElEQVR42l2OW3OCUAyEee14AUUEDveCHAEVrUottDKt7f//SducjFqnD9/MJtkkq4VlAi/OsVzvkeQruEEGES3ghhls/xmTuf+H5d21QdqYCdZ+LNlvOiE0yxcIEontoUVVHyFXL8jLLWS1Y7Llhh+lco1FUSOlWsFz8hYUpNwceO5QAO1pYCLOKnT9D2o6ejydmabt8dp9ov24oHnrsW/e0Z4vOHVf5P3mnqTHBR1N6aGpklNibWTYEJ6PIIgRUWRbRDBMF/rUYZR+rHXSanFkzDEYz5ihbnGt5tp4YpPBZabKfF1W/Ru3+rF/f/CPX5V7iIwTu9ryAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;컨텍스트 성능이슈&quot;
        title=&quot;&quot;
        src=&quot;/static/4d9bf91171ec9974927cf8e8e1981dd3/f058b/image.png&quot;
        srcset=&quot;/static/4d9bf91171ec9974927cf8e8e1981dd3/c26ae/image.png 158w,
/static/4d9bf91171ec9974927cf8e8e1981dd3/6bdcf/image.png 315w,
/static/4d9bf91171ec9974927cf8e8e1981dd3/f058b/image.png 630w,
/static/4d9bf91171ec9974927cf8e8e1981dd3/40601/image.png 945w,
/static/4d9bf91171ec9974927cf8e8e1981dd3/e548f/image.png 975w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;2018년쯤에 새로 context가 나왔을 때 콜라보레이터의 이러한 공식멘트가 있었습니다&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;데이터가 자주 변경되는 경우에는 성능에 좋지 않고, 컨텍스트로는 유동적인 상태 확산을 대체할 수 없다&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;라는 언급인데요&lt;br&gt;
꽤 시간이 지난 언급이라서 변화가 있었을 수도 있긴합니다&lt;/p&gt;
&lt;p&gt;이외에도 컨텍스트만으로는 프로젝트의 규모가 커지고 커지면 설정과 괸락 복잡해질 수 있는데&lt;br&gt;
리덕스같은 상태관리 툴은 간단히 유동적인 상태 확산 기능을 제공합니다&lt;/p&gt;
&lt;h1 id=&quot;redux의-방식&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#redux%EC%9D%98-%EB%B0%A9%EC%8B%9D&quot; aria-label=&quot;redux의 방식 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Redux의 방식&lt;/h1&gt;
&lt;p&gt;Redux는 사실상 하나의 &lt;strong&gt;중앙 데이터 저장소&lt;/strong&gt;입니다&lt;br&gt;
단일한 중앙 데이터 저장소에 모든 state가 저장되고, 이를 redux 내부에서 관리합니다&lt;/p&gt;
&lt;p&gt;컴포넌트에서는 이것을 꺼내서 쓰기만 하면 돼요.&lt;br&gt;
마치 &lt;strong&gt;구독&lt;/strong&gt;하듯이 사용하는 것인데&lt;br&gt;
구독이라는 말처럼 수정은 &lt;strong&gt;절대 직접 수정하지 않습니다&lt;/strong&gt;&lt;br&gt;
즉 데이터는 절대 반대 방향으로 흐르지 않는 다는 것입니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 407px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1e60c04b67db7ccaecba181b294e1c2f/0ff56/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 103.79746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsTAAALEwEAmpwYAAACL0lEQVR42o1S27KiMBDk///C963a1/0NRVEQVO4JCISLIEnAbciuZ+ucnKqdSg2TyXRPZ4gh73dByMTYVNeyLGVRTFX1ZwtfVTLLRBS9dGaIOMZHBAF3XRGGIk2RQTVi7vugXk6TZOZcB46ieRwlpdxx+OWCtWgB+HZbwFk2CwE6eA0Y8gSlAMg8B4UkJLMsniSALcmiQF6AYp4VQAXzasZXviiK5DQtFar6HczzNE0KpgJD5d4LW8/z9qZpn06Obfu+HwSB57onbB0HR8fjMU1Ty7KSJDHeepSN47jb7TjnUkrlYUgyxp7PJ67f9z3yiOENnBVFQQgBE7xt25vNJs/z+2o4yrKsbVv9rwIGrKDsuq5pmqqqyrJkqyGDDmgLwQj0YAgA9+PxqP8aYNiiLQIUIQPG96g/wJgtWN11JLgtxoORmKYZhuF2uz0cDpAAIj0Y1RD2+sZUNWaBG2nAkIQmmAqlFP8AHhLiOIYi5OGT1fQDW56uEHw1SMDwIR4BngFi5T81/AD/e6Di8/msZjYMAwYJ/92ljPUBzmrhiWGLH4P52Y59vV0P1gF3UTV68Cfbm3s8o9d/mDFKzp71vS9pl6dtRvv7j18/98GR9nnSEtJlRV+iQExS90g6Wg2s5V0xlB7zb3V4KYMrC5zykuLoWXf8EbVpMVRfxRtBEytW+LglXuW71S1sEgSky1VRM7blwDRgCE5aijr0SbssalLQ+XWEhf5YYMR6cM0UfgPv9bLC3Jq9EgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Redux 구조도 1&quot;
        title=&quot;&quot;
        src=&quot;/static/1e60c04b67db7ccaecba181b294e1c2f/0ff56/image-1.png&quot;
        srcset=&quot;/static/1e60c04b67db7ccaecba181b294e1c2f/c26ae/image-1.png 158w,
/static/1e60c04b67db7ccaecba181b294e1c2f/6bdcf/image-1.png 315w,
/static/1e60c04b67db7ccaecba181b294e1c2f/0ff56/image-1.png 407w&quot;
        sizes=&quot;(max-width: 407px) 100vw, 407px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;대신에 데이터의 변경을 담당하는 함수인 &lt;strong&gt;Reducer&lt;/strong&gt;를 사용합니다&lt;br&gt;
이 Reducer라고 함은 리액트 훅인 &lt;code class=&quot;language-text&quot;&gt;useReducer()&lt;/code&gt;와는 다른&lt;br&gt;
자바스크립트 reduce처럼 좀 더 일반적인 프로그래밍 개념에서 나온 것인데&lt;br&gt;
라고는 하지만 사실 useReducer랑 좀 비슷하게 생긴 것 같기도..&lt;/p&gt;
&lt;p&gt;여기서 한 가지 개념이 더 들어오는데 &lt;strong&gt;Action&lt;/strong&gt;이라는 것입니다&lt;br&gt;
컴포넌트는 이 Action만을 알고 Action을 트리거합니다&lt;br&gt;
약간 이벤트리스너와 이미터같죠?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e6164cb4cd7b9113e18f5375b8519382/91e7e/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.75949367088608%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABjElEQVR42m2S6Y7iMBCEef+nG2mk+YUIbCDBdhLfV+Jji5jVZkbTQqJ9fF3d5ZxqrSEEY4yUUmvtvcdSKsnuU5SbHp2bA36GuiCj5zGnXGppcQIMZhzH2+1GKVVKYUkpeXQDYH7V/Kb005mHj2Jb9ZZTqf8CcGl82rZ6iJJLiqnm6oyjhGmpjTJaGWut2cM5d4I6rlLG1nWte6VyCOwIwa/XTkiBWYQQ8zwve6DHU3FzDQsn3aqG4liJuimjsOACN87n8+Vycc5DjXPeKr7bLn5+CdpnDuKV+LnkhKT5N00TAKghwU7rFqc555dhGWqbz/pPts9X4mgpGcdoDBghBBjZA3ZiJ8Z4UF5tLWGZCBv7mn1ZXTuABRBJKaEKlJEAa7IHeJ9hmmZtzO7ye6TmHBK0OgwDrEKNlPMvMMo3t/8/FR5rv4pR730fQ8Qj5R9w+8NH0nUdjpsZQFVQMurR0s/h66P/7FSP5eJFSPEbDHGUx2CMMViCnC+8p3e/BRHUQ4+DJb0azGpV1Ef4L+zTtDhjTNi7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Redux 구조도 2&quot;
        title=&quot;&quot;
        src=&quot;/static/e6164cb4cd7b9113e18f5375b8519382/f058b/image-2.png&quot;
        srcset=&quot;/static/e6164cb4cd7b9113e18f5375b8519382/c26ae/image-2.png 158w,
/static/e6164cb4cd7b9113e18f5375b8519382/6bdcf/image-2.png 315w,
/static/e6164cb4cd7b9113e18f5375b8519382/f058b/image-2.png 630w,
/static/e6164cb4cd7b9113e18f5375b8519382/91e7e/image-2.png 692w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;컴포넌트가 action을 트리거하여 발송하면, 이는 Reducer Function에 전달됩니다&lt;br&gt;
그럼 Reducer는 미리 정의된 작업을 진행하고, 이 작업은 Central Data Store의 상태값을 바꿉니다.&lt;br&gt;
상태값이 바뀌면 컴포넌트가 영향을 받는, 그런 순환이 그려지겠죠?&lt;/p&gt;
&lt;h1 id=&quot;redux-사용해보기-vanila-js에서&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#redux-%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0-vanila-js%EC%97%90%EC%84%9C&quot; aria-label=&quot;redux 사용해보기 vanila js에서 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Redux 사용해보기 (Vanila JS에서)&lt;/h1&gt;
&lt;p&gt;사실 Redux는 리액트에서만 쓸 수 있는게 아니라&lt;br&gt;
JavaScript에서는 어디서든 쓸 수 있어요&lt;/p&gt;
&lt;p&gt;Count를 관리하는 간단한 예제를 만들어보려면&lt;br&gt;
먼저 &lt;code class=&quot;language-text&quot;&gt;const redux = require(&apos;redux&apos;);&lt;/code&gt; 와 같이 import하고&lt;/p&gt;
&lt;h2 id=&quot;reducer를-만들어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#reducer%EB%A5%BC-%EB%A7%8C%EB%93%A4%EC%96%B4%EC%9A%94&quot; aria-label=&quot;reducer를 만들어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reducer를 만들어요&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;counterReducer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;counter &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Reducer 함수는 &lt;code class=&quot;language-text&quot;&gt;(&quot;이전의 상태&quot;, &quot;발송된 action&quot;) =&gt; 새로운 상태 객체 리턴&lt;/code&gt; 이런 구조를 갖는 &lt;strong&gt;순수함수&lt;/strong&gt;입니다.&lt;/p&gt;
&lt;p&gt;여기서 잠깐, 순수함수란..&lt;br&gt;
input이 같으면 항상 output이 동일한, side-effect가 없는 함수입니다&lt;br&gt;
이는 곧 외부와의 소통이 없다는 뜻인데&lt;br&gt;
http 요청, localStorage에서 뭐 가져오기, 아니면 하다못해 함수블록 바깥의 값을 가져다 쓰기, ... 이런 것을 일절 하지 않는다는 뜻입니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 242px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e664e4c40685171394fb1eb20b6e978d/a1a85/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 123.41772151898734%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAIAAAC+dZmEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAByElEQVR42pWUWW+CQBSF5///F1808VGfNBq3uFapCxqD+waxRRHsV6adgpo6ngQy93LP3GXOIK5xBEFw1YZQhOVyWalUMpmM53kvk0ejkWEYi8XC9/0XyIo/mUz00/6Rj8fj+XxOJBKr1UrydZoXssjxeEzZNDwYDCzL0iETIHhc1yVzoVDA1Ww2t9vt6XT6CPH5CzdE1CSrIGG73e52u4waF2an08HE2Wg03kJgvofo9XqYLOr1OsUKIsijPyTZDtWRQ9RqNcrApowgjnuPdBK8Xq9pUNCqJKuNo0HKvMkMmcpjZOr3QsiIhwN/TN7v96lUqlqt4rVCMKdsNovfNE1Mvqrt6JmJimKxKMmIBIWVy2Xmic5ns9l8Pi+VSgj2cDg4joN4VX7IrVZLEM0J3TT8dNq73Y4cgjrVtMHlcvEjiJqShkeSOW1Bhyqz/jnTSL/fF2zAYJA0LVGJEQF+JMViOByyJidzQRs4kSPv74vhhLBtm/3sO/AJvzwUkEwmESZls5HQKZLMm80GDgc2nU5J/nOrdPpEErzT6TR3lgW3LfYz+B9SqowWPStTlyx/Nfl8ngv74Df0FMg+l8txKFHNi+sruBHfFwYVmZLFiplHAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;함수상자&quot;
        title=&quot;&quot;
        src=&quot;/static/e664e4c40685171394fb1eb20b6e978d/a1a85/image-3.png&quot;
        srcset=&quot;/static/e664e4c40685171394fb1eb20b6e978d/c26ae/image-3.png 158w,
/static/e664e4c40685171394fb1eb20b6e978d/a1a85/image-3.png 242w&quot;
        sizes=&quot;(max-width: 242px) 100vw, 242px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이런 함수상자를 만들겠다는 뜻입니다.&lt;br&gt;
우리의 경우에는 &lt;code class=&quot;language-text&quot;&gt;f(x) = x+1&lt;/code&gt; 처럼 만든거겠죠?
입력값 외에 영향을 받거나 주는 요인은 단 하나도 없습니다&lt;/p&gt;
&lt;h2 id=&quot;store를-만들어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#store%EB%A5%BC-%EB%A7%8C%EB%93%A4%EC%96%B4%EC%9A%94&quot; aria-label=&quot;store를 만들어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;store를 만들어요&lt;/h2&gt;
&lt;p&gt;이제 이 &lt;code class=&quot;language-text&quot;&gt;counterReducer&lt;/code&gt;를 넣어서 저장소를 생성하겠습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const store = redux.createStore(counterReducer);&lt;/code&gt;처럼 해주시면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;counterReducer&lt;/code&gt;를 리듀서함수로 가지는 store를 생성한 거십니다&lt;/p&gt;
&lt;p&gt;이 때, 주의할 점은 &lt;code class=&quot;language-text&quot;&gt;createStore&lt;/code&gt; 타이밍에 &lt;code class=&quot;language-text&quot;&gt;counterReducer&lt;/code&gt;가 한 번 실행된다는 점입니다&lt;br&gt;
그럼 초기값이 0인 count였다면 createStore 직후에 count값은 1이겠죠?&lt;/p&gt;
&lt;h2 id=&quot;subscriber를-만들고-등록해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#subscriber%EB%A5%BC-%EB%A7%8C%EB%93%A4%EA%B3%A0-%EB%93%B1%EB%A1%9D%ED%95%B4%EC%9A%94&quot; aria-label=&quot;subscriber를 만들고 등록해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;subscriber를 만들고 등록해요&lt;/h2&gt;
&lt;p&gt;이제 store의 count값을 구독해볼건데&lt;br&gt;
마치 이벤트리스너를 등록하듯이, subscriber 콜백함수를 만들고 이를 등록합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;counterSubscriber&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 구독함수를 작성하고&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; latestState &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; store&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;latestState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
store&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;counterSubscriber&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 구독. (직접 실행 X)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;저는 &lt;code class=&quot;language-text&quot;&gt;store.getState()&lt;/code&gt;로 상태값을 가져오고,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;로 이를 콘솔에 출력하는 간단한 subscriber함수를 만들어서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;store.subscribe()&lt;/code&gt;로 구독해줬습니다&lt;/p&gt;
&lt;h2 id=&quot;action을-발행해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#action%EC%9D%84-%EB%B0%9C%ED%96%89%ED%95%B4%EC%9A%94&quot; aria-label=&quot;action을 발행해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;action을 발행해요&lt;/h2&gt;
&lt;p&gt;이제 상태값을 변경하고 싶으면, action을 dispatch합니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;store.dispatch({type: &quot;increment&quot;})&lt;/code&gt; 이렇게 action객체를 전달합니다.&lt;/p&gt;
&lt;p&gt;사실 지금 만든 &lt;code class=&quot;language-text&quot;&gt;counterReducer&lt;/code&gt;같은 경우에는 객체에 어떤 값이 있든간에 counter값을 1 증가시키지만&lt;br&gt;
action 객체에 &lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt;같은 프로퍼티를 넣어서 전달하고, reducer에서 이를 확인해서&lt;br&gt;
counter값을 감소시킬건지 증가시킬건지, 그런 동작을 정의해볼 수도 있겠죠?&lt;/p&gt;
&lt;p&gt;이제 대충 Redux를 어떻게 쓰는지 알아봤으니, React에서 이를 이용하는 법을 알아봅시다&lt;/p&gt;
&lt;h1 id=&quot;redux-사용하기-react에서&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#redux-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-react%EC%97%90%EC%84%9C&quot; aria-label=&quot;redux 사용하기 react에서 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Redux 사용하기 (React에서)&lt;/h1&gt;
&lt;p&gt;react-redux 패키지를 사용하여 react환경에서 redux를 사용할 수 있습니다&lt;/p&gt;
&lt;p&gt;아까 &lt;code class=&quot;language-text&quot;&gt;createStore()&lt;/code&gt;로 생성한 store 있죠?&lt;br&gt;
이 중앙집권저장소를 모든 컴포넌트에 제공해야겠어요&lt;br&gt;
필요할 경우 갖다 쓸 수 있게&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;root&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Provider&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;store&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;store&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;App&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Provider&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 감싸주겠죠? Context의 Provider로 그랬듯이&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;store&lt;/code&gt;는 따로 &lt;code class=&quot;language-text&quot;&gt;store.js&lt;/code&gt;처럼 다른 어딘가에 분리하여 저장해놓고 export해서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Provider&gt;&amp;lt;/Provider&gt;&lt;/code&gt;에서 제공할 때 이를 import하여 store props로 전달하면 좋겠습니다&lt;/p&gt;
&lt;h2 id=&quot;컴포넌트에서-store에서-상태값-꺼내먹기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EC%97%90%EC%84%9C-store%EC%97%90%EC%84%9C-%EC%83%81%ED%83%9C%EA%B0%92-%EA%BA%BC%EB%82%B4%EB%A8%B9%EA%B8%B0&quot; aria-label=&quot;컴포넌트에서 store에서 상태값 꺼내먹기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;컴포넌트에서 store에서 상태값 꺼내먹기&lt;/h2&gt;
&lt;p&gt;react-redux 패키지는 &lt;code class=&quot;language-text&quot;&gt;useSelector&lt;/code&gt; 훅을 제공해요&lt;br&gt;
저장소는 중앙집권이라고 했습니다. 여기에 여러 상태가 막 있을건데&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useSelector(state =&gt; state.counter)&lt;/code&gt; 이런 식으로 원하는 state만 꺼내올 수 있습니다&lt;br&gt;
이러면 &lt;strong&gt;구독&lt;/strong&gt;하는거니까, 당연히 최신으로 유지되고, 변경 시 리렌더링 대상이 되고, ... 하튼 그렇습니다&lt;/p&gt;
&lt;p&gt;action의 발송은 이제 또 훅으로 하게 되는데&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const dispatch = useDispatch()&lt;/code&gt; 이렇게 훅으로 dispatch 객체를 가져오고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;dispatch({type: &quot;increment&quot;})&lt;/code&gt; 와 같이 써서 액션을 발행합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; dispatch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useDispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; counter &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useSelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;counter&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;incrementHandler&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;increment&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;decrementHandler&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;decrement&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식이 되겠죠?&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt; 값에 따라 증가, 감소를 구현하려면 reducer에서&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;counterReducer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;action&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;increment&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;counter &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;action&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;decrement&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;counter &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런식으로 써주면 되겠습니다&lt;/p&gt;
&lt;h2 id=&quot;action에-페이로드-전달하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#action%EC%97%90-%ED%8E%98%EC%9D%B4%EB%A1%9C%EB%93%9C-%EC%A0%84%EB%8B%AC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;action에 페이로드 전달하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;action에 페이로드 전달하기&lt;/h2&gt;
&lt;p&gt;이미 우리는 action객체로 페이로드를 전달하고 있습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;{ type: &apos;increment&apos; }&lt;/code&gt;처럼 객체에 전달하는 key-value들이 그것인데&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt;말고도 자유롭게 다른 무언가를 넣어줄 수 있습니다&lt;br&gt;
예를 들어, 이전에는 1씩 증가하기만 했는데, 이제 5씩 증가하는 버튼을 만들고 싶으면..&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;dispatch({ type: &quot;increase&quot;, amount: 5 })&lt;/code&gt;라고 액션 페이로드를 설정하고&lt;br&gt;
reducer함수에서 이제 해당 동작을 추가하면 되는 일입니다&lt;/p&gt;
&lt;h2 id=&quot;reducer-작성-시-주의할-점&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#reducer-%EC%9E%91%EC%84%B1-%EC%8B%9C-%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90&quot; aria-label=&quot;reducer 작성 시 주의할 점 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;reducer 작성 시 주의할 점&lt;/h2&gt;
&lt;p&gt;이미 이전에 redux의 reducer가 순수함수여야 하고, 순수함수가 무엇인지 설명했습니다&lt;br&gt;
그럼에도 한 가지 의문이 들 수도 있는데 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;action&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;increment&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;counter&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 그냥 이전 state를 변경해서 리턴하면 안 되나요?&lt;br&gt;
왜 항상 귀찮게 새 state를 만들고 반환하나요?&lt;/p&gt;
&lt;p&gt;근데 이건 &lt;strong&gt;절대&lt;/strong&gt; 안됩니다. state를 직접 업데이트하면 안 되는데&lt;br&gt;
&lt;a href=&quot;https://ko.redux.js.org/usage/structuring-reducers/prerequisite-concepts&quot;&gt;공식문서&lt;/a&gt;에서 관련 내용을 설명중입니다&lt;/p&gt;
&lt;p&gt;첫 번째 이유로, redux는 상태가 변경된 후(reducer 작업 이후) 컴포넌트가 실제로 업데이트되어야 하는지 확인하는데&lt;br&gt;
이 때 &lt;strong&gt;얕은 참조 검사&lt;/strong&gt;를 사용합니다.&lt;br&gt;
이는 곧 &lt;strong&gt;직접 객체를 변화시키면 참조는 동일&lt;/strong&gt;하므로 &lt;strong&gt;다시 렌더링되지 않습니다.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;또 다른 이유로, 디버깅과 테스트를 어렵게 하고 코드의 행동이 예측불가해진다고 하는데, 공식문서에 자세한설명이 있습니다&lt;/p&gt;
&lt;p&gt;대신 객체의 나머지 부분들은 유지하고 일부만 변경하고자 할 때&lt;br&gt;
&lt;a href=&quot;https://ko.redux.js.org/usage/using-object-spread-operator/&quot;&gt;spread 연산자를 사용&lt;/a&gt;할 수 있습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;Object.assign()&lt;/code&gt; 메서드를 이용하는 방법도 있는데&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;{ ...state, counter: state.counter+1 }&lt;/code&gt;이렇게 하면 아주 간결합니다&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
다음 시간에는 리덕스 툴킷으로 더 편하게 리덕스를 사용하는 법을 알아보려고 합니다&lt;br&gt;
이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🔍 리액트 검색창 구현 : Render Props + 동적 key 설정 + Debouncing]]></title><description><![CDATA[이번 시간에는 Render Props에 대해 알아보고 key를 동적으로 넣는 방법도 알아보고 Debouncing으로 사용자 경험을 높이는 법도 알아봅시다. 그리고 이 세 트리오를 짬뽕해서 검색창 구현해보려구요. 실제 구현할 때는 TypeScript…]]></description><link>https://sungpaks.github.io/render-props-and-dynamic-key-and-debouncing/</link><guid isPermaLink="false">https://sungpaks.github.io/render-props-and-dynamic-key-and-debouncing/</guid><pubDate>Sat, 21 Sep 2024 21:11:25 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 594px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9b008c8a6d587b24c70bdd5ef6ef0ac5/5fd3e/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 113.29113924050634%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAD6ElEQVR42iWU6Su0YRTG73+BsUSUaKRBlg9qFP+AGhTimy/KUpZSSpYPtpEvPhBeSyPZl+xr1uyGse/bDF5jrGMZ5I33Z+apeXrm3Odc55zrOucWJycnMTExcXFxsbGxKSkpOzs7h4eHS0tL+fn51dXVra2t3d3dTU1NtbW1f8xPY2NjR0dHXV1daWmp4EyhUOzt7Wk0Gr4J3t7e3tjYUKlUqampIyMjLy8vy8vL7e3tFxcXb29vW1tbIO7v74+OjoqVlZWBgYHb21vidTrd8fExwWdnZ4+Pj9nZ2UVFRQRotVoKfHh4+Pn56erqamtru7m5+fj4EHq9Hr+jo6PJycnT01ODwfD+/o7xr/nBUl9fTzzZCCPH+Pg4b/Lf39+L6+vrxcVFknMMxNPTE2cAl5SUJCUl1dTU+Pn5paWlubi4TE9PU6ZMJktISAgLC6MXQZNUW1ZWVlhYuLCwQNjV1dXu7q5cLscvKipKIpHY2tpaWVmVl5dTIywWFxdXVVWRT4yNjZGThg8ODjY3N3nTHn99fHwiIyOjo6NtbGzc3d0dHR19fX3BnZmZycrK6uvr6+zsFIiUmZk5NTVFTvhEp9nZWSA8PDySk5PJbGdn5+rq6uzsDAS4LS0t6enpPT099CUQEDGgl+Lpam1tjbQogWtiYmJERATBbm5uTk5OdIG9oqICCpRKZU5OjmhoaDg/P6eY9fX13t5eZEAStVpNZuYkNDTU3t6eYCAAAnd4eBgtcWBUxNzcHDwBgQkUpEKh+fn5oKAgT09P8js4OFCztbU1s0SrQ0NDCMk40KkgIcUQT8DExITJZHp+fkYzuvXy8goMDPT394f5gIAAaomPj8eTzlGXHgUYevND20wSbzjjA0ScYM4iBIqin0ULoDllnAUJsUL16uoqYRaRIRxQSoBFloSO+Is3HVHa3d0dPRP/2zOoDCCu0M7EXl5ewh9nX19fGBlB3iAyXpbxZn4RFbugBpAYFwj4Z36AZ1qwDw4ONjc3wxCDRWZAmWcKwZmZNxqNgmwwjO4sM+ShM36vr6/sCdpIpdLg4GBOIYXqKJO5yM3NZWHp9zcYb2I4ZntDQkLYmM/PT5qnclhgb8PDw1GRmnnjTzt84CwoBibwgEb+k4QPOodw9oY60a+yspJeIJWFI5PW/MCZ4Ackm0gM1bK0oOJHz9iJgS065JRCYIdkROKJ1AITBVskAYK2KZuasVjuA7yxUD8WaoZFdgOUX53ZD9jDCUq/v78J7u/vh2Eo0ZkfMuPD9caVRALcgOPNrSi4OgsKCuiNYgDOy8vjWszIyIA5xEQIFGax0cLb2xtP3OgILLlc/h+ldtvQ5PQ8sgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;리액트 검색창 삼형제&quot;
        title=&quot;&quot;
        src=&quot;/static/9b008c8a6d587b24c70bdd5ef6ef0ac5/5fd3e/image-1.png&quot;
        srcset=&quot;/static/9b008c8a6d587b24c70bdd5ef6ef0ac5/c26ae/image-1.png 158w,
/static/9b008c8a6d587b24c70bdd5ef6ef0ac5/6bdcf/image-1.png 315w,
/static/9b008c8a6d587b24c70bdd5ef6ef0ac5/5fd3e/image-1.png 594w&quot;
        sizes=&quot;(max-width: 594px) 100vw, 594px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이번 시간에는 Render Props에 대해 알아보고&lt;br&gt;
key를 동적으로 넣는 방법도 알아보고&lt;br&gt;
Debouncing으로 사용자 경험을 높이는 법도 알아봅시다.&lt;br&gt;
그리고 이 세 트리오를 짬뽕해서 검색창 구현해보려구요.&lt;br&gt;
실제 구현할 때는 TypeScript도 좀 사용하면서 해보겠습니다&lt;/p&gt;
&lt;h1 id=&quot;이론-먼저&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EB%A1%A0-%EB%A8%BC%EC%A0%80&quot; aria-label=&quot;이론 먼저 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이론 먼저.&lt;/h1&gt;
&lt;h2 id=&quot;render-props&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#render-props&quot; aria-label=&quot;render props permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Render Props&lt;/h2&gt;
&lt;p&gt;Render props라는 리액트 패턴, 또는 테크닉, 을 활용하여 유연한 재사용 컴포넌트를 만들어볼 수 있습니다.&lt;br&gt;
JSX를 반환하는, 즉 &lt;strong&gt;Render할 수 있는 함수를 props로 전달&lt;/strong&gt;하는 것입니다.&lt;br&gt;
props로 뭐든 되긴 하는데, 보통 &lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt;으로 넘긴다네요&lt;/p&gt;
&lt;p&gt;만약 &quot;검색 가능한 리스트&quot; 컴포넌트를 만들고, 여기서 검색 로직을 작성한다고 해봅시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;SearchableList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; items &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;searchTerm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setSearchTerm&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; searchResults &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 대충 searchTerm으로부터 items 필터링&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handleChange&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setSearchTerm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;search&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onChange&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;handleChange&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;searchResults&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;description&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 할까요?&lt;br&gt;
근데 이건.. 목록 컴포넌트를 렌더링하는게 너무 특정 item에 치중되어 있네요&lt;br&gt;
그렇다고 목록에서 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;SomeItem item={item}/&gt;&lt;/code&gt;이라고 쓰기도 못미덥습니다. 이것도 결국 특정 Item에 국한되어있죠,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;AnotherItem item={item}&gt;&lt;/code&gt;을 렌더링하고 싶으면 어떡하지? 싶습니다.&lt;br&gt;
저는 지금 여기서, &lt;em&gt;무슨 item이든 상관 없이 검색과 검색된 결과 리스트를 제공하는 재사용 컴포넌트&lt;/em&gt;를 작성하고 싶은건데..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4da492dca87414a73a435f998bfd1d7a/5a190/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.75949367088608%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACwUlEQVR42g3CbU8ScQAA8PsCZcLxcBwcdxwHdxz3vycOTuTgDjg8UJwiaoD4gE4tdbZMm5mWVrNyc20tUteysvJVa7pmvW/rpS9aW1+nfvtBJVOs9KXa+5unb/fKVoYi7GUjpGshknASHgeFuXHURZG4EoshiMPlgu2wrdPWCcPX/C4bpKe4gZ7YcXv754/j6WZFpB2NYqDUIwdJlCUQNoDqXYCPBLsTCu51oogD8zj8iANx2gQCgfJpKZtWqtV8rW6ZhThGOKIcwvJkiESYgCdCIBzjj4TwuCLhqJPGUa/bjrntHZ1XRcoHZTUAJArweL0k0wIRABjO+QIcStAI6rXjKOxHYRAiRC5CoLBC4064IyWGKMLD4ggExCAjkqoqbU5bRbMcjYlRwROWcJzxUhQ2aikq51MiATYUwD12hfI6bVfq/SkZhKKYEwoLGM3TES6Z1mvjrd18eXlcT99IEpkcX+hLZDWeixIyIAHlCvtsPOlhGQJQaNDn4EkUkhMkSTMssHqHbw+PP8+WNvREcb2W3Pt0tv3uPFlQhe6goNKqwnNBt+DrVCLYylh6a9aiUBgaLLAzY719E62nn7+sv3xTGKgWi/zqYvnrr9/ti8ul1eZQX4zmw5KiVgzxZKt0ciu33ci9mNS0MAqVjPDFYf/B6f7Gwd+V9kejxJbrcStD7D+emrtbM3vijYqpJuIMQz3cXTs8v9x5/epowVyz+OG4H5J536N5ZWZJf/Z+++xoKcVj5V5pqmnOz5e6TBDTJCkpa7mklODu7D1of/uzc/zhfEW/N6SaCgKpFmMNSFyBEjX3993R+wvFxdl0q5rMVkFmQjTGhExD0OpAGwXZOrj5pLKwnDdjgbl8pDdDQt0jUaMmmc2Y3pAHJpTBlpKqC/p13miK2UkpN/W/aIwL2QmhpyUZo8zwpGyOCIKKJrqof+OGuDJXRGJrAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;뻣뻣&quot;
        title=&quot;&quot;
        src=&quot;/static/4da492dca87414a73a435f998bfd1d7a/f058b/image.png&quot;
        srcset=&quot;/static/4da492dca87414a73a435f998bfd1d7a/c26ae/image.png 158w,
/static/4da492dca87414a73a435f998bfd1d7a/6bdcf/image.png 315w,
/static/4da492dca87414a73a435f998bfd1d7a/f058b/image.png 630w,
/static/4da492dca87414a73a435f998bfd1d7a/5a190/image.png 800w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 때, Render Props를 이용해볼 수 있습니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt; prop으로 Render가능한 JSX를 반환하는 함수를 받아오고,&lt;br&gt;
단순히 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;li&gt;{children(item)}&amp;lt;/li&gt;&lt;/code&gt;처럼 쓰면 되겠습니다. 아래처럼&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;SearchableList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; items&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; children &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;searchTerm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setSearchTerm&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; searchResults &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 대충 searchTerm으로부터 items 필터링&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handleChange&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setSearchTerm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;search&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onChange&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;handleChange&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;searchResults&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;children&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그럼 이 &lt;code class=&quot;language-text&quot;&gt;SearchableList&lt;/code&gt;라는 Wrapper컴포넌트를 쓰는 입장에서는,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SearchableList&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PLACES&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Place&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SearchableList&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 쓰면 되곘어요. item을 인자로 받기로 했으니까, 이걸 받고 해당하는 렌더링 컴포넌트를 반환합니다.&lt;br&gt;
지금은 &quot;장소&quot;에 대한 개별 리스트아이템을 써먹은건데,&lt;br&gt;
&quot;게시글&quot;처럼 다른 것을 검색하고 싶은 경우 저 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Place&gt;&lt;/code&gt;자리를 그냥,&lt;br&gt;
그 다른 item에 맞는 컴포넌트로 대체하면 됩니다. 예를 들면 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;PostItem&gt;&lt;/code&gt;처럼요.&lt;br&gt;
그리고 인자인 &lt;code class=&quot;language-text&quot;&gt;item&lt;/code&gt;을 받아서 뭔가 하고싶으면, 로직을 추가해도 되겠죠?&lt;br&gt;
결국엔 Render만 될 수 있게 jsx를 반환하는 함수이기만 하면 됩니다.&lt;/p&gt;
&lt;p&gt;이처럼, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;SearchableList&gt;&lt;/code&gt;의 책임은 item의 리스트를 검색하여 제한하는 로직, 딱 거기까지만 가져가고,&lt;br&gt;
item 각 항목을 예쁘게 UI에 담아내는 Rendering 책임은 추상화하여 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;SearchableList&gt;&lt;/code&gt;를 사용하는 주체에게 떠넘깁니다.&lt;br&gt;
이렇게 하여 꽤나 강력하고 유연한 검색용 재사용 컴포넌트를 만들었어요&lt;/p&gt;
&lt;h2 id=&quot;동적으로-key-처리하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8F%99%EC%A0%81%EC%9C%BC%EB%A1%9C-key-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;동적으로 key 처리하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;동적으로 key 처리하기&lt;/h2&gt;
&lt;p&gt;아시다시피 &lt;code class=&quot;language-text&quot;&gt;map()&lt;/code&gt;에서처럼 목록으로 컴포넌트들을 찍어내는 경우, &lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt; props를 무조건 넣어줘야 하죠?&lt;br&gt;
근데 위에서 쓴 코드에서는, 대충 &lt;code class=&quot;language-text&quot;&gt;item&lt;/code&gt;이라고 퉁치고 있는게 좀 맘에 들지 않습니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt; 프로퍼티가 있다면 &lt;code class=&quot;language-text&quot;&gt;item.id&lt;/code&gt;로, 어떤 경우에는 &lt;code class=&quot;language-text&quot;&gt;item.title&lt;/code&gt;로, ...&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;SearchableList&gt;&lt;/code&gt;를 사용하려는 객체가 뭐냐에 따라서 &lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt;로 뭘 쓸지 알 수가 없습니다.&lt;/p&gt;
&lt;p&gt;Render Props에서 한 것과 꽤 비슷하게 이걸 처리할 수 있어요. 저만 비슷하다고 느끼는지는 모르겠으나..&lt;br&gt;
&lt;strong&gt;item을 받아 key를 반환하는 콜백함수&lt;/strong&gt;를 props로 넘겨주면 됩니다.&lt;br&gt;
예를 들어, props로 &lt;code class=&quot;language-text&quot;&gt;itemKeyFn&lt;/code&gt;을 받아와서, &lt;code class=&quot;language-text&quot;&gt;key={itemKeyFn(item)}&lt;/code&gt; 이렇게 쓰면 되겠죠?&lt;/p&gt;
&lt;p&gt;그러면 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;SearchableList&gt;&lt;/code&gt;를 사용할 적에는&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SearchableList&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;itemKeyFn&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Place&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SearchableList&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 쓰면 되겠어요&lt;br&gt;
이러면 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;SearchableList&gt;&lt;/code&gt;를 사용하는 객체를 위해 확장될 수 있는 셈입니다&lt;/p&gt;
&lt;h2 id=&quot;debouncing&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#debouncing&quot; aria-label=&quot;debouncing permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Debouncing&lt;/h2&gt;
&lt;p&gt;지금 저 검색 컴포넌트는 매 key stroke를 렌더링에 반영합니다.&lt;br&gt;
당연히 상태값인 &lt;code class=&quot;language-text&quot;&gt;searchTerm&lt;/code&gt;이 수정되면, 파생상태인 &lt;code class=&quot;language-text&quot;&gt;searchResults&lt;/code&gt;도 업데이트되고,&lt;br&gt;
바뀐 &lt;code class=&quot;language-text&quot;&gt;searchResult&lt;/code&gt;에 따른 리스트를 UI에 반영하게 됩니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 235px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/60dfd5d11bde59986d24cbed8bde0880/6783b/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 91.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEOUlEQVR42j3Q209aBxwH8PM/LMuMVy6CiBOrWLU6a521ijIRUVCmUkDBA+cA5+DhIpwLd/GGitwLXuqKaU2rdl5mXe1MtS6bW9aHJbv0Zdme9rQs2fMwS5Z88n36fZNvfgCntIhFz2eV5JcW55UW5VWXMyekwhUHlPAgccIUd8IJCkqQUJTQRUl9gjTlJCkklzHcAHDo9LJrNFZJCYtWTC/Kr2YzdFJhlDAlXEiSRB640VUvtuqzrPqwtAdJUv+XjUBpSQmbRsspY9A5/6EVi9uavbAy7Z2MksYAonSM9aPybquiN4gqkq7rfoI0RJ16oIrOZBUUsotpzPxCRn4hLa+AXVwi/vi2G1bmjjClWNRSw2e+X017j8/4oLWGA8tFy1Ng0g3HCB2wqB6Fuu5aB/tdozKkT9hZXSGoq1b3dc9b9XZ1v6ills8o5DOLatm0hkp2Pa/8ViVHJeqYs2lSbgQ49kxeLlNvlsi3qemX0+akbmheNxQloCU7qBG3f8Rj85gFfA7zZkVZfRW3oYpbyaI18bjm0b6UCwH2cfAiZP8h6b6KkGcz2HPKuEWa1gjIq5WNdDQ1VDCrSuk3ueyWG7x7tfychjJ2HYuhFbfHcRg48ZlOg+ixz/BsamzPoXls06xZxmcVIqOgsbeOW1/OaK+pGhe0klJRGLwfN6oJ6Sfy1nrzsDBO6oGTafTLAPrQNLSOfroOy3YoKGMZDypENnHbYEtNXx3PKhZs26GzAHa5YPtu2XniglNmZdg2cT37qV39yDychqVZm2prUvHcY0pbxvzKXqynDe/vmpH3bMKj5zPWXzcWfnwwfTlrPQuYdz1I2gXFKROQgeTLanFUK3k8NX7oRj/3Ykmzyj0iMnY2L6tlT7CxPfv4nn3slR89IvRxVV9MJU5PquMEGCNg4CwbXkJHnrpNRz7s2GvZoZAQOGSXdIJ3+H6pIIsoX3hNLwPmAyeYVkuojpaZga4Iqog6J8IOLeA3qp2K7oRx9GTafjqHJwyjjoF2Xdst6G6jp1+Q1srOF2zni7ZvFh37Ns2BRf8Zqo7aVRFcG7ZOAA0sth9UzCglp0HHQcAaQxVuRQ8qbLnfdAMRNAeHBXsEeL5g/WravE+AaV1/Eh1ZwpRRXLdkmQBSfvKL2Nw2YTqddTwhoU2PYUYvt/S1KW/XTA0Ko6jqNOb5ZTfzJulbASW4uCmkEoVRVYJCojgEfL+/dZKcO1vx5f68P2/LkDrPmBTsaOr9kCnlMoPDkq83Yv/8+dPvV0eHYSqkkqT0w1kfGqcgbLAT2A37DxddRyFqUa9YRMedI6K0w7CKT+7MB9dtWEAmCcgGMji64ZncncO33ejlWujdxc7mnB0d6AISZu2rkGdWLUN7OzT37iga+YGRwQisexGJvN5Ye72eeRb0ZcmphziWscE/H2f/fnfx12/f/vH27Org0b9x09TghIbfRgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;정신없는 짤&quot;
        title=&quot;&quot;
        src=&quot;/static/60dfd5d11bde59986d24cbed8bde0880/6783b/image-2.png&quot;
        srcset=&quot;/static/60dfd5d11bde59986d24cbed8bde0880/c26ae/image-2.png 158w,
/static/60dfd5d11bde59986d24cbed8bde0880/6783b/image-2.png 235w&quot;
        sizes=&quot;(max-width: 235px) 100vw, 235px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아.. 그러면 타자를 칠 때마다 렌더링이 마구마구 일어나고, 아주 정신이 사나운 사태가 벌어지고 말아요&lt;br&gt;
검색 결과를 보여줄 때 조금 여유를 가지고 보여줘야겠습니다..&lt;/p&gt;
&lt;p&gt;그래서 뭘 할거냐면, 검색창 입력값이 바뀌어도, 임의의 시간(500ms정도?)을 기다리겠습니다.&lt;br&gt;
500ms가 지나는 동안 새로운 입력이 없으면, 사용자가 결과를 원하는 것으로 간주하고, 검색을 진행합니다.&lt;br&gt;
500ms가 지나기 전에 새로운 입력이 들어오면, 다시 새로운 500ms를 시작합니다.&lt;br&gt;
이를 구현하려면 아래처럼 합니다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; lastChange &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handleChange&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lastChange&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;clearTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lastChange&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  lastChange&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    lastChange&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setSearchTerm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;500ms 뒤에 입력값이 상태에 반영되도록 예약(하고, &lt;code class=&quot;language-text&quot;&gt;lastChange&lt;/code&gt; 참조로 이 예약 타이머를 갖고 있기)&lt;/li&gt;
&lt;li&gt;예약이 걸려있는데 handleChange가 다시 호출된 경우(&lt;code class=&quot;language-text&quot;&gt;if(lastChange.current)&lt;/code&gt;), 이전 예약을 취소하고 다시 새로 예약&lt;/li&gt;
&lt;li&gt;이 때, 예약의 콜백에서 &lt;code class=&quot;language-text&quot;&gt;lastChange.current=null&lt;/code&gt;로 이제 예약이 비었음을 나타내줘야 합니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이렇게 하면, 사용자가 마구마구 타자를 칠 때는 잠시 여유를 갖고 기다립니다.&lt;br&gt;
사용자가 입력을 좀 쉴 때, 그 때가 되어서야 검색 결과를 보여줘요.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5e3f9bbd6dc0a7903073e9ee3668f37f/3684f/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 99.36708860759494%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEtUlEQVR42iWU61PSWRjHf//FzuyL3Zkdmx01EREEhVWU6487iMklbgGiIqgQXiAxwruGeTc1LbuJF2Btc8gulmZljVrb6jY77Yvc2lpt16m0BPnBHndnPvOdM2eezzzPc14ciHT4O0AmKi4LfYic8j0VG8/AJ7IIKD4xVUTGC3MIeXSSjEVWcalqHuOYCNbkAlgqIUvGYUKUlHgqJp6WmkDDAhIZaYeZ6clwBoYGDhkYfjZBRMkQ00hH6JlSmKIWwBohG5gqPnyUw4Bo2MMMHIqRBkgCGpuUyiWmcvDJNhXXLBeIKSQxlSiBsyQwWcahKPmwOpd/LJcHUIm4QE6i4ZLouCQmHsUmYgCMDPzFlorNRyPeVtOw26QT0HnkDAmLquDBSgFHIxbqpWKDLM8gyYVoOBQ9LfkAApqOTxZlZzTV1PYNXS5U5PWW5m/NX57yVJdIBXI2VUQjK/hs7ZFcnSRfL5PoZWKIBYYkYtlELDcLT09H2026O3OLDZ5zElb2lNvwdmZgeazl9rDria9zsN5WolaqREK1WKjMFcr5HCgHk/IDOpmERWdiMQwSQSZgV5w4VaiQm9iEJoPI6yweqDFatMqx1sr7vv6Z2YcN7tMnbJXV1gpbuRWqa+yY/ikYmJ65dWvB75/mw7TCQvM1v8+tFfSZZdfcpU+DY6/e/93ZP6TVmFq6RjbevNvc/fzzh09rO7vQwpMXsVhsfz8Ccm3tOYtFM5uretrb1Fx6ZR6z2yidCUwMjo47nI1V9vp7C49A2XY0+gsojsWgu0sH8t5eCKQ/MMmgMw1FtpamdqVcpcvPaz/prOu+YrTWlVWcBG8BamIIsoUgqxFkFUGgm/93Du+DfLzyGIZhhabE1dR5sra5oNjWfWGqod/rOe+fmbt3IEajQP4LiTyNIqvRKDS79Cu4jfw39ofdnQKdNu+I2lhiPd0+ZCqvsbk8nRemrz9e/3jQMhJGQCB/hMOrodBKOAz57z/7DNZAkHehz9uxWFvHaT5XpD2mO+VuOTs6qVAZq2vbvHPLv+3uv9nZe70T2tgJvfwUXvuyv763D03dXdp49/L6rH9+8fbi0pzXO2QtK9JodAUFxb3DV4cngp7B8cDi6j/RSCwKho5FEOR9NPo6imxFwtDkvSe35nxtjY7ZoG+wz+O92NXjsRt0+vLS4xaL4+ylQM953/Ti+kYotrUb+nNr89Xm29+3P27vfQFrQk63p+NM84sHXcGrjhtjrmfzzXazcnX5x7HhmtYaYzDgGeitHz13pqOzZ+qSZ+V+//h448Sl5ocLYx1N9VDSN19VFGY+X7AOuJg3A6abozJzPunOhaLuSv5En9Fbyx1qkC/ecLaUMPsa5XenK8e7tcHxUl+vxqaXQ5T01Nve6vk64nFO3IOe7HZJvIaVZuGlqhjE+hKhnkE5a2e2FZMUFIJBxhtpMLiOovvLUpzShOaGWiAnW/RiAfYQjEsQp8dx0hKFMFV1VGsoLrdYak7UtjodTntpuUYilvKoLptRRMaJc/A8KsVRXgDhEr5FxX2dhoojouOJ2EQ6CSOiZhWpFVZLVVlppcPurm/qauy+aDaZeGTwseClLHJ2Flkg4HScsvwLQmBtoByYzqYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;여유&quot;
        title=&quot;&quot;
        src=&quot;/static/5e3f9bbd6dc0a7903073e9ee3668f37f/3684f/image-3.png&quot;
        srcset=&quot;/static/5e3f9bbd6dc0a7903073e9ee3668f37f/c26ae/image-3.png 158w,
/static/5e3f9bbd6dc0a7903073e9ee3668f37f/3684f/image-3.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h1 id=&quot;typescript와-함께-직접-구현하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#typescript%EC%99%80-%ED%95%A8%EA%BB%98-%EC%A7%81%EC%A0%91-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0&quot; aria-label=&quot;typescript와 함께 직접 구현하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;TypeScript와 함께 직접 구현하기&lt;/h1&gt;
&lt;p&gt;아래는 제가 진짜 최근 프로젝트에 써놓은 코드입니다&lt;br&gt;
여담으로 이 프로젝트는 최근 꽤나 급하게 작업할 일이 있었어서&lt;br&gt;
기술 부채는 늘어만 가는데.. 여기에 스파게티를 토핑으로 추가하는 그 기분이 매우 죄책감들었습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d83d2cdd9fc8ad607e2075411699b5b9/0a47e/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0ElEQVR42n2SS6upYRTHfRsfxDcwMNH+BowVShlJGcqYomRg4hoiKYpIJPe7jVyS+/W85+c89s45dfYzWO9617P+67/+az0ySZJ+fR3p65xOp9lstlwuF4vFfD4/n88EsZvNZr/fH49HkSwT2d/gx+OB7ff7vV6v2+3W6/XxeNxsNgHgTCYTfBwqvsD/0IIHMxqNPv+c4XBIC4Cr1Wqr1SoUCuDb7fbtdpMJGKn843Q6nUqlkkgkKLFarcB8t8MvhZADM/2/mFGo1Wo9Hg8MtVrN6/VCCHkkEkHhdrsV3WEZQTqdFpEX2OFwfHx8BAIByJEKeTabpZzBYFCr1W63ezAYkAZMoVCoVCq73Q7NE0xjGo3GYrEEg0Exxvv97vP5jEYjYL1en8vl8vk8Qigkl8ttNlsymUTwE0y2yWTS6XTRaBS1hLjw+/1WqzUcDk+nUzZUKpVIcLlcSqXSbDaL6QB8ts0MYrEYOil5OBwul0uxWGRPqVSq0WgQZ8JOp5M9ZTIZllQul/GfzNfrlQw0oJb1EmKYjA3loVAoHo/TES2s12v2hCUByOuR8BGbwIoQmhnybrejYaaAI66EfX8Rf72w94v3878r2Q/ZP1eUJOk3F3muZaPysjEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기술부채..&quot;
        title=&quot;&quot;
        src=&quot;/static/d83d2cdd9fc8ad607e2075411699b5b9/0a47e/image-5.png&quot;
        srcset=&quot;/static/d83d2cdd9fc8ad607e2075411699b5b9/c26ae/image-5.png 158w,
/static/d83d2cdd9fc8ad607e2075411699b5b9/6bdcf/image-5.png 315w,
/static/d83d2cdd9fc8ad607e2075411699b5b9/0a47e/image-5.png 600w&quot;
        sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;styles&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;scenario-list&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;scenarios&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;styles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;card&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;profileImage&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;styles&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;start-button&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handleClickStart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            시작하기
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런.. 살짝 끔찍?한, &quot;시나리오 리스트&quot; 컴포넌트가 있었습니다.&lt;br&gt;
컴포넌트 분리도 안 되어있고, 검색 기능도 사실은 아직 만들지 않았었어요&lt;br&gt;
데이터는 가짜 객체 배열이라, 나중에 바뀔 가능성이 있어 &lt;code class=&quot;language-text&quot;&gt;any&lt;/code&gt;타입으로 뒀습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/307c2f54cb1e5de1c45dfdd61b025beb/a2b88/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 109.49367088607596%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAADqklEQVR42oVUS4/cRBC2x89+uNtvj+0Ze57sLklmdmfZV5KFJeEhEq1QyCRitFplEwiJQAjlEnEACXJCQhEnECcO3BAnLhwQJy6c+Ud8ba8Q4oJVM1Ndrm+q6quq1ob9vJVBPx9VRT9Ps0jmSbizNbu8u310eHlnMa/hUBXDKh8oaZTGXxv0u6NKwcZ1MRmUVZEVaRj7PAk4lCwUg153MuhNBkXjlo/rcqTwRQPupd2Ix8G/xGeB50L8RkJJI59FPg0lCQVRuqT9LEB8rZ9HtmUwxrn6qMdxHO3/Hum5yEKryxj/LZgrOYF4zOHEZq7Fqe1RB0d8wwIHTh1GbK7EyRN/VBcAp8OmbHCGssEWvH2PQMGrcZVXZSo9JiUPAyEFa4RXPdRfasN+Nqq64zoHJdNhOa663UhEPg8kT0KFn9R5XaSCU8EJLEkkfY9msQ92tV4m4oBBJLd97lCnEwg3ECQNme+xLPTSkEMEs4ndcU2dumbs00iSQRlpqAEEmIbx4tr07q3jB6crQhRh1LV8wRDNMHQcJ6P6+tHhybvLncUMx46uZ7HQBFOuR1d3P354tjnb/OvP3598eB8WcAMwKIRfp6M9fm/1wYOzP3775acfv23BaSQ00IPD9vziyZ1bD++tfv35h0dnqzYyykZ50Ms8euu1w6o3/vLzT7/56gvbsGBUYLQEWuSLt2+8cW919/vnz7ZnG/+kDdqhO5Z5uryxur387Oknp8tjvWl1A25qNjoauvLy3mJ3vu5YBizEMdEhwYiBpDVtY1o/eXxyfP0gR6mapiuw1DAPlNF2tjxOKSFSSkrZORg1o74mlm2ZrqtqxPEczIllmpZp2bbjGqZlWfhVigJzKhtwO5KGYcLe6nqbNmoDfj5Jtta6+/PB9kY5nyahcDHwmDVMJQJP+8FiLdu7VMNhsZ6t1SGCw6mpjTv7F4srm9W1vReubg0OZmUWMsvsIGcIkr4wig8ula+8NDnanUKZjRNkEwUcfbZ1VYb+n71BOtgERLbNTpvnecLNY3b0JPS0bhJEvueBIMciroOhlx5Xm4CFcmxYiGsz6grOhMfgxohLHJtTN40DDcuFCwBbKT2CaYsDL08CrFSKxXewkuoCwMWCY7MtuBIomg9InoZaJMC/6ToGkEngtXnCAs6QNjbEo7ZrG6CmSPwqjymx4cyI1Y2lmmE1qx3j9s3Xr13Z/+75swvr43bCqKuuAaNp1Ts3X33/zptfP3300f1l468Hgv4N+75ynE0KysMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;예시&quot;
        title=&quot;&quot;
        src=&quot;/static/307c2f54cb1e5de1c45dfdd61b025beb/f058b/image-4.png&quot;
        srcset=&quot;/static/307c2f54cb1e5de1c45dfdd61b025beb/c26ae/image-4.png 158w,
/static/307c2f54cb1e5de1c45dfdd61b025beb/6bdcf/image-4.png 315w,
/static/307c2f54cb1e5de1c45dfdd61b025beb/f058b/image-4.png 630w,
/static/307c2f54cb1e5de1c45dfdd61b025beb/a2b88/image-4.png 908w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;검색창 컴포넌트까지 포함해서 이렇게 생긴 페이지였습니다.&lt;br&gt;
여기다 검색 기능을 실제로 추가하고,&lt;br&gt;
위에서 배운 것처럼 Render Props를 이용한 유연한 컴포넌트로 만들고 싶네요&lt;/p&gt;
&lt;h2 id=&quot;먼저-searchablelist-컴포넌트를-만듭시다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A8%BC%EC%A0%80-searchablelist-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A5%BC-%EB%A7%8C%EB%93%AD%EC%8B%9C%EB%8B%A4&quot; aria-label=&quot;먼저 searchablelist 컴포넌트를 만듭시다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;먼저 SearchableList 컴포넌트를 만듭시다.&lt;/h2&gt;
&lt;p&gt;아래와 같이 구현해줬습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SearchableListProps&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  items&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;keyFn&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;children&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSX&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Element&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  className&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  itemClassName&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;SearchableList&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  items&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  keyFn&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  children&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  className&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  itemClassName
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; SearchableListProps&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;className&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;items&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;itemClassName&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;keyFn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;children&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위에서 살펴본 Render Props 이론에 TypeScript만 더했을 뿐이예요&lt;br&gt;
key를 동적으로 뱉어줄 &lt;code class=&quot;language-text&quot;&gt;keyFn&lt;/code&gt;은 숫자든 문자열이든 상관은 없습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt;은 render props를 사용할거라, 이를 위한 인자와 반환값을 강력하게 명시했습니다&lt;/p&gt;
&lt;p&gt;알고 계셨나요? 함수형 컴포넌트에서 타입을 &lt;code class=&quot;language-text&quot;&gt;function FooComponent : React.FC&lt;/code&gt;처럼 쓰면 &lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt;같은 특별 컴포넌트들을 이미 포함시킬 수 있습니다.&lt;br&gt;
거기다 다른 props가 또 있다면 &lt;code class=&quot;language-text&quot;&gt;React.FC&amp;lt;FooPropsType&gt;&lt;/code&gt;처럼 제네릭을 구체화하면 됩니다&lt;br&gt;
근데 저는 그냥 저렇게 하는게 편하더라구여.. &lt;code class=&quot;language-text&quot;&gt;React.FC&amp;lt;&gt;&lt;/code&gt;로 하려면 props를 구조분해할당으로 받아오는거 어떻게 하는지 모르겠어서..&lt;/p&gt;
&lt;p&gt;이제 각 item 항목들의 render를 담당할 친구를 대충 작성해줍니다.&lt;br&gt;
저는 &lt;code class=&quot;language-text&quot;&gt;item&lt;/code&gt;과 기타 여러 props를 받는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;ScenarioListItem&gt;&lt;/code&gt; 컴포넌트를 만들었어요.&lt;br&gt;
사실 여러분 입장에서는 별 관심을 코드라서 여기에는 안 씁니다.&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;SearchableList&gt;&lt;/code&gt;를 이용하여 시나리오 리스트 검색 컴포넌트를 만들 일만 남았네요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SearchableList&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;scenarios&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;keyFn&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ScenarioListItem&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SearchableList&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;편하게 보시라고 안궁금하실 props 넣는 부분은 쳐냈습니다&lt;br&gt;
아무튼 이렇게 사용해주면,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;SearchableList&gt;&lt;/code&gt;에서 children을 render props로 사용할 때&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;children(item, index)&lt;/code&gt;처럼 썼으니, &lt;code class=&quot;language-text&quot;&gt;{(item, index) =&gt; 컴포넌트를뱉기}&lt;/code&gt; 이런 식으로 쓰게 됩니다&lt;/p&gt;
&lt;p&gt;여기까지 하면 컴포넌트의 분리와 추상화가 잘 마이그레이션되어서&lt;br&gt;
원래의 리스트가 잘 출력됩니다.&lt;/p&gt;
&lt;h2 id=&quot;검색-로직-추가&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B2%80%EC%83%89-%EB%A1%9C%EC%A7%81-%EC%B6%94%EA%B0%80&quot; aria-label=&quot;검색 로직 추가 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;검색 로직 추가&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9f4b868fa5fe9e14decff1c5a4bc1613/5a46d/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AIyaiJCsl5SgioSKetPUkNTajcvQjLGxbD87KRcTEjkwKMnOeOTpgdzQjdLFhru2gYeXcXaGfGyEdmiGZwC3ypa5z6S2s5GSpXXT4XLT3Y29yIY3NigCAgwQEhEAAAVvbV7s3pLItYLQupPQv5XIxYtveXmBhHWopG0AjaJ/zc6VsbeLZoJyrbtstsl5v8mDSUgzGBUcJR0hHhYWMS03l4t9bGRcZ2BbW1RMfHdocGtohXhtmYx3AG+Jd4CVeaTAfZ26dafCbqG2fLi0l4yAaDYuMkw7O1VBPkA6PUE4OlBERSYiKBkZHh8eIionKSMiJSEhJwCcvGmEplyauGSatGWGnGSUloxycHyWcXRhR0RDMzFGNDRbQ0NUQDlHPDg0MjIRFRYnJSUgHyAKCwscGRcAkcN5bJ5uVIVoc6B9caaUdpyNXFRTcltbkWxleFZWhV1dkGhgTD42PzMtNDY3FCEiKjEzFx4hFBgZMTAvAH7Jp4jVtnG6nnO1mE2OeU5wYlxOS29pZpmFfXVUT4JbVohsZXFnY0tAOikwMBMfICs3OhAlJBYjIS4xMQB1tIZioH4/dmA1YVIpUERebGeOh4qZl6CLeHtvUEdwTkVfU1hiY3F3eIRUWl0YISMpNTkNHh4dJyU6OTkAX5F3RHheZohmVVZPU15epaijr6aKgXlth4F5jHxliXtjgX1tj4hvjYh3lpWYSVNXIzQ4DB4gGyUlOjs7AEJyWUdvWHyOaVc9Mn9veJGIhoRULn1oU4JnVXZdSYRmTn9oU49kO41jOImBgGNmaTMyNCopKzIqLTszMgB8hnh2f3N4eW9bR0Z7bnVveI9ZVmtaWGlaXGxaVWhdW29VWG1WWGphZXmFhpNkU1I3LCkvKSkvJycwJya+sga/tb7CjwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;검색한번해봐&quot;
        title=&quot;&quot;
        src=&quot;/static/9f4b868fa5fe9e14decff1c5a4bc1613/5a46d/image-6.png&quot;
        srcset=&quot;/static/9f4b868fa5fe9e14decff1c5a4bc1613/c26ae/image-6.png 158w,
/static/9f4b868fa5fe9e14decff1c5a4bc1613/5a46d/image-6.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이제 진짜 검색이 되게 해봅시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;inputClassName&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;placeholder&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;검색어를 입력해주세요.&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;className&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;items&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;itemClassName&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;keyFn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;children&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;원래 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;SearchableList&gt;&lt;/code&gt; 와 같은 레벨에 있던 input을&lt;br&gt;
SearchableList.tsx 안쪽으로 병합합니다.&lt;br&gt;
이제 기능을 만들어요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;searchTerm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setSearchTerm&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; lastChange &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useRef&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; resultItems &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; items&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
  item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toLowerCase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;searchTerm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toLowerCase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handleInputChange&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ChangeEvent&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;HTMLInputElement&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lastChange&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;clearTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lastChange&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  lastChange&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    lastChange&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setSearchTerm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;검색 거르는 로직은 대충 미니멀하게 GPT한테 부탁했습니다.&lt;br&gt;
그리고 &lt;strong&gt;*Debouncing&lt;/strong&gt;도 넣은거 잘 보이시나요?&lt;br&gt;
이거 할 때, setTimeout 반환값이 브라우저는 number라서 number로 하니까&lt;br&gt;
IDE가 Node.js환경인 줄 알고 자꾸 &quot;이거 Timeout객체 타입인데요?&quot; 경고띄우길래.. 그냥 &lt;code class=&quot;language-text&quot;&gt;any&lt;/code&gt; 박았습니다.&lt;/p&gt;
&lt;p&gt;나머지는 딱히 새로울 것도 없네요&lt;br&gt;
이렇게 하고, &lt;code class=&quot;language-text&quot;&gt;handleInputChange&lt;/code&gt;를 가져다 input 요소에 등록합니다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/sungpaks/sungpaks.github.io/blob/master/content/blog/render-props-and-dynamic-key-and-debouncing/gif-image.gif?raw=true&quot; alt=&quot;결과&quot;&gt;&lt;/p&gt;
&lt;p&gt;좋네요.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
Render Props라는 리액트 패턴도 알아보고&lt;br&gt;
동적으로 key 넣는 잡기술도 살펴보고&lt;br&gt;
Debouncing으로 사용자 경험에 대해서도 고민해봤습니다&lt;br&gt;
사실 Render Props는 요새 커스텀 훅으로 많이 대체될 수 있다고 해요&lt;br&gt;
아무튼 알아두면 은근히 유용할 패턴인 것 같습니다&lt;br&gt;
&lt;a href=&quot;https://sungpaks.github.io/til/react-life-hacks-3/&quot;&gt;TIL에서도 리액트 패턴 중 하나인 합성 컴포넌트에 대해 알아봤는데&lt;/a&gt;&lt;br&gt;
다른 것들 또 뭐 있나 알아보고 싶어지네요.&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[onThrowHydrationMismatch 에러.. 근데 이제 validateDOMNesting 경고를 곁들인. (Gatsby.js)]]></title><description><![CDATA[! 주의 : TIL…]]></description><link>https://sungpaks.github.io/til/throw-on-hydration-mismatch-error-and-validate-dom-nesting-error/</link><guid isPermaLink="false">https://sungpaks.github.io/til/throw-on-hydration-mismatch-error-and-validate-dom-nesting-error/</guid><pubDate>Sat, 21 Sep 2024 20:00:12 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;블로그 글 쓰려고 여느 때처럼 &lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;으로 개발 모드를 열었는데&lt;br&gt;
띠용~&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/07636075318d2313d5024b17662fdfe2/ae694/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 94.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAACtklEQVR42m1TyW7TUBT1lwAb1kggQNAvAFFgw7Bgw4qpLAC1SHwEYhBKUDogNuwQpN9AQU2QaBdJS7cZ7dhvfrafh3CeX5NKwNHNzfHzu/O1t3J9bfnKxsq1jZWrh7K8uA55dnn16aX/y5NLjeeLH1/c+ODdPfXu3pnG0sL644X1h+dXH11Ye3Cucf9s487Jt7eOv7p9AvK60nN5c/PYy6XTn5Yubnhf6j+a9Z9fa625NGvtZr29+b7ddFI/IptzXWt/rn3ztNaJSdIsTTPoJMtNlqdZYazkVpsszUvLLSkykNQk0+lUCulxLuM41SpWUgshGeWCS84EJQzaCheUMjySiEYRwc00MXle4qbnj/39/f29vb1ut7u7u7s9Q6vV+r61NRwOCSGDwWA0GvV6vX6/j0ynFRDJkxU4qJRKKbxzJ+BQRVGUZZkXhSMASJZllbGAsbIXlYa1kNYADlAC/tw5TirPCCApY/aakIjBGLeRKSHhZBKGUFb/S6IoAgmCwLrgnDEG/2iEh+jj8RhV9Xs9V9UcOOzN0B/0UT+l1HmEB0KoF+vYGIPg0DmAWWQWeZY7AS/ywnHcse8wwaIQXFjjWOvA97lS+E24JFEYhUGIUpBsNAEJacgkwzR1gq2wY8VqIHkY6xhmvo8ecBVTFUvBteJEEaoo0wwaHMI1d0IlFYkglHhxHCdJYo2xK+YQSZqm9vc3bNrGpl0WpU0bATEQ9IBwEVAeUobeuq7YVk9sq7FgkKrJGpHgBYXbUWmlcRWdxA6NRyN/BozAabg47FMFcJcsOu8hujGpe8YYoxmqNWCYKokIq0ArYLRoNTYMO+8FfvD74KDT7XY6nZ2dXy2LbeTiaoEXhK+ILQS54ORot/FhsIiEgS0QM8LoKaGccRCOMimC49vCVvGqavsRoAH48oaD4R9I6OQ5no1ojQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;hydration mismatch 에러&quot;
        title=&quot;&quot;
        src=&quot;/static/07636075318d2313d5024b17662fdfe2/f058b/image.png&quot;
        srcset=&quot;/static/07636075318d2313d5024b17662fdfe2/c26ae/image.png 158w,
/static/07636075318d2313d5024b17662fdfe2/6bdcf/image.png 315w,
/static/07636075318d2313d5024b17662fdfe2/f058b/image.png 630w,
/static/07636075318d2313d5024b17662fdfe2/ae694/image.png 850w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이런 런타임 에러가 떴습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 495px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/dc6eda9f7a4039335d5dc8b513e98c85/a4d88/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 113.9240506329114%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEAElEQVR42jWTh27rOBBF8/9/9BYLbJotqxeKEtUbSYlFsmzHdlyzdJIHEAQF6PLOzD18Otq2sG0aQex7LIrGPJ+KnIZAoHiqMQpxgUgE2gTi0G8ziGnZxzGfsLjuNk83zgffTV6ey+Wi1rXWMlpTp763q8o5z3sYi1TdFfMkozBmcbKpmxOXl4Gd5/XTdRz3lPVRSmDSeGFuOJUHWYwwiHCY7En/tdnc5/V9mn7WTcqrEFfOz/P8pD5YzVLQJF4BTOSvYvMNpE7ka+HqBVRuuMnTj7q6CnaT/Cr4TYrbKG7ir3ioWOSWwEicBbQXof4KkAmhicxVWYelLBpZ4S3mM+bHgW+JOrDT8C2+Snmkw67F67LiKJVpPqb5Ok12TcVqTks+1KLNWJMOBRpEzep0SON+i9l18y1WxazzjHhua1m97+IMQyiTmPsehQF1HFqivsn6EPRljI9D/7WWNyF+ne/jOCZJa5m1YeTLRet6vgaSoNEMatpEt4hhEXWRYVHfp67T9cWwx/Sy2TzEqm2JUOfYSpm9v3WWkfqF49KV1b/p9F0n/7xidYtpkX/fFQ3t1NLTIyrlLIQaoCq7B0Fjmq0CxrVJAPwVDLRAja1LcJsNKhHZsCplfdlf2PBb9m2e+0pEXuObmVqukWl6GwfYd5qVVkKn2CgfIdWQt5RdBPuaxH36G9WpLPeEyDznCRJJMtd1iToUtl3Rd80cp1OcyCIfg0hGSEoij3IeuvWBT5fd7ukYQxaCznUUkmogqnjVM/Ud6rmqeGhGqRMjJ0vcxHlzoQ4LLzHfgrHEt+3m6TJNStNYZqXrLAwZDFvH3ta1jOEQuHOGJhRui2RbZhy4Yww2RcbDQDF32W4fhO3qegCAeB6DUCA0F8VYkybnuBBtzpuM1+lj563MEKuz4dCzu5Tn9fwbFY+i9PU1+POnXmmhiVYm0QzyusQvGlbxuC6xHbrQiW01oiQKqt+H8SCM8++cHfVX51i17aQOKqLOdVXjVMkUG55Hw6CHgAIP9+XwSen5B08VGodhbeiFtkxfX3rfQ16pNLpFH/4aUf5KrFB7XnQZaFTZF8bOP4SptyKznASwMu3WDdTehamnRaGV5qCixYDzQb08Xj+eh2wUIVz5HcfxISbFkINStQqMGOhxYKDCgdY7WD37lRffBLuP4msUP7vCUUGpBrYZhodY0Yf8MrCy0M59Iw3ssgjLwC6sVV6B4oGx8hnEJ+MX8VBevsVbxlRU4oOwLohy3Qmf32sPLnX835K6Xr8w6NIgukkq1C90rEa974gqWDV8F2KrnC/H0/30edl/nHbb/STPu816OvRiP04HMR6EPPT8MP2cx8P54/D1+Xk7Hr/O5908/w/N57pQk8B5jAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;콘솔에서는&quot;
        title=&quot;&quot;
        src=&quot;/static/dc6eda9f7a4039335d5dc8b513e98c85/a4d88/image-1.png&quot;
        srcset=&quot;/static/dc6eda9f7a4039335d5dc8b513e98c85/c26ae/image-1.png 158w,
/static/dc6eda9f7a4039335d5dc8b513e98c85/6bdcf/image-1.png 315w,
/static/dc6eda9f7a4039335d5dc8b513e98c85/a4d88/image-1.png 495w&quot;
        sizes=&quot;(max-width: 495px) 100vw, 495px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;콘솔에서는 이런 에러가 났구요&lt;/p&gt;
&lt;p&gt;근데 제가 쓴 코드를 지적해주는게 아니라..&lt;br&gt;
그냥 저런 모듈 내부 코드에서의 에러 위치만 나오니까&lt;br&gt;
아주 미칠노릇. 일 뻔 했습니다&lt;/p&gt;
&lt;h1 id=&quot;hydration이-뭔가요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#hydration%EC%9D%B4-%EB%AD%94%EA%B0%80%EC%9A%94&quot; aria-label=&quot;hydration이 뭔가요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;hydration이 뭔가요?&lt;/h1&gt;
&lt;p&gt;먼저 에러에서 hydration이라는게 있는데, hydration이 뭔지 알아보고 갑시다.&lt;br&gt;
&lt;a href=&quot;https://www.gatsbyjs.com/docs/conceptual/react-hydration/&quot;&gt;Understanding React Hydration - Gatsbyjs.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Gatsby.js는 정적 사이트 생성(SSG)과 서버 사이드 렌더링(SSR)을 지원하는 프레임워크입니다. Next.js와 비슷하게요&lt;br&gt;
이는 즉, &lt;strong&gt;정적 HTML 뼈대&lt;/strong&gt;를 서버 측에서 먼저 조립하고, 이걸 &lt;strong&gt;클라이언트 사이드&lt;/strong&gt;에 넘기는 셈입니다.&lt;br&gt;
제가 &quot;HTML 뼈대&quot;라고 말한 것처럼, 이 자체로는 interactive하지 않습니다. 딱딱하고 메마른 뼈대 그 잡채인 셈인데&lt;br&gt;
클라이언트 사이드에서 &lt;strong&gt;React는 이 뼈대에다 JavaScript 코드를 집어넣어 살아 움직일 수 있게&lt;/strong&gt; 만듭니다.&lt;br&gt;
마치 물을 주는 것 같네요. 이 과정이 hydrating입니다.&lt;/p&gt;
&lt;h1 id=&quot;이유를-찾아보자&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%9C%A0%EB%A5%BC-%EC%B0%BE%EC%95%84%EB%B3%B4%EC%9E%90&quot; aria-label=&quot;이유를 찾아보자 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이유를 찾아보자&lt;/h1&gt;
&lt;p&gt;구글에 throwOnHydrationMismatch같은 검색어로 좀 검색을 해봤는데&lt;br&gt;
SSG, SSR의 대표주자인 Next.js에서 &lt;a href=&quot;https://nextjs.org/docs/messages/react-hydration-error&quot;&gt;관련 공식문서&lt;/a&gt;를 발견할 수 있었습니다&lt;/p&gt;
&lt;p&gt;Gatsby는 Next.js처럼 SSG, SSR을 지원하는 프레임워크예요.&lt;br&gt;
에러에서 &quot;rendered on the server&quot;라고 말하니까, 관련 문제임이 틀림없었습니다&lt;/p&gt;
&lt;p&gt;결과적으로, &lt;strong&gt;서버 사이드 렌더링 결과물과 클라이언트 사이드 렌더링 결과물이 다르다&lt;/strong&gt;는게 원인이었습니다.&lt;br&gt;
저 링크에서 가능한 원인 후보군으로 몇 개 집어줬는데&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;window&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;localStorage&lt;/code&gt;같은 browser-only 기능을 사용함&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;ul&gt;,&amp;lt;ol&gt;&lt;/code&gt; 없이 독립적인 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;li&gt;&lt;/code&gt; 사용&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;p&gt;&lt;/code&gt; 태그 밑에 중첩된 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;div&gt;&lt;/code&gt;나 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;p&gt;&lt;/code&gt; 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;제 경우, 알고 보니 &lt;em&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;p&gt;&lt;/code&gt;요소 밑에 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;p&gt;&lt;/code&gt;요소가 또 중첩&lt;/strong&gt;&lt;/em&gt;되어 있어서 문제였습니다.&lt;br&gt;
그렇지 않게끔 만들어주고나서 해결됐어요.&lt;/p&gt;
&lt;h1 id=&quot;p-밑에-왜-p-있으면-안-됨&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#p-%EB%B0%91%EC%97%90-%EC%99%9C-p-%EC%9E%88%EC%9C%BC%EB%A9%B4-%EC%95%88-%EB%90%A8&quot; aria-label=&quot;p 밑에 왜 p 있으면 안 됨 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;p&gt;&lt;/code&gt; 밑에 왜 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;p&gt;&lt;/code&gt; 있으면 안 됨?&lt;/h1&gt;
&lt;p&gt;사실 이건 아예 DOM 규칙 자체를 위반하는 경우입니다.&lt;br&gt;
원래 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;p&gt;&lt;/code&gt; 밑에는 다른 블록 요소들이 존재하기를 기대하지 않습니다.
&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/HTML/Element/p&quot;&gt;The Paragraph element - MDN&lt;/a&gt;을 한번 보시면,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;p&gt;&lt;/code&gt; 요소 내에서 다른 블록 요소가 등장하는 순간 해당 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;p&gt;&lt;/code&gt;요소는 자동으로 닫힙니다.&lt;/p&gt;
&lt;p&gt;즉 아래처럼 쓰면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
		p 중첩했지롱~
	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;아래처럼 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	p 중첩했지롱~
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;React는 이런 경우에 대해 &lt;code class=&quot;language-text&quot;&gt;Warning: validateDOMNesting(...): &amp;lt;p&gt; cannot appear as a descendant of &amp;lt;p&gt;&lt;/code&gt; 와 같은 경고를 줍니다.&lt;br&gt;
p 요소가 p의 하위 요소로 나타나면 안 된다고 하네요.&lt;/p&gt;
&lt;p&gt;그리고 이게 결과적으로 서버 사이드의 사전 렌더링에 비해 다른 결과를 내버릴 수 있어서, hydration mismatch 오류까지 찾아왔네요.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;원래 딱히 에러 한 번 난거 가지고 글까지는 잘 쓰지 않는데요&lt;br&gt;
이건 SSR, SSG, hydration에 대해서도 다룰 수 있었고,&lt;br&gt;
저런 validateDOMNesting에 대해서도 알아보는 기회였어서&lt;br&gt;
얻어가는 것이 많은 것 같아서 써봤습니다.&lt;/p&gt;
&lt;p&gt;그리고 사실 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;p&gt;&lt;/code&gt; 내부에서 블록요소 중첩 안 되는거 처음 알았음;&lt;br&gt;
이만 마칩니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[96년차 개발자도 모르는 리액트 잡기술 (3)]]></title><description><![CDATA[! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다. <form> form…]]></description><link>https://sungpaks.github.io/til/react-life-hacks-3/</link><guid isPermaLink="false">https://sungpaks.github.io/til/react-life-hacks-3/</guid><pubDate>Sat, 21 Sep 2024 14:20:33 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;form&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#form&quot; aria-label=&quot;form permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&amp;#x3C;form&gt;&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/HTML/Element/form&quot;&gt;form&lt;/a&gt;은 무엇입니까?&lt;br&gt;
입력필드의 집합입니다
우리는 여러 입력필드들로부터 데이터를 긁어와서, 검증하고, 제출하고 싶습니다&lt;/p&gt;
&lt;p&gt;이 form 내부에 존재하는 버튼들은 기본값으로 &lt;code class=&quot;language-text&quot;&gt;type=&quot;submit&quot;&lt;/code&gt;이 되어,&lt;br&gt;
클릭 시 브라우저는 http요청을 생성하고 전송합니다.&lt;br&gt;
대개 우리는 브라우저의 이 기본적인 양식 제출 방식이 아닌 직접 다루고 싶어하기에&lt;br&gt;
버튼을 &lt;code class=&quot;language-text&quot;&gt;type=&quot;button&quot;&lt;/code&gt;으로 만들어 onClick으로 처리하거나,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;onSubmit&lt;/code&gt; 핸들러에서 &lt;code class=&quot;language-text&quot;&gt;event.preventDefault()&lt;/code&gt;로 요청 전송을 방지합니다.&lt;/p&gt;
&lt;h2 id=&quot;form-데이터-데루기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#form-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%8D%B0%EB%A3%A8%EA%B8%B0&quot; aria-label=&quot;form 데이터 데루기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;form 데이터 데루기&lt;/h2&gt;
&lt;p&gt;리액트에서 form 내의 input 요소들로부터 데이터를 얻어오는 법은 크게 세 가지가 있습니다 :&lt;/p&gt;
&lt;h3 id=&quot;1-state&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-state&quot; aria-label=&quot;1 state permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. state&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://sungpaks.github.io/til/react-life-hacks-1/#%EA%B0%92%EC%9D%84-%EC%86%8C%EC%A4%91%ED%9E%88-%EA%B0%96%EA%B3%A0-%EC%9E%88%EA%B8%B0&quot;&gt;이전에 양방향 바인딩과 ref를 이용한 입력값 관리에 대해 살짝 봤습니다&lt;/a&gt;
리액트에서는 input 요소의 값을 상태로 관리하여 언제든지 그 값에 접근할 수 있습니다.&lt;/p&gt;
&lt;p&gt;그런데 form 내의 입력란이 막.. 많아지면 이를 개별 state 객체로 관리하기 힘들어집니다&lt;br&gt;
따라서 상태를 아예 객체 하나로 퉁치고, 아래처럼 상태값을 관리해볼 수 있습니다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handleInputChange&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;identifier&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setEnteredValues&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;identifier&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;객체의 &lt;strong&gt;키값으로 동적인 값&lt;/strong&gt;을 주기 위해 &lt;code class=&quot;language-text&quot;&gt;[identifier]&lt;/code&gt;와 같이 대괄호로 동적인 값임을 명시했습니다.&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;input value={enterdValues.email} onChange={(e)=&gt;handleInputChange(&apos;email&apos;, e)}&gt;&lt;/code&gt;와 같이 써주면 편하겠네요&lt;/p&gt;
&lt;h3 id=&quot;2-ref&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-ref&quot; aria-label=&quot;2 ref permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. ref&lt;/h3&gt;
&lt;p&gt;참조를 이용해볼 수도 있습니다. 코드 자체는 이게 더 간단할 수 있습니다
&lt;code class=&quot;language-text&quot;&gt;useRef()&lt;/code&gt;로 참조를 생성하고, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;input ref={ref}&gt;&lt;/code&gt;와 같이 등록하면,&lt;br&gt;
제출 시점에 &lt;code class=&quot;language-text&quot;&gt;ref.current.value&lt;/code&gt;로 값에 접근할 수 있습니다.&lt;/p&gt;
&lt;p&gt;그런데 제출 후 값을 초기화하고 싶으면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;ref.current.value = &apos;&apos;&lt;/code&gt;와 같은 행동을 할 수 있지만&lt;br&gt;
약간.. 리액트 패러다임에 맞지 않는다고 전에 살펴봤었습니다&lt;/p&gt;
&lt;h3 id=&quot;formdata로-form-제출-제어하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#formdata%EB%A1%9C-form-%EC%A0%9C%EC%B6%9C-%EC%A0%9C%EC%96%B4%ED%95%98%EA%B8%B0&quot; aria-label=&quot;formdata로 form 제출 제어하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;FormData로 &amp;#x3C;form&gt; 제출 제어하기&lt;/h3&gt;
&lt;p&gt;또 한가지, 브라우저 내장 기능인 FormData를 사용해볼 수 있습니다.&lt;br&gt;
onSubmit에서 받아온 event객체를 &lt;code class=&quot;language-text&quot;&gt;new FormData(event.target)&lt;/code&gt;과 같이 써서 FormData객체를 생성할 수 있습니다.&lt;/p&gt;
&lt;p&gt;이 때, FormData 객체를 생성하려면, 각 html input요소에 &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt; attribute를 설정해줘야 합니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;input name=&quot;email&quot;&gt;&lt;/code&gt;처럼요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;select&gt;, &amp;lt;textfield&gt;&lt;/code&gt;같은 다른 필드도 예외없이 전부요&lt;/p&gt;
&lt;p&gt;이제 이 &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt; attribute에 썼던 이름을 이용하여 값을 가져올 수 있습니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;.get(&apos;email&apos;)&lt;/code&gt;같은 메서드로 개별 값을 가져올 수도 있고,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;Object.fromEntries(formData.entries())&lt;/code&gt;와 같이&lt;br&gt;
Object 전역객체의 정적메서드를 사용하여 한 번에 객체로 변환할 수 있습니다.&lt;/p&gt;
&lt;p&gt;주의할 점은, 이 때 체크박스 하위 값들은 이 엔트리에 모두 포함되지 않는데&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;type=&quot;checkbox&quot;, name=&quot;acquisition&quot;&lt;/code&gt;같은 동일한 이름의 하위 옵션들이라서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;formData.getAll(&apos;acquisition&apos;)&lt;/code&gt;과 같이 사용해줘야 체크된 값들을 모두 가져옵니다.&lt;/p&gt;
&lt;p&gt;이 경우 값 리셋도 쉬운데,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Form&gt;&lt;/code&gt; 내에서 &lt;code class=&quot;language-text&quot;&gt;type=&quot;reset&quot;&lt;/code&gt;인 버튼을 두면 이걸 클릭하여 초기화되게 할 수도 있고&lt;br&gt;
onSubmit 이벤트 객체에서 &lt;code class=&quot;language-text&quot;&gt;event.target.reset()&lt;/code&gt; 메서드를 제공하므로 프로그래밍적인 방법으로도 가능합니다.&lt;/p&gt;
&lt;h2 id=&quot;form-데이터-검증하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#form-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B2%80%EC%A6%9D%ED%95%98%EA%B8%B0&quot; aria-label=&quot;form 데이터 검증하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;form 데이터 검증하기&lt;/h2&gt;
&lt;p&gt;html 요소들에 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Learn/Forms/Form_validation#using_built-in_form_validation&quot;&gt;빌트인 attribute를 사용&lt;/a&gt;하여 어느정도의 입력을 제어하고 검증할 수 있습니다.&lt;br&gt;
그 외에도,&lt;/p&gt;
&lt;h3 id=&quot;1-매-입력stroke마다-검증하고-경고를-날릴까요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%EB%A7%A4-%EC%9E%85%EB%A0%A5stroke%EB%A7%88%EB%8B%A4-%EA%B2%80%EC%A6%9D%ED%95%98%EA%B3%A0-%EA%B2%BD%EA%B3%A0%EB%A5%BC-%EB%82%A0%EB%A6%B4%EA%B9%8C%EC%9A%94&quot; aria-label=&quot;1 매 입력stroke마다 검증하고 경고를 날릴까요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. 매 입력(stroke)마다 검증하고 경고를 날릴까요?&lt;/h3&gt;
&lt;p&gt;이 경우는 필연적으로 state로 입력값을 제어하는 경우여야 합니다.&lt;br&gt;
그래야 매 stroke마다 확인하고, UI를 업데이트하겠죠?&lt;/p&gt;
&lt;p&gt;근데 너무 이른 판단일 수 있어요 아무래도..&lt;br&gt;
사용자는 아직 입력 중인데, 제대로 입력하라고 호들갑을 떨어버리면 불쾌할 수 있습니다.&lt;br&gt;
&quot;유저는 왕이다&quot;&lt;/p&gt;
&lt;h3 id=&quot;2-포커스-해제-시&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-%ED%8F%AC%EC%BB%A4%EC%8A%A4-%ED%95%B4%EC%A0%9C-%EC%8B%9C&quot; aria-label=&quot;2 포커스 해제 시 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. 포커스 해제 시&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;onBlur&lt;/code&gt; 이벤트 리스너를 등록하여, 입력 요소에 포커스가 해제되면 값을 검증할 수 있습니다.&lt;br&gt;
그럼 유효한 값이 아닌 상태로 포커스를 떠나는 경우를 경고할 수 있습니다.&lt;br&gt;
아까보단 좀 낫네요&lt;/p&gt;
&lt;p&gt;근데 그럼 다시 타이핑하러 돌아와도, 경고가 남아있을 수 있겠죠?&lt;br&gt;
이를 위해 첫 번째 방법과 결합하여 다시 타이핑을 재개하면 경고를 제거하게 하거나,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;onFocus&lt;/code&gt; 이벤트를 등록하여 포커스 시 경고를 제거해볼 수 있겠습니다.&lt;/p&gt;
&lt;h3 id=&quot;3-form-제출-시-검사하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-form-%EC%A0%9C%EC%B6%9C-%EC%8B%9C-%EA%B2%80%EC%82%AC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;3 form 제출 시 검사하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. Form 제출 시 검사하기&lt;/h3&gt;
&lt;p&gt;모든 입력이 끝나고 제출된 후에야 값을 검사합니다.&lt;br&gt;
ref나 FormData로 구현하면 아마 보통 이래야 하겠죠?&lt;/p&gt;
&lt;p&gt;이 경우 사용자는 충분히 유효한 값을 입력할 기회를 갖지만,&lt;br&gt;
다 제출하고 나서야 피드백을 받으니 좀 늦은 감이 있을 수도 있습니다.&lt;/p&gt;
&lt;p&gt;그럼 어떤 방법을 사용하죠? 하면 국룰처럼 외치는 &quot;취향차이&quot;가 정답입니다&lt;/p&gt;
&lt;h1 id=&quot;지연로딩&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A7%80%EC%97%B0%EB%A1%9C%EB%94%A9&quot; aria-label=&quot;지연로딩 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;지연로딩&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://wikidocs.net/197644&quot;&gt;지연로딩&lt;/a&gt;은 코드(컴포넌트들)를 무조건 한 번에 다 로딩하는 것이 아닌,&lt;br&gt;
페이지를 로드 시 필요한 컴포넌트들만 로드하게 합니다.&lt;/p&gt;
&lt;p&gt;예를 들어, 코드에서 import로 가져오는 구문을 수정해볼 수 있는데&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const BlogPage = lazy(() =&gt; import(&apos;./pages/Blog&apos;));&lt;/code&gt;와 같이 컴포넌트를 지연로딩해볼 수 있습니다.&lt;br&gt;
참고로 &lt;code class=&quot;language-text&quot;&gt;lazy()&lt;/code&gt;함수는 리액트에서 제공하는 유틸함수입니다&lt;/p&gt;
&lt;p&gt;앗, 그럼 아직 안 가져왔을 때를 위해 또한 리액트가 제공하는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Suspense&gt;&lt;/code&gt;블록을 사용할 수 있는데&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Suspense&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;fallback&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;기다리는동안보여줄컴포넌트&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;BlogPage&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Suspense&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 Suspense로 감싸서 효과를 낼 수 있습니다.&lt;/p&gt;
&lt;h1 id=&quot;합성-컴포넌트-만들기-components-composition&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%A9%EC%84%B1-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EB%A7%8C%EB%93%A4%EA%B8%B0-components-composition&quot; aria-label=&quot;합성 컴포넌트 만들기 components composition permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;합성 컴포넌트 만들기 (Components Composition)&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;합성 컴포넌트&lt;/strong&gt;는 스스로 독립적으로는 동작하지 못하되, 함께 있어야 비로소 동작할 수 있는 컴포넌트 조합을 만드는 일종의 리액트 패턴입니다.&lt;br&gt;
비슷한 예로, html 요소 중 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;option&gt;&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;select&gt;&lt;/code&gt;가 그러한 관계죠&lt;/p&gt;
&lt;p&gt;예를 들어, 아코디언(하나를 탭하면 디테일을 열고, 그럼 다른 애들은 닫혀 있는) 컴포넌트를 만들고 싶으면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Accordion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; items&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; className &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;className&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;items&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 써볼까요?&lt;br&gt;
근데 확장성이 좀 부족해보입니다. item이 저렇게 생겼을거라는 보장이 없어요.&lt;/p&gt;
&lt;h2 id=&quot;children-props로-유연하게-하위-컴포넌트를-받게-하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#children-props%EB%A1%9C-%EC%9C%A0%EC%97%B0%ED%95%98%EA%B2%8C-%ED%95%98%EC%9C%84-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A5%BC-%EB%B0%9B%EA%B2%8C-%ED%95%98%EA%B8%B0&quot; aria-label=&quot;children props로 유연하게 하위 컴포넌트를 받게 하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt; props로 유연하게 하위 컴포넌트를 받게 하기&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Accordion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; children&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; className &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;className&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 껍데기만 만들고, &lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt; props를 받아 합성 컴포넌트를 노려보는게 좋을 것 같습니다.&lt;/p&gt;
&lt;p&gt;이제 이 안에 들어갈 item인 AccordionItem을 만들어보면 좋을 것 같아요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;AccordionItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; className&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; children &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;className&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 대충 item 컴포넌트를 만들어서,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Accordion&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;accordion&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AccordionItem&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;accordion-item&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;1st&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    first item
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AccordionItem&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AccordionItem&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;accordion-item&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;2nd&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    second item
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AccordionItem&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Accordion&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 쓸 수 있겠습니다.&lt;/p&gt;
&lt;h2 id=&quot;합성된컴포넌트의-묶음에-로직을-추가하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%A9%EC%84%B1%EB%90%9C%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EC%9D%98-%EB%AC%B6%EC%9D%8C%EC%97%90-%EB%A1%9C%EC%A7%81%EC%9D%84-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0&quot; aria-label=&quot;합성된컴포넌트의 묶음에 로직을 추가하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;(합성된)컴포넌트의 묶음에 로직을 추가하기&lt;/h2&gt;
&lt;p&gt;이제 아코디언 아이템이 하나만 열리게 동작을 추가하고 싶어요&lt;br&gt;
근데 : &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Accordion&gt;&lt;/code&gt;에서는 children과 직접적인 상호작용이 어렵습니다.&lt;br&gt;
여기서는 단순히 children을 받아서 렌더링에 넘기기만 할 뿐이라서요&lt;/p&gt;
&lt;p&gt;대신 Context로 상태를 전달하면 좋을 것 같습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; AccordionContext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useAccordionContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ctx &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AccordionContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;//Context.Provider의 범위 내에 해당하지 않을 수 있음&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; ctx
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Accordion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; children&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; className &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;openItemId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setOpenItemId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toggleItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setOpenItemId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prevId&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prevId &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; id &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; contextValue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    openItemId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    toggleItem&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AccordionContext.Provider&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;contextValue&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;className&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AccordionContext.Provider&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 Wrapper 컴포넌트인 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Accordion&gt;&lt;/code&gt;에서 상태값을 컨텍스트로써 제공하게 합니다.&lt;br&gt;
그럼 하위 컴포넌트들은 어디서든 그 값이 필요하면 컨텍스트 값을 가져다 쓸 수 있습니다.&lt;br&gt;
그리고 &lt;code class=&quot;language-text&quot;&gt;useAccordionContext()&lt;/code&gt; 커스텀 훅을 추가하여&lt;br&gt;
아예 &lt;code class=&quot;language-text&quot;&gt;useContext&lt;/code&gt;를 더욱 캡슐화?해버렸습니다&lt;br&gt;
근데 이 때, 이 훅을 사용한 곳이 적절한 &lt;code class=&quot;language-text&quot;&gt;Provider&lt;/code&gt;의 하위에 있지 않은 경우를 예외처리해줘야겠죠?&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;AccordionItem&gt;&lt;/code&gt;에서는 &lt;code class=&quot;language-text&quot;&gt;const { openItemId, toggleItem } = useAccordionContext();&lt;/code&gt; 이렇게 하면 정보를 얻어올 수 있습니다.&lt;/p&gt;
&lt;h2 id=&quot;합성-컴포넌트를-그룹화하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%A9%EC%84%B1-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A5%BC-%EA%B7%B8%EB%A3%B9%ED%99%94%ED%95%98%EA%B8%B0&quot; aria-label=&quot;합성 컴포넌트를 그룹화하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;합성 컴포넌트를 그룹화하기&lt;/h2&gt;
&lt;p&gt;근데 처음에, 합성 컴포넌트의 하위 컴포넌트는 응당 &lt;em&gt;스스로는 독립적인 컴포넌트로서 사용되지 못하는 컴포넌트&lt;/em&gt;라고 했습니다.&lt;br&gt;
근데 지금은 모르는 누군가 와서 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;AccordionItem&gt;&lt;/code&gt;을 import하고 개별적으로 사용해버리면&lt;br&gt;
그 목적을 달성하지 못합니다.&lt;br&gt;
또한 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Accordion&gt;&lt;/code&gt;밑에는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;AccordionItem&gt;&lt;/code&gt;이 그룹으로 사용되어야 한다는 필연성을 저밖에 알지 못하죠,&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;AccordionItem&gt;&lt;/code&gt;이 무조건 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Accordion&gt;&lt;/code&gt;의 하위가 되게 그룹화하는 방법이 있는데&lt;br&gt;
AccordionItem 컴포넌트를 export하지 않고, Accordion 컴포넌트의 구현부에 위치하게 합니다.&lt;br&gt;
그런 다음, 단순히&lt;br&gt;
&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;Accordion.Item = AccordionItem&lt;/code&gt; 이렇게 프로퍼티로 등록&lt;/strong&gt;해버립니다!!&lt;/p&gt;
&lt;p&gt;그럼 사용할 때는, AccordionItem을 import할 필요도 없이,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Accordion.Item&gt;&lt;/code&gt;으로 서브 컴포넌트를 갖다쓸 수 있습니다.&lt;br&gt;
마치 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Context.Provider&gt;&lt;/code&gt;처럼요&lt;br&gt;
이렇게 하면 더 명시적으로 &lt;em&gt;메인과 서브 컴포넌트&lt;/em&gt;를 합섭 컴포넌트로서 그룹화해버릴 수 있습니다.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;끗. 여기까지 하겠습니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[96년차 개발자도 몰랐던 리액트 잡기술 (2)]]></title><description><![CDATA[! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다. 거두절미 useEffect에 대해 useEffect…]]></description><link>https://sungpaks.github.io/til/react-life-hacks-2/</link><guid isPermaLink="false">https://sungpaks.github.io/til/react-life-hacks-2/</guid><pubDate>Wed, 11 Sep 2024 20:20:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;거두절미&lt;/p&gt;
&lt;h1 id=&quot;useeffect에-대해&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#useeffect%EC%97%90-%EB%8C%80%ED%95%B4&quot; aria-label=&quot;useeffect에 대해 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;useEffect에 대해&lt;/h1&gt;
&lt;h2 id=&quot;useeffect-필요한-경우&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#useeffect-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B2%BD%EC%9A%B0&quot; aria-label=&quot;useeffect 필요한 경우 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;useEffect 필요한 경우?&lt;/h2&gt;
&lt;p&gt;알고들 계시리라 봅니다만,&lt;br&gt;
함수형 컴포넌트가 렌더링될 때&lt;br&gt;
이 컴포넌트 함수가 실행되는 양상을 살펴봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setValue&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
  &lt;span class=&quot;token function&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; prev &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대충 이런 &lt;code class=&quot;language-text&quot;&gt;Foo.jsx&lt;/code&gt;가 있다고 생각해봅시다&lt;br&gt;
1초마다 1씩 값이 늘어나는 것을 상상하고 이런 코드를 작성했을 수 있지만&lt;br&gt;
매우 끔찍한 일이 일어납니다.. 궁금하면 직접 해보세요.&lt;/p&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/z6sthx?view=preview&amp;module=%2Fsrc%2FApp.js&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;fast-snow&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;p&gt;아유.. 귀찮은데 샌드박스 만들어왔습니다&lt;/p&gt;
&lt;p&gt;이유는 아시다시피&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;setState()&lt;/code&gt;는 컴포넌트 함수의 재실행을 촉발합니다&lt;br&gt;
그럼 &lt;code class=&quot;language-text&quot;&gt;setInterval&lt;/code&gt;에 의해 1초 뒤 &lt;code class=&quot;language-text&quot;&gt;setValue()&lt;/code&gt;가 호출되고,&lt;br&gt;
그럼 이제 다시 Foo 컴포넌트 함수가 재실행됩니다&lt;br&gt;
그럼 다시 &lt;code class=&quot;language-text&quot;&gt;setInterval&lt;/code&gt;이 추가되고, 1초 뒤 &lt;code class=&quot;language-text&quot;&gt;setValue()&lt;/code&gt;가 호출되고, 또 Foo 컴포넌트 함수가 실행되고, ..&lt;br&gt;
근데 &lt;code class=&quot;language-text&quot;&gt;setInterval&lt;/code&gt;은 계속 남습니다. 이건 함수 컴포넌트가 재실행된다고 없어지지 않아요&lt;br&gt;
사실상 미아가 되는건데..&lt;br&gt;
그러면 미아 interval이 배로배로 늘어나버립니다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;setInterval&lt;/code&gt; 없이 그냥 냅다 &lt;code class=&quot;language-text&quot;&gt;setValue()&lt;/code&gt;를 바로 부르면 더 직관적일까요?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setValue&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//여기서 사실상 Foo()를 다시 호출하는 셈임&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이러면 &lt;code class=&quot;language-text&quot;&gt;Too many re-renders.&lt;/code&gt; 에러가 나버립니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;setValue()&lt;/code&gt;를 만나면 &lt;code class=&quot;language-text&quot;&gt;Foo()&lt;/code&gt; 컴포넌트 함수는 다시 실행되므로 답없는 재귀함수가 되는 셈입니다&lt;/p&gt;
&lt;h2 id=&quot;useeffect로-해결&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#useeffect%EB%A1%9C-%ED%95%B4%EA%B2%B0&quot; aria-label=&quot;useeffect로 해결 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;useEffect로 해결&lt;/h2&gt;
&lt;p&gt;그럼 이런거 한 번만 실행하게 하려고 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;를 쓴다는 사실 알고계시죠??&lt;br&gt;
http api를 호출할 때나 저런거 할 때나, &lt;code class=&quot;language-text&quot;&gt;useEffect()&lt;/code&gt;를 의존성배열을 비운 채 사용하여&lt;br&gt;
&lt;strong&gt;최초 마운트 시 1회만 실행&lt;/strong&gt;하게 합니다&lt;br&gt;
아래처럼요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useEffect&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useRef&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; isInitial &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setValue&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//이 useEffect로 감싼 코드는 통째로 가져다가..&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; prev &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//여기까지 다 실행한 타이밍에 useEffect에 담긴 코드를 실행함&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;React는 컴포넌트 함수를 실행중에 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;훅을 만나면 해당 부분을 건너뜁니다.&lt;br&gt;
그 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;내에 있던 코드는 가지고 있다가, 컴포넌트 함수 실행이 끝나면 실행합니다.&lt;/p&gt;
&lt;p&gt;그럼 먼저, &lt;code class=&quot;language-text&quot;&gt;setInterval&lt;/code&gt;은 건너뛴 채 렌더링이 완료되고,&lt;br&gt;
이제 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;가 실행되므로 타이머가 세팅됩니다&lt;br&gt;
이후 1초가 지나서 &lt;code class=&quot;language-text&quot;&gt;setValue()&lt;/code&gt;가 실행되었지만..&lt;br&gt;
&lt;strong&gt;의존성 배열이 비어있기 때문에 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;내부는 다음 렌더링 때 재실행되지 않습니다&lt;/strong&gt;.&lt;/p&gt;
&lt;h2 id=&quot;거기선-useeffect-쓰지-마세요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B1%B0%EA%B8%B0%EC%84%A0-useeffect-%EC%93%B0%EC%A7%80-%EB%A7%88%EC%84%B8%EC%9A%94&quot; aria-label=&quot;거기선 useeffect 쓰지 마세요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;거기선 useEffect 쓰지 마세요&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.react.dev/learn/you-might-not-need-an-effect#&quot;&gt;useEffect가 필요하지 않을 수도 있습니다.&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; storedIds &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;selectedPlaces&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;storedIds&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;selectedPlaces&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;storedIds&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런게 있다고 칩시다&lt;br&gt;
이런거 useEffect로 빼야 할까요?&lt;br&gt;
굳이.. 인데요, &lt;em&gt;state 변화&lt;/em&gt;도 없고, 더군다나 localStorage에 갔다오는 것은 &lt;em&gt;동기적&lt;/em&gt;인 동작이기 떄문입니다&lt;/p&gt;
&lt;p&gt;&lt;em&gt;이벤트핸들러&lt;/em&gt;도 마찬가지입니다. 특정 조건에서만 호출되므로 위에서 살펴본 끔찍한 일이 벌어지지 않습니다..&lt;/p&gt;
&lt;p&gt;이외에도, &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;를 굳이 사용하지 않을 상황이 많으니 링크를 살펴보세요&lt;/p&gt;
&lt;h2 id=&quot;clean-up-함수&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#clean-up-%ED%95%A8%EC%88%98&quot; aria-label=&quot;clean up 함수 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;clean up 함수&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;는 컴포넌트 함수의 실행이 끝난 뒤 호출된다고 말씀드렸습니다&lt;br&gt;
그런데 또한, &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt; 내부에 전달하는 콜백함수 내에서 함수를 return하면&lt;br&gt;
해당 함수는 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt; 내부가 재실행되기 직전, 또는 컴포넌트가 사라지기 바로 직전에 실행됩니다&lt;br&gt;
아래처럼요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; timer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

	&lt;span class=&quot;token comment&quot;&gt;//Clean Up 함수&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;clearTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;timer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이러면 이 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;가 속한 컴포넌트가 DOM에서 제거되기 직전에 &lt;code class=&quot;language-text&quot;&gt;()=&gt;{clearTImeout(timer)}&lt;/code&gt;가 실행됩니다.&lt;br&gt;
또한 의존성 배열에 값이 뭔가 있었다면, 그 값이 변화되어 리렌더링이 진행될 때도 실행되겠네요&lt;br&gt;
아, 그리고 useEffect 내부의 최초 실행 시에는 당연히 Clean Up함수가 실행되지 않습니다&lt;/p&gt;
&lt;p&gt;의존성 배열에 값이 있는 경우에 대해서까지는 다루지 않아도 될거라고 생각합니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;에 대해 밑바닥부터 알고 싶으시면 &lt;a href=&quot;https://ko.react.dev/reference/react/useEffect&quot;&gt;공식문서&lt;/a&gt; 또는 &lt;a href=&quot;https://sungpaks.github.io/react-hooks-guide-with-examples/#effect-hooks&quot;&gt;이상한 사람이 쓴 글&lt;/a&gt;을 참고하세요&lt;/p&gt;
&lt;h1 id=&quot;react가-화면을-그리는-비밀&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#react%EA%B0%80-%ED%99%94%EB%A9%B4%EC%9D%84-%EA%B7%B8%EB%A6%AC%EB%8A%94-%EB%B9%84%EB%B0%80&quot; aria-label=&quot;react가 화면을 그리는 비밀 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;React가 화면을 그리는 비밀&lt;/h1&gt;
&lt;h2 id=&quot;virtual-dom&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#virtual-dom&quot; aria-label=&quot;virtual dom permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Virtual DOM&lt;/h2&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1a3f8bfe49b335ad2c92cec36d198010/00d43/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABi0lEQVR42n1RyU7DMBDNL/EHIJA4wIk74somJEAFCS5w5Je4IZayVJQ2TUtE99hx0sR24yQNbTamKVRFRTxZ1vjN+sZSmsH3fWIYhJAkSeCZ/CD9DWDiOAajy3CFqNLU8SSX1HZzEjGf8weZJtKEY6LfMUmH6N7Ah9qUUhgE67rredNywFuWZZgmxthxHGC+k7lwqNPvMeq4YggYjW4Kz8g0IA8UIYQ452CD57ZYaCIt65yOx46zyrM6iW21dNzE6HM4dKAupUIIi1HdtmA6k9MWRlEUSXNKxui7QviexVk8I1X4vsVYz7Yp5ya1wSVBq7ah1zotOKrWrmNN1ToNXWsSVNcR2MC8d9vuYDBeDWNvVeWj0Qiyp+QFwdbV5erpwdrZ4crJ/vr50XJub2F7c+l4Z/38cDm3u3Fxuni8c114guhgNHxVa13YRSZTgh0WP9THmvKiVvNV+UEp5xX5vlKC8/yuPFblvFK+q5S46zLh1LUuaNZMQ66r4bzmfxDFURiG8BFwh1GYpOkXtDgi776N1s0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Rect Virtual DOM&quot;
        title=&quot;&quot;
        src=&quot;/static/1a3f8bfe49b335ad2c92cec36d198010/f058b/image.png&quot;
        srcset=&quot;/static/1a3f8bfe49b335ad2c92cec36d198010/c26ae/image.png 158w,
/static/1a3f8bfe49b335ad2c92cec36d198010/6bdcf/image.png 315w,
/static/1a3f8bfe49b335ad2c92cec36d198010/f058b/image.png 630w,
/static/1a3f8bfe49b335ad2c92cec36d198010/40601/image.png 945w,
/static/1a3f8bfe49b335ad2c92cec36d198010/00d43/image.png 1000w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
&lt;p&gt;출처 &lt;a href=&quot;https://www.geeksforgeeks.org/reactjs-virtual-dom/&quot;&gt;GeeksforGeeks&lt;/a&gt;&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;리액트는 DOM의 스냅샷인 Virtual DOM을 유지합니다&lt;br&gt;
정확히는 두 개 유지하는데, New버전과 Old버전입니다&lt;/p&gt;
&lt;p&gt;어떤 state가 변하거나 해서 새로운 업데이트가 발생하면,&lt;br&gt;
이 내용이 New Virtual DOM에 반영됩니다.&lt;br&gt;
그럼 이제 Old VIrtual DOM과 이 업데이트 된 New Virtual DOM을 비교하고&lt;br&gt;
변한 곳을 캐치해내고, 그 &lt;strong&gt;변한 지점만 실제 DOM에 반영하여 업데이트&lt;/strong&gt;합니다.&lt;/p&gt;
&lt;p&gt;단지 그 뿐입니다&lt;/p&gt;
&lt;h2 id=&quot;key&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#key&quot; aria-label=&quot;key permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;key&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;list.map(item =&gt; &amp;lt;li key={item}&gt;{item}&amp;lt;/li&gt;) 이런거 해보셨을겁니다  
이렇게 목록으로 여러 컴포넌트를 생성하는 경우 무조건 &lt;/code&gt;key&lt;code class=&quot;language-text&quot;&gt;속성이 명시되어야 합니다  
알겠는데,&lt;/code&gt;key`는 그래서 뭘까요?&lt;/p&gt;
&lt;p&gt;이름에서 짐작 가능하듯이, &lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt;는 &lt;strong&gt;컴포넌트의 각 인스턴스를 구별하는 식별자&lt;/strong&gt;입니다&lt;br&gt;
사실 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Foo /&gt;&lt;/code&gt;같은거 여러번 써놓으면, 같은 함수 컴포넌트에서 찍어냈지만&lt;br&gt;
각기 다른 인스턴스입니다. 상태값 같은 것들도 당연히 따로 갖고요&lt;br&gt;
같은 설계도로 찍은 다른 결과물이라는 뜻인데&lt;br&gt;
따라서 목록으로 찍어낼 때 이 각 인스턴스들을 구별하기 위한 &lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt;를 넣는 것입니다&lt;/p&gt;
&lt;p&gt;이 &lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt;는 또한, &lt;strong&gt;어떤 값이 바뀌면 해당 컴포넌트를 재삽입(다시 마운트)하고 싶을 때&lt;/strong&gt; 사용해볼 수 있습니다&lt;br&gt;
예를 들어, 어떤 &lt;code class=&quot;language-text&quot;&gt;value&lt;/code&gt;값이 변경되었다면, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Foo /&gt;&lt;/code&gt; 컴포넌트를, 리렌더링 수준이 아니라 갈아끼우고 싶습니다&lt;br&gt;
이런 경우 내부에서 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;를 쓸 수도 있겠지만, 간단히 &lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt;를 이용하면 해결됩니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Foo key={value} /&gt;&lt;/code&gt; 이렇게요&lt;/p&gt;
&lt;h2 id=&quot;state-scheduling-그리고-state-batching&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#state-scheduling-%EA%B7%B8%EB%A6%AC%EA%B3%A0-state-batching&quot; aria-label=&quot;state scheduling 그리고 state batching permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;State Scheduling, 그리고 State Batching&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt;훅에서 나오는 &lt;code class=&quot;language-text&quot;&gt;setState()&lt;/code&gt;함수는 &lt;strong&gt;비동기적&lt;/strong&gt;입니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;setState()&lt;/code&gt; 상태변화 함수를 만나는 순간! 함수컴포넌트 재실행!!&lt;br&gt;
이게 아니고, 상태 변화를 &lt;strong&gt;예약&lt;/strong&gt;할 뿐입니다&lt;/p&gt;
&lt;p&gt;그래서 아래같은 코드는 생각한 대로 흘러가지 않습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//원래 value값을 0으로 시작했다고 할 때&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//1?&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//2?&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;음.. 아마 결과는 1일걸요?&lt;br&gt;
value+1이 연달아 일어나게 하려면 &lt;code class=&quot;language-text&quot;&gt;setValue(prev =&gt; prev+1)&lt;/code&gt;같이 상태변화함수로 해야합니다&lt;/p&gt;
&lt;p&gt;확실한건, 첫 번째 &lt;code class=&quot;language-text&quot;&gt;setValue(value+1)&lt;/code&gt; 줄 직후에 &lt;code class=&quot;language-text&quot;&gt;value&lt;/code&gt;는 업데이트되지 않습니다&lt;br&gt;
언급했듯이 &lt;code class=&quot;language-text&quot;&gt;setValue()&lt;/code&gt;를 만난다고 해서 그 자리에서 바로 상태 값을 변경하지 않기 때문입니다&lt;br&gt;
그렇게 하는 대신, React는 &lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt;들을 긁어다가, 한 번에 처리합니다&lt;/p&gt;
&lt;p&gt;이렇게 상태 업데이트를 모아서 한 번에 처리하는 것을 &lt;strong&gt;State Batching&lt;/strong&gt;이라고 합니다&lt;br&gt;
이는 .. 함수 내의? 상태변화를 모두 모아서 처리한다고 해야할 것 같네요&lt;br&gt;
공식문서에는 아래처럼 말합니다&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;React waits until &lt;em&gt;all&lt;/em&gt; code in the event handlers has run before processing your state updates.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;그리고 재미있는 것은, &lt;a href=&quot;https://yozm.wishket.com/magazine/detail/2493/&quot;&gt;여기&lt;/a&gt;에서 말하는 바와 같이&lt;br&gt;
React 17까지는 이 상태 배칭에 문제가 있었습니다&lt;br&gt;
Promise나 setTimeout같이, 콜백으로 넘어가고 나면 이를 기다리지 않았기 떄문인데..&lt;br&gt;
이후로는 그러한 경우까지 모두 커버되도록 해결되었다고 하네요&lt;/p&gt;
&lt;h2 id=&quot;millionjs-패키지&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#millionjs-%ED%8C%A8%ED%82%A4%EC%A7%80&quot; aria-label=&quot;millionjs 패키지 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;MillionJS 패키지&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://million.dev/&quot;&gt;millionjs&lt;/a&gt;는 리액트 성능 최적화를 위한 패키지인데&lt;br&gt;
그냥 &lt;code class=&quot;language-text&quot;&gt;npm install million&lt;/code&gt;으로 설치하고, config파일에 적용해준 다음에&lt;br&gt;
매뉴얼 따라서 실행해보면, cli에 &lt;code class=&quot;language-text&quot;&gt;&quot;~~컴포넌트가 n% 빨라졌어요&quot;&lt;/code&gt;같은게 뜹니다&lt;br&gt;
내부적으로 Virtual DOM 업데이트를 최적화해주고, 다른 어쩌구저쩌구가 많은가본데&lt;br&gt;
재밌어서 가져와봤습니다&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;이만 마칩니다&lt;br&gt;
.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[96년차 개발자도 몰랐던 리액트 잡기술 (1)]]></title><description><![CDATA[! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다. 96년전인 1928년에는 IBM…]]></description><link>https://sungpaks.github.io/til/react-life-hacks-1/</link><guid isPermaLink="false">https://sungpaks.github.io/til/react-life-hacks-1/</guid><pubDate>Tue, 10 Sep 2024 20:26:04 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;96년전인 1928년에는 IBM에서 &lt;a href=&quot;https://namu.wiki/w/%EC%B2%9C%EA%B3%B5%20%EC%B9%B4%EB%93%9C&quot;&gt;천공카드&lt;/a&gt;라는 것을 표준화했습니다&lt;br&gt;
인생 경험이 많으신 교수님들께서는 이 천공카드로 코딩하시던 시절을 가끔 말씀하시는데.. 아무튼
천공카드에 구멍뚫고 전산실에 제출하여 코딩하시던 96년차 개발자 대신&lt;br&gt;
0년차? 개발자인 제가 왔습니다&lt;/p&gt;
&lt;h1 id=&quot;jsx-컴포넌트도-값임&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#jsx-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%8F%84-%EA%B0%92%EC%9E%84&quot; aria-label=&quot;jsx 컴포넌트도 값임 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JSX 컴포넌트도 값임&lt;/h1&gt;
&lt;p&gt;JSX 컴포넌트 뭉티기들을 값으로 취급할 수 있습니다.&lt;br&gt;
그럼 변수로 넣든, props로 넘기든, 할 수 있겠죠?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; header &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;hello~&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;header&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
				&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;contents here...&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;변수에 jsx를 조건부로 담아서 동적인 화면을 보여주든지,&lt;br&gt;
props에 넘겨서 뭔가 재사용 컴포넌트같은 것을 만들든지,&lt;br&gt;
그래볼 수 있겠습니다.&lt;/p&gt;
&lt;h1 id=&quot;컴포넌트-타입-동적으로-정하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%ED%83%80%EC%9E%85-%EB%8F%99%EC%A0%81%EC%9C%BC%EB%A1%9C-%EC%A0%95%ED%95%98%EA%B8%B0&quot; aria-label=&quot;컴포넌트 타입 동적으로 정하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;컴포넌트 타입 동적으로 정하기&lt;/h1&gt;
&lt;p&gt;제가 &lt;code class=&quot;language-text&quot;&gt;Tabs&lt;/code&gt; 라는 재사용컴포넌트를 만들고 싶은데요..&lt;br&gt;
버튼이 여럿 있고 이걸 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;menu&gt;&lt;/code&gt;같은 것으로 감싼 형태입니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Tabs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; children&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; buttons &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;menu&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
				&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;buttons&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;menu&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대충 이런식으로 만들려고 해요&lt;br&gt;
근데 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;div&gt;&lt;/code&gt;로 감싸고 싶으면 우뜨카죠? div버전을 따로 만들까요?&lt;br&gt;
놉. 아래처럼 가능.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Tabs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; children&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; buttons&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; buttonsContainer &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ButtonsConatiner &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; buttonsContainer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ButtonsContainer&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
				&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;buttons&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ButtonsContainer&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 &lt;code class=&quot;language-text&quot;&gt;buttonsContainer&lt;/code&gt;라는 것을 props로 받아오게 하고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Tabs&gt;&lt;/code&gt;컴포넌트 렌더링할 때 &lt;code class=&quot;language-text&quot;&gt;buttonsContainer=&quot;menu&quot;&lt;/code&gt;처럼 props를 넘기면 됩니다&lt;br&gt;
주의 : html요소면 그냥 문자열(&quot;div&quot;,&quot;menu&quot;, ..)이고, jsx컴포넌트면 &lt;code class=&quot;language-text&quot;&gt;{Component}&lt;/code&gt; 이렇게.&lt;br&gt;
그리고, Tabs 내에서 &lt;code class=&quot;language-text&quot;&gt;buttonsContainer&lt;/code&gt;를 props로 받았다고 그대로 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;buttonsContainer&gt;&lt;/code&gt; 해버리면&lt;br&gt;
이게 소문자라서 html 요소인 줄 압니다.&lt;br&gt;
따라서 &lt;code class=&quot;language-text&quot;&gt;const ButtonsContainer = buttonsContainer&lt;/code&gt;처럼(위에서 했듯이) 따로 매핑하등가&lt;br&gt;
또는 그냥 처음부터 props이름을 &lt;code class=&quot;language-text&quot;&gt;ButtonsContainer&lt;/code&gt;라고 하면 바로 쓸 수 있읍니다. 그냥 이렇게 하는게 편하긴함&lt;/p&gt;
&lt;h1 id=&quot;props-영역전개&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#props-%EC%98%81%EC%97%AD%EC%A0%84%EA%B0%9C&quot; aria-label=&quot;props 영역전개 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;props 영역전개&lt;/h1&gt;
&lt;p&gt;재사용컴포넌트 만들거나 아무튼 뭐뭐할때 가끔&lt;br&gt;
props로 준 attribute값들을 다시 안쪽에서 안 넣어주면&lt;br&gt;
당연히 동작하지 않는데&lt;br&gt;
예를 들어&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Foo onClick={handleClick} disable&gt;&lt;/code&gt;이런거 쓰면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;도 props로 받고 등록 &lt;code class=&quot;language-text&quot;&gt;disable&lt;/code&gt;도 props로 받고 등록, ...&lt;br&gt;
하지 않아도 됩니다 사실&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; children&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;props &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
			&lt;span class=&quot;token spread&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;걍 이렇게 하면 됨.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;...&lt;/code&gt;(spread operator)는 잘 쓰면 이렇게 편합니다&lt;/p&gt;
&lt;h1 id=&quot;react-developer-tools&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#react-developer-tools&quot; aria-label=&quot;react developer tools permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;React Developer Tools&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 441px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a67fe7f944d2c5e71df6c66a70f229fc/efc6e/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 38.60759493670886%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABdElEQVR42qWRu2obQRSG911SpEiXF0k6FwE/QMqQIkUgxl06F8YY8gxCaiRhIalSL7CRbASWtDt7mb1Je9FmVyu0X3bHjXODQA78zPn/w/nnnBltPB7T7fV5uL+niaqq+J/QXr95x8uT93z6cs7q8ZH5fI7neUgpsW2b6XSKZVmKLxYLpTW567oIIZjNZvi+r2pZlqG9envKi9OPfPh8Vk85p93p0Ov1uLkZcHt3x2g0pt/vMxwO6Xa7tNttWq0Wg8EAx3GYTCaq3qn71us12tX1N75eXDKqG/688s/8eDwq/HVlmXrERUJWfieKU5aGhXA81m6BF5XIbYkZ5KRZ0dymzKpn53MoQ3PjkBY70nxHXuwJNhFusGWzq0jyJ2x3B4r94d8+RboSYRroQkdYBkHosz/sMcSq5jqONAk3PmVZkiQJcRyTpqnKwzD8bX3NqM1W+grd1FnqS2xp15PmSmtqwjEJtqHSoihSaMwa0yb/9c1/ACl2Txg2ttPsAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;React Dev Tools&quot;
        title=&quot;&quot;
        src=&quot;/static/a67fe7f944d2c5e71df6c66a70f229fc/efc6e/image.png&quot;
        srcset=&quot;/static/a67fe7f944d2c5e71df6c66a70f229fc/c26ae/image.png 158w,
/static/a67fe7f944d2c5e71df6c66a70f229fc/6bdcf/image.png 315w,
/static/a67fe7f944d2c5e71df6c66a70f229fc/efc6e/image.png 441w&quot;
        sizes=&quot;(max-width: 441px) 100vw, 441px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 확장프로그램 진짜 물건입니다. 이미 유명하고 저만 몰랐던거같음&lt;br&gt;
이거 깔아서 리액트로 빌드된 웹페이지 가서 켜보면&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 296px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/56b30928c217aa6c905fa8e2bfff43ca/b1a44/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 129.1139240506329%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAA7DAAAOwwHHb6hkAAADjElEQVR42pVVa3PbNhDU//9H/ZZM+6XOxKmbymlkiZRIiqT4JkEQfGq7B8evVHbG0GAokofF3u0euPr6zcF64+HPz/9g44Y4hBX+2iS42WbYBQU+39xiezjBiyvsb9fY8f/+yyc4jo87L8WH36+w9RLGxLi9O2DlRyWSvCbYEcdUY+1P+LA2+LjWuLrr4IUZVDfCjIAO92iUgTpFaGqNUg1w9gHqtkdaGQSJwuraHfDbjcEuNmRXwCXDMDe4Xjv44+pvyOiNJlCD1vTohwH342zn+Xy2dxU3ioseq1u3xMfrA/ZRA6V7DNOCbljQdgOSrLDBRXaC73uIwiOyPMfz8QCodMc5YNXUJTz3DoG/R13X9uW8LPbamQ7LMmOcJmitoVSNYZxwaRjGToxbzfOM4HjEwfMRRRFcx0Ga3bNoW00GZNu2SJKUDH1opn1pdF1nN17JzTQYfNlpbMMOvrdHfEoxzYsNWpiSblrkeUEhGnRM7bGEPwFahkopBmlbv6/rf7H5/h3bnUvA2S5emL5WGlmWIUsL6La7yFATcBhHrPq+ZzoJkhP95bo4/khfmNVVBSmJqql8HKOoCjJNLfg0zS9EccMa+1hjJQxiBh8OB4RhiDRNEUaxXWCMsQx7XkuCN02FssxQFAU3Wl6qTOb9MN6LIkBBEFhRxB6nJLUpSzlkQUP1o2NEZqlV/jVRBnp0JQusukxXUhFgm/JytoDCUAJF6ZbmHsfhVUApn2UoKcuUWgrbKE5sSgIiG1ZVDf/gMYabMQPZ6GehLzKU+jn0oa0hNxJAYWjovZqgWivbgiPVfDVl8Y4oK/NEhq7r0OihZaiEIX9VUfJZgJDPn3r5jRqKasJSqdamHZ0S2gYWUBhaT3KBCCIlehPw0st5Odv6WJX5a6oG+42LMDjCDzxaqH5hmf8Byovnc57liieV+wGmM3ZB1917810MJd4ybJTVsuSR5XkHmt/FKS0vtTIFE9u8mvJDkLZsRnZAy/+mN9ZrA+/lmaht+uHptJFe/hWgMKnyDC4ZRnFIn/KgjUIrXsB6Os7+sU2nh+PrTYY8D03LBe1Iy/T2BJLF8m545sfH4+tXgFKtcNcg5KciLdhJHv1Ihj7b8+GEfxfgcmbHVCNU2bFLFKqyeOyUB1e8m2HktIjdCnmR2W9Px5TvAfE+hlKrlCdQXuYoyCxnCxZlxVMpZ99nT5MxRVlaR/wHhEvWWokL3SsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;개발자 도구 확장팩이 생김&quot;
        title=&quot;&quot;
        src=&quot;/static/56b30928c217aa6c905fa8e2bfff43ca/b1a44/image-1.png&quot;
        srcset=&quot;/static/56b30928c217aa6c905fa8e2bfff43ca/c26ae/image-1.png 158w,
/static/56b30928c217aa6c905fa8e2bfff43ca/b1a44/image-1.png 296w&quot;
        sizes=&quot;(max-width: 296px) 100vw, 296px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;개발자 도구에 이런 Components와 Profiler 탭이 생깁니다&lt;br&gt;
저는 velog에서 켜봤어요 ㅋㅋㅋ&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 513px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/49aa52fff821d1ca5976dca5515840b8/267f6/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 93.67088607594937%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABd0lEQVR42q1Ua2+DMAzk//+2SdvXfai6qa06IDwCeYdws9NNatdKXaGWTgSUHGef4+LzUONjX+MoRnpWENJi/9XS+4BjPdC6wXZn8fqu8LKxeNtaHIRBWws0ZYVWtNjsStovUbYKhZQSaU5QSkEOEl3fYxxHNE0D6xw4pjRnpMRr0HPGPF+jaTsURjmowWHoLSRhmqaMGGPedDd+yDi01ii8i1Cjh7MRRof/kVxxns4IIVCwGu8jnhGOSlSQ4Ew4p3k1ofceBS9CoJoRnkbINQj+ZAIZvqiOF4Q5fzJFkzlsjBr8ohJcEHKbNJVG31iIUkOrsI6QEoUldWPvs8JR+rWE9MEFukqGmtyhE5bqOq0jZDNinM40r1T4q9L1Ml9H2RpUlcUwBPpRwj3zbxKyu0ZHeBuQrKGhETOMoTse58cJuW4xpEW9eJswRJp1Ort9NlCWE/Ks4yb3jlNMWS0eIUw0Nc/BqRrjcpPLzsKagL97boHP8Tz8Bs9m25WcRKoqAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Components&quot;
        title=&quot;&quot;
        src=&quot;/static/49aa52fff821d1ca5976dca5515840b8/267f6/image-2.png&quot;
        srcset=&quot;/static/49aa52fff821d1ca5976dca5515840b8/c26ae/image-2.png 158w,
/static/49aa52fff821d1ca5976dca5515840b8/6bdcf/image-2.png 315w,
/static/49aa52fff821d1ca5976dca5515840b8/267f6/image-2.png 513w&quot;
        sizes=&quot;(max-width: 513px) 100vw, 513px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이런 식으로 컴포넌트 트리 구조도 확인해볼 수 있고&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 523px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b7e16bf332f2ba09c7c1ffe83a302da5/3e286/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 113.29113924050634%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACKklEQVR42qVUyY7UMBDNXwIXblw5cOLK53ADCTFISPwDXzGd7o6TeIm3OI9X7gTQoBHJTClP5Xgp1/LKzZuvGS8+Zbz6vB8vuf/1lxnvvie8vYv48MPi/bcOH39qNCYW2LQchvYFbZ9x0YKAU28wGocmlwX8DiPlghhniCxLVfAhoCnb30GRYzHMmGyCdzcEMTiGAh0XjGE/Bobb2YxRzhFy3mRAaYYc0oyYF4awIM/7IOF6hps4ngnnI4zzcBM91LTaK80Fycey4pi4acKoDXLKaJTqcb1eV4NbfpbDEEdKKWj6YWC1EjLDCCHD+8yFpSZ9L2inGp0kZHFXvDRmQqDhGOJ649OkmWiwPV9xfx9wObNyI0CnK5QCeuq+/4M6Rwzr/7avu6KebYSMWltOzvSSFNCkgIBj2SD/25z+C8bIGn5r2escDQ7jUBnOTDDUcpzgKytCDMwheah5RdcpWOuJWAsjLRUIKVTaNPl6W8t1/LAw81wqGuuYw7aFHh1Op5HGLWlkqlbKMq/6NncxnKfm2JrweFG89zzQQQiulKte1EBWft0oRJSHvHvM4OTpxYVJdfX2iW30HKkeVoOstNaevVqeZ1C6ZCCZpCjj4PFcqa3XtmdyaGJFMyuaWMVUdc65jjfs6enGWKmmYg6HatSRnZovh9BpJFsHtoMmcyWK/7VkpY1slPab81xfXEHK6Un97H245VAYbq2tnhl6Jg9GKfM/T9meHP4C64r+xPFWg9sAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;하나 클릭하면&quot;
        title=&quot;&quot;
        src=&quot;/static/b7e16bf332f2ba09c7c1ffe83a302da5/3e286/image-3.png&quot;
        srcset=&quot;/static/b7e16bf332f2ba09c7c1ffe83a302da5/c26ae/image-3.png 158w,
/static/b7e16bf332f2ba09c7c1ffe83a302da5/6bdcf/image-3.png 315w,
/static/b7e16bf332f2ba09c7c1ffe83a302da5/3e286/image-3.png 523w&quot;
        sizes=&quot;(max-width: 523px) 100vw, 523px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;컴포넌트 클릭하면 밑에 props나 hooks, 이런것들 막 볼 수 있습니다&lt;br&gt;
디버깅 진짜 개쉬워짐;;&lt;/p&gt;
&lt;p&gt;Profiler는 개발모드나 뭐시기뭐시기 아니면 켜볼 수 없는 것 같네요&lt;br&gt;
벨로그의 Profiler는 훔쳐보지 못했습니다...&lt;br&gt;
아무튼 Profiler에도 막..&lt;br&gt;
상호작용했을 때 컴포넌트의 리렌더링이 뭐뭐 일어나는지, 몇 초나 일어나는지,&lt;br&gt;
왜 일어났는지, 이런걸 볼 수 있습니다&lt;br&gt;
귀찮아서 사진은 생략할게요. 직접 써보시면 좋겠습니다&lt;/p&gt;
&lt;h1 id=&quot;ref-활용하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ref-%ED%99%9C%EC%9A%A9%ED%95%98%EA%B8%B0&quot; aria-label=&quot;ref 활용하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ref 활용하기&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://sungpaks.github.io/react-hooks-guide-with-examples/#ref-hooks&quot;&gt;useRef 훅&lt;/a&gt;에 대한 글은 이전에 쓴 적이 있는데&lt;br&gt;
참조(&lt;code class=&quot;language-text&quot;&gt;ref&lt;/code&gt;)란 그 변화가 리렌더링에 추적되지 않는, 깍두기같은 친구였습니다&lt;br&gt;
이 ref로는 할 수 있는게 꽤 많은데&lt;/p&gt;
&lt;h2 id=&quot;html-요소에-연걸하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#html-%EC%9A%94%EC%86%8C%EC%97%90-%EC%97%B0%EA%B1%B8%ED%95%98%EA%B8%B0&quot; aria-label=&quot;html 요소에 연걸하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;HTML 요소에 연걸하기&lt;/h2&gt;
&lt;p&gt;HTML요소를 참조로 참조할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MyInput&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ref&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;handleClick&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ref&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;ref&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onChange&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;handleClick&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;제출&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런식으로, attribute에 &lt;code class=&quot;language-text&quot;&gt;ref={ref}&lt;/code&gt;처럼 넘겨주면, 얘네가 마운트된 후에 &lt;code class=&quot;language-text&quot;&gt;ref&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;input&gt;&lt;/code&gt;요소를 참조하게 됩니다&lt;br&gt;
그럼 &lt;code class=&quot;language-text&quot;&gt;ref.current&lt;/code&gt;는 마치 &lt;code class=&quot;language-text&quot;&gt;getElementById()&lt;/code&gt;같은 DOM조작 함수로 얻어온 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;input&gt;&lt;/code&gt;처럼 쓸 수 있게됩니다&lt;br&gt;
그래서 &lt;code class=&quot;language-text&quot;&gt;ref.current.value&lt;/code&gt;라고 쓰면 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;input&gt;&lt;/code&gt;에 입력된 값을 가져올 수 있는 거십니다&lt;/p&gt;
&lt;p&gt;이렇게 하면 기존에 입력란에 했던 리액트 국룰과는 다르게 할 수 있어요&lt;br&gt;
보통은 useState로 아래처럼 &lt;strong&gt;양방향 바인딩&lt;/strong&gt;을 하곤 합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MyInput&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setValue&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;handleClick&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onChange&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;handleClick&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;제출&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대충 이렇게 되겠죠?&lt;br&gt;
이렇게 하면 사실 한 글자 한 글자가 리렌더링인데&lt;br&gt;
위에서 ref로 했듯이 저렇게 하면 그렇지 않습니다&lt;br&gt;
ref는 리렌더링을 유발하지 않는 깍두기니깐요~&lt;/p&gt;
&lt;p&gt;입력을 제출하고 나면 초기화하고 싶은 경우 그러면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;ref.current.value = &apos;&apos;&lt;/code&gt; 이렇게 쓸 수도 있긴 하겠는데&lt;br&gt;
사실 리액트는 이렇게 명령적인 코드보다는 &lt;strong&gt;선언적인 구조&lt;/strong&gt;를 가지는 패러다임이 목적입니다&lt;br&gt;
&lt;strong&gt;DOM 변화는 React에게 전담&lt;/strong&gt;하고, 직접적인 DOM 조작은 지양하려는 것인데&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;ref&lt;/code&gt;에서 읽어오는 것 까지는 괜찮다 봐도,&lt;br&gt;
저런 명령적인 초기화는 조금 패러다임을 어기는 셈이 되겠네요&lt;/p&gt;
&lt;p&gt;뭐 어쩌란건지 .. 라고 하실 수 있지만&lt;br&gt;
아무튼 양방향 바인딩이든, ref써서 하든, 상황과 목적에 맞게 쓰라는 셈이 되겠네요~&lt;/p&gt;
&lt;h2 id=&quot;값을-소중히-갖고-있기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%92%EC%9D%84-%EC%86%8C%EC%A4%91%ED%9E%88-%EA%B0%96%EA%B3%A0-%EC%9E%88%EA%B8%B0&quot; aria-label=&quot;값을 소중히 갖고 있기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;값을 소중히 갖고 있기&lt;/h2&gt;
&lt;p&gt;아시다시피 &lt;code class=&quot;language-text&quot;&gt;useRef&lt;/code&gt;에 담은 값은 리액트에서 소중하게 다루므로&lt;br&gt;
상태값의 변화로 인해 리렌더링될 때도 값이 잘 유지됩니다.&lt;br&gt;
이런 특성을 이용해서 보통 타이머같은거 만들어야 할 때&lt;br&gt;
5초 뒤에 타이머를 제거하고 싶다? 그러면 이 타이머의 id를 갖고 있어야 &lt;code class=&quot;language-text&quot;&gt;clearTimeout(id)&lt;/code&gt;같은 것을 할 텐데요&lt;br&gt;
이런 값을 보관하기에도 좋습니다.&lt;br&gt;
이런 값은 리렌더링을 유발하지도 않을거고, 상태변화가 있어도 아랑곳하지 않을 깍두기라서요&lt;/p&gt;
&lt;p&gt;그래서 &lt;code class=&quot;language-text&quot;&gt;ref.current = setTimeout()&lt;/code&gt;처럼 썼다가&lt;br&gt;
나중에 적당히 &lt;code class=&quot;language-text&quot;&gt;clearTimeout(ref.current)&lt;/code&gt;해주면 타이머가 지워집니다&lt;/p&gt;
&lt;h2 id=&quot;모달-만들기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%AA%A8%EB%8B%AC-%EB%A7%8C%EB%93%A4%EA%B8%B0&quot; aria-label=&quot;모달 만들기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;모달 만들기&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;dialog&gt;&lt;/code&gt;로 편하게 모달을 만들 수 있는데&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dialog&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      HI
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;form&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;dialog&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;form&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dialog&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대충 이런 식입니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;dialog&gt;&lt;/code&gt;는 기본이 hidden이라 &lt;code class=&quot;language-text&quot;&gt;open&lt;/code&gt; attribute로 열어줄 수 있구요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;form method=&quot;dialog&quot;&gt;&lt;/code&gt; 밑에 버튼만 똭 달아주면 자동으로 모달을 닫는 버튼이 됩니다&lt;/p&gt;
&lt;p&gt;음.. 근데 응당 모달이라면 배경이 흐려지면 좋겠는데요&lt;br&gt;
이건 내장 &lt;code class=&quot;language-text&quot;&gt;backdrop&lt;/code&gt;요소가 존재하는데&lt;br&gt;
지금은 &lt;code class=&quot;language-text&quot;&gt;open&lt;/code&gt; attribute로 강제로 열었기 때문에 활성화되지 않습니다&lt;br&gt;
대신에, dialog DOM 객체의 &lt;code class=&quot;language-text&quot;&gt;.showModal()&lt;/code&gt;을 부르면 이 때 활성화됩니다&lt;br&gt;
그럼 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Modal ref={ref}&gt;&lt;/code&gt; 이런 식으로 전달해서, 모달 컴포넌트에서는 &lt;code class=&quot;language-text&quot;&gt;ref&lt;/code&gt;를 props로 받고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;ref.current.showModal()&lt;/code&gt;해주면 되지 않을까요?&lt;/p&gt;
&lt;p&gt;그런데 &lt;strong&gt;ref는 props로 전달할 수 없습니다&lt;/strong&gt;!! 예약어처럼요
그럼 어떻게 하느냐,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;forwardRef()&lt;/code&gt;라는 함수로 참조전달해야합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Modal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;forwardRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;props &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ref&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;네 이렇게 감싸주시면 됩니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;ref&lt;/code&gt;는 props 다음 두 번째 인자로 들어오니 받아주시면 됩니다&lt;/p&gt;
&lt;p&gt;그리고 이렇게 &lt;code class=&quot;language-text&quot;&gt;forwardRef&lt;/code&gt;로 참조전달했을 때, &lt;code class=&quot;language-text&quot;&gt;useImperativeHandle()&lt;/code&gt;이라는 함수를 또 사용해볼 수 있습니다&lt;br&gt;
이건 참조전달을 받는 함수형 컴포넌트에서&lt;br&gt;
바깥쪽(참조를 전달한 쪽)에서 그 참조를 가지고 할 수 있는 동작을 정의하는 것인데요&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useImperative()&lt;/code&gt;는 첫 번째 인자로는 &lt;code class=&quot;language-text&quot;&gt;ref&lt;/code&gt;를, 두 번째 인자로는 객체를 뱉는 함수를 받습니다&lt;br&gt;
백문이불여일견. 아래와 같이 생겨먹습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Modal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;forwardRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ref&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; dialog &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;useImperativeHandle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ref&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;open&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			dialog&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;showModal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dialog&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;dialog&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dialog&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게, 내부에서는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;dialog ref={dialog}&gt;&lt;/code&gt; 이렇게 HTML요소에 연결할 참조를 만들어주고,&lt;br&gt;
바깥에서 받아온 &lt;code class=&quot;language-text&quot;&gt;ref&lt;/code&gt; 참조에게는 명령형 핸들러?메서드?같은 것을 만들어줍니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;ref.current.open()&lt;/code&gt;처럼 쓸 수 있게 expose(노출)시키는거죠&lt;/p&gt;
&lt;p&gt;그럼 바깥에서는, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Modal ref={ref}&gt;&lt;/code&gt;와 같이 평소처럼 ref를 연결하고&lt;br&gt;
그 ref에 대해서는, 모달을 열고 싶으면 &lt;code class=&quot;language-text&quot;&gt;ref.current.open()&lt;/code&gt;으로 열어주면 됩니다&lt;/p&gt;
&lt;p&gt;사실 &lt;code class=&quot;language-text&quot;&gt;useImperativeHandle()&lt;/code&gt;로 명령적 핸들러를 노춣시켜줄 필요 없이&lt;br&gt;
참조전달로 받은 &lt;code class=&quot;language-text&quot;&gt;ref&lt;/code&gt;를 바로 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;dialog ref={ref}&gt;&lt;/code&gt;로 꽂아넣고,&lt;br&gt;
참조를 전달한 바깥쪽에서 &lt;code class=&quot;language-text&quot;&gt;ref.current.showModal()&lt;/code&gt;이렇게 하면 되는게 아니냐? 하실 수 있는데&lt;br&gt;
지금 우리가 이 모달 컴포넌트를 직접 작업했기 때문에 그렇게 하면 된다는 사실을 아는것입니다.&lt;br&gt;
사실 다른 사람이 짜 놓은 코드면, 저 한줄이면 되는게 맞는지, 더 뭔가 해야하는게 있는지,&lt;br&gt;
심지어는 이게 &lt;code class=&quot;language-text&quot;&gt;showModal()&lt;/code&gt;을 호출할 수 있는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;dialog&gt;&lt;/code&gt;객체가 맞긴 한지?&lt;br&gt;
를 알 수 없습니다...&lt;br&gt;
따라서 약간, 의존성을 뒤집는 것처럼, 그냥 &lt;code class=&quot;language-text&quot;&gt;.open()&lt;/code&gt;이라는 메뉴를 주문하기만 하면 되게 expose해준것입니다&lt;/p&gt;
&lt;p&gt;이렇게 하면 &lt;code class=&quot;language-text&quot;&gt;open&lt;/code&gt;으로 강제로 연 것이 아닌 &lt;code class=&quot;language-text&quot;&gt;.showModal()&lt;/code&gt;로 자연스럽게 열어줬으니&lt;br&gt;
모달 배경쪽이 흐린 효과를 톡톡히 볼 수 있습니다~&lt;/p&gt;
&lt;h1 id=&quot;portal&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#portal&quot; aria-label=&quot;portal permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Portal&lt;/h1&gt;
&lt;p&gt;저렇게 모달을 만들고 나면&lt;br&gt;
컴포넌트가 얼~~마나 깊은 위치에 존재하건, 그 위치에서 마운트됩니다&lt;br&gt;
시각적으로 상관없을 수도 있지만, 사실&lt;br&gt;
모달같은거는 그 무엇보다 상단에 존재하므로&lt;br&gt;
DOM트리의 가장 위쪽에 존재하는게 어떨까요?&lt;/p&gt;
&lt;p&gt;그래서 Portal이 존재합니다 : &lt;a href=&quot;https://react-ko.dev/reference/react-dom/createPortal&quot;&gt;createPortal 공식 설명&lt;/a&gt;&lt;br&gt;
일단 프로젝트의 최상단 진입점에다가 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;div id=&quot;modal-root&quot;&gt;&lt;/code&gt;같은 요소를 하나 추가해줍시다&lt;br&gt;
여기는 사실상 나루토에서 미나토가 순신술 쓰듯이, 마킹 수리검을 꽂는 셈입니다&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8a5890804b0b76dd8b040015055ddf3c/3684f/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAERElEQVR42h2R61MTVxyG91OFkEBC7rtkL+fsnr1mb1myWZIQTAakMY5QKE5nBAREvNTYtFzEzihDgqMWCkVnhAipCfKh6Qf7J3blzPPlnJnn/b3nHIwQAZczOUcnJBhDVJCOu+AS9BPh3kEfaSTFG+OoVOBGbXE8Bx0zzkOUT0cQ0x8LY3BE5xyVUlicpSIMcc3fd23A0x/39/o9Pb4+b8AXQyBhyLjKAlsDjh5kiEEKD9FEiCGwIIOHyCiBSNcMxMO9AW8QEHzOSsjoO0/vNW+Pd9A3MBT2xYOeqD8Ch9x2Pf6+MI3TmoBFeCrCJdyNLzjgCQ3gAsOkk9A2EpqI8wAXIaWKmWKhUCqwCPb29/VHAn1+L87RpMxiIUAQIozABG/K9x7M07pAqjw7rCU4EKWJGCDHS8WVuZ8e3V1YW1j4vlj0RwYHYkEcfmuKBYlIIBqMiyBdzM7fmWGSCBcB0pMcYkN4JJexX25srleru69evXy+XV1asSzDFwngIBFjhjBPsD9AREmFR3mr9GwRDCsRCo/RCUngnWHr0cryp0/N/YODjx8/dv/t1n5+GoqG/KHAD7cq7i2wAOn+DeELD9prs+sX+8bibU+gn2FheWLy+eZWs9nsdDr13d3j4+Ov/32dmZ3BMCyKRx/fW8pnR7Awz4Qg6acJydYmSzmgCDFArd6/v7W+0To///Lly8XFxZs3b05OTv7pdis3K16fF3Cw+vBB9dEq9u1VZQ7XRNMxb5dHBUO6u7K0vbG1s7NzfrVceXt7++joqNvtvt57fWdmdqJYrJRv1BuvMEJGIKXSqeTcXGW6PDb9462Dw8Nfnlb/ePfu9PTU7dxud+r1hitfXl62O52l5cVsNvP+/fG9tVWMNhTGSvK51Nit66Kj3ZyrtFrnL7aeu0POzs46nYtm82Rz89nbt3ttN6bTWVleatR3D4+PYjyNCXlTGDXUcVsez0gTDmlLa7Un7dbnvcZeq9U6Ozvf3280GrV6Y8uVP7fbO/Xd5cdr0FKiPIlBW2GdJJ/XxbEUn9OVUjo5mZ2vrh789eeHDx9OTk5f/L65vfH4ycPFX2u121NTvC7FRQp3+SZbEspq7nxgSWxOQwWTzWpgVBdKaatcaP7dqtWezd0pT82VhxgyiscAC2ASJTQO5ymM0RFrCtDgSQWytsJnNXHUcItwOdUoOb+t13L5LM6Rct6UxkwkI5waQmkJmIgUaYySKagBoAKo88iWUEaSxwypoBsTtuoYqirpllaZnqzMTvCOnClm1DGTSwushViDxURbcJEykmiJUkZR85o8IosjkpJLimlR0BCUIadwQIZRJg54yijoIMUBAwppHoM6AzWGMyAyOXFYUEcUyRF4k2V1wLvx+lUpleUMpDiybAtJRxRSyAUZDAYUEqq0C0hStEJyBiNYkNUY9irRPUEmVHOKUdBS1zXlKldIcYrNczr9PwhtJb5zgndPAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;순신술&quot;
        title=&quot;&quot;
        src=&quot;/static/8a5890804b0b76dd8b040015055ddf3c/3684f/image-5.png&quot;
        srcset=&quot;/static/8a5890804b0b76dd8b040015055ddf3c/c26ae/image-5.png 158w,
/static/8a5890804b0b76dd8b040015055ddf3c/3684f/image-5.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
만화 [나루토] 중..
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;이제, 컴포넌트에서 리턴하는 jsx코드를 &lt;code class=&quot;language-text&quot;&gt;createPortal()&lt;/code&gt;함수로 감싸 첫 번째 인자로 전달합니다&lt;br&gt;
그리고 두 번째 인자로는, 아까 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;div id=&apos;modal-root&apos;&gt;&lt;/code&gt;(마킹 수리검 꽂은 곳)의 객체를 가져다 넣습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;document.getElementById(&apos;modal-root&apos;)&lt;/code&gt; 이런 식으로 가져오면 되겠죠?&lt;br&gt;
아래처럼 작성한다는 말입니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Modal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;forwardRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createPortal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dialog&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;모달입니다&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dialog&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;modal-root&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 369px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/931a23311b53cc23fa1ba2646555d2c9/e0cdb/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 134.81012658227846%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAE5UlEQVR42o1V2W4cRRSdJ1ASQmQiBYHBwsm49+quXqv3ZaZn7Fm9hNgJjkKCIuUhAgkJibC+ISEQEi+Bzz3c6hlbjgkoD1dV3TN96tx7zz3VM00DQSjgxUMEyRA8HYLFVbcXxQR+MoCmaW8cPYtZSPMKYbWPdHQMKyzQNxlMJ4Tp59CdCKqqQtP114aqXXimfU/fuQPPtpAXLdLmANzmCPwQocNQsdsoHA3MYlDpf8pOH5pc+33s9Fd7rb8N9c4ntL8NXemjtyXG+CAao98cwZg+hdKewjl4Dqs9wXh5jHx2gu36PtR0DCcb0jqCQeHlcr+H7WIfWnMX2+kMW+EAvSsHP6C3+Blv7f+IG/d/xa0nf+PW5y9x89FL3Dj9A+8//hM3H/6OzZOfsHXvBTaOvsfH976DcvIC1+jbGw9+w+bTv3D9+BdcmX+D3vXiM1yrH+Hd5jFuTb/E1uG3XWwfvcBHy6+wOX+O/t2v8eHkGTYGj7ExfIL32i9wk2KjfYp32md4u3yEq+VDXCWMnqEp0Ch3zgyIuERc71MsERW7SLIGWdnCdgUq18RcWCi5jt3AxEHMkLk2zFA2zoeh3IGu7lBT1t2RLbfdCKJeICpniGWDghS6YcC0bFimBcvQuzDpG2bSXjbLsKDoxhpDXwFKWXDHhiBGQjJs9hHmxDAfoBjMwKMCdeBgFjsoPIYJrYcpR+q7MGLSKRHRVGWlw3NREqjtxRAEFpVzJMMjuEEGeaBumDApLP0CQ0OytKARQ7VjuBb2OUPuQBAjQanGg8OOYVqOUI0W8ESNYcixTDgqYjiLOe4VLvKAakcTpl5kuKqhRqAKHC9Z13BKDO+C8YjEvEO/q92hqqqdh9KtapdZFxcZdum6IaJqgSAbw2S8e6fTH3T9LIw3m2V5GrMskoic5yW4FyEfLhCLHPPYpnDQCh/Mjc/T+l9AyVBRVDjU5VjWkFhm7afwogqmqMDjBkk172QkqBQmGYcsgXbJFM72K8CuKTaSYoiQOuxHObLhEnEUk0Q4hChgcoEdzepqJ5nKmqs0EMraNOQq353LRhY4JF8MyP/CYo+mheoZZijzEhF1vPQ5xqGFjLTH/ASaH5M+S4RUc4+0GGS7sGhizgEVRYGIqDH5mABniNIGUT1HLgRmWYSZYDitOHaTAFrYQKdpckheOtXWYg5sHsKgyeldLKhBYyZSOjXfI8AhzTMxDSO0WYxRXaPNM8zSEHXkY1jmmAwaeEEClcDk+L2S8hlL27aJ/ghBPiHgSVdTm8qQzk5h0ZUgzThz6GBbR+0aZMgONNKrJptFZXsFUNZRAvrrmkhNyhq5SQUxOoTfLBFwjtgxEXPWBec+VNvrTEJ2/1+Avh9QqpMVWDHpRtCjS6ucnoAT88RlqH26HnwbU9Jo4HrQ/RQaOdJrGTJGDOnGk+n6BBoVUzhxTQwP4DUL2IwhIO8MmAnXMuiZUrYoDOOS26znOaAmdAypMeEZ02yAanEKTs8l2Vgb2mQWNg5SF1FA9aObUpWglxnKFyaNoU/TIYG8ZNiBW0GOoJnCq6bQybKYoa3sS1qZtDCSi6b/B8Mwijq5dAxJazJ9QTdcM38Alw5pQhdT4WCP4ih3aZpSqKKBujaU3uXhlmYhJ8BPW2pG0zHUydb4YAmbGPa11aiuYiW1lWmsLOwfnSphTXuG4iMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;portal 씀&quot;
        title=&quot;&quot;
        src=&quot;/static/931a23311b53cc23fa1ba2646555d2c9/e0cdb/image-6.png&quot;
        srcset=&quot;/static/931a23311b53cc23fa1ba2646555d2c9/c26ae/image-6.png 158w,
/static/931a23311b53cc23fa1ba2646555d2c9/6bdcf/image-6.png 315w,
/static/931a23311b53cc23fa1ba2646555d2c9/e0cdb/image-6.png 369w&quot;
        sizes=&quot;(max-width: 369px) 100vw, 369px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;원래 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;section id=&quot;challenge&quot;&gt;&lt;/code&gt;와 동급으로 있던 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;dialog&gt;&lt;/code&gt;뭉치들을&lt;br&gt;
portal써서 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;body&gt;&lt;/code&gt;바로 하위의 div까지 텔레포트시켰습니다&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;아.. 힘들어. 여기까지 하고 다음에 더 하겠습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 229px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/300c92e339a4936207c04e4de7e9b4a6/d0281/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 96.20253164556962%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAADo0lEQVR42mP49OnT5cuXr1+/fhkM7t69e+XKlVevXn/98u0/IcDw7t27kydPArWdOXPm1KlTt27dOn361KNHjz9+/PTn9x8gwqf5169fHz58ABrx/v37L1++fPv27fWrV0Duy5cvX7x4AWQAFf39+/cfNsDw9+8foPlAI36DiF9AAmzhbwgCSsIEgaIglUBlMPSbAYhfv3n76fOXL1+//fj5882bd18+fvr95+/de/efP31OwM8vXzw9vGfLiYO7jh3YceLQrgO7Np45euDhrat3Lp+/f+3i5dPHdm1Ye2LvztsXzr1+dPfRrcunj+y5cOLAmWN7b1w5y7B/5wY3fWF/SzkvMyk3QxFPC/mKjKiZ1bmz63Ln1KQvmtQ5a8q09rys+YUZR2Z09xZE+JiKx7iphtlJ1eUEM+zatsFYQcBeT9ZBX8bVUGbbhvWb1i7vK0qYXZ81tyn30sXLV2/c37tzx8UjB8+sX1Gf4htqr5TopRvnotxeHM1wYM9WWz1ZRyMVMzUxJ1PNSzfvrZ43pa8oaWZt9oKOkitXrx3ae2BRf+ftpy+u3riZH+UUZq+U4KEXbqvSkBPOcPTADl8bjSBHAxcjxUBXy0Mnz8zsaphYmjq7LnvZhLprt2/duHX79JnTD5+/vXz1SoqfWYyrRoq3foyzSmtRJMOpI7tjPA3jfS3CnLSjvCz27j8wf+qkogjvxszIRTO6r968+eL127UbNk+fu/D8pXPp/gbZQTqF4caZfppdZdEMF07uL4m2qUp0KYy0LIi23bxq2fyZU/pba/o7GtauW3nk5NELVy5evHZ9/5Hj27aujfdQS/XTSfHTi3FSbC0MZ7h4+kBFnEN1khvQiKIo68pEj1hv4/hQt7y0qPam6q1bN86c0jVlYvu58xd6G4riXFUTPHXjPXUz/TUm1ScwnD2xPyvUNj/KBUimBZol+OgHOmoYKQuqSXOrSfFE+zuHedh4WaqUJnmnBRhmBIJQTrBJmrduZ2kcw4mDO0PsNcJd9Pys1VyNZd1Mpa00hRUFmMTZGcTYGISZQKSFmkCQpXy4jUyEnVy0gwIwniKtpJtzQhke3L25ZGbX8nm9i2d0TO9rmt7X2NtSVl+WU1WQWVWYVVOSXVeW09dSMW9S06LJjUunNq+Y0bZ6TteqGS37Ni5iAKbpO/fu37v/4M7d+2/fvQOm9/9EA4afP368evnyNRC8evX506fPnz/9xgCwLIUCgPmU4T8FAADY/gkGS3tHWQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;햄듭니다&quot;
        title=&quot;&quot;
        src=&quot;/static/300c92e339a4936207c04e4de7e9b4a6/d0281/image-7.png&quot;
        srcset=&quot;/static/300c92e339a4936207c04e4de7e9b4a6/c26ae/image-7.png 158w,
/static/300c92e339a4936207c04e4de7e9b4a6/d0281/image-7.png 229w&quot;
        sizes=&quot;(max-width: 229px) 100vw, 229px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[React에 차트 넣기 개쉬움 (HighCharts)]]></title><description><![CDATA[! 주의 : TIL…]]></description><link>https://sungpaks.github.io/til/introducing-highcharts/</link><guid isPermaLink="false">https://sungpaks.github.io/til/introducing-highcharts/</guid><pubDate>Thu, 05 Sep 2024 21:28:49 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;프론트엔드 작업 시 뭔가 해야 하는 일이 생겼는데&lt;br&gt;
어라? 좀.. 귀찮거나, 어려운데? 싶으면&lt;br&gt;
다 라이브러리가 있습니다.&lt;br&gt;
저는 &lt;a href=&quot;https://www.highcharts.com/docs/getting-started/install-from-npm&quot;&gt;HighCharts&lt;/a&gt;써서 해보겠스니다&lt;/p&gt;
&lt;h1 id=&quot;installation--npm&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#installation--npm&quot; aria-label=&quot;installation  npm permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;installation : npm&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://www.highcharts.com/docs/getting-started/install-from-npm&quot;&gt;사실 위 링크가 설치링크임&lt;/a&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm install highcharts --save&lt;/code&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm install highcharts-react-official --save&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&quot;이제-사용&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%A0%9C-%EC%82%AC%EC%9A%A9&quot; aria-label=&quot;이제 사용 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이제 사용&lt;/h1&gt;
&lt;p&gt;전역에서 가져와봅시다&lt;/p&gt;
&lt;p&gt;먼저 아래와 같이&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;div id=&quot;chart-container&quot;&gt;여기에 차트 표시&amp;lt;/div&gt;&lt;/code&gt;&lt;br&gt;
chart를 담을 컨테이너 div를 생성해주고&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; Highcharts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;highcharts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;highcharts/modules/exporting&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Highcharts&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//highcharts와 module을 load하고,&lt;/span&gt;
Highcharts&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;chart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;chart-container&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/*여기에 옵션이 들어갑니다.*/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//chart를 생성합니다.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 해주면
&lt;img src=&quot;https://i.imgur.com/kxxp5Yk.png&quot; alt=&quot;&quot;&gt;
이렇게 차트 뼈다구가 나옵니다?&lt;/p&gt;
&lt;p&gt;근데 이렇게 vanilla js에서 하는 방법 말고&lt;br&gt;
react에서 하려면&lt;br&gt;
그냥&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; HighchartsReact &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;highcharts-react-official&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Highcharts &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;highcharts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// import로 가져오고&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MyChart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;options&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setOptions&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;chart&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;spline&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	    &lt;span class=&quot;token literal-property property&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;차트입니다?&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;align&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;left&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	    &lt;span class=&quot;token literal-property property&quot;&gt;series&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// 대충 적당히 예제 하나 만들고&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;chart-container&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HighchartsReact&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;highcharts&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Highcharts&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;options&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;//props로 `highcharts={Highcharts}`와 `options={options}` 넣고 렌더링해주기만 하면 된다&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/w4Oetct.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;아주 쉽습니다 ㄷㄷ&lt;/p&gt;
&lt;p&gt;이제 먼가 더 원하는게 생긴다면...&lt;br&gt;
&lt;a href=&quot;https://api.highcharts.com/highcharts/&quot;&gt;역시 공식문서&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;사실 그냥 옵시디언 정리하다가 이런 기록이 있길래 올립니다&lt;/p&gt;
&lt;p&gt;끗&lt;/p&gt;</content:encoded></item><item><title><![CDATA[⛱️ 2024 여름 회고]]></title><description><![CDATA[…]]></description><link>https://sungpaks.github.io/2024-summer-recap/</link><guid isPermaLink="false">https://sungpaks.github.io/2024-summer-recap/</guid><pubDate>Sun, 01 Sep 2024 20:20:17 GMT</pubDate><content:encoded>&lt;p&gt;회고라는 단어 진짜 개발자스러운거같아요&lt;br&gt;
회고라는 그 단어 자체가 주는 이물감이 꽤 있습니다 ㅋㅋ&lt;br&gt;
막상 쓰려면 좀 낯뜨겁기도 하고..&lt;br&gt;
그래도 회고 쓸 결심을 좀 해보기로 했습니다&lt;br&gt;
응당 개발자라면 회고도 써버릇 해줘야.&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2a7cee7651b871b1f1ede0afe5a9df3c/13a9a/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAAC7klEQVR42oWTfUzMARjHf3fX745SKoQLxSZvjaZcfxh5GRszbxsxzNhMwryNeUl3kkqv7vSiu6u7IlNUdDnuJCo5ibzmLa05xAzDjNHs4yebzR/mj++eZ8+eZ3u+3+f5CoIgIHqIqJRKeqiUyGQyftX+B7lMjih6IJfLUSgUKEVRqkmzeksmR47nYCk3Y60wkWFMJSU3ieTsAyTqE9iXpUOXqe1GfEY82ozfeUpOEgbrIYyleZjL8ik8ZSLdmIbwmk7e84aX3924u57xkXe8/fGczm/tvOrqoFOC+2sbz7484cW3Njo+P6LtQyvtnx7y+P19EnNTidm5mayibFrcNxEst2o57Chl4swZjJ6gYWuKFudTFyWuagwnjaxP2M6SLWtZELuaGO02iqqt1N2v4bb7Orkl2QiKnhJtZbcM85ZFIxTcucysZYsRZCoEDy/GaiLZXVnCvLjtqCMjCdRoGDA+At/QMPzHhdM/YgLR8TtJdlSwOS2BwYGD6OHtj0ImEho1BaG1s4WwiDCUPX3w9Q9g+vSp1D+qx37DzlHncYokGO1H0Z+xklphZX+pmaRyC0bXefSWLKKnaRgeNBhROtKmA3EILe2NBA0NRlR50cfXnymTJlJz28mt581cvFeD4+4Fqm6eo7T5PMUuOwWNZzFfqcba5CC/qpglsyehGRlM+NjR6EwGhKsPagkaNlR6GU88vbwZNiKEgsoC6lprsTXZKHed5lhDBaZLleRdPIVe0tvgKCOnphxTvY20MiMrl89l5fpVqENGIjgaK1kxfzLjQ4Lx9uzF1Dkzae64RsPjOpx3ndJ2dk40naXwqo38+jPkN1RxpDvaKL7hZOmmNSxYsYio+XNQefogpBu0LJwWzqhgNQP8fAgNG8OGHevQHdKRXphJmqTTflMmOnMWu6QXiU2JIyZ5D7HJcWw8uJdRkv4DJYZ9B6rx8u4tXVv2bzf4+foR0C8AtdQcNGQIarW62xl/9UnukMtlfxz2ExqL7ZCmNevPAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;회고 쓸 결심&quot;
        title=&quot;&quot;
        src=&quot;/static/2a7cee7651b871b1f1ede0afe5a9df3c/f058b/image-1.png&quot;
        srcset=&quot;/static/2a7cee7651b871b1f1ede0afe5a9df3c/c26ae/image-1.png 158w,
/static/2a7cee7651b871b1f1ede0afe5a9df3c/6bdcf/image-1.png 315w,
/static/2a7cee7651b871b1f1ede0afe5a9df3c/f058b/image-1.png 630w,
/static/2a7cee7651b871b1f1ede0afe5a9df3c/13a9a/image-1.png 637w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
영화 [헤어질 결심]
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;아무튼.. 내일이면 개강인데&lt;br&gt;
저는 마지막 개강입니다. a.k.a. 막학기&lt;br&gt;
그럼 마지막 개강을 앞두고 마지막 방학 간에 뭘 했는지 써보겠습니다&lt;br&gt;
어느정도 시간 순으로 사건들이 정렬되어 있습니다?&lt;/p&gt;
&lt;h2 id=&quot;ossca-오픈소스-컨트리뷰션-아카데미&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ossca-%EC%98%A4%ED%94%88%EC%86%8C%EC%8A%A4-%EC%BB%A8%ED%8A%B8%EB%A6%AC%EB%B7%B0%EC%85%98-%EC%95%84%EC%B9%B4%EB%8D%B0%EB%AF%B8&quot; aria-label=&quot;ossca 오픈소스 컨트리뷰션 아카데미 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;OSSCA (오픈소스 컨트리뷰션 아카데미)&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.oss.kr/contribution_academy&quot;&gt;OSSCA&lt;/a&gt;는 언어, 개발 문화, 시작의 두려움으로 인해 높게만 느껴지던 오픈소스에 대한 진입장벽을 허물고 선배 개발자와 함께 서로의 &apos;컨트리뷰톤&apos;을 응원하며 참여, 오픈, 공유, 협업하는 오픈소스 문화를 직접 경험할 수 있는 멘토링 프로그램입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fb6164208e6601174467d02f87fff856/21b4d/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWElEQVR42nWQS0vDQBSFp3m1iRosCalNJ41JM1PSpCaLtiuxtBCFIiIuXAuVujFNU7oqBRGEoruKa3+r1/QBKp7FcObOnW/OHdTz/cl5dHd2ettuJ1F03+3etFtVVUEIsQyT+0cCz/Mch64Hg8/V6mU+f397fZrN4uHwY7l8XizS6VSSJEBAK7Ol7GAcy3Jw2bSsZhi6ntcMAuq6NUIcSjudThgEGf2HgCWJhUI+D+Z7K4riGr9joz/KZUWWZY80zTarod8gliXvHyDItg4GZ9ChKMp4HMfx4yRJ0jR9GI2SJMkq8dXlpXJYtEyzXrNbwYlRqWxeXk8FRhAESkh9K5J5QqnveWEQlkslYh1Dm4mxY1loL/sVGGATe0v5nZxh4IerGIdeQykWAaEqCiqrKsfztm1TSjVNg9iQBYzjOBhjXddh9X3fMAxZlhuuG/V6F/1+4HlY178AKwE23c4YhB8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;OSSCA&quot;
        title=&quot;&quot;
        src=&quot;/static/fb6164208e6601174467d02f87fff856/f058b/image-2.png&quot;
        srcset=&quot;/static/fb6164208e6601174467d02f87fff856/c26ae/image-2.png 158w,
/static/fb6164208e6601174467d02f87fff856/6bdcf/image-2.png 315w,
/static/fb6164208e6601174467d02f87fff856/f058b/image-2.png 630w,
/static/fb6164208e6601174467d02f87fff856/40601/image-2.png 945w,
/static/fb6164208e6601174467d02f87fff856/78612/image-2.png 1260w,
/static/fb6164208e6601174467d02f87fff856/21b4d/image-2.png 1280w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
OSSCA
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;저는 약 13주 간 활동하는 참여형 프로그램의 Node.js 팀 멘티로 참여하고 있어요&lt;br&gt;
종강하고나서 지원서를 써서, 7월 초쯤 결과가 나오고 발대식이 있었습니다&lt;/p&gt;
&lt;p&gt;오픈소스 프로젝트에 기여하는 일은 안그래도 막막한데&lt;br&gt;
Node.js는 그 규모와 생태계가 넘사라서.. 혼자서는 꿈도 못 꿨을 텐데&lt;br&gt;
멘토님께서 잘 끌어주시고, 멘티님들과 함께하는 덕에 재밌게 활동하고 있습니다&lt;br&gt;
기여 활동에 대한 내용은 &lt;a href=&quot;https://sungpaks.github.io/contributing-nodejs/&quot;&gt;이미 글을 한 번 썼습니다.&lt;/a&gt; 궁금하시면 봐주셍쇼&lt;/p&gt;
&lt;p&gt;여기에서 무엇보다도 좋은 점은.. 보고 배울 능력자분들 천지라는 것입니다&lt;br&gt;
참여가 상대적으로 자율적인 특성이 한 몫 하는지, 현직자분들도 굉장히 많습니다&lt;br&gt;
학생인 분들도, 대단한 포포몬쓰를 보여주시는 분들이 많아서.. 많이 보고 배우는 중입니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 561px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3bc6e61ccbdd463cfe9600e1bef8c127/410f3/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 96.83544303797468%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEH0lEQVR42g2Qa2/aBhhG/QfadU3Vhou5mNpgDCFAYmzMxYDBYHBsbHzB2AZzSyG0FNI22dZka9OLkk5r1arVpqkfpu2HztKr99vR0XOAYqGqaU5PGfUUWxT7smxoumUYI9McW+bEMseC2NtLHXCcoGmmqpmmNW42eYKgpK4CYGi6Vu3QNEuSZZKgs1mKa4uKMmAYLpMhNNVC4DjDHtUbbb4t8J1umxO6PV1SBxRVBKaLMwTeK5QaQle/fP27NVru7+P76VyNqcexPb8vSBXo68/fZ8sty3JPNudtvrt+tvnj2xe6UgNeXf+5ffH6/cd/Lt58ufn87+XbL5dvPp6eX727uRmOp5ks+fLqw8XbTxfvPq22P13dfD3ZnB0vH//6/qOiGcDZ5e/bZ5evrv9arn+5uv42fbS1hsfj49VwMm3zYo3pbJ5fPFquJ87J/Pjp9uyl6TxqtcXxbJGn6sBkslDlEX5YoYji2YszAi8EvHA6lSvT9VyOpotNsSWamq7w6kCyuWYrmaT200SxWIpEcsDQmohty7+LUGRZkfohEIWCyWAAwxL5BFbkGz2+JZJ4QRMGpuKQhMscQpFUIJhAohQg8UaLkUFvFIkk97CDgC8KBePhYAInOBxnxVZPEcwu1zekscIbXV7HsGI4cvgQIZFoAZgM1nSh49+NhsC9EJgIB7AQiEDBBEFyVJ6VO7rZm9vKQhcdVTQZug3DBBqvRGB81wsDU/s0jzd8nlg4sB8CUyEwGQKjkXASQaiDbNXVDqS5JR/3BUfvmkWqDkE4mqiCweSt23eB0WCbTpZ8D6LhgEum3A964aA/hmIV/LCui5YpzwfS1JAm7mwqz0AwHktUQlDmhzv3AMfccKyCRNIBXzwExgPeWDZNUQUOjRXTKYpvSQo/cK/XMfvKyBkt8xQXgckInPP6UaAvz+zBSe6gCnpjUBDze+BMhmRq3IhvLZVO6TCnHFlGd9gXHXsw324vWFaDYSqKltA4DVj6ia2vc1km6HNTobu7wdu3duwO+/Xn1d+Xm5vnT1RhYEgjd7NjLdbr8yarwggVjVEoWgZUaTzsP86kCgF/PAjCd3c8d398sLXV/z68/P7mxYmhmd2RKpjakT2xl8vFKcfpMJJ/GHWbl4Ejrm/3VxiaDfhRvy+ys+O5c+d+FU88nWm/rfrNUl7pmG1GVAXbsZbz2UrgTQTJQw+zMdfcakhWf4UiaRf2eSA3NegBN077fCHbLXIiN1XeKlGMejSYjdfz+bInj5JJmiSZuGuulrmhsYqE3VSx+/dAKIB57oO2WHx/qtdSsfphtscb6T1c7vRV2XJG00ZDQNF8pcrFUAooFxuVcgvDMhAUz2bzkTCayeQtRTyfCjNN4DkxT5SYClsgKjWadUZzptYicqVeT89kyf8BSoQ/jwXKvzUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;어른들 속 나&quot;
        title=&quot;&quot;
        src=&quot;/static/3bc6e61ccbdd463cfe9600e1bef8c127/410f3/image-4.png&quot;
        srcset=&quot;/static/3bc6e61ccbdd463cfe9600e1bef8c127/c26ae/image-4.png 158w,
/static/3bc6e61ccbdd463cfe9600e1bef8c127/6bdcf/image-4.png 315w,
/static/3bc6e61ccbdd463cfe9600e1bef8c127/410f3/image-4.png 561w&quot;
        sizes=&quot;(max-width: 561px) 100vw, 561px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;특히 어느 날에는.. 일정이 되는 분들만 모각코 한번 하자고 모였는데&lt;br&gt;
어라? 저를 포함해 단 둘만.. 나온 ㅋㅋㅋ 날이 있었습니다&lt;br&gt;
근데 오히려 너무 재밌었어요&lt;br&gt;
굉장한 커리어를 갖고 계신.. 대단한 현직자분이셨는데&lt;br&gt;
단 둘이 몇 시간을 떠들며 인생에 너무 도움 될 이야기를 많이 나누었습니다&lt;br&gt;
커리어 이야기와 팁도 많이 얘기해 주시고, 자소서와 포트폴리오도 살펴봐주시고, 조언해주시고, ...&lt;br&gt;
인사이트를 많이 얻었답니다? 시간 가는 줄도 모르게 재밌었구요&lt;br&gt;
사실 이 회고도 &quot;회고 쓰는거 좋은 것 같다&quot;고 하셔서, 써야지 써야지 하다가 쓰는 것입니다 ㅋㅋㅋ&lt;/p&gt;
&lt;p&gt;아무튼 앞으로 한 달? 그 정도 남았는데,&lt;br&gt;
앞으로도 열심히 재밌게 컨트리뷰션 해야겠습니다&lt;/p&gt;
&lt;h2 id=&quot;부스트캠프-챌린지-과정&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B6%80%EC%8A%A4%ED%8A%B8%EC%BA%A0%ED%94%84-%EC%B1%8C%EB%A6%B0%EC%A7%80-%EA%B3%BC%EC%A0%95&quot; aria-label=&quot;부스트캠프 챌린지 과정 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;부스트캠프 챌린지 과정&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://boostcamp.connect.or.kr/&quot;&gt;부스트캠프&lt;/a&gt; 멤버십에 가기 전 단계인, 챌린지 과정을 잠깐 했습니다.&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e23bfa3fa88ba69504295a41f77cf934/6be49/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACPklEQVR42j1Qy07bQBSdp2fG4/iVxMSOY0PC2Hm0JIaWqFQlRgmPSqWkgES7IBKsKrpg2y7bRT+hH9Av7ThUXJ25und0zsy5F2RqO8vzLO9nz6GyfNDvvZtMZ2/3X73OsjxTqoIu/hOU2u4VkzEQ0pFeKswaY4bgjPMqG8wgkgkphO4NKp2WKR3Oqb5mjHJNFrXmRhsARAGAEAJMiC4A1C2q2bbn+vV603Z9xhiEBGIPIAexBuIbWKbITNzWSPOR1iLmC7uz9+a00yt2XpWXVzeL45Plp6vF2eXJ2YeimPTzfrE/Z67CIqRmC7G619wEOpDhQN7Sto8X87KcLZcfV6vVYXlycXV7WJ6eX1zffLk9KsuDw1PKLM3HGOls23Ylhphh2YZYVP4BIqJFnL4G9cfU30W1ETbjajCIsGhBYulvEQ9sL1jb1hqtFxuEu9Tt17J70V7w4ICHMx4eWem5O/5OrAQ+7UYfhAE2vWBbe8AIoacnEITUStzxD2fwINMLM35vD742Dv4Es79ExtqjYXC4Zj7b1q2BqK1Hr/SsIdWdpe4tdWcPH929327xyy1+Voar9VBIhLapB6/E1AyojKgVVzukUjpRMLhu5pcNtQxGq7B4CItv4e6j6cSImFSGa0RYBF49AoB6gLgAO+vsmV43UdN0OO+OFmpyPpx+HuzfbI7mzIoA8SsyrgFia77tb4FO0uskWxpx0u1sjeI0b0dRnPSS7jDpvki6LzubWbsdxWmmC02OK6aGGuxM/wETdkbES90GlQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;부스트캠프 웹 모바일&quot;
        title=&quot;&quot;
        src=&quot;/static/e23bfa3fa88ba69504295a41f77cf934/f058b/image-6.png&quot;
        srcset=&quot;/static/e23bfa3fa88ba69504295a41f77cf934/c26ae/image-6.png 158w,
/static/e23bfa3fa88ba69504295a41f77cf934/6bdcf/image-6.png 315w,
/static/e23bfa3fa88ba69504295a41f77cf934/f058b/image-6.png 630w,
/static/e23bfa3fa88ba69504295a41f77cf934/40601/image-6.png 945w,
/static/e23bfa3fa88ba69504295a41f77cf934/6be49/image-6.png 1160w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
저는 웹풀스택으로 참여했습니다
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;챌린지 과정 시작하기 전에, 학습 기록이나 회고를 남기려고 블로그에 &lt;a href=&quot;https://sungpaks.github.io/til/&quot;&gt;TIL 페이지&lt;/a&gt;를 따로 만들기도 했어요&lt;br&gt;
원래 공부 시작하기 전에 책상정리를 한 번 하듯이 ㅋㅋㅋ&lt;/p&gt;
&lt;p&gt;근데 이거 시작할 때가 진짜 다른 일도 많고 바쁠 때였어서 굉장히 굉장했습니다&lt;br&gt;
멋사 해커톤도 슬슬 다가와서 본격적인 개발에 착수해야 했고&lt;br&gt;
OSSCA 발대식 직후라 Node.js 기여 프로젝트에 참여도 해야 했고&lt;br&gt;
서류 넣었던거 면접도 겹쳤고.. 등등&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e36e0fc4beea157722da55f8c3deba7e/0b533/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.31645569620254%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADi0lEQVR42i2Q609bdRzGf7PL4mVuDJXZsUBi5hInmOGLLS4oYLa5MWQgtOecFmS0lNE6cAgMNqBQOO05p+fW+wV6v6wcetrScmt7zqFMTYwajCZzb3zla9/5F1ijyZMn3zefPM/3AQcqmwTbRZgtIvaC2lFWOSSIFmFagqwSTBYhS0mJCRAmwXgFIXeUNNdzcXFhaqjwp4H/DYgIW4aYitoVa9fNy+tsV7oqKldZaRUgXICJMoSLEH4A4RKMVRAm3+PxdzQ9+Hp6eOsPw9ZzIEKsqKAllYf7oGvx4gXTx3cPYbsAkQJU5Unx/4Oodtn9wpr9qpOffvPh6M0e7/cGlgNFJb2toASNN35dN67QGe88eNbHCP2UAP0rEf7PyVKvM29o+5UHzzPHj6LARKkH6RxgVnM2anvDnEqbU2FyI02lCkQqp2WlKg/TAlQVeaC0Z/rnyjb5UQT8sC77PQV4Z7MCfQFwOmp3b8YZLrsQ23kczRtjBZrjdazYR5UhuqykRYTZ/RzlsURJONxOOoUs/XMMeNFO7eyPwGLhcWsuHinspsT9p+J2eH/TneY1lNhfhSkRoiQVuddNJ79BJK43v7kjiUdJcyPW2bjWfQnQsyw2Y7XZE4QjQnlivlAaZfyRYexAQZYgsqSsTkVt9a1EJ1vTyw2pleZK4Dy/XOu7MVtGaEDhHIkmg0uh+HxwwxjaMSezaDSDYIKCkBC2onZXVN6UYsb58FZ4CXlq7N4iGlJLr/hvDGx0TgOc2rMQ+bAtnqADcWKNd8bT7lj2S/oQcqXvLng7VGjL1ZkLjfrzp1TXLl9paSEnWpnhmuHTYPRtAKy2vNO7Fw3kXZMjDr3SPjFkH4fd0BD+4c378pc1b4GROnDvFBg4DgYu139U9yo61BR+dEb9GtDLjwHUFGApLhbMM4Ntps8alm+/w0LNlq73B2vA/bPAcE6mqQWPP23FR/Uu1JpgbWmsYc9RM9HWeu+MDKzMea3LoUSosI7RfjPhWTSuLc09aW/SvgEM9Se0p8HU9dvf/fTX0Yu/+c39QmQ8QbRHVz/JMe8l508CzJIlqoMRvoDFHbR4I0zUSzj078q1tWBMLhs4CVY1HcXkGOeZKDrPHTpA3nVrHR/bYi79kqz+jGdwUyz0JOx71Bs2XfNPTnlHLIb616vJurPH1DWy4OSJsg2UGPDt2kvPfCDjuJPhCikWCRiv/gOnHLNyCcWYlQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;바빠요&quot;
        title=&quot;&quot;
        src=&quot;/static/e36e0fc4beea157722da55f8c3deba7e/0b533/image-7.png&quot;
        srcset=&quot;/static/e36e0fc4beea157722da55f8c3deba7e/c26ae/image-7.png 158w,
/static/e36e0fc4beea157722da55f8c3deba7e/6bdcf/image-7.png 315w,
/static/e36e0fc4beea157722da55f8c3deba7e/0b533/image-7.png 500w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그래도 매일 피어 리뷰도 하고, 좀 막막해보였던 과제들을 갖고 이리저리 굴려보고, 공부하고, 하니까 꽤 좋았습니다&lt;br&gt;
처음 3일은 아침에 운동도 갔다오고 상쾌하게 시작했는데, 그 후로는 어림도 없었습니다 ㅋㅋㅎ&lt;br&gt;
특히 매일매일 나오는 과제의 주제들이 재밌는게 많았어서, 도움이 많이 됐습니다&lt;br&gt;
자세한 후기는.. &lt;a href=&quot;https://sungpaks.github.io/til/%EB%84%A4%EC%9D%B4%EB%B2%84_%EB%B6%80%EC%8A%A4%ED%8A%B8%EC%BA%A0%ED%94%84_1%EC%A3%BC%EC%B0%A8_%ED%9A%8C%EA%B3%A0/&quot;&gt;1주차 회고&lt;/a&gt;, &lt;a href=&quot;https://sungpaks.github.io/til/%EB%84%A4%EC%9D%B4%EB%B2%84_%EB%B6%80%EC%8A%A4%ED%8A%B8%EC%BA%A0%ED%94%84_2%EC%A3%BC%EC%B0%A8_%ED%9A%8C%EA%B3%A0/&quot;&gt;2주차 회고&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;회고가 2주차로 끝인 것은, 사실 2주차까지만 하고 그만뒀습니다&lt;br&gt;
사실 이 챌린지는 2학기와 딱 겹치는 멤버십 과정에 들어가기 위한 빌드업인데&lt;br&gt;
2학기에 인턴을 하게 되어서..&lt;br&gt;
이에 대해서는 밑에서 더 쓰겠습니다&lt;/p&gt;
&lt;h2 id=&quot;멋쟁이사자처럼-해커톤&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A9%8B%EC%9F%81%EC%9D%B4%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC-%ED%95%B4%EC%BB%A4%ED%86%A4&quot; aria-label=&quot;멋쟁이사자처럼 해커톤 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;멋쟁이사자처럼 해커톤&lt;/h2&gt;
&lt;p&gt;제가 3월부터 멋쟁이사자처럼이라는 IT동아리에 가입하고 활동중입니다&lt;br&gt;
이 멋쟁이사자처럼은 각 대학에 지부?가 여기저기 있어요 &lt;em&gt;멋쟁이사자처럼 OO대학교점&lt;/em&gt; 이런식으로&lt;br&gt;
이 모든 멋쟁이사자처럼 동아리가 모이는 중앙 해커톤이 8월 6~7일에 있었습니다&lt;br&gt;
1500명이 모였다고 했었나? 아무튼.. 사람이 너무 많으니 같은 멋사라고 해도 친밀감은 전혀 들지 않았습니다 ㅋㅋㅋ ㅜ&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/eaddb2b1bbcb5ed73bc49dee898a049d/493ac/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.31645569620254%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEFUlEQVR42h2U+0+TZxiG+58s2aaJiwmZgnhgOKrgOMwKrVBDS6GCFEsLbb8eaQv9eoIeKKdSsHaggCjRsMXNA1mWZdNl6hZNXOZhuhmGSzwt02QmmizXXv3tTb4313c/ea77VTx/+ZqVy3dZmL3E0vwPLBy5SGF0mcLEWfLjy6QieWKxWQZiBQaiWayuIbqkQbrdQ3ij4+gOd1FaVU6xsoyNpSUoXrz+j+t3/mJ89iL505cZmzlLJJVnKHuKxMQCvoEUnlAWf2SaYGSEw3YZo6Wfg9YgvX0pjL12Nu/awfrizWwo2YRi9dlLrt16yPjMV0ye/J6JYxcIJY6SyJ4hM3kKXzCFT84RHMzTJ2cwO2SRMEa3K4LNF8fuG+ATtYZNO9+kLEXx8J9X3Lj/hNGZFSanlsmNLZCVR8lEc0jBLPHMIr3uNB2WEG1dATR6B4c6PNgkGUO3l/7YMFUqDUU7yiipKEax9vwVNx/8zdD0eaYjE0z64yx5Q2RsXjS6HgLyNAa9FfW+VupVBipqDegajNgsHlR6C+7gIFsqdrOuvI6SajWK+09ecvnmGvHcl4z1jzAfiDLvDhK3uVA3W8TIWVpbemjWGDmgNlJerRfndgzag2xV7sPYaWNndR3vbtrKuiKR8N7jf7n++1MGp84x5E1x3BfiM8lD2G6jpuEQkjeNXiTUa9poUOnZsaeZZvVBDE1GMaIKq8PP3iYdxeW7+XDbRyh+WXvB1TuPSB69QNg5SF4KMuvzILsdVO01YhGKmDskTE2t6BtaKKtsorG+jQ7dIT6u0yL5ZLQGEztr68UPKlFcu/eUn28/ZHrxGzw9YWYkP4thPx6nE2V1i9AkjrndQbta9xZYXqllvwB2tZpRfnpAjNxL5d56NmzfwntvtLkigKuPX1BY+haHRSYvlrE8EqE/kWV3bQvt3QNYOl3U7GmktvoAFVVaVHU67Iclmk2SED3Itqpdb4HvCxcV1/94xt3VR0zNr+B0JgXQxYhQoTO9hKqpiw5rGJPQRKlsoGKXhjKlhprKRpxmJwarj0B0hD2aJjaWl/JOUZEAioXcWn3KsdNf4wiMkUgVRDsmqOqK4ApnCcVzmN1J2nsj6E197NP1on2z/b5B3KJ6Vk+YNrNE5f5GPijbhuLGg2dc+XWN4fzndPtH8Q/PYe9PYxLiyumjSAHRW5dMdHSWUDKHU2jli02IO8MMiO9mdwSLN4a208H6LQJ4VdRu5epvzH1xSSTM4E8eQxI+2gJpwiNz+GPj2EX9EpMnSOUWsPVFCaXz+OJTyKPHSUydFNAwRpufdVu3ozjz3W3O/fQn53+8Ly4dwZ+ewxedxOQIExubxyP6a7L3k5wWj0V2DotbJpSZIZguEMsuipQF7IEk/qE8Fl+C/wGLjOTFBKNuSAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;해커톤&quot;
        title=&quot;&quot;
        src=&quot;/static/eaddb2b1bbcb5ed73bc49dee898a049d/f058b/image-8.png&quot;
        srcset=&quot;/static/eaddb2b1bbcb5ed73bc49dee898a049d/c26ae/image-8.png 158w,
/static/eaddb2b1bbcb5ed73bc49dee898a049d/6bdcf/image-8.png 315w,
/static/eaddb2b1bbcb5ed73bc49dee898a049d/f058b/image-8.png 630w,
/static/eaddb2b1bbcb5ed73bc49dee898a049d/40601/image-8.png 945w,
/static/eaddb2b1bbcb5ed73bc49dee898a049d/78612/image-8.png 1260w,
/static/eaddb2b1bbcb5ed73bc49dee898a049d/493ac/image-8.png 4032w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;사실 말이 해커톤이지 한 달을 준비했습니다&lt;br&gt;
이미 작년에 멋사 해커톤 해본 팀원이 있는데, 당일에는 와이파이가 진짜 안 된다고&lt;br&gt;
후다닥 해서 배포는 다 하고 가는게 좋다고 해서, 가기 전에 아예 다 완성했습니다&lt;br&gt;
다른 해커톤들은 진짜 1박2일동안 개발해서 결과를 완성해야 하는 것인지&lt;br&gt;
그게 가능은 한 것인지..&lt;/p&gt;
&lt;p&gt;아무튼, &lt;a href=&quot;https://github.com/RunTale/RunTale_FE&quot;&gt;런테일&lt;/a&gt;이라는, 재밌게 러닝을 할 수 있게 하자는 서비스를 개발했어요&lt;br&gt;
기획 1인, 백엔드 2인, 프론트엔드 2인 총 5인으로 팀이 이루어졌고, 저는 프론트엔드 개발을 담당했습니다&lt;br&gt;
팀은 더할 나위 없이 좋았어요.&lt;br&gt;
다른 프론트엔드 팀원은 작년에 기획을 해본 경험이 있어서, 같이 도우면서 하고&lt;br&gt;
백엔드는 작업 속도도 빠르고, 배포와 CI/CD도 미리 해둬서 작업이 너무 편했습니다&lt;br&gt;
그 덕분에 해커톤 당일이 되기 전에 프론트엔드까지 배포를 모두 끝내고 당일에는 핫픽스만 했어요&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9ec3392e682ce503355f67ca350f2a91/493ac/image-9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.31645569620254%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEEklEQVR42i2T208TZhyGmy2LBjYiDkEQ4ignLQ5chRaBSimlLaVH2tLz2ZZiQQaoIGUwoBWQg8hQMNt0RuOmO8jmLrZkxgu3zGQXS5a5q2W3W/ZPPPs0u/6S93sPz08iqz/GDx8t8PuXWzx9eJtfNh4wF0qztXmZn57c4cpSjD6Hg/5AlNWch0sLY8zOniczdZYGeSOy4ydobmunTa2htUODRNOlZWEkwq3pCOspE2dMrYQcJlLhADOTA7w/NYTPf5bRiSRXloOsLg1z++YaPz9e5OPtNM3tnegtDswuHzZ3EEmzooXDtQ1E3RaefjLLn99u8Mdni+TiZmrq6mlqe/FzFz3WPuLJGAODp8lmx3n0xRTZuRgtah1mp/elmN0TQlJVfYRDFVV4TF18c3WU7blhrmcGySb6GQ70caq7B5XOjEKlo1mlR9VlpKG5nVNaHSqtns4eK0ZbPw5fBGt/AMlbVXWUllVQsO8Ar7yWT1WNlLFzCd5NxRlLBokNe+g2eznZYUCjN9KhM3D6TIpOg5UT7d109dox9nlw+KN0GcxIFLI6ZNXVFJaU8+qeN5A3NbC8MiYGmObh9Rwb8+eIDkxT39xF+qKfyzsT/P3Pc359dofF7AjqHhs9fV6snjBvy5uQaBuPoqitRFZazFDMTSSeIDUyxPqVDNc2Vri+8h7ToyEiLhsZdw/LG7P89fwG//6W4+7OEK3dNiyiP4PVxaHDh5FUV0o5WFZO6cEy7GYj/niEydmL3Lt7jYnpIbJbt9jdnmM97WfLY6ftlI7RUR8P76/iiwTp7HVi80Y4qdZSWFSI5PXCYkrKpVyYnGAwnSAZ8JPLLvP4+0dizSy7Pz5jfO48Sa8Fm7GbJtFlS4cRjcmFzuoR7kICmQA1smPszd+DpLK6lnOhXu6tjLIwFiERCbN6dYfvdj/nxo1b3H/yWCzoYn48hdvTT7veKoRc6G1uep0BHIE4GrF0wf5CQUsZkuNyBVPpMBkRaWluiguZDJtbWbY/2GRtYZ7cZk5cSZAP19axugNCzI1JOLJ6IkLsNHZflMYmJW8W7UOpVCBRqbvxh2Poey3YnU7M7jAzuRw7y+9xc36CzEAMgz1EODFDt0W89wdFZ+IcAwm8sTQGwaC0pgq5vJ7GRhkSh1N0odPTerIFh8mAstPMwuo6a9kMu1/tEglFRUwLevuLiP7/nSVwhQbwRAd5R9lGeUUJB4r3k5+3V4AtrSV/XxF5efkYtWrkSg3JkIGlxWnuPfj6JbCdgrUX7gyiN5s3ijOYwBdP0+vwitVVKJTHySsooKRCYHPsSB3FRUVoOjU8+PQ2DhGpskpGejzJpOhUaxTnpzMxcvESqbEZ4dIn3CWF4BnaNXpKSg9SIZVytFHBCaWa/wAbOGksf2PnMgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;스플렌더 함&quot;
        title=&quot;&quot;
        src=&quot;/static/9ec3392e682ce503355f67ca350f2a91/f058b/image-9.png&quot;
        srcset=&quot;/static/9ec3392e682ce503355f67ca350f2a91/c26ae/image-9.png 158w,
/static/9ec3392e682ce503355f67ca350f2a91/6bdcf/image-9.png 315w,
/static/9ec3392e682ce503355f67ca350f2a91/f058b/image-9.png 630w,
/static/9ec3392e682ce503355f67ca350f2a91/40601/image-9.png 945w,
/static/9ec3392e682ce503355f67ca350f2a91/78612/image-9.png 1260w,
/static/9ec3392e682ce503355f67ca350f2a91/493ac/image-9.png 4032w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/figure&gt;
&lt;figcaption&gt;
스플렌더를 해요 ㅋㅋ
&lt;/figcaption&gt;
&lt;p&gt;새벽에는 다같이 보드게임이나 했습니다 ㅋㅋㅋㅋ&lt;br&gt;
재밌게 놀고 왔답니다?&lt;br&gt;
근데 끝나고 나니 좀 허전?공허? 헛헛? 했어요&lt;br&gt;
목적의식이 사라진 느낌&lt;/p&gt;
&lt;p&gt;그래서!&lt;/p&gt;
&lt;h2 id=&quot;새로운-사이드-프로젝트&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%83%88%EB%A1%9C%EC%9A%B4-%EC%82%AC%EC%9D%B4%EB%93%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8&quot; aria-label=&quot;새로운 사이드 프로젝트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;새로운 사이드 프로젝트&lt;/h2&gt;
&lt;p&gt;저는 계속 뭔가 할 일이 있어야 안정되는 기분입니다&lt;br&gt;
Node.js 컨트리뷰션 활동도 있지만, 새로운 뭔가가 필요했고&lt;br&gt;
마침 지인들과 사이드 프로젝트를 시작하게 됐어요..&lt;br&gt;
이건 아직 진행 중입니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 407px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7755184a2327608a3a6c5c134d8cb26a/0ff56/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 73.41772151898735%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABJ0AAASdAHeZh94AAACiUlEQVR42mVUPU8qQRTd30dnYWdBIpUhaktlZUWihhhiQYFCoLMyaiTBgGhQUARE/EBF+RAVhTgoIOp5e+7LbPbl3WQyO7N7z5x7zp01crkcbm9vcXV1hXK5jFKphLOzMxl8Pjg4QKFQQDKZlFnv8/vz83MUi0VrPjo6gvH4+AiOu7s7vL6+gvH7+yuD8f7+jlarhbe3N+sdo1KpyH6328Xl5SU+Pj4k32g0GsIwk8mg2WzKx9/f3zIYvV4PNzc36HQ6sv75+cHX1xcSiQTy+byAbW5u4uHhAc/Pz38ZMmF3d1dAmWBnMhwOcX19jXa7bQEyWDZB9fzy8iJVGKRNlicnJwJIRvayyVSfrtkzmEPdmM+ZFXAIYLVaxd7eHra2tvD09PQPE55Ks05PT62y7RrbqxGGPEkD8HTO+oNUKoX5+Xmsrq4iFAohGAxiaWkJSimLrc5jCEO6xc3Pz095QcEJSG1mZmakbQi6srICttjk5CRmZ2cxGAz+Y1uv12GwrygoS6djXPOkSCSCbDYrz8fHx2LcxcWFyON0OrG+vi66cp9A7BCSMGq1mqUFWVIrMt3f3xdnqW04HMb29rY80/XFxUUEAgEpnaD9fl9YioZ00G7CaDSSl/f39wLgcrngdrsxNTWF6elpYen3+xGNRq08XTIJWAz1JjWk0yyNptCMnZ0dOWBjYwOxWAzLy8uy1oD2jjB45TQzBvXk3fR6vZiYmMDc3BwWFhZkTXPIkms7mHaZuVbJmqF2je57PB6sra3JFaOGZDw2NgaHwyEaau10rrRNOp1WprvK/JNYw+x8Zd5vZf49VDweV+bVUmbZ6vDwUJks1fj4uPL5fMq8w4r5Zjco00z5/g+8gil2QaII9wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;좀 더 해야해&quot;
        title=&quot;&quot;
        src=&quot;/static/7755184a2327608a3a6c5c134d8cb26a/0ff56/image-11.png&quot;
        srcset=&quot;/static/7755184a2327608a3a6c5c134d8cb26a/c26ae/image-11.png 158w,
/static/7755184a2327608a3a6c5c134d8cb26a/6bdcf/image-11.png 315w,
/static/7755184a2327608a3a6c5c134d8cb26a/0ff56/image-11.png 407w&quot;
        sizes=&quot;(max-width: 407px) 100vw, 407px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;지인이 이번에 프론트엔드로 어엿한 프로젝트를 하나 해보고 싶다고, 백엔드 해줄 생각 없냐고 했었어요&lt;br&gt;
전 저번 겨울에 스프링을 혼자 공부했던 적이 있어서 다시 더듬더듬어.. 해보기로 했습니다&lt;br&gt;
그래서 처음엔 제가 로그인 구현 해놓고, 아 해커톤좀 끝나고 하겠수다. 했다가&lt;br&gt;
서비스 컨셉을 확 바꿔서 새로 시작하게 되었기 때문에&lt;br&gt;
백엔드 전문인 또 다른 지인이 인증은 구현해줬습니다. 제가 해커톤 때문에 바쁜 동안&lt;br&gt;
그리고.. 저는 백엔드 새싹이기 때문에 그 백엔드 전문 지인이 제가 짠 코드를 리뷰해주고 있어요&lt;br&gt;
거인의 어깨에서 쪽쪽 빨아먹고 있답니다. 음하하&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 589px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/547dd77a7b7b3ae28d6524e20309e2fb/b1665/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.18987341772153%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACRElEQVR42qVSu24TQRTdKg97ve+dfb+867XjECe2kEKw4gBKEAQJASVC0ERBQhS0/AKKQsVn0IOi7aioaKjoEX2cNGAf7uwmJBQEJIqj+5i5Z+65c4V+fh9Ptt7g0dY+Ht54jV73JlZH17ByeYi10SZ6gyu41F/FElnTiSBpzi80VIus/VtO2Oy/wN7uZ7x69nG69/QTlrMH3+wkeh8knSLOugeW13znR60iSjuFxqJCcTqFZGeFwpJCMZyiYfJcu5DN5oFsZR+EuqJjtqFgVlQxIypIs9b3MEwP6zI7ptePFMM9lHVnTP5Y1t2xYvpjxfDHqhmQ9chSTL7KgrHGwiOhatkGFULSXdzd3sZo/To0K4JuBdDtEBoLYNgRDJLshi2YblKdWTwfUhyX42BuBIHPgYO6gKjauHPrNoZX1yHSPPJuH818EX6cV8VUxB8wykf8Mra8ipwT8pwgElldZWWXsuFNFrtLkyzvku8ia/eQtLrwolZ5WTN9qKZL8EpFnIgT8pifcytIRKZRZzXZLKXNSybmGjpEhWFO1FCTjBI8bpyM5+xnbcpb53I2hN2dx3j+cmdiBRmYn70N095+nPeOmx2SuzCYJvky0oUBkvYKnKgN00v5vT9CWBsOsXFvY6rRXBTmf9Xt6Avz0h920AIH+Tj1DScuP+siCDM1DbPzJJEke3EHC70BZGq9JumoywbBPLFGeYdLvwjV2uiVflqNKfPi6enPn8E+gfVXCOcDN8rLPePd/EvxhYTV2vDldv4LPwGzCFHyMMYFuwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;코드리뷰&quot;
        title=&quot;&quot;
        src=&quot;/static/547dd77a7b7b3ae28d6524e20309e2fb/b1665/image-12.png&quot;
        srcset=&quot;/static/547dd77a7b7b3ae28d6524e20309e2fb/c26ae/image-12.png 158w,
/static/547dd77a7b7b3ae28d6524e20309e2fb/6bdcf/image-12.png 315w,
/static/547dd77a7b7b3ae28d6524e20309e2fb/b1665/image-12.png 589w&quot;
        sizes=&quot;(max-width: 589px) 100vw, 589px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/figure&gt;
&lt;figcaption&gt;
Looks Good To Me.
&lt;/figcaption&gt;
&lt;p&gt;&lt;del&gt;근데 스프링 말고 Node.js 프레임워크로 할 걸 그랬나&lt;/del&gt;&lt;/p&gt;
&lt;h2 id=&quot;ict-인턴십&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ict-%EC%9D%B8%ED%84%B4%EC%8B%AD&quot; aria-label=&quot;ict 인턴십 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ICT 인턴십&lt;/h2&gt;
&lt;p&gt;이제 내일이면 막학기 개강인데&lt;br&gt;
운이 좋게도 프론트엔드 직무 인턴에 합격했어요&lt;br&gt;
&lt;a href=&quot;https://www.ictintern.or.kr/main.do&quot;&gt;ICT 인턴십&lt;/a&gt;이라는 것인데.. 기관에서 학생들과 기업을 이어주고 학생한테는 학점도 주고 하는 시스템입니다.&lt;br&gt;
결과 나왔을 때가 부스트캠프 2주차까지 딱 끝난 상황이었는데&lt;br&gt;
어차피 부스트캠프 멤버십에 갈 수 있게 되어도 못 가게 되었고, 이미 걷잡을 수 없이 바쁜 김에 그만뒀었습니다&lt;/p&gt;
&lt;p&gt;그래서 앞으로 당장 내일부터 12월까지, 4개월 간 출근하게 됐습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 241px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7102ed6b961642525ef8d66581e4e433/2f862/image-13.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 86.70886075949367%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEGElEQVR42gENBPL7AObkzePhytzaw9fVvtXUuODexpyail5URIl2YGtbTl5SSkdBOyAgICAgIRwcGpuciP//5fT22fP32e7w0wDj4crf3cbZ18HV07zW1LnEwqx4cWNtX02iiXOji3a5pI1yZFcnJyovLzAZGBs5ODPt69H4+97z9tnu7dEA4uDJ3tzF2dfA0tC2w8GluLWYlIVul39qnYh0eWhVeGhaZlhMIiEkJCYqJygsLy8uzs+0/f/h9PTY7ezQAOPgyd/dxdnWvcfFqbOvkq2pi5uEbLKSd8Gghricgr2fh4VwYSsoJT41MCcnKjM0NN7gw/r63fX02O3s0ADj3cji4cbZ2L7AvKGppIerqYuNeWSdf27Nq5HOqpDNpoyoi3itj3eoh3QREhR9fG/+/d7y8dP089br6s4A5OXL2NS5xb2js62RrKyOqaOHjW9fm3puvqCHyqeKvJl+u5h9sJN9Rzw5XVtR6ujL9vXW8O/S8vHV6+rOALZrZKxZVKFLSJdRSZpuX4ZIQYZdTreXfb2cgLqYfbuXfZJ0YBgXE3l5ae7rze3tz+7tz/Dv0/Hw1OrpzACpOT2mODyrQEKYOTmUNDWGNDSRcmaLbleohnGohG+3lHqdfHGee3Dj6srj5MXh3sHq6Mvt7M7w79Ho58kAqj1AoTo8sUREiTczpUJCmTY4w6WeuqqZso51zKuTyMGzyYqMw1VTwY9+0MCr3dzA4uHC5uXH7ezO5+bJAKI5PJAwMLNDRJw5OZo+Pq44Or+MitXW1drOwfr78NC1vLJER8VaScJyQLVgTNjAi9bUvN/fv+XkxuPixQCaNTiHLC2rP0K1QkaHNjWoPTy/c3TU19b6+vrm5d/DglzAclfEhGXRnW/DimfFe1nBjXXV1bje3b3d3L4AiiwugisspDo+s0JGjzQ0kTc2sWRl0tXT////vb/Dg3c+4MNs1rNy1bFyu4ly1Kxq6LpW1apt1c2q2Ni7AIUsLIMsK5w3Oao9QJ06O4swM4M+QMTDxfDy83t4fbOOZM+hasaYZsqhasSXe9Wxc+fQcbxuWMuXidDWtgB/KyqFLi6RNDanOj2dOTqeODlyKy5oZXFkaXJdSDe8jG/VsnPJoHfPqn7RrW7AknfpznC6c1GwbF/MzbEAhC4vhi8wiTEypjs9mTMzqT0/fjExJiQ1Iyc8KSY2sqRU7dBquolwwpZv0qlyxp5w/OVjrls5kEhIy8msAIkxM4cvMIUwMas/Qp41NqQ6PIY0NDIwQiwyRiUlMJN1O+vJZMSSZeLGZ+TGaN+5YdegTcN7QapuZ8jLrwCJMTGGMDCDLi+lPUGsPUCdNTeKMzMyLEEkLDs0ISq0gUfRhkjJdkjViU7apU21ZDehPTuPLzOVcWTEx61mcD5KuUZhwQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;내일 근무한다는거 잊지마&quot;
        title=&quot;&quot;
        src=&quot;/static/7102ed6b961642525ef8d66581e4e433/2f862/image-13.png&quot;
        srcset=&quot;/static/7102ed6b961642525ef8d66581e4e433/c26ae/image-13.png 158w,
/static/7102ed6b961642525ef8d66581e4e433/2f862/image-13.png 241w&quot;
        sizes=&quot;(max-width: 241px) 100vw, 241px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;학생 때 인턴 해보고 싶었는데 초 럭키~&lt;/p&gt;
&lt;p&gt;이만 마칩니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Spring Boot CRUD TIL 기록 (2)]]></title><description><![CDATA[! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다. 저번에 한거 PR…]]></description><link>https://sungpaks.github.io/til/spring-boot-crud-refactoring/</link><guid isPermaLink="false">https://sungpaks.github.io/til/spring-boot-crud-refactoring/</guid><pubDate>Thu, 22 Aug 2024 10:29:14 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://sungpaks.github.io/til/spring-boot-crud-and-trying-hexagonal-architecture/&quot;&gt;저번에 한거&lt;/a&gt; PR올려서 피드백을 받았는데&lt;br&gt;
고칠게 한참이나 있었습니다.&lt;br&gt;
피드백 반영하기 위한 수정사항이 있었고 그 기록입니다&lt;/p&gt;
&lt;h1 id=&quot;소유주-확인&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%86%8C%EC%9C%A0%EC%A3%BC-%ED%99%95%EC%9D%B8&quot; aria-label=&quot;소유주 확인 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;소유주 확인&lt;/h1&gt;
&lt;p&gt;유저가 page같은 어떤 정보를 요청할 때&lt;br&gt;
다른 유저의 정보까지 접근 가능하면 안 되겠죠?&lt;br&gt;
응당 본인의 정보만 접근이 가능해야 하겠습니다&lt;br&gt;
관리자 권한이 있는 경우를 제외하면요.&lt;/p&gt;
&lt;p&gt;그래서.. 일부 api 요청에 대해 &lt;em&gt;&quot;소유주가 맞는지?&quot;&lt;/em&gt; 체크를 하기로 하여&lt;br&gt;
&lt;em&gt;&quot;요청 들어오면 토큰 뜯어서 유저 정보 확인할까요?&quot;&lt;/em&gt; 라고 질문했는데..&lt;/p&gt;
&lt;p&gt;갈!!!!!! 토큰을 왜 뜯냐??&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;@AuthenticationPrincipal&lt;/code&gt;로 바로 확인해버릴 수 있는데!!&lt;br&gt;
&lt;a href=&quot;https://docs.spring.io/spring-security/reference/servlet/integrations/mvc.html&quot;&gt;https://docs.spring.io/spring-security/reference/servlet/integrations/mvc.html&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://wildeveloperetrain.tistory.com/324&quot;&gt;https://wildeveloperetrain.tistory.com/324&lt;/a&gt;&lt;br&gt;
이런거 참고해서 해봐라!!&lt;/p&gt;
&lt;p&gt;라고 꾸짖음 당했습니다.&lt;/p&gt;
&lt;p&gt;자세히 알아보니.. SpringSecurity에서 제공하는 기능을 사용하면&lt;br&gt;
Controller의 인자에서 &lt;code class=&quot;language-text&quot;&gt;@AuthenticationPrincipal&lt;/code&gt; 어노테이션으로 인증 정보를 가져올 수 있었습니다&lt;br&gt;
이 &lt;code class=&quot;language-text&quot;&gt;principal&lt;/code&gt;값은 유저를 구분하는 고유값이고 제가 진행중인 프로젝트에서는 &lt;code class=&quot;language-text&quot;&gt;userId&lt;/code&gt;(고유한 문자열)을 넣고 있었으므로&lt;br&gt;
그냥.. Controller에서 인자로 &lt;code class=&quot;language-text&quot;&gt;@AuthenticationPrincipal userId&lt;/code&gt; 이렇게 가져오기만 하면 되는 일이었습니다&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;(현재 인증 정보) === (요청하려는 정보의 소유주)&lt;/code&gt; 를 확인하고,&lt;br&gt;
일치하지 않으면 에러를 던지면 되겠어요
근데 자바 코드인데 &lt;code class=&quot;language-text&quot;&gt;===&lt;/code&gt;로 확인했네요? ㅋㅋㅋ 진짜로 자주 저러고 있습니다. 습관적으로..&lt;/p&gt;
&lt;h2 id=&quot;이런-검증은-어디서-하면-좋나요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EB%9F%B0-%EA%B2%80%EC%A6%9D%EC%9D%80-%EC%96%B4%EB%94%94%EC%84%9C-%ED%95%98%EB%A9%B4-%EC%A2%8B%EB%82%98%EC%9A%94&quot; aria-label=&quot;이런 검증은 어디서 하면 좋나요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이런 검증은 어디서 하면 좋나요?&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;userId&lt;/code&gt;가 소유주에 해당하는게 맞는지..&lt;br&gt;
이런 검증들은 어디서 하는게 좋을까요??&lt;br&gt;
Controller? Service? ..? 이에 대해 전문가 팀원과 이야기해봤는데요..(사실상 듣는 쪽이었음)&lt;br&gt;
&lt;a href=&quot;https://kukim.tistory.com/76&quot;&gt;계약에 의한 설계&lt;/a&gt;와 단일 책임 원칙을 생각해본다면&lt;br&gt;
&lt;strong&gt;Controller&lt;/strong&gt;가 적당하다고 생각됩니다&lt;br&gt;
Service의 일은, 비즈니스 로직을 수행하는 책임 하나만 지고, 값에 대한 의심은 하지 않게 합니다&lt;br&gt;
Controller의 일은, 적절한 서비스를 호출하는 책임을 지고, 부적절한 요청 검증은 이 선에서 처리하는게 좋겠어요&lt;br&gt;
이런 원칙을 두어야.. 제가 제 코드를 믿지 못하고 Controller에서도 검증, Service에서도 검증, ... 이러는 상황이 벌어지지 않겠습니다&lt;/p&gt;
&lt;h1 id=&quot;charset-설정&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#charset-%EC%84%A4%EC%A0%95&quot; aria-label=&quot;charset 설정 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CHARSET 설정&lt;/h1&gt;
&lt;p&gt;전에 다른 프로젝트 할 때도 당했던건데&lt;br&gt;
윈도우만 그런지?는 모르겠지만?(다른 팀원들은 맥쓰는데 관련 트러블이 없었다는 것 같아요)&lt;br&gt;
MySQL에 한글 넣으려면 따로 CHARSET을 설정해줘야 합니다&lt;br&gt;
안그러면 &lt;code class=&quot;language-text&quot;&gt;Data truncation: Incorrect string value&lt;/code&gt; 이렇게 생긴 에러가 발생합니다&lt;/p&gt;
&lt;p&gt;이건 직접 MySQL 들어가서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;ALTER TABLE 테이블 convert to charset UTF8;&lt;/code&gt; 이런 식으로 해줄 수도 있고&lt;/p&gt;
&lt;p&gt;스프링 단에서 할 수는 없나? 싶어서 찾아보고 &lt;a href=&quot;https://yeonyeon.tistory.com/167&quot;&gt;여기&lt;/a&gt;를 참고한 결과,
엔티티 전체에 적용은 못한다고 하네요? 가능한 방법을 알고계시다면 알려주세요.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;@Column(columnDefinition = &quot;VARCHAR(100) CHARACTER SET UTF8&quot;)&lt;/code&gt; 이렇게 어노테이션에 속성을 추가해서 컬럼단위로는 설정해줄 수 있습니다&lt;/p&gt;
&lt;h1 id=&quot;엔티티-연관관계-매핑&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%97%94%ED%8B%B0%ED%8B%B0-%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84-%EB%A7%A4%ED%95%91&quot; aria-label=&quot;엔티티 연관관계 매핑 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;엔티티 연관관계 매핑&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 295px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/379cfb4c95660df98857d14d1bb3e8bc/e4a3f/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 97.46835443037975%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAA7DAAAOwwHHb6hkAAADSUlEQVR42o1U23IaRxDdp1TlxZUoSLBcxN7vuyyCRbDAcpNQQMAiIYOMUEWyrXL+/wdOesbgOImU8sOp7pnu6Znp091Cv99HmqZwHBfZXA6FYhH5QuGfyBf+u0dgvifZLCphiO3DA6IogmAaFqphDYosIS9SwLzI5d8QUSoWXtn/CpEeocoyAt+DpqoQ7nq/4j75GbN2iHnTQFN+h4GTRd8+Qc86RuIW8Of9NbfF+hEa+gnO9WM0NQLJ9xcRvmwmGNIZT8pCaIUSevUyulEFq+kA404dVbOMuqOgZsuouxru0yusJgNULQmBccrtDBVCOu5ht5ph0mvAVEoQNN2Cqtuo1RtIb24xuhzDr4Twggocz4ftephez3A9X/C1phswTAv6HqOLS8zTJckxJFmBYFkWbNtCL0mwXq+xo+Tudg/48OGek1UJAtwul3h++oP7KIoCdsY0TY75bIbtdovpZAJZkuiFmgYGZrRtmzsbhvFN13QdXj2iKnCgk858mTzozJfZGFRGyuGm18ADk+MZfcf87lVv+bIH8C+/CfZq10UlbtPaxP/67vFDAYNWzPUfDsjy9SrIxphtzJdwKDAj72Az37iAcmhQl8i8yg8EfU28xvd0cmrcbahEzG8+jJADaf8OLLA6+vTygurZGY6OMsiJeeppEZnjE+rTHNezJHMkRbJlMscU0MDz80fc3K7QonSwSxh5Fl0i6HIRUdWFZ1PByiXIxRyUUh4+rU3lFFIhi9NCDuU95JII11QROMSsVIQqlaCzsqNXMwgP/V/w1P+J93LashAr79C1RbzcjbEZVHGu/oaWmUNsZNGiPu55JXy+GeLTcoSBlUFkl1EbXiJsd1DpdCHUhzXE4xquqgqe5gmeFz2MQhnb32N8JL3nFnFOg4AFjGkYJE4Bu0mMx2kbQxoeNaMIOwjh+j4cguB1G/CHLVw1fTymF5h2qmh5MjbTBI/LCzRdCWe6iMjIo04y9hRs50NsFyMkfhm+VqQc6rxOGUGCRcyZ1NTtToL36w18P+DNP1sssKKkW5bN289gLBMZAQ2OBQ2D9WZDZ7p8IHzPtMCcdWobVVV44x96VCqXYdJXLJo6vHwO/Us6KzN176vv58Ah4F+57kNIOButdgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;연관관계&quot;
        title=&quot;&quot;
        src=&quot;/static/379cfb4c95660df98857d14d1bb3e8bc/e4a3f/image.png&quot;
        srcset=&quot;/static/379cfb4c95660df98857d14d1bb3e8bc/c26ae/image.png 158w,
/static/379cfb4c95660df98857d14d1bb3e8bc/e4a3f/image.png 295w&quot;
        sizes=&quot;(max-width: 295px) 100vw, 295px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;대충 이런 관계가 있다고 해봅시다
처음에는 그냥, &lt;code class=&quot;language-text&quot;&gt;Page&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;userId&lt;/code&gt;가 &lt;code class=&quot;language-text&quot;&gt;User&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;이게끔 관계만 두고,&lt;br&gt;
&lt;em&gt;특정 유저의 페이지들을 조회&lt;/em&gt; 하는 등의 상황에서는&lt;br&gt;
FK를 걸든, 쪼인을 하든, 한다는 순전히 DB관점에서 생각했습니다&lt;/p&gt;
&lt;p&gt;근데 JPA로 테이블을 엔티티로 영속화하여 사용하므로 그러한 관점에서 매핑해야겠어요&lt;br&gt;
이를 위해 일단 기존에 &lt;code class=&quot;language-text&quot;&gt;String userId;&lt;/code&gt;(ERD에서는 &lt;code class=&quot;language-text&quot;&gt;Long&lt;/code&gt;인데 실제로 &lt;code class=&quot;language-text&quot;&gt;String&lt;/code&gt;으로 사용중)로 했었다면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;User user&lt;/code&gt; 이렇게 하고 &lt;code class=&quot;language-text&quot;&gt;@ManyToOne, @OneToMany, ...&lt;/code&gt; 같은 어노테이션을 붙여서&lt;br&gt;
다대일, 일대다, 등 엔티티간의 연관관계를 매핑해줍니다.&lt;/p&gt;
&lt;p&gt;이 때, &lt;strong&gt;연관관계의 주인&lt;/strong&gt;개념이 존재하는데,&lt;br&gt;
이는 즉 매핑을 거는 쪽이 주체가 된다는. 거십니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 395px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/55cd5b36d629cb59bd5b771eae8cde4c/2cb6c/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 73.41772151898735%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbUlEQVR42oWS66qCUBCFff+n8o+BhJpQmRDavcyKop2lpfbJdDZB2dmg7MusWWvNjFFVVV3X/M/n8263u9/vdcuSyPe9wXc8HqfTaa/XWy6XWZa1gU+n03A4nM/nSZKUZdmA1+v1ZDKJoggkKYqi+Ep4uVz6/b5SiuNsNiNFAx6NRkhdLBbcIiFNU24l8Tt4s9nwqo9hGEJj+L7veR47+CFHmI6o/hZ7qCSvBkNprFYr27b3+z1vIj6OY7xgXoon0bfbDRpsIwqxKG1kcwDmOA5OHo8HV2BQyBEtVIG8GCYF94hHmhxf1ea20+kEQQAzGN0ScsG/3W5JgRyexuOxaZpEUvAX+Hq9DgaDw+EATFdbu5UFAbmIRDwxr1bJg2VZruuS73NIdJY8zzHS7Xb5yzg1YLonNiD/7LNemMeCKBUa43P0fo/n+wgbbdPbBqaLtO0L+AeGDtNb1AKmkVjg/z9YFj6pCCmAUSM2SqknJ7ZdbZveiZMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;매핑&quot;
        title=&quot;&quot;
        src=&quot;/static/55cd5b36d629cb59bd5b771eae8cde4c/2cb6c/image-1.png&quot;
        srcset=&quot;/static/55cd5b36d629cb59bd5b771eae8cde4c/c26ae/image-1.png 158w,
/static/55cd5b36d629cb59bd5b771eae8cde4c/6bdcf/image-1.png 315w,
/static/55cd5b36d629cb59bd5b771eae8cde4c/2cb6c/image-1.png 395w&quot;
        sizes=&quot;(max-width: 395px) 100vw, 395px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;대충 그림으로는 이런식ㅋㅋㅋ으로 실제 손을 뻗어서 잡은 쪽이 연관관계의 주인이라는 뜻인데&lt;br&gt;
DB입장에서 보면 FK를 가지는 쪽이 되겠죠?&lt;/p&gt;
&lt;p&gt;이 &lt;strong&gt;연관관계의 주인은 자식 테이블(엔티티)가 되게 매핑하는게 좋다&lt;/strong&gt;(1-M에서, M쪽)고 하는데&lt;br&gt;
DB관점에서 생각해보면, 보통 테이블 간에 FK를 걸 때 자식 테이블이 FK를 가지므로&lt;br&gt;
엔티티 간에 매핑을 할 때도 자식 테이블에서 매핑을 걸어주는게 합리적이고, 패러다임이 일치하겠죠?&lt;br&gt;
이렇게 해서, 부모 엔티티에서는 자식 엔티티에 대해서는 하등 몰라도 되게끔 하면 좋겠습니다&lt;/p&gt;
&lt;p&gt;그런데 부모 엔티티에 매핑된 자식 엔티티들을 자주 참조해야할 수도 있어요&lt;br&gt;
위 예시를 또 들어보면, &lt;em&gt;특정 유저의 모든 페이지 조회&lt;/em&gt; 이런 것들이 있겠죠?&lt;br&gt;
이런 경우, &lt;code class=&quot;language-text&quot;&gt;@OneToMany&lt;/code&gt; 어노테이션에 &lt;code class=&quot;language-text&quot;&gt;mappedBy&lt;/code&gt; 속성을 넣어서 &lt;strong&gt;읽기 전용&lt;/strong&gt;으로 참조해줍시다&lt;br&gt;
이렇게 읽기 전용으로 해주지 않으면, 연관관계가 양쪽 다 걸려버리니&lt;br&gt;
부모가 수정될 떄마다 자식도 수정되는 드러운 사태가 벌어지고 맙니다..&lt;/p&gt;
&lt;p&gt;앗, 그리고 다대다 매핑(&lt;code class=&quot;language-text&quot;&gt;@ManyToMany&lt;/code&gt;)을 할 일이 생긴다면, &lt;strong&gt;중간 테이블&lt;/strong&gt;을 만들어서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;@ManyToOne - @OneToMany&lt;/code&gt;로 풀어내는게 좋겠다고 합니다&lt;br&gt;
더 자세한 내용은 저는 &lt;a href=&quot;https://colevelup.tistory.com/41&quot;&gt;여기..&lt;/a&gt;를 참고했어욥&lt;/p&gt;
&lt;p&gt;그리고 연관관계의 &lt;code class=&quot;language-text&quot;&gt;FetchType&lt;/code&gt;을 &lt;code class=&quot;language-text&quot;&gt;LAZY&lt;/code&gt;로 설정하니&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;No serializer found for class .....&lt;/code&gt; 어쩌구 에러가 떴는데&lt;br&gt;
REST API니까 JSON으로 반환하고자 직렬화하려는데?&lt;br&gt;
앗! &lt;code class=&quot;language-text&quot;&gt;LAZY&lt;/code&gt;로 인해 프록시객체가 들어차있는 바람에..&lt;br&gt;
이 엔티티를 직접 반환하지 못하는 상황이 벌어진 거십니다&lt;br&gt;
그래서 DTO를 만들고, 여기에 필요한 것만 뽑아 감싸서 반환하게 했습니다~&lt;/p&gt;
&lt;h1 id=&quot;매핑하니까-n1문제가-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A7%A4%ED%95%91%ED%95%98%EB%8B%88%EA%B9%8C-n1%EB%AC%B8%EC%A0%9C%EA%B0%80-&quot; aria-label=&quot;매핑하니까 n1문제가  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;매핑하니까 N+1문제가 .&lt;/h1&gt;
&lt;p&gt;N+1문제란..&lt;br&gt;
제가 만약 &lt;em&gt;모든 Page 엔티티를 조회&lt;/em&gt; 한다고 해봅시다&lt;br&gt;
저는 &lt;code class=&quot;language-text&quot;&gt;select * from pages&lt;/code&gt;처럼 1회 쿼리로 끝나겠지? 라고 생각하지만&lt;br&gt;
현실은.. Page 엔티티에 연관관계가 등록된 User까지 가져오려고 시도하여&lt;br&gt;
각각의 Page 엔티티 하나마다 &quot;그 Page를 쓴 유저&quot;를 가져오는 쿼리까지 발생해버립니다!&lt;/p&gt;
&lt;p&gt;그럼 Page 엔티티를 10개 가져왔다면, (Page 모두 가져오기 1회) + (각 Page에 연관된 User 가져오기 1회) * 10 = 11회의 쿼리가 발생합니다 ㄷㄷ&lt;br&gt;
N개 엔티티를 가져오는 상황에서, 기대한 1회 쿼리가 아닌 N+1회의 쿼리가 발생한다고 하여 저런 이름이 붙었습니다&lt;/p&gt;
&lt;p&gt;앞서 &lt;code class=&quot;language-text&quot;&gt;FetchType&lt;/code&gt;을 알아보고 가자면&lt;br&gt;
연관관계 매핑된 엔티티들을 &lt;code class=&quot;language-text&quot;&gt;EAGER&lt;/code&gt;로 즉시로딩할 수 있고, 또는 &lt;code class=&quot;language-text&quot;&gt;LAZY&lt;/code&gt;로 지연로딩할 수 있습니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;EAGER&lt;/code&gt;는 호출 타이밍에 객체를 전부 가져오고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;LAZY&lt;/code&gt;는 실제 참조하기 전까지는 프록시 객체를 가짜로 집어넣어둡니다&lt;br&gt;
이걸 &lt;code class=&quot;language-text&quot;&gt;LAZY&lt;/code&gt;로 설정하면 N+1문제가 발생하던 것이 1회의 쿼리만 발생하는 듯 보이지만&lt;br&gt;
N에 해당하는 연관 엔티티들을 참조할 때마다 새로운 쿼리가 발생되므로&lt;br&gt;
쿼리의 발생 시점이 다를 뿐이지 N+1문제가 해결되지 않습니다 ㅜㅜ&lt;br&gt;
딸깍으로 꿀빨기는 실패했어요&lt;/p&gt;
&lt;p&gt;근데 &lt;code class=&quot;language-text&quot;&gt;LAZY&lt;/code&gt;로 일단 해두면 좋은게&lt;br&gt;
제가 만약 Page 엔티티만 조회하고 싶어요.. 연관된 User는 궁금하지도 않고.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;EAGER&lt;/code&gt;였다면 궁금하지 않았던 User까지 다 가져오겠지만&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;LAZY&lt;/code&gt;와 함께하고, DTO같은 객체에 필요한 것만 담아서 사용하면?&lt;br&gt;
궁금하지도 않았던 User 엔티티를 조회하는 쿼리가 발생할 일이 없습니다! 굿&lt;/p&gt;
&lt;p&gt;그래서 N+1프라브람.. 해결하는 방법이 뭐냐 하면&lt;br&gt;
(1) JPQL로 직접 메서드를 작성하고, fetch join을 사용 : INNER JOIN 유발&lt;br&gt;
(2) Entity Graph : &lt;code class=&quot;language-text&quot;&gt;@EntityGraph(attributePath)&lt;/code&gt; 어노테이션으로 엔티티 그래프를 지정하고, JPQL작성 : EAGER조회, OUTER JOIN 유발&lt;br&gt;
(3) Batch Size 설정&lt;br&gt;
(4) &lt;code class=&quot;language-text&quot;&gt;@Fetch(FetcMode.SUBSELECT)&lt;/code&gt;로 서브쿼리처럼 할 수 있다&lt;br&gt;
(5) Querydsl같은 쿼리빌더같은거로 손수 작성..&lt;br&gt;
등등.. 많은 방법이 있어보였는데&lt;br&gt;
저는 1번 fetch join으로 해보기로 했습니다&lt;/p&gt;
&lt;p&gt;기존에 Page 엔티티에서 &lt;code class=&quot;language-text&quot;&gt;findAll()&lt;/code&gt;을 사용해버리면 User 연관관계를 개별 쿼리로 가져온다는 점이 문제였던 것이니까&lt;br&gt;
&lt;em&gt;PageRepository.java&lt;/em&gt;에서 fetch join 버전 &lt;code class=&quot;language-text&quot;&gt;findAll()&lt;/code&gt;을 작성하기로 했습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Query&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;select p from Page p join fetch p.user&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findAllJoinFetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 하면 되겠죠?&lt;br&gt;
JPQL은 SQL과 사알짝 다르지만 굉장히 유사하네요&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;기록 끝~&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🐢 Node.js에 기여한 썰 푼다.]]></title><description><![CDATA[…]]></description><link>https://sungpaks.github.io/contributing-nodejs/</link><guid isPermaLink="false">https://sungpaks.github.io/contributing-nodejs/</guid><pubDate>Wed, 21 Aug 2024 16:37:36 GMT</pubDate><content:encoded>&lt;p&gt;오픈소스 컨트리뷰션 아카데미라는 프로그램에서 멘티로 활동하고 있어요&lt;br&gt;
자세한 설명은 제가 쓰기 귀찮으니 &lt;a href=&quot;https://www.contribution.ac/ossca&quot;&gt;여기 링크&lt;/a&gt;를 참고하시면 좋겠습니다.&lt;br&gt;
대충.. 오픈소스 기여하는거 처음에 좀 힘들고 벽이 느껴질 수 있으니&lt;br&gt;
먼저 해본 멘토분들에게 배우기도 하고 다같이 으쌰으쌰 해봅시다!&lt;br&gt;
이런.. 프로젝트입니다&lt;/p&gt;
&lt;p&gt;저는 Node.js 팀이라서, Node.js 코어에 기여하는 활동을 하고 있어요&lt;br&gt;
여기에서의 활동과 경험이 근래 들어 가장 저에게 도움이 되는 일이었다고 생각하는데&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0cc667f0ab708296a0dcf7f34de26670/3684f/image-9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAESElEQVR42hXTSW/bZhAGYF5bO7a1UKIkUotl2VpJc19FSpSojaIWiqREarFjK7ZiN05ixIkDNECcpinQom166q3IsS3a/1gWeA/zHZ4ZfBgM0NP6PCsrclNR2/Vml5PqqVwhksqUZEVauOzUYqem4Fm8Z9OzIeH0j60e7nSoWY92ekBb1SW+Vle0ZksXJRWCUjs7wcBeKJM6qNAcbRg+412LXdiMNyIcHZ/0KMdgpkPKNgCp2hMFuS63lFozAsa3vt7ZT8RVtHDaVg1BTGVz5FjnPUuaT9m5SToG7RicO/LjFwDD65Iga41uPIGAe3tqKXcmUx+83u/PT/75+PaFbRwU89LcllcuP3cY12SnA94b+2GmAwCne6rSxMrU1tYOlcs9rhLnVXLTEn9aO79tvD++vXGbCqqItbOFuJwx3oSYGf58cW4qpzZAMDpDcqEAGAiECjC0FskZjdkc/qKr/LAwLjrSu9Ws2VCllVs9mZGz0dgdnF4uxJXdulgABK2jZXRv17ehHATaHOpJpIkXlzz23tZuB41387EzHnDLqbC0Sq7xeNT58fqcnpvS0gIIqoOXKzvbu19t74YDAekwva6z90b9UsHf9OUvL8+/3Kx+eX9Hz8by3BwYjcsG952jGyc2OukBx0SbQFE8mWCz8GECdJnSlUI9WK1nTfpUQD+fT/+6v/z5fkN5Y/fMvW8JG670TpeuNl7R7AAMWS+X0VYhe1fHB9iBSxXP2cJTCb1QcI8sXcv832+vPr48ZZf2zfrklcpdS/hDX3m1WeSHGlCnWbpSQbPpFVlaC5hFHG6k8jcyeilhbuXwqUD+eXfx4fa8ufJunMlGop6J+ENXdrzR/3jYbdlGxzQ6XCFXz8HqEbJkjp6I5TO+dNv2Fzb79+H11dOVNZ0sRPaMJ57w+LqtCLNh0ccjvbOwJ0ajkYxGslBY3I8qWaRTPOgUMiaeX/fbrtFfDXpXnfqMxieVnKhQFUPDLL3kY5Eh+lqzStJpKIrEwAoC1rIxOQlqB/GJItAohiYTLlm4rjE2WeRYlDBbx/55OHpl3AbQEgZDMSQeT0HRdDQaDwaxTMqV6WVLYbDjBBhuENjrrnLToJcdWR136emAmo1pzyTsAZBJZREYQWAYTsSTUQgORYLb265ldRpaLBTyO3IY+uubF5/Opg+3z5sCz0oCYw0o16TsMZBCkkkYiUOx/XTmKHuQTsRH3X5b66VgJB2LIWGQLpY+f/r+7tnzqW70mw3iKK/UatxkRNlDAAyFfewnCoL76XRb05pqa/fRbiIaTcdjMAQepuD5eLyfTNVI0un3/b02xGq7a+BDHYAiUd/vPtrhWUGp1spFNLgXDgWCUb8pBKUTUCoWUTkOy+c0njG7bR4/btdrNamGyVUgEgZ9HAlHaJIuF4sR0H+GwkH/6yE4Gskg8VQ8ih3lRprWV+VOXTrOH7ZqVbkq5wvl/wC6lyQn5jCbwAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;굿이예요&quot;
        title=&quot;&quot;
        src=&quot;/static/0cc667f0ab708296a0dcf7f34de26670/3684f/image-9.png&quot;
        srcset=&quot;/static/0cc667f0ab708296a0dcf7f34de26670/c26ae/image-9.png 158w,
/static/0cc667f0ab708296a0dcf7f34de26670/3684f/image-9.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이런 감상젖은 말들은 나중에 회고같은 것으로 더 쓰겠습니다&lt;/p&gt;
&lt;p&gt;오늘은 Node.js에 기여하기 위한, PR이 merge되기까지의 한 사이클을 기록하고자 해요&lt;/p&gt;
&lt;h1 id=&quot;build--test&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#build--test&quot; aria-label=&quot;build  test permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Build &amp;#x26; Test&lt;/h1&gt;
&lt;p&gt;먼저 본격적인 기여 활동에 앞서, 프로젝트를 빌드해봐야겠죠?&lt;/p&gt;
&lt;h2 id=&quot;빌드해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B9%8C%EB%93%9C%ED%95%B4%EC%9A%94&quot; aria-label=&quot;빌드해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;빌드해요&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/nodejs/node/blob/main/BUILDING.md&quot;&gt;Building Node.js&lt;/a&gt; 여기를 참고하여 진행해볼 수 있습니다.&lt;/p&gt;
&lt;p&gt;저는 Windows 11(WSL2 Ubuntu 20.04) 환경에서 진행했습니다.&lt;br&gt;
그리고 먼저 사전 준비사항 중 gcc, g++ 버전 요구사항이 있었는데,&lt;br&gt;
저는 요구사항보다 낮아서 업그레이드하고 진행했습니다.&lt;br&gt;
&lt;a href=&quot;https://int-i.github.io/cpp/2021-07-10/ubuntu-gcc-11/&quot;&gt;여기를 참고&lt;/a&gt;했어요.&lt;/p&gt;
&lt;p&gt;이제 준비가 끝났으면, 로컬에 클론 받고,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;./configure &amp;amp;&amp;amp; make -j4&lt;/code&gt;로 빌드를 시작해줍니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;./configure&lt;/code&gt;: 먼저 빌드 환경이 제대로 갖추어졌는지 사전에 점검합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;make&lt;/code&gt; : Node.js 빌드 프로세스는 Makefile로 관리되며, &lt;code class=&quot;language-text&quot;&gt;make&lt;/code&gt; 명령어로 빌드를 시작합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;-j4&lt;/code&gt; : 프로세스를 4개 써서 병렬 연산을 진행합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;아? 그리고 시작부터 끝까지의 시간이 알고싶다면 &lt;code class=&quot;language-text&quot;&gt;time&lt;/code&gt;명령을 사용합니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;time make&lt;/code&gt; 이런식으로요&lt;br&gt;
시작!&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a2c225d89bdb6cac19b16496c725ec35/3684f/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 99.36708860759494%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEz0lEQVR42gHEBDv7ADofFDgbFzkcFzkcGTYbFzkdEzYZEzolJEs8RFE/RldGSJWBdnppZzgsLB8ODyYTFSYSFCcXFyMTFCMSEwBQNCZGJhwyFQw7HhU9HRc8HBM5HRE7JB9UPkVMNzWYg3q4oJJvX147MDMeDQ0nExMmERMoFBUmEhMmEhQAgmxcvKONaFNHJhAPKA8MLBMPKxUQOiUoTTUxknlq1r6vj3p0cF5hPi8xIA4TJxMaJRESJxMRJRERJhETAHRcTOHIs9i+rolzaEIvJDgkHTonImRPTK6Rhu3QvKuThH5rYndkYz8vMCEQEyUTFyUQEScTEiYSECYSDgBVOCq8n47jxbbp0MDMua6BcminlYXawKru07rIrpmGbmB/bWZzZGQ+MTMiEBEmExQlExEnFA8oFRMmFRAAQSQYiWxc1Lig5My56NXKz7uosqCU48i2zLWerJeFk3ttfWtfa19fOi8xHw4QJhMVIxEQJRIMIg8SIhASAEgtJZ2Ab9a5ourSvdbIv86/tLWil8uxpLmklaqXh7igkpuHeGtgXTswMB8ODyQQEiMPDSQRDh8PER8PEwBhRTh7XlDGqpn12sXo08LSvrHTuqnJr5ywm4y7qZnLt6mXhHdxZ1xDODUfDxElERImEQwjEQoaDAoYDBEARSkZRSgbvqKT9NnE/+PM9NfAt6WXno2Bpo+BtJ+QpJCChHZocWZYRjg0Hg0OJRITJRIOJBIOIQ8LHg0RADUZEUcsIXhkV3hiT+/Su9a7rFpRUW9jY7CYipR+b415bH5qXXlnWFRCOi8eGS0aGSQQESQQDyEOCTEeHQA0FxI2IROEcmOYhG7TuKDMrpnAp5TRvq2dinyHdGaDbV98ZVeCbF59al52Y1deS0M+MC4tHiAlFBYlFRUAORsPNRwQVUAvzrWc2b2jwaOK+N3Iq5iHdmNVfWpchm9hl4Byl4FzlH5woox9po+DjHxzW01JLh4eHA0MADgcDjseGDQaDnZbRa+Pf5V1Z6qRgH1qWG1ZTJuGeMiyo8Ksnp+IepmCdKqUhrGbi6eShJB9cmxYUj8sJwA8IRw4HhQ7IhNbPzOkiX2vlomWfnGNdmiii33bxLbn1MXLtqeii32fiHuvmoy6ppe3n5GgjH2QfW54ZFsAOSIfNhkNOBsOVz0wsZ2P8N3O3cm7zLiq4sy+59C938m7w62fpI1/n4h6r5iKxK2fuaKUpo+Cjnlrg3BiACsVCzIXDTYbEUw4KJ6Ke+HNv9fEtdPBsNbDrsq0n8+4q8OsnqaPgaaPga6Yicixo8Cpm6qShZN8boFtXwA0Gg8wFgwsFww7KRtyXE6okoOvnI21o5O0no+6oZHOt6nQuauznI6nkIKvm43ArJ2+ppiokYOSe22Gb2EAKQ8LKRIOKRURLxsUMh4VZVFEnYl6opF+tZ+NvKGLv6WU1b2vy7WnrpqLtZ6QtaKTqZeIo41/kXpsknttACgUDysXDS8XDzEaEy4YED4qHId0ZaCLfKuVh7iikbWcjMmypNXAssu5qa2djZ+QgJyJeqCKfKOMfqGKfAAuFQ4uFAwvEw4vFQssEwwtGAtxX0/HsKKxmoyslYelj4HCrqDcx7nTwbKflIKFdmWUgXK5o5XBqpykjX9KZ/A3BC8ARwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;로딩 고양이&quot;
        title=&quot;&quot;
        src=&quot;/static/a2c225d89bdb6cac19b16496c725ec35/3684f/image-1.png&quot;
        srcset=&quot;/static/a2c225d89bdb6cac19b16496c725ec35/c26ae/image-1.png 158w,
/static/a2c225d89bdb6cac19b16496c725ec35/3684f/image-1.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;어라? 그런데&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ccfd01da2e8ffc0df8fe3e622437536b/5b795/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 12.658227848101264%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAb0lEQVR42mXMWwrEIAwFULfgjC9EIVpEqKOgCLr/lU1IoRR6Pi65hISdEFopOWcACCGklA4SY7TWcs6FEF+Cw4fclf1qHWO0hh9KJUC897g2RGttHq6Kyfbec87e+1oLE7/gpSK4ds6ZFyklplLqD7XOFTJVLM2mAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;빌드 에러&quot;
        title=&quot;&quot;
        src=&quot;/static/ccfd01da2e8ffc0df8fe3e622437536b/f058b/image.png&quot;
        srcset=&quot;/static/ccfd01da2e8ffc0df8fe3e622437536b/c26ae/image.png 158w,
/static/ccfd01da2e8ffc0df8fe3e622437536b/6bdcf/image.png 315w,
/static/ccfd01da2e8ffc0df8fe3e622437536b/f058b/image.png 630w,
/static/ccfd01da2e8ffc0df8fe3e622437536b/40601/image.png 945w,
/static/ccfd01da2e8ffc0df8fe3e622437536b/78612/image.png 1260w,
/static/ccfd01da2e8ffc0df8fe3e622437536b/5b795/image.png 1455w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 끝나버렸어요 ㅜㅜ&lt;br&gt;
찾아보니.. &lt;code class=&quot;language-text&quot;&gt;-j4&lt;/code&gt;를 더 낮춰서 해보라고 하길래(대충.. wsl2에서, 프로세서가 충분치 않을 때 그런다고 합니다)&lt;br&gt;
아예 그냥 프로세서 하나만 써서 하기로 하고, 자고 일어났습니다.&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/26fc563c665baa34557a2fe26bf89a17/5a46d/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AM+bHKPHKIfAG4a4G42yHYq4GsTYI//yOvj2QvzoGPHbGfe9BfveCfrSFsXPI3WrAYKqCpSlEPb0Ts7DQADWpRqdxCJ9qxR7qRl6rxh3qRtOaDxeaD7WzDbQvh7z1BLKpxLIsBP52BS8wx11pQV4pQiTpQ7290zQ0E8A49E1zdEqt7QYprEXq7YUhpMhd4tSaXVLdW4zKj5BRFE6f39KP0tD4tZCysQkgJwEbKMEhp4L8u080co+AKy2HbLAJsncKKu2DLG4EqqzI3OGPF55MVJwMV5yP0xkRVZpQERYPrnDNMPKIYmdBH6cB4WaDLa3GJCTFACOpAqsvBigszVEYCR0jyGTpSe2vDVtjBaNshqosxPP1i6IohWCnRtuhiB5iypukA6DtgCXrQuutg6AkBEAmqsYwc0ln65FQVYwcIQjQVZJfpNSLUYxQ2A5QVo1e5BJKEdAXXkyWng3QldAQ2cvQ3UeepQwtsMheIcSAO/kNv3yPM7PTEJQPJqdSbe8Sp+nQEhcLVRyMHeHJY6aNGdrS4J+PoCHQLK8Tbi9UDBBRMTEUvboL7mwIwD48U727EHy1Cbz0yj32SeonjaysSuUog+Qph+JmBXfwxf/1xD80gj0zRH86yvo4UfEyVP86i7/5h/TuiIA8eU+8tss8swa9tkb+NMVeHQurL04X3gfTGY4OlgufngysaQunZsma2ovk5Mz+usr+vdD8NYV9t0PyZYHAPLZNu7RKOPLLcGoPe3ZN4CASHGBSTpPQD5WTVZwOoB+TV9kXVxcQl1fSZOOcvDfN+3LI/XWFvzTDdOyFgC1wSzv9l/n5E9tYXjPwVePhG5cVX1wY32Md1zLyE6clF90ZV+MgmnUsS6QiWN+h0KJiTXGyibb4DScoh2ZnUEjX/KDGgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;한 평생이 지난 후..&quot;
        title=&quot;&quot;
        src=&quot;/static/26fc563c665baa34557a2fe26bf89a17/5a46d/image-7.png&quot;
        srcset=&quot;/static/26fc563c665baa34557a2fe26bf89a17/c26ae/image-7.png 158w,
/static/26fc563c665baa34557a2fe26bf89a17/5a46d/image-7.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
&lt;p&gt;출처 - &lt;a href=&quot;https://www.youtube.com/watch?app=desktop&amp;#x26;v=7vnqiQ5_qU8&quot;&gt;https://www.youtube.com/watch?app=desktop&amp;#x26;v=7vnqiQ5_qU8&lt;/a&gt;&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;자고 일어났더니..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7ce6323ce0329705515f9445ef46779f/3cb0f/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 73.41772151898735%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwklEQVR42nWS3ZKaQBSE5ya164oCWkFRBFTQVVEEgj+r6/s/Vr6dTlmbSqUvppozZ7r7zGDiWfz+DbvdjrUoiu12C4dkWaYilf1+v9lsIHxCTF3Vl8uFpr3FL4umadq2PZ1OkNvtdj6f67rW1snier0eDgcjB8BJ6S0WC7RWq9V6veYTriwiZVkul0tWOVeofljIE9X7/c42KjKRLf5PWzjRTJqmeKKK0tqCFJqKaTlPPLYIQhsr9ePxSNt8Pjc4PB4PtquqQpUNIqDaWOCAJ2NzUlwR/sTeWGgYhDUkBHNCUcdZd8F5Qj0J5obIGKLHYOTUPJUF9YsFFSXimD6J9nU4zzKNxypDPawQRdFsNmM8SJIkcRxzC/DRaESb0QWgJCsIKXThOEiLt6Etz3OEWCkSHomvC9OfpHcC5NdFIAqnVXUqRKCZOheBihmPw8lkgqReJbNgQ30MhgMNQRD0er2uxZsFxJB+OBy6npukSRiGtE6jqet6nue7rsuBfr//7Hb+him2xXQ89fv+58dnuSvbpo2j+PXlR/ftpdPpPPtQcf6ByavMi71B6hf3Iq3T/Jj54cAbRF4w/xmMHKfr/B+/AfRjiAI2q2STAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;빌드 완료&quot;
        title=&quot;&quot;
        src=&quot;/static/7ce6323ce0329705515f9445ef46779f/f058b/image-3.png&quot;
        srcset=&quot;/static/7ce6323ce0329705515f9445ef46779f/c26ae/image-3.png 158w,
/static/7ce6323ce0329705515f9445ef46779f/6bdcf/image-3.png 315w,
/static/7ce6323ce0329705515f9445ef46779f/f058b/image-3.png 630w,
/static/7ce6323ce0329705515f9445ef46779f/3cb0f/image-3.png 708w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;음... 4시간이 걸렸네요?&lt;br&gt;
그나마 별 일 없이 끝난게 다행입니다 ㅋㅋ&lt;/p&gt;
&lt;p&gt;나중에는 &lt;a href=&quot;https://github.com/nodejs/node/blob/main/doc/contributing/building-node-with-ninja.md&quot;&gt;Building Node.js with Ninja&lt;/a&gt;라는 잡기술을 사용하여 그나마 빠른 빌드가 가능해졌습니다&lt;/p&gt;
&lt;h2 id=&quot;테스트를-실행해봐요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EC%8B%A4%ED%96%89%ED%95%B4%EB%B4%90%EC%9A%94&quot; aria-label=&quot;테스트를 실행해봐요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;테스트를 실행해봐요&lt;/h2&gt;
&lt;p&gt;이제 테스트를 돌려봅시다.&lt;br&gt;
Node.js는 프로젝트 규모도 크니까 매우 많은 테스트코드가 있어요..&lt;br&gt;
&lt;a href=&quot;https://github.com/nodejs/node/blob/main/BUILDING.md#running-tests&quot;&gt;여기&lt;/a&gt;를 참고하여 테스트를 실행해봅시다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;make test-only&lt;/code&gt;를 실행한 결과&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/381d864b75b2405e26734ff500977a88/076ca/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA50lEQVR42p2QyW6DQBBE55ohrMYi7ALEvuXE/39anqdlRHyy/A6tnqWmqkdN01QUxfdHqHme0zS1LOsT8bIsbdvGcYxeay2v2Lb9lnjf967rboYoijzP04bzLamCfiIeatu2qqr6vsd/XdemaUiR53mWZfwFlZ6G0ejPGgQBehWGoe/7oQFznO8G7z+O47wsH868WpYl9cfAtCjJfw155evJw5nY4zjWdY0/zqRKkgQ92cgvS/YTAzvYMAh+9Oo4DgZGzLSd4Wyk557clsnxcF1XkitsOfs18GHDMMjPTQbEXHUuWBf+ADLdMR4uxQuNAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;테스트 실패&quot;
        title=&quot;&quot;
        src=&quot;/static/381d864b75b2405e26734ff500977a88/f058b/image-4.png&quot;
        srcset=&quot;/static/381d864b75b2405e26734ff500977a88/c26ae/image-4.png 158w,
/static/381d864b75b2405e26734ff500977a88/6bdcf/image-4.png 315w,
/static/381d864b75b2405e26734ff500977a88/f058b/image-4.png 630w,
/static/381d864b75b2405e26734ff500977a88/076ca/image-4.png 914w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;어라? 테스트가 실패해버렸어요&lt;/p&gt;
&lt;h2 id=&quot;실패한-테스트를-살펴봐요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8B%A4%ED%8C%A8%ED%95%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EC%82%B4%ED%8E%B4%EB%B4%90%EC%9A%94&quot; aria-label=&quot;실패한 테스트를 살펴봐요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;실패한 테스트를 살펴봐요&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;node --run &amp;lt;script-in-package-json&gt;&lt;/code&gt;라는 cli 명령에 대한 테스트가 실패한 것인데요..&lt;br&gt;
해당 feature는 &lt;a href=&quot;https://github.com/nodejs/node/pull/52190&quot;&gt;PR #52190&lt;/a&gt;에서 처음 제안되어 Node 22버전에서 합류했습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm run build&lt;/code&gt; 이런거 하듯이, &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;에 정의된 script를 실행하는 명령이고, 아직 experimental인가봅니다.&lt;/p&gt;
&lt;p&gt;아무튼.. 테스트 파일에서 어떤 하위 테스트가 실패했는지도 살펴보고,&lt;br&gt;
다른 테스트는 무엇이 있으며&lt;br&gt;
소스코드(&lt;code class=&quot;language-text&quot;&gt;task-runner.cc&lt;/code&gt;)도 살펴보고 나서, 왜 그랬는지 보니..&lt;/p&gt;
&lt;p&gt;이게 package.json을 찾으러 현재 디렉토리부터 시작해서 root(&lt;code class=&quot;language-text&quot;&gt;/&lt;/code&gt;) 디렉토리까지 거슬러 거슬러 올라가게 되어있습니다.&lt;br&gt;
근데 실패한 테스트는, root까지 &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;이 없다고 상정한 것인데&lt;br&gt;
저는 왜인지 루트에 &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;이 있어서&lt;br&gt;
테스트에서 기대하는 에러 문구와는 다른게 출력된 것입니다&lt;/p&gt;
&lt;h1 id=&quot;기여하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B8%B0%EC%97%AC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;기여하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;기여하기&lt;/h1&gt;
&lt;p&gt;이제 기여를 해봅시다.&lt;br&gt;
위에서 이미 뭔가 문제를 겪었으니, 이걸 활용하면 될 것 같아요&lt;/p&gt;
&lt;h2 id=&quot;1-contribution-idea&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-contribution-idea&quot; aria-label=&quot;1 contribution idea permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. Contribution Idea&lt;/h2&gt;
&lt;p&gt;해당 경험을 온라인 미팅 때 나누었는데,&lt;br&gt;
멘토님께서 관련해서 여러 조언이나 기여 방향 등을 말씀해주셨어요&lt;br&gt;
마침 예외처리 관련 테스트가 부족한 듯 보여서&lt;br&gt;
소스코드에서 발견했던 다른 예외케이스들도 다루는 하위 테스트를 작성하는 쪽으로 생각하게 됐습니다&lt;br&gt;
기여 뭐하지? 하는게 꽤 큰 고민인데.. 바로 발견해버렸어요. 츄베릅&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0a20e4756ff15f2b493726d3cc435b7c/3684f/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEtklEQVR42j2P6U+aBwDG3z9gyT6uWbtkS5PNJbVZutauazNrl26xa0e7aaXV4UE9OK0glyiHCnIqoH1FQUQUBDnkPl8QkBsEvCi1R2rr/oTGmkY79qVPnjwfnuRJfg9AEQjbyJh2Sm8btbd7hEyWDI2phhUrczqXUW1QrEfX/Gv+Wf10I7alf5wK6mRyrZxJww0P9GKR94ChqSk4EYdkDAwrRaBJqjEryuXdNy+f7eZTpXwqHwuVCumDN/u+MEQbxjNZeD6XhUU+VM/yY2smYEQOIshYvmzC7dAHfdaDt2/3SuX1kC/oMntXDR6LIRJ0JhKRcqnkchueTLBX9bOJkPVpAdrJ+ADeHDipHw/5bKBQkE1ni4Vdl92uV82opAKPYSnqsGR97nWLJQRFkun0KKrHqZ56tR3ZTrjLOT/AloukmjHI78pm0uVy2e70GjRLAflMen5+TSB2UGgmPMFBHkgFw9nill2/uJX0lLOBvQ1oO+MFmFNiHKt3PREu7e5EwhGnK6CZVdpYzNAgU4clSZval8n0AEfgXlBl88WdzfxG1JGPWrfjntyaBRiZEcvmJMlULBINB9fCbm9oTqmU4Hu0PV3QKDcqncrq9Jn5Ba1EYFk1J2PhsGOxGLFkw9biuhUYV4JmswGCAlaLORQOO11umWRCyqIrMZ0rOHxweMzEEfgV83IOSyGfDHltxZhrM2bPR22llBvgyURmk25RrVLKQcPy4vwsSECjMf80MRphnIaGMF8cEIznNFqTTKZWTK8sqSCrppT27GX9L3JBYFIqXNaoxLxRNpPO4zAlAg4Zj4XD7nTV/zrY9LeC2G8gUdX4Ps3oyJNx0YJqVquUvcwGXuU9r/MBQDs3BcqEHNbgEJXEZTO47CEhl92Lw+Lg93mPWnG37wjb7j7palCMsGTCMXBizKTX5MKuF5mKnYDdqJkQcqjEx42w20hEMwGHQnW29vXiHiPbSAgEoRmemqbtmSWSIQqb0sdn9itBiX1FW1q3PU/bAL/DyBtlPMaiwMmpZCJeLj/dyOU2N4uYrva6n2s64Y1iah+XRMC0IcboZP7QAJdBkYs4haDxedoBuFd1k1Lx/pvXHz9+PDk5+ZT/HrztQSJ6EC1ENAbZ1NRQf7P9rz8xiBYqpmOGR9+J2MpJD+AwL2TTyUwms7+/XygUEvF4IlGJWKVJxuP1tbW3aq/duHjh6vnzsLpfYLWX6aiHdtXEhmdpL2WvYC+92HsWi8VKpVJlBkFQMBhcqchozKTTNdXVZ0+fqjp96sznn1Wd/pLYcd+lFgUMYNym2IKWgBxkjIacxyf/6+jo6MOHD8fHx4eHhxVy+aS06qszl7775lbNuQc3r9yrvcwkYFy66djqTM63UIS0wP4m5DcrfW7ru8N3nw4fvX+/vDB//Ydzf1y72Aq7gYLfIiIb8Yj7mNYWPpNi1ykCJrlLJwIOtrwvM3ZQyGD0owVsBn+ETcBjrv90qfrrL+7UXelovE149ICGbqXjOgbxPYw+HI2AF/M4ujnQuzILZD0Lm9FVq045SEQ3w36/dqH6QtXZH7//9rerNfD6uu4Hdyndzey+Tj5zgEsjkVHI/l40a5AkEXCXldP/AWzXzwWkSWiwAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;츄베릅&quot;
        title=&quot;&quot;
        src=&quot;/static/0a20e4756ff15f2b493726d3cc435b7c/3684f/image-5.png&quot;
        srcset=&quot;/static/0a20e4756ff15f2b493726d3cc435b7c/c26ae/image-5.png 158w,
/static/0a20e4756ff15f2b493726d3cc435b7c/3684f/image-5.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;2-수정사항을-작성하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-%EC%88%98%EC%A0%95%EC%82%AC%ED%95%AD%EC%9D%84-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;2 수정사항을 작성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. 수정사항을 작성하기&lt;/h2&gt;
&lt;p&gt;먼저 어떤 예외케이스가 있을지 봅시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;cpp&quot;&gt;&lt;pre class=&quot;language-cpp&quot;&gt;&lt;code class=&quot;language-cpp&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;package_json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;has_value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;stderr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Can&apos;t read package.json\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    result&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;exit_code_ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ExitCode&lt;span class=&quot;token double-colon punctuation&quot;&gt;::&lt;/span&gt;kGenericUserError&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// If document is not an object, throw an error.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get_object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;main_object&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;stderr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Can&apos;t parse package.json\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    result&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;exit_code_ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ExitCode&lt;span class=&quot;token double-colon punctuation&quot;&gt;::&lt;/span&gt;kGenericUserError&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// If package_json object doesn&apos;t have &quot;scripts&quot; field, throw an error.&lt;/span&gt;
  simdjson&lt;span class=&quot;token double-colon punctuation&quot;&gt;::&lt;/span&gt;ondemand&lt;span class=&quot;token double-colon punctuation&quot;&gt;::&lt;/span&gt;object scripts_object&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;main_object&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get_object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;scripts_object&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;stderr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Can&apos;t find \&quot;scripts\&quot; field in package.json\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    result&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;exit_code_ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ExitCode&lt;span class=&quot;token double-colon punctuation&quot;&gt;::&lt;/span&gt;kGenericUserError&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(1) &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;이 없을 때, (2) &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;을 파싱할 수 없을 때, (3) &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;에 적절한 &lt;code class=&quot;language-text&quot;&gt;script&lt;/code&gt; 룰이 없을 때&lt;br&gt;
일단은 이정도 있네요&lt;br&gt;
(1)은 이미 어느정도 다루어지고 있으니, (2)와 (3)에 대한 서브테스트를 만들어보면 좋겠어요&lt;/p&gt;
&lt;p&gt;일단 테스트를 위한 더미 파일을 만들고 싶은데&lt;br&gt;
이런 테스트용 파일은 &lt;code class=&quot;language-text&quot;&gt;test/fixtures&lt;/code&gt;에 두면 된다네요&lt;br&gt;
이미 이 &lt;code class=&quot;language-text&quot;&gt;test-node-run&lt;/code&gt; 테스트에서 &lt;code class=&quot;language-text&quot;&gt;/test/fixtures/run-script&lt;/code&gt; 위치에 테스트용 파일들을 두고 쓰고 있으니&lt;br&gt;
여기에 추가적으로 파싱 불가한 &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;script&lt;/code&gt;룰이 없는 &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;을 만들어줬습니다&lt;/p&gt;
&lt;p&gt;이제, sub test를 작성합시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;returns error on unparsable file&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; common&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;spawnPromisified&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;execPath&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;--no-warnings&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;--run&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;cwd&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; fixtures&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;run-script/cannot-parse&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  assert&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;stderr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token regex&quot;&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-source language-regex&quot;&gt;Can&apos;t parse package\.json&lt;/span&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  assert&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strictEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;stdout&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  assert&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strictEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;code&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;returns error when there is no &quot;scripts&quot; field file&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; common&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;spawnPromisified&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;execPath&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;--no-warnings&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;--run&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;cwd&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; fixtures&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;run-script/cannot-find-script&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  assert&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;stderr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token regex&quot;&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-source language-regex&quot;&gt;Can&apos;t find &quot;scripts&quot; field in package\.json&lt;/span&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  assert&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strictEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;stdout&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  assert&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strictEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;code&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;it()&lt;/code&gt;에 서브테스트 설명을 쓰고..&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;node --run&lt;/code&gt;을 실행하고..&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;어쩔.매치(regex)&lt;/code&gt;로 에러 문구를 확인하고..&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;어쩔.무조건같아야함()&lt;/code&gt;으로 에러코드와 출력 등을 확인하고..&lt;/p&gt;
&lt;p&gt;이런 식의 테스트 코드를 짜줍니다.&lt;br&gt;
이미 일련의 테스트 코드가 있으니 어렵지 않게 따라할 수 있어요&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 252px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2ac83a24b6a8ea5e577f0455e53dbd76/5e02b/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 79.11392405063292%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAADf0lEQVR42mP4/fv3nz9//yCBv3//fvv27dat2zdu3Lh169bVq1c/ffoEFPyNARj+o4J///4ByVevXu7Yse3gwX3btm05eGA/0MT/2ADDlm37T565cuzkpSMnLhw/c/XE2WtHjl9cs27HjFlLpk5fOHP20umzFi1Ztn7RkrWLl65dunzDipXrp0+fMnXa9Gmz5zFkFzY2d8/rmrSssm5CWGS6l29MSGR2UkZ1XklnTlF7XnFndGKxq1esi2esi1esh19SYGiKjbWdkZWzgp4ZQ05xdVBEtLdvkKmBub6qho6yhoasXHhofHFlX25Ra35JR3JGVUBYamB4RkBIRlB4RmxisaOTi4m5saGZMYO9i4uZiba+jr6dqWVXZc2E2uaGtMQkP8+cgpZsIMpvSUqv8glK8QtJ9QlM9g1KiYgtsLWzU1BRNbK0YfAKCHZ2tNRQ1Yr3965OjmzIyq5Oioq01YgKT84ubM/IbQBq9g5I8glM8QpI8gpIDovJcXR05RUW1TYwZrBxdre0MPJ3MC2JC0lwtwiy0nfVkguzUgryDcoqaEvLrktKq/YKSPTyT/LwjffwTwwMz3J3ceLlZRcQEmCwsTQ1MdYO93RoSA0pjnJLczfLD3KtjvEO9XBOy21Oy6pLSK0E2unuG+fiE+vqE+cbku7lHSgkyMvCzMDg7+duaWXtZGPTmZvUkRVRFKDnoCNnq67o7x2cltuUnF4dn1IB1OzqHevkGeXoEeUVnObg5KUkp8ArIMhgauloaGodExbVmRXVlhYQaS8vx8tmoyoXH5ebnAl0c1Vccrmnf6KTZ7SjR6SdS6h7QLKZpbOmqr6MrAqDsrSCu0tASXFrdWJ4W4qHt4kkOwODIDeXvomzq3dMcER2QlqVh38CULODe4SNc6ibb7yZc5ikjqOYnA6Dr3e0m2eMf3BaX01ZV1aQnSq3oQyXhpSwvIqJtUOAkbmbs1e0i0+chX2guX2gqa2frWukrrELt7Q2l6QGw7ET5/YfOHb8xOkP714+vn/98J5tZ48e2Lph3YSJU6dOnz1x8vRJk2ds2rLz6MmzB4+eBKJDx8/sO3hk45Ztm7fuwJ4xXrx4cfjw4Z07d6xZs2b/vn337t6FS6FkDGCOBGVKcE4E5szfv34BKWAefPz4ycOHD589ewZkALmQ3Pr69euHDx89e/b8yZOn7969AwD7g+14ftyakAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;copy &amp;amp; paste&quot;
        title=&quot;&quot;
        src=&quot;/static/2ac83a24b6a8ea5e577f0455e53dbd76/5e02b/image-6.png&quot;
        srcset=&quot;/static/2ac83a24b6a8ea5e577f0455e53dbd76/c26ae/image-6.png 158w,
/static/2ac83a24b6a8ea5e577f0455e53dbd76/5e02b/image-6.png 252w&quot;
        sizes=&quot;(max-width: 252px) 100vw, 252px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
&lt;p&gt;제가 이랬다는건 아닙니다..&lt;br&gt;
출처 - &lt;a href=&quot;https://makeameme.org/meme/copy-paste-859eee9d5e&quot;&gt;https://makeameme.org/meme/copy-paste-859eee9d5e&lt;/a&gt;&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;3-commit--pr&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-commit--pr&quot; aria-label=&quot;3 commit  pr permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. Commit &amp;#x26; PR&lt;/h2&gt;
&lt;p&gt;이제 준비되었다면, 커밋하고 풀 리퀘스트를 올릴 차례입니다&lt;br&gt;
이 과정은 &lt;a href=&quot;https://github.com/nodejs/node/blob/main/doc/contributing/pull-requests.md&quot;&gt;pull-requests&lt;/a&gt;문서를 꼼꼼히 확인하여&lt;br&gt;
컨벤션 룰을 잘 지키도록 합시다.&lt;/p&gt;
&lt;h3 id=&quot;3-1-commit-사전-준비&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-1-commit-%EC%82%AC%EC%A0%84-%EC%A4%80%EB%B9%84&quot; aria-label=&quot;3 1 commit 사전 준비 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3-1. Commit 사전 준비&lt;/h3&gt;
&lt;p&gt;먼저 위에서 수정하기 전에, 먼저 &lt;strong&gt;Fork&lt;/strong&gt;한 상태일 것인데&lt;br&gt;
새로운 PR을 위한 브랜치를 먼저 뻗은 상태에서 수정했어야 합니다.&lt;/p&gt;
&lt;p&gt;만약 아차! 이미 메인에 했어요! 하시는 분들이 있다면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;git stash&lt;/code&gt;로 수정을 임시저장하고,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;git checkout -b new-branch-name&lt;/code&gt;으로 새로운 브랜치를 만들어 체크아웃,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;git stash pop&lt;/code&gt;으로 다시 가져와줍시다.&lt;/p&gt;
&lt;p&gt;수정했으면, 테스트도 잘 돌아가는지 확인해야겠죠?&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;make test&lt;/code&gt;로 전부 돌려볼 수도 있지만&lt;br&gt;
특정 테스트만 필요한 경우 &lt;code class=&quot;language-text&quot;&gt;tools/test.py test-node-run.js&lt;/code&gt; 이런 식으로 골라서 할 수 있습니다&lt;/p&gt;
&lt;p&gt;그리고 &lt;code class=&quot;language-text&quot;&gt;make lint&lt;/code&gt;같은 lint 체크도 잊지맙시다.&lt;/p&gt;
&lt;h3 id=&quot;3-2-commit&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-2-commit&quot; aria-label=&quot;3 2 commit permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3-2. Commit&lt;/h3&gt;
&lt;p&gt;그 다음은.. 커밋합시다.&lt;br&gt;
커밋과 관련해서도 &lt;a href=&quot;https://github.com/nodejs/node/blob/main/doc/contributing/pull-requests.md#step-4-commit&quot;&gt;가이드라인&lt;/a&gt;이 잘 나와있어요&lt;br&gt;
아래처럼 나오면 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;subsystem: explain the commit in one line

The body of the commit message should be one or more paragraphs, explaining
things in more detail. Please word-wrap to keep columns to 72 characters or
less.

Fixes: https://github.com/nodejs/node/issues/1337
Refs: https://eslint.org/docs/rules/space-in-parens.html&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;앗 그런데 &lt;code class=&quot;language-text&quot;&gt;upstream&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;main&lt;/code&gt;에서 혹시나 업데이트가 있었을 수 있어요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;git fetch upstream HEAD &amp;amp;&amp;amp; git rebase FETCH_HEAD&lt;/code&gt;를 한 번 해줍시다&lt;/p&gt;
&lt;h3 id=&quot;3-3-pull-request&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-3-pull-request&quot; aria-label=&quot;3 3 pull request permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3-3. Pull Request&lt;/h3&gt;
&lt;p&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;git push origin my-branch&lt;/code&gt;로, fork된 레포지토리에 push합시다.&lt;br&gt;
이제 Github로 가서 새 Pull Request를 열고..&lt;br&gt;
적당한 내용을 작성해줍시다&lt;br&gt;
눈 한번 딱 감고 PR 열기 누르면 됩니다~&lt;br&gt;
이제 어뿌루부를 기다리는 일만 남았어요&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4cc6cdfd21ab0fb3fe936c356505528f/c1b63/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.9620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACn0lEQVR42h1SSU8TARQeOrTTDUO9GY4UtCDQEGJqUJCSAGVN2IqABksCkoCCLFL21JIipVrALnQZpp1u087SmU6niyyJCeKSqIkHj8aLv8PB997hu3xL8j3A7bF//nTy5/fPH98/MgyFE/EMx8KwB8fjKZbO5bkkTaChIJ5Mo3HWF0n7iRM/88XH/fLk/wLtHS1TT8fcTmscQ2Kx6Pn52eXlBUXE8ARGEASC+LFY+Pzs5PLiQy7DJIkITfqTpJ9MeEncB+iHeocGOwb6dBqNuqWlYXik32icQxBnIOAoKbkhAAuVytLGhvrHo3rj8uy+3RJC3TSFplNRlgkDezaT07GztbkwOTHa0918V1NTVVWmVleoVOUgCEKQpKAABK5GUAiKpFKZXH6tWdvIpaIcEwVQxHG4b97eXllbnV1fm5tfmDKM69s7muRymVAIifmFxGKxVCKR8SeTFfEyXZ1t376enuZIgIK3ScTmsm106ZqUypvlFVWD+p42nVYgEAiFIpFQBEGQ8ArxGhKpVM4r3r+nWX75zOXYBbjgbj52yKE2zG3aeGEwDHc/GRtQVZTxDtcVCt6UB//JIp7Mp1Aoiuvqqm9XltdUq4AsupcJ21PBPTZozUXeZsN2ArYtz4xXlpXqO7W6pjs1lbekErHwKoIIBAW1teqhh72trQ+02nogG3ydRiw0bCE8ZsLzCnOZCf+buNt6bN1ymJZ2liYM/V2QSMT7Q5JiSFw0MtK3uDg9PTNpGH8EpCMHVDzE0YkcS1JYiCHj0YCfioUS0XDI586zzLH3aH56am3FuLJuMZltXp+HL9/hfLe5tQpwmDtJ4gnUw9E4TeKn+WwQ9vLvkCQSYZ+LpfB0KhXwHmVT9DEM0xTxPpuJY7H9A/v8wvN/4Lwcv+okEg8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;please approve my pr&quot;
        title=&quot;&quot;
        src=&quot;/static/4cc6cdfd21ab0fb3fe936c356505528f/f058b/image-8.png&quot;
        srcset=&quot;/static/4cc6cdfd21ab0fb3fe936c356505528f/c26ae/image-8.png 158w,
/static/4cc6cdfd21ab0fb3fe936c356505528f/6bdcf/image-8.png 315w,
/static/4cc6cdfd21ab0fb3fe936c356505528f/f058b/image-8.png 630w,
/static/4cc6cdfd21ab0fb3fe936c356505528f/40601/image-8.png 945w,
/static/4cc6cdfd21ab0fb3fe936c356505528f/c1b63/image-8.png 1200w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
&lt;p&gt;출처 - &lt;a href=&quot;https://oumaima-dahhoum.medium.com/how-to-create-a-good-pull-request-with-examples-and-templates-cfc92f2bb94e&quot;&gt;https://oumaima-dahhoum.medium.com/how-to-create-a-good-pull-request-with-examples-and-templates-cfc92f2bb94e&lt;/a&gt;&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;이제 코멘트를 기다리다보면 &quot;이 부분 살짝 이렇게 수정 가능?&quot; 이런 요청이 있을 수도 있는데&lt;br&gt;
이런 경우 고쳐서, fixup으로 커밋하고, 푸시하면, 기존 PR에 반영됩니다&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/nodejs/node/pull/54204&quot;&gt;제가 열고, approve받고, merge된 PR&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;끝&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%81%9D&quot; aria-label=&quot;끝 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;끝&lt;/h1&gt;
&lt;p&gt;꽤 호흡이 긴 주제기도 했고&lt;br&gt;
자꾸 기록이 빵꾸난 곳이 있어서.. 제대로 썼는지 모르겠네요&lt;br&gt;
엥? 싶은것들은 말씀 주시면 감사하겠습니다.&lt;/p&gt;
&lt;p&gt;이제 다음 사냥감을 찾으러 가야겠습니다..
기여할 주제 찾는 것부터 어려워요&lt;br&gt;
제 실력도 부족하니 그에 맞는걸 찾으려니 더욱 ㅜㅜ.&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Spring Boot CRUD TIL기록 (1)]]></title><description><![CDATA[! 주의 : TIL…]]></description><link>https://sungpaks.github.io/til/spring-boot-crud-and-trying-hexagonal-architecture/</link><guid isPermaLink="false">https://sungpaks.github.io/til/spring-boot-crud-and-trying-hexagonal-architecture/</guid><pubDate>Sat, 10 Aug 2024 21:52:15 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;새로운 사이드 프로젝트를 시작했어요&lt;br&gt;
어렵고 오래 할 그런 건 아니고..&lt;br&gt;
그냥 적당히 연습해볼 수 있는 정도의 주제를 골랐습니다&lt;/p&gt;
&lt;p&gt;저는 익숙하지 않은 백엔드 개발을 맡게 됐어요&lt;br&gt;
새로운 도전을 하고싶어서 그랬습니다&lt;br&gt;
전 항상 이것도 잘하고 저것도 잘하는 사람이 되고 싶어 하는데..&lt;br&gt;
이도저도 아닌 인간이 되고 마는 것이 아닌지? 푸하하&lt;/p&gt;
&lt;p&gt;암튼.. 근데 제가 최근까지 바빴어서&lt;br&gt;
boilerplate를 만들고 소셜로그인 구현같은 초기 세팅 부분들을&lt;br&gt;
다른 백엔드 전문가인 지인이 좀 해줬습니다.&lt;br&gt;
앞으로도 좀 리뷰어를 부탁했어요. PR올리면 코드리뷰를 받기로 했습니다&lt;br&gt;
이제부터 제 백엔드 시니어인 것이애용&lt;br&gt;
거인의 어깨에서 성장하려니까 두근거리는데요? ㅋㅅㅋ&lt;/p&gt;
&lt;p&gt;아무튼 이 말을 왜 하냐면&lt;br&gt;
&lt;strong&gt;Hexagonal Architecture&lt;/strong&gt;를 적용해놨다고,&lt;br&gt;
설명을 좀 들어야 아마 이해가 갈 것이라고 해서&lt;br&gt;
특강을 들었었습니다.&lt;br&gt;
그 내용을 좀 정리한 기록으로 글을 시작하려고 합니다&lt;/p&gt;
&lt;h1 id=&quot;헥사고날-아키텍처를-배웠어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%97%A5%EC%82%AC%EA%B3%A0%EB%82%A0-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EB%A5%BC-%EB%B0%B0%EC%9B%A0%EC%96%B4%EC%9A%94&quot; aria-label=&quot;헥사고날 아키텍처를 배웠어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;헥사고날 아키텍처를 배웠어요&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://tech.osci.kr/hexagonal-architecture/&quot;&gt;헥사고날 아키텍처란?&lt;/a&gt;&lt;br&gt;
또는 포트와 어댑터 아키텍처라고도 부른다고 하네요&lt;br&gt;
이는 내부 비즈니스 로직을 외부와 단절시키고,&lt;br&gt;
외부와 연결하는 포트/어댑터를 따로 두어 유연성을 높입니다.&lt;br&gt;
또한 그 덕분에 테스트와 유지보수가 매우 용이하다고 하네요&lt;/p&gt;
&lt;p&gt;백문이불여일견이니 직접 봅시다.&lt;br&gt;
백엔드 사수께서 짜주신 구조는 아래와 같습니다&lt;br&gt;
혹여나 잘못된 부분이 있으면 제가 잘못 쓴거니까.. 칼같이 지적해주십시요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;page/
┠━ adapter/
┃   ┠━ in/
┃   ┃  ┠━ PageController (C)
┃   ┃  ┗━ dto/
┃   ┗━ out/
┃      ┠━ PageCommandAdapter (C)
┃      ┗━ PageQueryAdapter (C)
┠━ application/
┃   ┠━ port/
┃   ┃  ┠━ in/
┃   ┃  ┃  ┗━ GetPageUseCase (I)
┃   ┃  ┗━ out/
┃   ┃     ┠━ PageCommandPort (I)
┃   ┃     ┗━ PageQueryPort (I)
┃   ┃
┃   ┗━ service/
┃      ┗━ GetPageService (C)
┠━ domain/
┃   ┗━ entity/
┃      ┗━ Page (C)
┗━ infrastructure/
     ┗━ repository/
        ┗━ PageRepository (I)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hexagonal Architecture를 적용한 Spring Boot 프로젝트 폴더구조.&lt;br&gt;
서비스 내에서 &lt;em&gt;자신의 페이지를 생성,수정,삭제,조회&lt;/em&gt; 하는 기능이 있는데&lt;br&gt;
해당 기능인 &lt;strong&gt;Page&lt;/strong&gt;의 하위 구조입니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;(I)&lt;/code&gt;는 인터페이스, &lt;code class=&quot;language-text&quot;&gt;(C)&lt;/code&gt;는 클래스(구현체) 입니다.&lt;br&gt;
User, Auth, Page같은 feature? (단위를 이렇게 말해도 되는지 모르겠지만..) 별로 위와 같이 생긴 구조를 가집니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;adapter&lt;/code&gt; : 외부와 연결되는 어댑터
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt; : 외부(사용자)로부터 요청이 들어오는, 즉 Controller같은 것들&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt; : 외부(DB)로 요청이 나가는, 즉 DB로 가는 출구.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;application&lt;/code&gt; : 애플리케이션 로직 구현부
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;port&lt;/code&gt; : 여기에는 내부 로직인 &lt;code class=&quot;language-text&quot;&gt;application&lt;/code&gt;과 바깥 통로인 &lt;code class=&quot;language-text&quot;&gt;adapter&lt;/code&gt;를 연결하는 인터페이스가 자리합니다.
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt; : 외부(사용자)에서 내부로 들어오는, UseCase같은 친구들입니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt; : 내부에서 외부(DB)로 나가는, 쿼리를 포함할 친구들입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;service&lt;/code&gt; : 여기에는 진짜 서비스 로직 구현체가 위치합니다. &lt;code class=&quot;language-text&quot;&gt;~~UseCase&lt;/code&gt;들의 구현체입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;domain&lt;/code&gt; : 서비스 로직에서 쓰게 되는 객체들
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;entity&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;infrastructure&lt;/code&gt; : 객체를 DB에 Mapping하고 영속화하는 레이어? 라고 해야할까요..
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;repository&lt;/code&gt;같은 애들이 들어갑니다. (&lt;code class=&quot;language-text&quot;&gt;JpaRepository&lt;/code&gt; 등.)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Query를 다시 한 번 Command와 Query로 나누었는데,&lt;br&gt;
CRUD작업 중 R(READ)만이 Query, 나머지는 Command로 나눕니다.&lt;br&gt;
이는 데이터베이스 관리를 Master-Slave로 사용하게 될 때를 대비하고자 하는 것이라고 해요.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://multicoin.capital/ko/2021/07/30/scaling-reads-and-writes/&quot;&gt;웹서비스에서 데이터베이스 작업은 읽기와 쓰기의 비율이 최소 100:1에서 최대 10000:1&lt;/a&gt;까지 간다고 합니다.&lt;br&gt;
따라서 읽기 부하는 매우 자주 일어난다는 점인데&lt;br&gt;
&lt;a href=&quot;https://mariadb.com/ja/resources/blog/database-master-slave-replication-in-the-cloud/&quot;&gt;Master-Slave 복제&lt;/a&gt;는 이러한 읽기 부하를 분산하기 위해 자주 사용됩니다&lt;br&gt;
이는 곧, Write(Create, Update, Delete)만 수행하는 Master 데이터베이스를 따로 두고&lt;br&gt;
이를 복제하여 Slave로 만들어 두고, Read작업은 이 Slave에서만 수행합니다.&lt;br&gt;
이제 Master-Slave 간의 데이터는 일정 주기마다 동기화하면 되겠죠?&lt;br&gt;
Write작업의 반영이 진짜 즉 시 반 영 되어야 하는 (금융처럼) 특별한 서비스가 아니라면 꽤 유용할 것 같아요&lt;br&gt;
Slave를 여럿 두면 비중이 높은 Read 부하를 분산시킬 수 있고,&lt;br&gt;
Slave를 하나만 두더라도, 트랜잭션으로 인한 lock같은 경우에 read는 방해받지 않으니 병목도 줄어들 것 같습니다&lt;br&gt;
또한 데이터를 복제해 두었으니, 문제가 생겨도 어느 정도는 안심이겠네요&lt;/p&gt;
&lt;p&gt;아 그리고, &lt;code class=&quot;language-text&quot;&gt;Service&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;UseCase&lt;/code&gt; 구현체고, &lt;code class=&quot;language-text&quot;&gt;QueryPort&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;CommandPort&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;QueryAdapter&lt;/code&gt;/&lt;code class=&quot;language-text&quot;&gt;CommandAdapter&lt;/code&gt;의 구현체인데&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;Controller&lt;/code&gt;나 &lt;code class=&quot;language-text&quot;&gt;Service&lt;/code&gt;같은 데서 이용할 때는 인터페이스인 &lt;code class=&quot;language-text&quot;&gt;UseCase&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Port&lt;/code&gt;를 주입받게 해요. (빈으로 등록해뒀고, 인터페이스의 유일한 구현체가 &lt;code class=&quot;language-text&quot;&gt;UseCase/Port&lt;/code&gt;)&lt;br&gt;
구현체가 아닌 추상계층에 의존하게 하여 결합도를 낮추는 셈&lt;/p&gt;
&lt;h2 id=&quot;이외-신경-쓸-것들&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%99%B8-%EC%8B%A0%EA%B2%BD-%EC%93%B8-%EA%B2%83%EB%93%A4&quot; aria-label=&quot;이외 신경 쓸 것들 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이외 신경 쓸 것들&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Controller&lt;/code&gt;만이 인터페이스 없이 바로 구현체인데,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;Controller&lt;/code&gt;는 개발 중에 그 구조의 수정이 매우 빈번한 편이고, 주입받아 사용하는 곳도 없으니 굳이 추상화를 하지 않았다고 하네요&lt;br&gt;
근데 예외로, Swagger 쓰려면 인터페이스를 만들어야 해요&lt;br&gt;
그래서 그냥 Swagger Interface는 나중에 Controller 거진 다 만들고 지피티한테 작성해달라고 하고 있습니다 ㅋㅋ&lt;/p&gt;
&lt;p&gt;그리고 엔드포인트 작성 시 경로를 &lt;code class=&quot;language-text&quot;&gt;/api/v1/&lt;/code&gt; 꼭 이런 prefix를 붙이자고 했습니다&lt;br&gt;
일단 &lt;code class=&quot;language-text&quot;&gt;/api/&lt;/code&gt;를 붙여야 함은, 배포 시 어떤 경로에 대한 요청이 백엔드로 가는 것인지, 프론트로 가는 것인지 알아야 하겠죠?&lt;br&gt;
이는 &lt;a href=&quot;https://sungpaks.github.io/deploy-your-project-with-vercel/&quot;&gt;Vercel 배포&lt;/a&gt;할 때 매우 느꼈습니다
그리고 나중에 가면 기존 기능을 더욱 디벨롭하고싶거나, 뭐 그런 충동이 들게 될 수 있는데&lt;br&gt;
그렇다고 기존 기능을 바로 수정하거나 폐기해버리면 이전과 호환이 되지 않겠죠?&lt;br&gt;
레거시 기능들은 그대로 &lt;code class=&quot;language-text&quot;&gt;/v1/&lt;/code&gt;으로 두고, &lt;code class=&quot;language-text&quot;&gt;/v2/&lt;/code&gt;처럼 새로운 버전으로 만들면 되는 일이라서, 저런 prefix가 붙게 되었습니다&lt;/p&gt;
&lt;p&gt;이외에도, &lt;code class=&quot;language-text&quot;&gt;ResponseEntity&amp;lt;?&gt;&lt;/code&gt; 과 같이 응답용 Wrapper Class, &lt;code class=&quot;language-text&quot;&gt;ApiResponse.ok()&lt;/code&gt;와 같은 응답 상태 유틸, GlobalException 등을 구현해 놓았으니 적당히 이런걸 잘 사용하라는 전언이 있었습니다&lt;/p&gt;
&lt;h1 id=&quot;이제-crud-만들어봐요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%A0%9C-crud-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%B4%90%EC%9A%94&quot; aria-label=&quot;이제 crud 만들어봐요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이제 CRUD 만들어봐요&lt;/h1&gt;
&lt;p&gt;아키텍처는 알겠고, 이제 구현해봅시다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;id, userId, title&lt;/code&gt; 이러한 간단한 내용만을 갖는 &lt;strong&gt;페이지&lt;/strong&gt;를&lt;br&gt;
생성, 조회, 업데이트, 삭제, 모두 가능하게 CRUD를 구현하는 것이 목표입니다&lt;/p&gt;
&lt;h2 id=&quot;controller&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#controller&quot; aria-label=&quot;controller permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Controller&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@GetMapping(&quot;/{id}&quot;), @PostMapping(&quot;/create&quot;)&lt;/code&gt;와 같이 경로를 매핑하고, 메서드를 적절히 작성해줍니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;/{id}&lt;/code&gt;와 같은 경로 변수는 인자에서 &lt;code class=&quot;language-text&quot;&gt;@PathVariable&lt;/code&gt;로 받아올 수 있고,&lt;br&gt;
인자에서 &lt;code class=&quot;language-text&quot;&gt;@RequestBody&lt;/code&gt;를 사용하여 Request Body의 JSON 데이터를 Java 객체에 매핑할 수 있습니다.&lt;br&gt;
아래처럼요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@PutMapping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/{id}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updatePage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@PathVariable&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token annotation punctuation&quot;&gt;@RequestBody&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PageRequestDto&lt;/span&gt; pageRequest&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;/* TODO : 업데이트 로직을 추가 */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ok&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ApiResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;근데 받아올 DTO 객체가 필요해서, Controller가 있는 패키지 하위에 &lt;code class=&quot;language-text&quot;&gt;/dto&lt;/code&gt; 패키지를 만들고, dto를 작성했습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Getter&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Setter&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PageRequestDto&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@NotBlank&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;message &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;User Id Is Required&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; userId&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@NotBlank&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;message &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Title Is Required&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 했어요&lt;/p&gt;
&lt;h2 id=&quot;entity와-repository&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#entity%EC%99%80-repository&quot; aria-label=&quot;entity와 repository permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Entity와 Repository&lt;/h2&gt;
&lt;p&gt;이제 Page에 대한 객체 Entity와 이를 맵핑하는 Repository를 만들어봅시다&lt;/p&gt;
&lt;p&gt;Repository는 간단히 아래처럼&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// page/infrastructure/repository/PageRepository.java&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PageRepository&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;JpaRepository&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게만 해주면 JPA성님께서 다 해주십니다.&lt;br&gt;
그럼 아까부터 빨간 줄이 좍좍 그어지는 이 Page를 작성해주러 갑시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// page/domain/entity/Page.java&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Getter&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;wai_page&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@NoArgsConstructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;access &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AccessLevel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PROTECTED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@AllArgsConstructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;access &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AccessLevel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PRIVATE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Builder&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt;
	&lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;strategy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GenerationType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;IDENTITY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; userId&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; userId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;userId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;id는 &lt;code class=&quot;language-text&quot;&gt;@GeneratedValue&lt;/code&gt;로 적당히 생성하게 했습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;IDENTITY&lt;/code&gt;로 하면 PK생성을 데이터베이스에 위임하고 &lt;code class=&quot;language-text&quot;&gt;AUTO_INCREMENT&lt;/code&gt;(mysql기준)같은 기능으로 자동 생성하게 한다고 하네요&lt;/p&gt;
&lt;p&gt;그리고 생성자를 직접 건드리지 않게 막고, 정적 메서드인 &lt;code class=&quot;language-text&quot;&gt;.of()&lt;/code&gt;로 가져오게 했습니다&lt;br&gt;
왜인지? 모르겠지만? 인자로 &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;를 요구하기에 &lt;code class=&quot;language-text&quot;&gt;builder&lt;/code&gt;로 생성했어요&lt;/p&gt;
&lt;h2 id=&quot;port와-adapter-out&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#port%EC%99%80-adapter-out&quot; aria-label=&quot;port와 adapter out permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;port와 adapter (out)&lt;/h2&gt;
&lt;p&gt;이제 Page 객체 클래스도 만들었고, DB와 맵핑하는 JpaRepository도 만들었으니&lt;br&gt;
out포트와 그 구현체인 adapter를 만들어봅시다&lt;/p&gt;
&lt;p&gt;port는 적당히 아래와 같이 작성해요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PageQueryPort&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;Optional&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; pageId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;findById&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;findAll&lt;/code&gt;같은 read작업은 &lt;code class=&quot;language-text&quot;&gt;QueryPort&lt;/code&gt;에&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;save, delete&lt;/code&gt;같은 &lt;code class=&quot;language-text&quot;&gt;write&lt;/code&gt;작업은 &lt;code class=&quot;language-text&quot;&gt;CommandPort&lt;/code&gt;에 작성합시다&lt;/p&gt;
&lt;p&gt;이제 구현체인 Adapter를 작성해보면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Repository&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PageQueryAdapter&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PageQueryPort&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PageRepository&lt;/span&gt; pageRepository&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Optional&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; pageId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; pageRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pageId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; pageRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;QueryPort&lt;/code&gt;를 구현하여 &lt;code class=&quot;language-text&quot;&gt;QueryAdapter&lt;/code&gt;를 만들었습니다&lt;br&gt;
이렇게 하면 나중에 &lt;code class=&quot;language-text&quot;&gt;findById&lt;/code&gt;를 jpa가 아닌 다른 방법으로 가져오게 되는 경우에도&lt;br&gt;
모든 코드의 &lt;code class=&quot;language-text&quot;&gt;findById&lt;/code&gt;를 바꾸는게 아닌, 여기 이 메서드만 바꿔주면 되겠죠?&lt;/p&gt;
&lt;h1 id=&quot;usecase와-service-in&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#usecase%EC%99%80-service-in&quot; aria-label=&quot;usecase와 service in permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;UseCase와 Service (in)&lt;/h1&gt;
&lt;p&gt;이제 DB와의 내통 준비가 끝났으니, 인바운드 작업을 작성해봅시다.&lt;/p&gt;
&lt;p&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;/port/in&lt;/code&gt; 에 UseCase를 작성해봅시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GetPageUseCase&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAllPages&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로요&lt;br&gt;
이제 이걸 Service에서 구현하게 되는데&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Service&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GetPageService&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GetPageUseCase&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PageQueryPort&lt;/span&gt; pageQueryPort&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; pageQueryPort&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;orElseThrow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NotFoundException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;해당 페이지를 찾을 수 없습니다.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAllPages&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; pageQueryPort&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;간단히 이렇게 작성해볼 수 있겠습니다&lt;br&gt;
앗! 그런데 &lt;code class=&quot;language-text&quot;&gt;getPage&lt;/code&gt;에서, &lt;code class=&quot;language-text&quot;&gt;pageQueryPort.findById()&lt;/code&gt; 를 바로 뱉는게 아니라, &lt;code class=&quot;language-text&quot;&gt;orElseThrow&lt;/code&gt;가 있어요.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;findById(id)&lt;/code&gt;의 리턴값은 Optional이라서, 있으면 정상적으로 뱉고, 없다면 예외를 던집니다.&lt;br&gt;
따라서, &lt;code class=&quot;language-text&quot;&gt;orElseThrow&lt;/code&gt;를 더해서, 있으면 리턴, 없으면 &lt;code class=&quot;language-text&quot;&gt;NotFoundException&lt;/code&gt;을 던지게 했습니다.&lt;/p&gt;
&lt;h2 id=&quot;해치웠나&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%B4%EC%B9%98%EC%9B%A0%EB%82%98&quot; aria-label=&quot;해치웠나 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;해치웠나?&lt;/h2&gt;
&lt;p&gt;이렇게 했으면 이제 Controller의 TODO를 지울 때가 됐습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@PutMapping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/{id}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updatePage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@PathVariable&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token annotation punctuation&quot;&gt;@RequestBody&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PageRequestDto&lt;/span&gt; pageRequest&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		updatePageUseCase&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updatePage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pageRequest&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ok&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ApiResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식의 코드가 가능하겠죠?&lt;/p&gt;
&lt;p&gt;이거 기록하면서 코드 보다보니 &lt;code class=&quot;language-text&quot;&gt;update&lt;/code&gt;로직이 찐 업데이트가 아닌 새 데이터를 생성하고 있더라구요??&lt;br&gt;
바로 고쳤습니다..&lt;br&gt;
이외에도 문득 눈에 들어온 게 있어서 두 가지 정도 수정을 좀 했네요&lt;br&gt;
기록과 리캡이 이렇게 중요합니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[⛔ React Router : 경로를 정의하고 접근을 제한하기]]></title><description><![CDATA[아시다시피, React…]]></description><link>https://sungpaks.github.io/restrict-routes-using-react-router-dom/</link><guid isPermaLink="false">https://sungpaks.github.io/restrict-routes-using-react-router-dom/</guid><pubDate>Wed, 07 Aug 2024 20:34:57 GMT</pubDate><content:encoded>&lt;p&gt;아시다시피, React는 미리 준비된 페이지를 가져다 보여주는 것이 아닌&lt;br&gt;
클라이언트 사이드에서 자바스크립트를 사용하여 동적으로 뷰를 업데이트합니다.&lt;br&gt;
이는 곧 경로 하나 깜빡 하지 않고도 모든 페이지를 그려내게 된다는 것인데&lt;br&gt;
이렇게 페이지를 적당히 필요한 부분만 다시 그리며 뷰를 바꾸는 것을 &lt;strong&gt;SPA (Single Page Application)&lt;/strong&gt; 이라고 하고&lt;br&gt;
요청에 따라 미리 준비된 페이지를 보여주는 것은 &lt;strong&gt;MPA (Multi Page Application)&lt;/strong&gt; 이라고 합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d2fb08bdf156b14c70ee4e839f886c14/774b6/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.65822784810127%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGElEQVR42o2SyY6DMBBE/f9/iIQ4MIhl2Cbse+bJFTkIckgfrG67ylXutnneYlmWpmnatt22jZKkKIrjOO5Ic9/6OwVlnudBEKzr+hW5qqosy1Cr65ryYaPrOvKL/gfyMAxA+76f51m2EectXykT+75P0wRfbik/wt5kWUJWJtUt+GEYsnn3fFXm2PM8HnyGRlFUlqXK4xRvMsZQY0KISNPFZoMu4uKqzKu4hqnEcUxvuIKcxF2q/iEOeRxHBCh5Gvvm1waDAcoBOQhnm2n5vv9jI0kSlLBA88Fg50WmRgRNQLInMlBO1UKssZmmKYkmZ6DpS0gZHKsjcx13oQ+aFQH9Gbkzgw03GN6mvyEyIHZQQ18fjtVh/gF+2vQK5aXuWwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;MPA &amp;amp; SPA&quot;
        title=&quot;&quot;
        src=&quot;/static/d2fb08bdf156b14c70ee4e839f886c14/f058b/image.png&quot;
        srcset=&quot;/static/d2fb08bdf156b14c70ee4e839f886c14/c26ae/image.png 158w,
/static/d2fb08bdf156b14c70ee4e839f886c14/6bdcf/image.png 315w,
/static/d2fb08bdf156b14c70ee4e839f886c14/f058b/image.png 630w,
/static/d2fb08bdf156b14c70ee4e839f886c14/774b6/image.png 738w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이런 식으로 된다는 것입니다&lt;/p&gt;
&lt;p&gt;근데 이렇게 SPA식으로 하면&lt;br&gt;
로그인 페이지와 내 정보 페이지를 어떻게 구분할까요?&lt;br&gt;
MPA라면 URL로 &lt;code class=&quot;language-text&quot;&gt;sungpaks.com/login&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;/sungpaks.com/my-page&lt;/code&gt; 이런 식으로 구분될 수 있습니다&lt;br&gt;
그런데 SPA는 그렇지 못하죠.. 그냥 &lt;code class=&quot;language-text&quot;&gt;sungpaks.com/&lt;/code&gt;인데 어떨 때는 로그인 페이지고 어떨 때는 내 정보 페이지인겁니다&lt;br&gt;
이러면 뒤로가기 또는 특정 페이지로 이동하기처럼, 경로가 필요한 동작이 제한적입니다.&lt;br&gt;
특히 가장 중요한! 인증 여부에 따라 접근을 허가하거나 제한하는 일이 까다롭겠죠&lt;/p&gt;
&lt;p&gt;그래서 &lt;a href=&quot;https://reactrouter.com/en/main&quot;&gt;React Router&lt;/a&gt;라는 것이 등장하여&lt;br&gt;
이 경로를 정의하고 구분하는, &lt;strong&gt;라우팅&lt;/strong&gt;을 쉽게 할 수 있게 해주었습니다&lt;br&gt;
이것만 있으면 제 맘대로 &quot;여기는 &lt;code class=&quot;language-text&quot;&gt;/login&lt;/code&gt; 경로에 해당하는 페이지야&quot; 라고 정의할 수 있습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 264px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d1a47b439b056700c0809621740561ae/e61aa/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.15189873417721%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZElEQVR42k2S20uqURDFv//VJ1MIlEzQB3vTINNIrB4CFbHSECs0oZJIMjXvl7Sbl9TqHDxqx7Q09fzUlzMPH/vbe9aatWZGeH5+/jOLdrvdarV+/xcvLy93d3culyufz/P0axak3c6iXC4LjUZjNBq9v78/PDzc399zVSwWOXx/f3MP3maz1Wq1yWQyGAy45JBMJiHlaQr++voiOxqN3tzccJtIJMLhMBXIq1arDocD8HA4/DsLGOPxOAVeX1+Fer3Of6/Xg5hDs9nsdDrAYCQVU4eHh1CMx2M09/t9nmB/fHyk6hQM7PPzE9jJyQmp29vbFovl4+OjUqnw6na7n56ejo6OZDKZUqmELpPJlEolnApkwAofABR6vd5IJLK4uLi+vg4djYTu+vr6/Pw8GAzq9XqNRpNOp6GgowInHjwez+7uLjZ8Ph91eFMoFHxRTrcvLy/RiXMK7u3tXV1d8TutTIbZbBaLxSaTaW1tTavVGgwGGBGSy+Vw7nQ60UmHCoUC5pHDnGg1wxOos7q6KpFIlpeXcWu1Wjc2NnZ2diiIMFK3trawHQgEorNgIgcHB/v7+xwEKI1Go1qt3tzcRLndbucglUqpjzB0Uvb4+Bg8jmKx2Onp6cXFRSgUwqyQzWbpGRoQo9Pp5p1cWFhYWVlhNsh+e3tjNqlUCkdLS0skoJknTAnYmMwCjEgk8vv9Z2dncrlcpVJRZz5w9FMADAWZBbuIf3ZW4IoMpvXz84MeAPQT2/QM2WCwPWdnQ0ijRzgHz55NK8Pd7Xb5ksFucEYqs517YyrsH5csEngWi3qkFQqFf8SXqvz8butPAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;맘대로하세용&quot;
        title=&quot;&quot;
        src=&quot;/static/d1a47b439b056700c0809621740561ae/e61aa/image-1.png&quot;
        srcset=&quot;/static/d1a47b439b056700c0809621740561ae/c26ae/image-1.png 158w,
/static/d1a47b439b056700c0809621740561ae/e61aa/image-1.png 264w&quot;
        sizes=&quot;(max-width: 264px) 100vw, 264px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이제 저는 로그인 여부에 따라&lt;br&gt;
어떤 페이지는 로그인을 해야만 들어갈 수 있고&lt;br&gt;
어떤 페이지는 로그인을 안 했어야 들어갈 수 있게 하고 싶습니다&lt;br&gt;
예를 들어, 마이페이지는 당연히 로그인을 해야 하니, 안 했다면 로그인 페이지로 리다이렉션&lt;br&gt;
로그인 페이지는 응당 로그인을 안 했어야 들어가게, 로그인 했다면 홈으로 리다이렉션&lt;br&gt;
이런거요&lt;/p&gt;
&lt;p&gt;React Router와 함께 이를 구현해봅시다&lt;/p&gt;
&lt;h1 id=&quot;react-router&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#react-router&quot; aria-label=&quot;react router permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;React Router&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://reactrouter.com/en/main/start/tutorial&quot;&gt;React Router 튜토리얼&lt;/a&gt;에 시작하는 법이 잘 나와있습니다&lt;br&gt;
먼저 &lt;code class=&quot;language-text&quot;&gt;npm install react-router-dom&lt;/code&gt;으로 의존성을 설치해주시고&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/en/main/start/tutorial&lt;/code&gt;같은 우리가 생각하는 url path는 &lt;em&gt;browser router&lt;/em&gt; 라고 합니다.&lt;br&gt;
우리는 이 browser router를 만드는 것인데요&lt;/p&gt;
&lt;p&gt;튜토리얼에 따르면, 먼저&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  createBrowserRouter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  RouterProvider&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react-router-dom&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; router &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createBrowserRouter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;world!&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/hello&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token literal-property property&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;hello world!&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 &lt;code class=&quot;language-text&quot;&gt;createBrowserRouter&lt;/code&gt;로 라우터를 정의하고,&lt;br&gt;
그 안에 경로와 그에 따른 요소들을 작성해줍니다.&lt;br&gt;
그런 다음, 최상위 컴포넌트에서, 다음과 같이 작성합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;ReactDOM&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createRoot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;root&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;React.StrictMode&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RouterProvider&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;router&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;router&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;React.StrictMode&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;미리 정의한 라우터를 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;RouterProvider&gt;&lt;/code&gt;에 집어넣어주면 완성입니다.&lt;/p&gt;
&lt;p&gt;그런데 좀 더 리액트스러운 방식으로, &lt;a href=&quot;https://reactrouter.com/en/main/utils/create-routes-from-elements&quot;&gt;createRoutesFromElements&lt;/a&gt;를 사용하여 아래와 같이 할 수도 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; router &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createBrowserRouter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;createRoutesFromElements&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/hello&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Hello&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
	)
)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;게다가 상위 &lt;code class=&quot;language-text&quot;&gt;Route&lt;/code&gt;로도 감싸서, 당초 원했던 &lt;strong&gt;권한에 따른 경로 분류&lt;/strong&gt;를 구현할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 448px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/463999527a34a27db4690a2c00b35c58/33b38/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACd0lEQVR42j1SO0iqYRj+TprBmRqU1hptyEVs0TZpcDiDQ9jk0CAEXgbRaCjJC1hN5hYkCjWIoSIiaKGiZqGloQclb2gXJelqQVp5Hn8PPcPHd3nf93me9/1Iv9/vdrtfFLDpU6jX65VK5fb2ttls9no93Hx/f/+sj4+P5+fn5XKZ4BwIBF5eXkqlUjqdHiZfX1+fnZ3VarVisdhqtXCD0nd3d+Fw2OVy2e32g4ODRCJBcHtycoJdKBRKJpM4IvTy8tLn88Xj8b8UPj4+kDA9PT0xMfGbAovFEovFA+aHhwfIazQa0IkjxO/t7dlsttPTU1ClUqmrq6u1tTUmk0kIGR0d/UVhZGSE/PgcasMai8W0Wu3x8TFsQxTWbDYLHkSDk8Fg0Ol0BgXy/v7++fkJQuQgFMoXFhZmZmY2NjaQg8Z0Oh04FwgEcrlcJBKBfGxsDPk0Go38oeBwOPb395GwurrK4/EQsb29DSMWi+Xp6eni4mJ9fR1agsEgm80eih/IBrhcLp/PNxqNPQpLS0scDmd5edlgMOj1+p2dHbQd7UC3MR48IeU/M2rMzs6iH1tbWyCBZ4VCsbi4iFpQYbVazWZzJpPBPfRHo9Ef2wDBbn5+3u/3ozDMIwjdkkqlmNPu7q5Op4MjOMf9/f398/OzTCYbHx+fnJzEtAjY5+bmcrnczc3N29sbgpRKpUqlQiYGZqeAhr++vrYoeL1eiUSiVquFQuHAM3pwdHSUz+fxyfAx8YfwSWD18PAQRTFwjKBareIVnqF8c3MTdkwmE5mamopEIu12G2lgxm/BEZqhFuVXVlY0Gk2hUAAnfKHhHo/H7XajrtPp/AcAYud4HYu6WwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이히히 못 가&quot;
        title=&quot;&quot;
        src=&quot;/static/463999527a34a27db4690a2c00b35c58/33b38/image-3.png&quot;
        srcset=&quot;/static/463999527a34a27db4690a2c00b35c58/c26ae/image-3.png 158w,
/static/463999527a34a27db4690a2c00b35c58/6bdcf/image-3.png 315w,
/static/463999527a34a27db4690a2c00b35c58/33b38/image-3.png 448w&quot;
        sizes=&quot;(max-width: 448px) 100vw, 448px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아래처럼요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; router &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createBrowserRouter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;createRoutesFromElements&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;PrivateRoute&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* 로그인이 필요한 페이지 정의 */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/home&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Home&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;PublicRoute&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* 로그인 없이 접근하는 페이지 정의 */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;default page&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Login&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Route&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;음.. 근데 사실 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;PrivateRoute /&gt;&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;PublicRoute /&gt;&lt;/code&gt;는 공짜로 주어지는게 아니라서 직접 작성해줘야 합니다&lt;/p&gt;
&lt;h1 id=&quot;privateroute&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#privateroute&quot; aria-label=&quot;privateroute permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;PrivateRoute&lt;/h1&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;PrivateRoute /&gt;&lt;/code&gt;에는, &quot;로그인 상태가 아닌 경우 로그인 페이지로 리다이렉션, 그게 아니면 통과!&quot;&lt;br&gt;
이렇게 되는 로직을 작성해야겠죠?&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;AuthContext&lt;/code&gt;가 최상위 컴포넌트에서 제공되어서, &lt;code class=&quot;language-text&quot;&gt;useContext(AuthContext)&lt;/code&gt;로 언제든 &lt;code class=&quot;language-text&quot;&gt;isAuthenticated&lt;/code&gt; 여부를 가져올 수 있다고 가정합시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Navigate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Outlet &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react-router-dom&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useContext &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; AuthContext &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../context/AuthContext&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;PrivateRoute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; isAuthenticated &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AuthContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;/* 다른 필요한 로직들 */&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; isAuthenticated &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Outlet&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Navigate&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/login&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그럼 간단히 이렇게 쓰면 되겠습니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Outlet /&gt;&lt;/code&gt;으로 하위 Route로 통과시킬 수 있으며,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Navigate to={path}&gt;&lt;/code&gt;로 원하는 Route로 리다이렉션시킬 수 있습니다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;AuthContext&lt;/code&gt;말고도 전역 상태 관리 라이브러리를 이용하여 인증 여부를 어디서든 볼 수 있게 해도 괜찮겠네요&lt;br&gt;
저같은 경우는 &lt;code class=&quot;language-text&quot;&gt;AuthContext&lt;/code&gt;라는 context를 사용하기로 했으니&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// App.jsx&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AuthProvider&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RouterProvider&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;router&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;router&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AuthProvider&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 &lt;code class=&quot;language-text&quot;&gt;Provider&lt;/code&gt;로 감싸줬습니다&lt;/p&gt;
&lt;h1 id=&quot;navigate-location&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#navigate-location&quot; aria-label=&quot;navigate location permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;navigate, location&lt;/h1&gt;
&lt;p&gt;또한 React Router는 경로 관리와 관련하여 다른 편한 기능들도 제공하는데&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 218px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9986fcd76ab8cf78ccb56e13f6e96da1/5c416/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.69620253164558%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFDElEQVR42gEBBf76AEhLQCcmKCUpNS4xPygnNyUkNCAfLTU5T09XgkRXbjtnbUp0mUCGjidzdixgWlJ8gYm3wG64tWe8ll+1pABlYmk4OkgmLD4qKjgoKDciIjIeGykvLkI8Yn8lfZEklasjmbAkmLIkl60ii5wzhZN3pq6v3dRixLyN0soAZ1lMNDY/KjE/MjBAJiU2IiMzMzNGJV1sI5yuI6C4Jpq1Jpm1J5m0JZuzJp62H5yzNJeni6+/nrfRoLPMAD02JkBEUCYpNiwrOCEhLjIxQD5ygCGesSSbsyaXsiaZtCiatCOYtCWZtSeYsymatSOdtyR9lltni2VvmQA1OD13fpUkJTESEhckIS4mMj4mkKIkm7UmmLInmbQmmrQfmLIvma8nl6whmrUZkqwflq8gnK9Fc4VucpAANzg/UVRpHBsmEBETIx0oH0lVJqC2J5qzJ5u2JZm0HpmzRJ2nxdPDstLEKpCejsC8f7KwHJqtLn+Sc3eWACEiKUdHYR0dKAcLCxAKDyBgbCWlvRiRqCGTpy6bryWSpb3WyO3r0+Tq1Zy0qeTlz83SwCiXqSSMok1XdAAXFx5VVXQdGyoBBAMGAgIbZHAlnK96s7Guw7fO3s7B0cXo793W28i3vq69w7LY3crX4s8+mKMahZkcLUIAGxsiSElfGBgiAgQDBgAAGFBZj7637OnS7vHe4OLO6uza4OPTkZeJjoyBgn50o6ma2N7KzdnHTnt6N0NYABcbIFBYbCIiLAIBABhVYCdsd9DTw9ziz9fdyurv3Orv2+jt2szax59AT6lBVcbMuuHn0+zw2mtza0NMZgAZFRdINEYWERgXUVYpqL0XipuTrKLs7djf5NHu8uLt8OHu8uHv+uOpe3utZm/r8N3y+ubAyLcXICdXYH4ASRsknxo2HTg/I5qtJIueIJ+1L5CexNPF9/3p6/Hg6/Df7PDf8PTh1+TS4O7b7PPe2N3McniEBA4bXWaBACEeKTkeKSRpdyOhuSR/jSeZrhmbtEB/ib2onMrRvtrg0ufs2ufs2NLWxvTz4/r/6KOopEZMbwwUIkZPaQAnLkMXHSYmeYcjo7kjhZQggZEjobckipmlop22qo21uHu5v6a/xrLCybqTsahKU0wwNEs5Q2ECCREtM0wASkx6NzRZKHuNIaCzKZWoaZCPJo2eCJCkiby529y9jpVmn6eStr2s/P/qc4eGAAgfKDBNLDZVGSI1KjFPAFNWh0lFdTFwhyOesBuQqHKdmo+spk2eqH+ooL/Ftc/YzN/o1q61pqmuqGtthkpQe0dNc0JIbkdMdEhNdwBiZZVcV4tCZYoclagjmKsbfIu3x7bx79nk5tPl6Nnk59fb4dB9kpFQVoRqa59naZliYpFeX41bXYpjZZUAfH+wc3OocHybN5ObGYyfDYCVTYCB3+HL6O/W5+zb4eXTjKWdUYiNjpahf4Grf4Gvdnelc3ShcHGfdnemAKSn04+SxaOnqdHcwaK+sqDHuY+hmWlrfKiurqqupauzn6m7q9fj0NPXv5GUqZ2fyJKUuoyPtoiKs4yOtwCFeIu+v+qprMi3urvPz8XQzMadnKh1dqGAg6h9gJ2YnKTIy8PHy8CvsrOxs8+1uNqoq8uipcWcn8OeoMYAx8LLyszozc/pw8XivsDdu7zcw8Pi0NDr1tft2dzw09TqxsjewMbXyMrfx8jjvsDctbbVrq7Op6fLp6fOYWCOf6bnq8AAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;사차원주머니&quot;
        title=&quot;&quot;
        src=&quot;/static/9986fcd76ab8cf78ccb56e13f6e96da1/5c416/image-4.png&quot;
        srcset=&quot;/static/9986fcd76ab8cf78ccb56e13f6e96da1/c26ae/image-4.png 158w,
/static/9986fcd76ab8cf78ccb56e13f6e96da1/5c416/image-4.png 218w&quot;
        sizes=&quot;(max-width: 218px) 100vw, 218px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://reactrouter.com/en/main/hooks/use-navigate&quot;&gt;useNavigate&lt;/a&gt;와 &lt;a href=&quot;https://reactrouter.com/en/main/hooks/use-location&quot;&gt;useLocation&lt;/a&gt; 훅입니다&lt;br&gt;
다른 어디서도 사용할 수 있게, &lt;code class=&quot;language-text&quot;&gt;const navigate = useNavigate();&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;const location = useLocation();&lt;/code&gt; 이렇게 해두고 시작합니다.&lt;/p&gt;
&lt;p&gt;먼저, &lt;code class=&quot;language-text&quot;&gt;navigate&lt;/code&gt;함수는&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;navigate(-1)&lt;/code&gt;과 같이 써서 뒤로가기를&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;navigate(&quot;/to/go&quot;)&lt;/code&gt;와 같이 써서 리다이렉션을&lt;br&gt;
할 수 있는데, 어라&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It&apos;s usually better to use &lt;a href=&quot;https://reactrouter.com/en/main/fetch/redirect&quot;&gt;redirect&lt;/a&gt; in &lt;a href=&quot;https://reactrouter.com/en/main/route/loader&quot;&gt;loaders&lt;/a&gt; and &lt;a href=&quot;https://reactrouter.com/en/main/route/action&quot;&gt;actions&lt;/a&gt; than this hook&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이라고 하네요.&lt;br&gt;
이에 대해 잠깐 알아보고 가자면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;redirect&lt;/code&gt; : 다른 route로 리다이렉션할 때 사용 (&lt;code class=&quot;language-text&quot;&gt;navigate(/to/go)&lt;/code&gt;처럼)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;loader&lt;/code&gt; : route 요소가 렌더링되기 전에, 해당 요소에 제공할 데이터를 fetch하는 함수를 정의합니다.
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;createBrowserRouter&lt;/code&gt;에서, &lt;code class=&quot;language-text&quot;&gt;loader: async () =&gt; fetch(url)&lt;/code&gt; 처럼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;action&lt;/code&gt; : 해당 경로로 non-get 요청이 호출되면 실행할 콜백함수입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;아차, 이런 data api들은 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;BrowserRouter&gt;&lt;/code&gt;같은 라우터에는 사용할 수 없으니 &lt;a href=&quot;https://reactrouter.com/en/main/routers/picking-a-router&quot;&gt;Picking a Router&lt;/a&gt; 여기를 참고합시다.&lt;/p&gt;
&lt;p&gt;그리고 &lt;code class=&quot;language-text&quot;&gt;location&lt;/code&gt;은 현재 경로에 대한 여러 정보를 사용할 수 있습니다.&lt;br&gt;
예를 들면, &lt;code class=&quot;language-text&quot;&gt;google.com/foo&lt;/code&gt;같은 경로에서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;location.pathname&lt;/code&gt;으로 &lt;code class=&quot;language-text&quot;&gt;/foo&lt;/code&gt;만 가져올 수 있습니다.&lt;/p&gt;
&lt;p&gt;그리고 &lt;code class=&quot;language-text&quot;&gt;location&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;navigate&lt;/code&gt;를 조합하여 사용하면&lt;br&gt;
아까부터 느꼈던.. 그럼 props는 어디로 전달하지?? 라는 충동을 해결할 수 있는데&lt;br&gt;
바로. &lt;code class=&quot;language-text&quot;&gt;location&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;navigate&lt;/code&gt;에서 &lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt;를 사용하는 거십니다.&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 304px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a233b350ea4630d83241552aad1bb170/c1724/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB40lEQVR42mN4hQO8fPnyzZs3X799/fzlMy41DLh0vn379v7du0vmzd+wZu3rVy9evX5NpOaXL1+8+PDxQ29DjaepkZ+V2eqlS4D2v3j+nJBmoKWvXr15//7Royez6kvOzGhYXJUxqaX546fPL4AyIElcmoFyr9+8evLkxfWrr16/OrR07v6+up099We2bnz/8cOrp09evoEYjk0z0OTXL188P7z72e0b7778eHF63/HeitPTGl/dvfns2IH7GxY+v3XjzfsPQE9haH754tW7969vX320bvHzCxceXz24tid6Y03msvK4VX0x55e1np3d+3DXuvu3rr999wHifgakiHn76vGDl8d3nlnQvbQmYUGdR0uacV2y76TsiI5Mi2lVNmu64tZ2Fyxoyb1y9uibN++AmhigOt++e3r/xu6ZDf3poQvrY9uSrSaUunTku3UXRixtyu0vdJtSZNad7rikMXLn9IRdc9MfP3gItIwB7t29C7u3TMmYXRHWm+HXm2m9rNFsRrHF/JqgJfXBUwqt5lUYV0badqZ5za6J2jsz6O6Vg2/efWQAW/v2wa3ru2aV7p0RvLItaEqRR2eq6cIakwmZJrMqgqeWOE0sdFhUbTQh36k13m5Jc9jx9Y0vnj159fo1AN2f9dbu+JbfAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;PPAP&quot;
        title=&quot;&quot;
        src=&quot;/static/a233b350ea4630d83241552aad1bb170/c1724/image-5.png&quot;
        srcset=&quot;/static/a233b350ea4630d83241552aad1bb170/c26ae/image-5.png 158w,
/static/a233b350ea4630d83241552aad1bb170/c1724/image-5.png 304w&quot;
        sizes=&quot;(max-width: 304px) 100vw, 304px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
use-navigate-location-use
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;예를 들어, &lt;code class=&quot;language-text&quot;&gt;userId = 1&lt;/code&gt;이라는 값을 &lt;code class=&quot;language-text&quot;&gt;/my-page&lt;/code&gt; 경로에 전달하고 싶다면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;navigate(&apos;my-page&apos;, { state : { userId : 1 }})&lt;/code&gt;과 같이 작성하여 &lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt;에 키-밸류 쌍으로 넘겨줍니다.&lt;br&gt;
그럼 이제, 도착한 컴포넌트에서는&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;location.state.userId&lt;/code&gt;로 해당 정보를 가져올 수 있습니다.&lt;/p&gt;
&lt;h1 id=&quot;끝&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%81%9D&quot; aria-label=&quot;끝 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;끝&lt;/h1&gt;
&lt;p&gt;입니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[HTML <audio> 태그로 음향 넣기 & Recoil로 전역 음량관리]]></title><description><![CDATA[! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다. 프로젝트를 개발하다가 사운드를 넣어야 하게 생겼습니다 웹페이지에서는 사운드를 어떻게 재생할 수 있을까요 HTML…]]></description><link>https://sungpaks.github.io/til/html-audio-volume-control-with-recoil/</link><guid isPermaLink="false">https://sungpaks.github.io/til/html-audio-volume-control-with-recoil/</guid><pubDate>Tue, 06 Aug 2024 13:25:38 GMT</pubDate><content:encoded>&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;p&gt;프로젝트를 개발하다가 사운드를 넣어야 하게 생겼습니다&lt;br&gt;
웹페이지에서는 사운드를 어떻게 재생할 수 있을까요&lt;/p&gt;
&lt;p&gt;HTML은 &lt;a href=&quot;https://www.tcpschool.com/html-tags/audio&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;audio&gt;&lt;/code&gt; 태그&lt;/a&gt;(또는 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio&quot;&gt;여기&lt;/a&gt;참고)를 제공합니다.&lt;br&gt;
이걸 React + TypeScript에서 어떻게 쓸지 봅시다&lt;br&gt;
그리고 음량 조절도 넣고 싶은데, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;audio&gt;&lt;/code&gt;가 하나만 있는게 아닐 수 있습니다&lt;br&gt;
따라서 조절한 음량을 전역상태로 관리하고자 &lt;a href=&quot;https://recoiljs.org/ko/docs/introduction/getting-started/&quot;&gt;Recoil&lt;/a&gt;도 써봤습니다&lt;br&gt;
번역체지만 한글로 docs가 있어서 아주 따라하기 쉽습니다&lt;/p&gt;
&lt;p&gt;아 참고로 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;audio&gt;&lt;/code&gt;태그는 mp3, wav, 또 뭐더라? 하나 더 있는데 세 가지 형식만 지원합니다. 주의하도록 합시다&lt;/p&gt;
&lt;h1 id=&quot;audio를-사용하여-재사용-컴포넌트-만들기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#audio%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%9E%AC%EC%82%AC%EC%9A%A9-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EB%A7%8C%EB%93%A4%EA%B8%B0&quot; aria-label=&quot;audio를 사용하여 재사용 컴포넌트 만들기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;audio&gt;&lt;/code&gt;를 사용하여 재사용 컴포넌트 만들기&lt;/h1&gt;
&lt;p&gt;저는 &lt;code class=&quot;language-text&quot;&gt;filename&lt;/code&gt;을 받아서 이걸 틀어주는 재사용 컴포넌트를 만들고 싶어요&lt;br&gt;
그리고&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 371px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2fdeef5d12d4e5579fd9dc2a701ca9d1/d4635/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 38.60759493670886%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABM0lEQVR42pWSjU6DMBSFef9HUZ/D7MdtOOeCRhPHxjaltIXB2Ghvj701W0yMfzc56aEc7v0oRNkqQ7ZeIxc58jeBNF1CSYV0scJikaJp9uByzuG34ki02Wyx3m5RFDIoyzbQWvsB0jdfoapqWEvoOgNj7Fl83Rm/Z+35HpFDtPME5a4Gr6x636Kqm+Cb9gBVVsj9IOGpP0tXOxRK4zUX4XnOtIcjovt5gl5/EELxdIqXNPVaen8HUSg8Pj3jutdHf3gT1BsMMZrEOHiqSXyLi8urMHiePGDftoikrnASNy2k9r4MnumY5DtxjslOtIHQOYKlDuSMP1QL61f2lviMOhy7n8QZe/ZEhCiOGd0gHhuMRwZJYv1rGcxmHMC/KnxlKQllSVAFgb1SBCE+9v7wp3xp+A7RmWRocLv85QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;오디오 컨트롤 요소&quot;
        title=&quot;&quot;
        src=&quot;/static/2fdeef5d12d4e5579fd9dc2a701ca9d1/d4635/image.png&quot;
        srcset=&quot;/static/2fdeef5d12d4e5579fd9dc2a701ca9d1/c26ae/image.png 158w,
/static/2fdeef5d12d4e5579fd9dc2a701ca9d1/6bdcf/image.png 315w,
/static/2fdeef5d12d4e5579fd9dc2a701ca9d1/d4635/image.png 371w&quot;
        sizes=&quot;(max-width: 371px) 100vw, 371px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이런 재생박스는 숨기고 싶습니다. 소리만 나오게 하고 싶어요&lt;br&gt;
이런 경우 &lt;code class=&quot;language-text&quot;&gt;controls&lt;/code&gt; 속성을 명시하지 않으면 되겠습니다&lt;/p&gt;
&lt;p&gt;아무튼 간에, &lt;code class=&quot;language-text&quot;&gt;filename&lt;/code&gt;을 props로 받고 이걸 재생하는 컴포넌트를 만들려면
(1) &lt;code class=&quot;language-text&quot;&gt;useRef&lt;/code&gt;로 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;audio ref={}&gt;&lt;/code&gt; 이렇게 작성하여 레퍼런스를 가져옵니다 (타입은 &lt;code class=&quot;language-text&quot;&gt;HTMLAudioElement&lt;/code&gt;)
(2) &lt;code class=&quot;language-text&quot;&gt;filename&lt;/code&gt;으로 url을 조합합니다. 저는 사운드파일 전부 &lt;code class=&quot;language-text&quot;&gt;/public/sound/&lt;/code&gt;에 저장하므로, &lt;code class=&quot;language-text&quot;&gt;/sound/${filename}&lt;/code&gt; 이러면 됩니다&lt;br&gt;
(3) props로 재생 여부 &lt;code class=&quot;language-text&quot;&gt;play&lt;/code&gt;가 주어지면, &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;에서 재생하거나 정지하게 합니다
(4) 적절히 &lt;code class=&quot;language-text&quot;&gt;audio&lt;/code&gt; 컴포넌트를 뱉어냅니다&lt;/p&gt;
&lt;p&gt;코드 전문은 아래와 같습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;AudioPlayer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  filename&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  play&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  loop &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  filename&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
  play&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;
  loop&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; audioRef &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useRef&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;HTMLAudioElement&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/sound/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;filename&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;play &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; audioRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      audioRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;audioRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      audioRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pause&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;play&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; filename&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;audio&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;audioRef&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;loop&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;나중에는 이 오디오 재생이 끝났는지에 따라 상태를 바꿔주는게 필요해서&lt;br&gt;
props로 &lt;code class=&quot;language-text&quot;&gt;setState : Dispatch&amp;lt;type&gt;&lt;/code&gt; 이런 식으로 받아오고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;audio onEnds={()=&gt;{}}&gt;&lt;/code&gt; 이렇게 &lt;code class=&quot;language-text&quot;&gt;onEnds&lt;/code&gt; 이벤트리스너를 추가해줬습니다&lt;/p&gt;
&lt;h1 id=&quot;음량-조절할게요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%8C%EB%9F%89-%EC%A1%B0%EC%A0%88%ED%95%A0%EA%B2%8C%EC%9A%94&quot; aria-label=&quot;음량 조절할게요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;음량 조절할게요&lt;/h1&gt;
&lt;p&gt;근데 사용자가 음량 조절을 하고 싶을 수도 있어요&lt;br&gt;
시스템 음량을 아예 조절하면 되는게 아닌가 싶지만&lt;br&gt;
이거 만드는게 러닝 뛸 때 틀어주는 소리인건데&lt;br&gt;
사용자 취향에 따라 음악을 틀고 뛸 수도 있으니 개별적인 음량조절이 필요해보였습니다&lt;/p&gt;
&lt;p&gt;일단 음량 조절에 가장 좋아보이는 것은&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;input type=&quot;range&quot;&gt;&lt;/code&gt;겠네요&lt;/p&gt;
&lt;input type=&quot;range&quot; /&gt;
&lt;p&gt;이렇게 깜찍한 인풋입니다&lt;/p&gt;
&lt;p&gt;뒤늦게 안 사실인데 &lt;code class=&quot;language-text&quot;&gt;min, max&lt;/code&gt; 속성으로 값 범위도 조절할 수 있습니다&lt;br&gt;
기본은 0~100입니다&lt;/p&gt;
&lt;h1 id=&quot;음량-조절할게요-근데-이제-전역상태를-곁들인&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%8C%EB%9F%89-%EC%A1%B0%EC%A0%88%ED%95%A0%EA%B2%8C%EC%9A%94-%EA%B7%BC%EB%8D%B0-%EC%9D%B4%EC%A0%9C-%EC%A0%84%EC%97%AD%EC%83%81%ED%83%9C%EB%A5%BC-%EA%B3%81%EB%93%A4%EC%9D%B8&quot; aria-label=&quot;음량 조절할게요 근데 이제 전역상태를 곁들인 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;음량 조절할게요, 근데 이제 전역상태를 곁들인&lt;/h1&gt;
&lt;p&gt;위에서 말했다시피 audio 컴포넌트는 하나만 있는게 아니라서&lt;br&gt;
서비스 내에서 전역적으로 음량을 관리해줘야 하겠습니다&lt;br&gt;
이왕 이렇게 된 김에 &lt;strong&gt;Recoil&lt;/strong&gt;을 써봤어요&lt;/p&gt;
&lt;p&gt;먼저 Context Provider로 감싸듯이, 루트 컴포넌트를 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;RecoilRoot&gt;&lt;/code&gt;로 감싸줍니다(App.jsx나 index.js같은 곳에서)&lt;/p&gt;
&lt;p&gt;Recoil에서 전역상태는 &lt;strong&gt;Atom&lt;/strong&gt;이라고 불립니다.&lt;br&gt;
이는 어떤 컴포넌트에서나 구독하여 읽고 쓸 수 있읍니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; atom &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;recoil&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; volumeState &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;atom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  key&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;volumeState&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 음량 atom을 정의해줍시다&lt;br&gt;
얘를 export하기만 하면 이제 어디서든 &lt;code class=&quot;language-text&quot;&gt;useRecoilState&lt;/code&gt;로 어디서든 가져다 쓸 수 있습니다&lt;br&gt;
또한 값만 필요하다? &lt;code class=&quot;language-text&quot;&gt;useRecoilValue&lt;/code&gt;를 사용하면 되겠습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useRecoilState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;recoil&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; volumeState &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../context/VolumeState&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Box &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@mui/material&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;VolumeControl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;volume&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setVolume&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useRecoilState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;volumeState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      음량 &amp;amp;nbsp;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;range&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;volume &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;onChange&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setVolume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Box&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 이런 식으로 음량조절 컴포넌트를 간단히 작성할 수 있습니다&lt;br&gt;
더 자세한 내용은 &lt;a href=&quot;https://recoiljs.org/ko/docs/introduction/getting-started/&quot;&gt;공식문서 참고&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;그리고 &lt;a href=&quot;https://developer.chrome.com/blog/autoplay?hl=ko&quot;&gt;크롬 자동재생 정책을 주의해줍시다.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[위치 기반 러닝 트래커 고도화를 위한 고민들]]></title><description><![CDATA[! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다. 이전 포스팅에서는 프로토타입을 개발해봤었습니다 이제 진짜 서비스를 만들어야 하니, 신경쓸게 산더미입니다 정확도 향상 https…]]></description><link>https://sungpaks.github.io/til/geolocation-based-running-tracker-improvement/</link><guid isPermaLink="false">https://sungpaks.github.io/til/geolocation-based-running-tracker-improvement/</guid><pubDate>Tue, 06 Aug 2024 01:53:34 GMT</pubDate><content:encoded>&lt;p&gt;! 주의 : TIL 게시글입니다. 다듬지 않고 올리거나 기록을 통째로 복붙했을 수 있는 뒷고기 포스팅입니다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://sungpaks.github.io/til/geolocation-based-running-tracker-prototype/&quot;&gt;이전 포스팅에서는 프로토타입을 개발해봤었습니다&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;이제 진짜 서비스를 만들어야 하니, 신경쓸게 산더미입니다&lt;/p&gt;
&lt;h1 id=&quot;정확도-향상&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A0%95%ED%99%95%EB%8F%84-%ED%96%A5%EC%83%81&quot; aria-label=&quot;정확도 향상 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;정확도 향상&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/API/Geolocation/getCurrentPosition&quot;&gt;https://developer.mozilla.org/ko/docs/Web/API/Geolocation/getCurrentPosition&lt;/a&gt;
&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/API/Geolocation/getCurrentPosition&quot;&gt;https://developer.mozilla.org/ko/docs/Web/API/Geolocation/getCurrentPosition&lt;/a&gt;
옵션에 highAccuracy를 강제하게 하거나, timeout을 정하거나 해서 정확도를 올릴 수 있다&lt;br&gt;
그리고 latitude, longitude 외에 accuracy도 있어서, 이게 일정 값을 벗어나면 계산에 포함하지 않게 하는 것도 방법인 듯.&lt;/p&gt;
&lt;p&gt;그리고 현재 위치가 별로 정확하지 않다고 판단되면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;getCurrentPosition&lt;/code&gt;으로 위치를 갱신하게 할 수 있게 할까? 해서 넣어봤는데&lt;br&gt;
어차피 별 효과가 없다. 새로고침해도 그대로였음&lt;/p&gt;
&lt;p&gt;근데 어차피 PC웹에서는 IP주소 기반 위치 인식이라.. 정확도가 떨어지는게 어쩔 수 없고&lt;br&gt;
모바일웹에서는 기기 특성 상 정확도가 좋고,&lt;br&gt;
테스트 결과 걱정하지 않아도 될 정도의 정확도가 나와서&lt;br&gt;
위에서 &lt;code class=&quot;language-text&quot;&gt;accuracy&lt;/code&gt; 관련 로직만 살짝 추가해주는 정도로 괜찮은 듯&lt;/p&gt;
&lt;p&gt;어차피 PC를 들고 돌아다녀 볼 수도 없는 노릇이니&lt;br&gt;
개발환경 전용 테스트를 좀 만들었다&lt;br&gt;
테스트모드에서는 지도를 드래그해서 그 지도 중앙이 현재 위치가 되도록 하게끔.&lt;/p&gt;
&lt;p&gt;그리고 이 과정에서.. 이제서야 정확히 알게 된 사실&lt;br&gt;
&lt;a href=&quot;https://www.dhiwise.com/post/guide-to-state-management-with-react-setstate-callback&quot;&gt;&lt;strong&gt;&lt;em&gt;setState는 비동기적이다&lt;/em&gt;&lt;/strong&gt;&lt;/a&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt;에 콜백함수를 넘기는 까닭이 바로.&lt;/p&gt;
&lt;h1 id=&quot;이전-러닝-상태-복구&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%A0%84-%EB%9F%AC%EB%8B%9D-%EC%83%81%ED%83%9C-%EB%B3%B5%EA%B5%AC&quot; aria-label=&quot;이전 러닝 상태 복구 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이전 러닝 상태 복구&lt;/h1&gt;
&lt;p&gt;러닝 시, 불의의 사태로 서비스를 껐다가 켜게 될 수도 있고,&lt;br&gt;
사용자가 갑자기 다른 화면으로 넘어갈 수도 있고,&lt;br&gt;
또는 사용자가 갑자기 새로고침을 해버릴 수도 있고, ..&lt;/p&gt;
&lt;p&gt;따라서 새로운 마운트 시 러닝 상태를 복구해야만 했다!&lt;br&gt;
이를 위해 백엔드에서는&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;러닝 상태를 업데이트하는 &lt;code class=&quot;language-text&quot;&gt;post&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;특정 러닝 상태 정보를 가져오는 &lt;code class=&quot;language-text&quot;&gt;get&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이런 api를 만들어줬다&lt;/p&gt;
&lt;p&gt;이제 러닝을 시작하면,&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;시작할 때 러닝 정보 생성 요청(백엔드에 &lt;code class=&quot;language-text&quot;&gt;post&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;post&lt;/code&gt; 결과로 백엔드에 러닝 정보가 생성되고, 응답으로 생성된 러닝 상태 id를 받는다.&lt;/li&gt;
&lt;li&gt;이 &lt;code class=&quot;language-text&quot;&gt;runningId&lt;/code&gt;는 로컬스토리지에 갖고있자.
&lt;ul&gt;
&lt;li&gt;처음부터 여기서 Recoil같은 전역상태 라이브러리 써도 괜찮았을 것 같다.&lt;/li&gt;
&lt;li&gt;근데 &lt;code class=&quot;language-text&quot;&gt;useContext&lt;/code&gt;만으로 좀 해보고싶어서 욕심을 부렸다&lt;/li&gt;
&lt;li&gt;그냥 상태만으로는 마운트 시 값이 초기화되므로, 로컬스토리지에 저장해야만 했음&lt;/li&gt;
&lt;li&gt;로컬스토리지에 저장한다는 사실이 좀 찜찜했는데.. 쓰라고 만든건데 안 쓸 이유가?&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이제 러닝 진행 시에는&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;매 위치 변동마다 &lt;code class=&quot;language-text&quot;&gt;post&lt;/code&gt;요청의 requestBody로 이동한 거리, 페이스, 경도와 위도, ... 이런거를 보낸다&lt;/li&gt;
&lt;li&gt;새로고침같이 새로운 마운트가 발생하면?&lt;/li&gt;
&lt;li&gt;로컬스토리지에서 &lt;code class=&quot;language-text&quot;&gt;runningId&lt;/code&gt;를 가져오고&lt;/li&gt;
&lt;li&gt;해당 &lt;code class=&quot;language-text&quot;&gt;runningId&lt;/code&gt;로 서버에 &lt;code class=&quot;language-text&quot;&gt;get&lt;/code&gt;요청을 하여 이전 정보를 받아온다&lt;/li&gt;
&lt;li&gt;이를 바탕으로 이전 state들 복구&lt;/li&gt;
&lt;li&gt;타이머도 이어서 시작하게 해야 하는데, 이거는 서버 정보로부터 복원하기보다는 &lt;code class=&quot;language-text&quot;&gt;setInterval&lt;/code&gt; 시간을 계속 localStorage에 저장하고 이걸 다시 가져오는게 여러모로 용이했음&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이제 러닝 종료 시에 이 localStorage 정보들을 삭제해주기만 하면 됨.&lt;/p&gt;
&lt;p&gt;아예 화면을 나갔다가 다시 오면?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;localStorage에 &lt;code class=&quot;language-text&quot;&gt;runningId&lt;/code&gt; 있는지, 있으면 유효하고 진행중이었는지 확인.&lt;/li&gt;
&lt;li&gt;진행중이었으면, 목표 페이스 설정 등을 건너뛰고 러닝을 바로 재개, 그렇지 않으면 localStorage에서 삭제&lt;/li&gt;
&lt;li&gt;이렇게 하면, 사용자가 임의로 (뒤로가기, 경로 직접 입력 등) 러닝 진행 페이지로 진입하려는 경우, 진행중인 러닝이 없으면 리다이렉션시킬 수 있음&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[📡 Vercel과 함께라면 배포도 두렵지 않아]]></title><description><![CDATA[새로운 프로젝트를 개발하게 되었는데요 응당 개발 후에는 배포를 해야겠죠? 지금 배포하려는 프로젝트는 백엔드(Spring) + 프론트엔드(React)같은 국룰적인 조합이고 프론트엔드에서 빌드 도구로 Vite…]]></description><link>https://sungpaks.github.io/deploy-your-project-with-vercel/</link><guid isPermaLink="false">https://sungpaks.github.io/deploy-your-project-with-vercel/</guid><pubDate>Tue, 06 Aug 2024 01:14:12 GMT</pubDate><content:encoded>&lt;p&gt;새로운 프로젝트를 개발하게 되었는데요&lt;br&gt;
응당 개발 후에는 배포를 해야겠죠?&lt;/p&gt;
&lt;p&gt;지금 배포하려는 프로젝트는&lt;br&gt;
백엔드(Spring) + 프론트엔드(React)같은 국룰적인 조합이고&lt;br&gt;
프론트엔드에서 빌드 도구로 &lt;strong&gt;Vite&lt;/strong&gt;를 사용했습니다&lt;br&gt;
매우 편하게도 백엔드는 이미 CI/CD 배포환경울 구축해놔서&lt;br&gt;
개발할 때도 배포된 백엔드 주소에 접근하면 되었습니다&lt;/p&gt;
&lt;p&gt;이제 프론트엔드까지 배포할 시간이 되었는데&lt;br&gt;
&lt;strong&gt;Vite&lt;/strong&gt; 공식 사이트를 보면 &lt;a href=&quot;https://vitejs.dev/guide/build&quot;&gt;빌드&lt;/a&gt;와 &lt;a href=&quot;https://vitejs.dev/guide/static-deploy&quot;&gt;배포&lt;/a&gt;가이드가 잘 되어 있습니다&lt;/p&gt;
&lt;p&gt;저는 이 중에서도&lt;br&gt;
Vercel 배포가 해보고 싶었기도 하고&lt;br&gt;
적당히 빠르고 쉽게 할 수 있을 것 같고&lt;br&gt;
도메인 고민도 없이 그냥 &lt;code class=&quot;language-text&quot;&gt;myProject.vercel.app&lt;/code&gt; 이렇게 해버릴 수 있어서&lt;br&gt;
Vercel 배포를 하기로 마음먹었습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 299px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e444348aa0b7ba9314ce37829515e1a1/aeb78/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9ACIfEiUgFkA4K5B2SHRkQAQGBkAeEo5FKrVaNZ5YO4hZO6BqQ4VaPXJTO1w/KbGQbo9uUIZaPXpRNnhTOAANDgcAAAAkJByDb0VWOCAEAAGDPSLJZD/UbEfne1bHbk6bZkSGXUKBWkBMKxeqi2eUclmBUDaEVzuPYD8ACQkFCQkCDwwENi4oCQoMBwIBiEApr1M3p1c7s11FvWFJkFg7X0MykWRGZDoiup15s5FzmGFBn2lGl2RDAAIEAwsMBwUFBAsLBVxOQnhlWXcxG7ZVOKhVPrpfRLljSl07L1xFOpBjSV04HrGWeKyNdZNgQaJsS5hnRQAIDAgRFQ8KEQsICgREOjLNtKKSTTilRivceFnkdlKDRTFNMSVrSzdaQDBLMSJqUj16X0yZaEiha0qaZ0YABQUDCw0IAgYCCQsFLCYbmH1ujkozjjUcwV1BwFlBTCEWTC8hZ0k1Wz8sPywicVY9cllDmmlMoGpJnGhIAAMEAgQFAgEBAAAAACIeFU41KWQkEJM9JLxWOnczJS8YEVc3J2xNN15BLTsnHWtRPWxVQ5RmSKFrSppnSQAGCAQFBwQBBAEAAwAQDQ0rDAdEFAN5MBmnRipkHhIpCgRSMyJrRzBYPSpZOix6UjtyUDqcaUqfaUmZZ0cAAgMCAAAAAQQBDxEODxEPRRwTUyEORR0QhEUzYScbVjYwWUtCYEs6UDMlgFc8lWNEnGVEmWRElmJBkmBAAAIFAykXFU0tKmRgWDUxLVc5OGlRSWJFP2tiYDszNGViY4F5eVhKSUw7MX1SO3VON5pmRZtlRJZkQ5JhQAA9LSuGY1SkTUp6Uk1YR0F3RDKDQiqmVTl1PzI5IiE7IiBhPkFHGBRKNS17jX+dcVKaZEOaZ0WWZUOTZEMFZL4xfBlfoAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;레츠고&quot;
        title=&quot;&quot;
        src=&quot;/static/e444348aa0b7ba9314ce37829515e1a1/aeb78/image.png&quot;
        srcset=&quot;/static/e444348aa0b7ba9314ce37829515e1a1/c26ae/image.png 158w,
/static/e444348aa0b7ba9314ce37829515e1a1/aeb78/image.png 299w&quot;
        sizes=&quot;(max-width: 299px) 100vw, 299px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그만 떠들고 가봅시다.&lt;/p&gt;
&lt;h1 id=&quot;vercel에서-배포해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#vercel%EC%97%90%EC%84%9C-%EB%B0%B0%ED%8F%AC%ED%95%B4%EC%9A%94&quot; aria-label=&quot;vercel에서 배포해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Vercel에서 배포해요&lt;/h1&gt;
&lt;p&gt;Vercel은 정적 사이트 배포를 쉽게 지원해줍니다&lt;br&gt;
마치 럭키 Github Pages인데요&lt;br&gt;
제 목표는 (1) 먼저 프론트엔드 프로젝트를 빌드해서 정적 파일들로 만들고&lt;br&gt;
(2) 이걸 Vercel에 호스팅하고, (3) 백엔드 작업은 원래 배포되어 있던 백엔드 서버에 다녀오게끔 하기&lt;br&gt;
입니다.&lt;/p&gt;
&lt;p&gt;Vercel사이트에 들어가서 먼저 회원가입을 해주고, 로그인합시다&lt;br&gt;
이후 Github 연결하고, 레포지토리를 import합시다&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/JxUEFuX.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;이렇게요&lt;br&gt;
근데 저는 별도 organization의 레포지토리를 배포하고 싶었던 건데&lt;br&gt;
이렇게 하려면 프로여야 한다고 하네요&lt;br&gt;
전 아마추어니까 fork떠서 여기를 배포해줍시다&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/jWgyMtM.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;그럼 이런 화면으로 오는데&lt;br&gt;
딱히 건들 것은 없네요.. 적당히 괜찮으면 넘어가줍시다&lt;br&gt;
아 환경변수가 있었으면 잘 paste해주도록 합시다(&lt;code class=&quot;language-text&quot;&gt;.env&lt;/code&gt; 이런 데 있는 애들)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/482IiZu.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;??&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/92wwXmN.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;끝났네요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/51f5816ffe2d87ce39d0d5347f39dda2/5a46d/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACbUlEQVR42h2S7VeaABTG+bDtbB9qmaYIgoihKC+SIWppZkvLlwRFBCb4mppJmStt1azO9o+P7Zz74X54nnOe+3suEPFD8RC6R6CQaxtybgcgMIjABIbALqfAhOc9+bZT6zfPU2zkKMFM9XJPyo+Uor2YtTzABhGBxAQqEA3Ans0NDAJTe2yKYxNsNMszi4Eya1fu+vJIq460yrwjXWkly7hY9OpX36v/zBE/TOM+PoyRPi8MuvkYLbDUPk0mYuS1Kdq6p6m+toznK3011u6HzdVYnbYrM1MCohgc8nlDiDcAugOghyKDHEvTVCTBc+O2+HCp2NJFv/5zor7edNYz433e/b0YvN/1Fv0GgO7s+FwOHHTDO04/CvEMmeQoIU4Pe+ptT1mO1YfL5rwrLUet9cx8u+m+WqYd4c0y7m3zzsam2z7V60kd8DAKbTk2QI8zk44rYiEewQoH3G1XerGMtWU+jtQ/i+HrjbkcNp/G2vJSAUIoaKOqSgWpVSXCu1uOrx8+fUT8EBfdpXEkFvIfcGR2n1JKmdVE/2WZL7P287RtZ7ZbAGjcm02zWle+kEtn1dNiOX9aztXVKk0GMY+LxlGWQGIEEvA4cwnm+br9o9+wma/GLcsGRmLe7HFa7cqiUiqUjkWlopp1qVVCPQ7Hl8+Ez52k8UMuTAV8DIEuBvLjSHkYNNdWpy8XABz1FYsniia1TKmp15q6KOu13sRQGue5jJBJ8gJDpvfIJBPkQn65mJ53anddaTVqTbQzAEPRfC6j6nXFEFuGZE9Du1DaDbFeLuaSJ4cCSxI0gSUoPP7/l47ioWM+UjtJmtK3v/6pq6OLvtQCAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;해치웠나&quot;
        title=&quot;&quot;
        src=&quot;/static/51f5816ffe2d87ce39d0d5347f39dda2/5a46d/image-1.png&quot;
        srcset=&quot;/static/51f5816ffe2d87ce39d0d5347f39dda2/c26ae/image-1.png 158w,
/static/51f5816ffe2d87ce39d0d5347f39dda2/5a46d/image-1.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;마칩니다.&lt;/p&gt;
&lt;h1 id=&quot;404&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#404&quot; aria-label=&quot;404 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;404&lt;/h1&gt;
&lt;p&gt;이렇게 끝나면 말이 안 됩니다&lt;br&gt;
들어가보니 모든 api 호출이 404에러를 띄우네요&lt;/p&gt;
&lt;p&gt;이건 결론부터 이야기하면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//vercel.json&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;rewrites&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token property&quot;&gt;&quot;source&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/(.*)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token property&quot;&gt;&quot;destination&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;프로젝트 루트 경로에 &lt;code class=&quot;language-text&quot;&gt;vercel.json&lt;/code&gt;파일을 만들고, 이렇게 써줍니다.&lt;br&gt;
출처와 근거가 확실하지 않지만.. 제가 알기로는?&lt;/p&gt;
&lt;p&gt;이게 &lt;code class=&quot;language-text&quot;&gt;vite&lt;/code&gt;는 애초에 SPA 빌드 툴이기에 경로란게 사실 존재하지 않습니다&lt;br&gt;
제가 프로젝트에서 클라이언트 사이드에서 경로를 넣기 위해 React Router를 사용했지만&lt;br&gt;
이것도 가짜 경로를 만든거에 불과한 것인데&lt;br&gt;
vercel 배포는 정적 사이트 배포라서, 경로를 찾습니다&lt;br&gt;
여기서 간극이 발생하는데 이를 &lt;code class=&quot;language-text&quot;&gt;rewrite&lt;/code&gt;로 &lt;code class=&quot;language-text&quot;&gt;/&lt;/code&gt; 경로만 참조하게 덮어줍니다.&lt;/p&gt;
&lt;p&gt;그럴싸한가요? 사실 맞는 소리인지 잘 모르겠어요.. 나중에 뭔가 발견하면 찾아오겠습니다.&lt;/p&gt;
&lt;h1 id=&quot;405&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#405&quot; aria-label=&quot;405 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;405&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/dNkFNCr.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;그 다음은 405 에러가 뜹니다&lt;br&gt;
음.. 진정하고 보니까 api의 &lt;code class=&quot;language-text&quot;&gt;BASE_URL&lt;/code&gt;이 프론트네요? 백으로 가야하는데..&lt;/p&gt;
&lt;p&gt;알아보다가 &lt;a href=&quot;https://ko.vitejs.dev/guide/env-and-mode&quot;&gt;vite 환경변수와 모드&lt;/a&gt;이런 것도 한번 보고 그랬지만&lt;/p&gt;
&lt;p&gt;그냥 아까 &lt;code class=&quot;language-text&quot;&gt;rewrite&lt;/code&gt; 작성했던 &lt;code class=&quot;language-text&quot;&gt;vercel.json&lt;/code&gt;에 새로 아래 내용을 추가하면 됩니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;source&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/api/:path*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;destination&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://백엔드_서버_IP/:path*&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;백엔드로 보내는 api요청은 &lt;code class=&quot;language-text&quot;&gt;/api/&lt;/code&gt;를 붙여서 가는데&lt;br&gt;
그러니 이 &lt;code class=&quot;language-text&quot;&gt;/api/&lt;/code&gt;로 시작하는 애들은 전부 가로채서&lt;br&gt;
백엔드 서버로 가는 요청으로 바꿔치기 해줍니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 299px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d9e1105c4a2227a345867642b5bd7b97/aeb78/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AHqMiFWVsk2XwVCRs1eTr2GTqnGbqJuhkoSOhU5NUlRGQq6igdfNo9LIoM3Dncq/mMq+lMa6j7ywhLWuggCRkoCWo5ajrJ2pq5G3sJDAtpDHvJLUyqFwWEU4GhQ6HhmFeGLj4LLV0KXJw5i3sIa3s4S5tobCwJDEwZMAy8GVxruOxbuRzMabyMSayceezsyl19Stb11NTzotQCkie25XwsKUrKuBqah9tK6Dua6Buq6Fz8OX2tGjAM3LoMrJn8G/mMbEnc3Kos7Ko8zHoL67lH1vVkoyKTkkH005Lqaddr6tg7eifLihe76rgs7ClNnOns7FlwDMyKPNyaPNyKPFwZu1sY6jn3+Yl3aJhmdKOS89JCA/KiM4Ih2Se2DEsoe8rYPVypna0aLSyp7JwpbDvpMAuLSQr6yHoqB9mph2l5RzmJJxo5h1uqiBaFRCNCAdQywoRTEnUDsxr6N/z8aZyL+VxsCWxL+Wy8adxL+VAJmXcZuYc6CZdqmefLekgMKsg8Org826jqGScDsjH2RKO1E8L0IpJEgxKot/ZdTMoM7JnMC6kLWogqiZdgCtnnq8p4DBqoLDqoPFr4a/r4XEuI3Uy57Y0aJlUUBjSjhHLSg5JCFIMShyXESsoXyroX+hknSgkHGklXQAybGIyrOIxLGHyLuR0Mib0cmc1Myd2NCh5d2ttKmBYUw6OSEfTDQrfWZKj3hWn5JwpZV3opF1qZ56tq+FAMO4jtHJndfQotnSpNrRodjQn9HKm9rUpd7Yp+HdqaadeTUeHWFMOIFtS5KAYaSTdaOWdbKqg7+8jb+7jgDNyJ/Ry53SzJ7Xz6HX0KHZ06Pd1qbY0qPFv5K3rYS4rIV6aVR7aEyaiWinmnmnoH25tYrEwZHCv4+2s4cIiIA3GQV1nwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;바꿔치기&quot;
        title=&quot;&quot;
        src=&quot;/static/d9e1105c4a2227a345867642b5bd7b97/aeb78/image-2.png&quot;
        srcset=&quot;/static/d9e1105c4a2227a345867642b5bd7b97/c26ae/image-2.png 158w,
/static/d9e1105c4a2227a345867642b5bd7b97/aeb78/image-2.png 299w&quot;
        sizes=&quot;(max-width: 299px) 100vw, 299px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;퍼엉~&lt;/p&gt;
&lt;p&gt;저는 이렇게 하니까 잘 됐습니다&lt;/p&gt;
&lt;h1 id=&quot;마치며&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A7%88%EC%B9%98%EB%A9%B0&quot; aria-label=&quot;마치며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;마치며&lt;/h1&gt;
&lt;p&gt;저는 클라우드나.. 데브옵스나.. 이런거 잘 모르고 너무 어려운데&lt;br&gt;
Vercel 선생님 덕분에 편하게 끝냈네요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/49f3d8b4adef70cfe5cc51cf2d1cc5e7/3684f/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEc0lEQVR42kWTWUwbVxSGr8crxgZDWITZsQeMF5jFy4yX2B5js2PjMTYMxuMxYxtCTYJwGgKK0pJ0UUOWliiJuhHRVhWoJGoTVVEeuqqtGkVVkqpNVfUhearUvvahjx07avvrPNz78J3/nPvrAhTTYziMW7sJ0uQkTKTdSLosPj9+2IdSFB702ybH/fFoMDLuDo+5hIqGPXTYFfIbfM4OgKN6DIMFXiDdhLkEO80UZSNIC4LAfZZOpB922EzDIUdk3DM+7J4c99Lj7qDX4CU7Ad6vwzA9iuqdtl4PYSHtvQRhCgTsMNwGyhKJRGIIqqxUOAkLHabGhtwTw0TIbzrs6ARYnw5D9QiqI21Gl8NIWA0uh8nnx+rrauCm6m5tNVTmhS4qVYXfhyPmLqcNHqTMXlInwF02FLZisMtu9JAWp93odfX7vDgfsV8sBNgBvRwSgX/5xoYqpVza3npo0G/yEl0AtXRaEV1peERnx3s8TovDbuJinusb9KXloeWJvrpKSRkurXBIo5JB4vo6dcBrpNy9AEV6kH6D2dTdDXf09RlGRrzBIHkyPXAmG9xIkqt0n65R9Z9zk7ZeIpVUKhXx6NACzwA+y/DZWZ5nhMrlZhcWkjmOLjL+pbBjbca5Eu7tbqgQMEj0//DNzY3zbCw/Pw2y2Rmen+bSsXQqKhSbmszOjV0oDF8pRl9bGFgc7MJaKlQqtUKhKLUo74+ixnxuOpOeAul0jMvEM1ycS0W5ZDSVpFezEy8m7VeLkfUZPEnWe+BqmVyuVColEkmZhyiKyAowFweZTJxl6enpMY6L8fMJ4ZpJDC2NYi/xweNT/Wlv84hJUyEWDEWQWEgNiMWiUMidyzGCK8jnGRy3KOSyhoY6g0GXmBphk5HlRHCd8Z9krEmPdhKpcXVWtiilSolMgHt6OhZyM/PpqQwbA0KP9vbmZ/tAUrmuqz01G4kN2BZDhsJoTxjRDMFVZI0UEYsSVl1jrSrDUHmeybB0JkULzrOtrVpRSaBCXa2uqR0Z9iZigUGsacSicbfIKa2Gt3dsRI13r43evhzauzrFJMJskp5naRAY8LS3tYvFYsFcJkihJB2WmdkxmrJZNYpeOeTTKL+8NvH4YOnJF6u/f33su3cW77wXe2U9ws1NlqITYnj2khJJqUWAcl04v3nEYXLLAaGUpVHtk6/YR/v8L58Wf7179PFB4a/Hi/tvLR/JMaBsKBUshYNcLoUgwKbmPnj7SqK11qcCLoX4WsHx9PPnHuw9/2Bv5ccbx3++c/rhR8Vb15c2Tx0R/kopQBFUksBLpZKjR5dvf3wQN+mpSjBUJZtpU93b5R7tn/h+99gPe2v3d1d/upl/d/vY5qkiMFt6ygNL1So1jpvj8ej5ra3bd26xE4GABIzKAY/Aj25xT7+J/nk//vdv6T/uZb+9Wbixs/Lq2RNgKjFaVaVu0jb6/a78ArO+Xnxj+/LF17fObK4Whl35ILmzvfbws9MfvvnCxpxvb2v0k/dfvnL53O7O1UvnTv0DdEIyUDQ54FcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;easy&quot;
        title=&quot;&quot;
        src=&quot;/static/49f3d8b4adef70cfe5cc51cf2d1cc5e7/3684f/image-3.png&quot;
        srcset=&quot;/static/49f3d8b4adef70cfe5cc51cf2d1cc5e7/c26ae/image-3.png 158w,
/static/49f3d8b4adef70cfe5cc51cf2d1cc5e7/3684f/image-3.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이만 마칩니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[(네이버 부스트캠프 2주차) 이번 주도 회고 써야할까?]]></title><description><![CDATA[헉 벌써 우여곡절 1주일이 지났습니다 이렇게 부스트캠프…]]></description><link>https://sungpaks.github.io/til/네이버_부스트캠프_2주차_회고/</link><guid isPermaLink="false">https://sungpaks.github.io/til/네이버_부스트캠프_2주차_회고/</guid><pubDate>Fri, 26 Jul 2024 18:25:42 GMT</pubDate><content:encoded>&lt;p&gt;헉 벌써 우여곡절 1주일이 지났습니다&lt;br&gt;
이렇게 부스트캠프 4주 간의 챌린지 중 반절이 지났네요&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 290px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ee9d4b2fa2134a3f8325469717b849dc/139a5/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.12658227848101%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC50lEQVR42gHcAiP9ANjX0riqkU1ORjA0MzAxMDAzMjE1NDE1NDk7OZiYkvf39f7+/5aSiuXj3/z8+/v6+e/u593d0d7e1dHPxQDGxb9jXkxBQT0pLSwoLCsnKyoqLSwoLCsmKSkiJSGNjofT09B4dW7x8O729fT6+fjm49vo5tuzr5+dmocAeH14KC4uKi4tKCwqJCgmHyQjGiAhGiEiICQgJCYjKy8qLi8rW1pT9PTy7ezn6+rh5OLX4t/V19LI2NTNAElOSiYpKCYqKCMmJRshHyQlIUY7LktBNFVDNGFJN1BBMjAuJ15eV/j49eLg2NrXzN/b0Ojl3u/t6OLf2AAnKyciJiUbHx4UGBgdHxxSQzWrg2iXcVl5WUOQaFCJaE9SRTdOT0r29vHX1Mro5uDr6eLb183r6uLPyr0ATFFMKCsqOTw6QEdEcFhKi2ZRx56Fv5F3oXdewZR5uY1zf2ZSXmBa+vnzzsm/497T7Onj19LH49/Txr6xAO3u7m9wa4CAdt3e2fHj27OKcbaOdcGRdMCOcLOGacCMas+ynNrc1/Lw69LOw93az9bSxMK9runo3dnRxgD////m5uSBgXiurKW5vLzOx7+5lX2cclaRbFR6WkeKZEzXyrn29/PNyLvHwbPQzsTf3NLn5uHw7+vq49sA/f39jY2NdHRxjIyLf357g3Nlp4VsnXddjmpRf1dFkm9Zta6i2tjQvbinyse4ubi1xcXDx8fH3NvZ9vXxAP///8vLypiYl5eZmrKxrJ5/Y4xrUX5hSYxsVIhrVJx/Y5Z9ZMCxnNPMu8rIwpaWlpeXl5SUk8XFw/r6+ADx8vOlqaujpaWzr6qxoJCLblVbRjZ9YE1mTDpiTDuGblmOclbOr43+687a1cmZmZmampqlpqbW1dDz8+0AoqirQk9fkYuGybCVoYNne2VRnYVzgmtceWFRoolzq5F6eWVSk3xl/eXL5tvIurevysnD1NPO6unj7+7mu2yjlY5qidYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;벌써?&quot;
        title=&quot;&quot;
        src=&quot;/static/ee9d4b2fa2134a3f8325469717b849dc/139a5/image.png&quot;
        srcset=&quot;/static/ee9d4b2fa2134a3f8325469717b849dc/c26ae/image.png 158w,
/static/ee9d4b2fa2134a3f8325469717b849dc/139a5/image.png 290w&quot;
        sizes=&quot;(max-width: 290px) 100vw, 290px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
부스트캠프 미션 하다보면 벌써? 소리가 절로 나오는
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;저번 주에는 부스트캠프라는 것을 처음 접하니까&lt;br&gt;
할 말도 많고.. 느끼는 것도 많고.. 그랬는데&lt;br&gt;
이제는 저번 회고에서 생각한 &lt;strong&gt;학습과 구현의 밸런스를 잘 맞추기&lt;/strong&gt;에 좀 더 신경을 쓰려고 했습니다&lt;br&gt;
2주차 와서 또 다른 좋은 스터디그룹 팀원들도 만나고.. 아주 좋았네요&lt;/p&gt;
&lt;p&gt;특히 저번 주에는 짝 설계만 있었는데&lt;br&gt;
짝 프로그래밍까지 하게 되어 배운 것이 많습니다&lt;br&gt;
『개발자 원칙』에서 김정 코드스쿼드 대표이사님이 말씀하시길&lt;br&gt;
&quot;결과를 향하되 과정을 돌아보자&quot; 하셨습니다&lt;br&gt;
짝 프로그래밍처럼 옆에 함께 하는 사람이 있으면&lt;br&gt;
방향을 잃고 폭주하는 나를 잠깐 멈춰 세운 뒤&lt;br&gt;
과정을 돌아보고, 다시금 목표와 방향을 인식하는 기회가 많았습니다&lt;br&gt;
함께 하면서 많이 배웠네요&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c6b322ddd677c8187da8e77ad3e2b96d/0a47e/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.06329113924051%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACo0lEQVR42g3O308SAQDAcZ576rW3Xix7brOyd1cPrbl6c2OzuUoycpo/4EAETn7D3QF3HCDHbwTujuPk+C2CIKKEGqXpwmy5pf1a2uaLc2X8AZ99v7xFUpXJ+qmCFYlKzFEJkdQG8nAwZ5lbsBrdgHCqH/ZLkYBkltZubpeDGQRnFBgt03lHQULIW01a8vlIIKWHKABj5P6cKVrEyJLdm4Tvdl2/evnSzVudRgJo7lbiZcLBqlycGgmLDIExnFPw1tJoZYmdy8IQDWCsMlhAqIqdqbrQMPjg9rUn3Z13Oq4QfiTbCDtY0Js2WEkpQoo9eW2wZGpjW3OjRBcwlFM4OHW0jCfWPPN1D1nCX/b1PO2+oeTf91Aab97kzxrbw1hcFirD0ao1UkXaGN//2CTTqJ4UaYITzqTGl4e8GZMnj8jVg/yuDqXgITavspDTcARwJGeoGkbX8eiKef3TAm81bTs8aCUKhIESa8OT9pSayOiJtB6NgWYCkPJ7IvpXRGjaGBajrJxtzMYatvk3ztbh+tm/M95aCv9xtJ8tBRxptW/BStc8ZMXlz5p10KgNHgcn+D7NsEc1xARBrkEwm87Fd+Svk6OLi4vzv+e8WhL7+e1zdTUeKJjpsj31NsjWCS+jnxA+RjXPZCOP3KpBCnkdVr9YKRLNvcrp6XFbnvw53mt9aJfRo6+tra1iaNGmjJitjM8e98FupwgQIWbtlAKwmXVuG2SHwBxHamGTK4RmMnQuxxz//s5bjkMHX7Z3d5az9dAYbhJb3BLY3T8w/lwACAGdYFKl1GMaCJ/RGFyEh+YYig3F/IZYxLCxXeNxYVl9ZyWbnrM4pGpEkigk08XEzEj/cN894UDvmKCXtEiC+nGnfCg+C7IRqFpj63tLlX0u+T7yH1Q8m1J7YX8yAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기찻길&quot;
        title=&quot;&quot;
        src=&quot;/static/c6b322ddd677c8187da8e77ad3e2b96d/0a47e/image-1.png&quot;
        srcset=&quot;/static/c6b322ddd677c8187da8e77ad3e2b96d/c26ae/image-1.png 158w,
/static/c6b322ddd677c8187da8e77ad3e2b96d/6bdcf/image-1.png 315w,
/static/c6b322ddd677c8187da8e77ad3e2b96d/0a47e/image-1.png 600w&quot;
        sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8b60c88e990e1b098b3c3d09b1d9d953/0a47e/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZUlEQVR42g3M31PScAAA8P01vfRQ10sP+dqd9Qf01IPddT1012UZ1ZXZmb9QCJCf8p0bG25sgw0GY/xWkLmJCOLEgWhwYNhZWQ/9UM/0yD/g84G0cjaWI2kZgIQpIKPCui9aYtLV4Iu3j/quXem7dWPM9TpfTlT2Vvx5OCAhVHYOiAZs0cooAGqockpi/MV5d/Iju4qKFSpWoVM1/qXu/uPb1+/1XR0ZGay0ZGrZzazAvmUXiBu8OStXQvgKDrUbG/J6jC2hcMYSWMPiqj9ZZTM74Xls7Omdm/qB/rAAh4rE5UtLMJI0UcqcUCWErQWxSkCHnVq5kiPyrhl+1J0ykdIcpcC+PEBTdt1A/9TDu1jcDNKzzrDeHTOyRTReZ6IakazR7R916PvBrrZdYBXUnjQQEvCvYVwRp/IwuQQcpsGA5TlPTdGLDnRp9lKm9zixTsqfEj//HF70LqCv3fruTiVcIHwKEtlkxa2gsEHjcSfpM9ktQ6j5GeN4FcU+SGog3eLTO9x2d/3s7KTX6539O4UOOlqnVV9Sw9wqHtdCCY0TVQYQ0x73G6v5CenUifj7kFW3lgPN31qzo52c/j2/OD86+tZqNqDPrWp3f7fcyNpimCXCwQLr4YMTxlmLzWawml0uO+n1YG5HiMW17l4kKnAxKhFnMxn++PgXVNPk/XZDa66AiHcSYb18dsKI6IbGxw1geMpmtHoAQtuc8wtego1G2FiCCpIi5+CCiNqsQsub0Y3tAk5aDM53ZIjJFZQZk14/8Wp6cnB0+IGI64PuUWxmqJRCeBEJRHz5LVntqkpbKnyR/gPndpiFNiNsIAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기찻길2&quot;
        title=&quot;&quot;
        src=&quot;/static/8b60c88e990e1b098b3c3d09b1d9d953/0a47e/image-2.png&quot;
        srcset=&quot;/static/8b60c88e990e1b098b3c3d09b1d9d953/c26ae/image-2.png 158w,
/static/8b60c88e990e1b098b3c3d09b1d9d953/6bdcf/image-2.png 315w,
/static/8b60c88e990e1b098b3c3d09b1d9d953/0a47e/image-2.png 600w&quot;
        sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
KBS2 &apos;다큐멘터리 3일&apos;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;개발자-원칙&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%9C%EB%B0%9C%EC%9E%90-%EC%9B%90%EC%B9%99&quot; aria-label=&quot;개발자 원칙 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;『개발자 원칙』&lt;/h2&gt;
&lt;p&gt;말 나온 김에 이 책에 대해 좀 더 쓰겠습니다.&lt;br&gt;
이 책은 여러 CTO급의 고수분들께서&lt;br&gt;
지나온 커리어들을 생각하며.. 아 이렇게 하니까 좋더라.. 이런 이야기를 해주십니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 210px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/67fa85f56485aa48147da30869689fb6/65ed1/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 114.55696202531647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAErElEQVR42m2T61MaZxTG9w/rH9Hpl06nycQ2bZrETKJGI2lIokYMYFDxwj0EBLxhFElARYxXEGFZYFnuglwFgeWOCrK7fdV+MNM+c2bnzLzP7z3Pmd2FiFsiSbLValWr1Vwul0wmE4lEPB4HTTqdrlQqFxcXFEXd9kPULZ2dnQF3KpUC/OW1wF3g2Wg0Tk9PwRGO47f938GxWAzwoMlms8CXyWRu7gqHw4C/MdTr9f+BQWZgBXPK5XIoFDq6VjAYBD2CIPl8Hnjwa92Yr2DySlfbgh3AiqVi0Wa1OhwIirrcKJpKJrEruQOBQLVaAeELhcLV5q0WQL6LnS8Uk5nTRvOS+o9aBFEolk7SmZuZ/8aORiIq4ZhGIdBMC7QKkYrP4bP7VMLRHZ3avLFi/fZ1f+3z8ty0eIo7wngj5XEl1zXBYUePIxBisy4xHlrFNIuo91BEgz++OhS/3OV1b4x3rXKfC2ltfX/89KGzjdNzf4r+kPX8t3fP2gaetbXf+RG2WSE3ApsFvQkNK7bESiyzo0us8CLDPz/oVg4gsj7FcIdhibU0QVMzuz4xOkR9T8fp7aP0Jy8f3HHY7ZDbAQeU9Mbm2LmRe7HJPdsYq65x8C/spIblUw6YdMPooXRJ8lo31qP+0CMf7OC/fcx7/ZT+6FfEDkMeJ3yiHaLsAtLGo2A+aeWRpqnWFrduGE2vMHe/jIoEbxclb1bHXiyzu9SsbsVQp6T/WX/73SvYi9rTWxwqKCP8UiL4ifBJSVRE2vjUAe9Mx4qa+MnoInYg3JodWv80MDPSw3v1l5zR8f7pPYfdBnncSBqepLJzZEZFnKjIuJIIy0iftGETptaHE35l0KdMBhaompHI6pqpL7BhcpL+6EP3fQeY7MOQo8OpYnymEFWRJTWFq8nsHBWTx02TxZKRosyNuvGyvEEW1onM18uTr2R+dWaSNvTkLupEIA+K2FaZJ9qXYctUo7pMlBeOncLQ/oTfJidIB0mYSGKbPN8ky4ZWToftCslTncM4Rf/jZwx1Qh4Pcjjbi7PuRuZ7m5faXHwugO4dB+yNi0bIsx4NzoLhrbqRKK5TJcOxXe7eFddjK/THv7gQO+T32D12Ud6vSmESilqL+/lRr/nm6/PDezbNe5IyUc1vZNVAlQ0Xp7rtFQ6FG8cH260WC+QPup3GofjMg8QBk6L0RG02ZJedn58D+LyKw3N9qZimWtjFY/rC0cKBnpv1qiO2aUZnm8sBQ/6Q2zn/Av/zh5i6J5fVp4934iFrrVKoVUsRvxs1rUVCPvBLaxdFYURRCn/2Wj4O0x6Md//uBLExzOHa4zhV/QGzMWC1YJYD+/6Ow7oPXiHmgr1ez1Eo6PV61TMT2L54b5ktG6NJmZ3vO+8hCAxhXmcmo7lsbhWTGjw8n3QpvTsip0FkXhZtLch00xK1RKiWS0UjDK3g74B+PLktjG6Lt2aZXo8Lcnucm0au36Nwu2UYKvc6pT74I7YvsOlH9uaHtqffaafoCmaXXvzGvMj5pmKtyQZXFWzZeD/qckDNZiOXz+dy+E3lc3gWVB7HC8ViqVQqlyvVcq1eKZUKWWDL4+Akl8tHo/FarfYPR5ZCm4IWtmwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이야기&quot;
        title=&quot;&quot;
        src=&quot;/static/67fa85f56485aa48147da30869689fb6/65ed1/image-4.png&quot;
        srcset=&quot;/static/67fa85f56485aa48147da30869689fb6/c26ae/image-4.png 158w,
/static/67fa85f56485aa48147da30869689fb6/65ed1/image-4.png 210w&quot;
        sizes=&quot;(max-width: 210px) 100vw, 210px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;김정님의 이야기는 &quot;나의 메이저 버전을 업그레이드하는 마이너 원칙들&quot;입니다&lt;br&gt;
소프트웨어가 버전이 끊임없이 올라가듯이, 개발자들도 지속적으로 성장해야 하죠&lt;/p&gt;
&lt;p&gt;그 중에서는 &lt;strong&gt;개구리를 해부하지 말고 만들어라&lt;/strong&gt;라는 이야기가 있습니다&lt;br&gt;
잘 이해하려면 들여다 보지만 말고 직접 한번 해봐라.. 이런 것인데&lt;br&gt;
부스트캠프하면서 많이 느낍니다. 백날천날 그 동작이고 뭐고.. 배워봐야&lt;br&gt;
한 번 만들어보고 부딪혀보는 것이 매우 효율적이더랍니다&lt;/p&gt;
&lt;p&gt;또 하나, &lt;strong&gt;여러 해결책을 제시하고, 공유하고, 비교하여 서로 납득할 기준을 제시&lt;/strong&gt;하자는 내용이 있습니다&lt;br&gt;
개발하면서 해결책은 정해져 있는게 아니더라고요..&lt;br&gt;
여러 방법이 있고, 각자의 장단점이 있습니다&lt;br&gt;
그리고 협업을 하다 보면 그 중 뭘 선택할지 의견이 다를 수 있는데&lt;br&gt;
서로 납득할 기준을 제시하는 것.. 매우 중요하네요&lt;br&gt;
응당 선택이란 근거가 있어야 하겠죠&lt;br&gt;
오픈소스 문화는 이러한 과정을 거친다는 점이 가장 큰 장점 중 하나고&lt;br&gt;
커뮤니티 또한 궤를 같이 합니다&lt;br&gt;
저도 오픈소스 컨트리뷰션 프로젝트를 시작하게 됐는데&lt;br&gt;
이런 경험 더 할 생각에 매우 좋네요&lt;/p&gt;
&lt;p&gt;그리고 이동욱(향로)님의 글도 재밌게 봤는데&lt;br&gt;
특히 이 분께서 쓰신 책으로 처음 스프링을 배웠어서 더 와닿은 것 같기도.&lt;br&gt;
아무튼 &lt;strong&gt;제어할 수 없는 것에 의존하지 말고, 제어할 수 있는 것에 집중하자.&lt;/strong&gt; 라는 말을 해주십니다&lt;br&gt;
개발이나 현실 생활이나 마찬가지로요&lt;br&gt;
쉽게 통제되지 않는 변인들에 의존하려 하면&lt;br&gt;
개발에서는 테스트같은거 하기도 힘들고, 현실에서도 그런다고 해서 상황이 나아지지 않습니다&lt;br&gt;
저도 평상시 꽤나 이러려고 노력하는 편입니다&lt;br&gt;
어쩔 수 없는 것은 어쩔 수 없는 거고.. 내가 할 수 있는거라도 해야지, 이런 느낌&lt;br&gt;
개발 측면에서도 꽤나 그래야 할 것 같네요&lt;br&gt;
최근에 GPS 정보 따와서 사용자가 이동한 경로를 지도에 표현하는 기능을 개발하게 되었는데&lt;br&gt;
이거 테스트를 좀 용이하게 하려면 그런 부분 신경써야 할 것 같아요&lt;br&gt;
이렇게 또 인사이트를 얻었네요&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;앞으로도-화잇딩&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%95%9E%EC%9C%BC%EB%A1%9C%EB%8F%84-%ED%99%94%EC%9E%87%EB%94%A9&quot; aria-label=&quot;앞으로도 화잇딩 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;앞으로도 화잇딩&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 578px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8f5018f207a406799e2922de53dfabec/508ef/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 117.72151898734178%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAIAAAB1KUohAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEXUlEQVR42nVUS2/jVBT2n+EHsBoJViyQkGaDhDRii4TEgiWIDRISK5BAYh7AvDqdGWY6M2rTR+I2qZsmbRzHcfy4tuM4dtw8bOfdpMM0SdPHJC2fJx2BQFxdW+den/Od7zvnJJRlWbZlVWs1t9kru42a68Gs4XGDd7Va3fufVSqVqELBmE7Pe52Wtn5ToO9W9xynZOFbuVwuFouNRuPi4uL1fxYuHcehSrYFiyx+615/p/bru878xyeD7snp65cHB5PJBBCj0QgO5+fnF2/XzAYvyraKsHTmvnf7SuXO+5W1rw4Hw/F4DPiDgwPbtgEBb9wcHR0dHh4eHx/PIIJgaIbVbvrC3U/jKw8WV2iIIURZXV0lhMBGMPjn9TyAoAIxvu+/zWzbsDqdNgqUSO6IothsNjOZDMMwPM/v7+97noey8RleVVUch8Mh8vX7fUBcBg8GAyQRBKHX67VaLZDEEUB4S5IEqul0mmVZIOIG6P6bdRkMyEKhgCSoM26r1Uq15tp2qd1uwwHQCE6lUrquAx3K4fl3sKZqhmGAEuqEtBM0b79tFU2AQid4Ij+IgD+KP4O7DEZJgoLrOvgEncAzrGm/f5RjtybTi+lk0u12ATFjW6vWIBguAAqqPZ1OA//hEHrqvu/Vm67Jk9UfXvU7/+rwP/tcqVQoWZIlUVKJiq0oyht6OUnRZN1WZLQsWEQh4FUwDGxd03DExj0FqWCOSZpNLMi4noe2+Z4LFi5mPaiiI0pKis3spDiFqMgJf9M0KQzAjPZsYYxQJMiLJxJcNgs/OI1GR7HQnLQ5x9O3tzcWz15PL2lbVjD9aAkC+v3e6ekJvJ88e35rbv63+cdiTkRv/nw15CL3RuaLrvQ4EX50ND69LJgkQRkpmibEWLbt1+uu661EIr/cnXu6tGw7e/Abn5wl1x4MzRfy+vXw4sPh6OhtsCjs7u7q+YJfbzR81y3bvU5jPHy58GyB51Lnx4OLyfHh4YAJ3S+z9xQuil+s53pnJ+NqeY+S01E7G3Y0zhDiRWGj7BSTW7SaiW5Fw3R0NZyJyyLj8CulzGIusSyreRP/Habe0KJGLk6RdLRF1poqXScRK/281/Hi20nX8127+P2u+EFUurqW+mkn7Yl0K79ZVuK2kmTp+X09kuc3KSUdrZNwz05aO4/MG1c2H35Xa71s+t52VviMuJ8ktav83g296pNkU6P7JmOmXrCby4UsI7PrQXCDhLtm3Ms+kx5+IUZu6dKuo0lPssp7C7FrYuXDpe0VUnBlpqmtt/MxNvKotFcrlywhGaEIF2uodNtgugWmYzB+9ml+6RsjGw+Z3pdc8XO5dm1DUJyyp8TaRgxS7UyIoZdYZplwG5S4E/alUEujm2oEylt61E3dUemfi1zI4MKyxCq2WSScKy4HPkiuruYWvjbWf9QyMUongszG9GxC47fVYMc1IaGmN3JbT4XYY279jwwTyiZpLZsIPvHbSoYhOyGSCudV8S8zIq6vw6i0kgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;잠&quot;
        title=&quot;&quot;
        src=&quot;/static/8f5018f207a406799e2922de53dfabec/508ef/image-3.png&quot;
        srcset=&quot;/static/8f5018f207a406799e2922de53dfabec/c26ae/image-3.png 158w,
/static/8f5018f207a406799e2922de53dfabec/6bdcf/image-3.png 315w,
/static/8f5018f207a406799e2922de53dfabec/508ef/image-3.png 578w&quot;
        sizes=&quot;(max-width: 578px) 100vw, 578px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아무튼 머.. 남은 2주 힘내보겠습니다&lt;/p&gt;
&lt;p&gt;앗. 맞다. 학습정리 모아서 여기에 올리려고 TIL 페이지를 따로 만든건데.. ㅜㅜ&lt;/p&gt;</content:encoded></item><item><title><![CDATA[(네이버 부스트캠프 1주차) 나참 무슨 회고록을 쓰라고..]]></title><description><![CDATA[라고는 해도 열심히 쓴답니다~ 네이버 부스트캠프 챌린지 4주 과정을 시작했는데요 처음에는 "코어타임이…]]></description><link>https://sungpaks.github.io/til/네이버_부스트캠프_1주차_회고/</link><guid isPermaLink="false">https://sungpaks.github.io/til/네이버_부스트캠프_1주차_회고/</guid><pubDate>Fri, 19 Jul 2024 17:57:26 GMT</pubDate><content:encoded>&lt;p&gt;라고는 해도 열심히 쓴답니다~&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;네이버 부스트캠프 챌린지 4주 과정&lt;/strong&gt;을 시작했는데요&lt;br&gt;
처음에는 &quot;코어타임이 7시까지라고 했으니까 그때까지만 전집중하면 끝이겠지?&quot;&lt;br&gt;
라고 생각했는데 오산이었습니다&lt;/p&gt;
&lt;p&gt;사실 또 다른거 하는게 많은데&lt;br&gt;
갑자기 부스트캠프라는 개큰일정이 확 들어와버려서&lt;br&gt;
진짜 너어무 바빠졌습니다&lt;br&gt;
그래도 할 일이 많은건 항상 좋은 것 같아요&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 303px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2944568792ce5903caf6417c19fcf889/6728c/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.06329113924051%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACoUlEQVR42h3Q21ISAQAA0P2AGsdCqLQygjA1K1gRll2WqwiIKOy6K7hcXAi5LQgsIApokqR28YrlJNhkTvaQWTqOpjXTTA/21Cc14weclwNcbuBzmlpV2OD2fqa8Hi+uRFd32JXtbDifwkOji5uxt7uTazvF1Y/Zp+tsZWf64MfU2of80lbaFggBdTwhr4kvgZX+iTSdTdsisSfF8UjYo1Coum2YxWoaySQDM9NUdpJI5VyZwmi+EC0W3Em2xxsDrvCETSIZRMalWEyKJeQk24WnWx4ocKOmUo7P53zyXlrunZVSBYkzDxI5EE+jZBIeYAxUCuBwBTcFIIxHEAejcsRQJ6sdTvWh0Nf5seU8vVkKOuiIzJUPsKXll5Xnz14XphaM3oyKZCzeFFDPu9colMJEFCFj6FAcHUrq6EI5lzsqh2ozoc8v0rPvj/2Vs6WN3fMve6fvqtW5BcPIBEzErHQGuHRNxBXKICIKk4zSEdcMsyjFYoGJst8ewQwRJ6HE4wo8KR9gxEYaxqLddF5NZZRE3OJJA3UNfK4A7MLDiguvd6UeKfu8lGcpYPaZZJQDa+/UgXIkyRIJFhtLDULWoNqVgeyhHioJXOc184WdSpxBCMZIT5rc42I9BVk8i6/KpaCttL7x2OQTmykyQJXn3NNTmFht17jHFfaLMB73TrMAVNoiWjyi7ve3oTZEq4L0xur3k5+/Tz6dnXpCCcLPDIyMmQmPVAG3yU0aFyvrD+udCYDDaW68K4YsXliLi8Q6YafG2dOajw99Ozz+e/7n6GD/cG93u1at1bbsnuD9h/IWqQF1psBen4ZkgPqrt24IQDlq7pQgIomusRWSIbAUVrbDptqb0PG/X0YnI9EPC7sMtzsQvkjSgVgRIgmafJpB5j+ImPEk0hMhugAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;지쳤나요?&quot;
        title=&quot;&quot;
        src=&quot;/static/2944568792ce5903caf6417c19fcf889/6728c/image.png&quot;
        srcset=&quot;/static/2944568792ce5903caf6417c19fcf889/c26ae/image.png 158w,
/static/2944568792ce5903caf6417c19fcf889/6728c/image.png 303w&quot;
        sizes=&quot;(max-width: 303px) 100vw, 303px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
사실 그정도는 아닙니다.
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;같이-해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%99%EC%9D%B4-%ED%95%B4%EC%9A%94&quot; aria-label=&quot;같이 해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;같이 해요&lt;/h2&gt;
&lt;p&gt;슬랙에 400명인가? 많은 사람들이 모여 있는데&lt;br&gt;
42서울 라피신할 때 생각이 막 나곤 합니다..&lt;br&gt;
그 때도 슬랙에 사람들이 왁왁 있고 왁왁 올라오고 그랬는데&lt;br&gt;
다른 점이 있다면 부스트캠프는 온라인에서만 만난다 라는 점이겠네요&lt;/p&gt;
&lt;p&gt;또 42서울 생각이 나는 것은 여기서도 피어세션이라는 함꼐 하는 시간이 있는 것인데&lt;br&gt;
42서울때 동료평가는 아예 시간의 제한 없이 1:1로 진행하는 것도 있고, 코드를 면밀하게 나눴던 반면&lt;br&gt;
여기는 좀 &lt;strong&gt;어느 측면에서는 느슨하다?&lt;/strong&gt; 라고 생각됩니다&lt;br&gt;
근데 이 느슨하다, 라는 것이 약하다는 것은 아니고&lt;br&gt;
그냥 방식이 다르다 뿐인 것 같습니다&lt;/p&gt;
&lt;p&gt;두 시간 동안 6명의 팀원들이 각자의 코드를 완벽히 리뷰할 수는 없어요 사실&lt;br&gt;
게다가 함께 줌으로 미팅하는 시간은 1시간 뿐이라서&lt;br&gt;
결과물을 서로 나누고 리뷰하고, 검증하는 데 목맨다는 방향성은 전혀 아닙니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 322px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/083723c020d308b71e46b8a5c2aa4f3c/fc778/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACWklEQVR42hXLS0/aAAAA4B62RJMlOylzDw2OoiKUtkjLw1mlToXOB2B9gLTlYeVdKthSSilFZS4+D9NlbIct22HZyeP0tv2ybdcv+YBgiBHC+M4CjtvG1Jpye3vX+/iV2cnEdzJKvS0UxWJR00/en15ctDtaiS9LosHzOaWuStUG4HdMBmB4DnFOjVtqldrdr9/RyHZf32MvMsXGWFmS6a2yhyobb3WlJTDLy0EHQYUoRVY0WQXmUJhAnbMIhFlHZbF2f/+no+qrGHKaiWulglA5KOTKC9F1OhHP0xvFDCMKUja9W5fkVlMDyCmYRB1Bv58ig3y6cNg507V3pQhtbEe7ml6u7BvtbvP4pGF0r6Tmeffww80Xvd5QDmS9pQMkCgWcNh/swr0BjzeAIIR1DA9HqnSII8lwJp1rqVJKFmrHJ5e7QpZP9j7/NLRDta50mi2AROxLHsz87MXDB/1DQ2aLBR4ZscHoP1uxWDFidqWaZ0kK4Ri6GVnjI4tyKpmPUlKxaDQ0wDcJ4qh36KnZZBqGHD7QAg8MDINmBwbNgaB7ZBSKLb3O+sZYNxgjcJZwx6DncXhY4BhdVgDK73NYIZsdtTtcNrsXHHf3PxocfGIFLbgTwl9aUa9rmpuG0gTEER5uFkt6J1i3RUwl/2d2M8lu7347S3w/i123mVNlU91bauXeyOlFvbJxrqxeqfELKd5KzR/xZE+jDZ5MeCYqHNvclwAP9gpxutbtpsi4iZ2BNvBJ1ufcD+Gf8uHLEnfdyP04qt6IWS4wU9hazoZ8scX5NWo9Hk2U98S/pJHM3xv4J/gAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;회의&quot;
        title=&quot;&quot;
        src=&quot;/static/083723c020d308b71e46b8a5c2aa4f3c/fc778/image-1.png&quot;
        srcset=&quot;/static/083723c020d308b71e46b8a5c2aa4f3c/c26ae/image-1.png 158w,
/static/083723c020d308b71e46b8a5c2aa4f3c/6bdcf/image-1.png 315w,
/static/083723c020d308b71e46b8a5c2aa4f3c/fc778/image-1.png 322w&quot;
        sizes=&quot;(max-width: 322px) 100vw, 322px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;피어들과 한 시간을 보내는 방법도 정해져 있지는 않은데&lt;br&gt;
여러 방식을 같이 해봤습니다. 코드 설명도 해보고, 서로 코멘트도 주고받아보고, ...&lt;br&gt;
근데 매일 올라오는 &lt;strong&gt;함께 살펴볼 사항들 을 함께 이야기하고 각자의 학습을 나누는 것&lt;/strong&gt;이 가장 좋았던 것 같아요&lt;br&gt;
구현에만 집중했던 사람이 있고, 학습에 더 쏟은 사람이 있는데&lt;br&gt;
전자의 경우에도 &lt;strong&gt;생각지 못했던 학습 포인트&lt;/strong&gt;를 얻어가는 거고&lt;br&gt;
학습에 더 쏟은 사람들은 이걸 &lt;strong&gt;재정비&lt;/strong&gt;하는 시간이 되기도 하고, 나누면서 &lt;strong&gt;더 채우는 시간&lt;/strong&gt;이 되더라구요&lt;/p&gt;
&lt;p&gt;아무튼.. 생각보다 &lt;strong&gt;느슨한 피어 학습 방식이지만, 그래서 그 장점이&lt;/strong&gt; 있는 것 같아요&lt;br&gt;
다양한 사람들과 배움을 나누고 성장하는 건 항상 재밌긴 하죠&lt;/p&gt;
&lt;h2 id=&quot;요구사항-분석과-설계&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD-%EB%B6%84%EC%84%9D%EA%B3%BC-%EC%84%A4%EA%B3%84&quot; aria-label=&quot;요구사항 분석과 설계 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;요구사항 분석과 설계&lt;/h2&gt;
&lt;p&gt;사실 이 부분이 가장 저로서는 낯선 포인트였습니다&lt;br&gt;
머리부터 박고 구현하는 편인데&lt;br&gt;
이건 어느 정도나 통하지 규모가 커질 수록 구현에 앞서 준비준비를 잘 해두는 것이 중요하죠...&lt;br&gt;
큰 건물을 세우려면 역시 밑그림을 그리기가 매우 중요한 것 같아요&lt;br&gt;
&lt;strong&gt;짝설계&lt;/strong&gt;나, &lt;strong&gt;체크포인트&lt;/strong&gt;같이 &lt;strong&gt;설계&lt;/strong&gt;를 잘 해볼 수 있도록 하는 장치들이 있기 때문에&lt;br&gt;
설계와 친해지는 시간이 되고 있어 좋습니다&lt;br&gt;
확실히 &lt;strong&gt;설계로 먼저 방향성과 가닥을&lt;/strong&gt; 잡은 뒤 구현에 들어가면 효과적임을 느낍니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2d82cc7345183a92f6828cd0336395c3/3684f/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 99.36708860759494%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEXUlEQVR42h2TaWxUVRTHX2L9AiaED5KAymcSYyQE0xgwRkWQNqAsUsUUkBghYtwiBDUiIIXI2sWClBaECEiIsQK1TSkwSsvA1Ja22NrO8uat972737fNvGkpevHm5ObkJL+c/zn5H0X5/82Y8ficOXOmT58u81kzZ1WtrpKJrMybN6+s7JHZT87evvULWZk2bVp5efncuc/KfOrUqUplxfKKpcur1rz95qqqlctXLVm0dN3adTU79y55eXH1O+s3vvt+ZcWyjRve+3bnnrKyR596cvbCBQvnz39uypTHZs58Qom8ydB/4NE4xHHMJmP/36KYQBaLxXjAJnw+GfmTAStlh3N9twdSybt/JpLXOhL9twd7e/oVZGDXFrZJkUGQIxzgW6bIph35uyBwgAC2Z+kcmzQgkc9Lagbc6e4bvZsGOVdBJsFO6ALf1jG0uU/iABVdDQsYEuARmzHgQZ3ZWURROPJ3vqvzlp51ktdTA7eGFGpzZPsQeNj17Lw70jfcdbnr+pVEekjVxixsYOF4WCeOihgMs2nbMoilw3upkcGeexKmGDCGgsTV7lNNPx09cnzXjn01e+o6O27+cSOV7O5XR011RNdGdJBFloYhFI7NzDEL5qBCTIodcbrl/L5dB9p/u9rZdr39yo2GhpN9qWEjY40OZqysAw3q6pyhIicxRiGGRZCxkQ4UTsJLrR2rV6xtOHCscX9T4+Hmo/Unaw/9cKdnwEhbVgZYOcc2MDCEx8dDPh7gInEDMy9hR4EW/eXCpS2bPjlS07D0xdfPnWmtP3ii/uDR3juDasbSVMe1PVOntvkQjlipyMc5Ds0cgAZSQA5ea0vs2L77wplfFz3/Wm3N9811p7Z+9GXX1e6bN3uHhtKu42NYAJaE7wdiwscRtYWUgwBX1H+M+v2Nm9ZvSbR3V7z0xr5dR5YtXt1YdzI9ZqZuDfR2948Oa5pKNBUTGMv+Rg7I/QENYegp+TGzes2Gzz7Y2nr28raPv15W+dYLC15leJyTEkcFD4WClWTnzBiQJMUFTiKQR9TxCfQVbdSs2fFdy/HTm9dtqXxl5TNPl9cdbo78B9J2yOEY+Q/Veg8kaRnY48XIf6gcGYy4BUWaKXNPbb14eee23Xu+2l+9dvPg3bQvigQJxgSjHqMFj5eAKXQNCl4MRanAS45OkYQdDcsdNtWf+PzDbSO96TUrqn0/4jQQPBDC51xwFgVeidFAzUmvxgG/H8HYVQl0Q8XMyr2JxkPHGg812Vmy/dNvBC8IKnlfcAl7nIVhcB86fl6FcuACmyigEtKpC6gip7dU53zzzz2dSaSzH5vOWQYVNEauT0lIcEBwKHjJMriuUY/EkozcmGgYW0TBJqNA1O6tS/x+IxYTx2pbOtoSEnBsD7nSiQUZBBXVLMyrWKA4hJHvRm7OcfPyJA3qo6jtYvvZE+fkGf6VHD7dckFPm8SVdxogN5JBUXEgNZpKDjMcMyfkrufkHZC1/wOW7plCuTN84QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정&quot;
        title=&quot;&quot;
        src=&quot;/static/2d82cc7345183a92f6828cd0336395c3/3684f/image-2.png&quot;
        srcset=&quot;/static/2d82cc7345183a92f6828cd0336395c3/c26ae/image-2.png 158w,
/static/2d82cc7345183a92f6828cd0336395c3/3684f/image-2.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그리고 사실 개발에서는 &lt;strong&gt;요구사항 분석&lt;/strong&gt;이 진짜 중요한 포인트인데&lt;br&gt;
같은 요구사항이라도 이걸 말한 사람과 개발자의 &lt;strong&gt;관점&lt;/strong&gt;과 &lt;strong&gt;이해&lt;/strong&gt;가 다를 수 있습니다&lt;br&gt;
그리고 대개 요구사항은 알고리즘 문제처럼 완전히 정해져 있는 게 아니죠..&lt;br&gt;
이건 그래서 이거 하라는거야, 저거 하라는거야? 라는 생각이 들기 마련인 것 같아요&lt;br&gt;
게다가 부스트캠프에서는 요구사항이 꽤 길고.. 막막하고.. 그렇습니다&lt;br&gt;
이런 &lt;strong&gt;요구사항을 분석하고 이해&lt;/strong&gt;하고, 이를 잘 따라가는 이런 연습이 도움이 많이 됨을 느낍니다&lt;/p&gt;
&lt;p&gt;슬랙에서도 자주 있어요.. 이 부분은 이런 의도인가요? 애매 한 것 같아요! 이런 질문들이 있는데&lt;br&gt;
어느 정도 범위 밖은 &lt;strong&gt;개인의 판단&lt;/strong&gt;에 따라라, 라는 답변이 많습니다.&lt;br&gt;
이게 진짜 현실 경험이지 않나? 싶어요&lt;br&gt;
요구사항을 잘 녹여내면서도 &lt;strong&gt;주도적&lt;/strong&gt;인 판단으로 진행하는 연습이 많이 되는 것 같습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 271px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/46662004a2c4f7f2acf1062de39e575e/5fce1/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC/klEQVR42hWR62/bZBTG/S/ABz5CkKBFgDa2diurOq1pS6/JujVJ09p1EidOfHd8v8TX1/ZrO07cdAUh9qWANPg750rn09Hz/M6j5yAMgwrclUC3ZREz9ZGl9w352jbwKGQMjRDZy8Aahh7tOxPX6FsKNjMGljlWBZSnLpBGo7658WQ8PPcc0vOZ0KdAQAKfbF0cv3j5qvZt7fRoJ/KZPOFhyEQ+XUErTSU2tT7Ser/fOKszdDcAvGsNwpDJcqnZePPFl1+t/7z5w49Pa7XvDg/fpIBOkymMeAg4zx6FPuvYJGKo/aAi2aPAZytwEvNxSK2tffN97esp2r2Vefxkb329BiOumsQfp7EQBSwIWNcYILrac51JYA/jWEiAkMLpHHLN/Zejt4cLlsjGOHN+8v54O0/FLOEf70MpAzyMxdAZIbp8U5URBRRM+NgjYfQYe2EQ5ajzoE4e1HGCNTz6XRJN0kRIoJgkQtUIjAUQsojCX7omEQMBAiqa9ZJgWJnzmFuwnVWvE180YqIR2TjwhhkUikJLYzbyCBjzaa4gpoaHLpXEAnwMJhRzcbmQyls1FDGjWRcPXym9ZlGqxVIs77TyVilX5mKpLUsjzSTEtsk4FoFHFnOlKOSytAtosSSRu37Okvpl0+J4hmQzGBWFM8/l+z/d8t5cfJgBQCGKiHo2GbhM9YPYUXNvERnz8TWT+zmQjEiqNvnwkppNo8DIZoofeeISckUmw1BApt1dDTuwB8cOee7Jlq/DwKggHpjBMUpotFjClcropuA4CpAYXZ8MMr4D2fYMP0D6vz0nT7aGB89Chfnr48dy9cc/S+bTigwkYmW27t2LHKgPf/+7Wq0kUbu7+/Df/59+v7/TObJ/8AzpbD+92nmOvf6FvW5rsi3wmt46Zfa2p80GtfVksLGmkRN5quNY76Y7oEaMrduOItFXrV59C0F3X9zsbhL7GwJ2Y4lR+6zbfouPcJGj9f2tvdc//coOpug5dlo/fXfUUmjb5GZTFJXbZ6Ojnc91NGXrL0oM1QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이게 무슨 소리야&quot;
        title=&quot;&quot;
        src=&quot;/static/46662004a2c4f7f2acf1062de39e575e/5fce1/image-3.png&quot;
        srcset=&quot;/static/46662004a2c4f7f2acf1062de39e575e/c26ae/image-3.png 158w,
/static/46662004a2c4f7f2acf1062de39e575e/5fce1/image-3.png 271w&quot;
        sizes=&quot;(max-width: 271px) 100vw, 271px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;저는 &lt;strong&gt;요구사항 분석할 때 꼭 글로&lt;/strong&gt; 써봅니다&lt;br&gt;
내가 &lt;strong&gt;이해한 요구사항&lt;/strong&gt;을 다시 글로 뱉어보는 건데요&lt;br&gt;
그러고 나서 다른 사람들이 이해한 바와 비교해보거나&lt;br&gt;
또는 다시 요구사항 원문으로 돌아가서, 빠진 부분이나 애매한 부분, 내가 잘못 이해한 부분, 이런게 있지는 않은가 확인하곤 합니다&lt;br&gt;
이렇게 한 번 하고 대충 구현을 위한 흐름을 설계해보면&lt;br&gt;
처음엔 막막해보였어도 길이 어느 정도 보이곤 합니다&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/602e4063dfca9b5c8d382a37eba3e74a/21b4d/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABuUlEQVR42g3P+26aUACAcZ5hWWMXO2srdhaLjvv1cEBugh5FqEAFxYJUrW22Lln/2NPPB/h9yYchg11NlRyBMgDPgbaZwWIOc18uEDik7sJ2TFq0WMFgRapL6Ax/eMpVVg10ClkcZkmDmc5kvlyGZhWOqkAp58ouBMcl/KyXrgLp3qDX7va7963LK+L27n3zrHPiR27GExkbyw+BTkcGnbpSHU9fN9E+9vch/FtO/h1r+gfRx++bjWa3jd80r4lOT2OkGeD+ZKYHKAyBYWKzicOvXHY9ZtMpdKDic9TLCESG3rv+jrfxiy8XnRbe+Nq4umyKJJGP2UOkWiKJzcEwtZhk9DNz6O2E387P/2Kg0ODmFlBDT1dM4SG0aMj2u61vAtnZheoh1t6fDJsnsEdjkNrsObb16GrG1xF4W8HMN1yBTz0RmZIjEoFBb5BQP6p1pFSBWC6kU6ohtY8lo0Gsk4XH1YFYh/JhqR4T8JbAUwI/y/Gvwj2uRjlSfI0KbaaKwEusbefSLpILd3jGw8wcZAZZ+sxpCV4T7ez3C+H32v2oFut0EoWuZ8tjW9Y1bob0CIGJwbgyWTjkfwKUgNR0zGmHAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;균형&quot;
        title=&quot;&quot;
        src=&quot;/static/602e4063dfca9b5c8d382a37eba3e74a/f058b/image-4.png&quot;
        srcset=&quot;/static/602e4063dfca9b5c8d382a37eba3e74a/c26ae/image-4.png 158w,
/static/602e4063dfca9b5c8d382a37eba3e74a/6bdcf/image-4.png 315w,
/static/602e4063dfca9b5c8d382a37eba3e74a/f058b/image-4.png 630w,
/static/602e4063dfca9b5c8d382a37eba3e74a/40601/image-4.png 945w,
/static/602e4063dfca9b5c8d382a37eba3e74a/78612/image-4.png 1260w,
/static/602e4063dfca9b5c8d382a37eba3e74a/21b4d/image-4.png 1280w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;사실 하면서 .. 학습과 구현, 또는 과정과 결과 사이의 &lt;strong&gt;밸런스&lt;/strong&gt;를 맞추는 게 꽤 고민입니다&lt;br&gt;
슬랙 보면 다른 캠퍼분들도 그런 고민들이 많은 것 같더라구요&lt;br&gt;
어떤 분들은 새벽까지 구현에 매달리시기도 하고..&lt;br&gt;
아직도 그 균형을 찾아가는 중인데&lt;br&gt;
확실한 것은.. &lt;strong&gt;성취가 아니라 성장&lt;/strong&gt;을 쫓아야 하는 것 같습니다&lt;br&gt;
앞으로도 많이 남았으니 경험치 많이 얻어가야겠습니다. 푸하하&lt;/p&gt;</content:encoded></item><item><title><![CDATA[메모리 공간을 효율적으로 쓰고 싶어요]]></title><description><![CDATA[Partitioning Fixed Partitioning 처음부터 조각을 잘라두자. Equal-size : 모두 같은 사이즈로 컴파일 할 때도, "나 여기서부터 시작한다!!"를 미리 정하고 들어갈 수 있어서, Relocation…]]></description><link>https://sungpaks.github.io/til/학습_정리_day04/</link><guid isPermaLink="false">https://sungpaks.github.io/til/학습_정리_day04/</guid><pubDate>Fri, 19 Jul 2024 01:52:28 GMT</pubDate><content:encoded>&lt;h2 id=&quot;partitioning&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#partitioning&quot; aria-label=&quot;partitioning permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Partitioning&lt;/h2&gt;
&lt;h3 id=&quot;fixed-partitioning&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#fixed-partitioning&quot; aria-label=&quot;fixed partitioning permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Fixed Partitioning&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;처음부터&lt;/strong&gt; 조각을 잘라두자.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Equal-size : 모두 같은 사이즈로
&lt;ul&gt;
&lt;li&gt;컴파일 할 때도, &quot;나 여기서부터 시작한다!!&quot;를 미리 정하고 들어갈 수 있어서, Relocation 문제를 걱정할 필요가 없다&lt;/li&gt;
&lt;li&gt;그런데, 조각들이 프로크램 사이즈에 딱 맞을 수는 없다. 공간 낭비가 생김&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Unequal-size : 다양한 크기의 조각으로 나누자.
&lt;ul&gt;
&lt;li&gt;딱히 Equal-size보다 효율적이진 않음.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;두 방식 모두, 어떤 식으로든, &lt;strong&gt;공간의 낭비&lt;/strong&gt;가 생긴다 =&gt; &lt;strong&gt;Internal Fragmentation&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;dynamic-partitioning&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#dynamic-partitioning&quot; aria-label=&quot;dynamic partitioning permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dynamic Partitioning&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;필요한 만큼&lt;/strong&gt; 그때그때 잘라주자.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;미리 나눠두지 않는다 : 만약 56M만큼 빈공간이 있었는데,
&lt;ul&gt;
&lt;li&gt;20M 프로그램이 도착? 준다 =&gt; P1&lt;/li&gt;
&lt;li&gt;14M 프로그램이 도착? 준다 =&gt; P2&lt;/li&gt;
&lt;li&gt;18M 프로그램이 도착? 준다 =&gt; P3&lt;/li&gt;
&lt;li&gt;P2가 만약 Suspend되어 Swap-out : 중간에 14M 비었고, 밑에는 4M 비었다&lt;/li&gt;
&lt;li&gt;8M 프로그램 도착 ? 준다 =&gt; P4, 중간에 6M 구멍이 생겼다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;위와 같이, 중간에 구멍이 나고, 구멍이 나고, =&gt; &lt;strong&gt;External Fragmentation&lt;/strong&gt; 발생.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Compaction&lt;/strong&gt;으로 해결 : 프로그램들을 위로 다 밀어붙이고, 공간을 병합한다
&lt;ul&gt;
&lt;li&gt;Dynamic Partitioning 쓰려면 주기적으로 이거 해줘야 한다&lt;/li&gt;
&lt;li&gt;근데 이거 하려면 각 프로세스가 차지하는 메모리를 한 줄 한 줄 주르륵.. 써야한다 : 메모리 &lt;strong&gt;읽기/쓰기&lt;/strong&gt;를 엄청나게 하므로, 시간이 매우 오래걸리는 동작임&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;placement를-잘해봐요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#placement%EB%A5%BC-%EC%9E%98%ED%95%B4%EB%B4%90%EC%9A%94&quot; aria-label=&quot;placement를 잘해봐요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Placement를 잘해봐요&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/2h3dWaR.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Best-fit&lt;/em&gt;&lt;/strong&gt; : 위에서부터 &lt;strong&gt;가장 잘 맞는 공간&lt;/strong&gt; 찾기. 16Mbyte면, 16Mbyte 이상이면서, 빈 공간을 최소로 하는 공간을 찾자.
&lt;ul&gt;
&lt;li&gt;근데 찾으려면, 모든 공간을 들춰봐야 함.. &lt;strong&gt;시간이 걸린다&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;First-fit&lt;/em&gt;&lt;/strong&gt; : 가장 먼저 만나는 &lt;strong&gt;가능한 빈 공간&lt;/strong&gt;에 넣자. 다 찾지 말고
&lt;ul&gt;
&lt;li&gt;빈 공간들을 링크드리스트로 연결해서 =&gt; 넣을 수 있는 공간을 탐색하기.&lt;/li&gt;
&lt;li&gt;공간을 찾는데 &lt;strong&gt;시간이 더 줄었으나, 빈 공간이 더 생긴다&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;또한, 앞에서부터 탐색하므로, &lt;strong&gt;앞쪽만 계속 조각나는 경향&lt;/strong&gt;이 발생&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Next-fit&lt;/em&gt;&lt;/strong&gt; : first-fit처럼 가능한 공간을 찾으면 끝이지만, 앞에서부터가 아니라 &lt;strong&gt;마지막으로 할당한 공간 다음부터 검색&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;앞쪽만 조각난다는 단점을 해결하고, 공간을 전체적으로 사용 =&gt; . first-fit에 비해 괜찮은 공간을 더 빨리 찾을 확률이 높다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Worst-fit&lt;/strong&gt; : &lt;strong&gt;가장 큰 공간&lt;/strong&gt;을 찾는다.
&lt;ul&gt;
&lt;li&gt;가장 큰 공간이므로, 프로세스 넣고도 충분히 큰 공간이겠지?&lt;/li&gt;
&lt;li&gt;이러면 오히려 external fragmentation을 줄이는 방법이 될 수 있겠지?&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;근데 당연히 이렇게 발버둥쳐도 external-fragmentation은 여전히 발생하고, compaction을 안 할 수는 없다&lt;/p&gt;
&lt;h2 id=&quot;buddy-system&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#buddy-system&quot; aria-label=&quot;buddy system permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Buddy System&lt;/h2&gt;
&lt;p&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;≈&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\approx&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4831em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;≈&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; Lazy Segment Tree?&lt;/p&gt;
&lt;p&gt;fixed에서, 미리 잘라둔 공간에 프로세스를 넣고 남는 공간이 생김 : &lt;strong&gt;Internal Fragmentation&lt;/strong&gt;
dynamic에서, 프로세스 넣고 사이사이 남은 공간이 생김 : &lt;strong&gt;External Fragmentation&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Buddy System&lt;/em&gt;&lt;/strong&gt; : 공간이 필요할 때마다 적당한 크기의 공간을 나눠줄건데(dynamic처럼), 프로세스가 요구하는 만큼 딱 맞추는게 아닌 정해진 규칙을 따른다 (fixed처럼)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;img src=&quot;https://i.imgur.com/dockjk4.png&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;li&gt;전체 공간을 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;2^U&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8413em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8413em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;어떤 프로세서가 공간을 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;S&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;만큼 요구하면, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msup&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x3C;&lt;/mo&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mo&gt;&amp;#x3C;&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;2^n-1 &amp;#x3C; S &amp;#x3C;= 2^n&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7477em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.6644em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6835em;vertical-align:-0.0391em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7224em;vertical-align:-0.0391em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;&amp;#x3C;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6644em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.6644em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 일거고, 이 경우 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;2^n&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6644em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.6644em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;을 준다&lt;/li&gt;
&lt;li&gt;공간을 나눠주려면, 전체 메모리를 반으로, 반으로, 반으로, ... 자르다가 더 자르면 요구치보다 작아진다? 그러면 멈추고 현재 조각을 준다&lt;/li&gt;
&lt;li&gt;나눌 때마다, 나눈 결과인 두 조각은 &lt;strong&gt;버디&lt;/strong&gt;가 된다. 공간을 병합할 때는 반드시 버디끼리.&lt;/li&gt;
&lt;li&gt;공간과 공간 사이의 External Fragmentation은 없고, 따라서 Compaction은 하지 않는다&lt;/li&gt;
&lt;li&gt;Internal Fragmentation은 발생할 수도 있긴 함&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[일일 학습정리 - Day01]]></title><description><![CDATA[Day_01 기록.. Node.js…]]></description><link>https://sungpaks.github.io/til/학습_정리_day01/</link><guid isPermaLink="false">https://sungpaks.github.io/til/학습_정리_day01/</guid><pubDate>Mon, 15 Jul 2024 22:05:46 GMT</pubDate><content:encoded>&lt;p&gt;Day_01 기록..&lt;/p&gt;
&lt;h2 id=&quot;nodejs로-표준-입력-받고싶어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#nodejs%EB%A1%9C-%ED%91%9C%EC%A4%80-%EC%9E%85%EB%A0%A5-%EB%B0%9B%EA%B3%A0%EC%8B%B6%EC%96%B4%EC%9A%94&quot; aria-label=&quot;nodejs로 표준 입력 받고싶어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Node.js로 표준 입력 받고싶어요&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; readline &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;node:readline&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;stdin&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; output &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;node:process&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; rl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; readline&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createInterface&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; output &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

rl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;line&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;line&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  rl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;close&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이건 딱 한 줄 입력 받는 예제인데&lt;br&gt;
이걸 마개조해서&lt;br&gt;
원할 때마다 입력스트림을 시작하는 함수를 따로 만들어버리고 싶었는데&lt;br&gt;
이게 이벤트 리스너를 기반으로 하는거라 좀 쉽지 않았다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;rl.prompt()&lt;/code&gt;같은 것도 발견하긴 했는데&lt;br&gt;
결국에는 아래와 같이 했다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; readline &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;node:readline&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;stdin&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; output &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;node:process&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; fail &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;node:assert&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; rl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; readline&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createInterface&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; output &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;AM&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AM&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;PM&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;PM&quot;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//rl.prompt(); 굳이 없어도 되네&lt;/span&gt;
rl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;line&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;line &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; rl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;reserve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;line&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;close&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://nodejs.org/api/readline.html&quot;&gt;node.js documentation&lt;/a&gt;에서 여기서 쓰인 이벤트나 &lt;code class=&quot;language-text&quot;&gt;rl&lt;/code&gt; 이런거에 대한 정보를 알 수 있다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;rl.prompt()&lt;/code&gt;로 입력 스트림을 재개하거나 어쩌구.. 할 수 있다는데&lt;br&gt;
그냥 없이, &lt;code class=&quot;language-text&quot;&gt;&quot;&quot;&lt;/code&gt;(빈 문자열)이 입력될 때까지 계속 받게 했다. &lt;code class=&quot;language-text&quot;&gt;close&lt;/code&gt;하지 않고&lt;br&gt;
이렇게 하면 일단은 조건부로 무한정 받을 수 있는거시다 입력을&lt;/p&gt;
&lt;h2 id=&quot;javascript에서-클래스를-만들어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#javascript%EC%97%90%EC%84%9C-%ED%81%B4%EB%9E%98%EC%8A%A4%EB%A5%BC-%EB%A7%8C%EB%93%A4%EC%96%B4%EC%9A%94&quot; aria-label=&quot;javascript에서 클래스를 만들어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JavaScript에서 클래스를 만들어요&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyClass&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name &lt;span class=&quot;token comment&quot;&gt;//name이라는 멤버변수 미리 선언&lt;/span&gt;
  #password &lt;span class=&quot;token comment&quot;&gt;//#으로 private 설정 가능&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;_name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; _role&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _name &lt;span class=&quot;token comment&quot;&gt;//미리 선언한 name에 값 할당&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;role &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _role &lt;span class=&quot;token comment&quot;&gt;//미리 선언 안 했어도 그냥 이렇게 하면 생김&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;_name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _name
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;thisIsStaticFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;JavaScript에서 class는 속성(property)의 집합인 셈인데..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;constructor&lt;/code&gt;로 생성자를 명시할 수 있다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;static&lt;/code&gt; 붙이면 정적으로 선언할 수 있다&lt;/li&gt;
&lt;li&gt;사실 함수도 JavaScript에서는 &lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%9D%BC%EA%B8%89_%EA%B0%9D%EC%B2%B4&quot;&gt;일급객체&lt;/a&gt;라서, 그냥 속성을 추가하듯이 작성하면 됨&lt;/li&gt;
&lt;li&gt;기본적으로 모든 속성(property)들은 public인데..
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Classes/Private_properties&quot;&gt;클래스 필드를 private으로&lt;/a&gt;해버릴 수 있는 방법이 &lt;strong&gt;ES2019&lt;/strong&gt;부터 추가되었다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;#&lt;/code&gt;(해쉬 라고 읽으면 됨) prefix를 추가하여 &lt;code class=&quot;language-text&quot;&gt;private&lt;/code&gt;으로 선언할 수 있는 거시다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;factory-method-pattern&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#factory-method-pattern&quot; aria-label=&quot;factory method pattern permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Factory Method Pattern?&lt;/h2&gt;
&lt;p&gt;그런데 하고 싶은 것이 있었는데&lt;br&gt;
&lt;a href=&quot;https://refactoring.guru/ko/design-patterns/factory-method&quot;&gt;팩토리 메서드 패턴&lt;/a&gt;이다&lt;/p&gt;
&lt;p&gt;그러니까 이건..&lt;br&gt;
(1) 먼저 생성자를 &lt;code class=&quot;language-text&quot;&gt;private&lt;/code&gt;으로 제한&lt;br&gt;
(2) 생성자는 특별한 메서드 (ex: &lt;code class=&quot;language-text&quot;&gt;getNewInstance()&lt;/code&gt;)에서 호출&lt;br&gt;
(3) 이 특별한 객체 생성 메서드에서는 조건에 따라 객체 생성을 결정 (ex: 이미 객체가 10개 생성되었으면 객체 생성 하지 않는다, 등..)&lt;br&gt;
이런 식으로 해서 객체 생성을 한 층 더 캡슐화하고 제어하는 패턴이다&lt;/p&gt;
&lt;p&gt;사실 이름이 &lt;strong&gt;팩토리 메서드 패턴&lt;/strong&gt;이 맞는지 모르겠는데,&lt;br&gt;
전에 Java 수업 때 교수님께서 객체지향 패턴 중 하나로 알려주셨던 내용인데&lt;br&gt;
이름이 기억이 안 나서 GPT에게 설명을 주고 이거 이름 뭐냐고 물어봤더니 저거라고 답했다..&lt;br&gt;
근데 또 위 링크의 설명을 보면 살짝? 다른 것 같긴 하다&lt;/p&gt;
&lt;p&gt;아무튼, 구체적으로 하고싶었던 것은&lt;br&gt;
입력된 값의 유효성 검사 ---&gt; 유효한 값이면 객체 생성 / 아니면 예외처리&lt;br&gt;
이 과정을 아예 class 내에서 캡슐화하여 &lt;code class=&quot;language-text&quot;&gt;getNewInstance(input)&lt;/code&gt; 이런걸 넣으면,&lt;br&gt;
유효 값인 경우, 객체를 생성하여 리턴, 아니면 &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;이든 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;든 예외 반환&lt;br&gt;
이렇게 하고 싶었다&lt;br&gt;
그런데 어라? JavaScript에서 생성자를 &lt;code class=&quot;language-text&quot;&gt;private&lt;/code&gt;으로 생성하는 방법은 없는 듯하다&lt;br&gt;
(&lt;code class=&quot;language-text&quot;&gt;#&lt;/code&gt;도 안 되고, 다른 방법을 검색해봐도 안 나오는데.. 방법을 아신다면 알려주세요)&lt;br&gt;
그래서 일단 생성자를 막지는 않고 그냥 원하는 대로 객체 생성 메서드를 따로 만들었을 뿐이었다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[위치 기반 러닝 트래커 프로토타입 개발해보기]]></title><description><![CDATA[데모 프로젝트 구성 : bun + vite + react vite : JavaScript 모듈화 빌더??? bun : JavaScript runtime, package manager, bundler, etc.  react typescript…]]></description><link>https://sungpaks.github.io/til/geolocation-based-running-tracker-prototype/</link><guid isPermaLink="false">https://sungpaks.github.io/til/geolocation-based-running-tracker-prototype/</guid><pubDate>Sun, 14 Jul 2024 13:47:34 GMT</pubDate><content:encoded>&lt;p&gt;데모 프로젝트 구성 : bun + vite + react&lt;br&gt;
&lt;a href=&quot;https://ko.vitejs.dev/guide/&quot;&gt;vite&lt;/a&gt; : JavaScript 모듈화 빌더???&lt;br&gt;
&lt;a href=&quot;https://bun.sh/&quot;&gt;bun&lt;/a&gt; : JavaScript runtime, package manager, bundler, etc.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;bun vite react-playground&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;react&lt;/li&gt;
&lt;li&gt;typescript
&lt;code class=&quot;language-text&quot;&gt;bun install&lt;/code&gt;
&lt;code class=&quot;language-text&quot;&gt;bun run dev&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.daleseo.com/js-prettier/&quot;&gt;Prettier + ESLint&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;geolocation-api&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#geolocation-api&quot; aria-label=&quot;geolocation api permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Geolocation API&lt;/h2&gt;
&lt;p&gt;HTML5에서 지원하는 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Geolocation&quot;&gt;Geolocation API&lt;/a&gt; 있음&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const geo: Geolocation = navigator.geolocation&lt;/code&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;geo.getCurrentPosition()&lt;/code&gt; 으로 지금 위치 가져올 수 있고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;geo.watchPosition()&lt;/code&gt;으로 아예 위치 바뀔때마다 호출되는 이벤트리스너를 등록해버릴 수 있음&lt;br&gt;
둘 다 인자로 &lt;code class=&quot;language-text&quot;&gt;success&lt;/code&gt;는 무조건 넣어야 함. 위치 가져오기 성공 시 실행할 콜백함수임&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;watchPosition()&lt;/code&gt;은 &lt;code class=&quot;language-text&quot;&gt;long&lt;/code&gt; 값을 반환함. 이거 가지고있었다가 &lt;code class=&quot;language-text&quot;&gt;clearWatch()&lt;/code&gt;에 써야 함&lt;/p&gt;
&lt;h2 id=&quot;reactkakaomapsdk&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#reactkakaomapsdk&quot; aria-label=&quot;reactkakaomapsdk permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ReactKakaoMapSDK&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://react-kakao-maps-sdk.jaeseokim.dev/docs/intro&quot;&gt;https://react-kakao-maps-sdk.jaeseokim.dev/docs/intro&lt;/a&gt; 에서 튜토리얼 가능&lt;br&gt;
적당히 Kako 지도 javascript api 따라해주면 되고
ts패키지도 적당히 넣어주고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;import { Map, MapMarker, Polyline } from &apos;react-kakao-maps-sdk&apos;;&lt;/code&gt;&lt;br&gt;
&lt;a href=&quot;https://react-kakao-maps-sdk.jaeseokim.dev/docs/sample/overlay/drawShape/&quot;&gt;https://react-kakao-maps-sdk.jaeseokim.dev/docs/sample/overlay/drawShape/&lt;/a&gt; 선 그리는 것도 있음&lt;/p&gt;
&lt;h2 id=&quot;코드&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%94%EB%93%9C&quot; aria-label=&quot;코드 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;코드&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useEffect&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./App.css&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Map&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MapMarker&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Polyline &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react-kakao-maps-sdk&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PathType&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  lat&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
  lng&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; geo&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Geolocation &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; navigator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;geolocation
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;latitude&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setLatitude&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;longitude&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setLongitude&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setPath&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;PathType&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;/** 마운트 시 위치 이벤트 리스너 등록 */&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; geoId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; geo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;watchPosition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;g &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setLatitude&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;coords&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;latitude&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setLongitude&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;coords&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;longitude&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; geo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clearWatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;geoId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;/** 위치 바뀔 때마다 히스토리에 누적 */&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;latitude &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; longitude &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prev &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; lat&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; latitude&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; lng&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; longitude &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;latitude&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; longitude&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;80vw&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Kakao Map.....&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;latitude &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; longitude &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Map&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;center&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;lat&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; latitude&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;lng&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; longitude &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;100%&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;500px&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MapMarker&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;lat&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; latitude&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;lng&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; longitude &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MapMarker&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Polyline&lt;/span&gt;&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;strokeWeight&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 선의 두께 입니다&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;strokeColor&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;#FFAE00&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 선의 색깔입니다&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;strokeOpacity&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 선의 불투명도 입니다 1에서 0 사이의 값이며 0에 가까울수록 투명합니다&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;strokeStyle&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;solid&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 선의 스타일입니다&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Map&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; App&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://sungpaks.github.io/react_playground/&quot;&gt;깃허브 페이지로 배포&lt;/a&gt;해서 사용해본 결과&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0e38501d794ff1e3768b1de357dc1db2/78797/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 216.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAArCAYAAAB4pah1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAIpUlEQVR42n1XWXMU1xmdXwFIwqBBEiKA0C5AFhY7lkD7hklSlB3ALGWcPCRAIcTicigXVUl+QN6ShzjLW5zEiR3iAiywJNBImtGMRrN2T3dPb7P0LNIg6eS7VxotIclUnZrb3feePvfb+ru2hoNv43R7J1rOtONUy2kcePsQ6vYfRP2Bxv8LNqfxUDNa25bXnfvheb7WVk8PTrd1EGEbWk638clVtfWorqvn/+tRWVO3YdzY9A46e3r52vPvf4CDTUTY1HwEvWe/j1NM4ZkOnO7sxpmuHnT09KOzbwBdfWf5P0PPwDl+3dHbz+e0dnThZCsJaesidOIAvcDW3t2L3/7uj/jwo5/g4tXruEC4eO1j3Lh9D588fISHj36Ju588xP1PP8P9n3/GxzcH7/F5DD+68hF+/NNbuH3/U5xsOQNbTX0DDh0+iuajx/HOkWOraD5yHM3HTiyDnjUfPUH3N87J4zDNOXL8FGob9sNWUlICe3HxG9i2bRuKCgtRSHhr61Y+3lpUhO3bt6H4v8xn9xiXrbS0FGVlZSgv38mxa1c52L2mpib09fWhu7sbra2t6O/vR1tbG/bt24fdu3fT3PINYBxsHSdkzAUFRdhSsB0FhUXYtGkTduzYgbq6OjQ0NGDPnj2oqalBbW0t7HY7tpLizZs3Y8uWLRwFBQWcgxOW0MLv7a7A7ZvXcO9mFy5fv47BoQcYHLyNy1eu4MLFS/jZjRu4MziIO3cGMTR0F0N37uDu0BCNh/DgwQPcunWLv5SJsNntxaisrIMu/wHI/gKL8yLYb2lpkbCEufl5hMUIVE2HopvQzPjK8yUsLCzwcSwWQ319PbejjbHu3VsBz+gjIPE5Mtkc5uayyGaz9D+HTCaLqKrCMAyEZRVBUUZSdCIe8cCyEnj9+jUkSeLm4YR2+w5SuBfy9KdQI8OIJ+cgiAJkRYEYkZBMJpHL5Whhjr9EiacRdT6GFRpDwkqTehGOick1wmJ7CWqryxFy/grDI6MQiGTS5cLzkTG43DOkIoU0qdQSaTxzBeAIqdBJrWno9NIoDNOEd3Z2vcISVFTsgsc9TA8TSCQTiCcSfLJJtslmM2SGLEJqDBEthlQ6A1GLY9rrg2vazV+o6/qaDVkYsNgSyQ6LZOS87Zgz5gnp7DxkepFXVPEyGEM8PQePHIdDSCCbSSM3z0wkrldoJxtWIhqNLhOk0+SIDFKpFC0gNYYFv5rEN64ovnTIGA/omBDi+PVTC9F4CnOvF+DxeFBVVcVjlBNWVVVCUWQy/utVQq6S1BqJFHeEYKQxETThV+JQ6Z4rqMLhnsXkTACCIGxUyNg1TePeZIRs25yUbzsH0UxBilkwkymopMqayyEQUfD0uzFy5BgeP/kW1ZRJqwrZllWKtcXFRcwzG2ZJnWUiEXoF0/MUluJBlAL6hVfHv9wGRFmBPxJFOCIjFBbgDwk8RVcVVlRUQKRsYA7w+ALwhcKkQIMWdCA38xukIt9gyuvCiEeEy+OA0zkMKTBKiskpi0sQJAV1a14uRlV1NZRIGJbqhy4RRB9ikgdx/xeYmXEhnsoioCYgyBL0wGMY4WfkRBEKed+0yHGSjNo1GzLCGkSFADIyxVU0iLTiRdrze0xOPMf45DSCoQCCiolZ1aJtCgiGQ5ApJmNExhT6guHVSrTOhhoWWDEwgshpk8jFXEgYUWSTCtJxlQpDDL5oDEE9BVnV4faHMCOZ3Eks9TY4hXlZluXlnFXHsRD+M+KaAO/Lf8BUguSoDKxkHBJVHIGyJBJLwxtNYNQr4gmlozcUWW/DvMIoFYAFPHM44fT5oIgh/POLPyEcmEWO7puaBCumkLcTXJmHMCEYcIk6RiecG1OPKQyQZ78bGYZ7/K/QrAVYpoLwrBOphMGDXJND0DUZT6cVOIlomggnI8wEFrz+wEaFVaTQOe2FGJiE4v0a87klZC0DSUNEOqEQqckJZwJhvHCH8TJgwEuE/mgcciKLKf9/5DIj1HUNj6dUiq9hkON42qWTBkdMlwgybTkKywgvVx7VJJsSKTnp+XSQh419fWC7xofxbCKAMbeXbEkZQ1WEpSArEumUBTXshOx/RduW4BNZ8Y0gpOgI0ZZH3EFU1xKhfYVwb0UlJL8Tn4/GMfTVAoWFxqs1K++sFkYjAYw8+RKusW+pEASo+iR4gfCIGoJaAtN+ATXrCZmXrUQcYXr4l9EARsdG8ezFCAVwmH9TYhSPnqkxeKdGEJEEzAgKvIEg3ETIauOEx0eBvULIDFlHUT4+6aSPURSZlAkfec3t9fOtsfxmhZR5O2lKkKUwfLKBoKzBJcXgFlQMv3SsKFyXKX/76muMvHLw7wer3Kw2GlTejdQcJD1OKhWYKgU7xeikT0DYSGFKoJdrKTx1BlFVs27L7BMw5XQhRIWSOWGOHBKiKi2ZaRjJDP9ACRrzrA7JoIwxkkjRi2clDQ4xjr+PzqCyeiWX2ZZZYs96vfCzDKFPgcgWkzozayJNWWLlgOT8AvTsImZpu+EQVST6gIViWYjJHMZ9kWUbsrBhPUn5zp3o6erCwNkBtHd08I62d6CLms530dLZhVNtvejtH0DfwAC6qeE829uJ/t5u3pT20f32zh5qmHatdV9sUEStWr514+0bXW8teovGRdhGKCoqXEVhYdHK8+V2j7V5pflmKd/O7SSVb+J/3X8TjIcTltEi1t+UlhExjTlYr1dWtnrNnjPkr9ncktK1+WycX29jx4Pjp1p4919d14Ca+v1gRw0Gdl1d24Du/vfQ994PVrv/E++2ooN68/x8dpzY39jEr237Gw+RA87RmeMw9cgHCY1gJwOG2oYDHO9fvIJLVz/mixlpZ08fzn9wcWX+QeqxT1KffoyPuUI2iS1kY4b8mB9y6D+vOH/oYWoY8vPYi/JjW54kj/zBp72rG1euXcOFSx+u4DL/v3z1GoVJN5+TP1Gtx78BHjTiw0kQgmEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;데모&quot;
        title=&quot;&quot;
        src=&quot;/static/0e38501d794ff1e3768b1de357dc1db2/f058b/image-1.png&quot;
        srcset=&quot;/static/0e38501d794ff1e3768b1de357dc1db2/c26ae/image-1.png 158w,
/static/0e38501d794ff1e3768b1de357dc1db2/6bdcf/image-1.png 315w,
/static/0e38501d794ff1e3768b1de357dc1db2/f058b/image-1.png 630w,
/static/0e38501d794ff1e3768b1de357dc1db2/40601/image-1.png 945w,
/static/0e38501d794ff1e3768b1de357dc1db2/78797/image-1.png 1125w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;정확도 관련 수정을 해야 하긴 할 듯&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.vitejs.dev/guide/static-deploy&quot;&gt;https://ko.vitejs.dev/guide/static-deploy&lt;/a&gt; 배포하려면.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;github.io/repo/&lt;/code&gt; 이렇게 배포하려면 vite.config.ts에 설정 추가해주기 . &lt;code class=&quot;language-text&quot;&gt;base : &quot;/repo/&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[🗳️ 리액트 사용자 입력 : onClick 🆚 onSubmit]]></title><description><![CDATA[미안하다.. 이거 보여주려고 어그로 끌었다.. onClick vs onSubmit…]]></description><link>https://sungpaks.github.io/on-click-vs-on-submit/</link><guid isPermaLink="false">https://sungpaks.github.io/on-click-vs-on-submit/</guid><pubDate>Sun, 07 Jul 2024 21:04:20 GMT</pubDate><content:encoded>&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 306px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8c211b07f4714b92832fc32fa8465bcb/98b92/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.79746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClElEQVR42g3MWU/aAAAA4P7EPSwmcw9Llri5ZcaBzmvoSFCYEOfQKRKRKlQEBeS+q1CVyn2UggWElgJtAUHYHEZftu8HfMBbofwFTzQqkI1L5NtGm8odgoLx71rrmyX566/rr+akI1PL737qJpQWiQlxIP700ej8JqTQ7XlMUsAZS+7ZEQUEHx5FLkIVx3HJqsMs19gs6OZrgxNKx3v58Yet00m1U+7ONHMyKstfUanIy5Fp8Rig3kOPflQ1Qlrzran8Ul3loyAYdofTKyfwZ7WLd+Dj73tndUGBOQG6Qjl06Y6eCdtGhs1JEBIDoJA+FPWOpYN9UXtnvgpJUwhEG3cxYwA9cMKf1jUSvdcaKQTCZuZW4NLzmsW5x8rLB453V1oAIDGzt1jbXSS1UgoS12xy1r/Tc2y09NvZE1XMrBRfnq8Rqd38xVQtO04kptP2sW5lvN+aGTAzgGj51O3BfUjW68cV83mVgFIv1iEwYzmL+JC43ocYg7APPdc4/URa9jyUxBwLHVLYKX7kasvA5okxTOTP4mmlNOZQVAJq5nAVN/syhlDWEcpt+fCNQM4auoxEVURaypREf9g1FhMwRdlTHwRQDEcyWcN+3Lx9izoenOqOy5CHPcUrP4vAjMpTcOWqmdgZh063qutDTvrUlffozd+MsUV6gSrHUEwL9mBeQwO29L2mhgdkY5Y+dsVFE/QVVkmWqHgKqecOho1ff0nZfW1j2LcxrQrbpYH2fa/e5fIlJmjvRMNcscLYtbRJWUtgVLpYShXLBFUZsP6nB+S+Geq0I8+P5+U6lrqlur0ykCyV/MmkJx5PF+oZvPE/uojeBGDiptHI1+jrPFEgy60ecUOT5SbLcARO4nY0UqiR3UH7H7Oy4lAXCphTAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;미안하다..이거보여주려고어그로끌었다&quot;
        title=&quot;&quot;
        src=&quot;/static/8c211b07f4714b92832fc32fa8465bcb/98b92/image.png&quot;
        srcset=&quot;/static/8c211b07f4714b92832fc32fa8465bcb/c26ae/image.png 158w,
/static/8c211b07f4714b92832fc32fa8465bcb/98b92/image.png 306w&quot;
        sizes=&quot;(max-width: 306px) 100vw, 306px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
&lt;p&gt;미안하다.. 이거 보여주려고 어그로 끌었다..&lt;br&gt;
onClick vs onSubmit 싸움수준 ㄹㅇ실화냐?&lt;br&gt;
진짜 리액트 최대의 고민이다.. 가슴이 웅장해진다&lt;br&gt;
...&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;리액트에서 사용자 입력 제출할 때 뭐 쓰시나요&lt;br&gt;
전 별 신경쓰지 않고 아무거나 생각나는거 쓰는 편이었는데&lt;br&gt;
막상.. 생각해보니 어라? 싶어서 그냥 써보는 글입니다&lt;br&gt;
&lt;a href=&quot;https://medium.com/@edidee/using-onclick-vs-onsubmit-to-submit-a-form-in-react-c7e6dd318dce&quot;&gt;이런 글&lt;/a&gt;을 좀 참고했을지도?&lt;/p&gt;
&lt;p&gt;둘 다 React의 &lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt;로 사용자의 입력을 관리하는 경우로 예시를 들었습니다&lt;/p&gt;
&lt;h1 id=&quot;onclick&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#onclick&quot; aria-label=&quot;onclick permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;onClick&lt;/h1&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;UsingClick&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setText&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setResult&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;onClick&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;App&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Input Using onClick&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onChange&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;onClick&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;제출&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대충 이렇게 하겠죠?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4ca9f24dcd813cbe5e0c9af296602718/5a46d/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9ADZCNEdeTYeNYY6QaE1eT0xcS0VSRFhnVGJxXnd9cHp/b3N5Z2RzYGV0YWh3Y2VzXJKfkejq45ilildrUQA9SzlIYE92flOFiGVOYFIzNiorJhw+STpxemnBuKbAvrOwqqRnc15dbVpicV5ndmJwgG2SoYuhqZFslFIANkU1W2tdi5iTcoF3SVpJREM2WU8/kZeNlZePqaBnqaaJpqKcYGxWaHZlaXZlZnVhZnVeZHFedIBxdZN6AEZeUzU/NV1tXlJhUVloVkVJO2FkVmptX2trXFhgVFxkV1NeTExaSICMf4uViF1qVmRwXXCCc4nDdkeSKABXbGFWb2AlMylJVUVGUEFDSjxVYVRAPC5fV0BVZFA8TT1LWkhYZ1Q5SDdzh3lxh3pMW1xgkFFVsCMoaAAAO0hAa4Z1M0c/OkI1REs7Rk08Qk9DPT0tWlE7eXphPUc7RFVEfpWBV25Kbod8jaucVGdlVoU4LHQAIlYFAAgKCTpFN1ZvYUtQP1ZgTDxCNDc/ND9HO1xhT19mWHB9bUNQRFhqXVNmTldvZEVgXHKGZY2oXydiASBQAQAwOzE2RTYqOzJzgWxzhW0zPC0nLyVET0Ndb2Fmd2dhc2NBS0FGXDZTZTRWZ1lac2yOo3qltmtffDNFfSEAaX5qV3BcIScbj5l9aHljJC0iICYdSVJEYXNlWmdaOEI4RlJHeYtyX2c0Q0w6P1BNRVJCQ002XW9aQ38nAG96WoCPa3BjSYNsSXN1XBgkIQkLCi44L2Z8ZEJSRiEqJCYtJ1BZT4qEY3ZvVFtpVpi0knuOeUyWJT+fAwAiJBdEUjlBT0BRaV6Ln4CAgFBQUTFMVj2Dl2xzinJPW1aWo6G4xMXL1M7P0Mbb8Oee2MVAX0JGoAspZQeFxvcBnbqSLQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이게 클릭이야&quot;
        title=&quot;&quot;
        src=&quot;/static/4ca9f24dcd813cbe5e0c9af296602718/5a46d/image-1.png&quot;
        srcset=&quot;/static/4ca9f24dcd813cbe5e0c9af296602718/c26ae/image-1.png 158w,
/static/4ca9f24dcd813cbe5e0c9af296602718/5a46d/image-1.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그냥 간단히 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;button onClick={}&gt;&lt;/code&gt; 이렇게 쓰는 것입니다&lt;br&gt;
어디서든 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;button&gt;&lt;/code&gt;을 적절한 &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;에만 연결해주면 후속처리를 진행할 수 있습니다.&lt;/p&gt;
&lt;p&gt;그냥 이게 다인데..&lt;br&gt;
이 &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;은 버튼 뿐만 아니라 어디에도 &lt;strong&gt;범용적&lt;/strong&gt;인 이벤트 핸들러라는 점이 특징이겠네요&lt;br&gt;
그리고 &lt;strong&gt;클릭 핸들러&lt;/strong&gt;로 하기 때문에, &lt;strong&gt;진짜 클릭해야 한다&lt;/strong&gt;는 점입니다&lt;/p&gt;
&lt;h1 id=&quot;onsubmit&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#onsubmit&quot; aria-label=&quot;onsubmit permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;onSubmit&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 306px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/54a58c233ee0bae6c1b169bced67ae14/98b92/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.79746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+klEQVR42jVS207cMBDN71VVv6Oq+h2oLYgCXSgUKMtmb0nsJLYTX+LE1yTLQ/tRnQVVskYe22fOOeNJjNVaC84bxijnTEqu1DEVirecNQ2ltBaizbJdCDbGAHGcXIjm3Yf3CcaF1pKLFpV4PgSE8zzfrtJlTfB68wy3abqcX0LLqZQiRu/84Hz/5+/Lp88fk80mDdEa2+ESOW+OVII1isMqEWKkog0BCXmREVKNk/dhCGEA8O3dddIwKkQjZLPbboVswUK/eu4e79XNQl+c9+uVs9oH02lelihGEDwA2XwAAyYpij2lRHWyQJlxepRNuLkOZ1/i4tKfnYTbxXD6zcsWAGDH++HIHM00h2n2SduSdL0ipK4q1A2dR5m9ugxX53H5MGXruLx3P69dhadDrOui70Uc7RE8OVgJVHKhBz2dkpTV82TDfhNvb6Z8N9alffxlf3yPtouzo6xsOQGwC8M42hmY3yrF0YFzjLNj6gf79GDPv/YXp2a9tIJ1vRgGSQiiFMOD/8p9IiX8LROKCUH3+1TKpqqRcT3lVHvdGYXK3DpdlplSnBD8RvbKZ5Pfj3dgG8pAD8oqh26n6yelWthTWkGTKzjsBXwHjAr07BX5hndJiQtGK8FZp/hut6IEty1ljHCQIxqpGsBDhHKDUaRGWvNx9DBnIZp/MuPPg5NuPrwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;결재&quot;
        title=&quot;&quot;
        src=&quot;/static/54a58c233ee0bae6c1b169bced67ae14/98b92/image-2.png&quot;
        srcset=&quot;/static/54a58c233ee0bae6c1b169bced67ae14/c26ae/image-2.png 158w,
/static/54a58c233ee0bae6c1b169bced67ae14/98b92/image-2.png 306w&quot;
        sizes=&quot;(max-width: 306px) 100vw, 306px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아시겠지만 &lt;code class=&quot;language-text&quot;&gt;onSubmit&lt;/code&gt;의 경우에는 꼭 &lt;code class=&quot;language-text&quot;&gt;form&lt;/code&gt;으로 감싸고&lt;br&gt;
버튼의 타입이 &lt;code class=&quot;language-text&quot;&gt;type=&quot;submit&quot;&lt;/code&gt;이어야 합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;UsingSubmit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setText&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setResult&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;onSubmit&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;App&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Input Using onSubmit&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;form&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onSubmit&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;onSubmit&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onChange&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;submit&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;제출&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;form&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이처럼 &lt;code class=&quot;language-text&quot;&gt;onSubmit&lt;/code&gt;을 써먹으려면 이를 통합 관리하는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;form&gt;&lt;/code&gt;태그가 있어야 하고&lt;br&gt;
이 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;form&gt;&lt;/code&gt;태그에 &lt;code class=&quot;language-text&quot;&gt;onSubmit&lt;/code&gt;이 등록됩니다&lt;/p&gt;
&lt;p&gt;그런데 &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;과는 좀 다른게&lt;br&gt;
이렇게 제출하면 기본적으로 &lt;strong&gt;새로고침이 발생&lt;/strong&gt;합니다&lt;br&gt;
리액트 입장에서는 이게 state도 초기화되고 아주. 귀찮을 수 있습니다&lt;br&gt;
따라서 필요한 경우 &lt;code class=&quot;language-text&quot;&gt;onSubmit&lt;/code&gt;함수에 인자로 들어오는 이벤트 객체 &lt;code class=&quot;language-text&quot;&gt;e&lt;/code&gt;를 가져다가&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;e.preventDefault()&lt;/code&gt;과 같이 작성하여 &lt;strong&gt;새로고침을 방지&lt;/strong&gt;해줍시다&lt;br&gt;
그래야 &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;과 비슷하게 쓸 수 있습니다&lt;/p&gt;
&lt;p&gt;그리고 한 가지 &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;과 비교되는 특징은&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;form&gt;&lt;/code&gt; 내에 속한 입력란에 포커스가 있는 채로 &lt;strong&gt;엔터를 눌러도 제출된다&lt;/strong&gt;는 점입니다&lt;br&gt;
이를 이용하여 굳이 클릭하지 않아도 엔터로 제출을 해결하게 할 수 있으므로&lt;br&gt;
조금의 UX 개선에 도움이 될지도?&lt;/p&gt;
&lt;h1 id=&quot;onclick-vs-onsubmit-예제&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#onclick-vs-onsubmit-%EC%98%88%EC%A0%9C&quot; aria-label=&quot;onclick vs onsubmit 예제 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;onClick vs. onSubmit 예제&lt;/h1&gt;
&lt;p&gt;위에서 쓴 예제 코드 허투루 쓴게 아닙니다&lt;br&gt;
오늘도 샌드박스로 좀 가져왔습니다&lt;/p&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/4ks4yp?view=preview&amp;module=%2Fsrc%2FUsingSubmit.jsx&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;onSubmit-vs-onClick&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;p&gt;위에서 살펴본 차이점(&lt;code class=&quot;language-text&quot;&gt;onSubmit&lt;/code&gt;은 엔터로 가능함 등..)을 한번 살펴보십쇼&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;끝&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%81%9D&quot; aria-label=&quot;끝 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;끝&lt;/h1&gt;
&lt;p&gt;입니다. 진짜로&lt;br&gt;
알아서 상황에 맞게 쓰면 되겠습니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🪝 리액트 훅(React Hooks) 예제와 함께 톺아보기]]></title><description><![CDATA[리액트 좀 해봤다 자랑하려면 Hook은 매우 필수적인 것 같은데요  오늘은 이 리액트에서 기본으로 제공하는 Built-in…]]></description><link>https://sungpaks.github.io/react-hooks-guide-with-examples/</link><guid isPermaLink="false">https://sungpaks.github.io/react-hooks-guide-with-examples/</guid><pubDate>Sat, 06 Jul 2024 20:26:16 GMT</pubDate><content:encoded>&lt;p&gt;리액트 좀 해봤다 자랑하려면 Hook은 매우 필수적인 것 같은데요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 254px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/be28d1c15f594584a789339e2b7d2892/6a91e/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.84810126582278%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAADvUlEQVR42mOIDfYtzEqqryjobKmrLC4sLcpPTUyOCgmNCgmIjwhNT4jKTomuLMhorirsqC9vrimpLMquLM5tra/q76xlYGNhZWViYWVmEeEXlBSU4OcS4mDn5eEU5OMVExWRNTMwkxYV5WRl42Hn5GbnZGNlY2NhY2cFIiCHnUFQQICfj09BVl5DSUNRSklOQl5KVEZKXE5WWlFWRslQx8RI20BYQIifj1+An1+QXwCCBHj5BAT4GHi5eeSkZEy1DRWlFBWklOQlFFRkVJQV1BRklOWllWQk5NXk1aUlpPl4eIAa+GGIl5tXWEQApFlLScXD1tbR0sbe3NJYR19fU8dU31hXXdtAU19NXk1DSV1BVpGflx+uk4+HF4iADJBmYX5+C21NT1trC319K2NjO3NLbycXVxsHc31TcwNzY10DZTlFoMuBKiHagIiHi5ubk4tBkE9ASlxyUmn6kuqshpSoCUXpfjbmGgrKDuZW9uZWTjZ2QM0KUnJSYhJCAgJAJCwI9DPIFUD9DGLCoqH+ATPKs7d3ly+tyWhODs0McLPV0VSVkbU2NrO3tLYyMVNTUJaRkBEVERcWFOXlERQUEhUTFePn5WUQERJWVlTaO63t9ZYZp2c3XFk14eL8th0dRToKcpJC4iqy8prK6hJCogpiAupyQioygrbGCrJifKyMTFycPAzCQHOERdY2Fdxb3Pn90LJn66bcWdR6bGJZcainiqS0EDe/g6FSX0X4sR0z717ZeuPMut+fbpw5MH9uf4GdriwDUCc7B1emv/vfY2uer594bkrFxVk1+zsLlpSnepsbCXJxLZ6QPq2hrK+yckZL46LJE2b2dnWUFP76+uz68RUgzRycPGGOdhdmtT5a0/9iw8Srcxs21qVPyIqMcbIyVJBa0J165/zu/ZtWzGlv2b1x9aXTB07t3/ro7qWTu+YzCAsBoaikgMjslKhXGybfWd5+eU7t3p6CmYWxkypy2qrKLA11ytPc5/Rmnto7c+eaSXs2zLhweFVPZbSLsQIDMK0BU4+ctFxlYvTFeQ0nJhZdmFm7f1rjkY2LDu7aMmPW3DiP4GhDB2kBUUlBLklBHnEBLgk+LnZmNi4uPgZFeSUleVUHK6eOisrd0zuPLuw6sGzGjUsnH929sWzJkobI5L1FNYW+kdqqRqoqBjKySuLi0uIS0tKS0kD/Mmhrahvomjrbe1VnF8R6BS6YOfn1y3tfP72eP3t2cmxStntwY3S6nrK+nra5kb61kYGlirKmpKS0pISUiJAoAOflFmHt62ThAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;제법인데..&quot;
        title=&quot;&quot;
        src=&quot;/static/be28d1c15f594584a789339e2b7d2892/6a91e/image.png&quot;
        srcset=&quot;/static/be28d1c15f594584a789339e2b7d2892/c26ae/image.png 158w,
/static/be28d1c15f594584a789339e2b7d2892/6a91e/image.png 254w&quot;
        sizes=&quot;(max-width: 254px) 100vw, 254px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;오늘은 이 리액트에서 기본으로 제공하는 Built-in 훅에 대해 좀 알아봅시다&lt;br&gt;
&lt;a href=&quot;https://ko.react.dev/reference/react/hooks&quot;&gt;공식 문서&lt;/a&gt;를 참고해서요&lt;br&gt;
또한 적당한.. 직접 작성한 예제도 들고왔으니 한 번 잡솨보십시요&lt;/p&gt;
&lt;p&gt;그리고 진정한 Hook선장이라면&lt;br&gt;
&lt;a href=&quot;https://ko.react.dev/reference/rules/rules-of-hooks&quot;&gt;Rules of Hooks&lt;/a&gt;에 대해서도 응당 읽어보고&lt;br&gt;
코드 짤 때 외않됌? 이라고 외치는 일 없도록 합시다.&lt;br&gt;
대충 이런 내용들이 있습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;조건문, 반복문 내에서 Hook 호출 X&lt;/li&gt;
&lt;li&gt;컴포넌트의 최상위 또는 커스텀 Hook 내에서 호출 (조건부 &lt;code class=&quot;language-text&quot;&gt;return&lt;/code&gt; 이후 이런거 X)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;아무튼 시작해봅시다&lt;/p&gt;
&lt;h1 id=&quot;state-hooks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#state-hooks&quot; aria-label=&quot;state hooks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;State Hooks&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;State&lt;/strong&gt; 훅으로 사용자 입력 등의 정보를 &lt;strong&gt;기억&lt;/strong&gt;할 수 있습니다.&lt;br&gt;
(&lt;a href=&quot;https://ko.react.dev/learn/state-a-components-memory&quot;&gt;&lt;em&gt;참고 : React는 &quot;기억&quot;해야 할 값들(현재 입력 값, 장바구나, ...)을 저장하기 위한 컴포넌트 별 메모리를 &lt;strong&gt;state&lt;/strong&gt;라고 부릅니다.&lt;/em&gt;&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 261px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8a354de8ca5fb41fbe21366f4689f0f3/edf96/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.0506329113924%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnklEQVR42gGTA2z8AMm7u8jAwaejo66srbW4vq6xuKewu19lZ2VjXai4w6a3wau4wbK5xre7yby9xcK+xcPByMjCyc3Fx9DIxwC+v8a5w8ypucKZrbemvMmov82otbtoamJYWVaKionAy9nAw83KxtHPyc/Qys7Ty9DazdDgztLj0dPm0tUAqLrGlqmyoLXDkqaxrLzLr8HRqJeHrqiisba/fmVSs6qs083V2MvN3M7N2s7P3s/R4tDU5dLW6NTX7NbZAK/By4iRkaSss6eutb3Byb++wKaDacG9wbO0uKONfLqikefV2/HQ0/DS1uvU1+zU2O3V2+/Y3fLZ3/Pb3gC3xM6Qk5K5sK6/t7i4vMDPwr+1hWOwnI+DaFevj3LYsJj12t7v1Nfv1tv12t/22t/12uH32+L22+D33OAAxr28opiPybWv0Lmz0MK/4MjAqHJKonpaimRGp25Nx5qC+ODn8dre8Nvg79je89zh9d7n+uDq/OHr++DqANS+tsazrL6vp9C/udC7t9fFwql1VbN7VK+Ob4RPNKeAbeHMw9G4qNO7q9zEvuLOyuzWzurRyuzTzfTa1wDTw7vNvLTEtq7UxL7FtbLq2tzYtJ3AmXqXfWllSjt3WEGOcFZsXkp6ZlO2nIrIsJ6GdV19bVeAbVeLdV8AzLqy28fAybevz766y7u69N3cmYR3fGJNVzkoPjMqYUQufEYsWT4uEhYTV0c7nH5mZllIZlpJa1pLY1FCAKKPh9S3qs6xn9K5r823sKqRhlY9K4tcPkEsHDApJWpEM187K041JwUMD0dBOcGlh3dsV3FjU3lnWHJlVACbjIWmkHzmw6q9o5SWhHmCaVlmQy6vb0pGOClDOS91QTFRLyIvKB0PEQ4wLijAp4x/dFpnX05qYlCKf24AkYWBpZGF8tHCjXlsenJqi3NgZzoll1IuWjolGSEaOiUaHxIMBgcFJSQkopeTrpJ9rZmAc2pUcmpWlIh1ANbAvdW7tLWZi5mEdJaIfnBYQ29IM3dPN0MtIB8iIisxLyMnIxweGmFeW6ONfWpVQc+5obikiLqnjqucgwD43d3+4N6SfXKYgW+hjHWFcluKdVuEcVxyZlRgVkltZl12al6AdWeTgW+VdluAaVS2n4awnIXGr5nRuqYAwayk8dXWfG5qp5OElIBqhHZeeWdQfF9IjnNbhGtUhmxTiWxViW9YlHdgjG9ZkHVgemJNUEM1h3ZknIh3CqAQQG/kUgUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기억할게!!&quot;
        title=&quot;&quot;
        src=&quot;/static/8a354de8ca5fb41fbe21366f4689f0f3/edf96/image-1.png&quot;
        srcset=&quot;/static/8a354de8ca5fb41fbe21366f4689f0f3/c26ae/image-1.png 158w,
/static/8a354de8ca5fb41fbe21366f4689f0f3/edf96/image-1.png 261w&quot;
        sizes=&quot;(max-width: 261px) 100vw, 261px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;값을 유지하고 업데이트하며 리렌더링을 유발하게 하려면 &lt;strong&gt;state&lt;/strong&gt;를 사용해야 함은 리액트의 기본이라고 할 수 있겠죠?&lt;/p&gt;
&lt;h2 id=&quot;usestate--usereducer&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#usestate--usereducer&quot; aria-label=&quot;usestate  usereducer permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;useState &amp;#x26; useReducer&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt;먼저 살펴봅시다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.react.dev/reference/react/useState&quot;&gt;&lt;strong&gt;&lt;em&gt;useState&lt;/em&gt;&lt;/strong&gt; 레퍼런스&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매개변수 :
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;initialState&lt;/code&gt; : &lt;strong&gt;state&lt;/strong&gt;값의 초기 설정 값.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;반환값 : 다음 두 개의 값을 가진 배열 반환
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt; : 현재 상태 값으로, 첫 번째 렌더링 시에는 &lt;code class=&quot;language-text&quot;&gt;initialState&lt;/code&gt;값과 일치&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;set&lt;/code&gt; 함수 : 상태 값을 업데이트하고 리렌더링을 유발.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;const [state, setState] = useState(initialState)&lt;/code&gt;와 같이,&lt;br&gt;
&lt;strong&gt;배열 구조 분해 할당&lt;/strong&gt;을 활용하여 작성하는 것이 국룰입니다&lt;/p&gt;
&lt;p&gt;또는, 값을 엄격하게 관리하기 위해 &lt;code class=&quot;language-text&quot;&gt;useReducer&lt;/code&gt;를 사용해볼 수도 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.react.dev/reference/react/useReducer&quot;&gt;&lt;strong&gt;&lt;em&gt;useReducer&lt;/em&gt;&lt;/strong&gt; 레퍼런스&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매개변수:
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;reducer&lt;/code&gt; : &lt;strong&gt;state&lt;/strong&gt;의 업데이트를 지정할 Reducer 함수. 반드시 &lt;strong&gt;state&lt;/strong&gt;와 &lt;strong&gt;action&lt;/strong&gt;을 매개변수로 받고, 다음 렌더링에 사용될 &lt;strong&gt;state&lt;/strong&gt;를 반환하는 순수함여야 합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;initialArg&lt;/code&gt; : &lt;strong&gt;state&lt;/strong&gt;의 초기 설정값.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;init?&lt;/code&gt; : &lt;strong&gt;선택사항&lt;/strong&gt;으로, 초기 &lt;strong&gt;state&lt;/strong&gt;를 반환하는 초기화 함수를 여기에 따로 할당해줄 수 있습니다. 할당된 경우 초기 &lt;strong&gt;state&lt;/strong&gt;값은 &lt;code class=&quot;language-text&quot;&gt;init(initialArg)&lt;/code&gt;값입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;반환값 : 다음 두 개의 값을 가진 배열 반환
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt; : 현재 상태 값으로, 첫 번째 렌더링 시의 값은 - &lt;code class=&quot;language-text&quot;&gt;init&lt;/code&gt;이 있는 경우, &lt;code class=&quot;language-text&quot;&gt;init(initialArg)&lt;/code&gt; - &lt;code class=&quot;language-text&quot;&gt;init&lt;/code&gt;이 없는 경우, &lt;code class=&quot;language-text&quot;&gt;initialArgs&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;dispatch&lt;/code&gt; 함수 : 상태를 새로운 값으로 업데이트하고 리렌더링을 유발&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;useReducer&lt;/code&gt;를 사용하여 간단한 버튼 클릭 카운트 예제를 작성해볼 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* StateExample.jsx */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;StateExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; StateExample&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* ReducerExample.jsx */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useReducer &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;action &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;up&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; state &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Unknown Action&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ReducerExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatchCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; ReducerExample&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/8tlls5?view=preview&amp;module=%2Fsrc%2Findex.js&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;state-and-reducer-sample&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;h1 id=&quot;context-hooks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#context-hooks&quot; aria-label=&quot;context hooks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Context Hooks&lt;/h1&gt;
&lt;p&gt;보통 하위 컴포넌트에게 정보를 전달하기 위해 &lt;strong&gt;props&lt;/strong&gt;를 사용하는데요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MyParent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MyChildren&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MyChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;머 이런 식으로 하겠죠?&lt;/p&gt;
&lt;p&gt;그런데 이렇게 props를 전달하지 않고도 정보를 전달할 수 있습니다&lt;br&gt;
예시를 먼저 보면, 아래 예시는 상위 컴포넌트에서 변경되는 &lt;code class=&quot;language-text&quot;&gt;theme&lt;/code&gt;값을 자식 컴포넌트에서 &lt;strong&gt;&lt;em&gt;구독&lt;/em&gt;&lt;/strong&gt; 합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createContext&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useContext&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ThemeContext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;LIGHT&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Context를 생성하고 내보냅니다.&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ContextExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;theme&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setTheme&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;LIGHT&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//Provider로 감싸 그 하위 컴포넌트들에 Context를 제공합니다.&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ThemeContext.Provider&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;theme&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          theme &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;LIGHT&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;DARK&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;LIGHT&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        Change The Theme
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ContextExampleChild&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ThemeContext.Provider&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ContextExampleChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//이 컴포넌트에서는 Context를 읽지 않습니다.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1px solid black &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10px&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ContextExampleChildChild&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ContextExampleChildChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//이 컴포넌트에서 Context를 읽습니다.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; theme &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ThemeContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;//ThemeContext에서 얻어온 값에 따라 무언가를 합니다.&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;backgroundColor&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; theme &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;DARK&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;black&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1px solid black &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; theme &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;DARK&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;100px&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      2nd Child, Theme : &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;theme&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; ContextExample&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/tl5x4r?view=preview&amp;module=%2Fsrc%2FContextExample.jsx&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;context-sample&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;p&gt;사실상 아래와 같이, props 폭포에 의한 의존성을 역전시키다시피 한 셈인데요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a1028c0bfe9db8eacbddb59d6084bb61/21b4d/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 40.50632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAx0lEQVR42k2RiQ6DIBBE+f8/Ndh6RuSQ7cuOtZ1EArtzLBhaa7XWlNJxHOd5btvG5rqu3jsrXbWSY55nVcZxRBU45JzfjnVdKZVSIFGUeFkWdanQxdTMyJimKYgBtGHd9x3j7oCt0XDMDg0llyASA8cYsUdGPlQCcYEKj/rrC3mxkh/4xEAv++pgco7qtj885Fusa+gZADnRAckcaPBSi/BhGJjrFgsKJI2VfDaEqKW08ge1fmJK3JYEXhLxMxHgVz0toAub2Qc/zNGviDhxLgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;props인 경우, context인 경우&quot;
        title=&quot;&quot;
        src=&quot;/static/a1028c0bfe9db8eacbddb59d6084bb61/f058b/image-2.png&quot;
        srcset=&quot;/static/a1028c0bfe9db8eacbddb59d6084bb61/c26ae/image-2.png 158w,
/static/a1028c0bfe9db8eacbddb59d6084bb61/6bdcf/image-2.png 315w,
/static/a1028c0bfe9db8eacbddb59d6084bb61/f058b/image-2.png 630w,
/static/a1028c0bfe9db8eacbddb59d6084bb61/40601/image-2.png 945w,
/static/a1028c0bfe9db8eacbddb59d6084bb61/78612/image-2.png 1260w,
/static/a1028c0bfe9db8eacbddb59d6084bb61/21b4d/image-2.png 1280w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;중간 컴포넌트가 몇 개건 간에 건너 뛰어버릴 수 있습니다.&lt;br&gt;
&lt;a href=&quot;https://ko.react.dev/learn/passing-data-deeply-with-context&quot;&gt;이 문서&lt;/a&gt;에서 &lt;strong&gt;context&lt;/strong&gt;에 대해 더 자세히 알아볼 수 있습니다.&lt;/p&gt;
&lt;p&gt;요약하자면, &lt;strong&gt;Context&lt;/strong&gt;는 아래와 같이 사용합니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;export const MyContext = createContext(defaultValue)&lt;/code&gt; 로 context를 생성하고 내보냅니다.&lt;/li&gt;
&lt;li&gt;부모에서 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;MyContext.Provider value={...}&gt;&lt;/code&gt;로 자식을 감싸면, 그 하위 자식들은 모두 &lt;strong&gt;context&lt;/strong&gt;를 읽을 수 있습니다.&lt;/li&gt;
&lt;li&gt;자식 컴포넌트에서는 &lt;code class=&quot;language-text&quot;&gt;useContext(MyContext)&lt;/code&gt; &lt;strong&gt;훅&lt;/strong&gt;으로 &lt;strong&gt;context&lt;/strong&gt;를 읽습니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이렇게 상위 컴포넌트에서 &lt;code class=&quot;language-text&quot;&gt;Context&lt;/code&gt;를 제공하고, 하위 컴포넌트에서 &lt;code class=&quot;language-text&quot;&gt;useContext&lt;/code&gt;로 이를 &lt;strong&gt;구독&lt;/strong&gt;할 수 있습니다.&lt;/p&gt;
&lt;h1 id=&quot;ref-hooks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ref-hooks&quot; aria-label=&quot;ref hooks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ref Hooks&lt;/h1&gt;
&lt;p&gt;어떤 &lt;strong&gt;정보를 기억&lt;/strong&gt;하고는 싶은데, &lt;strong&gt;리렌더링을 유발하지 않게&lt;/strong&gt; 하려면 &lt;strong&gt;&lt;em&gt;Ref&lt;/em&gt;&lt;/strong&gt; 를 사용합니다.&lt;br&gt;
&lt;strong&gt;state&lt;/strong&gt;와는 달리, &lt;strong&gt;ref&lt;/strong&gt;는 업데이트해도 다시 렌더링되지 않습니다.
이렇게 하여 &lt;em&gt;리액트 패러다임에서 벗어날 수 있습니다.&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;const ref = useRef(defaultValue);&lt;/code&gt;와 같이 선언합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;useRef&lt;/code&gt;는 &quot;&lt;em&gt;현재 값&lt;/em&gt;&quot; 에 해당하는 &lt;code class=&quot;language-text&quot;&gt;current&lt;/code&gt;값을 가진 객체를 반환합니다.
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;{current: defaultValue}&lt;/code&gt;과 같은 객체&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ref.current&lt;/code&gt; 프로퍼티를 사용하여 값에 값에 접근하고, 읽고 쓸 수 있습니다.
&lt;ul&gt;
&lt;li&gt;docs의 표현으로는, &lt;strong&gt;React가 추적하지 않는 구성요소의 비밀 주머니인 셈입니다.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/55305148e17b4bb30cf42808e71b7a57/3684f/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEv0lEQVR42h3Q2VNaBxQG8PsPdLpFAbmgl0pB0Ioilx0UBFkUVLjsu8gqS9xQ4xKjCYtLcI2tJsYsmkESNBMT0yZpnIydZpk0azt56UzTtDPtQ6dppy99saQz3+vvnPMdIIaQepFPe7RErwR0cVEOdoGJ+ZGl5sM2LqqNj/YI0CEJ/rCq9NycebxD4OKjfBJcQAwG63EhaTHQryfHdKSYscwvw7dxC6ONxEFL1YCl2iYhaOogl4Y2MaJaiGtnErqwvtwlxHhEOH/e/x+gByH3IJSIuvRESLB1IbQ6Z00c1RgMPAaLTKNBlTSIARNrYby84n0Tq8AtxLYJsb56nF9a7JPi85jSi1AjTYRET8P3ry6kJ92VFTgqtQSuIboRjl5J10irKGR8HROyclF2HsolwLSLQG89ziPGAt2t5F4tJdpImBlQP3t5HtHyKdQSKgVsFleOdyiXBvRLAwaTvKqMXKSCUU4e2pnHdTifBJ8vD3S1kLo15A4ZfjqmyF1NllNAEgls4JKSIUUy0nh+UJc5ZpoMy2XsUmbZIScfbeVj2mpBjwj0iEEg0kKMNhPDTYQRNzxwxEgoxeBLCo4GJLdP+XNJ5515/95i4PwwMuaRMkmFNg7GwsU6BEXuOpxHhAcCCsgvJwQUhIi2TN1AqSSjeDXQYn/L/pnI3YXgSqdqrR+5lnRcHNY3s3EGVqGFW2TnY1y1RR4xHggqCX455G0ojmgp1tbqoKJixFk7FZWv9jdljhnj7dKT4caz/dq4k2/l43SMAvO75WgrF20XYt/hfAJKKKqhWFpo9lposasp3a2Y75Rlx809CGcx1np7Kbg773OLIKQmj7FmTlE++ROAoALqyHtZSURV6tTRVFxQwoZGfaLpkPSLvqaNceO9tciz7aHdOe9UQKKpOWRkYd55LtomQAMBeYlHgg1qqT4b3R+qa9VVFePfG3QKUmHpqEdw8rBi72x0Zy4QbWF0mVhaFlpXfUhPz49AWXgYwCsnLEy6Q10tUnW51clFzAwOuzisY8Ss7JCm+vSI5sFG7/pxi1NaUS8mGsx0m5pik35iFYL52kBmdejg4Pfnb74amvGIm0h6E1OFME4vRJb6VNdnXC+3jmTjtoSn3qCmcwSQzgLbvAK7V2g21rhlRODt2yePX++Nn722/+ObwJgDZhf6nfBOZvhhbuTpemjzhKkboa/NhsNRFU9YjJhhg5VtcvDsPlF28zhwcPDrd788HDtz9f6rn1ZuXjqSHL5+9XRmZ/tc9tLljYXJ2URqYfrui2/HlmfVJgFiYugsbL2Vo9Z+duvrZeCvP57cu59byuxMpDfi0+vpz7dS89ub6fTuVGo5cWps9srkyo3EfG7i4q7Wj7C5Jc16hrSR2hlD/vz7KXBj2b+9kdy+9+raneeZGw/XLu/d3H/x6NGDW1c2c5lcdu/ppS8fZe8+Xtz9hq9qkMnLW40wkweOnGg7OHgNbKXNdzYGsuup9ZXx1cXRucm+2VTPUH+o02YftdtTLseEz9sdCzV77Q0qhqOdp2iml9NQ9nbJP//+AJyL669MGVcHlScj4lEHq8/EcCjL+GUfK4s+MJSiOiVwnFWhKAdhHmR3c/IPozMJMJugMbB+/m3/Pze7yqSpGe/JAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;비밀&quot;
        title=&quot;&quot;
        src=&quot;/static/55305148e17b4bb30cf42808e71b7a57/3684f/image-4.png&quot;
        srcset=&quot;/static/55305148e17b4bb30cf42808e71b7a57/c26ae/image-4.png 158w,
/static/55305148e17b4bb30cf42808e71b7a57/3684f/image-4.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아까 &lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt;에서 했던 클릭 카운트 예제와 비슷한 것을 살펴봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useRef &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;RefExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; clickedRef &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//useRef로 선언하였으므로, 업데이트되어도 렌더링X&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          clickedRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//ref 업데이트&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        click me
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;you&apos;ve been clicked &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;clickedRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; times!!&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        check
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; RefExample&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이번에는 &lt;code class=&quot;language-text&quot;&gt;useRef&lt;/code&gt;를 사용하여 비밀스럽게 카운트를 관리하고,&lt;br&gt;
&lt;strong&gt;check&lt;/strong&gt;버튼을 눌러야먄 이를 확인할 수 있게 했습니다.&lt;/p&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/rwhj2j?view=preview&amp;module=%2Fsrc%2Findex.js&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;RefSample&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;h1 id=&quot;effect-hooks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#effect-hooks&quot; aria-label=&quot;effect hooks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Effect Hooks&lt;/h1&gt;
&lt;p&gt;또 하나의 React 패러다임의 &quot;탈출구&quot;로 &lt;strong&gt;Effect&lt;/strong&gt;가 존재합니다.&lt;br&gt;
&lt;strong&gt;Effect&lt;/strong&gt;가 그래서 뭔데? 를 알아보기 위해, &lt;strong&gt;컴포넌트 내부의 2가지 로직 유형&lt;/strong&gt;에 대해 먼저 알아봅시다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;렌더링 코드&lt;/strong&gt; : 컴포넌트는 props와 state를 적절히 활용하여 JSX를 반환합니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://ko.react.dev/learn/keeping-components-pure&quot;&gt;렌더링 코드는 순수해야 합니다.&lt;/a&gt; &quot;부수 효과 없이 단순 계산만을 수행&quot;하는 경우라고 볼 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;이벤트 핸들러&lt;/strong&gt; : 단순 계산 뿐만 아니라, 일종의 &lt;em&gt;부수 효과&lt;/em&gt;를 갖는, 컴포넌트 내부의 중첩 함수입니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;예를 들어, 이벤트 핸들러는 입력 필드를 업데이트 하는 등, 사용자의 이벤트에 의해 발생하는 &lt;em&gt;부수 효과&lt;/em&gt;를 포함합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;그런데 &lt;em&gt;부수 효과&lt;/em&gt;라는 애들은 이벤트에 연관되지 않는 경우가 있습니다.&lt;br&gt;
예를 들면, 마운트 시 채팅 서버에 접속한다거나, 모달을 바로 열어 보여주거나, ..&lt;br&gt;
이 예시들은 &lt;em&gt;부수 효과&lt;/em&gt;임에도 특정 이벤트에 의한 효과가 아닙니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Effect&lt;/strong&gt;는 즉 &lt;em&gt;렌더링 자체에 의해 발생하는 부수 효과&lt;/em&gt;를 특정하는 셈입니다.&lt;br&gt;
이를 활용하여 컴포넌트에서 외부 시스템과 동기화할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 263px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b91df0cfda163a8b0ef2ab7efc3608d6/17741/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.78481012658227%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADRklEQVR42m2S3W/aZhSH/fdsV73bxTa1F9M2RV0/Jq3Ssk1rq3RqL9KLpZUylpG1VZuFtrASIJCW0KUBA+HDxrZclQoooclSbAMFh4QCKTbfccD4K3RVMoPU9WZHj5731ZGOzrn4ATRN52h6q7BdKJXKTIWp1+qtRqvVqtdrqvY6zS7fEoU9WeqIwm6v13pHk+cbgNPp9Pv9wRCCIGgAQkIIFoJCOI5z3J4kKZIky7IiDx9JFIcfaeAhAIahpWKxuJnObabwaMId8EFoMJPJdLu9/X5/OKkMxPOKLIuDEqRBiSpANBp/Gn4C2iY1psmfFzQT1qsTlituyEcQKVnZV5eJ0sCodjz20Pbm8FDu/yMOhge7gWqZqJaIWjnTKqdaZUp1eyddLxL1MrHfff2mV3krM/3uK++1Ucf0eH0N4fKRA6V6IDFvhQqwm/yNI7QqHeJ3jpjmiFvd9J1e9h5PWztZW4OyMKQ9HTbn8Kt/XfnMfemTmGmSpTGu+LjfXgVeur566TyRBo9vOk9ug6fyvq+z3jM5/3d5+CzpHX+B+wokkSNyXt2U5fJpDHxQ2aq+orLZv9dfPHYDT3Sfhm8fi+m/hExHHeaPfDMfr86NPDN9sTo/8tR4IryyCMGYx+X5c9Ywe+PO0iII+yHYD4cg1GIwAAzlaBCPoMgF7daR2ehIID6WfKZlN6zMxjy7pt/aWIk/X4ehIJ3fLJe2c3SWikexgNfj9VIUBewV4Odh4znTh+dtH9jh7yPsRTB4fjthamYWmqQlnYwQZIqiCJJMxWAD7rIGg4jb43F7VqKxOJBE3U7HHz9qj8zMn7Nhp+2rny/hP62hUCJwPwbedS/aTXN2g9GhNy5Y7a5lMPDwgdVuM4OPHGHUDYRRRD3DNj/jg28uByeM9jHLgiaChfEAjK74Xfetd29cuzerseqnzLpfLbrJpTnNsmnKeP2y7pdRQE0IHAysJRIUSSIQrgIH4eTGOrfb6PGcKHQVuadIPTViisyrFgRelPiZW/qzo98A7XZHlocBluVdjut0uj1B6Pf7B4f/Uwfvurrb5gs/nAEK+Xy7Uasyr2tspVlnGzWmUWPrbKVa2fkPdsj7DrNzffrm2Len/gVfIa2GnklnjQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;효과는 굉장했다&quot;
        title=&quot;&quot;
        src=&quot;/static/b91df0cfda163a8b0ef2ab7efc3608d6/17741/image-5.png&quot;
        srcset=&quot;/static/b91df0cfda163a8b0ef2ab7efc3608d6/c26ae/image-5.png 158w,
/static/b91df0cfda163a8b0ef2ab7efc3608d6/17741/image-5.png 263w&quot;
        sizes=&quot;(max-width: 263px) 100vw, 263px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 뜻에 대해 &lt;a href=&quot;https://ko.react.dev/learn/synchronizing-with-effects#what-are-effects-and-how-are-they-different-from-events&quot;&gt;Docs에서 더 자세한 설명&lt;/a&gt;을 쭉 읽어보시면 좋을 것 같습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt; 관련 내용은 리액트 개발에서 꽤나 중요하기 때문에... 잘 알아두면 좋은 것 같습니다&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;useEffect&lt;/strong&gt;의 &lt;a href=&quot;https://ko.react.dev/reference/react/useEffect#examples-dependencies&quot;&gt;레퍼런스&lt;/a&gt;는 다음과 같이 생겼습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useEffect(setup, dependencies?)&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매개변수
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;setup&lt;/code&gt; : &lt;strong&gt;Effect&lt;/strong&gt; 로직을 포함하는 함수입니다. 필요한 경우 &lt;strong&gt;clean-up&lt;/strong&gt;함수를 반환할 수 있습니다.
&lt;ul&gt;
&lt;li&gt;React는 컴포넌트가 DOM에 추가된 이후(마운트 이후)에 &lt;code class=&quot;language-text&quot;&gt;setup&lt;/code&gt;함수를 실행합니다.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://ko.react.dev/learn/synchronizing-with-effects#step-3-add-cleanup-if-needed&quot;&gt;clean-up 함수가 필요한 경우&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;dependencies&lt;/code&gt;(선택) : &lt;code class=&quot;language-text&quot;&gt;setup&lt;/code&gt;함수의 코드 내부에서 참조되는 모든 반응형 값들을 포함한 배열로 구성됩니다.
&lt;ul&gt;
&lt;li&gt;의존성 배열을 전달하지 않는 경우, 컴포넌트가 렌더링 또는 리렌더링 될 때마다 실행됩니다.&lt;/li&gt;
&lt;li&gt;빈 의존성 배열을 전달하는 경우, 초기 렌더링 이후 한 번만 실행됩니다.&lt;/li&gt;
&lt;li&gt;의존성 배열을 &lt;code class=&quot;language-text&quot;&gt;[a, b]&lt;/code&gt;와 같이 전달하는 경우, &lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;b&lt;/code&gt;가 변경되면 실행됩니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;반환값 &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;마운트 시 모달을 냅다 보여주고, 모달 보여준 횟수를 콘솔에 찍는 코드를 짜봅시다.&lt;br&gt;
이를 위해서는,&lt;br&gt;
(1) 마운트 시 모달을 보여주기 위해, &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;를 의존성 배열 없이 작성하고&lt;br&gt;
(2) &lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt;변화에 따라 &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;호출은 &lt;em&gt;순수 계산이 아닌&lt;/em&gt; &lt;strong&gt;Effect&lt;/strong&gt;이므로, &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;를 의존성 배열 &lt;code class=&quot;language-text&quot;&gt;[count]&lt;/code&gt;와 같이 작성해야 하겠습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useEffect&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useRef&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;EffectExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; modalRef &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 의존성 배열을 비워 최초 마운트 시에만 Effect를 적용&lt;/span&gt;
    modalRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;showModal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      modalRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 의존성 배열에 count를 전달하여, count가 변경되면 side Effect 발생&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dialog&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;modalRef&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        하와와~ 모달인거시와요
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; modalRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;닫기&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dialog&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          modalRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;showModal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;setCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        열기
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; EffectExample&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/v9vfl7?view=preview&amp;module=%2Fsrc%2FEffectExample.jsx&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;EffectSample&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;p&gt;이외에도 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;와 미묘한 타이밍 차이를 갖는 변형으로&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useLayoutEffect&lt;/code&gt;라거나.. &lt;code class=&quot;language-text&quot;&gt;useInsertionEffect&lt;/code&gt;같은게 있는데&lt;br&gt;
건너뜁시다.&lt;/p&gt;
&lt;h1 id=&quot;performance-hooks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#performance-hooks&quot; aria-label=&quot;performance hooks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Performance Hooks&lt;/h1&gt;
&lt;p&gt;리렌더링 시 불필요한 작업을 건너뛰도록 하여 성능을 최적화해볼 수 있겠는데요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 213px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7221f66a84a76c62f6cca2628aae4231/3cb16/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 82.91139240506328%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACrUlEQVR42iXTx0qzQRQG4LkSL0m8BMGNe7e6ciUEFLGADRV7SYwVe+8t9m7svUTRpfA/fzKLMJmZ87ZzvrC7u9vX1/f09PT19XV3dzc2NrawsDA5OdnU1LSxsbG9vd3c3DwwMJBIJJaXl7u6umZnZ3d2dtbX1ycmJsLKykoymXx5eUmlUuqh7O/vr66uqgEajUZbWlo6Ojrs29vbHfb09AwNDTnv7u4OAN7e3hT//Pyk0uv7+xu2u3g8rqazs7O3tzeaXvbI0T4+Po6MjISpqann5+ejoyNlv7+/mAGdnJzEYrHh4WEkNmTH0yuzV0mvZ2FwcPD19ZXP0dHRw8PDs7MzDDMzM/5S6JZJKITE0ksoCEAQGMSg2HVFRQUV9/f3HHphs7i4uLS09PDwAHpzc3Nubu7q6goBToqYDcfHx7e3t5wUFxdfXl6y0NbWhlYXJCxwWpi8ubmJRCK6cH19rSnev7+/BwD6ga2hoQG/d6WlpYDsXbEnSO34/Pykor+/f29vj2yeXYWLi4utra3y8nJtUOCapJqaGm4z+ZGgcwQT0tjYSMva2hoj8/Pz/2WzWlVVJQyVulJZWVlbWystkVCrGM/p6SmBzgGxqcEaFJhUUFdXR7Z6qRQWFkbS6+DggGA6FZgctxpBvGK0sgh4+CwrK6uurhYpoJKSkvr6eilIG5ZszJZ9ZtrGx8c13IbMkJub+/f3J17t0QZAra2t2si/LDhkz18zxx3ZfgkB5DyI6uPjgwz15+fnJJlBZe48cs6eDolGkL4WEpyYzf8fhunVOk7UGAytdi2b6elptKzilFlGBTjhESgIV6GgoCA/P59JzF6oh4JW/vIE5By/5OSnW2hAJNIrZGdn5+TkZGVl5eXl8QPehHhXVFQES5lE9RwEgwjNDKXankwm/wF+5ADNE/QkuwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이하 생략&quot;
        title=&quot;&quot;
        src=&quot;/static/7221f66a84a76c62f6cca2628aae4231/3cb16/image-6.png&quot;
        srcset=&quot;/static/7221f66a84a76c62f6cca2628aae4231/c26ae/image-6.png 158w,
/static/7221f66a84a76c62f6cca2628aae4231/3cb16/image-6.png 213w&quot;
        sizes=&quot;(max-width: 213px) 100vw, 213px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;다음 두 훅이 그런거 하려고 만들어졌습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;useMemo&lt;/code&gt;를 사용하여 값을 캐싱합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt;를 사용하여 함수 정의를 캐싱합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이런거 하기 전에 &lt;a href=&quot;https://ko.react.dev/reference/react/useMemo&quot;&gt;&lt;strong&gt;메모이제이션&lt;/strong&gt;&lt;/a&gt;에 대해 또 알고 넘어가면 좋을 것 같네요&lt;br&gt;
대충 &lt;em&gt;이전에 썼던 값을 캐싱하고 나중에 다시 써먹는 것을 메모이제이션&lt;/em&gt;이라고 합니다&lt;/p&gt;
&lt;p&gt;위와 같은 메모이제이션 훅들은 공통적으로 &lt;em&gt;의존성이 변하지 않았다면 캐싱된 값을 재사용&lt;/em&gt;하는데&lt;br&gt;
의존성이 변경되어 꼭 UI를 다시 그려야 할 때가 있습니다..&lt;br&gt;
그런 경우에도 좀 더 매끄러운 사용자 경험을 도모하기 위해&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useTransition&lt;/code&gt;이나 &lt;code class=&quot;language-text&quot;&gt;useDeferredValue&lt;/code&gt;같은 훅도 있습니다&lt;br&gt;
천천히 한번 알아봅시다&lt;/p&gt;
&lt;h2 id=&quot;usememo&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#usememo&quot; aria-label=&quot;usememo permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;useMemo&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useMemo&lt;/code&gt;훅으로 값이 불필요하게 새로 계산되는 것을 막을 수 있습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 216px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0ca53c9ef41185db3c2ad67ec805c20c/7d4ec/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 108.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFDklEQVR42iXQ+09TZxgH8PMvLNlv6FbKWhFoaUvplZ7Sc3quPT2nPW1pTy9cZIAEL0gpODFsDIdmi2KiCY5NIZiqIAKVm9wEdQKyTC0whihzxt3MjD/MzDmkPTvom+d9fnjzfvJ98gAw4oYRF2R1QYgLJwIoxgmdJH1OB0c7AoTDb2MD7kCFJ1hOuQIExsAQiiGMz19ZsjsCWFHXW8wShJcggzgZRHHBexysX8A4w+EOjiveW+CvoNmg1UqBJitkJt3esqLSAwCMOM0WxgI7cdxF23047kUwD056KMZH0QHK4bc7vT6uiPOXM66ifAtu0EOgCXO6dwUFnA/RYD4ldAilGcZns/sQ3IMRLpuAHT6atBmUKnXmTtQCuQoKQRDV5OYZDRDDFvpCVYAFZgRsttgtMI2TbpJwoyiLESztDDoYlsxT5SmzdPKs/JwcBkbMRihHpdfpzISdY7kyIZkxmSnQYs+HHAThwXEWw5xb2BWywkRjMX046LDrNJjOSBlMepVGLs9VqfQY7ma5jwEcdyAYbcVoHKdp2oXiLivioCgn7fRWBrmepqrBI5HTlUWoQqaVySELZMwz55thivLR7mIAEzaPoAhiJXDEZiOEmWGIsZEkThAnIqVTJ+r6Pwv3NdU2hdygSg1brSRJetxer7fMzhYCGZmy9PQsqTQjMzNLqzVAZpvZhOt1BrVG11zBTbZEJr9omDvV0nGg0ihXSCQZuWqDFaLt9hDtDgHbt4m3pYhSUj7Yvv3DrIxsoxHNkOtEIunOTGUV5+g+uCfWFB45UktotO+9nyJOTVerDSYDClmddk8ISBNLxeK01FSxSJQqFkttuC3a1jhyvqX7YnTwTHNnfdGl+pKJti87vu7dUxSy5IHZmUqjHkIQ1u4OAqq3R6lUfCSVGLW5q9Pt/O9DT9fjq/F7z6fOPO49/udY193bKz/fW+KfDv/9+EYBaZdlafPNFISzgFwmUyqyJTt2SCXSsWgL/7Bv4Fz70OTienyJXxvmfxp5srw4f/9ZfDz2+sfz/IsfZqfGx6emx8evNzQ0A+k700VpaSZt7ui3Tfyz75ZiHbG+4bk7D+dmVyauXFq4/f2dxb9mZn8dvRj9N97x34tHiSTP81t3Y2MDEInSyguY6Qsn+QdDjwe6jkUiF3rGenrGY5cH+7p7J0cm52ZuzU5NL09EN9b6N9+8EnAisZlIJJLJJKBVyH6Jnf6tvz0ePVVKktVlJU8WYv8sD26ujCWXr/FLw3z8Kn9/iI/HkqsTyY03ic3kOymEAzcnootj51eHLq1MTw6caV0fiv4x0//0Rv/azevLN2aXRkZXhwbXRwaWL3fGWptXF+aSr18KYws2kUwAvaca24/WdrZ+OtPfOT/QJfiv6vY3Vu9t/byx+5u2i2fbb01ee3B3fvTKuf6u1oWJ6N2blx8t3Xr18vlW8n5aEWFzal3qvYy8xp17iDM07bIcq6SO72NPhz3thwo7m8ovHN1z5WR44uzh+att82Nd13rahnvPri3dAQ6FTAcDW1UXMtX5jVvFGSKcvqZAW12gq2I1u+mcGp+uduvRWMuZwn7wcAnWUEo2VzoBjzkzAGcXo4oySrmbVu1zacNeY61PKOG3ocabV+0xRIKm+iLwk2JLfRA8GATfZRzw6gAPnEuDGjgny5CRBsoloFxsUUgQtcSm2UEbZC4w22/ODmGqCrswiyniN4d9eRG/KcyB1QWm/wGJDUMsFPTAvwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;메모&quot;
        title=&quot;&quot;
        src=&quot;/static/0ca53c9ef41185db3c2ad67ec805c20c/7d4ec/image-7.png&quot;
        srcset=&quot;/static/0ca53c9ef41185db3c2ad67ec805c20c/c26ae/image-7.png 158w,
/static/0ca53c9ef41185db3c2ad67ec805c20c/7d4ec/image-7.png 216w&quot;
        sizes=&quot;(max-width: 216px) 100vw, 216px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useMemo(calculateValue, dependencies)&lt;/code&gt; &lt;a href=&quot;https://ko.react.dev/reference/react/useMemo&quot;&gt;레퍼런스&lt;/a&gt;는 아래와 같습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매개 변수
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;calculateValue&lt;/code&gt; : 캐싱하려는 값을 계산하는 순수 함수. 인자는 없으며, 모든 타입의 값을 반환할 수 있어야 합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;dependencies&lt;/code&gt; : &lt;code class=&quot;language-text&quot;&gt;calculateValue&lt;/code&gt; 내에서 참조되는 모든 반응형 값들의 배열입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;반환값
&lt;ul&gt;
&lt;li&gt;마지막 렌더링 이후로 &lt;code class=&quot;language-text&quot;&gt;dependencies&lt;/code&gt;에 변경이 있는 경우 : &lt;code class=&quot;language-text&quot;&gt;calculateValue&lt;/code&gt;를 다시 호출하여 결과를 반환하고, 그 값을 저장&lt;/li&gt;
&lt;li&gt;그렇지 않은 경우 : &lt;code class=&quot;language-text&quot;&gt;calculateValue&lt;/code&gt;를 건너뛰고, 저장했던 값을 반환&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;usemMemo&lt;/code&gt;를 활용하여 값을 캐싱하는 &lt;del&gt;억지&lt;/del&gt;예제를 하나 만들어봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useMemo&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useEffect &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; wait &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./util&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MemoExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isDarkMode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setIsDarkMode&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isSelected&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setIsSelected&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//useMemo로 text값을 정의하여, isSelected가 변경될 때만 wait(isSelected) 수행&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useMemo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isSelected&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isSelected&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//const text = wait(isSelected);&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//useMemo 쓰지 않으면 리렌더링 시 wait를 다시 수행합니다.&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;backgroundColor&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; isDarkMode &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;black&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; isDarkMode &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;textDecoration&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; isSelected &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;line-through&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;none&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;label&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;checkbox&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;onChange&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;token function&quot;&gt;setIsSelected&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token comment&quot;&gt;//isSelected가 변경되므로 text 재계산&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;input&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;label&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;setIsDarkMode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token comment&quot;&gt;//isSelected는 변경되지 않으므로, text는 새로 계산하지 않는다&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        change theme
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; WithUseMemo&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;체크박스를 선택하여 TODO를 &lt;del&gt;DONE&lt;/del&gt; 으로 만들거나, 반대로 할 수 있습니다.
또한 버튼을 클릭하여 다크모드로 테마를 바꿔볼 수 있습니다.
이 때, 체크박스 선택 유무에 따른 텍스트를 가져오기 위해, 억지로 500ms를 기다리는 &lt;code class=&quot;language-text&quot;&gt;wait&lt;/code&gt; 함수를 거칩니다.&lt;/p&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/clx7p9?view=preview&amp;module=%2Fsrc%2FWithUseMemo.jsx&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;useMemo-and-useCallback-sample&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;p&gt;위쪽은 &lt;code class=&quot;language-text&quot;&gt;useMemo&lt;/code&gt;를 사용하여 &lt;code class=&quot;language-text&quot;&gt;const text = useMemo(() =&gt; wait(isSelected), [isSelected]);&lt;/code&gt;와 같이 작성한 경우,&lt;br&gt;
아래쪽은 &lt;code class=&quot;language-text&quot;&gt;const text = wait(isSelected);&lt;/code&gt;와 같이 &lt;code class=&quot;language-text&quot;&gt;useMemo&lt;/code&gt; 없이 작성한 경우입니다.&lt;br&gt;
체크박스를 선택하거나 해제하면 TODO 또는 DID를 다시 연산해야 하기 때문에 500ms를 공통적으로 기다리지만,&lt;br&gt;
&lt;strong&gt;change theme&lt;/strong&gt;버튼을 클릭하는 경우 차이가 납니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useMemo&lt;/code&gt;를 사용한 경우, 값을 캐싱하여 연산을 건너뛰기 때문에 바로바로 바뀌는 모습을 확인할 수 있습니다.&lt;/p&gt;
&lt;h2 id=&quot;usecallback&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#usecallback&quot; aria-label=&quot;usecallback permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;useCallback&lt;/h2&gt;
&lt;p&gt;위 데모에서, &lt;strong&gt;[useCallback 예시 보기]&lt;/strong&gt; 버튼을 눌러 &lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt; 사용 예제도 한 번 확인해보세요&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt; 예제와 미사용 예제 둘 다 렌더링 시 500ms를 기다리게 됩니다&lt;br&gt;
다른 점은, &lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt; 예제는 카운트 증가나 테마 변경 등 리렌더링이 일어나도 500ms를 다시 기다리지 않지만&lt;br&gt;
미사용 예제는 카운트나 테마를 변경하면 매번 다시 500ms를 기다려버립니다&lt;br&gt;
왜 이런 결과가 일어날까요??&lt;/p&gt;
&lt;p&gt;일단 먼저 &lt;a href=&quot;https://ko.react.dev/reference/react/memo&quot;&gt;memo&lt;/a&gt;라는 API를 먼저 알고 넘어갑시다&lt;br&gt;
이 &lt;code class=&quot;language-text&quot;&gt;memo&lt;/code&gt;로 컴포넌트를 감싸면, &lt;strong&gt;props가 변경되지 않은 경우 리렌더링을 패스&lt;/strong&gt;합니다.&lt;/p&gt;
&lt;p&gt;앗 ! 그런데 JavaScript에서 함수는 &lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%9D%BC%EA%B8%89_%EA%B0%9D%EC%B2%B4&quot;&gt;일급 객체&lt;/a&gt;입니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;f1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;f2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f1 &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; f2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// false&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;같은 동작의 함수라도 객체마냥 그 참조가 다르다는 것인데요..&lt;br&gt;
그럼 렌더링마다 함수들도 객체처럼 다시 생성되는거고&lt;br&gt;
앗! 그럼 &lt;code class=&quot;language-text&quot;&gt;memo&lt;/code&gt;로 감싸도, props에 함수가 있다면&lt;br&gt;
매번 다른 함수가 전달되는 셈이라서 리렌더링을 피할 수 없습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 259px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b5903284021fe0941c42e5d71664099e/a2ead/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADM0lEQVR42g2R2XKqBgBA+ZO+5HZ6TdpETVwRVDZZFBVE2WQRRcAluCAGNBrN1uZO504f2r70sS/9yeb9zJkzc4DbwlWxkgSr6VQukcpeEXSRYUuZ8k0eSUF4pkplBBFhOagA/3Kd+pIDr9FaLpn9epH44SaTAG7yX5OFRKZ4lc4l0vkETmfzletU4TJZvLwt/Zws/oRR2TKeJug8ThWS2R/LWAqjcpepi0TqAiBIkGagegOukUWGKhFEHirfUDUQxXMoXpDVtmlwKJZpNJGh2a3XYRS5YxiIpECWhYC50Qgnmq81/EFnbXYcAbPEWjiW1kN+OVYDS5yZ/Nxs2SIRDaWNwcVz82Es2h008lRg5fYOm2kwFHf3o3iih24/trhoKG/G2n6i7AwqVGrhiH+ayKHZXojY09I5LCzf7sXrEbAcSo8LOzQ6B38U6Pxp6ZxWw9ho7vr0oy0ew9FWqZ5mYjizonvtGNrRzIpd+RS4u4UNhCJ1uLfPU+W3yIsNLprbYwF78rVzMNjP+ruVu9DJj/Nmq7N7V916xqPX/3b0lwN5P7eAB7W+FPDA1Z6C6aaLP6r0Q7c8t83An+40KpBxVyC2C383asciFvUqD/3mcbsKVCbsYcBUIk5ida/U5yKzEysHFYt0JJLIlUQdRWQvlT8Vvljf9ckXHXvT8I1E+gL2bJLvfRRwlJpG53+fdP7982npdWfd8lisLjlw2wK/v67/elvMZTjmi3sZGQvoZsD+98/7H6E+7aHLPg7wTYgmM5uhfN7vFI1tNfNyl3ibia8a/hytPHc46lHPFvOoEmy9yHXw4z7+nDLtogieASgGZPG85zh/f3tzLa3FFm2djByuzZSP2+DlENmabHWRSMOVDswx+PeX549j5Ilkq14ERgL00UeDgbTxjIXGP+uUx0NbCd5L5MKxAs+MVfpXg5gI5bNOxDo3UToLjX3X8LVOATiWNVjoVaFcMuu0Ia1XbjRKNHoXCNUNj03IgtOG+WbhM9AUkXsV/8QivsRW0jkoDVTpPM2CQzLnM6Ddg6UBKmsohN5V4ev7JuxQoNgq9fSaotUEFTflyrYNrzkYKSWvbhP/AxBjPKbYCQbZAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;분신&quot;
        title=&quot;&quot;
        src=&quot;/static/b5903284021fe0941c42e5d71664099e/a2ead/image-8.png&quot;
        srcset=&quot;/static/b5903284021fe0941c42e5d71664099e/c26ae/image-8.png 158w,
/static/b5903284021fe0941c42e5d71664099e/a2ead/image-8.png 259w&quot;
        sizes=&quot;(max-width: 259px) 100vw, 259px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 때 구원투수로 &lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt;이 등장합니다
&lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt; 훅으로 함수 정의를 캐싱하여 &lt;strong&gt;진짜 아까랑 똑같은 함수&lt;/strong&gt;로 유지되게 할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useCallback(fn, dependencies)&lt;/code&gt; &lt;a href=&quot;https://ko.react.dev/reference/react/useCallback&quot;&gt;레퍼런스&lt;/a&gt;는 아래와 같습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매개변수
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fn&lt;/code&gt; : 캐싱할 함수입니다. 이 함수는 어떤 인자나 반환값도 가질 수 있습니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;dependencies&lt;/code&gt; : &lt;code class=&quot;language-text&quot;&gt;fn&lt;/code&gt;내에서 참조되는 모든 반응형 값들의 배열입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;반환값
&lt;ul&gt;
&lt;li&gt;첫 렌더링 시, &lt;code class=&quot;language-text&quot;&gt;fn&lt;/code&gt;함수를 그대로 반환합니다.&lt;/li&gt;
&lt;li&gt;이후 렌더링 시 &lt;code class=&quot;language-text&quot;&gt;dependencies&lt;/code&gt;에 변경이 없다면, 이전에 저장한 함수를 반환합니다.&lt;/li&gt;
&lt;li&gt;이후 렌더링 시 &lt;code class=&quot;language-text&quot;&gt;dependencies&lt;/code&gt;에 변경이 있다면, 새로 생성된 함수를 반환합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이제 이 훅으로 어떻게 리렌더링을 최소화했는지 봅시다&lt;br&gt;
위 예시 구현에 사용된 코드는 아래와 같습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useCallback&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; wait &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./util&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//memo를 사용하여, 컴포넌트의 onClick함수가 변경되지 않은 경우 리렌더링을 건너뜁니다&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;memo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; onClick &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//Child는 onClick함수를 전달받아 버튼 컴포넌트를 생성하되, 500ms를 매번 기다립니다.&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Child Rendered&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;onClick&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;클릭&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;WithUseCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dark&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setDark&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;//Child에 전달할 onClick함수를 useCallback으로 감싸고, 의존성 배열은 비워 최초 1회만 생성되게 합니다.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; increment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; prev &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;toggleTheme&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//테마를 반전하는 함수.&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Theme Toggled&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setDark&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;backgroundColor&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; dark &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;black&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; dark &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;✅ useCallback 사용&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Count: &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Child&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;increment&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;toggleTheme&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Toggle Theme&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; WithUseCallback&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Child&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;React.memo(({onClick})=&gt;{})&lt;/code&gt;과 같이 작성하여, &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;이 변하지 않는 한 메모이제이션되어 리렌더링되지 않게 합니다.&lt;br&gt;
그러나 &lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt;을 사용하지 않는 경우, 매 렌더링마다 &lt;code class=&quot;language-text&quot;&gt;increment&lt;/code&gt;함수가 매번 재생성되어 &lt;code class=&quot;language-text&quot;&gt;Child&lt;/code&gt;에 전달되므로, &lt;code class=&quot;language-text&quot;&gt;Child&lt;/code&gt;는 매번 재렌더링됩니다.
이를 &lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt;을 적용하면, &lt;code class=&quot;language-text&quot;&gt;increment&lt;/code&gt;함수를 최초 렌더링 시에만 생성하고, 이를 캐싱하여 재생성되지 않게 합니다. 따라서 &lt;code class=&quot;language-text&quot;&gt;Child&lt;/code&gt;에 전달되는 &lt;code class=&quot;language-text&quot;&gt;increment&lt;/code&gt;함수는 매번 동일한 놈이며, 따라서 &lt;code class=&quot;language-text&quot;&gt;Child&lt;/code&gt;또한 최초 1회만 리렌더링됩니다.&lt;/p&gt;
&lt;h2 id=&quot;usetransition&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#usetransition&quot; aria-label=&quot;usetransition permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;useTransition&lt;/h2&gt;
&lt;p&gt;React 18에서 &lt;strong&gt;Transitions&lt;/strong&gt;라는 개념이 도입되었는데&lt;br&gt;
이는 &lt;a href=&quot;https://www.frontoverflow.com/question/46/useTransition()%20%ED%9B%85%EC%9D%98%20%EC%97%AD%ED%95%A0%EC%9D%B4%20%EB%AD%94%EA%B0%80%EC%9A%94%3F&quot;&gt;긴급한 업데이트와 긴급하지 않은 업데이트를 구분하는 개념&lt;/a&gt;입니다.&lt;br&gt;
state를 &lt;em&gt;긴급하지 않게&lt;/em&gt; 업데이트 하여 UI를 block하지 않는 것을 &lt;strong&gt;Transition&lt;/strong&gt;이라고 칭하며&lt;br&gt;
이를 가능하게 하는 것이 &lt;code class=&quot;language-text&quot;&gt;useTransition&lt;/code&gt; 훅입니다.&lt;br&gt;
뒤에서 몰래 준비하는거라고 하면 이해가 빠를까요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 259px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2c367a012d539421d59b67a2ddede467/a2ead/image-9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADgklEQVR42h2R229adQCAT7oUOJwL58Lv3Lgc4HA5UKBwDgVOO0oppWBLWRFa1g7iGK3VtWVt1A41ma2atGZqlhgLTTuN1upslmoWs0XfpkucMUum7sk3/xOnb9/L97180ABPDMTcozNpZdip0EaVxRMcrnF4ksEUCnVjiEHXzxGGlFsoDAXqM+n2ler19VanvXx9fQmSONNwyV9bHskOcXmWqNjpl1zmKxLbcoEVj/llNz0pECis5yiSJUmbmRj22mZHY0vVXLtRhqyEMeVhb9a1YYEYZvCSDbTDtnZAaPuFjahtUxU7CYeXQs0EJQDGAkBI4BTJkg57apNxyIoa5uOu7srEmJ3KWumKG1xycp24by3u3ZxO9jqXj65VzoscR9BOjhcZJumwjoel9KB7rpCEeERfiYrvziWmPKzGUutJuSnbP22WPlqYmA05bzRe+OnD1fmU4mOA4rKGbXzCIRQU32TCX86qUITBmpq3Mx0pOsGy4rm5ONXSBo42aidb9fZo9Hir8aj7RiOnBS2c5hVjki3hETKqfF71JSMuKGTGX0nJb5XU5SHv3vzETjk967PuLmYfHbx9++rcve3Wn19uLxU0EZARJxNxgphPkJ2sVwSyxEJ+Al1NyXXFUfNY9irjm5noCGf6oFH45dbrd9qLpxsLv3587cbFPEvS251mVhtk0X6W1Isc4bICSMCR1bFANWgfA+RKTC557V7MWI+69i/ljupTnzeLP763Ugy5ZvLT//z94O7pca+7f/uwl82kivMliECQ2UHbQsQeobEZB58TBY0HG+OxO282725d/upq5bO18pRfOv365Ivjb87Ovn/82+O/nj3b3tnRITDEmNC0C9QjtgjAMgJQAaVQREsN7lRz3aUL97bquwt5jWfOvj35/cmT+/cfPHz489Onf+zt7ur6z0E8irgp5GKAUwH+fJVKkzKCVB3O10ai7xdit2pjEyFJhnVr1fIP350d9g663f3Dg95c9cW+PghCYVin02sWUuMICTOqZkIhTBes3DtZ5ZNapqZ49AYDT5kGAFUcDARFC47BhnN9CKwXBQDBMGyAYQSGJRJzYMYggY/TZJlnXlW8a6mwxFCwHkYxzGQyuQROEjjWTAs05bbw+ZT2nwz/H9Ab9IhRz8KGMIaMEKai1VyLyTxN0jiOIhiG4giKPgfSRKiBQC4Wi/vc/wLyTNSIxgWxcQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;매복&quot;
        title=&quot;&quot;
        src=&quot;/static/2c367a012d539421d59b67a2ddede467/a2ead/image-9.png&quot;
        srcset=&quot;/static/2c367a012d539421d59b67a2ddede467/c26ae/image-9.png 158w,
/static/2c367a012d539421d59b67a2ddede467/a2ead/image-9.png 259w&quot;
        sizes=&quot;(max-width: 259px) 100vw, 259px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.react.dev/reference/react/useTransition&quot;&gt;레퍼런스&lt;/a&gt;는 아래와 같습니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const [isPending, startTransition] = useTransition();&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매개변수 : X&lt;/li&gt;
&lt;li&gt;반환값
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;isPending&lt;/code&gt; : 대기중인 Transition 존재 여부&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;startTransition&lt;/code&gt; : 상태 업데이트를 Transition으로 수행하게 하는 함수&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;예제가 빠질 수 없겠죠?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useTransition&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useEffect &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; wait&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Done&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Todo &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./utils&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Button &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./Button&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;TransitionExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;tab&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setTab&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isPending&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; startTransition&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useTransition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTabTransitionally&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;nextTab&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;startTransition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTab&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextTab&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTabTransitionally&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;selected&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tab &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        홈
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTabTransitionally&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;selected&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tab &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        할 일 목록(✅useTransition)
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTab&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;selected&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tab &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        한 일 목록(❌useTransition)
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTabTransitionally&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;selected&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tab &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        한 일 목록
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isPending &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;로딩중...&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isPending &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; tab &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Todo&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isPending &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; tab &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Todo&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isPending &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; tab &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Done&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; TransitionExample&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Todo&lt;/code&gt;컴포넌트는 500개 아이템을 렌더링하는데, 각 아이템 생성에 1ms가 소모되게 억지로 구성했습니다.&lt;br&gt;
사용자가 &lt;code class=&quot;language-text&quot;&gt;Todo&lt;/code&gt;가 표시되도록 잘못 누르기라도 하면..&lt;br&gt;
꼼짝없이 로딩을 기다려야만 합니다&lt;br&gt;
그러나 &lt;code class=&quot;language-text&quot;&gt;useTransition&lt;/code&gt;과 함께라면, 뒤에서 준비하던 &lt;code class=&quot;language-text&quot;&gt;Todo&lt;/code&gt; 렌더링을 폐기해버리면 그만입니다.&lt;/p&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/4dp67x?view=preview&amp;module=%2Fsrc%2FTransitionExample.jsx&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;transition-sample&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;p&gt;&lt;strong&gt;[할 일 목록]&lt;/strong&gt; 버튼 두 개 중, &lt;code class=&quot;language-text&quot;&gt;useTransition&lt;/code&gt;을 사용한 버튼을 누른 후 바로 &lt;strong&gt;한 일 목록&lt;/strong&gt;같은 탭으로 넘어가보세요.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useTransition&lt;/code&gt;을 적용한 버튼은 로딩을 취소하고 바로 넘어갈 수 있습니다&lt;br&gt;
그러나 이 훅을 사용하지 않은 버튼은 한 번 클릭하면&lt;br&gt;
꼼짝없이 기다려야만 다른 탭으로 넘어갈 수 있습니다&lt;/p&gt;
&lt;h2 id=&quot;usedeferredvalue&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#usedeferredvalue&quot; aria-label=&quot;usedeferredvalue permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;useDeferredValue&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useDeferredValue&lt;/code&gt; 훅을 사용하면 일부 UI 업데이트를 &lt;strong&gt;지연&lt;/strong&gt;시킬 수 있습니다.&lt;br&gt;
&quot;지연하다, 연기하다&quot; 이런 뜻을 가지는 &lt;em&gt;defer&lt;/em&gt; 단어에 맞게요&lt;/p&gt;
&lt;p&gt;마치 잔상을 남기는 것과 비슷합니다&lt;br&gt;
&lt;strong&gt;state&lt;/strong&gt;가 새롭게 업데이트 되면,&lt;br&gt;
React는 이전 값으로 먼저 리렌더링을 시도한 뒤&lt;br&gt;
백그라운드에서는 새로 업데이트된 값으로 리렌더링을 시도합니다.&lt;br&gt;
이후 준비되었다면 완료된 리렌더링을 화면에 표시합니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 268px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b641589847aa2c120d35fff9c581d30c/484ae/image-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.25316455696203%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC2UlEQVR42mNgBQMWFlZuPg5RGV4BCW4eMS5BKS4+SU5eSW5BGR5BaQjiBSIBaR4BGR4uXk6gFjY2NgYQYAQRXLwsQrJsyhp83k6KiR5KsS6KZnrC4nKcovIcooqcEkAkzykmyyGuwMXBww7Ww4TQzMbDoqYvVJdsOTHJsiFEpzfGqMBDRUSCg0+ZS0CTS1CLi1+DU0iVS0SZm50PqJmJkZEZoZmBm9nTVbE/2bozxrwhWLc+QCPKQlJGgV/GVERIl09Ij59fl09Aj09MT4BLEKyZCUkzEz9TqI9Kb6LVhBSHjmjztjCDEDMpMTleWXMJUVNJKTNxIEPOUkzJSZpPmhekiQnZ2SJsHs6yVcF6bXGWdREmteHGxX66VhbSkhZS/IbCEpaSsjYyak7yKu5yfDK8CPcygikOKQ7/YK2WGIvacMN8f63CQO3qEGNHF3kJRxlJW2lpJ3k5FwU1N2VDH1V+iM3ImjmlOO0DVWfmufckWHXH23QlWNVGmXp6qaq6y6n56Yg7Ksm6qah6qWv5avDI8CHbDKIFZPk1fJVifDQbAk0mpLpOTHLpSHQPivPU99fSDTaRddBQ8NTU8tNQ8Vbkh2pmRJD8sjzSnpL+UeYzcoM7kp0a0gP6p05sW7spuCzTLMXfONFZN8xEzVdZPUAJaA1YFxMDCwsLJK1ommi1zOtYuW3lvAXTy8rz52zdNffQ2YXHzqw8fnzalg2+ldmqkVaagQa6wQbCimJMDMysrOwgO5mZQTHm6eN15saFzbt3FOdXN81eOmXP8dl7jy4+fmLpseM7z5+pX7lUONBeyEVZ0lWBS4IH6ufc3Nz8/PzUlJSZs2ffe/Jo1549G+Yu23ng8IbjZ3acOr/zNJA8u/fcpU1HjlZN7quZ1tI8t7O0rjw7Kzs3L4/hPxL4/ev37du3n7988eTJo8cPHz64f+/Gtavnz559/Ojh/Xt3Hj148PfvX2T1AFj44mKtWN34AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;잔상&quot;
        title=&quot;&quot;
        src=&quot;/static/b641589847aa2c120d35fff9c581d30c/484ae/image-10.png&quot;
        srcset=&quot;/static/b641589847aa2c120d35fff9c581d30c/c26ae/image-10.png 158w,
/static/b641589847aa2c120d35fff9c581d30c/484ae/image-10.png 268w&quot;
        sizes=&quot;(max-width: 268px) 100vw, 268px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.react.dev/reference/react/useDeferredValue&quot;&gt;레퍼런스&lt;/a&gt;는 아래와 같습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useDefferedValue(value, initialValue?)&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매개변수
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;value&lt;/code&gt; : 지연시키려는 값으로, 모든 타입을 가질 수 있습니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;initialValue&lt;/code&gt; (&lt;em&gt;optional, Canary only&lt;/em&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;반환값
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;currentValue&lt;/code&gt; : 첫 렌더링에서는 (아직 &lt;em&gt;이전&lt;/em&gt;값이 없으므로) &lt;code class=&quot;language-text&quot;&gt;value&lt;/code&gt;와 동일합니다. 업데이트가 발생하면 (1) 먼저 이전 값과 동일한 반환값으로 리렌더링을 시도하고, (2) 백그라운드에서 새 값과 동일한 반환값으로 리렌더링을 시도합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;아까처럼 억지로 리스트 아이템 하나하나 생성할 때마다 1ms씩 걸리는 예제를 생각해봅시다&lt;br&gt;
업데이트는 빈번한데 매 업데이트가 좀 걸리는 작업이라면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useDeferredValue&lt;/code&gt;를 적절히 활용하여 잔상을 남길 수 있습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* ---- DeferredValueExample.jsx ---- */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useDeferredValue &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; SlowComponent &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./SlowComponent&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;DeferredValueExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setData&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; deferredData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useDeferredValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isStale &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; deferredData&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//const isStale = true;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;✅useDefferedValue&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onChange&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;input&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SlowComponent&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;deferredData&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;isStale&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isStale&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; DeferredValueExample&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* ---- SlowComponent.jsx ---- */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; memo &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; SlowComponent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;memo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; isStale &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; listItems &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    listItems&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SlowItem&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; isStale &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;black&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gray&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;listItems&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;SlowItem&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; start &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; performance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;performance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; start &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//wait&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; SlowComponent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;SlowComponent&lt;/strong&gt;에서는 1ms씩 걸리는 아이템을 100개 생성합니다&lt;br&gt;
input란에 타이핑을 칠 때마다 실시간으로 검색이 되게 하였습니다&lt;br&gt;
이러면 &lt;code class=&quot;language-text&quot;&gt;memo&lt;/code&gt;로 &lt;strong&gt;SlowComponent&lt;/strong&gt;를 감싼다 하더라도,&lt;br&gt;
매 타이핑마다 props가 바뀌어버려서 리렌더링을 피하기 어렵습니다&lt;/p&gt;
&lt;p&gt;이 때 &lt;code class=&quot;language-text&quot;&gt;useDeferredValue&lt;/code&gt;를 사용하여&lt;br&gt;
(1) 백그라운드에서는 새로 업데이트 된 &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;값으로 리렌더링 결과 화면을 준비하고&lt;br&gt;
(2) 그 전까지는 이전 값(잔상)을 기반으로 화면을 보여줍니다.&lt;/p&gt;
&lt;p&gt;이 예제에서는 현재 보는 화면이 잔상에 의한 것인지 알려주기 위해&lt;br&gt;
잔상인가? 를 확인하여 텍스트를 회색으로 보이게 했습니다&lt;/p&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/wm3tz7?view=preview&amp;module=%2Fsrc%2FSlowComponent.jsx&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;deferred-value-sample&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;p&gt;아?? &quot;deffered&quot;라고 썼네요; &quot;deferred&quot;인데,, 이거 자꾸 헷갈립니다 ㅋㅋ&lt;br&gt;
아무튼&lt;/p&gt;
&lt;p&gt;왼쪽과 오른쪽 둘 다 다다닥 빠르게 타이핑하여 비교해보시면&lt;br&gt;
초당 100회의 타이핑이 발생하더라도&lt;br&gt;
왼쪽(&lt;code class=&quot;language-text&quot;&gt;useDeferredValue&lt;/code&gt;)는 잔상이라는 것을 알리기 위해서만 단 한 번 리렌더링합니다&lt;br&gt;
그러나 오른쪽(안 쓴 경우)는 계속.. 새로운 업데이트를 위해 안간힘을 씁니다&lt;/p&gt;
&lt;h1 id=&quot;other-hooks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#other-hooks&quot; aria-label=&quot;other hooks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Other Hooks&lt;/h1&gt;
&lt;p&gt;이외에도 고유 id를 생성하는 &lt;code class=&quot;language-text&quot;&gt;useId&lt;/code&gt;같은 다른 훅이 있지만&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;다음 Hook은 대부분 라이브러리 작성자에게 유용하며 애플리케이션 코드에서는 일반적으로 사용되지 않습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;라고 하니 더 알아보고 싶다면 &lt;a href=&quot;https://ko.react.dev/reference/react/hooks#other-hooks&quot;&gt;여기로&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;마무리&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A7%88%EB%AC%B4%EB%A6%AC&quot; aria-label=&quot;마무리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;마무리&lt;/h1&gt;
&lt;p&gt;리액트는 아무래도 훅이 좀 중요하니까&lt;br&gt;
잘 정리하고 깊게 알아두고 싶어서&lt;br&gt;
일부러 코드 샌드박스 예제로 써가면서 들고 왔는데..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 272px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cbc3036025d5053a69619d0cc065223c/2aae8/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 67.72151898734178%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAADYUlEQVR42gFWA6n8ABEWJSMzSR4uQB0ySiY7SyI2SR01TB44UCA5TyM5UiQ3UiM5ViY+WitEXTRKYjRHYDFEXi9DZRATJhgICQANK2A0cb9aeaZtorhgsdlXqdxmpMR3qr50wNtjtuFeuO5ryPtlwPR1xvJ5xvteisVSebMmVr8MEzwZCQYAKS5XKXvWDmHDF3jQKp/Zkq+GvKQ5x6QsxaQzvLFbeLq1EZr7CoXmHbXmFKfoIcXmG7PvEZH5IiVWJAYNAEdIX3yexEWPqTed33KCZaBwL6VoL7plILBtFLiDFrmJLGCeulK9+lbP8SDN5UjH4nKw0mfP7z49YSwBFwA7SFOPvMqK1+6ytKSvVi6VcGl7m7W0VUK0PAyPZRutbA6KkGxVx/ZzvcmH0KGFoaJ4aGVWt7oWQGMfABMAIjhVYbvsS7vxUpy+k145p00rlYeKmY2UfoN/i2IbhloWZnx5PK2aTrcZXcAZbsIyXKsdf9i+L0tlDgAFAB5FZSzI6DXM5jfR/091gWs9M2qXr1Se0CRFf1Q6J15DInSqt2CysTJrLCFHET9sDk+WOn7c9jRMXw4AAQAbQ2U0vfQ5xuNExehvx+Fct8BMlbBHZYdBWn1Ojq1pv9lqwOqBve5Jl5RMcTBmizkrehdSwJomSGESAAAALEhlZ8b7fMbbi8zahszZgcbTi87Yl9PafrnFPXarTKPkVMjwYsv2aK/Oc6WNfZ5INoMaVK5+KUZZEgABAC5MaHLW/2/O/HTS/3LU/qTc+NXv/rfo/xxlyj5emmGKp2Sqw2e50muqy26ltlyOmGC3hnbd/y9PbBAAAAAnQFhkt+RksNxnrtlmr9dvosRyg5xWd5gYW5AvcY9IcZZCbZ5LfKBPe5VWeJNTfaBKeZZMgqkdMEMTAwMAFxYeEBIdDAwWBwcRCgkTBQUPAQAHAgEGCQsNDREXBAUTAgIPAQELAQALAAAIAwEGCQMKBwACDAUHGw0OAE5IO0U+NDYwJS4pICEfHREREhcXGhQTGgoMEwgOFgoLEwwNFQgJEgkJDxkMECkZGiQaFiYYFyYWFCgZFABVSDxUSDpSSTRQSDYvLSgUFRU8PEI0NTw8UWeCfX9EgY82QlBVU1wdFyAqCRNDJiYyJBowIBsxIxw1JCaLoUwFsMd/mAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;스불재&quot;
        title=&quot;&quot;
        src=&quot;/static/cbc3036025d5053a69619d0cc065223c/2aae8/image-11.png&quot;
        srcset=&quot;/static/cbc3036025d5053a69619d0cc065223c/c26ae/image-11.png 158w,
/static/cbc3036025d5053a69619d0cc065223c/2aae8/image-11.png 272w&quot;
        sizes=&quot;(max-width: 272px) 100vw, 272px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아오.. 꽤나 후회했답니다?&lt;/p&gt;
&lt;p&gt;그리고 ㅋㅋㅋ 이거 하다가 공식문서 코리안버전에서&lt;br&gt;
링크가 잘못 들어간 경우를 발견해버려서&lt;br&gt;
이거 두 줄 고쳐서 기여했는데&lt;br&gt;
깃허브에 동네방네 소문나버려서 좀.. ^^; 머쓱ㅋㅋ&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 208px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/38507c577cf5daee67a908bb22a8e5f4/8f2fb/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 144.30379746835442%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAFvElEQVR42n1W+0+TVxiui0Bv3/f1a79CC+VSpJS2UAoUSrmEOwUERW4qFMQL6EQyxMmIuszbZjJ3IYpZ5raQuCUmuumMWZzZkoUtWbJ/YNcfXLIYNzXKdG77ZXn2ntN+FFyyH56cc96e83znfd/nfU81gpwGBqMpFTrBwuei2QbVbpCsHKpt5ZyNKpjdSDZNjMwKSXEg0+mGQMR6UeHkbGNqeg4hG8l6E9mtsNqzaYx9WCeYoTXISCEoZBflVGjYIbZ587YJ9A0MIjPHBcWWjaxcN2RrBqKjY/D4g3C6fMh1l6Bz4wBycvPoEmnIXOeByxtATp4X+b4yuAr8MUKtoGB83yyGR8YwtHMC0zOHsM7lhZzqwK49kxgcmcT0oWMYGn0Wx1+Zw+b+fqTI6di1bxqzR45ix579GN0xgW27p2KEzL2quvVoiWxC3+AODI+Ow+cvg8nqQM9AFH2bx1AX2YBwQxcmJl9AV3c3JFsO6hvb0dTahkB5I6LbxtHS2RuLoZqUZEFAiqCnEOhgtMi0NmKtQU/QIclooLUBz2i1FFs7jy87w6DGXbLYVUL2gwKvM4IK9whCnijK84dQURBFyDvM1yFvFJWeEeRn10MvyTEiluEV2RYorhr2tRRRQHPgeZwdeYRzO5fw+taHODO6hLmhJZweeIjT/Q/xau8DzEXpt8G7KMvfAtFK8pFJLmJMVnpJ4bdcvuFU5Au8vXcJ1+bvYH7yNj5buI/Fi/dx9Y27uPHuPVyZu4ubC7/i/J4/MRR+D05fMeojAygNhhGqbaEcdKKutTN2Qy3dsCt4HOfH/8KFmUc4u30JC1OPcfHIE1w4+AduzP+Nyyee4IPZxzgz8jtqfGPQSiKc+SXIJTU4nAXI85TAkZOvCjsWj4qCYTT7Z9DkP4CGwgOo9ybGeu80mgpnEHD1wEDxNvJEWLibBlHhc52gJLLM3E4WjUiiLDMkM4hPgWws3stnzGmJeRyalQvJkg6TJYNDWjGuRvqqGn4ay4QmhciUDK4xiSCTqJmNlZ+Z5rIKqh6+VhI2do7tZR/jhCIJ0kQHWVwsaZmchMWECVVHY7Je4vWerDPxRpBCc53Rwm0pBjM/x/YuE8YWdk4U6ezB1uGdcLqLqfyCCJRWoSLciNJwPSprG+EvCSNYVYeGjg6UV9XAXxbiZyNdWxDp6EkQsiuzeSBYhe6+QZJEMfLcfoSrG1BT14bqlg2ob4kQSQMd3oTa5lbUEYIV1fx8R88g2rt6V7hMhGqTZVIwSnFp0Jq5ydzTGs38dy25qTOY+chsbB/zjsVzOSkSZchkiRU9G1liEl15xSjHYU4g1gusHBr1EOvGa7QSJcGKZyj4ascWuOiJnAL+fxDj0MTeAwVmWxaOTU9i8eYnmH/5JWTRc8DckayU9Uw/hzmreBmWOEwZvthvcWhY7NYkGXDqtTng0W94+M0N4N7PuHzlY4qRCbLNBUt2GWSHH0abFwJBtPtgSC3gsLtCMKUXQSLIGUXQML9NqZlYvHYJD76+jlsfzuPO55fw41efwuUrgegooS8HkO6uwtTsSWx/7jBG97+Ig7OnMD17Aifn3sHuycMIhNejqKINGsliw1q9jIW35oHb3+PerR/wzy/fYfH6R/QSkvrt7IalUAhFoXZ4gk0oru1GX3Qvyqrb4Clvhae0CQ53Jex5FYlHypXrwtU3j+L2T9/iy/fPIVwSQBJJxZSaTTELkMtFMKZ5OASbBzrFzV3mNgqDlFFI8SxMZDmFSslI9ekuJBftTiSRxrg8lCxKTBbXqppJiWp3FVZmWdWhKhFWp0Zq6Uz9bC1yMpIGi7Vi548563/8gWJtn+TF9nObZF3dvhippD44zBYnFOItq7tvK5VfDz2nrein53Vjdx9a2/rpT8JetG/sRW6eezXhf6ASmllrsqE0VIuCoiCa6f0tC1aisqaBap8aRXsvwrVNcBf48C80DnzHuLOWLwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기여함&quot;
        title=&quot;&quot;
        src=&quot;/static/38507c577cf5daee67a908bb22a8e5f4/8f2fb/image-12.png&quot;
        srcset=&quot;/static/38507c577cf5daee67a908bb22a8e5f4/c26ae/image-12.png 158w,
/static/38507c577cf5daee67a908bb22a8e5f4/8f2fb/image-12.png 208w&quot;
        sizes=&quot;(max-width: 208px) 100vw, 208px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🔒 데드락도 락이다. - 데드락과 철학자 문제]]></title><description><![CDATA[…]]></description><link>https://sungpaks.github.io/deadlock-and-dining-philosophers-problem/</link><guid isPermaLink="false">https://sungpaks.github.io/deadlock-and-dining-philosophers-problem/</guid><pubDate>Sun, 16 Jun 2024 22:03:42 GMT</pubDate><content:encoded>&lt;h1 id=&quot;데드락이-뭔데요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8D%B0%EB%93%9C%EB%9D%BD%EC%9D%B4-%EB%AD%94%EB%8D%B0%EC%9A%94&quot; aria-label=&quot;데드락이 뭔데요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;데드락이 뭔데요?&lt;/h1&gt;
&lt;p&gt;그런 적 있으신가요? 친구들이랑 얘기할 때&lt;br&gt;
예를 들어.. 시험기간에 피시방가자거나? 술먹으러가자거나?&lt;br&gt;
&quot;너 가면 나도 간다&quot;를 서로 주고 받는 ...&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7323be423dcb292b098c225c44327535/5a46d/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AGhPO5JuV5t3W829o+3r2+jm3P7+/fv7/P7//+/v7Pj39P////f4+tDEtcivkMOpk6KTgpiNfp+SgaWXhACtgmOVclqXh3jPxJXAtYe2qI3w6d3o3M3n2MXg0Lzhz7bizK7awKDYvJjZvJLWuJXTtZLato7mwpXStY4AVkxGnHtnyrGa1sOuzrig0reY1biV1riV1rWS07ORzrGQ0LOS0bWV0bWUxaeKu6CDpZB7rZqFuKOJp5V9AD1CTlxPSrqUd+zKqObYx+Xd0eni1+LYz+PZ0NvSyNbNw97Uy9zVzMO4qp6Kb6CLcZyQfK+qn62pm56cjwBLVGJUV2RpVU3pw6P469nl49vn5Nri3tTf29Da1crRyb/SysDPyr6/tqa0oouxoImroI62sqSwq56op5kAi4KM4s3H8+XM/OG+89m71M/E09DFzMi8ycW6ysW6y8a7yMS5wr+0s66huLGkubKlopmLsa2hqKSYqKaaAPLGsfnRsfvVsv7SsPbIps7GuMTFucbEuMPBtr69sMXDtcvGuczIu7+6rbmypLavoaCbjJ6ajp6dj6GilQC/l3zgq4/jsJTuvJzvxaWSin10dW97fHNycmiAf3h7enhvbW+BfntvbW6KiIi4s63HwrnKyb+sraGbnZAAIh4deF9RyJp90qKEn5KIbG1vWFhadHRzeHh+enhUZWQghIQURkYMfn4SeHkJp6hW3NvN4N/Z4N/arrClABIUFRgaG0s9N5qBbrKwrKCioJSTkbGxrrCwtp+fcJaWH7OyK4mGPKSkMq2sMMbFWvDx4q+vo6+vpJmckAAaGhklIiIqJSdubmaUlYiGh3qGiHuDhHeDhHmEhniHiXCKi26qp5CzsJDAvqPMyqrPzsGJinh/g3B4e21ftqdt26FADgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;네가 하면 나도&quot;
        title=&quot;&quot;
        src=&quot;/static/7323be423dcb292b098c225c44327535/5a46d/image.png&quot;
        srcset=&quot;/static/7323be423dcb292b098c225c44327535/c26ae/image.png 158w,
/static/7323be423dcb292b098c225c44327535/5a46d/image.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게.. 예를 들어 민수와 철수가 둘이서&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;철수 : &quot;민수 가면 나도 감&quot;&lt;/li&gt;
&lt;li&gt;민수 : &quot;철수 가면 나도 감&quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 하면 둘이 서로가 서로의 행동을 기다리며 교착상태에 빠지는 셈인데&lt;br&gt;
프로세스끼리도 이런 일이 생깁니다&lt;br&gt;
&lt;strong&gt;데드락(DeadLock)&lt;/strong&gt; 이라는 것인데요&lt;br&gt;
&lt;strong&gt;둘 이상&lt;/strong&gt;의 프로세스가 서로를 기다리며 &lt;strong&gt;BLOCK&lt;/strong&gt;상태에 빠지고, 그 &lt;strong&gt;BLOCK&lt;/strong&gt;을 푸는 &lt;strong&gt;열쇠(signal)&lt;/strong&gt; 를 또한 서로가 쥐고 있는 상태를 의미합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b2557d6202d9996edd01340c3976d6a4/4f9e8/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 35.44303797468354%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABYElEQVR42pVQu2oCQRT1W0w+QbCxsLK0zUJszTokIf6Af+EH+AdaarOF6FqIpSiKyvoCQVRU1N29MzdnxgcJpMnA2bP3debOiaxWq+fhcPg5n89zg8FAnM9nsdlsxHK5FKPRSHieJ4jIQP+jX+z3e7Hb7US/3xeTyUT0er3ceDz+Qi4aOZ1OmcPhwCjK9XrNtVqNO52OAYb5eDzy/SwWC2632+y6LjebTd5utzydThlzpOvQsiLgV2zF2DBotVqUTCYpkUhQuVzWTQZSSlJKURiGVCgUKBaLkW3bhMvJsiyCkK8Ffd9/MYJo5EqlQvF4XOXzeYVY4VmGUX8AgwqXq9lsplKplEqn0yqbzep8qAVhy1Xwcrlwo9EISqUSOY7za6ufuOc1F4tFwrMJ4jr2H4L4ZG4WyXq9zt1u9xpIyX8dCBuuVqvGv1sv3QSNh09BELwDb0jY/wXmNOvZD9gR/QYPA96nklT4WAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;데드락 상황&quot;
        title=&quot;&quot;
        src=&quot;/static/b2557d6202d9996edd01340c3976d6a4/f058b/image-2.png&quot;
        srcset=&quot;/static/b2557d6202d9996edd01340c3976d6a4/c26ae/image-2.png 158w,
/static/b2557d6202d9996edd01340c3976d6a4/6bdcf/image-2.png 315w,
/static/b2557d6202d9996edd01340c3976d6a4/f058b/image-2.png 630w,
/static/b2557d6202d9996edd01340c3976d6a4/40601/image-2.png 945w,
/static/b2557d6202d9996edd01340c3976d6a4/78612/image-2.png 1260w,
/static/b2557d6202d9996edd01340c3976d6a4/4f9e8/image-2.png 2432w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 데드락이 발생하는 경우를 잘 보아하니, 아래 &lt;strong&gt;4가지 조건을 모두 만족하는 경우&lt;/strong&gt; 데드락에 빠지더랍니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Mutual Exclusion&lt;/strong&gt; : &quot;열쇠&quot;같은 자원에 상호배제적으로 접근하도록 되어있습니다. (관련한 설명은 &lt;a href=&quot;https://sungpaks.github.io/mutual-exclusion-software-approach/&quot;&gt;전에 쓴 글&lt;/a&gt;을 참고해주세요)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hold-and-Wait&lt;/strong&gt; : 자원을 가진 채(Hold)로 다른 자원을 요청하여 기다립니다(Wait).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;No Preemption&lt;/strong&gt; : 자원을 강제로 뺏어가는 경우는 없습니다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Circular Wait&lt;/strong&gt; : 자원을 가지고 있으면서, 요청하고, 요청하고, ... 가 순환적으로 연결됩니다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 자원을 요청하거나 할당하는 양상을 &lt;strong&gt;Resource Allocation Graph&lt;/strong&gt;로 나타낼 수 있는데&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a44266041c37116a90dafb08f46fc83e/6029f/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.36708860759494%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABXElEQVR42qVSXU+DUAzl//8VfdiT08UXN/RBTYzRbAqGOQYMmMAYXC4fg2N75x40TB+8SdMG2tP2nGo48rquQ5IkCIIA2+22P4fs1gfGLqCvgDuKNS5ar9dI01QB+L6PzWaDKIpg2zYMw4DrupBSqiZFUai8tm1R0Lcrp8X5vMFgmkL3CDCOY4RhqAA5dhxH+QOgaZrwPA95nqOua+UZsK4qZBRPVh2GVoWTxw9M3A7af1ZuKefieYWRmeOa1r0PaUIu7LO+Bn1WygJlKb8Y/QOQeWqa5luDn3lyB4gGyGvil/zRlRmIuWX+mM/eqbFXeGQDlw72orCqy+VSKc2xZVkKhI1Fmc1mSmX+L4RQoh0sIvH0d4mhkeP0IcANA/I5sHJlWaqT4JPJskx5LlosFgqc85gCzmWRMjIhCjob4Gy+w+BFUPyLyvx4Ij4hBjt2CeOpA/0txlMEvCbAJ2Od/+ZZSOu5AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Resource Allocation Graph 0&quot;
        title=&quot;&quot;
        src=&quot;/static/a44266041c37116a90dafb08f46fc83e/f058b/image-3.png&quot;
        srcset=&quot;/static/a44266041c37116a90dafb08f46fc83e/c26ae/image-3.png 158w,
/static/a44266041c37116a90dafb08f46fc83e/6bdcf/image-3.png 315w,
/static/a44266041c37116a90dafb08f46fc83e/f058b/image-3.png 630w,
/static/a44266041c37116a90dafb08f46fc83e/6029f/image-3.png 906w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
Wait / Hold
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;프로세스가 자원을 요청할 때는, 리소스 Ra의 까만 점으로 바로 연결되지는 않습니다. 아직 요청이 받아들여지지 않았기 때문&lt;/li&gt;
&lt;li&gt;프로세스의 요청을 받아들이고 할당(hold by)하는 경우, 리소스의 까만 점에서부터 프로세스로 화살표를 긋습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9fe15c38c42eccfdee548d80caf64ac9/fcbaf/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.36708860759494%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABaElEQVR42m1SCWrDMBD0/59QCu1jUggNhUIPQmnr2PhQLAcrju34kDTVKpZKcBaEjp0d7TGBlBLjOEHLCUUHrHON+ARrGv+mlDK40S7yhLXBMg0xXGMDIQSKgqOpBaIGeHxmeC/VgrDrOjDGUHBuPasfgfunBHHVX7AzOHABQ9+jagdsoz2KYwc5TbhllGlvsF9hjNftL3K2t296ZrSEkwmm3wlIdjrVOBwOoHY4oNubpgE3WZKPrG1be5/mBIIkSUzJhQ9SSvum0HsURRY8DAN2ux3quvaZSqX8OU1T5HmOwB2UcxpSl01VVZ6QhhHHsc3c9Vcq7XtHFWZZhkDPBDQcYQguLZAWcD6fFz0k8rIsbaluWFSJL9k328iGhvIR5uB1j96QKa0XhPS5NFgmOrx8fiNlhb1fDcXFRUZ/D+scb1wuZPNPeNk32Yi7lZHNLMQr2bhAbirc7BWSG8L2hPMeHrXBLoX9B3W/CIDShzkkAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Resource Allocation Graph 1&quot;
        title=&quot;&quot;
        src=&quot;/static/9fe15c38c42eccfdee548d80caf64ac9/f058b/image-4.png&quot;
        srcset=&quot;/static/9fe15c38c42eccfdee548d80caf64ac9/c26ae/image-4.png 158w,
/static/9fe15c38c42eccfdee548d80caf64ac9/6bdcf/image-4.png 315w,
/static/9fe15c38c42eccfdee548d80caf64ac9/f058b/image-4.png 630w,
/static/9fe15c38c42eccfdee548d80caf64ac9/fcbaf/image-4.png 895w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
Circular Wait으로 데드락이 발생환 상황 / 데드락이 아닌 상황
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;그럼 두 프로세스 P1, P2가 자원 Ra, Rb에 접근하는 경우를 다음과 같이 생각해볼 수 있습니다&lt;br&gt;
왼쪽의 경우 P1, P2 사이에 데드락이 발생한 것을 알 수 있습니다..&lt;br&gt;
그러나 비슷하지만 오른쪽의 경우, 데드락이 발생한 것은 아닙니다. P1과 P2의 요청을 받아들일만한 재고가 남아있기 때문입니다&lt;/p&gt;
&lt;h1 id=&quot;데드락-해결을-위한-방법&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8D%B0%EB%93%9C%EB%9D%BD-%ED%95%B4%EA%B2%B0%EC%9D%84-%EC%9C%84%ED%95%9C-%EB%B0%A9%EB%B2%95&quot; aria-label=&quot;데드락 해결을 위한 방법 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;데드락 해결을 위한 방법&lt;/h1&gt;
&lt;p&gt;그럼 데드락을 어떻게 해결할 수 있을지 알아봅시다?
크게 세 가지 접근법이 있는데&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Prevent Deadlock&lt;/em&gt;&lt;/strong&gt; : 데드락을 &lt;strong&gt;예방&lt;/strong&gt;합시다. 이를 위해, &lt;strong&gt;자원 할당 시 규칙을 잘 만들고 이를 지키도록&lt;/strong&gt;합니다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Avoid Deadlock&lt;/em&gt;&lt;/strong&gt; : 규칙을 따로 두고 지키는 것이 아닌, &lt;strong&gt;자원을 주려고 할 때 데드락 위험을 확인&lt;/strong&gt;하고 할당해주도록 합니다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Detect Deadlock&lt;/em&gt;&lt;/strong&gt; : 별 규칙이나 확인 같은 절차 없이, 그냥 두고, 단 &lt;strong&gt;OS에게 수시로 확인하도록&lt;/strong&gt; 합니다. 초기 진압을 목적으로 합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;deadlock-prevention&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#deadlock-prevention&quot; aria-label=&quot;deadlock prevention permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deadlock Prevention&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;데드락이 발생하지 않을 규칙을 만들어 예방&lt;/strong&gt;하는 것이 목적이라고 했습니다.&lt;br&gt;
그럼 어떤 규칙을 만드는게 좋을까요?&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 224px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d0f0cf0f4a1e23192507056a401dcde4/80b2d/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100.63291139240506%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEeklEQVR42j2T2U8bVxSH53/IQ6W2Em3V17ZSXivxVqWtEilRW6qmIYIi0SasxhAZAiRhS0GEPXWSYpaACUugaVhDgtmMF7ANeDyMx3j3jMfGxuvsNp5eE6nS1ZWOdL/7uzrnu1A0wYIViTNJJhU6jSmfdA0/7jiNxWguxfOZtbeq324WdDQ9DJBhhs8kaCFO8WBP0KkkK0D/w1xatNusHWX5yvY6v88riqJOZ/ws59MPLnz4yYWP2prbM6J4jgkUmwZJNJuCAPYeprhMOBxSKTrnWqTYoYHPiH4iWPLD5V9yL166+OW9W39EEjTNnYFkACeYFAPg0xidhRMMzaXxk9h0/6OJ6oKh7ofyJwM6w+HW9OjfxVeU9SWTzTVWxIITJ1EQw6YpRmBYHoomuXOe8eDBvoERWXmFvPL63dKCmqqy7t4nBxvro1VFTT9+019WiJhMLsxD4qEEJdB8BrwCCoUjZCBgtx+jVmx5eQXDUP3Ohg2zKAaHutraFx81bT6Xt0tuTcn7dtUaJ+ryuohIjIonmHichlCzyY97vF63y+WIRMKBAMkwLOjW9Ozys462FeVTg37HuG8wmPYQGMZQ1IIgu3t7uNcdJHHIgVh8bgdmO0IQeGFpZXp6ZmF50YxiCsXYcL3EsqfFgwEc9/oInAySbp/vJBRiGJoX+CCOQxa9BtbvoEatcXu9o6b66neXJT9//6e0vK4o/8G1XKXiGbhUq9EcajdN6lXD5qrDiqbTZxzLulAYAtiRQYMadbq3y3M9rTUVVaVFhY1VFY2/FzYV55dLqvUa9eqbjZn+LtXA/e3HbWsvZy0whh2hiEkHxWkuyQjAEI/bvjo78c+Ywu8PUrzIpzJqtbb8tqTlXhtBhrgUMISPxelgKBoInPrJcJLhgSRCPCmwKVGz9KKx8HJ3RcGhRpUSRbvDe+nr3K8+zvki5/POzj7QwvdictkhpcGcGDCqaBwYl2aFs/nh3qG7pa9a7mjnZ8BRnz801tE6JSuW15YMdXWnUmfAxwTFM2yaZlLAkywciXPAMP5M3Jl/Mdl4a76h5FVv+67pMJqkLZpNYMjio4a1qTESx2PALVrIZmbJbDjQk2GFjP8kMqZ82XD7xmDlrz21lfX1dZN/9djV26P3a3uKfhpprbPBBx43EYokKRCb/RXnyVGK8weCPtyHWFEr0Hdff4TAy0uL86MK85bq9dTUcE/n+KBcp9VYYNTr8wtCBrjJCiL4sBCBEwThARpYUcTlcTg9LlC/e6cyGuFoIg4KIZ3meC4cPonFoizLUhQVIElgYiQQhDCL2e91jQ6O3MjLb6x/8GZ9q7f3sUx2z+nAFyZG1ueUbngfx09C4VMqyVAUSxB+FwI7LWYvhkLHyIEdNQ89VVz59mretbz6B803C4pbpNLtcbn0et5kf9+79rp/5QOq1Q23kzi2e62Yy2lBbCajG0EgJ2r22o8WXy9IJbLy22VSWU31HdlcX+t4k6SqvEqtNa6ND+4+7zpYmLYb9B6ny+MjfXanEzb7bLb/AF0inMqhl734AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;규칙..&quot;
        title=&quot;&quot;
        src=&quot;/static/d0f0cf0f4a1e23192507056a401dcde4/80b2d/image-5.png&quot;
        srcset=&quot;/static/d0f0cf0f4a1e23192507056a401dcde4/c26ae/image-5.png 158w,
/static/d0f0cf0f4a1e23192507056a401dcde4/80b2d/image-5.png 224w&quot;
        sizes=&quot;(max-width: 224px) 100vw, 224px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
규칙은 예외없이 지켜야 합니다
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;우리가 위에서, &lt;em&gt;데드락이 발생하는 4가지 조건&lt;/em&gt;을 언급했고,&lt;br&gt;
이 4가지 조건이 모두 만족된다면 데드락이 발생한다고 했습니다&lt;br&gt;
그렇다면.. 4가지 조건 중 하나라도 깰 수 있는 규칙을 만들면 되겠네요?&lt;br&gt;
4가지 조건을 다시 살펴보며, 깰 수 있는 방법에 대해 생각해봅시다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Mutual Exclusion&lt;/strong&gt; : 근데 이건 동시성 문제 해결을 위해 꼭 필요해서.. 이걸 깰 수는 없습니다 ㅜㅜ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hold and Wait&lt;/strong&gt; : 프로세스가 자원을 Hold만 하거나, Wait만 하거나, &lt;strong&gt;둘 중 하나만&lt;/strong&gt; 하게 만들면 어떨까요?
&lt;ul&gt;
&lt;li&gt;그렇다면.. 실행 시작 전에 &lt;strong&gt;필요한 모든 자원을 할당(Hold)하고 시작&lt;/strong&gt;하면 wait은 없을 것 같습니다
&lt;ul&gt;
&lt;li&gt;그런데 이렇게 하려면, 자원이 총 얼마나 필요한지 알아야 하는데 : 이건 사실 컴파일하면서 알 수 있어서 어렵지 않습니다&lt;/li&gt;
&lt;li&gt;그런데 모든 자원을 한꺼번에 Hold한다는 점이 문제입니다 : 언제 필요한지 모르는 자원을 시작부터 끝까지 점거하는 셈이고, 이건 굉장한 낭비입니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;No Preemption&lt;/strong&gt; : 프로세스가 자원을 요청했다가 &lt;strong&gt;Block&lt;/strong&gt;당하게 되면, &lt;strong&gt;자원을 강제로 뺏고 종료&lt;/strong&gt;시킨 뒤 다시 실행하면 어떨까요?
&lt;ul&gt;
&lt;li&gt;그런데 이렇게 하면 실행 시간을 예측할 수가 없고, 비용 또한 많이 들겠습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Circular Wait&lt;/strong&gt; : 모든 자원에 &lt;strong&gt;정수 번호&lt;/strong&gt;를 붙이고, 자원 할당은 그 정수 번호 &lt;strong&gt;오름차순 순서로 할당&lt;/strong&gt;하게 하면 어떨까요?
&lt;ul&gt;
&lt;li&gt;만약 프로세스가 5번 다음 3번을 할당 받으려면, 3번을 먼저 할당받고 5번을 할당받게 합니다.&lt;/li&gt;
&lt;li&gt;3번을 먼저 할당받는 점이 조금의 낭비가 발생하는 지점이지만, 다른 방법들보다는 &lt;strong&gt;가장 현실적&lt;/strong&gt;인 방법입니다 그나마..&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그런데 &lt;strong&gt;Circular Wait&lt;/strong&gt;을 깨는 조건으로 말한 &lt;strong&gt;정수 번호 순으로 할당&lt;/strong&gt;하는 방법이 실제로 어떻게 데드락 발생을 막을 수 있는지 어떻게 증명할 수 있을까요?&lt;br&gt;
&quot;어떤 방법이 데드락 발생을 막는다&quot;? 를 증명하려면 간단히 &quot;그 방법을 적용해도 데드락이 발생한다&quot;를 가정하고 이것이 모순임을 증명해야 합니다&lt;br&gt;
&lt;a href=&quot;https://www.cs.cornell.edu/courses/cs4410/2017su/lectures/lec09-deadlock.html&quot;&gt;코넬대학교 자료&lt;/a&gt;를 보면 다음과 같이 써있는데&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;That means that when traversing any path in the resource allocation graph, the numbers must increase (because if resource A is held by process P which is trying to acquire B, B must be bigger than A). This means that there can&apos;t be loops, because in a loop, the number must eventually &lt;strong&gt;go down&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;요약하자면.. 순환이 발생하려면 결국은 &lt;code class=&quot;language-text&quot;&gt;1-&gt;2-&gt;3-&gt;1&lt;/code&gt; 이런 식의 &lt;em&gt;go down&lt;/em&gt;이 발생해야 &quot;순환&quot;이 성립한다는 내용입니다&lt;br&gt;
생각해보니 당연하죠? 그것이 &quot;순환&quot;이니까&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/15f05532cdf1a2606c476f7256f4a8e0/3684f/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEsklEQVR42iWT21MaZxjGdxdEBRZBQA6CIEJjJDHRTDVpouakZjQemjqIoWk1SsIZjzHKLosIiCAsJwXlLCTamjTWi6SZyU0PmU47nVwkk/amnelFp9Np/oF2epGu7c138X3ze5/nfZ/3A4an0JvzS2bU64vn8GTeshyyuiNYNBcvfhbK7rrDCcP03MSMzR5KrqXuJ4p7qxtZs33ViK1hoS1geBL5aMauRzzejQwBm5dxkyeChFKZh4+nFrFKNpcEgiw293T7hWn7cmbvwLueNqFeMxZYCicB9STy8QyqR9y+eDaU3La4Qnp3CIvlVzYyPD4fBAEms6KstJQEgexKjisQDWwVdDaPEfMvRVLAyBQ6OovpUY8vkQunihY3bvSE3Vs7PR+MkEggHWbAjIoKJotOpwMA0DNwLZLb1dnch3A4BQxPH8K6RdcqoZwqmJaDFu/6nbV4g1we041Y+zpbasVwWSkIQQTcerYdz+wYkFUztuYMEban7GNzDt2C63Bg6W2jM2jxxJDo9lBf//erkz+m/V/40U29pp7PpZOhiaH3VxJ5I+o3O4KuSBq4bkUPYZvbu5ELpgrEwCyusDNRXPLgdlUPfmNwfqD7ZdKfn9Ea3jv5LOR1JbZN/8EOwrbKYpu66/AvuX2JQjS7Y3KGLK4IEs1F8p/evdb95Zpjf978rd/+eH788zntbjbviedNdr/B/n9UVnTcfDc6O727HkvFkzonkXMUDWdj9/Z3V7CvfLYfIu7nK7PPMB021OUOxALJgm7Rq0f9dnwTUFltastCwKh9HvIk8Mgh7AojeDpWeBSNby1f68poP9y2jMRv9hQtw3uZNNGqCQvoER8aTBza1kwuLk/ceJFd3ysUJhAfoezcuLd5/yCY2TGPjdt7z+GjvRHVxVeP0g/39o80tIxNo8QiLkXTgMq4MGxZQPQ3v8tEc5sJrQM32AOXetTtF/sViiY+XzHW3+vqO3PgWXzzx58aze0KWnWd7ERrW8+tGQxQm1G1FXFabz9wTkcSqduOwJnzA5UMEROu5rBqYBpvcECdss198+TJ189fHFW0yiRNUrFSzK+XS5uBjsHrJvtqMeJ/lIoFU8XWtl4BR0E8VAvqpRIlq0LU36f65edff//tDR7YlMuaG99pqpOcUMhO1dWcBE53Dpy/MvD06dNP9h6cau6Qihp5HFmtuLG25oRUfJxCZhkMU2/fvv3r73/UqtGz77bJJUqxQFlbc5LHUQBXxy0MJvfcmQtHjhyllrGFvHpaOUfIUxC15bXNTIawq/MqAb9+/ZNC1iQRHati10pESrGwoZIpAbo1t5iVVcTegiBUXg7TqJUQRGGzquukTYS4SHiUuHn18mU4lOCy5I3KVh5XKuApmAwBA+YBV24YWVweBIJkMplEIoMgiShUXgqLBA011cfEQiW1nG1bRAf7NExY1NLcIRIoykqZlBIancoFekdNiuPNIEB8GwgCSeVUuKXjMofLh6kcYVU9gybsaO/O54pVHBmLIYKpfAoZLqXAEFRCnEDniPby8GjXkMYwi9yaQYf0d7TYGq+6hgSUEFHRy6raznbjgXVKCcyg8+k0HqWEDkGEQaiETP0XWzC2l0idyccAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;신지로&quot;
        title=&quot;&quot;
        src=&quot;/static/15f05532cdf1a2606c476f7256f4a8e0/3684f/image-6.png&quot;
        srcset=&quot;/static/15f05532cdf1a2606c476f7256f4a8e0/c26ae/image-6.png 158w,
/static/15f05532cdf1a2606c476f7256f4a8e0/3684f/image-6.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;deadlock-avoidance&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#deadlock-avoidance&quot; aria-label=&quot;deadlock avoidance permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deadlock Avoidance&lt;/h2&gt;
&lt;p&gt;이번에는 따로 규칙을 두지는 않고, 자원 할당 전에 &lt;strong&gt;데드락 가능성을 판단&lt;/strong&gt;하고 수행하도록 해봅시다.&lt;br&gt;
자원 할당을 해주면 데드락이 발생할 것 같을 때, 프로세스의 요청을 거절하고 block상태로 대기하도록 하는 방법입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 177px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/afeed013f1039c701e78172ba1a0ea18/6e666/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 160.75949367088606%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAIAAACdAM/hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEkElEQVR42nWV10tcWxjF5//xxRcJoiLYEUGwd8UuVlTE3sGOBXs3Yi+xYom9xhI7YsFeosZeY7ne+5s5QxxN7n4Y9jmz1/7WWl85on//f72+vv4jWWxk37+8vMzPzy8vL4v+xAiADy9vbm4mJyerqqpCQkI0NDSUlZXr6+tFfw0obO7v71dWVjo6OmJiYgwMDLS0tJKSksrKyqKjo+3t7b9//y76E7mwsNDc3JyYmOjk5GRiYmJmZmZhYZGbm3txccG/z8/PHNvf39/c3BR9CHh8fKypqamrq2toaKioqCgvL6+url5QUHB1dcWla2tr29vbR0dHPyVLJCuVX4RBCYyOjo6/v7+cnJynpyeAjY0NdAYEBHz+/Hlubg4WhPkIbmtr8/HxUVNTc3d3J7iSkhLGPD4+np6eZmVl5eXllZaWwhkiJycn7zSjJz8/Pzg42MPDIzAw0M3NzcjIKCoqqqKioqamBqtRnp6eTvCWlpbz83ORrGCuDwsLw1uQLi4ufn5+MMet0NBQbkS8paWlra0t+5SUlMvLS5EsZ8QEBQWBgbmDgwO/XOTl5TU0NITm2trawcHB4eHh0dHR9vZ2SuUduLW1Fbe8vb0Ja2Vl5evrGxkZCYuSkpLr62shT2A4eXh4+OvXr3eakZeRkVFUVIRUc3NzIjs6OnIdXJqamg4ODnZ3dykbNCPn6elJJCsYZFdXl42NjYFkkW3UpqamcjQ2NjY8PNzZ2RkX7ezs4uLiQIl+c15cXCQUQbS1tfX19UlSfHz8jx8/OIdDCMGFhoYGfIZLYWEhkLfIMzMzhOXuT58+qaqqUsCompqa4qirq2tycjI6OUaeOUNGpWBhkcnKykpIGhsbs+fQ3t7exMQE8YuLi/Hyy5cvmIKQiIgI4ovBQlhu7enpaWxsJJPU4/T0NPz19PSwmsKiSVBEzkxNTWkVHkdGRt7AFCrVTzR8SkhIoPSrq6u5BQBtSFfChV9ra2sFBQWMhNEbmAeKHp9I0vr6+u3tLc3c3d1Nhvv7+4kDBdKOl3iOYCaJVDOpp5nIJKWHT9QTJXF3d4eF5BlGvb293EKr8NjX17e0tESRScFnZ2cUXWdnJ1fyB7bRgwTn0q2tLfjzkrkBZ1jgC559+/ZNCsYenORKaoj0kDAmCUOL+DxSBbCghyC/urpKtvGSwSAFcxR5MJmdnSXm+Pj4169fARNcuAIw3U9tZmZmEnxnZ4e7xGC4QQwy2dnZuEINkWrMxzABL1xBLpEjmMwAovLEYN7SOtQ6yFLJupOsa8kS8MyNgYEBdCIBg5gN4MVgCpACoELIZF1dHYMC8tABIBBmI8w99ryHNs7xUgxOS0tTUVEhGfBkmjJo6Gece3h4AEyrjY2NkXmcgwJzC9t4w0VicHl5OWXEWCFVkKFLoZCTk8NR8MwWPiuQFxxCHcOcIUmkt8bgb8xAAs2AsfiJNtiCZHRAgV/2VCG2MS2kYNnvGBsOEZM4MGRiIQQJMMJXaoPIQmqEYSTtZ+GD+OFryIL5mWRRggwAEkk6wAsn//6h+70+fD0Ztyhi6AvD5z9026vdvPDdxAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;거절한다.&quot;
        title=&quot;&quot;
        src=&quot;/static/afeed013f1039c701e78172ba1a0ea18/6e666/image-7.png&quot;
        srcset=&quot;/static/afeed013f1039c701e78172ba1a0ea18/c26ae/image-7.png 158w,
/static/afeed013f1039c701e78172ba1a0ea18/6e666/image-7.png 177w&quot;
        sizes=&quot;(max-width: 177px) 100vw, 177px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그런데 그러려면 &lt;strong&gt;어떤 프로세스의 요청 상한선&lt;/strong&gt;을 기준으로 판단하게 되고&lt;br&gt;
이는 최대치를 가정하고 작업하는 것이므로, &lt;strong&gt;불필요한 낭비를 하는 경향&lt;/strong&gt;이 있을 수 밖에 없긴 합니다&lt;br&gt;
어떤 사람이 3시간 동안 과제를 할건데, 중간에 프린트를 해야한다고 해서 3시간동안 프린트기를 쭉 점거하고 있으면 매우 낭비겠죠?&lt;/p&gt;
&lt;p&gt;일단 이 Deadlock Avoidance에는 두 가지 종류가 있습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Process Initiation Denial&lt;/strong&gt; : 프로세스를 시작할 때, 이 프로세스의 요구치가 데드락을 야기할 것 같으면, 프로세스의 시작을 거부합니다.
&lt;ul&gt;
&lt;li&gt;이 경우, 가장 최악의 경우를 상정하는 Not Optimal한 방법입니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Resource Allocation Denial&lt;/strong&gt; : 프로세스가 자원 할당을 요청하면, 이를 받아들인다면 데드락이 발생할 것 같을 경우, 자원 할당 요청을 거부합니다.
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;banker&apos;s algorithm&lt;/strong&gt;이라고도 합니다&lt;/li&gt;
&lt;li&gt;먼저 시스템이 고정된 양의 자원을 가진다고 가정하고, 현재 상태에서 자원 요청을 승인하면 &lt;strong&gt;safe&lt;/strong&gt;한지, 아닌지, 를 확인합니다&lt;/li&gt;
&lt;li&gt;이 &lt;strong&gt;safe&lt;/strong&gt;상태란, 데드락에 빠지지 않는 sequence가 단 하나라도 존재하는 경우입니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;자원 할당 상태를 행렬이나 벡터 등으로 나타내어 safe상태를 확인해볼 수 있습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6f049e1b6f058f885ad749cf22ddd666/bce72/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.34177215189873%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQ0lEQVR42k2QWUvDQBCA8/8FpaCooFL0QfC1LwqptYfVtlZbUSm97JE07W6SzWZ3m6vZOAltcRgG5tsZ5mMVKSUTvkWFTQUmzAvCJEkAUra2dzCMNgA3cUxcYTkcIFRoFU+w4je6qOg39QXU7tSBOc5F4WN5mcHzx8nUXAPENr1rLa+qWr6mX9cXiHoKJWahg4+ezLNn67CEGuN02bTIbRPlyuZpzTpQjSHywGZuoHzDypVWxxV0UsWG4ylRGEwwL3/O1PbgtWfYPEgNN1FPs9X2qNwZv/xozE+1157fM3hriJv91ZfmCj9Ukm1IyCCKdOzqFtdNjghLFRy2stmSiCmiwo+yOZkNp6Fkv5PEWUt4UOpMiu+jh9ag+4uB9HV63+irbwNQwy7IJ3EMC9vcX94bwCNISs7YbDanjgNEAtxd+x9/AjmADlQwSrgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;initial state&quot;
        title=&quot;&quot;
        src=&quot;/static/6f049e1b6f058f885ad749cf22ddd666/f058b/image-8.png&quot;
        srcset=&quot;/static/6f049e1b6f058f885ad749cf22ddd666/c26ae/image-8.png 158w,
/static/6f049e1b6f058f885ad749cf22ddd666/6bdcf/image-8.png 315w,
/static/6f049e1b6f058f885ad749cf22ddd666/f058b/image-8.png 630w,
/static/6f049e1b6f058f885ad749cf22ddd666/bce72/image-8.png 633w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;프로세스 P1,P2,P3,P4, 자원 R1,R2,R3에 대해 이러한 상태가 있다고 생각해봅시다.&lt;br&gt;
각 matrix와 vector들은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;R&lt;/strong&gt; (Resource Vector) : 시스템의 전체 자원 수(R1,R2,R3에 대한)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;V&lt;/strong&gt; (Available Vector): 시스템에 현재 남아 있는 자원 수&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;C&lt;/strong&gt; (Claim Matrix) : 각 프로세스들의 최대 자원 요구치
&lt;ul&gt;
&lt;li&gt;P1은 &lt;code class=&quot;language-text&quot;&gt;[3,3,2]&lt;/code&gt; : 실행 시작부터 끝까지, R1을 3개, R2를 3개, R3를 2개 요구할 것임&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;A&lt;/strong&gt; (Allocation Matrix) : 각 프로세스가 현재 가지고 있는 자원의 양
&lt;ul&gt;
&lt;li&gt;P1은 &lt;code class=&quot;language-text&quot;&gt;[1,0,0]&lt;/code&gt; : 현재 R1을 1개, 나머지는 0개 가지고 있다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;C-A&lt;/strong&gt; : (전체)-(현재) 자원 양이므로, 각 프로세스가 앞으로 요구할 자원의 양.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 각 matrix와 vector들의 의미를 정확히 알아둔 다음, 두 가지 Deadlock Avoidance 기법으로 데드락 가능성을 확인해봅시다&lt;/p&gt;
&lt;h3 id=&quot;process-initation-denial&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#process-initation-denial&quot; aria-label=&quot;process initation denial permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Process Initation Denial&lt;/h3&gt;
&lt;p&gt;P1, P2, P3, P4가 모두 시작을 대기하고 있고, 프로세스 번호 오름차순 순서로 확인 후 시작한다고 생각해봅시다.&lt;br&gt;
그럼 &lt;strong&gt;R&lt;/strong&gt; == &lt;strong&gt;V&lt;/strong&gt;인 상태로 시작하므로, &lt;code class=&quot;language-text&quot;&gt;V [9, 3, 6]&lt;/code&gt;에서 시작하고, Process Initiation Denial 방법은 &lt;strong&gt;C&lt;/strong&gt;를 잘 살피면 됩니다&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;P1의 &lt;strong&gt;C&lt;/strong&gt;값은 : &lt;code class=&quot;language-text&quot;&gt;[3,2,2]&lt;/code&gt;이므로, &lt;code class=&quot;language-text&quot;&gt;V [9,3,6]&lt;/code&gt; 이내입니다. 할당해주고 나면, &lt;code class=&quot;language-text&quot;&gt;V [6,1,4]&lt;/code&gt;가 됩니다.&lt;/li&gt;
&lt;li&gt;P2의 &lt;strong&gt;C&lt;/strong&gt;값은 : &lt;code class=&quot;language-text&quot;&gt;[6,1,3]&lt;/code&gt;이므로, &lt;code class=&quot;language-text&quot;&gt;V [6,1,4]&lt;/code&gt; 이내입니다. 할당해주고 나면, &lt;code class=&quot;language-text&quot;&gt;V [0,0,1]&lt;/code&gt;이 됩니다.&lt;/li&gt;
&lt;li&gt;P3의 &lt;strong&gt;C&lt;/strong&gt;값은, &lt;code class=&quot;language-text&quot;&gt;[3,1,4]&lt;/code&gt;인데, &lt;code class=&quot;language-text&quot;&gt;V [0,0,1]&lt;/code&gt;을 초과하므로, 시작할 수 없습니다. (거부)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이렇게, 자원 요구의 최대치를 기준으로 계산합니다.&lt;br&gt;
그러나 모든 자원을 한 번에 사용하는 것이 아니므로, 가장 최악의 경우를 상정한 Not Optimal 방법입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/723213363d1fbc8827b1ccbd7e5cc6ec/e85cb/image-9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABqUlEQVR42g2Ry26bQABF+YxWlRo7JuAXTw+egRkGGJiBAQyOwCYmD29SKc0im6z6AVUX3faDi3S2V0e6R7mxU8mKz0vfpNyOjxtSL/3yox9/Pw+PBXdgZEQtkE923KP6WbXJ14WxtIKGpSLAyp3LU591cRZ5BNJKx42XX2Tdv9X5r+tQ1Q3jRyxOVjpY/EEz/YXmqhuEQQBMbxrnJChYEDs2WlnoxopclNEweevvf56PCIWCy4yXohns7KTbkao5S5dOnr2DFA1K1UnUrb/YQBhJRIUDcJPn13M33teSi2Ndn9vqpTtcX55E1YEg09xwtw8pTpTLMKZcuoCgMJW5jENcCnE61F1ZNoKfyuLAUwgQJVFf5Q+N/Pf3z/vr+4+uwyhSOCaSRYdcVIIzGs7VFSHRpMoT1pXFqZYZwfY+WQF2p5ttJsayKZMC7mPDDZUvs7Xl+JRmIUlili8taLrB0FaPXTt2zdjWnFI7LH12/H5rfFtYtzpQ13CugdXWV2b6bmK6cQpg7Ki2hbqxh4gEOEaIQM/3PGzSdrVj84UxWwLd9E07AICsjeA/DgB2vMBaaQEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;끝나버렸다&quot;
        title=&quot;&quot;
        src=&quot;/static/723213363d1fbc8827b1ccbd7e5cc6ec/e85cb/image-9.png&quot;
        srcset=&quot;/static/723213363d1fbc8827b1ccbd7e5cc6ec/c26ae/image-9.png 158w,
/static/723213363d1fbc8827b1ccbd7e5cc6ec/6bdcf/image-9.png 315w,
/static/723213363d1fbc8827b1ccbd7e5cc6ec/e85cb/image-9.png 480w&quot;
        sizes=&quot;(max-width: 480px) 100vw, 480px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;process-allocation-denial&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#process-allocation-denial&quot; aria-label=&quot;process allocation denial permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Process Allocation Denial&lt;/h3&gt;
&lt;p&gt;프로세스가 자원 할당을 요청하면, 그 요청을 받아들일 경우를 가정하고 진행해봅니다.&lt;br&gt;
데드락에 빠지지 않고 끝날 수 있는 실행 순서가 단 하나라도 존재하면, &lt;strong&gt;safe&lt;/strong&gt;상태인 것으로 간주하고 요청을 받아들입니다.&lt;br&gt;
그러나 어떤 경우에도 데드락에 빠진다면, &lt;strong&gt;unsafe&lt;/strong&gt;상태로 간주하고 요청을 거절합니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Banker&apos;s Algorithm&lt;/strong&gt;이라고도 하는 이 방법은, 프로세스를 &lt;strong&gt;하나씩 종료&lt;/strong&gt;시켜보며 safe/unsafe를 판단합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6f049e1b6f058f885ad749cf22ddd666/bce72/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.34177215189873%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQ0lEQVR42k2QWUvDQBCA8/8FpaCooFL0QfC1LwqptYfVtlZbUSm97JE07W6SzWZ3m6vZOAltcRgG5tsZ5mMVKSUTvkWFTQUmzAvCJEkAUra2dzCMNgA3cUxcYTkcIFRoFU+w4je6qOg39QXU7tSBOc5F4WN5mcHzx8nUXAPENr1rLa+qWr6mX9cXiHoKJWahg4+ezLNn67CEGuN02bTIbRPlyuZpzTpQjSHywGZuoHzDypVWxxV0UsWG4ylRGEwwL3/O1PbgtWfYPEgNN1FPs9X2qNwZv/xozE+1157fM3hriJv91ZfmCj9Ukm1IyCCKdOzqFtdNjghLFRy2stmSiCmiwo+yOZkNp6Fkv5PEWUt4UOpMiu+jh9ag+4uB9HV63+irbwNQwy7IJ3EMC9vcX94bwCNISs7YbDanjgNEAtxd+x9/AjmADlQwSrgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;initial state..&quot;
        title=&quot;&quot;
        src=&quot;/static/6f049e1b6f058f885ad749cf22ddd666/f058b/image-8.png&quot;
        srcset=&quot;/static/6f049e1b6f058f885ad749cf22ddd666/c26ae/image-8.png 158w,
/static/6f049e1b6f058f885ad749cf22ddd666/6bdcf/image-8.png 315w,
/static/6f049e1b6f058f885ad749cf22ddd666/f058b/image-8.png 630w,
/static/6f049e1b6f058f885ad749cf22ddd666/bce72/image-8.png 633w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아까 위에서 봤던 상태도를 다시 가져와봤습니다&lt;br&gt;
먼저 이 상태가 safe인지 확인해봅시다.&lt;br&gt;
&lt;strong&gt;C-A&lt;/strong&gt; matrix (앞으로 더 요구할 자원 양)에 주목해야 합니다&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;V [0,1,1]&lt;/code&gt;인 현 상태에서, &lt;strong&gt;C-A&lt;/strong&gt;를 보아하니, 지금의 자원 내에서 종료 가능한 프로세스는 P2밖에 없습니다.&lt;/li&gt;
&lt;li&gt;P2를 종료하면, P2가 가지고 있던 자원의 양(&lt;strong&gt;A&lt;/strong&gt; 행렬 중 P2)이 모두 반납되어, &lt;code class=&quot;language-text&quot;&gt;V [6 2 3]&lt;/code&gt;으로 늘어납니다.&lt;/li&gt;
&lt;li&gt;Available Vector &lt;strong&gt;V&lt;/strong&gt;가 매우 풍족해졌으므로, &lt;strong&gt;C-A&lt;/strong&gt;를 보면 남은 P1, P3, P4 뭐든 종료할 수 있습니다.&lt;/li&gt;
&lt;li&gt;이럴 때는 번호가 작은 P1을 종료합니다. 우리가 반복문 코드 짤 때는 응당 &lt;code class=&quot;language-text&quot;&gt;i++&lt;/code&gt;처럼 짜기 마련이죠&lt;/li&gt;
&lt;li&gt;이제 P1을 종료하면 &lt;code class=&quot;language-text&quot;&gt;V [7,2,3]&lt;/code&gt;이 됩니다.&lt;/li&gt;
&lt;li&gt;이제 P3종료, 또 P4 종료가 가능하므로, &lt;strong&gt;safe&lt;/strong&gt;상태임을 알 수 있습니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이제 아래 (a)상태에서, &quot;P1이 &lt;code class=&quot;language-text&quot;&gt;[1, 0, 1]&lt;/code&gt;의 자원을 요청&quot;하여, 이를 받아준 경우인 (b)를 생각해봅시다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 511px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f1aa48ac54f017ca6f52891ff2b4c390/92e00/image-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 79.74683544303798%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACbklEQVR42nWSaU/bQBCG/f8/ljOIQunnVkI0UoCQQMnBEQ4lxiThCATnsHfX3sPrM7bTcVJAgnY0WnlevTNez2MlTVMufcIkJGaO9MPpdAqicD3CMwUz6XjBTEykF4Ay0yWXnuJKUVCt1QrarKOVY/PkkYHPd2Xp1l6poG91tFoxDzs2iKHv1u5sKMGZOzahSxGc/VLZco1tNsRilVUfBPik4Hu3bKnGNhpiuc4POhxET4rfXbpYpeun9lLVzqtMCQP/8llsXxo7l8PtK7NreOCLwuC6z380Rvnr8c/GsPki5mJ75BQ0uqviwo111RfKdPY1MML3nCj00ySGSJIknoDmZukKKJJMjOfriCcRGOBZmdVZQhAn2G8ZJQ0VVaOsoUmc9pAsarikmfuqedGz35zzh7dm0NIgSh6G9v0Ad/rmk0FjAOGFXZ10X9DdgGDhv7W9N/8z4NLINBi14ML/8yhAjzB3gJ0hEToWTGbjkzQBkjriOmI6EpYzf2fKHH+ABTjhJNxTpMN3NbpWs7bOrFyVnPayxXquU+7QXI18P7dyNeuoy+fwa/d0rW5tnRI4dzWmODPOS1W2cc4XKvSdswZI2dczDrSLr5yPuvRLha6f0IWKvdOiShD4TV0UmsZec1RomY9oxjkIVJ3nr0aw9vz1SBvOOYd3hoQblW9xqW21Bn85Z+uBwVHgA1KI7Igyzr7reIJNJmEmxpPPnNN3ziLYaxkw+OAGwRnFyYwzKbdx8QZd9Giaph85v0YaTpLHkd3to/bT+Glsw0/F3aDzYrafx4DacsKPqD7UMJnaFiSjNsaEYGwRDMClIz5z/gPZ4nBmvUSlMAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;할당해주면..&quot;
        title=&quot;&quot;
        src=&quot;/static/f1aa48ac54f017ca6f52891ff2b4c390/92e00/image-10.png&quot;
        srcset=&quot;/static/f1aa48ac54f017ca6f52891ff2b4c390/c26ae/image-10.png 158w,
/static/f1aa48ac54f017ca6f52891ff2b4c390/6bdcf/image-10.png 315w,
/static/f1aa48ac54f017ca6f52891ff2b4c390/92e00/image-10.png 511w&quot;
        sizes=&quot;(max-width: 511px) 100vw, 511px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 경우 현재 &lt;code class=&quot;language-text&quot;&gt;V [0, 1, 1]&lt;/code&gt; 내에서 감당 가능한 &lt;strong&gt;C-A&lt;/strong&gt; 양을 갖는 프로세스가 단 하나도 없으므로, 자원을 더 이상 할당해줄 수 없습니다&lt;br&gt;
즉 &lt;strong&gt;unsafe&lt;/strong&gt;한 상태가 되어버렸습니다..&lt;br&gt;
따라서 P1의 요구를 거절하고, P1의 요청을 받아들여도 괜찮을 때까지 block시킵니다.&lt;/p&gt;
&lt;p&gt;그런데 다만, safe한 순서를 발견했다고 해서 그 순서를 따라가는 것이 아닙니다&lt;br&gt;
그저 &quot;가능한 세계선이 존재한다&quot; 뿐이죠&lt;br&gt;
따라서 매 할당마다 unsafe/safe 여부를 확인해야만 합니다&lt;/p&gt;
&lt;p&gt;아무튼, 이 과정을 코드 로직으로 나타내보면 아래와 같이 나타내볼 수 있겠습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 184px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/78f50760d98a50e1691d03ab3b7d064b/5a64f/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 94.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEbUlEQVR42i2S2VNTVxzH77/Rlz70vdOptdNpO1OGKgMFFFzCIsogwQqoRFAWWUIshCRoNgkJN9sNyU1uFhJIIhCJRog6KYhssgmyBEiALPcm9+YC9sUepz3zmfNyzufM7/f9HUgqlyjU8j6tQo3AOr0GxfTWAczpso963GPPR33+F76pwMza8nZoN3QY2Y/GDuN4FMej8dhhNAIpVL0qBEZQLdDMVuOgc8BmN5vNBuC7nw7Ozk8vra2uBjcP47EokQAQVIpMpUiKTJIkpNHCBlRntWEOp83tcXnGnhoMiE6rMhn7bVaT7+Wzvf29GB5PUmQiRRMURaao1BGdolMUnYIwq8nhsg97nB6fZzzgHxi0oihiMaNGVAd8u92yvvEB3AMCdUQTJIknk0SSxEkymiAg59jI6ITXF/C/mZ3cCG76X0+IRXytpk8Jy4FvNOqWVxfo4yPgJ5KJGIF/KT5O7OP4fiwOvZr+e2phdn59dXNvh0pRyyvvuTx27d2bAsFDk0mHYUi/Hl5cmkuQSRASqJ9IJhIkRSQBJLQTCoUPD3bDoUgsuhvac7od8j7h7dvlNTXMsrLLEgmXz297Exinj2ngg85BzxQN1jFJ0RB4CU8Qof1wKBxyue33Gu6IhF1NTSxu5wN+R5NE9NfU1MR28OPxp+P/ozqiExQVSyR3IxEoEo+FD8Jbwe3pd28H7JhIwuNwGhsbb7c0s4Td7e3sWrvDsLQyd/LPydGnE5DWYTQajkTAtCM4AS2uf5hbfr+ytjzmfWaxGHpkjx801124mFVaeqmhoZrzsM7lxqQ9fL/fs76xsrEbBNOiTz7hJPVFDszPrO9szS/M2AbMBhRpab1f38g6/ev3X3/zVcm1i0IhRwGL2jj3bQNag17uGx9ZXJ2bW57HKSpJ09Duwf7WThBWSpuaWR1dbcyKqx2dray6ql/Sfvzup28zc3+vravUIFKLTTs0hI55HSXljB/OnmZUXHk9GYDmFmaulTE0GqlSJVbAwrb2Ojbnfvejh1x+G7PyWvmNYhgWGgwKoxH2vXCqdbJTaafutdeJYKHWoIEQvfo6k6HXy+WKx0MuzGzVqDQSobhTLOGKxNwnT7rAkQlTORz6lz5Xc2tt+h9p7hH75JR/dW0JmnwbeO4F/1nZI+OLJQKrDTWg6t7eRzJZN9jV6h4M05owBDVqUJOqjFl8gZGjUkmHRxwL72ehaOzgld+r1fQolaJy5tWW1nqJlC+R8npkAkTXq1bLQP7/we1qzb+cnZmT3qt4bDIjXu8QtLn9cXR0UCxgKxWCgqK8wqIL9fV32Jx6fjcbwOWyu3jsLj6HzW6ormZm55z5s6qsk9eiVIthBQ9anH/3emJMDYsQrbTwyvnM7PTyipIbN0vv1lYCqm8xWXcrq26Vl5YVFRblp5/5GbPoHUMWVm1FN68BGrT2a2Exp7mmm9dyq+Z6RtZvBcX5BYV5DMb5S5dzc89l5OVnZZ87m3M+A3AuL2N4eOjz5886XR+zNPdfbU7x63F3uisAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;띵킹&quot;
        title=&quot;&quot;
        src=&quot;/static/78f50760d98a50e1691d03ab3b7d064b/5a64f/image-11.png&quot;
        srcset=&quot;/static/78f50760d98a50e1691d03ab3b7d064b/c26ae/image-11.png 158w,
/static/78f50760d98a50e1691d03ab3b7d064b/5a64f/image-11.png 184w&quot;
        sizes=&quot;(max-width: 184px) 100vw, 184px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;일단 아래와 같이 각 행렬과 벡터들을 정의하고&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//m개 자원, n개 프로세스&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; resource&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;m&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//시스템의 전체 자원의 양인 리소스 벡터&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; available&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;m&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//시스템의 현재 가능한 자원의 양인 avilable 벡터&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; claim&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;m&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//프로세서가 요구하는 자원 최대치인 claim matrix&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; alloc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;m&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//프로세서가 현재 할당받은 자원의 양인 alloc matrix&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;resource allocation algorithm을 아래와 같이 작성합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;cpp&quot;&gt;&lt;pre class=&quot;language-cpp&quot;&gt;&lt;code class=&quot;language-cpp&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;alloc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; claim &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; error &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//할당받은 양 + 요청할 양 &gt; claim이면? 거짓말쳤네?&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; available&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; suspend process &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//request(C-A)가 가용한도보다 적으면&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; define newstate by &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//이제, 자원 할당을 가정한 새로운 상태를 정의함 :&lt;/span&gt;
		alloc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; alloc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//alloc[i]에 할당한 만큼 더하고&lt;/span&gt;
		available&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; available&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//현재 양에서 할당한 만큼 뺌&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;safe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newstate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; carry out allocation &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//safe하면 할당 진행&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; restore original state &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; suspend process &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;만약 &lt;strong&gt;A&lt;/strong&gt;(현재 할당량) + 요청량 &gt; &lt;strong&gt;C&lt;/strong&gt;(최대 요청량) 면, 사실 말이 안되는 상황이죠? 지금까지의 계산이 모두 잘못되었을 가능성이 큽니다(error).&lt;/li&gt;
&lt;li&gt;request하는 양보다 avilable한 양(&lt;strong&gt;V&lt;/strong&gt;)이 벌써 작다면, 줄 수조차 없겠죠?(suspend)&lt;/li&gt;
&lt;li&gt;이제, 자원 할당 요청을 받아들인 상황을 가정하여, 새로이 상태를 정의합니다
&lt;ol&gt;
&lt;li&gt;allocation matrix &lt;strong&gt;A&lt;/strong&gt;를 업데이트&lt;/li&gt;
&lt;li&gt;available vector &lt;strong&gt;V&lt;/strong&gt;를 업데이트&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;그 상태가 safe한지 판단하고, safe하면 할당을 진행&lt;/li&gt;
&lt;li&gt;unsafe하면, 직전 상태로 복귀하고, 프로세스를 suspend&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;safe한 상태인지를 판별하는 것은 아래와 같이 합니다:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;cpp&quot;&gt;&lt;pre class=&quot;language-cpp&quot;&gt;&lt;code class=&quot;language-cpp&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;safe&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;state S&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; currentavail&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;m&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	process rest&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;number of process&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	currentavail &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; available&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//변화시킬 available 벡터&lt;/span&gt;
	rest &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;all processes&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//하나씩 종료시킬건데, 남은 프로세스들&lt;/span&gt;
	possible &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;possible&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;find a process Pk in rest such that &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
			claim&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; alloc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; currentavail&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//남은 애들 중 하나인 Pk가 C-A가 currentavail 내에서 감당 가능?&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;found&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//true : Pk에게 자원 줬다고 보고, 계속 진행&lt;/span&gt;
			currentavail &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; currentavail &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; alloc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			rest &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; rest&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Pk&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; possible &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//false : currentavail 내에서 감당 가능한 C-A가  없으므로, unsafe함&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;rest &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; null&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;먼저 available vector를 복사하여 &lt;code class=&quot;language-text&quot;&gt;currentavail&lt;/code&gt;를 만들어 요놈을 업데이트하기로 하고, &lt;code class=&quot;language-text&quot;&gt;rest&lt;/code&gt;에는 종료되지 않고 남은 프로세스들을 넣습니다&lt;/li&gt;
&lt;li&gt;이제 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;문을 계속 돌며, &lt;strong&gt;C-A&lt;/strong&gt;가 &lt;code class=&quot;language-text&quot;&gt;currentavail&lt;/code&gt; 이하인 프로세스 &lt;code class=&quot;language-text&quot;&gt;Pk&lt;/code&gt;를 찾습니다
&lt;ol&gt;
&lt;li&gt;찾았다면 &lt;code class=&quot;language-text&quot;&gt;currentavail&lt;/code&gt;을 업데이트하고, &lt;code class=&quot;language-text&quot;&gt;Pk&lt;/code&gt;를 종료시켜 &lt;code class=&quot;language-text&quot;&gt;rest&lt;/code&gt;를 업데이트합니다&lt;/li&gt;
&lt;li&gt;찾지 못했다면, &lt;code class=&quot;language-text&quot;&gt;possible&lt;/code&gt;을 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;로 세팅하여 반복문을 끝내게 합니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;이제 반복문이 끝나면, &lt;code class=&quot;language-text&quot;&gt;rest&lt;/code&gt;에 프로세스가 남아있으면 unsafe, 없다면 safe입니다&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이렇게 해서 Deadlock Avoidance에 대해 알아보았지만&lt;br&gt;
위에서도 계속 언급했듯이,&lt;br&gt;
자원 요구 최대치를 미리 알고, 최악의 경우를 상정하여 대비한다는 점이 문제입니다.&lt;br&gt;
너무 &lt;strong&gt;소극적, 보수적&lt;/strong&gt;으로 시스템을 운용하는 셈이고&lt;br&gt;
또한 시스템 내 자원의 양이 &lt;strong&gt;고정되어있음을 가정&lt;/strong&gt;했는데&lt;br&gt;
사실 &lt;code class=&quot;language-text&quot;&gt;semaphore&lt;/code&gt;같은 경우만 해도, 프로세스들이 막 만들고 없앨 수 있어 변동이 존재할 수 밖에 없습니다..&lt;/p&gt;
&lt;h2 id=&quot;deadlock-detection&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#deadlock-detection&quot; aria-label=&quot;deadlock detection permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deadlock Detection&lt;/h2&gt;
&lt;p&gt;Deadlock Avoidance가 너무 보수적으로 자원을 운용한 것에 반해&lt;br&gt;
Deadlock Detection은 꽤나 적극적으로 자원을 운용하는 방법입니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;자원 할당 요청이 들어오면, &quot;일단 줘&quot;를 시전합니다&lt;/li&gt;
&lt;li&gt;이제 정기적으로 데드락 여부를 체크하도록 합니다.&lt;/li&gt;
&lt;li&gt;데드락이란 초기에 두 프로세스에서 시작하여 셋, 넷, ..으로 번지기 마련이므로, 초기 진압을 목적으로 합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/86051c79bf9175eb478c1f7df7f54ee2/3684f/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEi0lEQVR42h2S2W8TVxTGpyrqAnbtjMdjz+LZx7N4vMRJiAgoQYUgUSEhitRFfanSQiXaRkBVpKYB1ICAsMQFJYQQ0mRsB9shCY1pPN53Bzcmu6BVqwpBH/pvdOA+nIer+53fd757AFsTRlOyy9uh+HZ7296X5VaakRRPG0FyNoxpgnDITsIIRTh4ihIpWgRh3GS2m8ywwQgCDpynadnb3KV4d4tKu+Jul10tbm+Hg+BghDRbEBBCmyx2BGP1G5IWSFqEIAyCUAiyAyjGcpy7bWe3v3WfpOxUvO08LztFv/4Od9AwQljtDqsNh2wEhjMoTnO8YkMIC4xa7QRggVCSFGSl3ePb4/LsEmU/S/Oi5JNFD0MxdhsOgghosVsgBLETBMFRjOAgOdTBWhEKAEGUYVw6qrPrsKftgK+tWxIUxbPLpbQRGElhFKY3x0kMxyEYpUmWZkSWFXWk0WwDduyA9JkFoblj90HBtcfT3CXpTN6rWyBxBkfQ90wQijhA0ApaYIqkKcrJOb0mEH3rHRNgMFgpUnTyPl9Ll8/fKUp+WWnlRT9D8xLDH/lgH+YgfW7ZJYjGJpuTcXK6T+9OnBDefcesky04xtGU5Gvp9DbvFcVWUXDzTjeOkQe7u2PB0eVqZiJwmeOlJpggqFdiWfJSrAJaccBkgl+LheaWvf7W/TTjkiQfy8gYzo5P3KvXcmv17Hxw1GCGtpsgBy07eZfolCjeY9MD27bNiCAURbFud6s+MEE6RacLQ5jDH340qY4ltEfL1UJf7zGjyWIwWQ1Gq56OLLpZXqFpBjAarQjKIjhvh1HYTqEog9scBONSw+F7E3cGrwx8f7JX5gUzCFthzNwE86JPUlo4VvDIEjA0dPPG0K0rg4HvTp85evTjQ4eO7Ono7Dl+IpPPRmJBbXbqzNfH3njz7e0Gy3YjCOrLiVOc1MwxvCgIwPz8w3B4OplK5wulSqVSrzeWlxuNJytzcw+Dwam5yOTYzaFPP/mMl7x62gazhaYY1um121ASJ4C1tbVkMhmLxaYmp0KhUDqdaTRWnv3x98t///vzr+e1+qqW1EqFfCgYOn/+Qs8XX+3bf+Dbk6dPnT7V83kPsLGxUX99tMVEUJ2ang7rRsJhtVIuvHzxz8sXzzMZLZ/PxaLT0ej9QrEcCNzq6+sPBH4ulyvA+vp6qVR8/HipVqsVCvlsNrOwEA+H1PFx9eQPE3cnF5OJR5ubm+VKUQ3+Ui6XU6lkJBI9d/anEyd6dfFGpVKuVsu1WqVarVYq1dXVtdWV3y9cUr/8ZvTS1UgwvLC62tja2kgk4jqjVCppmhaPx69fvwbkshlNW0ynkzo1l8sUi3ld/OzpViJV7xv47Xhv6EYglFiMp5Larw/nlpaquoulJb1FMb4wD4zdHRsZGRkeHr59e+T26PD4+NhMbGZ+dn4mFgncmhq4PHk/ElPVSVWdGLx8MTB0bXb2wYOZaDabKhZywObW07X1rZW19eUnDd1zLpdPZdLZfF7T9E9YzKQT0WhEDapjd+9cHbxy7mz/ubM/vqr9/RcvDvwPMAK8lS6IZTgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;강아지 CCTV&quot;
        title=&quot;&quot;
        src=&quot;/static/86051c79bf9175eb478c1f7df7f54ee2/3684f/image-12.png&quot;
        srcset=&quot;/static/86051c79bf9175eb478c1f7df7f54ee2/c26ae/image-12.png 158w,
/static/86051c79bf9175eb478c1f7df7f54ee2/3684f/image-12.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위에서 살펴봤던 자원 할당 상태도와 비슷하게 해서, Common Detection Algorithm에 대해 알아봅시다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/44e618decefcbc4a52bb83143c04e7c4/3996e/image-13.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABk0lEQVR42jVR227TQBD1/78hBRCUPiKBokKURn1qK1LTkCDXCU1JKxwnzaVe22vvrteXvfjWSVFHZ2fnHM3MWWmNosgJIZRRxhilNMvytm2VkoTEQJMERMY5r+s6JvTQlEDwKIqVUoZ5H3TtuDeLvtnBl9++9cjbWs3XYfcmAvH7FHet8GKBfSZ7tn86J6e3cX8antihE+bGwEbvR/TTmBxd484w/OFkbSl+PYBIjsf0aBS9M/FXKxKqilJ5v0bONnR2AaKF0LXRt57emvHHa/zBDN5covMH1lbSvNt1rvCLGHaGweexr8uqKlWpZKXlodCiaWpjtmH9WXD2JxjYXu/GW6CirculR/tTfzD1AD1rP3YZSeXPv95kGU+caOLg4QI9kdyABSlnKU8ynuRZ2r4G1CDmKYerrSsuqpHLzufoYo4u79DVP+YxZTSv3WVZKq2lUkIIKaV+oQK40kVRaAVvFnmaFBkXeVZpBSMGHDCHDP/guiuEEMZ4v98vl67nofX60V2ttrvdZrMFgMF/p6Y54Ble164EWFmQZQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Request matrix&quot;
        title=&quot;&quot;
        src=&quot;/static/44e618decefcbc4a52bb83143c04e7c4/f058b/image-13.png&quot;
        srcset=&quot;/static/44e618decefcbc4a52bb83143c04e7c4/c26ae/image-13.png 158w,
/static/44e618decefcbc4a52bb83143c04e7c4/6bdcf/image-13.png 315w,
/static/44e618decefcbc4a52bb83143c04e7c4/f058b/image-13.png 630w,
/static/44e618decefcbc4a52bb83143c04e7c4/3996e/image-13.png 648w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;조금 달라진 점은, Claim Matrix &lt;strong&gt;C&lt;/strong&gt; 대신, &lt;strong&gt;Request Matrix Q&lt;/strong&gt;를 사용합니다.&lt;br&gt;
이 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;Q_{ij}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.9694em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;Q&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;ij&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는, &lt;em&gt;프로세스 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;가 자원 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;j&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.854em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 요청한 뒤, 아직 요청이 받아들여지지 않은 자원의 양&lt;/em&gt;입니다.&lt;br&gt;
OS는 여러 사정으로 인해 자원 할당을 지연시킬 수도 있지만, 이게 실제로 &lt;strong&gt;데드락이 발생&lt;/strong&gt;하여 무한히 기다리고 있는 상태일 수도 있습니다.&lt;br&gt;
이 대기 상태의 원인이 데드락인지, 아닌지를 가려보자 하는 방법론입니다&lt;/p&gt;
&lt;p&gt;Common Detection Algorithm은, &quot;확실히 데드락이 아닌 프로세스에 &lt;strong&gt;Mark&lt;/strong&gt;&quot;합니다&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;allocation matrix가 전부 0인 프로세스는 바로 &lt;strong&gt;mark&lt;/strong&gt;해줍시다.
&lt;ul&gt;
&lt;li&gt;hold-and-wait 조건 생각 나시나요? hold하는 자원이 없으면 데드락 조건에 부합하지 않습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;이제, available vector를 카피한 &lt;strong&gt;W&lt;/strong&gt; vector를 만들어서 이를 이용해 available을 시뮬레이션합시다.
&lt;ol&gt;
&lt;li&gt;mark되지 않은 프로세스들 중, &lt;strong&gt;W&lt;/strong&gt;값보다 &lt;strong&gt;Q&lt;/strong&gt;값이 작거나 같은, 즉 대기중인 자원 요청을 즉시 받아들여 할당해줄 수 있는 프로세스를 찾아봅니다.&lt;/li&gt;
&lt;li&gt;P3이 가능하므로, 이 P3 또한 &lt;strong&gt;mark&lt;/strong&gt;합니다.&lt;/li&gt;
&lt;li&gt;mark한 프로세스 P3이 종료되어 자원을 반납한다고 생각하고, &lt;strong&gt;W&lt;/strong&gt;를 업데이트합니다. (&lt;code class=&quot;language-text&quot;&gt;W:[0,0,0,0,1] -&gt; W:[0,0,0,1,1]&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;위 과정을 계속 반복할 것인데, 지금 &lt;code class=&quot;language-text&quot;&gt;W:[0,0,0,1,1]&lt;/code&gt;상태에서 &lt;strong&gt;mark&lt;/strong&gt;할 프로세스가 더이상 존재하지 않습니다.&lt;/li&gt;
&lt;li&gt;따라서 P1, P2가 데드락인 것 같네요. 조치를 취해야 하겠습니다&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이를 &lt;strong&gt;resource allocation graph&lt;/strong&gt;로 그려보면, 다음과 같습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8cd901e1b56ecc3ee836bf50fed49b68/442cb/image-14.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 92.40506329113923%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACa0lEQVR42oVU2W7bMBDU//9G0ZcCCVIgPT6h6EMe0qAFCsSWj9q6LIm6SZGa7q4sQU7chgBtkrOanT1ID2+Mvu8RBAHCMJT1Nfx4PIqNtRbeW4RN02Cz2cD3fVm/HFprwdiG195Ah9NcDucGMejJa1mWKKtK1GhjYJ2b7eu6xoEU1nWDYRiuKRwwWCOTLM5hGXLgzjDhPeM9BjpTKochx86OuFdTWrYF4NMs2x6q0VjlFhva0xadBZ5Ti3Vm0drxjDFfDThEKZK8lPWK8IYwL6C0fPUt7tcOQWVxagd8Wjl8pn3SQua0j8k2pv0X3+Hudws/yhHWDvfPVvCQcI9/bh9jvP/+B0FhoMjL7VOOm8cTMg2kNG9+pLj7qWQdktMPDyHefdsiKg2SjvCnDB9/FUgI93pKkx/mOOQNkjRH1XYIC41dUtBaQ/eOlCiE9HFrLFJVIlQt4tqi7gwaTW2jOiSNg6E0SlHKsph7jKumspMUh9skikJJvqMinE4JDFWZMceFGcZC9EbPJRXCjqo09Rg3J7eIUkpmHMfksEKeK7RtS7ODIefDuQP4X2szNcRIyP1WFIUcsILRiMLe7eR8v98TYS6tw6RzC51vCou4UMgE/MFE5KS/FLquk2uVJAmFe0JFyhljm2mwgOWVnBs7y7IZ5DzynieT8jkrjaJIbg0rmlRNEb0i5A/YMxPwh6xoLADmXHG4h8NBHE1hL9VeELIqJtput/KyLPM0ES5fF84vky2dXhCyounVWIbwknTCuFBsz8/WqxyyEXtdrVaSo/+NpVJ2vl6vL8L2lu8a5/HaI/ovYq46p2oZ8l8TR3UEZBsFNAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Resource Allocation Graph 3&quot;
        title=&quot;&quot;
        src=&quot;/static/8cd901e1b56ecc3ee836bf50fed49b68/f058b/image-14.png&quot;
        srcset=&quot;/static/8cd901e1b56ecc3ee836bf50fed49b68/c26ae/image-14.png 158w,
/static/8cd901e1b56ecc3ee836bf50fed49b68/6bdcf/image-14.png 315w,
/static/8cd901e1b56ecc3ee836bf50fed49b68/f058b/image-14.png 630w,
/static/8cd901e1b56ecc3ee836bf50fed49b68/442cb/image-14.png 752w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;검은 색 화살표는 할당(hold), 회색 화살표는 요청(request)입니다.
P1과 P2 사이에 &lt;code class=&quot;language-text&quot;&gt;r1-&gt;h3-&gt;r3-&gt;h4&lt;/code&gt;와 같은 &lt;strong&gt;circular wait&lt;/strong&gt;이 발생했고, 데드락에 빠졌음을 알 수 있습니다.&lt;/p&gt;
&lt;h3 id=&quot;데드락-발생-시-조치&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8D%B0%EB%93%9C%EB%9D%BD-%EB%B0%9C%EC%83%9D-%EC%8B%9C-%EC%A1%B0%EC%B9%98&quot; aria-label=&quot;데드락 발생 시 조치 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;데드락 발생 시 조치&lt;/h3&gt;
&lt;p&gt;그럼 데드락이 감지되었다면, 어떻게 조치할 수 있나요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 360px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e84cd77edb5853efb43acfcfc198d7ef/f21e7/image-15.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAClklEQVR42kVTx3biQBDk//9oo9fGgA0IECJnhNJolHA4l6tGu28PPGCmpyt0defjlqD0N6iWOzSnKz7zEjV/l8Ea1WqH99TgPUxQL7as2eJ+CvFpCzS7E5rDGfX2iI/E4O0a4b47o1Ot90iehshHcxhvDstHyZ8Bki7PxjybLpHPljCDCcxwhpz/7XwDM/JhJgEs/7vv+Qp2skCnJJu0N0Rzi1Gyubv0+Am2aIiaPQ9h2DjneXW8sob1BHNN/RWqwwXpywQ5yRT+Gp23OENF+vHPZ6TPY6IEaC435PO1K7RkZym/pOSk++qYi00TxjBPr4gfegT0UR8vqPeUXK4OSHpjV1huDkQKyFLyxZLe8iwhUE6JuhN4PiHIYoP08QXWX6Kk1yktKaiWHh4ds0IsaLAYGXphKcc1JGo28GDZUOwlUb4WvJMNlk3UKGVNtTmyIZsU9K7anxxLM6Lxs1XrHyWLqQDrc0ipa0Tfu62HZNaEt3ZwekMPqx0b1tszooc+YvqT8nF9YaPeCNHvAc+GqC5hy6A7ol99N7T6ekPGJhm9yzj56nh2NRpeRzRFt1ztnYyCsTFsKM+q9aGVRcZiUPJOdXZGS6YLNzh5nE8DZ1HBTxub/pgoFxScZO79Ly4ZXMM75VOTlMcFh5F0X5znGet0JkLWxYYN71HitEffHjnNYRsBbowQEzHVkMgg57kCnxFAXt6vMWK+iX/1GC+PNoSomYCOZEQP3AyiNDJeDehFRskFJStfGpYbkDLKBRCIGxBj82+gKaMntR3tolZKWVJRzgzqgYC0ZjrPBn8DTonKnwAV9ILblGvl+M68Tt1eu4bKkkKdUqL1/HbNKFusHeO+5zxWw+jHk/NMYIqSYb0Za6cDF5svPeHl2YjUMX0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;우뜨캐&quot;
        title=&quot;&quot;
        src=&quot;/static/e84cd77edb5853efb43acfcfc198d7ef/f21e7/image-15.png&quot;
        srcset=&quot;/static/e84cd77edb5853efb43acfcfc198d7ef/c26ae/image-15.png 158w,
/static/e84cd77edb5853efb43acfcfc198d7ef/6bdcf/image-15.png 315w,
/static/e84cd77edb5853efb43acfcfc198d7ef/f21e7/image-15.png 360w&quot;
        sizes=&quot;(max-width: 360px) 100vw, 360px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;데드락에 걸린 모든 프로세스를 중단(&lt;strong&gt;abort&lt;/strong&gt;)해버립니다. : 무식하게&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;backup&lt;/strong&gt;포인트를 뒀다가 그 포인트에서부터 다시 시작합니다. : 처음부터 시작하기엔 아까우니까요&lt;/li&gt;
&lt;li&gt;데드락이 &lt;strong&gt;풀릴 때까지 프로세스를 종료&lt;/strong&gt;시켜봅니다. : 적당히 circular wait 사이클이 끊어질 때까지 종료시켜보면 되겠죠?&lt;/li&gt;
&lt;li&gt;데드락이 &lt;strong&gt;풀릴 때까지 자원을 preempt&lt;/strong&gt;(빼앗기)해봅니다. : 데드락 발생 4가지 조건 중 No Preemption 조건을 깨는 셈.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Deadlock avoidance로 데드락을 막을 때는, 자원 할당을 할 때마다 알고리즘을 수행하려면 부담이 너무 큽니다..&lt;br&gt;
그런데 이렇게 Deadlock Detection 방법은 resource graph만 유지하면&lt;br&gt;
쉽게 둘 or 세 프로세스 사이의 사이클을 감지하여 조치할 수 있어서 아주 굿입니다&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 259px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/55fd3fdfbabc263e71a0c4e316c97b8e/a2ead/image-16.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADWklEQVR42iWQaVMaBxiA94d12n7JpJOx1rSxJc7YGXVMJcnAVMtMUQxVcLn3AvaSdS9EPPDgEDmEhQU3GBMdkRsUQ6ptMv0P3aYzz4fny/O+77yAYXHJ6vGBMG5DCDtK21HS4aOdftqF0xDFIhSHUSxGs94A78GZ7XjKbHdopqYmdbo58yLwCnRZnNiyE112YRaP7/MgwoYSdi/lwQMwyWA05wvwPkaEyTU0wP6sfamZntYaDPqFeWDFg4Ievw0mQAi3q5kqsHoCZYPwJbfX7ISNy7Y509KMfnZs+tnoxLhW/9xhX/YjjjBHAd+MjAw90Qxrnn5GMzo+PjYxMfRk9OHw8KPvR756+ODRd98+/vGHl88n1xBrgidyO2vFCPcus/+pdQEYdRPm2V9ezU6B8y8wi2HFqB8ZevDl11/MaJ+hCHJ0mDx/dy7LJx4YERlCCrPyJlPcFe5qlY+tt4Ac8l/GgtX4ek4gKKvxp8dDul/1xUKpXm8OPtwPbv/s927vBveFvMwE+eS2IG+sNuWjfzrnfzXOgAhujVKQy6j7XTu2Ypj+w7xYvarfdPutRrtZb/U61+1mR5VmrRXaCiv5eJbz9ZTj+1ql91YGYrRr1+8grbqQ57co74vFE816s9Pqqtz0+ipqrHq70dmLHVycSoUg8Sa6MbiQa3ISKIcDMcKWYZyy4M3vbW7t7DRrTXWhulltuu3e/1xeXO0eHFSVdEH0lbeZ/lm+WzkG4qR1H7ecbQcq62RhSxBE8aSsDG4HrUar0+pcd65r1fr94C6TOT5MHJxGxRyHKZtUNbvbKCWBDAdtQEbOMZcOuCohOhUJ4TRdOX1z2//Q6/av2ze9zk06lXWjcCrCZVaROOk8pJwdOT44LwIFEcsyCO8w7KCmBAGmGASxmExzOt6H8H5kj1/l/J6Zyafggi7NIhKPx0l3lvVdpiKfrhRAEuGSgFdChLKOHjPuPcwShkwhz/wmtHBE2WUelng0w0IJCoySoCSgedab4/H3Z1JNigGSAJVFoqy+QYBOREQJYmpQYN1yEC0GUVlEkpSjIGASByeIlQQJZhlI3qD/vlJ6r9NA4b8YL4v+kgDJAlzioDIPl0VEdRVVsmuuJGUriVhRQHM8vO9dilOO/uvsx6ryLyVgPgGUAUbEAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;백안!&quot;
        title=&quot;&quot;
        src=&quot;/static/55fd3fdfbabc263e71a0c4e316c97b8e/a2ead/image-16.png&quot;
        srcset=&quot;/static/55fd3fdfbabc263e71a0c4e316c97b8e/c26ae/image-16.png 158w,
/static/55fd3fdfbabc263e71a0c4e316c97b8e/a2ead/image-16.png 259w&quot;
        sizes=&quot;(max-width: 259px) 100vw, 259px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
백안!!!!
&lt;/figcation&gt;
&lt;/figure&gt;
&lt;h1 id=&quot;철학자-문제--dining-philosophers-problem&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%B2%A0%ED%95%99%EC%9E%90-%EB%AC%B8%EC%A0%9C--dining-philosophers-problem&quot; aria-label=&quot;철학자 문제  dining philosophers problem permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;철학자 문제 : Dining Philosophers&apos; Problem&lt;/h1&gt;
&lt;p&gt;데드락 응용문제로 유명한 문제가 있습니다&lt;br&gt;
철학자 문제 (Dining Philosophers&apos; Problem)
(&lt;em&gt;포크 두 개 들고 밥먹기&lt;/em&gt;) 또는 (&lt;em&gt;생각에 빠지기&lt;/em&gt;) 둘 중 하나를 하는 철학자 5명이 있습니다&lt;br&gt;
이 5명의 철학자들은 원탁에 빙 둘러 앉아있고&lt;br&gt;
5개의 포크가 철학자들 왼편, 오른편에 놓여있습니다&lt;br&gt;
그림으로 나타내면 아래와 같습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 324px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5b04ab0cfddc4627775a7fb15240f2a9/67580/image-17.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 98.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAABc0lEQVR42pWUyY6CUBBF+f/vYWHikj1rNiYGgeBAQHBgUOijRVc/BjF9E+PjVd2qWwNY3S+ez+f5fG6ahnPbtmVZPh6Puq7lRi7zPOdGKZaecNrtdphvt1uaptfr1fO8KIru9ztBeYTm+z4OEmhAxhYEwX6/JwoquFmv18fjUURBjuMYK6FnyJiTJBGaoKoqcRJQBfwZMtkgd0O0b4xuIOtlT0ZPURQaUl27CejL6XQSqyV/juO4rivldZ+Bp23btO0vM4JpLy39lM0Esi+XCyPoyVmWfeWYYC7U+JKNTpo87c0CoKD8cDhYtGqz2XT/ATMLw5CUFtWyG7J0y93SjjB/lodVs6iekzn6r5ANf9XMDxnyvN1uzb2fAo2o1XXql4R3iPyr1UrfodGeyIFtp0HjDQN0X96YBTBUmfCYrHyq0K7qGUVskckckEUM+nGiixTPPBgkveWRuPqdmM+sBvyI4r9BNvNjMp95amZ+ps7pIH8AAhqUXJ7NHUsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;철학자문제&quot;
        title=&quot;&quot;
        src=&quot;/static/5b04ab0cfddc4627775a7fb15240f2a9/67580/image-17.png&quot;
        srcset=&quot;/static/5b04ab0cfddc4627775a7fb15240f2a9/c26ae/image-17.png 158w,
/static/5b04ab0cfddc4627775a7fb15240f2a9/6bdcf/image-17.png 315w,
/static/5b04ab0cfddc4627775a7fb15240f2a9/67580/image-17.png 324w&quot;
        sizes=&quot;(max-width: 324px) 100vw, 324px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;어떤 철학자가, 양 옆의 다른 철학자들이 사색에 빠진 타이밍에&lt;br&gt;
잽싸게 왼쪽 포크와 오른쪽 포크를 둘 다 집어버려 식사를 시작하면 굿이지만&lt;br&gt;
운 나쁘게도.. 철학자들이 번갈아가면서, 자신 왼쪽에 놓인 포크를 집고, 왼쪽 포크를 집고, ...&lt;br&gt;
이렇게 되면 각 철학자들이 왼손에 포크를 들고 오른쪽 포크를 기다리며 다같이 굶어 죽습니다...&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4a3b513ba1d1ea88d5a3e419a3fb860f/5a46d/image-18.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9ADg0J19VR25gUmVaT2deUmxkVGZfUmBYTmZ3ToykZ3N1X3ZyZGxqVrCqkbiXhqmVal1dPFtUQlpNO3FnVwBBPjBfVUNsWkZqXU56bFxuZFVbVUl6cWNqb05bfzptdluAdVlJRS8qLyp+Oy7jkHrGuZIzKxlZTj7IvZ8ARD0yWVJEVE9CZFpPYFdMVFFGdWZRknNii3Jtemdcgn1djYlifHtgQ0EwWkg2s3BfrY13cGZVoZqBiIBmAGdmYHBwaG5vaGNjW0ZGQEJCO3BaTqR9a5Z2bJBxaY1tYX19WYSBX5WFaIqCY3ZzX19VQ97QtrCmhpaPcgBtbm1maGZhZGJUWFNCQzwzNTRJOTGVbVinfm+ngHuUZ2COdWZ5b16Jgm9sY1BURjfEuKDn28HdyqK+sJQAYmFfb3BqdnZucm5jRUZAQDs7f15Tk2lUpHtrtpKMlmtnnn5vo52KfHJkPzcth31pyryi8+ve7OHLwbCYAKiii6ahia6liXx0YzQ1MywoJ39cVZ52Y6R+aa+MgaN7cqiKdrmzlmZcT21lXJCMgop/a8a8rP/++ezi1ACqoIKelHuflXZZU0cgIB8WFxUVEA17V0fGnIG7k3+og3Wrm5K3taqsoouNhHV5c2mYlIaupJHj2sn28+wAopd9o5h8d3BZNDAqKispJCMiEhQUSzcuroRrso95mHhio5idu8Low8TKnJWAem9nc2xgkIx+2NDB8eneAJ+Xfp2WfEU/MyAgHj89MDU1LWdpdnp8hZGPl4yLiH9/f5KQlWJiZkNEP4+Pi4Z7bYd7b3lxZo+Jgd/XygCalX2Vim8+NysMCwwhICRwdoypstezu+G7w+u9xey+xezJ0vmSnLViaYHF0PW8xNiXjoiPgnSGfHGalYurizWFL+wuCgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;허기&quot;
        title=&quot;&quot;
        src=&quot;/static/4a3b513ba1d1ea88d5a3e419a3fb860f/5a46d/image-18.png&quot;
        srcset=&quot;/static/4a3b513ba1d1ea88d5a3e419a3fb860f/c26ae/image-18.png 158w,
/static/4a3b513ba1d1ea88d5a3e419a3fb860f/5a46d/image-18.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;참 내. 양보들 좀 하지.&lt;/p&gt;
&lt;p&gt;이런 일이 발생하지 않도록, 아래와 같이 밥먹는 규칙을 정해줘야 하겠습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;먼저, 포크를 동시에 집지 못하게 &lt;strong&gt;Mutual Exclusion&lt;/strong&gt;을 보장해야 할 것이며&lt;/li&gt;
&lt;li&gt;철학자들이 굶어 죽지 않게 &lt;strong&gt;데드락, starvation&lt;/strong&gt;이 발생하지 않게 해주어야 함&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;이렇게-하면-데드락이-발생해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EB%A0%87%EA%B2%8C-%ED%95%98%EB%A9%B4-%EB%8D%B0%EB%93%9C%EB%9D%BD%EC%9D%B4-%EB%B0%9C%EC%83%9D%ED%95%B4%EC%9A%94&quot; aria-label=&quot;이렇게 하면 데드락이 발생해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이렇게 하면 데드락이 발생해요&lt;/h2&gt;
&lt;p&gt;Mutual Exclusion을 보장하기 위해 Critical Section을 구현해야 하니&lt;br&gt;
semaphore를 이용(semaphore 또는 monitor에 대한 자세한 설명은 &lt;a href=&quot;https://sungpaks.github.io/mutual-exclusion-by-os/&quot;&gt;여기&lt;/a&gt;)하여 간단히 아래와 같이 쓰려고 할 수도 있겠습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;semaphore fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;philosohper&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;think&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//왼쪽 잡기 시도&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//오른쪽 잡기 시도&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;eat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//냠&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//오른쪽 포크 내려놓기&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//왼쪽 포크 내려놓기&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;parbegin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;philosopher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;philosopher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;philosopher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;philosopher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;philosopher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그런데 이렇게 작성하면 &lt;strong&gt;데드락이 발생&lt;/strong&gt;해버릴 수 있습니다...&lt;br&gt;
위에서 말했던 것처럼, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번째 철학자가 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번(왼쪽) 포크를 집고, timeout되는 과정을 반복하면&lt;br&gt;
모든 철학자들이 왼손에는 포크를 들고, 옆 철학자가 왼 손에 들고 있는 본인 기준 오른쪽 포크를 기다리며 교착 상태에 빠져버립니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 213px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a403dd66b705cb32626223e944e723ae/3cb16/image-19.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 110.75949367088609%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE4UlEQVR42hWT6U8bVxTFB4MXMmbs2d7Me29mvOAF29jGBhtj4wWbxRhiSINN4rAENYCB4OI0OA1NSICKJM1CEppITau0JGrVNEqlVCpVVVWq1OVr/6UOevfj/b2re+45hNks8gDZ2x2SbON4pBYLsIkBJGUWRSRAqFgVm82KMRIh4Dizw+PL9Mf7u/0AsISZRhQNaFZgGESZVIbVt1JarU6r1+r1eoE1ua1iKhrIJGKiwLMs5fL6Uqn+VJdHgoAwGNVuk1pmWv1Y4HjeSBo1GoJs1ae98vp48rA+f/x0+92zex53O8NSKk/TajMFBJo4RbE0A3he5DkV5BGEJGnU6bR9brgxHq5PJD8pF15cmXt/sL0yM22i2yRJhCKPJQAxIAAQOQ6wHC9ArJIQwaBV7rGKpwN4cyy6Ozv+tDZ7eyrzw83Lv3z1NOj3qiSCPMZAkkVCJXleACKCkkVRZBGhgU5XLReeDMLLWf/di8VH1XJ9OPbF0uzxw53+SEgUWIsMZUmUsEAgdSDGitWCJVkQRJpm2khjWBLPhOSVXOdOZfDWhdFrxYFny/PvD/YcdkUArCJDhADGvAorWFIUiyJJitFIEU0nDwtiwo7OBqTlXOe1UrpRGjq6Xd9anm+3IY/H7nLIHpdFxhyBsQTRybamNjNHs6puTisay8VrlfFqvvdS2jWX9NTOJqrF1GI+tlYaqAxHLgyF+3u8EuIJHrCyLNM01aLV9fqcyaA3F+osBF0jvYF7n24+vlV/VDv35Vb18eXFOcVW7nDn+/y5iAMLjIRZVTCOMpmaNITe0EwaDadIveqQlqaWJk1TsS95eHvv13ff//3H8YN6o0iyRZs7Hu7x+dyCYOJYkqAYnuWB3eHAEiLJVp2uxdCqlzgq7beuFGJ788VX+x//dvT8w9KExLIKBO0uZ08oGPN7SpNjhJllVAO3O52q4AZDK9Gkkfm26Zi9OhC8NTv2cmv51Y3q8eHe76+eR6N+I2XwBLpz2Wx1qrC/9RHBsDQPBB6o89lmg45pax31y5eSHQuZ7rWx7I2pkZebS/erla+3G/vXN1RpZAQQ5AbTkeniIMELPEQyllXFeYYyWljyfHf7+mDo6kRy5+Lk9WL/Z+Xs2/3G6+2Nf9980+lzI8Spd3ZaYS4eIZCk2gMhDB0WWO7xBJE57xXWBoJ3ZsZfXFm4mo/WMuG32/Wf9ur/vX15tjCkplLGgtuuTI5kCBFKJw5TrWnB5Zg33yEPucFqLnCzlN2eHlmMB9cGEndnzn97beXng5tD8agIGEURXXZ5JBlRd1YjAZGEtQaDyUDGLGDcBxezvhvns7szIyvZntXBZKNYeLNT/+v1Y2+7hWUoi1XEIpON+gkgnmSYpii/y2qFqLXZ0CuZJ/xwZbirUU5tlTL788Uf9xv/fPfk86tL6VhXd8DudkCXXepw2giaMbfotAzVNhIP9Ic9qVh3MeGdiFjKqY4zfR0Lo+HVcro2nbm+WKicjldOJ+cmYufGoomwy0waiGatRqPVqN76IBOaz4eXhiOr5fzmzOiV8dhGMfHhQKg2mT5cL80norNB36Vo97DVmg6F6nNd9Wme0OlbtNoWnU6HjEb+lJHX6YbCvQe7uw821++vTN1ZKBxtL/959ODJZiNv5HbiuYon1OlyVsZ6H67a/gcApBZb3QLXEQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기다릴게..&quot;
        title=&quot;&quot;
        src=&quot;/static/a403dd66b705cb32626223e944e723ae/3cb16/image-19.png&quot;
        srcset=&quot;/static/a403dd66b705cb32626223e944e723ae/c26ae/image-19.png 158w,
/static/a403dd66b705cb32626223e944e723ae/3cb16/image-19.png 213w&quot;
        sizes=&quot;(max-width: 213px) 100vw, 213px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;circular-wait-prevetion으로-해결해봐요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#circular-wait-prevetion%EC%9C%BC%EB%A1%9C-%ED%95%B4%EA%B2%B0%ED%95%B4%EB%B4%90%EC%9A%94&quot; aria-label=&quot;circular wait prevetion으로 해결해봐요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Circular Wait Prevetion으로 해결해봐요&lt;/h2&gt;
&lt;p&gt;위에서 살펴본, 데드락 발생 4가지 조건 중 Circular Wait을 깨뜨리는 방법으로 간단히 해결해볼 수 있는데&lt;br&gt;
먼저 포크에 번호를 다 붙입시다. 0~4번 포크로&lt;br&gt;
이제 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번 철학자는 포크를 집을 때, 포크 번호가 작은 것부터 집도록 합시다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;fork[0],fork[1],fork[2],fork[3],fork[4]&lt;/code&gt; 존재&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;0번 철학자 : &lt;code class=&quot;language-text&quot;&gt;fork[0] -&gt; fork[1]&lt;/code&gt; 요청할 예정&lt;/li&gt;
&lt;li&gt;1번 철학자 : &lt;code class=&quot;language-text&quot;&gt;fork[1] -&gt; fork[2]&lt;/code&gt; 요청할 예정&lt;/li&gt;
&lt;li&gt;2번 철학자 : &lt;code class=&quot;language-text&quot;&gt;fork[2] -&gt; fork[3]&lt;/code&gt; 요청할 예정&lt;/li&gt;
&lt;li&gt;3번 철학자 : &lt;code class=&quot;language-text&quot;&gt;fork[3] -&gt; fork[4]&lt;/code&gt; 요청할 예정&lt;/li&gt;
&lt;li&gt;4번 철학자 : &lt;code class=&quot;language-text&quot;&gt;fork[0] -&gt; fork[4]&lt;/code&gt; 요청할 예정 (4번과 (4+1)%5=0번인데, 번호 작은 포크부터 요청하기로 함)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이제, 데드락이 발생했던 상황인 포크 하나 집고 time-out 당하는 경우를 생각해봅시다&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;0번 철학자가 먼저 &lt;code class=&quot;language-text&quot;&gt;fork[0]&lt;/code&gt;을 집은 경우 :
&lt;ol&gt;
&lt;li&gt;이후 1번이 &lt;code class=&quot;language-text&quot;&gt;fork[1]&lt;/code&gt;, 2번이 &lt;code class=&quot;language-text&quot;&gt;fork[2]&lt;/code&gt;, 3번이 &lt;code class=&quot;language-text&quot;&gt;fork[3]&lt;/code&gt;을 집게 되어도, 4번 철학자는 &lt;code class=&quot;language-text&quot;&gt;fork[0]&lt;/code&gt;을 집기 전에는 &lt;code class=&quot;language-text&quot;&gt;fork[4]&lt;/code&gt;를 집지 않을 것인데, 이미 &lt;code class=&quot;language-text&quot;&gt;fork[0]&lt;/code&gt;은 0번 철학자 손에 있습니다.&lt;/li&gt;
&lt;li&gt;그럼 &lt;code class=&quot;language-text&quot;&gt;fork[4]&lt;/code&gt;가 남아있으므로, 언젠가 3번 철학자는 &lt;code class=&quot;language-text&quot;&gt;fork[4]&lt;/code&gt;까지 집어들 수 있고, 식사를 할 수 있습니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;4번 철학자가 먼저 &lt;code class=&quot;language-text&quot;&gt;fork[0]&lt;/code&gt;을 집은 경우 :
&lt;ol&gt;
&lt;li&gt;0번 철학자는 &lt;code class=&quot;language-text&quot;&gt;fork[0]&lt;/code&gt;을 집기 전에는 &lt;code class=&quot;language-text&quot;&gt;fork[1]&lt;/code&gt;을 집지 않습니다.&lt;/li&gt;
&lt;li&gt;다시, 남은 철학자들이 하나 집고 timeout, ...과 같은 상황이 발생해도, 3번 또는 4번 철학자 둘 중 하나가 &lt;code class=&quot;language-text&quot;&gt;fork[4]&lt;/code&gt;를 집을 때는 이미 포크를 하나 집어든 상태이므로, 식사를 시작합니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이런 식으로 해서 데드락을 해결해볼 수 있겠네요&lt;/p&gt;
&lt;h2 id=&quot;밥-먹는-공간은-따로-분리하고-인원-제한을-둬요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B0%A5-%EB%A8%B9%EB%8A%94-%EA%B3%B5%EA%B0%84%EC%9D%80-%EB%94%B0%EB%A1%9C-%EB%B6%84%EB%A6%AC%ED%95%98%EA%B3%A0-%EC%9D%B8%EC%9B%90-%EC%A0%9C%ED%95%9C%EC%9D%84-%EB%91%AC%EC%9A%94&quot; aria-label=&quot;밥 먹는 공간은 따로 분리하고 인원 제한을 둬요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;밥 먹는 공간은 따로 분리하고, 인원 제한을 둬요&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a8e6897a79d1fd19f0ee4a4a9e89d923/d67fd/image-20.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.21518987341771%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABrUlEQVR42o2TyY7CQAxE8/+fwx0hJC4QCXFhSUQQhH0L+5YEPHpGzjAMMGPJ6k63u1wuO87tdpP9fi+Xy0UWi4X6arWS2Wwmm81GttutrNdrOZ1Ouu52O3lnYDlseGyBHJofj0c9NyeBJTGHzOFw0PskSe6AXPBhgBiMhsOh+L4v3W5XPM+TZrMp9XpdgiCQdrud3RFHVcvl8g5IKZ1OR6IoyspuNBqa+bmk6/WqblWwx9I0/QZEv8lkolkAHgwGmh0W8/lcy4nj+Be4VYNRIbGOHQLY7/d1rdVq0mq1VFsM3WDPA/bWxEcDcDqd3hk+lkMjWGHnuq70er2MHVqjX6VSkVwuJ+Px+AcgZJzn1gPGJToCAKtisSj5fF4bYMZ9uVzW5n0EfJQAkTGaAyskQOfz+aznyGAxVPERkM7zAK0AMD35BoQ7KoDpSw1fAcLMdB2NRlkjLKZQKEgYhhlDkv4JaMYElEolLZnH3FWrVWVqDGH7FtDGwwyWdJ4Z5SFlM8wWD6AONpnIaivMeAx91v9a9qfAAiBWwHD2MGRkKAlwNMSZPdy+6Swx9qd9AXW6gKmSlcu1AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;밥먹는 공간은 따로&quot;
        title=&quot;&quot;
        src=&quot;/static/a8e6897a79d1fd19f0ee4a4a9e89d923/f058b/image-20.png&quot;
        srcset=&quot;/static/a8e6897a79d1fd19f0ee4a4a9e89d923/c26ae/image-20.png 158w,
/static/a8e6897a79d1fd19f0ee4a4a9e89d923/6bdcf/image-20.png 315w,
/static/a8e6897a79d1fd19f0ee4a4a9e89d923/f058b/image-20.png 630w,
/static/a8e6897a79d1fd19f0ee4a4a9e89d923/d67fd/image-20.png 670w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이런 식으로, 밥 먹는 공간과 생각하는 공간을 따로 분리한 뒤&lt;br&gt;
밥 먹는 공간에는 4명까지만 들어가게 하면 어떨까요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/233e866e6071aed6bb44f85cd6f8bfa1/5a46d/image-21.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaElEQVR42iWSXU/TUBjHe2dC0BjY1q7nnLbntKftkK1ru746ZCCQgMMQWUgkoENkEOaigMhAhYAzZpEYYmL0wiheeUHCha8Jd/o9/ALGD+FBk1/O1ZPz+/+fPFwvTJZL4e3pioOBp0oFFXkadKlkYoUgpMlyjqDYkEKKfI0NiK7CD7sXRnwrrwicljg3M1ne3WrmEJ/H0CGShYHIJ3iBFwQhkeI7Ojt1wIem6ukkMGleQXubzU/fj+8u3+JcgmwsOpj3Nfa3FOuKhWEyxad4oSuRIBI0sUSE7lCHngr+yYUhp+dqvzdom5yFBFtmYURHES0FkHRSFFIaglhM1a4Uv7RXPzbnRp2eAsWBoTIikxYocbHsq5hjWpuAggqZmcU2FdFEwl5l5NnM6I/na59b9/arE2O24Wkg1KWAokgHsQ7YG2hpLienLRk4p+FhXgEuhn6GvliYOtle/NlePd6cP2zMXs7qHlVCSkJdjQw1PoVGBuWY05ZTOdDlEjHupbFtDQ+NPKnd+FCfOlq/+Xr+2tb4QKSjgLKF/wcxYl2KDchlQWq8VFyam1+u1er1O83NR+sbWxtrD1oLs7uVoaeVcj8rqckBxT6rTUmgq8FpBI2l4Eyh63q59O7NXmtnpb44vbG69OqgtdKoDpd8LyNNDmRNqpgqiagcajDWYKjCUAMRWwEBXEYUZ8Z6v70vH2wP7j/sb1QLjTnv5U7p6+HUydH9t+0rvo3PdycsVYoMwgpHrLZOGMzPOSjZ52QuFV0ra9o5QjDMGMTN4YXqxJ/fv9qtx2c7zrCD6ZHTfaZ00ZD7DKVoyIyIwr8hSJVWUtE+1wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;함꼐 갈 수 없습니다&quot;
        title=&quot;&quot;
        src=&quot;/static/233e866e6071aed6bb44f85cd6f8bfa1/5a46d/image-21.png&quot;
        srcset=&quot;/static/233e866e6071aed6bb44f85cd6f8bfa1/c26ae/image-21.png 158w,
/static/233e866e6071aed6bb44f85cd6f8bfa1/5a46d/image-21.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그럼 4명이 포크 5개를 공유하니, 누군가는 포크를 두 개 집을 수 있습니다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;semaphore room&lt;/code&gt;을 새로 도입하여 이를 구현하면 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;semaphore fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//포크는 여전히 다섯 개&lt;/span&gt;
semaphore room &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//밥 먹는 방에는 4명만 들어오세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;philosopher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;think&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//생각은 방 밖에서 알아서 하세요&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;room&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//밥 먹으러 들어가려면, 4명 꽉찼으면 대기, 자리 있으면 들어가&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;//이제 방에 들어왔음&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//왼쪽 포크가 있으면 포크 집어들기&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//오른쪽 포크가 있으면 포크 집어들기&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;eat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//냠&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//오른쪽 포크 내려놓고&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//왼쪽 포크 내려놓고&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;room&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//방 나간다&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이와 같이, 포크를 집고, 먹고, 포크를 내려놓는 일련의 과정을 &lt;code class=&quot;language-text&quot;&gt;semaphore room = {4]&lt;/code&gt;로 감싸버립니다.&lt;/p&gt;
&lt;h2 id=&quot;monitor로-해결해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#monitor%EB%A1%9C-%ED%95%B4%EA%B2%B0%ED%95%B4%EC%9A%94&quot; aria-label=&quot;monitor로 해결해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Monitor로 해결해요&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;semaphore&lt;/code&gt;말고도 &lt;code class=&quot;language-text&quot;&gt;monitor&lt;/code&gt;라는 강력한 동기화 툴이 있었죠?&lt;br&gt;
이를 이용하여 해결해봅시다&lt;br&gt;
코드 먼저 봅시다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;monitor dining_controller&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
cond ForkReady&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//포크 동기화를 위한 조건변수&lt;/span&gt;
boolean fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//각 포크가 집을 수 있는 상태인가??&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_forks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; pid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; right &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token comment&quot;&gt;/* 왼쪽 포크 집기 */&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cwait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ForkReady&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//왼쪽 포크 없으면 밖에서 기다려!!&lt;/span&gt;
	fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; false&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//왼쪽 포크 있으면 집어들고, false 체크&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;/* 오른쪽 포크 집기 */&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cwait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ForkReady&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//오른쪽 포크 없으면 기다려!!&lt;/span&gt;
	fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; false&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//오른쪽 포크 있으면 집어들고, false 체크&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;release_forks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; pid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; right &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token comment&quot;&gt;/* 왼쪽 포크 내려놓기 */&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ForkReady&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//왼쪽 포크 기다리는 애 없으면 그냥 놓고&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;csignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ForkReady&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//기다리는 애가 있으면 걔 준다&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;/* 오른쪽 포크 내려놓기 */&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ForkReady&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//오른쪽 포크 기다리는 애 없으면 그냥 놓고&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cisngal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ForkReady&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//기다리는 애가 있으면 걔 준다&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* --- 모니터 외부 --- */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; philosopher&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; to &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;think&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;get_forks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;eat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;release_forks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;void get_forks()&lt;/code&gt; : 포크를 무조건 두 개 다 집고, 모니터를 빠져나온다.
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fork[left]==false?&lt;/code&gt; 누군가 왼쪽 포크를 쓰고 있으니, 기다리자.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fork[right]==false?&lt;/code&gt; 누군가 오른쪽 포크를 쓰고 있으니, 기다리자.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;void release_forks()&lt;/code&gt; : 포크를 두 개 다 내려놓고, 모니터를 빠져나온다.
&lt;ul&gt;
&lt;li&gt;내려놓을 포크를 기다리던 애가 없다면, &lt;code class=&quot;language-text&quot;&gt;fork[left]=true&lt;/code&gt;와 같이 그냥 내려놓는다.&lt;/li&gt;
&lt;li&gt;내려놓을 포크를 기다리던 애가 있으면, &lt;code class=&quot;language-text&quot;&gt;csignal&lt;/code&gt;로 포크를 넘겨준다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 하면 &lt;strong&gt;데드락이 발생하지 않는다&lt;/strong&gt;.. 입니다만, 저희 교수님께서 말씀하시길&lt;/p&gt;
&lt;p&gt;왜 그렇죠? 처음에 데드락이 발생할 때도, semaphore로 왼쪽을 잡고, 아니면 기다리고, 그 다음 오른쪽을 잡고, 아니면 기다리고, 의 과정을 거쳤습니다&lt;br&gt;
그런데 여기서도, 왼쪽 포크 있으면 집고, 아니면 기다리고, 오른쪽 포크 있으면 집고, 아니면 기다리고, 의 과정을 거치는게 비슷한 것 같은데요&lt;br&gt;
라고 질문하셨습니다.. 잘 생각보라고 하시네요&lt;/p&gt;
&lt;p&gt;또한&lt;br&gt;
일단.. &quot;monitor는 그 자체로 내부가 Critical Section이다&quot;, &quot;프로세스 혼자서만 들어간다&quot;, 같은 설명은 답이 되지 않을 것 같네요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;void get_forks()&lt;/code&gt;함수를, &lt;code class=&quot;language-text&quot;&gt;void get_left_fork(), void get_right_fork()&lt;/code&gt;와 같이,&lt;br&gt;
왼쪽 포크 따로, 오른쪽 포크 따로 집게 함수를 분리하면 데드락이 발생합니다.&lt;br&gt;
모니터 자체의 특성으로 인해 해결되는 것이 아니라는 뜻입니다&lt;br&gt;
라고 하셨는데&lt;/p&gt;
&lt;p&gt;교수님께서 주신 힌트를 종합해보면, 한 마디로&lt;br&gt;
&lt;strong&gt;포크를 집으려다, 또는 하나 집고, CPU를 뺏겨도, 누군가 내가 집을 포크에 손 대지 못한다&lt;/strong&gt;&lt;br&gt;
정도로 정리할 수 있을 것 같습니다&lt;br&gt;
Monitor에서 &lt;strong&gt;포크를 둘 다 집어야만 모니터를 나온다&lt;/strong&gt;라는 점이 중요한 셈인데&lt;br&gt;
Monitor내에서 time-out당해도, Monitor 내부는 잠겨있어 다른 누군가 포크를 손도 대지 못합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f02bb9d4040baafec6b85094e4f736cc/3684f/image-22.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEAElEQVR42iVS+U9aWRR+v5nUJsYy2hGeZd9BQKECVkEEgfcARQYrglqXtqNxnIw2aeLEpeNMp8mgsjxlB0HABakmk4z/3nzCyc3NXc63nHMv8e9/zYsKk8/lGo3G1dXV9fX1faNppI0d9hdsJamWiSeC5LtNXXhdPbXGHnHzQmH68/bHX9dXPq4tEavvp+dXAodf9rLZ7M3NTblczhWK0053l/LFM+oH6ZBwelYb/lngjXRT8716E2d4WON2jRl1SrlMRPwUmN89+LNcqRSLRYhfVqv5UjkWO/16+Af1OcBa4/71z16KiUZPvh1HjxPxeOw0nmQYq9Xy/Pkzgp60nTHxh/uHy8sqZOv1eq1ardZqV/XrUvmC3nt7nI1/v3u4bTSazeb9/X3ze/Px8dFht3d2dhK0Y6xWR3K9Uinn8/lCoQAXmUwmFovlc/k0k2KSTD6fOzs7q1QqpVIJAnd3d3q9vqOjg1DIpdFo9Pb29uLiAmCYPz8/Zxgmm8nmcrlEIpFKpc5agaZge9kKmUzGYrGISbvlw/tVkOEI3CBGEsDIA1c6kwYdLMARFiDCi+B83PLG5bASnklbMODL5jKoFOIwBsGTkxM4r9VqIAIMpLhq8+Iwk0lvfFheX40QPJKjVsnj8TjAgLXBSMUMfNsz5nQ6jQUqKuTz6ENoOaSUigg+75V6QJlIopjq8fHx0dERZMGFhjGtwCLTCiDBUSoW40ycmnKJuByColyOScf+/j5c4RqwZDIJEbjFFphsKyCOGXZQwsHBnl6v1Q6oiLmgL+D3bf+2A3AMX+D0FGCYRB400TbYaZNii0P0dff3XcrtmvL6CL+XCgaDyyvLeEzooD5kIBv4NgB4bBOtgD56vvPpk2XU6J6wEFqNyu/3Ynz9+xueJJVIZlPpbMttu/mFVjw9WzqNGV94Z3vbZrOZDIOEXC4feTMcnJ0JhUJut9NtsUQ8vik3vbgY8XlpdGRldWVra2vzl03ExsbG4eGXpYWQTqvm9nOIEZNZLuI7nA6KojQD0nGLNRgIGM0mg2GIxyV7elhmk5FCiU63fcJmtZpcLpfDPiqR8EkOm/DyBLa+fqVcopCKNGqFheR7+0VjAqHRoJdJJSSnb8Q07KHdXtrjcjoNOq35td6gVXBfsVVKBREiBUE2f1DMF4t5SoV4tOelr6t3ktVnNZrkcsmTstnon/LN+Gcop0spFsiEpELEk4qFPg9NhIWytyT/NY8vEHKlEoG5t49+SVp+ZGvUarVK2d3dZbWOLS5EFsIL016fXMxTSXlSQb9+SDc3GyS8XPFcv8Cu1Q3qdQqZeJDk0BLJCJ8rkYg0AwNQHrdal5feYfg8HiGfVEmewC6nIxIO/Q9hw/Xg5m7o4QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;취급주의&quot;
        title=&quot;&quot;
        src=&quot;/static/f02bb9d4040baafec6b85094e4f736cc/3684f/image-22.png&quot;
        srcset=&quot;/static/f02bb9d4040baafec6b85094e4f736cc/c26ae/image-22.png 158w,
/static/f02bb9d4040baafec6b85094e4f736cc/3684f/image-22.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 생각해보면, 함수를 둘로 나누어 왼쪽 포크 집는 함수, 오른쪽 포크 집는 함수로 나누면 데드락이 여전히 발생한다는 점이 납득이 갑니다&lt;br&gt;
그렇게 되면 왼쪽 포크를 집은 뒤 Monitor를 나오게 되는데, 이 타이밍에 CPU를 뺏기면, 다른 누군가 포크에 손을 댈 수 있습니다..&lt;br&gt;
결국 &lt;code class=&quot;language-text&quot;&gt;semaphore&lt;/code&gt; 경우와 다를 바가 없어지는 셈이네요&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
이렇게 프로세스 세계의 평화를 지켜냈습니다.. 후&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1b6a742585951ed7d0dfd074d5b16193/7608e/image-23.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.06329113924051%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AHNeNlRCIUhALkxDLVpFG19JJKqikLOrmrGmlZqUjlxcU1BEIEY3GEk5GE1FKz5GQGpeOJN5PoFtPFNIKAB2akEyODc3OTY3OzsxNTBnVSqmiUSfhEWymD+vnDdeWjc3PDtDPCQ+NiNBSEAiKClVTC7Bm0ZtWzEnMTAAPkM3Ky4rLy4xQj49OTs8UlA9pph+moVWv61I28lQqppAHyItOToxR0YzLDQ4LjAxIyojloNTVU84GCAdACw2MCgrJykrL0A/PU9MRUlLQJCHdIpzO7inYsq+g4t9PyIhJ0A4KE1CIycnJi8qJCYiE3l4dFdSSDorEQBALRM5Jg46Jg9DMhk/LhpCMyOJf2aLczyhjWmYhFmNezo+KhNHMRBFLxJHMRNHMBJILg9/eG1nXVBFLhcARjgtRzkrQTMrd2g0rZQtdGQ6nJaSnYlgnYhXrZlNt6+DWlRSPDAhQzQfPTMqOjUxKSMmdHFwYmFhKioxACUnLyEoLyYpLlttb6ahWNzJRbeqZK6jZ8izQMO0U8O4c5eLPT45MD8yHC4uLSYtMQoQHGNkZmVlZQ4SHQAXGR8jLDA/Pz1JXmhLaHuEg0jPuTPHtES8rmbHsz/MtzPYwz6HfUVaV1hFREMrMTYKEB1aXWBxcG4PFSAAMSgRNy0VNiwXNCsTMioSKycgeHNdvLmn0dXezMi0zMBu2cVCkII6YF1aOC8eNS4ZKSELXVlLeXdxMCgRADMtIzIrIjErIDAoHjMqHDMuJl1bWY6OkZmbnqirtp2fo5qYgGlkWVZTTDw0IzMpFyshD3JsYZOQjDQqGQA2Njc6OTs7Ojw4Nzk2NTczNTxqam6qq6uusbSzt7ivsrSxtr53eX5bWldCQUI3NjooJytvbm6Rj4xBQEF/Y9zt8bQnhQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;평화와 치킨을!&quot;
        title=&quot;&quot;
        src=&quot;/static/1b6a742585951ed7d0dfd074d5b16193/f058b/image-23.png&quot;
        srcset=&quot;/static/1b6a742585951ed7d0dfd074d5b16193/c26ae/image-23.png 158w,
/static/1b6a742585951ed7d0dfd074d5b16193/6bdcf/image-23.png 315w,
/static/1b6a742585951ed7d0dfd074d5b16193/f058b/image-23.png 630w,
/static/1b6a742585951ed7d0dfd074d5b16193/7608e/image-23.png 735w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;치킨 먹고싶네요~&lt;/p&gt;</content:encoded></item><item><title><![CDATA[👥 Scheduling을 어떻게 해야 잘 했다고 소문이 날까? - Multiprocessor]]></title><description><![CDATA[저번 시간에 Uniprocessor Scheduling…]]></description><link>https://sungpaks.github.io/multiprocessor-scheduling/</link><guid isPermaLink="false">https://sungpaks.github.io/multiprocessor-scheduling/</guid><pubDate>Sat, 15 Jun 2024 19:58:58 GMT</pubDate><content:encoded>&lt;p&gt;저번 시간에 Uniprocessor Scheduling에 대해 알아봤는데&lt;br&gt;
계산대가 하나일 때 어떻게 계산을 해야 잘 했다고 소문이 날까? 였습니다&lt;/p&gt;
&lt;p&gt;이제 시대가 발전해서&lt;br&gt;
여러 프로세스(또는 쓰레드)가 하나의 메모리를 공유하는 &lt;strong&gt;멀티 프로세서 시스템&lt;/strong&gt;이 매우 흔해졌습니다&lt;br&gt;
마치.. 하나의 카운터에서 점원이 계산해주던 맥도날드에&lt;br&gt;
키오스크가 등장하여 4개의 계산대가 생긴 것 처럼요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 478px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/36ae2df2b1512a4098b3ec3872ae9c7d/50978/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 138.60759493670886%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAHYUlEQVR42h2VWVTTZxrGczMzd3OmKlsWEggkgbAHSAgJhH1TBIJAGBRRQWWNKFIV95nOqJRaxYUCrUrH3Vr3WkdmsVOXY62nah1xqYocizrt9LRTvam/ecnFd87/4n9+53mf5/neT9FW6qC93EV9bgJb1yzi5Q9jnPp4PxpdGGZLKlEJdqLikjEluwiJsRMcHo0mJIwATSjBEQnok7MIk38+PTpElycDhdctwIo0KlxmljfP4uX3Y1z5/Dza0DCM8qM5ySlAK2Z7DoakDEJMsQLU468KJlBnRGO2ERpj5RMBrqjORNFQ5KLZnUd1XjrVhdmM3bvBg5GbGCOifArjbC7ikmxEp7iIsDgJi4xFrdPjF6hikl8gv53kL2pDOP3REEsrRaEn08XShoV0NrVSmOrg0vAZXnz7kGSrlfCoBGKsDmItNmLsWUTaMgQYJ3aIQqWKKQFBvCHQQLWW00c+ZNXvs1HMKcimdWYt3jlzqcgv5MT+Pbz68Tl5ebmotXoiYhOJiIpDL6Nqff6F+xROQPyUwb4TqA3l1OEh1szMEYUZdqqLiqmv8pBvdzDwbje8/hlPVSVKUREdn0SYMRpdpAVVeCxTAoMJEJi/UoP/BFSlE2AYxw7uYUl5GoqKjGSSo+PwuMtJiktgZWc7QqS5eSFBAYGkODMwmhPRxznQRtsljFACJJBJAUomB8jYyhCCJJzjh/awosqFoiYrCXuilZlFBRSkpNDYUCfAn1m/bhVBSiWO7HxiEh2ERKegmQCqJxLWiFKVqJOR1aEoBXj0wG4JJR3F7DwrcUYT3evforPFS2lRHq9f/YeB97ah1GhxZheQ7MgmJCoFgzWbYH2krzL+qgkPtahCTQQEh3PkwB4Wz5CRq3PtxBsMnDh2krNHD5BpS+LH70Y5fuygL02rM5OswulEWhyYrJmiJgKlhBColjCC9eKrmckaPYf27cJb5kRRX5qLLdLEtGwX8zwlRBsNPHlwk8sX/0ZouJE0GTl3agn2zHzCE9PRGWMEKkCNDp3JTIDOgL82nH0fDtJU4kDRXltBWrSBlDgL7qLpxEdEcvVf57h7+xqxCYmUVFZS7/XS3rUcZ3Eluoh4tGFGdOEGtAajeCopC3Tv0ABtbgllWXMDDrOevIxsVnetxpFskwoMMT42QnpGJg3NzQz+ZYg3165ixpx6oqxO38hafbiMrPUVe4pUaGhXP02lAvxT1wrKUiIpTk9lx5YduKeWsnPLRn764QlFxUW0LGmn74MBet/b6VOZkJouIKlKsPRRpeKNKX78boo/u9/vo70yC8XWTd00Flipy06grXYGziQr65Z38Mur51TXVOGprWHHYD8923vJLJqKWm8U/yRh6WigMsh3Jvv5sWtwJ8tqClD09mxm/jQ7cwuTmOGKJVavZknzfBCgp6qcrLxsNvS+S15JsaQe4ts0ap0OlUaNNkQnR0uAMpDBge0srS1C0bdtC+2eAhYWJbKgOAVXXBirOxp5/XIcb9sCucsx5JW6iYqXuxwqJRbfggWUnGojNikBnQAnwIPS2645JSiOfXyQjlklNAuwRZZtriWMtQL85acx1q3uJEirI8Fmx2SOFKAoFHXqYA2pLifpOS7MMWa56+H0C7Bj5lQUF/4xzJsNHlqm22iVy11oNdFaV8n/XtxnZ+9GdGF6oi0W9IYwQuQ7PMLoAxhMBhwZDjlO+SeEzZu7WV4nCq9/cYVVbXOZl59Ao4xcLInXStm/H/uaw/v6xS8NJhlbF6rDFGkkMiqCUH2IeKgkNjGeOEs8BdOm8tGR/eJhMYq7/77JhhXttExLZrE8B3U58VTlpzB2/yrnPzmEUq3CIKAgVRABgX4CDsaSFE/dnNls37GNs+fOMjo2ysNvRmgulwX7cORLtm9YS0uxVcZOYY48Vp5sCyPXhrly4YyYrsOSGEtZaRHr1y7j5InD3B+5xfjTR/z3u6c8G3/Es+dPuCfPRpNbenjr0ik+6O3GK/55S1NpnmajJiuBS+cO883XFxns6+GvZw7xcOQqD+5c5cD+XdTW1pKZlcG1K8N8++QeTx7f9wEby2Vjn9y3nX2DW+iaVUiHO5V2txNPZgynD/Xz7NFXPL5zWcb/gtG7l6msKOFXv/k1k6ZMIiomms+Gj3Nh+BifXzjLXQF6PYUodvf1svf97ayYW0zbdCutZamU2U0cHOhh/OFXjFz/O+fP7OfKZ6codxfgrvCybtMtcvLL+Oe5I4zcuCQqR7h75waLaqQ227rfom/r26xprKRNfFzsTsPjiGCgZ40P+ODmBebX19D951W0NteRlVPL+j+cwmZ3cmhvPy9GbzN6/6Y8vbdYWleKYs2i2WxY7WVDRwOLRGG7LMmqNDM9K9vk5xtcEBWrVy7z3YT6ebNRS11mz5vH1JJy3lrXyfjjWzwdvcvtG9doKJN3uXOBm3fWtrJxRRMLCi00SRdniYd/9Nbx9P6XXL/4KVvf6ZaziaWLW+RJNTO3soIFS+rY0bdVgropu/MGm5a1Mjs3mf8DK1aiOIbIfmEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;키오스크 와장&quot;
        title=&quot;&quot;
        src=&quot;/static/36ae2df2b1512a4098b3ec3872ae9c7d/50978/image.png&quot;
        srcset=&quot;/static/36ae2df2b1512a4098b3ec3872ae9c7d/c26ae/image.png 158w,
/static/36ae2df2b1512a4098b3ec3872ae9c7d/6bdcf/image.png 315w,
/static/36ae2df2b1512a4098b3ec3872ae9c7d/50978/image.png 478w&quot;
        sizes=&quot;(max-width: 478px) 100vw, 478px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 멀티 프로세서 시스템이 되었다면&lt;br&gt;
기존에 프로세서 하나를 상정하고 만들었던 시스템을 그대로 갖다 쓸 수 없는데&lt;br&gt;
다음과 같은 &lt;strong&gt;디자인 이슈&lt;/strong&gt;들이 생겼기 때문입니다&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;각 프로세서들에게 &lt;strong&gt;프로세스를 어떻게 할당&lt;/strong&gt;할까?
&lt;ul&gt;
&lt;li&gt;Global Queue : 각 프로세서들은 새로 실행할 프로세스(또는 쓰레드)를 Global Queue에서 알아서 꺼낸다.&lt;/li&gt;
&lt;li&gt;각 프로세서마다 개별적인 Ready Queue 사용 : 각 프로세서들은 본인들의 Ready Queue에 주어진 일만 한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;실행중이던 프로세스가 BLOCK되면, 스위칭(다른 프로세스로 갈아끼우기)할까? (= &lt;strong&gt;멀티프로그래밍&lt;/strong&gt;을 적용해야 하나?)
&lt;ul&gt;
&lt;li&gt;동기화가 자주 일어나지 않는 경우 : BLOCK되는 것은 보통 I/O작업일 것이니, 스위칭하는게 좋을 듯.&lt;/li&gt;
&lt;li&gt;동기화가 자주 일어나는 경우 : 다른 프로세스로부터의 message를 기다리느라 BLOCK되었을 가능성이 높다.. =&gt; 기다리는 프로세스가 옆에서 실제로 실행중이므로, 스위칭하지 않는 것이 좋을 듯..&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;프로그램 &lt;strong&gt;실행 순서&lt;/strong&gt;를 어떻게 할까?
&lt;ul&gt;
&lt;li&gt;이전에 했던, FCFS, RR, ... 등등의 방법들 중 뭐 쓰는게 좋은가?&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;그런데 사실.. 가장 중요한 것 같이 보였던 1번과 3번 이슈는 사실 별거 아니었습니다&lt;/p&gt;
&lt;p&gt;1번의 경우, Global Queue 방법은 여러 프로세서들이 동시에 집어가지 못하게 Critical Section으로 구현해야 한다는 점이 단점이 될 수 있겠지만&lt;br&gt;
그렇다고 개별 Ready Queue를 사용하면, 누구는 빨리 끝내고 놀고, 누구는 죽어라 일하는 &lt;strong&gt;idle-while-busy&lt;/strong&gt; 문제가 발생합니다.&lt;br&gt;
마치 두 계산대 앞에 줄을 설 때, 각 계산대에 줄을 서느냐, 한 줄 서기를 하느냐, 인데&lt;br&gt;
두 계산대가 합심해서 빨리 계산을 끝내려면 한 줄 서기를 하는게 좋겠죠?&lt;br&gt;
그래서 &lt;strong&gt;Global Queue&lt;/strong&gt;로 사용하자, 라는 결론이 났습니다&lt;/p&gt;
&lt;p&gt;3번의 경우, 사실은 더이상 &lt;strong&gt;순서가 중요하지 않게 됐습니다&lt;/strong&gt;&lt;br&gt;
계산대가 하나면, 전체 Response Time을 줄이기 위해서는 젤리 하나 사는 사람은 먼저 보내고&lt;br&gt;
계산이 오래 걸릴 사람은 비교적 나중에 계산해야 효과적이었는데&lt;br&gt;
이제 계산대가 여러 개 있으니 순서가 큰 의미가 없어졌다는 뜻입니다&lt;/p&gt;
&lt;p&gt;그런데 이제 2번이 문제입니다&lt;br&gt;
멀티 프로세서 시스템이라고 해도, 그 프로세서 개수가 2개일 수도, 100개일 수도 있습니다&lt;br&gt;
또한 동기화를 매우 자주 수행할 수도, 또는 동기화를 아예 수행하지 않을 수도 있습니다&lt;br&gt;
이에 따라, 스위칭을 해야 할지, 말아야 할지가 명확하게 결론이 나지 못합니다..&lt;/p&gt;
&lt;p&gt;아무튼 이러한 디자인 이슈들을 생각하며 이제 Thread Scheduling에 대해 알아봅시다&lt;/p&gt;
&lt;h1 id=&quot;thread-scheduling&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#thread-scheduling&quot; aria-label=&quot;thread scheduling permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Thread Scheduling&lt;/h1&gt;
&lt;p&gt;위에서도 언급한 바와 같이, &lt;strong&gt;프로세서의 개수&lt;/strong&gt;와 &lt;strong&gt;동기화 수준&lt;/strong&gt;에 따라 스케줄링 방법이 달리 적용되어야 하겠습니다&lt;/p&gt;
&lt;h2 id=&quot;load-sharing&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#load-sharing&quot; aria-label=&quot;load sharing permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Load Sharing&lt;/h2&gt;
&lt;p&gt;개별 스레드 단위로 줄을 세웁니다.&lt;br&gt;
그냥 일거리를 쌓아 두고, 알아서 가져다 작업하듯이요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8456c190e94298f99e4d6708ad11aec6/6af66/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVR42gEZA+b8AEZFQFhWTm1nW3hwZIR8b5iLfqiYjbakmrmlmcazpa+Tg3dfSnlvXoB1aoxbTq9jWJmBfvjh3/b4+v///wA+OzZHRD5cWE1wamCFenCbjoKpmozArJ/Qva/EqpqCbVt1aFqWcmTFf3T+xsDl09C1rKbLyMOzoJXWxr0APzk0SkM7VlBJbWhifnRrl4l+tKWZxrSnwqyckXttnIN1wJqQ9s7H9unjz8vEo5KEeFxMTTkybVZLnYJxADs8OENGQnNwZnlzan94bpaKfqaYjMa2p7OnmMCwpcCgkragk7Oklp6Gc1NDP0Q3ND8xLFZEOkQ7O0o+OgCHcGademiBfXR4d3XAuLPYzcTd08jbzMW3oJCehWl4W0KXdleMaEiEaFFnUz99YkmIaU5mSzNWPiZOPSwAro166J97sZV6koqCkIaAkYiAj4iBpZp4i2lIl3FMq4JTsY1qcmRdYVNIcFtIbVdCaE81XU4/Zk8xZU84AGF2illhbbaEZY1yYYBVYUs8PVBWTYZ+VrORZrSOYaRyRoBfREJJXXdlVWVPPlA9MDopHVxGMX5jQVJHPgAyNkRKUVSFZlBxXlFMMFxoVmJKVVWGcFSwiV+AYESEYEuNbFVcVVmjhnCFYEVINzBUQCuBYEJuUDJeSjQASVNTM0A1KTw2Ljo9VE1JeG5hXWFqWFFTqIVoj25Tim1UhmpXjG9Ph2FDVzsoOjg4WFZZNC8wZk84k3xgAIZ0X0lVUTRETyUqJENHOU1NSkBLXJJ5XG1TPU8/MVxGLUwxFX9gOYJuWF5PQnNhTmRYTk5BNn9kQ3ddPACcgn9HT1spKycdKCAmKiRKSUZFUmdQS0gzOEQpNUsrKjA1KyNRPixZWV99fIJvZl1OPClUQi+Ld2JeSDMAJjlPHCAfGSAaHSUfGyIiLzU6PkpiM0NcN0RbOURbN0JWLTVJKygrRUNIXFpfU1FXIh8gXUgzclhAMycfADUdGRMdGUpGPT89OBQfISkyOTU+UzU/UzI8Ty04Sz5DU1JRXiArQTE2R01MUyopLEw/MUs6KjorITIpIfqxNkrV8arpAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;상하차&quot;
        title=&quot;&quot;
        src=&quot;/static/8456c190e94298f99e4d6708ad11aec6/f058b/image-1.png&quot;
        srcset=&quot;/static/8456c190e94298f99e4d6708ad11aec6/c26ae/image-1.png 158w,
/static/8456c190e94298f99e4d6708ad11aec6/6bdcf/image-1.png 315w,
/static/8456c190e94298f99e4d6708ad11aec6/f058b/image-1.png 630w,
/static/8456c190e94298f99e4d6708ad11aec6/6af66/image-1.png 640w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;모든 프로세서에 대해 부하가 분산됩니다.&lt;/li&gt;
&lt;li&gt;No idle-while-busy : 모두가 똑같이 일하게 됩니다.&lt;/li&gt;
&lt;li&gt;중앙에서 관리하는 스케줄러는 필요 없이, 각 프로세서마다 알아서 Global Queue에서 일감을 가져가면 됩니다.&lt;/li&gt;
&lt;li&gt;Global Queue에는 (당연히도) Mutual Exclusion이 지켜져야 하고, 이에 따라 성능의 bottle-neck이 발생할 수 있습니다.&lt;/li&gt;
&lt;li&gt;또한, 스레드들이 이 프로세서, 저 프로세서를 왔다갔다 하므로, 캐시를 효율적으로 사용하지 못할 수 있습니다.&lt;/li&gt;
&lt;li&gt;간단한 방법이기도 하고, CPU가 몇 개 없는 시스템에서는 그나마 합리적인 방법이기에 자주 쓰입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;gang-scheduling&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#gang-scheduling&quot; aria-label=&quot;gang scheduling permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Gang Scheduling&lt;/h2&gt;
&lt;p&gt;어플리케이션 단위로 줄을 서서, 어플리케이션 내 모든 스레드들이 동시에 함께 작업하도록 합니다.&lt;br&gt;
롤하면서 큐 돌릴 때, 친구들이랑 같이 할거면 5인큐로 한꺼번에 줄 서듯이 말입니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 318px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bb16f32575c6f45e59dbb3da972b95f4/cd2d9/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACbUlEQVR42gFiAp39AFR1olp1knqYuEdxoztroyAxSyBCcTdjnlaGwmKW02Sb12Ga3VSFvkRddzJSdTVSbzJNajRWfGNza3mIWQA5W5FffaRTXG8pHRdaP0CQZWuCa4RhbYkoNUY4ZJxDjuRMleJJgslAU2guOUIwPEhPXl5TZmB3hFtZZzgAHzNUODI2VEdFUkE8Z1FOhmtjTCEfQSIkJQoJCwkJNVeBXI3DS4rVMVJ0HCIlLDg0UF4+SlQ0T1stQk8rABMqUDUuLEhHUisfH2FVTWxgWBoZGBILDSkUFwUAATg0LkpGRVV+sUpkhgEAADI7KzpELkpSPo2QelhiQgBHYoyip7B2fIwgGRtJPTZhV1EdEhERBwgODAwKDA0OGBgSHiW+vcPp5+W1uLfZ3NrZ2tfQ09Lv7/Pk5uMAeYymmKe6i5SjYWh0WVhbXU9GMzIyGBkaCQsKDxEQDhQXCQwZZVlg5OTj3uLo0dfe7/Dw3ODkytLX6ezuAHmNqJmovJ+ru5eisn12dXJpZXZ4gG1yemBkZ0dKTTw9P0xCO2NVTIN9e6mttLrDztrd37bAy77H0tre4gB+kq6aqsCQlaFybGqDf32SnqiMl6KSnamcq7iAkqF+jZlzdnhpZmFmYFxfXVuHj5TN1t26xtSyvcy8x9IAhZiznq/Hg4KLin+A3r7CyLC5yq2y0LS6wJmJyX9cvZJ/uJWCxG5IrnNRo2dEoWA4l4Byd4KOpLC/sL3MAIibtp2uxKu+0Ky5yMvEzMK7xbyyu8G7x8ehjsiUc7SqqbmsqcCPeqyYja+bjKJ8Wk49Lh8mMqCsu666ybwTFxROv3HNAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;죽어도 다같이 죽어&quot;
        title=&quot;&quot;
        src=&quot;/static/bb16f32575c6f45e59dbb3da972b95f4/cd2d9/image-2.png&quot;
        srcset=&quot;/static/bb16f32575c6f45e59dbb3da972b95f4/c26ae/image-2.png 158w,
/static/bb16f32575c6f45e59dbb3da972b95f4/6bdcf/image-2.png 315w,
/static/bb16f32575c6f45e59dbb3da972b95f4/cd2d9/image-2.png 318w&quot;
        sizes=&quot;(max-width: 318px) 100vw, 318px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;어떤 어플리케이션 실행에 n개의 스레드가 필요하면, n개의 CPU를 할당해줍니다.&lt;/li&gt;
&lt;li&gt;이제 어플리케이션의 모든 스레드를 다 같이 실행하고, time-out되면 다 같이 나갑니다.&lt;/li&gt;
&lt;li&gt;같은 어플리케이션의 스레드들이 전부 같이 실행중이므로, 동기화로 인해 다른 스레드의 메시지를 기다리느라 block되어도 스위칭하지 않고 기다리면 됩니다.&lt;/li&gt;
&lt;li&gt;어플리케이션 단위로는 Time Sharing으로 실행합니다. (= Round-Robin으로 번갈아 실행)&lt;/li&gt;
&lt;li&gt;이러려면 어플리케이션의 스레드를 모두 한 번에 끼울 만큼의 프로세서를 가지고 있어야겠죠?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그런데, 어떤 그룹(어플리케이션)은 스레드를 한 10개 가지고 있고,&lt;br&gt;
어떤 그룹은 스레드를 단 한 개 가지고 있을 수 있습니다&lt;br&gt;
그런 경우, 만약 프로세서가 10개인 시스템이라면, 스레드가 9개 이하인 그룹이랑 스레드가 하나인 그룹이랑 같이 실행하면 안 될까요?&lt;/p&gt;
&lt;p&gt;네.. 그렇게 실행하지는 않습니다. 대신, 남은 프로세서들이 노는 시간을 줄이기 위해,&lt;br&gt;
아래와 같이 &quot;스레드의 수에 따른 가중치&quot;를 두어 실행 시간에 차이를 두는 방법을 쓰는 방법이 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 549px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/16fd521badbce4021d51c3d15dd58c6a/928ea/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.24050632911392%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABG0lEQVR42m1R2WqDUBT0/3/DvxAU0SD64G5BJa5pLAb3lZioHZWmgXYeDtdzZ+Yc5xLrD/q+v1wunzuez+f6B3Vdh2GYZRlqmqboEMfFMAy2bXueV1WVZVm+70/T9K58PB5d153PZ9M0y7LEwXXdTQwbRVE0TTMMQ1XVjx08z4/jeCjhCA2a8AUNB1SKojZxkiS6rmOs4zhYCWvfbjdJkpqmOcR5nsMX07wdmAnmrxjGURTh4mtHURTwfonxiZnwBQc1CAIY0TS9ia/XqyAIHMexLIuBoijKsoy7tm1fk9Hhd5xOJzAZhiFJkkDC9/sdGUJ2LH/8eRzHy7K8AsMWSBQEWB+xgU+8M5A5ssGS/z4VgCdA1ODM87yu6zez0a8mMQbbkgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;weight&quot;
        title=&quot;&quot;
        src=&quot;/static/16fd521badbce4021d51c3d15dd58c6a/928ea/image-3.png&quot;
        srcset=&quot;/static/16fd521badbce4021d51c3d15dd58c6a/c26ae/image-3.png 158w,
/static/16fd521badbce4021d51c3d15dd58c6a/6bdcf/image-3.png 315w,
/static/16fd521badbce4021d51c3d15dd58c6a/928ea/image-3.png 549w&quot;
        sizes=&quot;(max-width: 549px) 100vw, 549px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;쪽수로 협박하다니&lt;br&gt;
완전히 갱갱갱이네요. 스껄&lt;/p&gt;
&lt;h2 id=&quot;dedicated-processor-assignment&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#dedicated-processor-assignment&quot; aria-label=&quot;dedicated processor assignment permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dedicated Processor Assignment&lt;/h2&gt;
&lt;p&gt;Gang Scheduling에서 한 발 더 나아가서, 아예 어플리케이션 단위로 갈아 끼우지도 않습니다.&lt;br&gt;
계산대가 매우 많으면 줄을 어떻게 세우는지는 하등 상관없이, 그냥 손님들 오는 대로 계산을 해주면 되겠죠?
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 314px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e4d882a8d276558703db2716d9398829/5b158/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.31645569620254%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEKElEQVR42iWSa0wTVhiG+2v7sTgXXXTDuKnbNGpclmUZW7IYE7c5dUbQAtKyllttQWi5j3UQFaQgN0WpBVtEdIjlIq3A8Ip0UVEQlTmgVEAFL1NxOEAuVXx2YD+efMk5yXee9/uOpKR5gKPXnlJ88R5FF/spaX7G4StPKWkZpPBMOxaTkXqbFYvFzD6jkdzcbIqLD/Fb030sTf9gufQY8+Un01gEElvnKH84HFQcNmOuv4n9LlQ5J6nuhsvX2nDUWLFVHaPIXMAR8wFKS8zk780ip+AI1vZxjre/Ergp++vlNJLqjlFqbz6iprWfE+0vqHS+EhduHH0vudHk4EBuJqV5BvbGhZOrVZEnqiVjO6a9GVgvujjeOUnZrVGO3RqfRnKia5JKF1QIpppVdU5QJl682jNAeZGRjMQ4omV+RAfIydSFka0NI1UdRGGanuqWO5Q7X1MuTK0dbmE6gcTueoXd9RJb1//YnRNUi7PGP+9w4pCRJI2KWKWCeKWM3CgNuTHbiAlUkBqjo/LGYyqnhETKys4xKoSM5PfuCeq63dTdnqDGNU6tawybqM2uB1QX5aGVbSE1XEW6RkGaJhiDJpDtwf6kx0djvdo/LTE1quqOMabGJzndPUr97VHqXCPUdY1Q6xwSxuNc7ejFbPgVra83pgQdxrhIfgmUk6XVUBAfQY4+AWtzP7VCxNbxApswtDvHkFzoc3OhfwLHg0ka7k/iePiaM3fdnDrfSHaiDr2/FwUiZl7kVlKUfuyJUGEWDfenbKfi+iORTCxViNR0veCkQGK/fh9bax9HG9ooP3uFvKLj7EjbQ2J8IjI/OdH+PpjiwkhXy0gJlJIcsJHMrTLMhRYu/A2nesZEsuHphLUCySeLv2DZ8q94b+7HrFm9lmC5kiBFKBEyBckhIeSkpYnthpL/8yaKd8kxJYsHkgLZlWVCb8in9Nx1zt1zU+8aFqMbRrJk8Qo+/8yTT1d48sOaDSjlQURFRJOcoCcmdCvqLVIMKl92R3zPwR3rKdu9mYykMKQ+StavXMXBitM0PpzkzO0hzvYIw1mz5iOTBbEr1cCmjVJCfgomPERNbHgkakUgb7w5g6+XLUbntYp035VkqzYS5CNjw3frScvcR0PPc873DtFwZ5izvaLhzLfn4COVkZ9vQurth4/3ZuIjo9GKhvtTszio3UlGgI6TsSm06XOoit1BkjqcuFANO42ltDwap6lviEvdT2m5+wzJvPcX8NGipXh+uZKFC5bgt3YtCl8ZigAlRwz74Eovg+daeWK/zHijkwOqKGI0arJ1UXgu9eRb7220trUz8vwZ/w48RjJ3znzene3B7FkeYjEfsMjjQ+Z5LGTGzDms+2Y1Uf4K5Ou8xPeRsz9ShV7qI/5kAjkJCYRt8OKtd5az7sdgBp88ZGRwgP8Ae5lCyLU8ylEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;통째로&quot;
        title=&quot;&quot;
        src=&quot;/static/e4d882a8d276558703db2716d9398829/5b158/image-5.png&quot;
        srcset=&quot;/static/e4d882a8d276558703db2716d9398829/c26ae/image-5.png 158w,
/static/e4d882a8d276558703db2716d9398829/5b158/image-5.png 314w&quot;
        sizes=&quot;(max-width: 314px) 100vw, 314px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;어플리케이션이 필요한 스레드만큼 고대~로 프로세서를 할당해줍니다.&lt;br&gt;
당연히 프로세서가 매우 많아야 하겠죠?&lt;br&gt;
돈이 최고야&lt;/p&gt;
&lt;h2 id=&quot;dynamic-scheduling&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#dynamic-scheduling&quot; aria-label=&quot;dynamic scheduling permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dynamic Scheduling&lt;/h2&gt;
&lt;p&gt;사실은.. 어플리케이션들이 얼마나 스레드를 요구할지 알기가 어렵습니다.&lt;br&gt;
100개정도면 나 프로세서 부자겠지?! 싶어서 Gang Scheduling을 하기로 해도,&lt;br&gt;
120개 스레드를 필요로 하는 어플리케이션이 나타날 수도 있고요
그러니.. 가능한 한 스케줄링을 해주기로 합니다.&lt;/p&gt;
&lt;p&gt;만약 어떤 어플리케이션이 CPU를 10개 필요로 하면..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CPU 10개 이상 남아있으면? 그냥 주자.&lt;/li&gt;
&lt;li&gt;CPU 2개밖에 없으면? 2개 주자.&lt;/li&gt;
&lt;li&gt;남은 CPU가 없으면? 프로세서 많이 쓰고 있는 애들한테서 뺏어오자.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;대충 이런 식이라고 생각하면 되겠습니다&lt;/p&gt;
&lt;h1 id=&quot;real-time-scheduling&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#real-time-scheduling&quot; aria-label=&quot;real time scheduling permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Real-Time Scheduling&lt;/h1&gt;
&lt;p&gt;평화로운 음식점에 &lt;del&gt;개진상&lt;/del&gt; 예민한 사람이 들어와서는&lt;br&gt;
5분 안에 음식 주세요 빨리요!! 라고 하고
그러고는 5분 01초만 지나도 음식 안 먹고 냅다 뛰쳐나가는.. 그런 사람이 있다고 칩시다&lt;/p&gt;
&lt;p&gt;컴퓨터의 Task 중에는 이렇게 &lt;strong&gt;Deadline&lt;/strong&gt;이 정해져 있고 이걸 지켜야 하는 경우가 있는데&lt;br&gt;
이를 &lt;strong&gt;Real-Time Task&lt;/strong&gt;라고 합니다.&lt;br&gt;
이 Real-Time Task는 경중에 따라&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Hard Real-Time Task : 아아공습경보공습경보진짜진짜무조건지켜야하고이거안지키면시스템에치명적이고진짜큰일나고무조건데드라인을지켜줘야만하며안그러면큰일납니다꼭지켜야하는리얼타임태스크가따로없습니다&lt;/li&gt;
&lt;li&gt;Soft Real-Time Task : 데드라인 못 지켜도 뭐.. 어쩔 수 없긴 하죠.. 그렇다고 데드라인 넘겨서 task를 완료하는건 무효입니다?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 251px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6b6fbcaf4ff0ea74e2bdb54470205b1a/26abe/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 80.37974683544303%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAADoElEQVR42j3S/U8TBxgH8PvdP2BGcYUEEdbMiAN1I7Frh3Qtba+9t17vrr229P3a6/X9/b1DWri2FAs4NRDKOkGpYYTNJaIoiHEvyX5YsmQ/Llnmsn9iV12WPD88v3zyffI8D9Bq1RL5KpOopEoLgdgXCq1bg3hBjNXhQcgQQsjI24qipgRBR3HSh1McRUcRQzAQyAFP98qVhWoo2yhVmrFURalj1IhPi3H/YSICk2Gcjpspt+pTySfjYzKJVPW5UqkEg4E4ABJe0MCqMQYhGC3qVGgFzGpQTqsP9DwRxo1hRK0fF18UDw59OPyBeET80ejY1fExaHoaQOkgQgcgisNpDsGZHoZ9gn8XjlBhGDSODoth2fU5F45MSkSiweGhkZELwyNDwwBCc5AxqCWDqCkAYR4F6Olh2AeiwvAsSkWkUjWnVz9fSu/PRyzqyfOi/r6z5/rOifrfFwGIScB+kGQRoxfCXArQpYaFcKaHUZ8a9Tus/pfL+aOlWDtpX3Bhsw546srF06fPDIj632KK1RBemPLoUIcCdKogIZwRdq7DfFNaZrV8881O/VHR/cvabLfkXQ5RHCa7MDBw9kxfb2zEyIIGBulhu1xjV0Hu/7Fc563EkgfV8KqfeFzlbkfIihvlXTrw2qXLl8cA2MypjCGFgVUR3mnI+ZnKJZz6XTiIehWQN8EmOiHXLYb8OmdfiZB11lBz68fPD6IwBkAUkzSCfhycoybrhutW5AaoBzUwK0gdxspBhjSn22n/IqPnWTRHK+L6Sd3Ho6dOvceyIcDqiT20Texzyh8jkieBGy69XKpUyuTmqekZqdx6VWK5IrObCOecR/i7a3GTqpX1t3h+s711fHgI7HV3v9/M7t6xbjTNGzWkENY2aqudzc76WjuVmXd4ChgRqlTuvP5u+/CbrZ9PXh48ebq1vcPzy/5QEahWm2sFU8V2qWybKFom+Ai5WKvx1fp2p/PTq6O///zjnzd//f7br9/u762u3A1EymZnArfGcEuCcGQB1MCutFb4+Wqz2eAbjXQuU1+83d19/Prk1Q9Hxzv3HyxUb7HeVDaVyWZKmDVh8hTMnryZyZvcOUChdvB8vb1x78H99vrdpbUvW3vd7lcbnWx6zuaIo2QAo6J6Y6SYK86Wq4Q9aXRlKWeG9uSFBjh49uL5s4OT4xeb6+vl/E3OnyWMQQjjYCKK02lqJm+aKRB0rFwolYsVzBI22GKkI4k7Urgj/S9Ox5KJ0qqWzQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;빨리하지&quot;
        title=&quot;&quot;
        src=&quot;/static/6b6fbcaf4ff0ea74e2bdb54470205b1a/26abe/image-6.png&quot;
        srcset=&quot;/static/6b6fbcaf4ff0ea74e2bdb54470205b1a/c26ae/image-6.png 158w,
/static/6b6fbcaf4ff0ea74e2bdb54470205b1a/26abe/image-6.png 251w&quot;
        sizes=&quot;(max-width: 251px) 100vw, 251px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;또한 어떤 Real-Time Task는 주기가 있어서(periodic task), 미리 주기와 데드라인, 실행 시간 등예고되어 있으므로 마감을 맞추기 용이한 반면&lt;br&gt;
어떤 Real-Time Task는 주기도 없이 그냥 갑자기 불쑥 나타나서(aperiodic task), 갑작스러운 이벤트라 마감을 맞춰주기가 까다로운 경우도 있습니다&lt;/p&gt;
&lt;p&gt;이런 친구들이 있으니 가급적이면 많은 Real-Time Task들의 Deadline을 맞출 수 있게 노력을 해야겠습니다&lt;/p&gt;
&lt;h2 id=&quot;earliest-deadline-scheduling&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#earliest-deadline-scheduling&quot; aria-label=&quot;earliest deadline scheduling permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Earliest-deadline Scheduling&lt;/h2&gt;
&lt;p&gt;가장 생각하기 쉬운 것은, 데드라인이 가장 임박한 task들부터 처리하는 것입니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/13414222af56003ca321afff00a42e48/5a46d/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnUlEQVR42g3N+0sTAQDA8fu534R+iH6SyiJ6CCrMwk1tOnMPb/fYvXabt91u293ttra5l9vc69zddpXvJAKzh6QZlhCZFkkWEiSF0F8g/RBI/d4vrcHnxy98ATklVNPhR7PJN89rM+WYlhW1jFBPBevJwD1lQq1OGQwmuaIdHR3vfTpYXdtc0BQl7p0QyTiDAnKMlSO+1Tnp49bMvJJU46w65qtGmdsJr61f39GpN/QPOxn+2dP1vd39+w8ew4jzboGdL1JZ3gVE3ciY25F0IzHSmnGjWS+R9eLjHrTIkZfPtp07c0mTxrbz8vuCshFO3NDpT51uHbUa5QCR8qBAykdkWDznc2S8SGYUTtH2BD0Sd46kXVBP+5WIFV3GRndoZgNzrWJO8NLVEy0n8YGeGGHhkUEgxzkKHCYLVFkgZZFqKgtEWaSKAql5qHes+AJjPoTTyyboCYiaWy8Y2s7nfUieQzM+CMhzeFNFoEo8WQ4SMk9O8kRVJEoCtnLL/xl373uiX93R76j3hyuwMQgugLZCEC344BxrBwrBZkeqEaciOdUwXZUoRSKrIlWRqDmB3vVwL5HwWh/9xU5v34Rr1/Qahxd4ohRsLlFgwu8oB1BVxKpBtMRB9RCuhvCa6FBFvMbBbwP+Qy6+YyVfD8OvIFKRhIpAlFioyNqzjA2IUZYkZc64LQnQKHd1p3t1sr0rjV2vhEzjcePsIrRCgltWbH0A/La01Gg0HtbLIYsu4RiKIANAgrJmXWCZhWTYPHmxI9TdPot0TjK9y5qZYXWi2jvlgDf7HAfVO43Gv18/jyWjlIXsMmtOEUNAgjbnmJEKB6osVBsFa3674rNOR2ARJcKB9OK0sg5Rh+Hxv7//NLcFTjO02MiOdNjGZ2nTfw0ZHsgDDVymAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;한계임박&quot;
        title=&quot;&quot;
        src=&quot;/static/13414222af56003ca321afff00a42e48/5a46d/image-7.png&quot;
        srcset=&quot;/static/13414222af56003ca321afff00a42e48/c26ae/image-7.png 158w,
/static/13414222af56003ca321afff00a42e48/5a46d/image-7.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;preemptive : 데드라인을 우선순위로 두고, 더 우선순위가 높은 Task가 등장하면 중단하여 해당 Task를 먼저 실행시킵니다.&lt;/li&gt;
&lt;li&gt;데드라인을 놓치는 상황이 물론 발생할 수 있지만, 데드라인을 지키는 비율 자체는 가장 최적의 방법&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그런데.. 데드라인만 중요한게 아니라, &lt;strong&gt;Task의 중요도&lt;/strong&gt;또한 중요할 것 같은데요&lt;br&gt;
아까 살펴봤듯이 Hard Real-Time Task같은, 반드시 데드라인을 맞춰야 하는 Task가 있다면 먼저 좀 해주는게 좋을 것 같습니다&lt;/p&gt;
&lt;h2 id=&quot;rate-monotonic-schduling&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#rate-monotonic-schduling&quot; aria-label=&quot;rate monotonic schduling permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rate Monotonic Schduling&lt;/h2&gt;
&lt;p&gt;그럼 어떤 Task가 얼마나 중요한지 어떻게 알 수 있을까요?&lt;br&gt;
한 가지 합리적인 생각은 &lt;strong&gt;주기가 짧은&lt;/strong&gt; Task들이 중요하다고 생각하는 방법입니다&lt;br&gt;
그래서 단골 Task들을 더 먼저 처리해주기로 합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/081805bf67eb22e278004f46b3b8b38e/5f4af/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 76.58227848101265%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACNklEQVR42o1TbU7bQBD1GXuIqhJ34A69Rn9VqlSQgmgIJaFpYiCB0Hw4mBASf8Rre43t+PN1diEuqBEw0tN6xzNv38zOKkWRIo3nME0D3/dq2N8/BGMehJVl+W4URSGhOOYMe58/ol77ht3dHex8+oDT5leiixEEIbIse5NMWBiGiOMYShKFGB0dIn5wye2QrAWyZIp1bFeE71FbKWSMYTAcQpveYDjUMJnouBqM0O9fwvd96LoOVVUh4oSJpNeIlSxLYRoGbMuCbVvg3EdE8kUJSZJgvV6Tj8vv9/RSyelEY2lgOp1iomkyeVPia1Y+Q+UThGmaYL64wzpZI01CUvQgEUVcIgz9ChtfFAWIo4cKURjQfw5RrcJchoPaFzDPwXKuo1E/wFn3F8zlDMZiBu7aEq5jgq2MCu4ziL1jL+VBSpbnMLmHLE8lwZ9BD9dXF9DG19BvxhKT0QDL+1t4zJLE2yBII1KrbHpVlgVu9TE67Sa6nVN02y2ck9Lu016oD0ipT8neW4SPo1Dgbqahd97BZV9F/6KLQf9MKl4Zc0TcBWe2hL9F6QtCITLPM7gUKIPppy8SHQueTf2xFliZi6p/ol9vEJZPCqdUXgutk7ost3/eRfP4By7UNlQqu3VyJC/ssqf+R7qVcH6r4ZhuWfSvp/5Gu9mgd91A62cds5sJGKllFhHR6q3MF6hu+d9bzMG9FY3LHSzzXgbYYl0taT8HcwwE3EHgP4LTmPHNSnmeZ9P8hvgL8vJqBNFnF9cAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;단골&quot;
        title=&quot;&quot;
        src=&quot;/static/081805bf67eb22e278004f46b3b8b38e/f058b/image-8.png&quot;
        srcset=&quot;/static/081805bf67eb22e278004f46b3b8b38e/c26ae/image-8.png 158w,
/static/081805bf67eb22e278004f46b3b8b38e/6bdcf/image-8.png 315w,
/static/081805bf67eb22e278004f46b3b8b38e/f058b/image-8.png 630w,
/static/081805bf67eb22e278004f46b3b8b38e/5f4af/image-8.png 665w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Preemptive : 더 단골(주기가 짧은)인 Task가 들어오면, 그 Task를 먼저 실행합니다&lt;/li&gt;
&lt;li&gt;데드라인을 Earliest Deadline보다는 자주 놓치지만, 많은 시스템이 이 방식을 선호합니다&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;priority-inversion&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#priority-inversion&quot; aria-label=&quot;priority inversion permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Priority Inversion&lt;/h3&gt;
&lt;p&gt;어라 근데 이런 상황을 가정해봅시다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 387px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/beec1fb99c524cf295afa5da400968c1/691c3/image-9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.0126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4klEQVR42n2TW2/aQBCF/f+fm5f0B6RS+hxIUsgDoTENKAGlCMu3+hIMIrbD1QYM6eddZLkQ9TysZmd3Zs6c2VU+TjCbzd7jHKvV6uO/UI72WZb1+/324+PvlxfbsrbbLc79fs9KLkPXozAsPMfB0pskCfWLbQEYlT0Km91uR8HNZsOapmmn07m/b3qex/F6vd4IYLB9fnq6vblR1ZamaXnwOk0nk0kQBIZh2Lat6zqRDw9qt9t1XRfPHwEMx3F+NpvVSrXV+qWqKhmVU27lFsr4RDCoQmmxWCDvO4jjMIqm0ym0K5VqvX5Xq92JtV77UQtDDiMxiphAhcjwLQe3XwWGw+FoNIKkYZiu61mWbRqmaVraQBsFAUfyGoHHaiOB6zjcpXhOJ4pQXh6hJQVxFi0cekZwknlurrBMj4GkvV4vWSVyHMvl0nNdOO4EiDpURrrxeGxZFjVjMUz0l6MuFKUmov8jGDzxDgaDy8vv19e3Z1/OGo0GWb6en7fb7Vffl9MaBkHl6urbxQXSOAJ0katNV+FbLiMPEOZQQHXimT+qwJbsHIm+ciwFYH6gLdvA4DHLfkiKQXwhmLyTbbNPPkb5PchIDOjN53MZefpOlNN3A2dahTa9QtX3PN/3iyzlj/EX7jmEnVqQn30AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;우선순위 역전 &quot;
        title=&quot;&quot;
        src=&quot;/static/beec1fb99c524cf295afa5da400968c1/691c3/image-9.png&quot;
        srcset=&quot;/static/beec1fb99c524cf295afa5da400968c1/c26ae/image-9.png 158w,
/static/beec1fb99c524cf295afa5da400968c1/6bdcf/image-9.png 315w,
/static/beec1fb99c524cf295afa5da400968c1/691c3/image-9.png 387w&quot;
        sizes=&quot;(max-width: 387px) 100vw, 387px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;우선순위(주기가 짧은 순서)는 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;&gt;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;&gt;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1 &gt; T_2 &gt; T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 순이고&lt;br&gt;
&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;과 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는 서로 자원 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;s&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4306em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 가지고 경쟁하는 사이입니다&lt;br&gt;
위와 같은 상황은 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;이 먼저 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;s&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4306em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 가져갔으니(&lt;code class=&quot;language-text&quot;&gt;s locked&lt;/code&gt;), &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;은 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;s&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4306em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 기다리며 block됩니다(&lt;code class=&quot;language-text&quot;&gt;waiting s&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;그럼 이제 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;은 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;s&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4306em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 기다리며 block되어 있고, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;s&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4306em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 가진 채로 작업을 하다가, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;가 들어옵니다&lt;br&gt;
&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;보다 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;가 더 단골이니 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는 차례를 뺏깁니다(&lt;code class=&quot;language-text&quot;&gt;preempted by T2&lt;/code&gt;)&lt;br&gt;
&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;가 끝나서야 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;가 차례를 얻었고, 좀 더 작업한 후 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;s&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4306em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 놓은 뒤(&lt;code class=&quot;language-text&quot;&gt;s unlocked&lt;/code&gt;)에야 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;이 실행하게 되었습니다&lt;/p&gt;
&lt;p&gt;뭔가 이상합니다.. &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;은 분명 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;보다 우선순위가 높은데, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;의 작업이 끝나기를 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;가 기다려야 하는 상황이 벌어졌습니다&lt;br&gt;
게다가 이번 경우는 운이 좋았지만, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;의 우선순위가 매우 높아도 영영 차례를 다시는 찾지 못하는 상황이 생길 수 있습니다&lt;br&gt;
이렇게 &lt;em&gt;우선순위가 역전되는 상황&lt;/em&gt;을 &lt;strong&gt;Priority Inversion&lt;/strong&gt;이라고 칭합니다&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;보다 우선순위가 낮음에도 불구하고,&lt;br&gt;
&quot;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;보다 내가 단골이니 나 먼저 해줘.&quot;를 시전해버리는 것입니다&lt;br&gt;
사실 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;과 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;은 한 일행인데 말이죠..&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Priority Inheritence&lt;/strong&gt;, 즉 우선순위를 상속하여 이를 해결할 수 있습니다&lt;br&gt;
자신보다 우선순위가 낮은 task에 의해 block(동기화 등..)되는 경우, 자신의 우선순위를 넘겨주는 것인데요&lt;br&gt;
위와 같은 상황에서도, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;와 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는 한 일행이고, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는 최고 단골이니, 이 일행을 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;보다 먼저 처리해줘야 문제가 없겠습니다&lt;/p&gt;
&lt;h1 id=&quot;각-시스템들의-스케줄링-방법&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%81-%EC%8B%9C%EC%8A%A4%ED%85%9C%EB%93%A4%EC%9D%98-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81-%EB%B0%A9%EB%B2%95&quot; aria-label=&quot;각 시스템들의 스케줄링 방법 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;각 시스템들의 스케줄링 방법&lt;/h1&gt;
&lt;p&gt;이제 진짜 실전에서 실제 시스템들은 어떻게 스케줄링을 하고 있는지 보고싶은데요&lt;br&gt;
Windows, UNIX SVR4, LINUX 순으로 알아봅시다&lt;/p&gt;
&lt;p&gt;이 시스템들의 공통적인 특징으로는&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;우선순위 기반의 Preemptive Scheduling : 실행중이던 Task보다 우선순위가 높은 Task가 등장하면, 즉 시 중 단&lt;/li&gt;
&lt;li&gt;feedback 기반의 Multi-Level Priority Queue를 사용합니다&lt;/li&gt;
&lt;li&gt;Real-Time Task들은 고정된 우선순위를 가집니다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이런 것들이 있는데&lt;br&gt;
더 자세히 알아봅시다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 302px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5cfe0cf541b5d3af3a625bdf4ee33e71/5f1d2/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.06329113924051%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqElEQVR42g3L308SAQDA8Xtupfw6uAOPA05FwQMOEOHgOD1+I3DHD+WHENmGIy3DDUVzvji1rZmtcss5UjMllXT6Wsv14HpwazrNzeyh/pTcvi+fhy8Q6nX7XHano9Pj7nbRpIuxe320z9fNMI4IG/T7Ga+PcTqtlk49TVl1ulZMJVcpkRYM1WibgWwu1RcPsmF3Pp/LZBLpTKwwPNiXSrwYUo09TvX25TL5+9EEGwx64v0x0kaYTRqdXq01dJBuEmAjvbFoMODvSWcz8VSymCZXRpULRe3mqGCpiM0XsOG8m01Ee8O+WD9HUZ0UpaechNFOMKwL0Os1BkJrMutMRgNhNvrpju2S4Gjy7k6Z97HEO6zwylG5BjcQRhxFpQgC4biaJAlrt8XDeQCHo4t2kgzjDIUCtzFez6ti08Ekr17hbZaEGyXJ+hNBkpFns+mxpyOrK2+fTVd0Rrw7QAcTAYCyW21dZovZZLVa7DYbSdFzBexwunGnzK9P8PYmRPuVxjcl4vj7t39/r39dXfgDbrPNHIgFuQEOQFGFWAjzG0QCnggCIVCM0Lh8tyz8PMPfn+F/KElmo8LXC6Xzy7OL8x/VxWF1i5zy9EQGuEiWA2BYBoFSiQiGIZkCkQtlqA+Et3DwvQusZcCtgngpLq2Om05Pjs5Ov0wNtGq0atrviuYTXC4GIE1yGJI2yRAFqlQqW1AYeS4V1SHhOxisqiRVC1QbadidEp8cH97cXM7NTquaUWeAYQfi8XwKUN1KoVQoVCplM9qKDcHSA6lwQyLcioG1cUF9klcbu/N1c/73n+urq5/Ly4saXM2EveEUF3+QBNrU7W2t7RjWcjvrNJKXXsk2Bq5BojVWvDfZWHskWG+792mqsrq1Nvgw56BMOhPuCvlDSTaU5v4DopzIhRLZJbIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;어디보자&quot;
        title=&quot;&quot;
        src=&quot;/static/5cfe0cf541b5d3af3a625bdf4ee33e71/5f1d2/image-11.png&quot;
        srcset=&quot;/static/5cfe0cf541b5d3af3a625bdf4ee33e71/c26ae/image-11.png 158w,
/static/5cfe0cf541b5d3af3a625bdf4ee33e71/5f1d2/image-11.png 302w&quot;
        sizes=&quot;(max-width: 302px) 100vw, 302px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;windows-시스템&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#windows-%EC%8B%9C%EC%8A%A4%ED%85%9C&quot; aria-label=&quot;windows 시스템 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Windows 시스템&lt;/h2&gt;
&lt;p&gt;Multi-Level Priority Queue 구성 : 총 32개 큐 사용&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Real-Time PQ : 16 Level
&lt;ul&gt;
&lt;li&gt;Real-Time Task들은 우선순위가 고정되며, 같은 레벨의 큐 내에서는 Round-Robin 방식으로 스케줄링&lt;/li&gt;
&lt;li&gt;그런데 같은 레벨의 큐에 나밖에 없다면, 내가 계속 실행&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Variable PQ : 16 Level
&lt;ul&gt;
&lt;li&gt;feedback queue : time-out마다 우선순위가 하락&lt;/li&gt;
&lt;li&gt;내 이상의 우선순위를 가지는 친구가 없어도, time-out이 적용됨.. (내 우선순위가 하락할 수 있으므로)&lt;/li&gt;
&lt;li&gt;Processor-bound threads down : time-out마다 우선순위 하락 (최대 -2)&lt;/li&gt;
&lt;li&gt;I/O-bound threads up : I/O 등으로 Block Queue에 다녀온 경우, CPU를 중간에 포기했을 수 있으므로, 우선순위 상승. (최대 +15)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/5IirjNC.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;Variable PQ의 우선순위 구성 : 일단 Variable PQ는 0~15 레벨에 존재하므로 이를 넘을 수는 없다는 점을 기억합시다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Process Priority : 프로세스가 하는 일의 종류에 따라 결정되는 &lt;em&gt;base&lt;/em&gt; 값.&lt;/li&gt;
&lt;li&gt;Thread&apos;s Base Priority : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;±&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\pm2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;±&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 내에서 조정되는, Thread의 &lt;em&gt;base&lt;/em&gt;값&lt;/li&gt;
&lt;li&gt;Thread&apos;s Dynamic Priority : &lt;em&gt;base&lt;/em&gt; - 2 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;≤&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\leq&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7719em;vertical-align:-0.136em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;≤&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;p&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;p&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;≤&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\leq&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7719em;vertical-align:-0.136em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;≤&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;em&gt;base + 15&lt;/em&gt;
&lt;ul&gt;
&lt;li&gt;즉, 어떤 스레드든 15레벨까지는 도달할 수 있으나, 하락은 2단계로 제한적이다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;프로세서들은 이 Multi-Level PQ로부터 언제나 우선 순위가 가장 높은 스레드를 새로 할당받게 되는데,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;이는 Load Sharing처럼 작동하는 셈이므로, idle-while-busy는 발생하지 않습니다&lt;/li&gt;
&lt;li&gt;그런데 Load Sharing에서 캐싱을 잘 활용하지 못할 수도 있지 않았나요?
&lt;ul&gt;
&lt;li&gt;soft &lt;strong&gt;affinity&lt;/strong&gt; : (가능한 선에서) 스레드가 전에 실행했던 프로세서에서 실행할 수 있도록 고려합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;unix-svr4-시스템&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#unix-svr4-%EC%8B%9C%EC%8A%A4%ED%85%9C&quot; aria-label=&quot;unix svr4 시스템 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;UNIX SVR4 시스템&lt;/h2&gt;
&lt;p&gt;여기는 무려 큐가 160개나 됩니다 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Real-Time PQ : 상위 60개 큐 (159~100번)&lt;/li&gt;
&lt;li&gt;Kernel-mode process : 그 다음 40개 큐 (99~60번)&lt;/li&gt;
&lt;li&gt;Time-shared : 나머지 60개 큐 (59~0번)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/uyzBwFd.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;이렇게 큐가 많으면, 우선순위가 가장 높은 친구를 찾으려고 이걸 다 순회하기 힘들겠죠?&lt;br&gt;
따라서 비트맵을 사용하여, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번째 비트에는 &quot;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번째 큐에 프로세스가 있는지&quot; 여부를 나타냅니다.&lt;/p&gt;
&lt;p&gt;윈도우 시스템에서처럼, Time-Shared에 해당하는 Feedback Queue에서는 다음과 같이 우선순위를 조정합니다 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Processor-bound threads down&lt;/li&gt;
&lt;li&gt;I/O bound threads up&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그런데 여기서 조금 다른 점은, &lt;strong&gt;starvation을 줄이고자&lt;/strong&gt; 좀 더 노력한다는 점인데요&lt;br&gt;
Time Shared Process의 &lt;em&gt;time quantum&lt;/em&gt; &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는, 우선순위가 높으면 짧게, 낮으면 길게 줍니다.
전에 살펴봤던 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q=2^i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8247em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8247em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;로 하듯이요&lt;/p&gt;
&lt;h2 id=&quot;linux-시스템&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#linux-%EC%8B%9C%EC%8A%A4%ED%85%9C&quot; aria-label=&quot;linux 시스템 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;LINUX 시스템&lt;/h2&gt;
&lt;p&gt;LINUX 시스템은 큐의 레벨이 0번에 가까울수록 높은 우선순위를 가집니다.&lt;br&gt;
140개의 큐를 사용하는데, 다음과 같이 클래스가 나뉩니다 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SCHED_FIFO&lt;/code&gt; : Real-Time Task 중, 실행 시간이 짧은 경우, time-out없이 FIFO 방식으로 처리합니다. (0~99번 큐)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SCHED_RR&lt;/code&gt; : Real-Time Task 중, 실행 시간이 길면.. Round-Robin으로 처리합니다. (0~99번 큐)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SCHED_OTHER&lt;/code&gt; : Non-Real-Time 스레드들. (100~139번 큐)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;FIFO 스레드가 실행 중일 때는, 아래와 같은 경우에만 중단됩니다 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;더 높은 우선순위의 FIFO 스레드 등장&lt;/li&gt;
&lt;li&gt;실행중인 FIFO 스레드가 Block Queue로 이동&lt;/li&gt;
&lt;li&gt;실행중인 FIFO 스레드가 systemcall로 차례를 포기&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;RR 스레드는 위와 같은 경우에 더해서, (같은 우선순위끼리 RR 방법으로 번갈아 실행)까지 포함되겠죠?&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/EE8VIzW.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;이 시스템에서도 큐가 140개로 되게 많아서 비트맵을 사용하고,
140개의 active-queue에 더해 140개의 expired-queue 또한 존재합니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;time-out되면 : 우선순위를 조정(하락)하고, expired queue로 이동&lt;/li&gt;
&lt;li&gt;실행 중에 우선순위가 더 높은 스레드 등장 : 우선순위는 그대로, active queue로 복귀&lt;/li&gt;
&lt;li&gt;이렇게 하면, 어느 순간 active queue가 비어 있는 순간이 오는데, 그 때 active queue와 expired queue를 뒤집어 expired queue를 active로 만듭니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/ipIlizC.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;뭐가 좋은걸까요 이렇게하면?&lt;br&gt;
&lt;strong&gt;CPU를 사용하고 나면 우선순위를 확 낮추는 효과&lt;/strong&gt;가 있는 셈입니다
우선순위가 매우 높은 스레드 하나(A), 그리고 밑바닥인 스레드 하나(B)가 있다고 생각해보면&lt;br&gt;
A를 실행한 뒤에 expired queue로 보내지 않는 경우, B가 실행을 하게 되려면 A가 그 많은 우선순위 큐들을 다 지나와야 합니다&lt;br&gt;
그런데 이 시스템처럼, A가 time-out되어 expired queue로 이동하고 나면, 그 다음에는 B가 실행을 가져갈 수 있으므로 B의 &lt;strong&gt;starvation 발생 가능성이 줄어드는 효과&lt;/strong&gt;를 볼 수 있습니다&lt;br&gt;
살펴본 3가지 시스템들 중, starvation 가능성을 낮추기 위해 가장 많은 노력을 기울였네요&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
이렇게 스케줄링에 대해 좀 써봤습니다&lt;br&gt;
제 일정 스케줄링도 잘 못하는 사람인데 나 원 참&lt;/p&gt;
&lt;p&gt;마치겠습니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[👤 Scheduling을 어떻게 해야 잘 했다고 소문이 날까? - Uniprocessor]]></title><description><![CDATA[프로세서나 스레드들은 CPU…]]></description><link>https://sungpaks.github.io/uniprocessor-scheduling/</link><guid isPermaLink="false">https://sungpaks.github.io/uniprocessor-scheduling/</guid><pubDate>Fri, 14 Jun 2024 23:09:43 GMT</pubDate><content:encoded>&lt;p&gt;프로세서나 스레드들은 CPU가 본인을 가져다 실행해주기를 기다리며 레디 큐에 줄을 섭니다.&lt;br&gt;
마치 계산대 앞에 줄 서는 사람들처럼요&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/53586313d00be43daa41a70ad9175684/3c051/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACjElEQVR42g3QS2/SAAAA4P4fL549+UiMr8zEuTCmZDApr/FqS2EU+qAUWh4t5VFaoMDogIFYJGyTCbKobN4WsziNi8aLB3/BPHlwP+C7fEDCYUBXblIu025ZTGNoKhKgUDcd8mQpdFtIyilGpAmVZYeFfF/MHbbV04k+VEs/Tt6ez/eACPgcMj5MQi8m7ZqUIPI0xoR96SjCReG+xA/lXFcSqilmVC11+HQry57N9nUp/+t4+nW+DzQEriGwajZO+p0ZnzfmcQtEUEpEZY5QUzEG9pCBYAqFujWlw3OU20oRAr2V6qut030dmPWai1Eng7jDtZ68+J6saLzXMlLFUSWLQP5ge2YV2kqG1UVmu6qAJtO9+0sInWnvzQ+rIjCQeTWBcaCVLzYb8y+Dj2cdntGEGBvFfVC4dfKNRpAmho5EploqgKDHZDTcuX03TrMfRgNAi4ULJoPoBFGbDXT6aLY4adfHnSYZjSe38N1tTTYbVOMDvVaWeAbzgjnczcUIpa4djMfAWC2qxQYcVyihmtTeWKhKkUT7WqMiFRmG4d5fdLv6ARXq7g62IE+ZdJOQJRwKfT47P55OAJkjd7q9TU/gqdkVKvdXwECBCubjkSITpgiSaw17nZbT6qiUy7Us9bJEqFkSg31pmvg0GQNaLtGXOBZ1YX7nhmnVbN/EUB+LOhTSD9k3FD6JO9dyJILbDARkH7YU3LuRgNeZCNKU8kCnkOqVUjTi8tgsIZulEIR1MfPk1o38+rLr2QqNoQE/XNN0L4wtLRuHnWYcMgu4nYtFm/XWFU6/quSSQXc9i89FesFEX0OOx9evsauPUHBttpPvj2byu99HP/+dXvw5mk6vMhq1yuL45PLy738NzWa466STDwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;무인 계산대 ㅋㅋㅋ&quot;
        title=&quot;&quot;
        src=&quot;/static/53586313d00be43daa41a70ad9175684/f058b/image.png&quot;
        srcset=&quot;/static/53586313d00be43daa41a70ad9175684/c26ae/image.png 158w,
/static/53586313d00be43daa41a70ad9175684/6bdcf/image.png 315w,
/static/53586313d00be43daa41a70ad9175684/f058b/image.png 630w,
/static/53586313d00be43daa41a70ad9175684/3c051/image.png 760w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;무인 계산대 ㅋㅋㅋ
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;무릇 가게들은 계산을 많이 해줘서 돈을 많이 벌고 싶어합니다&lt;br&gt;
계산대를 막 백 개, 천 개, ...씩을 두면 물론 좋겠지만&lt;br&gt;
그럴 여건은 안 되고 계산대를 하나밖에 둘 수 없다면&lt;br&gt;
어떻게 계산을 해줘야 잘 해줬다고 소문이 날까요?&lt;/p&gt;
&lt;p&gt;이번 시간에는 이렇게 계산대가 하나인 상황처럼, 프로세서가 단 하나일 때 스케줄링을 어떻게 하면 좋을지 알아봅시다&lt;/p&gt;
&lt;p&gt;아, 근데 스케줄링에는 Long / Mid / Short Term 세 가지 유형이 있는데&lt;br&gt;
&quot;READY QUEUE에서 다음에 실행할 프로세스 고르기&quot;는 Short-Term 스케줄링에 해당합니다&lt;br&gt;
스케줄링의 성능과 가장 직결되는 것 또한 이 Short-Term 스케줄링이고, 앞으로 말하는 내용들 또한 이에 대한 내용입니다&lt;/p&gt;
&lt;h1 id=&quot;스케줄링-목표&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81-%EB%AA%A9%ED%91%9C&quot; aria-label=&quot;스케줄링 목표 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;스케줄링 목표&lt;/h1&gt;
&lt;p&gt;그런데 스케줄링을 잘 하는 것의 기준이 뭘까요?&lt;br&gt;
여러 기준들이 있는데요&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Response time : (입력을 시작 ---&gt; 출력!) 까지의 시간 간격&lt;/li&gt;
&lt;li&gt;Throughput : 단위 시간 동안 프로세스를 몇 개나 처리했는가?&lt;/li&gt;
&lt;li&gt;Processor efficiency : CPU가 전체 시간 중 유효한 작업(= 유저 프로그램 실행)을 수행한 비중(%)&lt;/li&gt;
&lt;li&gt;Fairness : 같은 조건의 프로세스들이 공정하게 실행 기회를 가져가는 것&lt;/li&gt;
&lt;li&gt;Predictabillity : 실행 시간의 예측 가능성&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 중 Response Time같은 것들은 유저의 입장에서 느끼는 지표인 반면,&lt;br&gt;
Throughput같은 것들은 시스템 입장에서 보는 지표이고&lt;br&gt;
Response Time이나 Throughput은 성능과 직접적으로 관련있고 측정 가능한 반면,&lt;br&gt;
Fairness같은 것은 성능과는 꽤나 무관하고 측정 불가한 지표인 등&lt;br&gt;
뭐가 더 중요한지 정하려고 해도 관점에 따라, 입장에 따라 변하기 마련입니다&lt;/p&gt;
&lt;p&gt;마치, 계산대에 선 사람들은 그저 &quot;내가 기다리는 시간&quot;만 짧으면 되고&lt;br&gt;
점주 입장에서는 매출이 얼마냐, 이런게 중요할 것입니다&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 204px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c29b738e46ee766c65ce7c9c0b3213f4/779ef/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 94.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEkklEQVR42gGHBHj7AFlHRVhHP11KQ1tJQmFORV5LQ3hpZIR4cnFfWWZNRF1JQVdGP1JCOmhdU3RiWWBKPV1IPVdEO2RQSWhXVABWREBWRD5cSUFkTkdbSUKqoZ3MzMrx8fHd2tmJd3dTPzdbSUBWQz1mWE96Y1xmVUuhop20uLimqaiUk4wAVEI+V0ZBXkpBXUY/bV5Y9PLyxs7B1t7QxcbC4N7aYlVKXktBWEQ+ZVZSk5mcq7W5t7Cvu7q6x+XkrMnHAFE/OlZFO1tJO1RCNHFoXvz7+9zn1M/cws3axe716oyBellDN1dAOZabm7/s68vk4pZ9c6GPi8TZ3cT39gBRQTVYSDhdSjxHNSqGfnf////e59zO3MDJ3bvw9uSLgHg9JhpjUk/X9vTM3dqtn56oi4Ocd3WWiIu84d0AUD81SDctTj4zc2Zg3dnX////wcO6oayWq7ad8vXnz9DMjIZ/m5qa5///u7m1m29woo2LpZCMr6SerMK8AGNRT5KLh8jFwfb18v39+////svPxZuikqqtnPr88+LOyriMi9TP0cjKy7GtrLKspZ+Vl6CKi52BfZd+eQDx8PDs6Ojw7Oz///z9/vj08urDv7K9vanw9ebt39ewXFWlXl/W19zT1tWwp6SxraOchISwoJ6empKsu7gA5+jmuaWoo4+WwsjG4NXOqYOGomtmjFtW19zW18O8n0tJn2Bgim5tkZubyNrRjHRwmHVzooyGuszJtdXTAKdqa8qpqMrR0oWpt6aXmWQ0OXRdYH1HRObd2NvMw5NDQX82MXxORnFtZ4OHf5+ioqO5tqS9vJu1s4GCegCtcW2bX1uyrbaWvNmdvM+AXFt4PD51Pj2zrrHo6OO8qKWihYnU0NK8v7paSkReTUJmXVVfU1ZaQkBgQzYA0MjIoomSWlxvd46hnc/pk7jFiIeOc4eYcJKqpaSlp56feXeJeHSGaWFqdWh8clt1YkdLfWh3a1hzblhwAMClp7a3yXN2m2FgeVtldnWSpHKbrWF9nW53j97g1+rp4MLAyIBxfFVAQGJMU2NNW15HS3djbWlPVmFEQQDk1tHExMh5dKCRirljWntYVV1dYFRPTGFwaojr7ePf3tCCdW5QPDVoTUJlSDlhRDRgRDVhRTRlSjZhRjMA+fr0+PjvgnySXVGDeGyjdGuacmmOamGKkY6h4+HVYVRKPCcgVTw1Z01DZEg+Y0c7ZEc4Ykc3YUY2YEQ3AOTh2vz89pSEj3Jjd6ifraGYqXJmgGVYcebh3sG6rT8wKFE+N1I4NGZLQmVIPWBDOWFGOltANF5CNmFEOgBwYmLp4uHt59/7+vL///j6+O7c2tHCu7X79+yQgXhINS5QPDVVOzdkSEBgRjlbQDVfRDlbQDVdQTZYPzMAPy4saVpYr6ehmJGKpJuW39zY8PDp7e7lqaGXWkg+TjwyTTsxVT42ZUtCYUk+W0I4XUQ5XkU6VT8zTTovAEo4MEQ0K0AxKEw5MUg0L3lrY5SJfXZiWlxFOl1KPlJANFJBNFdDOGZORGJKQF9IPl5HPVpCOFVDN1JANl61XIQmVpG2AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;집게사장&quot;
        title=&quot;&quot;
        src=&quot;/static/c29b738e46ee766c65ce7c9c0b3213f4/779ef/image-1.png&quot;
        srcset=&quot;/static/c29b738e46ee766c65ce7c9c0b3213f4/c26ae/image-1.png 158w,
/static/c29b738e46ee766c65ce7c9c0b3213f4/779ef/image-1.png 204w&quot;
        sizes=&quot;(max-width: 204px) 100vw, 204px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;돈!!!!
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;인생이 그렇듯이 모든 토끼들을 다 잡을 수는 없습니다&lt;br&gt;
모든 지표들을 만족하는 것은 불가능하므로 하나의 기준점을 잡아야 하겠는데&lt;br&gt;
그 정한 기준점을 우선순위로 하여 스케줄링을 하고,&lt;br&gt;
그 우선순위에 따른 여러 레벨의 ready queue를 운용하고, ... 해야겠습니다&lt;/p&gt;
&lt;p&gt;아 그리고 조심해야 할 문제가 있는데&lt;br&gt;
&lt;strong&gt;starvation&lt;/strong&gt;이라는 것입니다&lt;br&gt;
어떤 프로세스가 평생 차례를 얻지 못하고 왕따를 당하는 것인데요 ㅜㅜ&lt;br&gt;
점주가 너무 매출같은 것에만 신경쓰면서 젤리 하나만 사려는 사람들은 등한시한다면&lt;br&gt;
손님들이 아주 불같이 화가 날게 뻔합니다&lt;br&gt;
이런 상황은 좀 없도록 해야겠습니다&lt;/p&gt;
&lt;h1 id=&quot;스케줄링의-종류&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81%EC%9D%98-%EC%A2%85%EB%A5%98&quot; aria-label=&quot;스케줄링의 종류 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;스케줄링의 종류&lt;/h1&gt;
&lt;h2 id=&quot;fcfs-first-com-first-served&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#fcfs-first-com-first-served&quot; aria-label=&quot;fcfs first com first served permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;FCFS (First-Com-First-Served)&lt;/h2&gt;
&lt;p&gt;이건 그냥 &lt;strong&gt;선착순&lt;/strong&gt;입니다. 그냥 보통 우리가 계산대를 이용하듯이요&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6a12c3921ee22b4aa8e0509134c9b753/3c051/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 57.59493670886076%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsElEQVR42o2Qyy8DcRDH9z9ydMCFg8QFF8TJCQmJROhBGiQSQqKqbbq7qFYkOBBpa3VfWu9g+5PutrutRbt9bVefWkrc1CM4oE0+mUwm+UzmO1B1TVNdY2t9S3tDc/vMGmk5ullyCgs0j5A+hCoD1NMxs7J5GIxIwpUYjitiKCpFZbcoISRXXl4/lVyBu9xDUc7cx5SkGJIisfilKOntjMEGEOK/FVBz92Bbr6qtZ7hraBzGgWk/sOTkFykfjHNv5r/HQyN9/VPzhrWNdbXGpNu9RGgeJrww5UXoCjJv25kDQX56LlpBUIuxlUT9ljUObuvUH4zGgP/6IhA27XEw5UPpymTUKTr5RCGfT6fS2VzWQgP9DoAJtuR/8aes0pqHptHR+eXRORNiOzE4WI0daDGP3sHpPmGNpPd3ubaqtbNrQD0xqVKPre7su/g45QlRrESwEvneUGzI7PIZf3m7F5o1UuTF7cvzYyqp5LPpQi5zJ0czSSURC6cUWYlHioV767mgw0DplyjN/wRCac6858EZ/+65gDMBwn2Fu98rU2rEj8mCg5ndOtbZzgwY+IH7FYQiBrKp6/miAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;선착순 한 명&quot;
        title=&quot;&quot;
        src=&quot;/static/6a12c3921ee22b4aa8e0509134c9b753/f058b/image-2.png&quot;
        srcset=&quot;/static/6a12c3921ee22b4aa8e0509134c9b753/c26ae/image-2.png 158w,
/static/6a12c3921ee22b4aa8e0509134c9b753/6bdcf/image-2.png 315w,
/static/6a12c3921ee22b4aa8e0509134c9b753/f058b/image-2.png 630w,
/static/6a12c3921ee22b4aa8e0509134c9b753/3c051/image-2.png 760w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Non-Preemption : 일단 실행을 시작하면, 차례를 넘기지 않습니다.&lt;/li&gt;
&lt;li&gt;전체 Response Time은 줄일 수 없겠네요. 노력조차 안 했고&lt;/li&gt;
&lt;li&gt;매우 공정하고, starvation 가능성도 없고, 예측 가능성도 뛰어납니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;rr-round-robin&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#rr-round-robin&quot; aria-label=&quot;rr round robin permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;RR (Round-Robin)&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;번갈아&lt;/strong&gt; 실행시킵시다. 마치 불침번 근무.. 아니면&lt;br&gt;
이 경우는 자기 차례가 오면 좋으니까&lt;br&gt;
어릴 때 형제들과 컴퓨터를 사이좋게 1시간씩 나눠 쓰는 것처럼?요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c4773762c52161ff7ee2dadf2d9a6ec0/3c051/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.78481012658227%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3klEQVR42n2SuY7iQBBA/asIYczZvsc2xtcuKX/ADBESP4HIENmshATBToY4AjLEjgQS83DPcAVbareq3fXqbCWKItd10zRN/itxHGMWP4rC12g0LMt6uRPP89jdH0HXdd0wjGeYyM1mE2uUdi5hGHJstVrXPyh4F0LIFG4wdk8uZTTbtsGkNUWxA+P3nlewA+Ya91wA8KfT6aA4joMF/2E4Up3szg2WickDMKZUaJom5HcDXLeci6ZpOEkS4EQu5eoGlwD4ppBCoZCbhvTJ972KppXUslou07skybCV6xuWAyNgsVisVqsodIhyarWaELpl2UHQCvygHbTTKL0uhYBZlvn4zzv39vqGL8KqqkqRcmCW5Xhe8DvrpFH2AJMqGDADA1iv17PZDIwjO7dkLoSh62b4GPYCVyoVroMgYCf5+Xy+2WyGw2GpVGI2wJfm2a6hW3pDZ2XxLbhCVfJ5kWq/3z+dTtvt9uPvR7fbJZG87S6Nd+0Xx3TEE1yv13lMRCbOYDAYjUZEPp/Py+WSEcJTFFNJ01+hH4q6eIDlu0GI3Ov13v+8T6fTz3+fx+NxsVjISTMeVhiERtN4gGkMEbDAy3g8PhwOq9Vqt9uR/36/n0wm8j1cxttOSP6+YV8CtchhhihoAwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;불침번&quot;
        title=&quot;&quot;
        src=&quot;/static/c4773762c52161ff7ee2dadf2d9a6ec0/f058b/image-3.png&quot;
        srcset=&quot;/static/c4773762c52161ff7ee2dadf2d9a6ec0/c26ae/image-3.png 158w,
/static/c4773762c52161ff7ee2dadf2d9a6ec0/6bdcf/image-3.png 315w,
/static/c4773762c52161ff7ee2dadf2d9a6ec0/f058b/image-3.png 630w,
/static/c4773762c52161ff7ee2dadf2d9a6ec0/3c051/image-3.png 760w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 경우 먼저 정해야 할 것이, Time Quantum &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 입니다.&lt;br&gt;
언제마다 교대할지 시간을 정해야겠죠?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Preemption : 실행을 시작한 후 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;만큼의 시간이 흘렀다면(time-out), CPU 사용을 중단시킵니다.&lt;/li&gt;
&lt;li&gt;전체 Response Time은 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 어떻게 정하느냐에 따라 직결됩니다&lt;/li&gt;
&lt;li&gt;FCFS에서와 비슷하게, 레디 큐에 도착한 순서대로 우선순위를 갖는 셈이고, 매우 fair하면서 predictability 또한 높습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;spn-shortest-process-next&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#spn-shortest-process-next&quot; aria-label=&quot;spn shortest process next permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SPN (Shortest Process Next)&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Service Time(실행 시간)이 짧은 프로세스들&lt;/strong&gt;부터 실행시키는 방법입니다.&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f48f42535acc5e6dc3926df9e76841cc/3c051/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 141.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAIAAADuuAg3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEtklEQVR42m2USSyeWxzG36uoqWatUvMsQS0kSLqxMCQSUhYEoQ0hBDGTiiYWVBNDIgitBYpYoDHEEFzzTA2hYk40NcXs3uIa7s/3tl3c3LM43/nOeZ//8DzPOcLZ2dnx8fFfkvG3ZIjrHz9+7O/vv3nzJjo6OiYmJioqKjIyMiws7PXr14GBgQkJCVdXVwJgfm5vby8uLkAys765vbm7u+OvmZmZIAhSUlLCryGuDQ0NORVIciMZ8/Pzo6OjzOyCB0xcXV1deXl5GRkZMMzAxNnExOQefH5+/o9kgJyanBoZGWFBLYBZvHv3LiQkRE9Pr6WlJT093dvbm1iA2SGrQADSkmp9fX1zc3N5eXljY2Nra+v79+9LS0vZ2dlKSkoPHz50cnJKSUkpKioSM+vo6NyDu7u7W1tbySOWSiBgdN7Q0KCkqKSsrKyvr//gwQMAXl5eJSUlFExyeqYpoaamhgNPT0+SVFVVFRQUlJeXU8Lz589fvHixsLBgbm4uKyuroaHh4eHx9u1bbW3tx48fE+Lk5EQgA+A/fg3W9vb23V3dnz59ohBKZcfS0hLA06dPqRbwkydPyHwPrq+v51haWppm6I11bGwssG/fvjk7O6urq79//z4oKIgFMPB0oaamZmxsfA/u7OzU1NQU9YAbYiclJZFWVVXV39+fFgjx6NEjAMgGmBkiLCwsjo6OhIGBAXd394CAgOTk5KysrIiICGJZW1v3/tnLX+SlKC0tLRUVFTEza+IaGRkdHBwIzc3NlAolxGaXdWJi4szMzPT0tIGBAX/l5ORoR1FRkbapmZnPyL+zsyO0tbX9JoyFn58fFIaGhqJfcXExMD599eoVOSGcpshsa2uLcyBFGB4e5lh0LDl7eno+fvw4MTGBSI2NjZQDVZmZmZicElJTU11dXW1sbAiHqQQswY0BGRcX197eTjHX19fUPDY2lpaWRmaxbepkXVZW1tTUxI6CggJGFEhlamqal5e3srICYE0yKNvHxwdWxJuECrBFZmTH9sgO4aurq0J/fz/tXV5eYj14wlhU9eHDh6mpKWIjJGZCRXpGMEyGBQoLC6EN5wuzs7O9vb2TE5OI5OvrS57a2lrqJ4qdnV1fXx9XRWQYwtjZ29sbHx9H57m5OYHnggxdXV2YBsE4ZvfZs2diwXDLOxMfHw8eV2KByspKajQ0MLwHczng7PPnz3TIp/hpaGgIMF0hHiTR2+DgYG5urhgROtCSQD/BxP4y/cXKyootiFlcXOTpgh4+RQhO8/Pz6+rq8Ak7FIyWkM9TIfDQcYe/fv2KgNCOh16+fEkt6I/ahweHjQ2Nbm5uPCncfDxPg8HBwTTIqYC/UXV3dxfTcHXhFm4cHBxycnIyMjK4G+Shz+3t7TvJ4BYiMlXwYN2DEZbaEBYBuahYCmLoENvwKgDAAmuraxSIoi4uLniGprhRwuHhIUjwou/IDFXwBBi1wsPDAU9OTuItemHNU8nrTfOw+PPpxQywDQY/EBiemfnC0dERwOnpaUdHBw1zbWEEUjnq6e4RLiQD3fENJuV95DKRp7S0lPtcUVFBXzfXN7ynmAeFOa2urkYtaBK4Br+fzv8MKryWDEq7+7/xL4FbHTONDRsfAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;똥싸느라 늦었다.&quot;
        title=&quot;&quot;
        src=&quot;/static/f48f42535acc5e6dc3926df9e76841cc/f058b/image-4.png&quot;
        srcset=&quot;/static/f48f42535acc5e6dc3926df9e76841cc/c26ae/image-4.png 158w,
/static/f48f42535acc5e6dc3926df9e76841cc/6bdcf/image-4.png 315w,
/static/f48f42535acc5e6dc3926df9e76841cc/f058b/image-4.png 630w,
/static/f48f42535acc5e6dc3926df9e76841cc/3c051/image-4.png 760w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;버0.. 똥싸면 응당 오래 걸리니까, 늦게 올 수 밖에
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Non-Preemption : 일단 실행을 시작하면, 끊지 않습니다&lt;/li&gt;
&lt;li&gt;Response Time을 꽤나 줄이는 방법인데, &lt;strong&gt;실행 시간이 짧은 프로세스를 빨리 완료시킨 다는 점&lt;/strong&gt;이 한 몫 합니다.
&lt;ul&gt;
&lt;li&gt;마트에서, 100만원어치 사는 사람 한 명(A), 그냥 젤리 하나 사는 사람 한 명(B)이 있다고 합시다.&lt;/li&gt;
&lt;li&gt;A가 먼저 계산을 시작해버리면, B는 긴 시간을 하염없이 기다리게 됩니다 ㅜㅜㅜ&lt;/li&gt;
&lt;li&gt;반면, B 먼저 계산하게 하면, B는 하나도 기다리지 않고, A도 딱히 별로 기다리지 않습니다.&lt;/li&gt;
&lt;li&gt;기억 하시나요? Response Time은 &quot;줄 서서 기다리고 있었던 시간의 합&quot;입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;그렇지만 문제는, Predictability가 낮고, 그럼 실행 시간이 큰 애들은 starvation에 빠져버릴 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 실행 시간의 예측이 아무리 쉽지 않다지만, 그래도 좀 해보려면 방법은 있습니다&lt;br&gt;
지금까지의 &lt;strong&gt;실행 시간 기록들로부터&lt;/strong&gt; 평균을 계산하여 &lt;strong&gt;예상&lt;/strong&gt;해보는 것인데요&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; : 실행 시간 기록 중 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번째&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;S_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; : 실행 시간 예측 값 중 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번째&lt;/li&gt;
&lt;li&gt;이제, 간단히 &lt;strong&gt;산술 평균&lt;/strong&gt;으로 해보면 : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/mfrac&gt;&lt;msubsup&gt;&lt;mo&gt;∑&lt;/mo&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msubsup&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;S_{n+1} = \frac{1}{n}\sum^n_{i=1}T_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8917em;vertical-align:-0.2083em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mbin mtight&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2083em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.1901em;vertical-align:-0.345em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mopen nulldelimiter&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mfrac&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8451em;&quot;&gt;&lt;span style=&quot;top:-2.655em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.23em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;frac-line&quot; style=&quot;border-bottom-width:0.04em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.394em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.345em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose nulldelimiter&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;&lt;span class=&quot;mop op-symbol small-op&quot; style=&quot;position:relative;top:0em;&quot;&gt;∑&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8043em;&quot;&gt;&lt;span style=&quot;top:-2.4003em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mrel mtight&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.2029em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2997em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;좀 더 정확히 해보려면, &lt;strong&gt;가중치 평균&lt;/strong&gt;을 사용하여 : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;α&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mi&gt;α&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;S_{n+1} = \alpha T_n + (1-\alpha)S_n&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8917em;vertical-align:-0.2083em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mbin mtight&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2083em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.0037em;&quot;&gt;α&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.0037em;&quot;&gt;α&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 이런 식으로 재귀적인 계산을 할 수도 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;srt--shortest-remaining-time&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#srt--shortest-remaining-time&quot; aria-label=&quot;srt  shortest remaining time permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SRT : Shortest Remaining Time&lt;/h2&gt;
&lt;p&gt;SPN에서 preemptive를 한 스푼 얹어서, &lt;strong&gt;남은 실행 시간이 가장 짧은 프로세스&lt;/strong&gt;를 실행하는 방법입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 259px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/820b686c84853567924d2d1b721eee6d/a2ead/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnklEQVR42gGTA2z8AHis3mOi3lue3Vmc3FSZ3Ie03snc56bF41WY2FCY2k+Y206W1kyV1UyW10mV2UiQ0kiP1E6T1k+U11CT1QBVnN5Wm9xXmt1Tmt5qo9y50Oa+1OiTud9Smt5OldVQk8xLmeFLl9xDj9V1kqxVkMdNldpVmttUmttTl9cAWJ3fVpzeVpveU5rdYZ/Zor3ZlrbZV5jWSInJaop8foZHV2hmOXi0hKC6vqWTVZfQV5/fVpvbUJXYTJDSAFae4Fad31ab3laa24iz3rfM4ZO64jpyrS07R0pDIhocEhEGAAwcK7ShksGmlVSZ11Sa2kyS1EKKzkGIywBUnt9Xnt9Smt14qty/0eavyON9r94uUHYWHS8KEB06LCg1MC8ECAxnXFmzo6BOjcxIjtJCiMw9h8s+h8kAU53eU53dTpnbfKzejrXeWpnTSpfdOGOPBAMGWUxCz6+U3LyjgmlYExAVplhRV3KiQpTeQIbKPYXKPYbMAFOc3FGb3FCZ202X2UmS1kqT10yW2UuP0CJKc1JMSefAovLBn2BOQAAAAKRLQHQ9QiFQfUCCxD+L1T+FzABQmttPmdpOmNhNltdNlNdLlNdIkNRJldpDiMkJDhdENy2+qZaZcmiXSUG3YFahPTMbDA0ZNVMzbac/ic8AUJjaT5jZTZbXS5TWSZLXSJHVR5DTR5LXQoPAGis/QUZDxL+7v2JWpT40p0M6s0I4WCMkHUdwNG+sPorRAE2T1kOP1UeQ1UiR1EeP00eP00aP00iP00SR2WqAoKV1csZ4cJQuJZg3LmUlIEIaGCILCRIpPTuDx0CM2ACoxt+NuN1Rk9VCjtRFj9RFjtNGjtNGkddKiclvTVybNzCnPjSgOC5fHRgAAAABAAEBAQENEBYvYpRBkNoA3urq3Orqp8PcWpLNR43PR4/PS5DPS5HUT4jDZ0FMmDoxnjsynUpBcGlnRktJJykqBQEBKU92QJTiPonSAMPX57nR552quneNoVuJtGSMrm2Nq1uMu2KQtnB2g7FlW6NiXJd2b6y6tZufnpaen3yAfmaEm0OO1ECN1QCYqLiYpbGJm7FriatkiKhgjrljiatoiKdriqZ7dICscWawd3CVcGyXmZWTmJaVnZygp6WlrqaToqOIoq8AkKzJkKnEcJXBS4zMYZfKmq3Gv7vDz8C/2cjByrKyomVnqnN0s52hv6yr18TCu7i1pa6sp7Cuq7WxqbKwMAvURRUgpKkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;먼저 갑니다&quot;
        title=&quot;&quot;
        src=&quot;/static/820b686c84853567924d2d1b721eee6d/a2ead/image-5.png&quot;
        srcset=&quot;/static/820b686c84853567924d2d1b721eee6d/c26ae/image-5.png 158w,
/static/820b686c84853567924d2d1b721eee6d/a2ead/image-5.png 259w&quot;
        sizes=&quot;(max-width: 259px) 100vw, 259px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;preemptive : (남은)실행 시간이 적은 순으로 실행하고, 나보다 더 우선순위가 높은 프로세스가 나타나면 중단합니다.&lt;/li&gt;
&lt;li&gt;이러면 Response Time을 진짜 최대로 줄여볼 수 있습니다.&lt;/li&gt;
&lt;li&gt;반면.. SPN에서 해결되지 않았던 문제들은 더 심해졌습니다..&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;hrrn-highest-response-ratio-next&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#hrrn-highest-response-ratio-next&quot; aria-label=&quot;hrrn highest response ratio next permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;HRRN (Highest Response Ratio Next)&lt;/h2&gt;
&lt;p&gt;흠.. 그럼 &lt;strong&gt;실행 시간과 기다린 시간을 함께 고려&lt;/strong&gt;하면 어떨까요?&lt;br&gt;
좀 더 합리적이지 않을까요? fairness도 좀 높이고..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7cea2e91513d26a0b709cfe0f1825c73/3c051/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABuUlEQVR42hWQ6XKaUABGeYROlziNjWlkUlHUsm+Xy3IFFAQREFFRDG5EJ5NJZ/zRx699gO/MOR/mm+xyDNaBWobqywQWAdxOYO4qha9WmT21bJMWECsYjEjhhEHz1WIFOBAalD/gsIHUC3R65cplhPaxuZuCMlT2kVql2vUwsxWNJrqtR5zEWw+1OvH0/Fa86LzwkaN0LGNDmQx1OjGohSMeUu9SxKe5W0XwWrp/X/fUL6KDE/Xa9+dH/Ge9QeAtyEiByv1ZoRGksEDtZxab2fzSYdcjNhtrjq54PHU01QQZ7ccHvNH88ulrs9H89vnu/u5e7LbzIVvFYCB2sfA2HjBzs7+y6K3HbSdKPuZDhYZPTdAnR7qChE5sMRrTbv6oiT18H9+K4NvCQHwbS4zewmJvsGJE7wL+EKuXpZZ7hiMKmSuNkehInds9RSCeZvCYgF0ollPpkkEfdLA56qU6uRlyh1A4RHKVgtdMPc+1c6peS/t9Y1ULMw8UD/6eInqXqMdU24bSPpI3Th/7L4x6K50sXeacgnMGTzNwjIT3tfOxi/LMS2JnZMuOJRsaF/h67APPYGypu7HIfzzwfuxUs+X3AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;완벽한 균형&quot;
        title=&quot;&quot;
        src=&quot;/static/7cea2e91513d26a0b709cfe0f1825c73/f058b/image-6.png&quot;
        srcset=&quot;/static/7cea2e91513d26a0b709cfe0f1825c73/c26ae/image-6.png 158w,
/static/7cea2e91513d26a0b709cfe0f1825c73/6bdcf/image-6.png 315w,
/static/7cea2e91513d26a0b709cfe0f1825c73/f058b/image-6.png 630w,
/static/7cea2e91513d26a0b709cfe0f1825c73/3c051/image-6.png 760w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그래서 &lt;strong&gt;Ratio&lt;/strong&gt;를 계산하고, 이 값이 가장 높은 순으로 실행을 하기로 했는데&lt;br&gt;
실행 시간(Service Time)을 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;S&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;, 대기 시간(Waiting Time)을 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;W&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;W&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;라고 하면
&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;Ratio = (W+S)/S = 1+W/S&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;W&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;W&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 와 같이 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;Ratio&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;o&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;값을 계산합니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Non-Preemptive : 제곧내&lt;/li&gt;
&lt;li&gt;Response Time은 성능을 중시하던 SRT, SPN과, fairness를 중시하던 FCFS, RR의 중간 정도의 성능이 됩니다&lt;/li&gt;
&lt;li&gt;starvation 발생 가능성이 없어졌고, 예측 가능성도 높아졌습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;response-time을-실제로-계산해보면&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#response-time%EC%9D%84-%EC%8B%A4%EC%A0%9C%EB%A1%9C-%EA%B3%84%EC%82%B0%ED%95%B4%EB%B3%B4%EB%A9%B4&quot; aria-label=&quot;response time을 실제로 계산해보면 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Response Time을 실제로 계산해보면&lt;/h2&gt;
&lt;p&gt;예시로, 아래와 같이 프로세스들이 들어온다고 해봅시다&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;process&lt;/th&gt;
&lt;th&gt;Arrival Time&lt;/th&gt;
&lt;th&gt;Service Time&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;A&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;B&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;C&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;D&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;E&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Arrival Time은 레디 큐에 프로세스가 도착한 시간,&lt;br&gt;
Service Time은 실행 시간(CPU 사용 시간)이 되겠습니다&lt;/p&gt;
&lt;p&gt;지금까지 소개한 5가지 방법들로 스케줄링하면 어떻게 될까요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/21716606d3f8ccc97e47b8f50037c8e6/4b39a/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 137.34177215189874%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFwUlEQVR42m1WaW8cVRb1T+PDfAKhUTIsoxmYmS8sEaARmQngMeLDCIEQSEAi1gjQACOBaIiTdnAWKyar7SwONrGzeEl3115d23u1vKp679XhVreJjKClo/vqVdXpd++5S01UVfVwwtgPUNU0UHVbVLXqCkJR1d1K6a6oVLeu665SY/sL6N1f9qZpPd9yTdRKTYF+W6mW006DE26DQja006BpNKEZQe+std61t7MmUtlykJ2ayMpysr04vS3E37uJ/Nc5KZ89mcqnv4/lvtlYPnmc9k5F0rUGMvMHkrl96duGtEyTYEjbMqVpGIIxDs755ERZlqMTFjyRqTdAFg3x2TLDp+sN/nezwRe3Ghxea/D48QJ/PpZj73SB7qoH2zSw2TcJFlripiqQcT51jzBKmNzsGegNDDAirhMHSiR0pwaFBeesBnNGg3N2g3+frfHAkRIPd0vcf6TGwYVQ9kIBMyDCoihGhGXOZR7aGPouQoJpExwP7jCAKKudeGoKrYKdaWwkGpuxgps3eHWplo+fBa7YJcUwGxP2EiXnBg28XGPFVxCVQFXlhAJplqMus5GNeTba11VGh8hQk5VVNhKlLIupCV6MXe5uCPnH7zhevazw1BmFozdC/HBnjIJF+OxqCD+IUKchvv0pwnIvQpOFuLCV4NiqK1WZU9h2xbBIExnZA3x+NcAth+P1aw0OXGywFjY4tDJGm0rTWw0mLzVI6wZ9Djw9V+H0miMhcyS7CaOYybt9A5QSCB0DK3c9XDc5Dt9QOPgjxQ4ax7Y1Xr6kEQmNHtPYR57cDkocvs7lP+YphmbREo5jKDIu2dBGPGzFcOG5Dljg4eJmiFTUuBU1eIFOPCw0hGrw4nmFM7cCaHL7ynYgl6gg7CgjUXZUdngtlz2NVV+iJCGgBTS50egCWpEwhUBSlKS4AMsF/FS0IoBERSV+R5TpO6X8wzcF/jKrcGgxxkdLQ3y4GOD9hQCfXB5ii5K4DUU+NCACA8XQRN+0YFg2eoYpOf1JsjuxU85kQC/EcYypszn2Xxi7+Px5YGpBI04YLmwneOZEgudOMbwyHyN2iZyIM28wEqXIdhHGSSL7VCUDQuKZqHkARbnXitE2gVbh9Wis9sc3gHdJqL/NpHiM8OhRLg8sAktjUcaEecpl4FoIPQeG7WBA7lhUKVEYIsxq/PUU8M5VQQ8GQBYgT0J8tRLhy+sxPl8O5ckBcDfYJUqYVXIjrLEVUuBFgZxEYGmONG8hsO4JeIwEEinVeEYgW2cj4VSV/laU7+5U8r5vKjx0XGFmnaogHULxISRZHgdw/AAnboaYWQvRXYtwktZ3TfLEctEzbZlSBvxKFOrabX+DEyTYP1/g0GqDD35q8N6KhhHlWLM59h5J8chRjj1kn5xliEaiUMvz+iRKRqIkvyZsBXEtA3d6Fl6YI7XPC7x2lWLjp9B5gjrnBEZVwBDEHP88zbHvRIonvmfyv/Tctd2itGnjWCZc24ZtWeC+gSp2obIIr1ySeOmCQkIpFUbRKLVMP8b7SxEOUs6+sxDJrzaA236264RpIR1Wwk0K1BR0TVVQF9mobf3olLhklOBpBsZTsilVSCsKRyPJVux3RNmo5X0dhUdnNeZuR7i8FWBhM8Ai2Rv9ISrq4CL2CC6iwIfr+TAorQzHx8B2ZVZKmil0wmLnhH7E5M1tA1sew2PHBR7sauyZUXjwmMSfZiTeoxL89LKPjxaHWLptwjL6SN0+Cp9EcXuSGmU7l0Yj4D8tIWestIyBouGjPMdSOWeqrkrVTse81uqli1o9e1arp+Ybte6kSqaRmjyTqANzTO0/nZRvLQOrTjE5oXbmshBCJknSjkIwxtCuc0pqun9v/upm3GS/3Kbme6XB29fVCG9ek/L/fWAjUiNR9tLkP0mEXxNJh8juob2OoqhD9zqiqjv0JdHRdd35Yq3uvHGl6qCOOlAEGX0NFc9Clnt+Bsebmdk2jj67AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;스케줄링&quot;
        title=&quot;&quot;
        src=&quot;/static/21716606d3f8ccc97e47b8f50037c8e6/f058b/image-8.png&quot;
        srcset=&quot;/static/21716606d3f8ccc97e47b8f50037c8e6/c26ae/image-8.png 158w,
/static/21716606d3f8ccc97e47b8f50037c8e6/6bdcf/image-8.png 315w,
/static/21716606d3f8ccc97e47b8f50037c8e6/f058b/image-8.png 630w,
/static/21716606d3f8ccc97e47b8f50037c8e6/40601/image-8.png 945w,
/static/21716606d3f8ccc97e47b8f50037c8e6/78612/image-8.png 1260w,
/static/21716606d3f8ccc97e47b8f50037c8e6/4b39a/image-8.png 3104w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;세로 축은 프로세스(A,B,C,D,E), 가로 축은 Time(0, 1, 2, ...)입니다.&lt;br&gt;
각 Time마다 적절한 프로세스를 선택하여 실행(파란색 칸)합니다.&lt;br&gt;
아직 프로세스가 도착하지 않았거나, 프로세스 실행이 끝났다면 회색으로 처리했습니다.&lt;/p&gt;
&lt;p&gt;그럼 이제 각 방법들마다, 전체 Response Time = (파란색 칸) + (흰색 칸) 과 같습니다&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;FCFS : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;43&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;((0+3)+(1+6)+(5+4)+(7+5)+(10+2))/5=43/5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;43/5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;RR : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;54&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;((1+3) + (10+6) + (9+4) + (9+5) + (5+2))/5 = 54/5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;54/5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;SPN : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;38&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;((0+3) + (1+6) + (7+4) + (9+5) + (1+2))/5 = 38/5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;38/5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;SRT : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;36&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;((0+3)+(7+6)+(0+4)+(9+5)+(0+2))/5 = 36/5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;36/5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;HRRN : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;40&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;((0+3)+(1+6)+(5+4)+(9+5)+(5+2))/5 = 40/5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;40/5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;ul&gt;
&lt;li&gt;Time 9에서, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;2.25&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1.6&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;E&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1.5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;Ratio(C) = 1+5/4 = 2.25, Ratio(D) = 1+3/5 = 1.6, Ratio(E) = 1+1/2 = 1.5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.07153em;&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5/4&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2.25&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.02778em;&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3/5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1.6&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1/2&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1.5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Time 13에서, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;2.4&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;E&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;3.5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;Ratio(D) = 1+7/5 = 2.4, Ratio(E) = 1+5/2 = 3.5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.02778em;&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;7/5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2.4&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5/2&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3.5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;어라? 그런데 FCFS보다 RR이 더 느리네요?&lt;br&gt;
이게.. RR에서 이야기한 것 처럼, Time Quantum값을 적절히 정해줘야만 FCFS보다 줄어들게 해줄 수 있습니다.&lt;br&gt;
대충 정하면 이렇게 된다는 뜻&lt;/p&gt;
&lt;p&gt;SRT, SPN이 굉장히 빠른 Response Time을 보여주는데&lt;br&gt;
마트의 예를 들며 설명했듯이&lt;br&gt;
&lt;strong&gt;빨리 끝나는 프로세스 먼저 끝내는 것&lt;/strong&gt;이 굉장히 중요했네요&lt;/p&gt;
&lt;h2 id=&quot;그래서-뭐-쓰는게-좋은가요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%B8%EB%9E%98%EC%84%9C-%EB%AD%90-%EC%93%B0%EB%8A%94%EA%B2%8C-%EC%A2%8B%EC%9D%80%EA%B0%80%EC%9A%94&quot; aria-label=&quot;그래서 뭐 쓰는게 좋은가요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그래서.. 뭐 쓰는게 좋은가요?&lt;/h2&gt;
&lt;p&gt;그런데 5개 전부.. 써먹기에는 함정이 많습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;response time에 집중하려면 SRT 또는 SPN인데..
&lt;ul&gt;
&lt;li&gt;starvation 가능성이 존재하고, 예측 가능성도 구립니다&lt;/li&gt;
&lt;li&gt;response time을 계산하여 예측해볼 수야 있지만, &quot;계산&quot;한다는 점 자체가 단점인게..
&lt;ul&gt;
&lt;li&gt;OS의 개입이 추가로 필요해서, 복잡해진다는 문제점이 있습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;그렇다고 FCFS, RR 쓰기에는..
&lt;ul&gt;
&lt;li&gt;response time이 너무 길어집니다..&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;균형의 수호자 HRRN은 어떤가요?
&lt;ul&gt;
&lt;li&gt;얘도 ratio를 매번 계산해야 하니 간단하지 못합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그럼 어떡하죠?&lt;/p&gt;
&lt;h2 id=&quot;feedback&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#feedback&quot; aria-label=&quot;feedback permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Feedback&lt;/h2&gt;
&lt;p&gt;지금까지는 성능을 높이려면, &quot;실행 시간이 짧은 프로세스에게 우선권을 주자&quot; 마인드였는데&lt;br&gt;
반대로, &lt;strong&gt;실행 시간이 긴 프로세스에게는 패널티&lt;/strong&gt;를 주면 어떨까요?&lt;br&gt;
자연스럽게 실행 시간이 짧은 프로세스는 우선권을 얻게 될 것입니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 252px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fa5269e5baec8f11e5813d69966802e0/5e02b/image-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 79.11392405063292%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD20lEQVR42gHQAy/8AMyaZd6sc9OjasKSXdmtb+7IgeS9d+i/eujBedq3coFpQFlLL2ZYNWpNKpxpOrGATLmPV86lYLeKUbaKWQDhsm/ZqGnUoWa/jFbWqG7txX7esm3cr2zmwHq0mF54WT6Ua0yBX0UpIxI4KBKTZjq2iE7FmVOseT+zi1sA4bBu2qlq06Flu4dS0aJo3bFx2Kpqw5ddvJxekHJNuoht0Z154K6EmXVUEBQJPC8dq3hHv49UtIFIpXdDANqpZ9SkZs6eYruHUdKgZtutbdWsa7+dXayKV6qFaa+Kb5h7YbeTdaB8XSwqHSwqHZhsPrqIT7eGTKd5QwDYqmfSnmPKl167iVLTomjKnmK/m1y3llaugly4hmrJl3u8lnuuhWhrUzoTFQorJxeVazqygkuyg0yre0YA16hlzZ1exZNXvIlSy5xiuJFWuJRYtZJTjWdFjmZUvI52wJF3kmxQiGdLSzgjak8unGw9pnlEsIVNqXtGANWlYMeWWcCOU7uJUL2TWbWPVbiTV6eFSXtZOolgVa+Jb6Z+Y4dmS5RtUnlRMZpwRJRkNqd6RKyCS6Z3QwDUo17DkVe8ilGzg02wilSxi1G7lFSdfUR3Wj6AX0iAYkd0WT5mTDBhQR+BVzGfdEWSZDWzh0+qf0eidD8A0KJdwI9UtoVOroFJr4pPoIBOfGhAwbynoJWBXUYqWkcwdlxBjntjbk4wonREpnlCm249u5FXqH1FonM+AMyhXb2OUrWESoRmQUhDPCwwOQwYKKKtr+7z7KWRdqqSbZd9XM7PxrK3uFJENoVmQKF5R72RVauBR6h8RADKnlqzh0qSbD0oMDkKHDMWIy4fLTtXYmtlcXYmLzNxa1ZcV0RIVFp0hIoZJzgWIzNPSkG0jVOsgkqofkYAjntUpXs/XE03BxYqVVlRp6iel5uPbX2FLj1MAREkBQ4aAgYGBBAbMjU9GiExDhosDhgri3BMsIJJo3lDAGhkTpt3QDI0NRotO6q1o8zTv7e6mX6Ldm6JiF12dUlgY0ZcYFVscamzp1hwc0xtcz5ibVFPRal7RZ92QQCmhFx5YjwRHS9TanLNzsSWfFCSdCechEGnjEOciU6QlIedopmqrqSSmo6UmY2ZrKKd1c4zTE+Qaj2gd0AAuI1hTkU1BRUpLEZRc4aEa2ZdY11UZWljamtganJkaYKCYn57Y4B7Zn98YHt5WHVwZJGKFzA6dFo8pnhDAKF8Vq+uoLjJy4uZnjFHUggeKhAmMg4mMg8mMw0iMgwhLw8kMg0iMA8kMxEmNRIjLwkWIBgnNohyWaBxPspir0SIdVLlAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;그만좀 해라 &quot;
        title=&quot;&quot;
        src=&quot;/static/fa5269e5baec8f11e5813d69966802e0/5e02b/image-10.png&quot;
        srcset=&quot;/static/fa5269e5baec8f11e5813d69966802e0/c26ae/image-10.png 158w,
/static/fa5269e5baec8f11e5813d69966802e0/5e02b/image-10.png 252w&quot;
        sizes=&quot;(max-width: 252px) 100vw, 252px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;이번에도, &lt;strong&gt;Time Quantum&lt;/strong&gt; &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 정합시다.&lt;/li&gt;
&lt;li&gt;실행을 시작한 뒤 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;만큼 지나면 time-out 시킵니다. (Preemptive)&lt;/li&gt;
&lt;li&gt;이러면 &lt;strong&gt;실행 시간이 짧은 친구들은 하위 레벨 큐로 가기 전에 끝나고, 긴 친구들만 밑바닥에&lt;/strong&gt; 남습니다.&lt;/li&gt;
&lt;li&gt;프로세스들은 &lt;strong&gt;multi-level queue&lt;/strong&gt;에서 대기합니다(&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;RQ_0&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8778em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;Q&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; ~ &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;RQ_n&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8778em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;Q&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;)
&lt;ul&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번째 큐에서 나와서, block 또는 time-out 등, 실행이 중단되면, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i+1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7429em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번 큐, 즉 하위 레벨 큐로 내려갑니다.&lt;/li&gt;
&lt;li&gt;그러다 밑바닥인 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;RQ_n&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8778em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;Q&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;에 도달하면, 더 내려갈 곳이 없으니 여기서는 RR방법을 따릅니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;물론 이론적으로 starvation 가능성이 존재하지만,
&lt;ul&gt;
&lt;li&gt;CPU 속도는 너무 빠르고, 프로세스들은 자주 I/O작업하러 놀러가므로, 실제로는 보통 모든 큐가 비어있는 경우가 허다합니다..&lt;/li&gt;
&lt;li&gt;또한, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q=2^i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8247em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8247em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;와 같이 정해서, starvation 가능성을 더 낮출 수 있습니다.
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;어라? 그럼 0번 큐는 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q=1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;, 10번 큐는 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msup&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1024&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q=2^10=1024&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8141em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8141em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1024&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;가 되는데, 실행 시간이 긴 애들한테 패널티를 준다면서요??&lt;/em&gt;&lt;br&gt;
=&gt; 어차피 실행 시간이 짧으면 이미 내려오기 전에 끝났을 것이고, 실행 시간이 길어서 밑바닥까지 간 친구들은 실행할 기회조차 별로 없습니다..&lt;br&gt;
=&gt; 그러니 한 번 실행할 때 아주 꿈을 펼쳐봐라, 끝내봐라. 이런 목적입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f9b4911264b3fdf636292f3f839e957c/21b4d/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.89873417721519%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACWElEQVR42j2Sy2tTQRSH83+60S5ciQtFRcSKuBB0I+5UBBXRjShYsb7aEovFVhs1TVrjI22T3PfNfSR3bu5r5nNuCg4cZjiH+Z3fmW8avu8rz/MQQvDJkHy1JcOJpG1nUApmM8EkEaRpSqL3ItdnnRNJQlkI4mlCkSVkmaDMJqohRApKIRWcWUk5sSw4twEveikrPZ/N/TGkY/xxwDQKeL4TsGcEmF7Ao1agawFLuxEf/0Y8bEU0Et1JSqkFFXlo0/pj8qIbsbI/mwv/DhV3OxJR6I4oXh8ozn1SHMaSxc26cc7yz4jm35g7X+MjwaqqtEmF6bgYxgjhDXnVttg+8Lm5lfFkr2JtUHGvU2nRiqV+xfn1EltILjQznu9OuP99wuYvEz2yULVY7TIae7iWiWFaJL6FbZqs/XRpDwIWP1dc25I80BdJPN7teQS+z6+Rz1Z/zGY/YKdvqYbjOFIHYRhixgVuUjLNC6w4oyg0GJkSJilekjNOMpx4NgdUajiyTFEaXA0kz2fMUiEb0+mUPNOXy5KFtznHddxowYO2oDdweNryGdr6F4Q+SjuL9W67R7mXHX9e7x5oQ67FoWHTqLvNoWjMvuvwrmtz+4tg28o53VQsvJckeam/UsWtbxVtr35HiZNUnPxQcuyN5MzqlO6+QTUe0JhMJv+heK6LOYcy4vG2x/s/U5QsedpT/PAkZ9crLm1UXP8i8VM5p17H8qHi1IeUi6vRkcNarF6u62nKJiPDInQMAms0H+9KM9LujgTWhpKrGs7lDU3ZDwmCkCIJeNaJ54L/ANKI2320zj7ZAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;image 11&quot;
        title=&quot;&quot;
        src=&quot;/static/f9b4911264b3fdf636292f3f839e957c/f058b/image-11.png&quot;
        srcset=&quot;/static/f9b4911264b3fdf636292f3f839e957c/c26ae/image-11.png 158w,
/static/f9b4911264b3fdf636292f3f839e957c/6bdcf/image-11.png 315w,
/static/f9b4911264b3fdf636292f3f839e957c/f058b/image-11.png 630w,
/static/f9b4911264b3fdf636292f3f839e957c/40601/image-11.png 945w,
/static/f9b4911264b3fdf636292f3f839e957c/78612/image-11.png 1260w,
/static/f9b4911264b3fdf636292f3f839e957c/21b4d/image-11.png 1280w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h1 id=&quot;traditional-unix에서-쓰는-scheduling&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#traditional-unix%EC%97%90%EC%84%9C-%EC%93%B0%EB%8A%94-scheduling&quot; aria-label=&quot;traditional unix에서 쓰는 scheduling permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;(Traditional) UNIX에서 쓰는 Scheduling&lt;/h1&gt;
&lt;p&gt;실제 사례를 하나 봅시다.&lt;br&gt;
옛날 UNIX 시스템은 프로세서가 하나 뿐이던 시절에 맞는 스케줄링 기법을 사용했는데&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 311px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1b4a7a882b4db736e367f6fdedf0373f/ffa0f/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.89873417721519%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACbUlEQVR42gFiAp39AE9bYJminJymoGFrcXR4eIaIhXyFf5uhl7e3spyhm4qPiGtxadDRzv///////83R2A0iRRQpUQohSQQbQwBRXF+qs6yxvLhwe4OAgnt8fHZ3e3eOlI5mbW8/SlQ2Q08fLzxWYmb29vb////N0NUfJj0kMVQaLFEUKE0AfIWCsby2wczDnp6UnZyQfH52oKKaR1dhdm5kq5J8iHptXlpTLjg82tzd////z9LXFSA7GixMHjBUBxxEAFhjZa64stLe1rWwoouEb4GCdHBxaUVRVp2LdKSOfaWQgYd3ZE9RS8jNz+bn57K3wBcsUB8zVCAzVwYeRQBYZW20wLjW5d+Ng3lgVkOOloWWk4GqlYask3qOfXWZhXdqX1SKg3dgbXIPHyMfLTocMVcmNlwJHUUAGEAASlVWt8K8ws/HiIuAjJGIiYd2fHhsr5uFwaGFuJiIpIZvj3hijIV1QVFVGycrEx8kGy46HzFTCR9GARpCAE9aW6q2sLrGvoSKfYeNhI2Hcp6bjaqqoaePdZV9c3tlYodyYIKJfUhaWiErKyEpLiwuRRwtUCM0VxMnTgCcp6mZpaSOl5KMkoZmalhvd3MvP0wrQ11tZFqIcGVsU05CPDMjNUQjNUY8REJFTUwSK1AdMFURJUoCGkMAnqqokp2bfoiHi5KOYmx2WmuBWml5Fyk5RUpPenRwcmphP0VGCxQfAAsbFCEsSFBKJTFGJS1PGixPDiRKAJGbmouVlISPjWJtdExQWEhMU5COjENFSEZNVX58e4N9eYqBeyAkKQAFEQAIEg4VISMsRRMjRCM0WRMoTchM/mjxzwIlAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;나때는말이야&quot;
        title=&quot;&quot;
        src=&quot;/static/1b4a7a882b4db736e367f6fdedf0373f/ffa0f/image-12.png&quot;
        srcset=&quot;/static/1b4a7a882b4db736e367f6fdedf0373f/c26ae/image-12.png 158w,
/static/1b4a7a882b4db736e367f6fdedf0373f/ffa0f/image-12.png 311w&quot;
        sizes=&quot;(max-width: 311px) 100vw, 311px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;기본적으로 &lt;strong&gt;Feedback 기반의 Multi-Level Queue&lt;/strong&gt;를 사용합니다.&lt;br&gt;
위에서 살펴본 Feedback 방법과 다른 점은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;같은 우선순위를 가지는 프로세스끼리는 :
&lt;ul&gt;
&lt;li&gt;하나만 있으면, 혼자 계속 실행(FCFS)&lt;/li&gt;
&lt;li&gt;둘 이상 있으면, RR&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;time-out이 되어도 아래쪽 큐로 가지 않고&lt;/strong&gt;, 대신 &lt;strong&gt;정해진 시간(ex. 매 1초)마다 우선순위를 다시 계산&lt;/strong&gt;하여 재배치합니다.&lt;/li&gt;
&lt;li&gt;우선순위 구성 :
&lt;ul&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;P_j(i)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번째로 계산된 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;j&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.854em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 프로세스의 우선순위&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;Base_j&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.9694em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05017em;&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;j&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.854em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;프로세스에게 주어진 기본 우선순위 값(하는 일에 따라)&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;nice_j&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.9456em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;ni&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; : 유저가 조정할 수 있는 우선순위 값. systemcall로 이를 조정할 수 있다&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;CPU_j(i)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;CP&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; : CPU 사용량만큼 패널티를 받는 값. 자세한 계산은 아래서 살펴봅시다.&lt;/li&gt;
&lt;li&gt;이제 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;P_j(i) = Base_j + CPU_j(i)/2 + nice_j&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.9694em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05017em;&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;CP&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/2&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.9456em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;ni&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;처럼 나타낼 수 있는데, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;Base&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05017em;&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;se&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는 워낙에 커서 이 클래스가 다르면 역전은 꿈도 꿀 수 없습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;우선순위 계산 : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;8&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;.&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;CPU_j(i) = CPU_j(i-1)/2 = U_j(i-1)/2 + U_j(i-2)/4 + U_j(i-3)/8 + ...&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;CP&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;CP&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/2&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/2&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/4&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/8&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.1056em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;ul&gt;
&lt;li&gt;이 때, utilization 값인 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;U_j(i-k)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 는 : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;j&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.854em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번 프로세스가 저번에, 저저번에, 저저저번에, ... CPU를 차지했던 비중. 입니다.&lt;/li&gt;
&lt;li&gt;즉, 각 interval마다, &lt;strong&gt;내가 얼마나 CPU를 차지했었는지에 따라 패널티&lt;/strong&gt;를 가져갑니다.&lt;/li&gt;
&lt;li&gt;또한 시간이 지날수록 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;8&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;.&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;/2, /4, /8, ..&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/2&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/4&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/8&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;..&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;과 같이, &lt;strong&gt;패널티가 반감&lt;/strong&gt;됩니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fairness를&lt;/strong&gt; 많이 챙기고자 했음을 알 수 있네요.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
다음 시간에는 계산대가 여러 곳 있는&lt;br&gt;
Multiprocessor 환경에서의 스케줄링으로 다시 찾아오겠습니다&lt;/p&gt;
&lt;p&gt;이만 마칩니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🗂️ Gatsby 블로그 깔@롱한 목차(Table Of Contents) 만들기]]></title><description><![CDATA[저저 빨간색 화살표 쳐 놓은 저런거 있잖아요?? Table Of Contents라고 한다고 하네요. 암튼 목차입니다. 저런게 좀 있어야 조금 더 블로그다울 것 같습니다. 먼저 Table Of Contents…]]></description><link>https://sungpaks.github.io/table-of-contents-in-gatsby-blog/</link><guid isPermaLink="false">https://sungpaks.github.io/table-of-contents-in-gatsby-blog/</guid><pubDate>Sun, 09 Jun 2024 17:47:34 GMT</pubDate><content:encoded>&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b71480d50e5b49e1808a50e7df3988dc/701e9/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.632911392405056%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABt0lEQVR42oWST26CYBDFcWViFBUUFKqCQuu/miCtCxfuvIYrr9LudKUrE6/iFdoDqDcw1pXVxevMtBC7aEryEvLxzW/ePEbp9XpwXReO46Cg68jn8/9K0zRRoVCAZVlU62IQBui2HqCoqopsNotcLieXDcOIVSwWpShSdK5T4wjKNVyrqt8MhT9GYngQBBiNRnh+esJgMEDY7yMMQ3S6XYzHYwyHQ9i2LXcF+APWdI0YGpSoE4s7VCoVOBSBfWfDokKd3ZFTwzRQKpdhmiad6aj5DRTJrckx3DBioP6Tn1uvo9cP0Op28Ei5NNtt3DebKNsW6bsJ32dYjmpckkPidz0CMsiybIG+vryAn8PhgI/jEZ/nM97f3iTnXz+FsyPZ5Lpeq6JSrYr7G6AluczncwGeTieB8rPdbiUOvsvgTCYTT1QqldBoNOB5HkxyHY9sGCYSiQRms5lAFosFJpMJrtcr9vs9UqkUmjT6er2G7/vxVpTJIcMY/CtDXgdFUWKHm80Gq9VK3ne7nTjj1Vkul5hOp9KAXZoEEnc0Ljf4E3i5XMRdNHK0b8lkEul0GrdReb5Hy12Thl8ytERoKp1jswAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;벨로그&quot;
        title=&quot;&quot;
        src=&quot;/static/b71480d50e5b49e1808a50e7df3988dc/f058b/image.png&quot;
        srcset=&quot;/static/b71480d50e5b49e1808a50e7df3988dc/c26ae/image.png 158w,
/static/b71480d50e5b49e1808a50e7df3988dc/6bdcf/image.png 315w,
/static/b71480d50e5b49e1808a50e7df3988dc/f058b/image.png 630w,
/static/b71480d50e5b49e1808a50e7df3988dc/40601/image.png 945w,
/static/b71480d50e5b49e1808a50e7df3988dc/78612/image.png 1260w,
/static/b71480d50e5b49e1808a50e7df3988dc/701e9/image.png 1780w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;Velog를 만드신 velopert님의 블로그 글&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;저저 빨간색 화살표 쳐 놓은 저런거 있잖아요??&lt;br&gt;
Table Of Contents라고 한다고 하네요. 암튼 목차입니다.&lt;br&gt;
저런게 좀 있어야 조금 더 블로그다울 것 같습니다.&lt;/p&gt;
&lt;h1 id=&quot;먼저-table-of-contents-정보를-받아옵시다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A8%BC%EC%A0%80-table-of-contents-%EC%A0%95%EB%B3%B4%EB%A5%BC-%EB%B0%9B%EC%95%84%EC%98%B5%EC%8B%9C%EB%8B%A4&quot; aria-label=&quot;먼저 table of contents 정보를 받아옵시다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;먼저 Table Of Contents 정보를 받아옵시다&lt;/h1&gt;
&lt;p&gt;그럼 일단.. 마크다운이 HTML로 파싱되고나면..&lt;br&gt;
각 헤더 요소들(&lt;code class=&quot;language-text&quot;&gt;h1, h2, ... , h6&lt;/code&gt;)을 가져다가..&lt;br&gt;
그에 상응하는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;a href=&quot;#id&quot;&gt;&lt;/code&gt;를 만들고..&lt;br&gt;
각 헤더 요소들에도 그에 상응하는 &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;를 넣어줘야 하고..&lt;/p&gt;
&lt;p&gt;를 하지 않아도 Gatsby에서 다 이미 지원합니다&lt;br&gt;
각 포스트들은, 제 경우에는 &lt;code class=&quot;language-text&quot;&gt;gatsby-transformer-remark&lt;/code&gt;라는 플러그인 이 파싱해서 HTML로 만드는데 (&lt;code class=&quot;language-text&quot;&gt;gatsby-starter-blog&lt;/code&gt;로 시작한 경우 이 플러그인을 사용)&lt;br&gt;
아주 편하게도 그 파싱 결과에 &lt;code class=&quot;language-text&quot;&gt;tableOfContents&lt;/code&gt;가 이미 준비되어 있어서, 달라고 하면 바로 줍니다.&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 277px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/82230b61bfba574883f8057827dd82a5/2a985/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.82278481012659%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZ0lEQVR42mP4+/fvP1Tw58+f////Hzt6XFNDT0lRXVFBzdjI4vbtu0BBoBSySgY0zUAuRHNiYgo3J6+cpLSshCQ/t8CsWXOAgr9//0bXDBRFFgLZ8PdfZHCImYqCnISYqoy0GC9vVnomUByiGA4YIKr/QSX+/fjx48njx0CRnKT4WFtTaRHhFGcHfyO9uNg4LJr/wgDElAcP7i2aP+fNqxeLFiwQ4ObWkJZSlZYU5eMJ8Pb6+uULRD/C2ZAwAIrevHnz2uFdKzvrs2JjClMzGisrpEWFM5wcrNVURIQEhDk5p02aAFT269cvhGYgBvLrKiottbQ2N5ccm9CQ7uboYmmhIiMtws8tISxgqKIItFycl8fdyfH7z5/IljMAOZs3bBDi4LLT0To9q+tAf/2GjuoUD1sBdnZ+bo6CYK9z/c2bawq05WU9DHVurVn05c0rSACD/AzE3a2t8qJiGvLyCytzry2aeHpmr6OBJgcLk5O+1o3Vc28umHx7zsR11blrMsKLXGwC3NxevnwJ0Q/SvGHVKi05eU1FZWN1tQx/D08zAzE+bi4W5swgr7tbVpyY0nm2t/FYd62TjrqksIgUH19zTTXE8QyQJNXV3KwtrygvJt5QX+fu4ijIycbLwd6aGX93+YzT07suzehc11CkKiWuJSunKilhZ2z0/u1bkLMh6ennjx+L583fsWULMPACvb0EuDgE+bjtjbT7shMWVeS2JUdYqinLiohoyctryso5mJq+fvUKGs//kOL53bt3Blpawry84oL8fJxsYgJ8ShISYnx8QtzcsiKiqjIySuKSUYGBkCQJACTX1ueIPMcxAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;강도예요&quot;
        title=&quot;&quot;
        src=&quot;/static/82230b61bfba574883f8057827dd82a5/2a985/image-2.png&quot;
        srcset=&quot;/static/82230b61bfba574883f8057827dd82a5/c26ae/image-2.png 158w,
/static/82230b61bfba574883f8057827dd82a5/2a985/image-2.png 277w&quot;
        sizes=&quot;(max-width: 277px) 100vw, 277px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
안녕하세요저는강도애요저에게목차를주새요 
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;근데 꺼내는건 알아서 꺼내야합니다 언제까지나 밥상 차려주길 기대할 수는 없겠죠?
&lt;strong&gt;GraphQL&lt;/strong&gt;을 적당히 이용해서 쿼리를 날리면 될 것 같습니다&lt;/p&gt;
&lt;p&gt;그래서 Gatsby에서 graphql을 어떻게 해야 잘 쓸 수 있는지 문서를 뒤적거리다가..&lt;br&gt;
헉! 이런걸 발견&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e28fc8775a9317d04e5eb2c5676bf1a4/cad6c/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 45.56962025316456%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPElEQVR42m1Ry26DMBDkQ5NjKgFRG6kf2N/ooZHaJAQwxm9j/EzXuKcqo/GubTE7u6ba7Xb7/f5weDmdTk3T1MC6btq2Kaib4/tb+3psmhYuC+B6y8fK+eB9sNatK9CGGGNKsDJDTI+H/LjwC1Gr0WpRepFKS1WiropyWQxE57zNybsNUMvHoD8xG9mdiAFLTBXligugBlbl01JSLwY2UCjTGKW0McbGILUeZ3EdBZo5oYxxzgCUVdAnmPnVBWjfF0/IoezDBiG1lGqYNZoIwz3BiE4DxahKKdnVKuXYEhcHJxjzP4RUjJIBzbeRIoTpBKn/E2ezkKiOz4SbmFHcnefua75/49uZDNe5/yFjtznb7ChMNC49LQDPy7icqMoD07xyhJmLOP+Y9AA+NQcxF7LHapwoRV3uGWaexl+bO+XYqxaY1AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;graphiql&quot;
        title=&quot;&quot;
        src=&quot;/static/e28fc8775a9317d04e5eb2c5676bf1a4/f058b/image-3.png&quot;
        srcset=&quot;/static/e28fc8775a9317d04e5eb2c5676bf1a4/c26ae/image-3.png 158w,
/static/e28fc8775a9317d04e5eb2c5676bf1a4/6bdcf/image-3.png 315w,
/static/e28fc8775a9317d04e5eb2c5676bf1a4/f058b/image-3.png 630w,
/static/e28fc8775a9317d04e5eb2c5676bf1a4/40601/image-3.png 945w,
/static/e28fc8775a9317d04e5eb2c5676bf1a4/78612/image-3.png 1260w,
/static/e28fc8775a9317d04e5eb2c5676bf1a4/cad6c/image-3.png 1339w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;개발환경 열어놓고 &lt;code class=&quot;language-text&quot;&gt;localhost:8000/___graphql&lt;/code&gt;(또는 &lt;code class=&quot;language-text&quot;&gt;___graphiql&lt;/code&gt;. &lt;code class=&quot;language-text&quot;&gt;_&lt;/code&gt;가 세 번)으로 들어가면&lt;br&gt;
이런 깜찍한 in-browser IDE가 존재합니다..&lt;br&gt;
여기서 적당히 시험해보고 잘 나오는지 확인한 다음 쓰면 될 것 같습니다?&lt;/p&gt;
&lt;h2 id=&quot;graphql-쿼리를-작성해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#graphql-%EC%BF%BC%EB%A6%AC%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%95%B4%EC%9A%94&quot; aria-label=&quot;graphql 쿼리를 작성해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;GraphQL 쿼리를 작성해요&lt;/h2&gt;
&lt;p&gt;Gatsby에서 GraphQL쿼리를 이용해먹는 법은 몇 가지가 있는데&lt;br&gt;
일단 &lt;code class=&quot;language-text&quot;&gt;import {graphql} from &quot;gatsby&quot;&lt;/code&gt; 이런식으로 써주면&lt;br&gt;
graphql 쿼리를 딸깍 할 수 있는 함수?? 뭐 아무튼 그런걸 줍니다.&lt;/p&gt;
&lt;h3 id=&quot;page-query&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#page-query&quot; aria-label=&quot;page query permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Page Query&lt;/h3&gt;
&lt;p&gt;일단 각 블로그 포스트에 해당하는 페이지를 만드는 컴포넌트에서 쓰이는 방법인 &lt;code class=&quot;language-text&quot;&gt;pageQuery&lt;/code&gt;는..&lt;br&gt;
아 참 &lt;a href=&quot;https://www.gatsbyjs.com/docs/how-to/querying-data/page-query/&quot;&gt;docs는 여기&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;graphql&quot;&gt;&lt;pre class=&quot;language-graphql&quot;&gt;&lt;code class=&quot;language-graphql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;token definition-query function&quot;&gt;TableOfContentsBySlug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token scalar&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property-query&quot;&gt;markdownRemark&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$id&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;id&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;tableOfContents&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;머 요런식이면 될 것 같은데요? 대충&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;에 해당하는 게시글의 마크다운 파싱결과 중에서 &lt;code class=&quot;language-text&quot;&gt;tableOfContents&lt;/code&gt;를 가져온다&lt;br&gt;
이런 뜻입니다&lt;/p&gt;
&lt;p&gt;그럼 아래처럼 줍니다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&quot;tableOfContents&quot;: &quot;&amp;lt;ul&gt;\n&amp;lt;li&gt;\n&amp;lt;p&gt;&amp;lt;a href=\&quot;#목차1\&quot;&gt;목차1&amp;lt;/a&gt;&amp;lt;/p&gt;\n&amp;lt;ul&gt;\n&amp;lt;li&gt;&amp;lt;a href=\&quot;#목차2\&quot;&gt;목차2&amp;lt;/a&gt;&amp;lt;/li&gt;\n&amp;lt;/ul&gt;\n&amp;lt;/li&gt;\n&amp;lt;li&gt;\n&amp;lt;p&gt;&amp;lt;a href=\&quot;#목차3\&quot;&gt;목차3&amp;lt;/a&gt;&amp;lt;/p&gt;\n&amp;lt;/li&gt;\n&amp;lt;/ul&gt;&quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;대충 보니까 HTML형태를 이미 구성해서 주네요??&lt;br&gt;
너무 친절해 감동&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 215px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/123450a06e43c576eeeb36d21b07a787/2eb24/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 108.86075949367088%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE4ElEQVR42hWT61MTVxiH86laIAkENYRkE5PsZq/ZW7K72Xtu5CIhFwxJIKBEQDLQUBApAgUVtV5G1JGgMmq1Vh1r26l26nTG6djO9FvbP6rLzDvn2zPnOb/z/kys4EVpFysHEgWBj6OcBEoaLKkBUYZEBeY1mFMDYRkK8pCSYTLVqJgiac6txkA5DpuCLIDTQEiB9MGwpCFcCAiTDproCzNOKeKXdDSio0IUp0RYz4WzFV1KUgTtEjUolsJNOO3CaSenwaqO0rgD9dv8x63OPsuxXrPbbTNExCjCxXBKRg217IjKa4iBKDocGwiaULKfYACGdROIHXCYvW4b6D1qt5v7+7tx1EXx3pCOCHGC1ch0SUkUIhQPUiGPrMOCCpsw0omidgLpQyG722XzAr2w92hcCqyczbS36psLxVia5nQ0HCXjuYiUYomQl6ABA5aiiAH3Y0ifF+hxuXrtdivqP1LLUve2xt/uL7+8Nfv88sTmQl4dIMPRYHxQEJNB7CAjtxhDdOPNKA64gR77MUuPzQIAtpgUWD2bub819vzO/A8PVh9vNnbX66XhCBdlkzlRHaDgoBOnADWOqgkDJoA+h9Vq7TJgkgTyGWppMr49n91ZG7uyMblyKr1wUinnOCER0rN8RMdB1MEKflmDWQkyEYy3H7B1dB629VrAwFFF8E0V+eW6ulCVpypKq6pdb5WaY7FElud0khYgED0IWNYROYqZCNYXCAKfd35m6+4Ugh4W6y/EsKWatD2X22oWbp4beX5tdn9jfHRYpkSC4SAQ6cNIT0SBlbjxz6wvpGA+1OkEjoxIgSwPpHhPPYGujCp3FoZ3WqXNifjNZq54IkzwKEn7QMSBUR5BBo3lM2GMl5YwIUFjrHdIQqtRZEjxFxRwNApPp4nzFW1+iGukqUJJoXTyOA1ApEuQED0ZlJO0iVFwcYBRMmyQ86Gos5JgSipcVKCqhpwZCDbzfD3NDwlwUiNljiogOAO7IQIQjM3XERMS8lEKGtKIAO70oQ6V8WQEKCdDZR05lcAmYliKO34DVn/21+oe9qkrM+vjHFifEAnIMcyEhEFBJygechB+F4MkOe+ghAyKgSEZKkT8J2Uor/tWyeSHnuJdprQH5qq02I/0ckZnjLRpMYBkU/b8cIesWSlG48CCDBaNkaCCDJ2I+HGZuXXh1t+r7V+vPvpje3+92VJTop6gZCNt53jD3Nq2tK72TK93DE8F5FA5Co9E4ZMKVNagBO/1RLgfP3367a8/24/37+0/+PDx4y/v3o81ykIUNnUt3TCfv22c1nM3zWt3uytn0yl+IoGMaHBZ8U+UtPazZ//89+/rV3t77fuPHjx69er1T+/eV8eLRs9NXfMH1x7wc5e6Fy+Zmxvu3HA1RdQSeD2OqQKYnZ5/8+be7a3Qw4ftnZ07D3d3v3//e+JUmdcCJvPi9a6pdfP8pQP55pr1zGJHZTo8qE+eIBtZihKCSLn+9OXj755svXz71hBuf/ti+cmL7Pp6yOhzZ+uauXW5Y2at84tt8/zX1tNfWsqT1kItX9Qb+dCRcAit1E/f3sOXv4ksbMzt7MLTi4cb544tXmGysqF90TK7YYx57qJlbr175kL36ExnftRbGlHTolnPOmpT5sbSoZnVQ7WmtTDRMTRhbayYv7rhrVX+B0/PW0MpWdziAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;정든다&quot;
        title=&quot;&quot;
        src=&quot;/static/123450a06e43c576eeeb36d21b07a787/2eb24/image-5.png&quot;
        srcset=&quot;/static/123450a06e43c576eeeb36d21b07a787/c26ae/image-5.png 158w,
/static/123450a06e43c576eeeb36d21b07a787/2eb24/image-5.png 215w&quot;
        sizes=&quot;(max-width: 215px) 100vw, 215px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그럼 이제 대충 &lt;strong&gt;TableOfContents&lt;/strong&gt; 컴포넌트를 만들고,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; pageQuery &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  여기다가 쿼리 넣기	
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 쓰면, 그 결과가 props에 &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;라는 이름으로 담겨 들어옵니다&lt;/p&gt;
&lt;p&gt;근데.. 그럼 &lt;code class=&quot;language-text&quot;&gt;id=?&lt;/code&gt;에 해당하는 바인딩 변수를 넣어줘야 하는데,&lt;br&gt;
그러려면 &lt;code class=&quot;language-text&quot;&gt;gatsby-node.ts&lt;/code&gt;까지 가서 프로퍼티를 새로 작성하고.. 바인딩 변수를 거기서 어쩌구..&lt;br&gt;
아! 귀찮은데요!! 다른 방법 없을까요?&lt;/p&gt;
&lt;h3 id=&quot;component-query&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#component-query&quot; aria-label=&quot;component query permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Component Query&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/how-to/querying-data/use-static-query/&quot;&gt;Component Query에 대한 docs&lt;/a&gt;를 살펴보면&lt;br&gt;
먼저 &lt;code class=&quot;language-text&quot;&gt;useStaticQuery&lt;/code&gt;를 &lt;code class=&quot;language-text&quot;&gt;import&lt;/code&gt;해서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const data = useStaticQuery(&quot;여기에 쿼리&quot;)&lt;/code&gt; 이런 식으로 받아올 수 있나봅니다&lt;/p&gt;
&lt;p&gt;이게 더 간단해보이는데 문제는..&lt;br&gt;
&quot;정적&quot;쿼리라서 변수를 넣어줄 수 없습니다.&lt;br&gt;
&lt;em&gt;지금 보고 있는 게시글&lt;/em&gt;에 대한 목차만 있으면 되는데, &lt;em&gt;모든 게시글&lt;/em&gt;에 대한 목차를 가져오면 안되겠죠?&lt;/p&gt;
&lt;h3 id=&quot;한-줄로-해결-ㅋㅋ&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%9C-%EC%A4%84%EB%A1%9C-%ED%95%B4%EA%B2%B0-%E3%85%8B%E3%85%8B&quot; aria-label=&quot;한 줄로 해결 ㅋㅋ permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;한 줄로 해결 ㅋㅋ&lt;/h3&gt;
&lt;p&gt;근데 생각해보니까, 각 포스트를 렌더링하는 컴포넌트(저는 &lt;code class=&quot;language-text&quot;&gt;blog-post.tsx&lt;/code&gt;라는 이름)에서&lt;br&gt;
이미 각 &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;에 해당하는 정보들을 &lt;code class=&quot;language-text&quot;&gt;pageQuery&lt;/code&gt;로 받아오고 있으니&lt;br&gt;
여기다 &lt;code class=&quot;language-text&quot;&gt;tableOfContents&lt;/code&gt; 한 줄만 추가하면 되겠는데요?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;diff&quot;&gt;&lt;pre class=&quot;language-diff&quot;&gt;&lt;code class=&quot;language-diff&quot;&gt;export const pageQuery = graphql`
&lt;span class=&quot;token unchanged&quot;&gt;&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; query BlogPostBySlug(
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   $id: String!
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   $previousPostId: String
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   $nextPostId: String
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; ) {
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   site {
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     siteMetadata {
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;       title
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     }
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   }
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   markdownRemark(id: { eq: $id }) {
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     id
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     excerpt(pruneLength: 160)
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     html
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     frontmatter {
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;       title
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;       date(formatString: &quot;MMMM DD, YYYY&quot;)
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;       description
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;       tag
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     }
&lt;/span&gt;&lt;span class=&quot;token inserted-sign inserted&quot;&gt;&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;      tableOfContents
&lt;/span&gt;&lt;span class=&quot;token unchanged&quot;&gt;&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 한 다음, &lt;code class=&quot;language-text&quot;&gt;tableOfContents&lt;/code&gt;만 쏙 빼서
새로 만들 목차 컴포넌트에 props로 전달해주면 될 것 같습니다&lt;/p&gt;
&lt;p&gt;그럼 이제 컴포넌트를 작성해봅시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useStaticQuery&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gatsby&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ComponentProps&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  tableOfContents&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;TableOfContents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; tableOfContents &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ComponentProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;toc-container&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      this is ToC
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tableOfContents&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; TableOfContents&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 하고 시작해봅시다&lt;/p&gt;
&lt;h1 id=&quot;받아온-table-of-contents를-html로&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B0%9B%EC%95%84%EC%98%A8-table-of-contents%EB%A5%BC-html%EB%A1%9C&quot; aria-label=&quot;받아온 table of contents를 html로 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;받아온 Table Of Contents를 HTML로&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6b2692678c368e3b51f8d095d2d4b363/2ad15/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 84.81012658227847%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACU0lEQVR42m1T227aQBDl/z8jfUmfGylKSxCBVAJLEB6QIJEqYXvtvfhur40NweTM2oUo7TJe1uOZM2cuO6iqqtC6ORzObXs6nY7vZv09HDs5Htu2Pf+zBnleyCAMo1gFoZCBkEpwyYX0feF6PvO4VIHPOcxKhCkKBDsgUuesyzKK4iRJkzSL0zQMYyDBGSi0AwV/KuBcAogxzzPvTXM4te0gjhPbYT6HkXSZZ7sMAV3Xc1wGgQZYaZZneREnaYoASYpYaZbBn2gDCngqCBABqNiDIARdJALJcnjmRaEzgiAU8Ec5iDa0oOK4FCEymSP/IIxAGP7giOAO81yXgTkpudzXdVe9AfBgwaWUCl5JiPSTDIhlWUGqam+2uqr6Mz7t9/X54gye0pSHc+H5ggswV9BISYl0SQkVwJKSx1MUaCo5I3VTW1BS1CfyUURPKGSB5JEMdmh0WcEY3UIFrn0GXUgcp6g8JDI77GCtQb8s0VgMCc1MP0PvvTM6zBgVzPN90HPpwOnhgnmkwVff5wDD3JnZO12mDdWmVoEYCEJMezBSAoJXcsZJCNt2u09kFkWd+6CuawTXWqOMeaGbpqnNKrvy0qpQXrwiBagwG3Xd9JHNdehvAi6AIdVeubX/WdeLgWNLv171+fMX0+7cQffO52Pcanu3c+az+dPkaTKd7Ha75WIxnU5fXlbbzWb0OHJsx7KszXb78OunZc33F9qKvf1Z/96+vt3d/ZjPrefn6Wq1Go/H325u7u8f1uv18HE4m82Gw+FiuRyNRt9vbzfbV8Pk/AFDM7S8GqgN4AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;요질알이 됨&quot;
        title=&quot;&quot;
        src=&quot;/static/6b2692678c368e3b51f8d095d2d4b363/f058b/image-4.png&quot;
        srcset=&quot;/static/6b2692678c368e3b51f8d095d2d4b363/c26ae/image-4.png 158w,
/static/6b2692678c368e3b51f8d095d2d4b363/6bdcf/image-4.png 315w,
/static/6b2692678c368e3b51f8d095d2d4b363/f058b/image-4.png 630w,
/static/6b2692678c368e3b51f8d095d2d4b363/2ad15/image-4.png 801w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그대로는 그저 일개 문자열일 뿐이라,&lt;br&gt;
진짜 HTML 요소로 바꿔줘야 합니다&lt;/p&gt;
&lt;p&gt;React에서 지원하는 HTML Attribute로 &lt;a href=&quot;https://legacy.reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml&quot;&gt;dangerouslySetInnerHTML&lt;/a&gt;이라는 것이 있는데
문자열을 HTML로 바꿔주지만&lt;br&gt;
이상한 사람이 준 문자열을 그냥 갖다 바꿔버리면&lt;br&gt;
&lt;a href=&quot;https://en.wikipedia.org/wiki/Cross-site_scripting&quot;&gt;Cross-Site Scripting(XSS)&lt;/a&gt;라는 보안이슈가 발생할 수 있어서&lt;br&gt;
어흥! &lt;code class=&quot;language-text&quot;&gt;dangerously&lt;/code&gt;를 붙여놨다고 하네요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;toc&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;dangerouslySetInnerHTML&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;__html&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tableOfContents &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;암튼 이렇게 작성하면&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 465px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9bdf70342cf0e729cf1e186c75df5dd9/9ff85/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.15189873417721%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABrUlEQVR42pWSCW+jMBCF+f+/L21SQg6u4GDj28YHhg4k1Wa71Wp3ZKGRsfXe+8bZsiwhBIyJ1oaQwY4OduZlnrfv8tfK1qPz7EYfQwwhppSWf65sihOT/Dpcbrw9k0tDm/f7oeW33e2twMeSnNOcNgsPF/Nm6ukoA1mwzQ2To+SWW2+11z566aQNZgz2cfTHAFmMURnd8rqXqBMd1n1D65pVvbxfaVnztlMox/kJFwR+sboklyMuXXBPZeiIIdopPjIQ1F6JUYA+LOWVCYZayizljiOFBkMGQ8MUnsCggBYzDAnUsvaIi16RGzTkeONdcS9O+BpT/Jk2VJqS8YZZxq3gowB9Zuhqx2toQGpK09cIfzHLHlugTGRf4Lzh9Qc6APxOoAs+5fe8YuWJnPfd7tDtqWXLy/yfymvy6CAqHzks5ZQB7G4ND7EVhHdKOmWj/UZ7YoLu0W7X7VrRVqz6QPu3bl8CalqfSVEPJRL3hrW97Of5t5GttCHPCtZJsaI2G3ah3UNNwoIGcILytwe7KgslanqpaO1jXP6nspRgzh4mTA2NG9I/6/VJvl7+BISxJvmFuKQrAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;HTML로 변환함&quot;
        title=&quot;&quot;
        src=&quot;/static/9bdf70342cf0e729cf1e186c75df5dd9/9ff85/image-6.png&quot;
        srcset=&quot;/static/9bdf70342cf0e729cf1e186c75df5dd9/c26ae/image-6.png 158w,
/static/9bdf70342cf0e729cf1e186c75df5dd9/6bdcf/image-6.png 315w,
/static/9bdf70342cf0e729cf1e186c75df5dd9/9ff85/image-6.png 465w&quot;
        sizes=&quot;(max-width: 465px) 100vw, 465px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 나옵니다&lt;/p&gt;
&lt;h1 id=&quot;css를-넣어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#css%EB%A5%BC-%EB%84%A3%EC%96%B4%EC%9A%94&quot; aria-label=&quot;css를 넣어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CSS를 넣어요&lt;/h1&gt;
&lt;p&gt;저도 &lt;a href=&quot;https://nocss.club/&quot;&gt;no-css club&lt;/a&gt; 참 좋아하지만 정식회원은 아닙니다.&lt;br&gt;
그대로 쓸 수는 없겠습니다?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 310px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3dd3b2d405400816612573df35a59bde/5fad2/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.53164556962025%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AJViUIVdS3hWRI1iTYJcSnNTRYFbSpBhUZViUZtlU5FiTY5gTpJhUJlkUIxbSq2lX/L3ifb4kefvjd3pigCKWkqBUkp6T0KWYE2SXUySYE+SYVCSZE+LXklxTkN+Xk9pUUN8V0aTYEiOW0qlnlrg5Hjw8IXY4IK8z3cAj65hipxcf4lUgnpSeGVMbVdFe1VGjV5LdlNGimtZpX9rs410x49tl2dWhW5fiYlyoaSB2Nye6e6e6u2UAK7ldLfsd6vjda3heajYdpvGbY6zZKidZt+ti7yYe7KOcL6La/i5lcyziau2idrgxuzy6Oft6t/j3N/XyQCeznGJtnGl13Cp3HKr3nSw5Hiw53q023PZ3rTz6+Xu3sm+q6DJwYP9+o///5be5ojI2YHn7pnY3Jze1q4AKldyCztqnMp0qt5yqNtzqtx1qdx0pthy3+vS+fj/+Pj+7PXwttd/0d9z6u+F0tyAws91//+S/P6T+/+RAGkeTzcrXpSIbMXggajbc6rcc6vfda7ddNjEkdTas9PVr87Lmardd6LOb6LIbabPcbHTcr3VeMvVfdrhhAC1ZkC3Hy2mU0W24IGw5Hi363+q43et4Hew03ys4HSt3new3nuy5Xm+64LT6Yu+qWmrjVmlr2Wq1XSr0HUAqd9zq8VorIFNs49WvV1Hx4VjzdGAtuN8t+Z70NmDych6v9B/ruh9ytp/wl9EwRsuvRArrTY2rs5ytOt7AKrdcqvpea2VUqkrNLcfM7QVLqR8WKnfeaSxZLlFO8ItO607PaehZKLMbqhaRLUqN6BBPJmkYqvhdrHiegCp23Gp3XCh1nWHnXJ+eWGEamGOk3Sey3qOiGuYRkqJREeIX1udjWSLpnyCjnOFiWuRqXqcxnys33ey5HqDcYa4qPIowwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;오늘은 어느걸 입을까?&quot;
        title=&quot;&quot;
        src=&quot;/static/3dd3b2d405400816612573df35a59bde/5fad2/image-8.png&quot;
        srcset=&quot;/static/3dd3b2d405400816612573df35a59bde/c26ae/image-8.png 158w,
/static/3dd3b2d405400816612573df35a59bde/5fad2/image-8.png 310w&quot;
        sizes=&quot;(max-width: 310px) 100vw, 310px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;뷰포트가-넓을-때--사이드-메뉴로-만들어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B7%B0%ED%8F%AC%ED%8A%B8%EA%B0%80-%EB%84%93%EC%9D%84-%EB%95%8C--%EC%82%AC%EC%9D%B4%EB%93%9C-%EB%A9%94%EB%89%B4%EB%A1%9C-%EB%A7%8C%EB%93%A4%EC%96%B4%EC%9A%94&quot; aria-label=&quot;뷰포트가 넓을 때  사이드 메뉴로 만들어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;뷰포트가 넓을 때 : 사이드 메뉴로 만들어요&lt;/h2&gt;
&lt;p&gt;저는 shout out to velog 하고싶은데요&lt;br&gt;
velog는 아예 포스트 section은 중앙에 고정이고&lt;br&gt;
사이드에 목차를 표현할 충분한 공간이 있을 때만 사이드 목차를 띄웁니다&lt;br&gt;
그럼 먼저 오른쪽 사이드에 고정시켜야겠는데&lt;br&gt;
velog를 개발자도구로 좀 뜯어보니까&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.toc-container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; fixed&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 25%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대충 이런 깔로 했네요&lt;br&gt;
전 클래스 이름을 table of contents 줄여서 toc라고 했습니다.&lt;br&gt;
영어권에서는 ToC라고 줄이는것도 은근 국룰인 듯&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4a113275bcbf47ad8e9db61fd280e9b6/ee515/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 28.48101265822785%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2UlEQVR42mWQzW4DIQyE9/1fJocec4t66gNUqtRIlcJml+DsBvAGA4atkyioP6M52MIz+kTnnFvXtda6/lYppc3yGmNiLn9uuv20/brsDm7X+7d3vTnY1w94+YTtz6OUs0EDC5jFYMJSSy5ZGjttlPVnSp4SYphDdAvNC12E5GFRZpbkgMPRH0ccpzDNYaZMncCIcy5JTu4zS21m2VpYhBEHP4x+VE7BFbjyDftkQJ+MWAaAs7WOAl1DiCk1bGnVqJVVveslLy3EdAsHuivG///RJBzCWZueQN8kBlq+uMMAlwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;오른쪽으로 보냄&quot;
        title=&quot;&quot;
        src=&quot;/static/4a113275bcbf47ad8e9db61fd280e9b6/f058b/image-7.png&quot;
        srcset=&quot;/static/4a113275bcbf47ad8e9db61fd280e9b6/c26ae/image-7.png 158w,
/static/4a113275bcbf47ad8e9db61fd280e9b6/6bdcf/image-7.png 315w,
/static/4a113275bcbf47ad8e9db61fd280e9b6/f058b/image-7.png 630w,
/static/4a113275bcbf47ad8e9db61fd280e9b6/40601/image-7.png 945w,
/static/4a113275bcbf47ad8e9db61fd280e9b6/78612/image-7.png 1260w,
/static/4a113275bcbf47ad8e9db61fd280e9b6/ee515/image-7.png 1269w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;오른쪽으로 잘 붙어버렸습니다&lt;br&gt;
이제 velog처럼, 얘는 되게 부수적인 놈이면 좋겠으니&lt;br&gt;
화면이 줄어들면 없애버리죠?
그리고 밑줄이나 리스트 장식들은 쳐냅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;@media &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/*적당히..*/&lt;/span&gt;&lt;span class=&quot;token selector&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;.toc-container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.toc&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;border-left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; solid 2px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;padding-left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 10px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.toc a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;text-decoration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.toc li&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;list-style-type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;뷰포트가-좁을-때--게시글-맨-위에-냅다-목차를-넣어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B7%B0%ED%8F%AC%ED%8A%B8%EA%B0%80-%EC%A2%81%EC%9D%84-%EB%95%8C--%EA%B2%8C%EC%8B%9C%EA%B8%80-%EB%A7%A8-%EC%9C%84%EC%97%90-%EB%83%85%EB%8B%A4-%EB%AA%A9%EC%B0%A8%EB%A5%BC-%EB%84%A3%EC%96%B4%EC%9A%94&quot; aria-label=&quot;뷰포트가 좁을 때  게시글 맨 위에 냅다 목차를 넣어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;뷰포트가 좁을 때 : 게시글 맨 위에 냅다 목차를 넣어요&lt;/h2&gt;
&lt;p&gt;사이드메뉴를 시킬 돈이 없을 때는&lt;br&gt;
그냥 게시글 시작할 때 냅다 넣고 싶어졌습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; mediaQuery &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;matchMedia&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(max-width: 85rem)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  mediaQuery&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;change&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; event &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;matches&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setIsWide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setIsWide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;window.matchMedia()&lt;/code&gt;로 미디어 쿼리를 가져오고&lt;/li&gt;
&lt;li&gt;미디어 쿼리에 &lt;code class=&quot;language-text&quot;&gt;onChange&lt;/code&gt;리스너를 등록합니다. 미디어 쿼리가 &lt;code class=&quot;language-text&quot;&gt;match&lt;/code&gt;일 때 state를 켜고 끄기로 했어요&lt;/li&gt;
&lt;li&gt;이제 컴포넌트를 &lt;code class=&quot;language-text&quot;&gt;isWide&lt;/code&gt;여부에 따라 다르게 렌더링하게 하면 됩니다&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;어라 근데 목차를 접고 싶어질 수도요&lt;br&gt;
접고 펼칠 수 있는 더보기란을 만드는 HTML 요소를 활용해서 만들어봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;details&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;더보기&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  더보기애용
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;details&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 하면
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;details&gt;&lt;/code&gt;밑에는 자세한 설명을 숨길 수 있고&lt;br&gt;
하위에 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;summary&gt;&lt;/code&gt; 요소로 미리보기 제목을 넣어줄 수 있습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 199px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c4072a09d571b0b28e8b9f6f67941520/3d64b/image-9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 127.84810126582278%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAIAAAA44esqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEdUlEQVR42m2VaUiXSxTG36uWK1wh991soVxIFBN3P7glRmJFhbkguKGBogluZRmCpGAJUSiWKe7mliuWFpK7KeIHFRJLu16VCq/7dn///3DDD3fA15lxzpznPM9zRmlubm5tbW16evrKlSunTp2ysrKytLQ8f/48EyMjo+Dg4L/lY2lp6a//BnN2ZmdnpfX19V+/fhUWFnp6eqqoqPwhHwoKCpIkEcylh4eH+/v7h0fGwcEB358/f0p7e3shISH5+fkjIyP+/v7KyspKSkqKiopc9P79ew7t7u7uy8fW1haH1+WDTVJKHz9+VFVVvXr16urqak5ODpHHjx8nLVUQyWmRh7/29PRMTk5WVVW9fv2aqO3tbSkxMZGjJiYmXV1dExMTtra26urq7MTGxgqEm5ubX758GR4e7uvr+/r1a2Nj49u3b2dmZjY2NiQ7OzuOamlpeXt7s5WbmwtgduLi4kSFMFRZWfns2bP29nYOlJaWlpWVjY+Py4LNzc05SpEaGhowZGxsfOzYMXZCQ0N/w+bLvKamBsBFRUUg55adnR3J2tqao5QqGI6Kinr48OHt27cvX768srIiqBZlj46OknBwcJDJ8vKyLHN0dDQxkIxCFy5cABLyEED9Hz58ECIdyMf/SNXQ0ODj40O8oaFhUlJSR0fHwMAATPJngC0uLqKQCPittphgLSkyMhKEYHZwcIiIiIC25uZmIa/44ickFcst+eAidurq6qSsrKx79+7p6urisM7OzszMzGvXrolsolqRB7Uw0vz8PPNXr165u7tjCunJkycvXrwwNTW9dOkS6/r6ent7ezc3N7gRaMn5/Pnz06dPIx5VoFxeXh5ekAXDO6WywJsPHjzARm/evLl//76FhQVm+PbtW1pamrOzM1KXl5dD57t37woKCry8vGBHWlhYePnyJd1z48YN0oL806dP9ElCQkJ2djYKcxfy4i3qpP4fP364urpyBodLYMN3Fy9eROHW1lZQce7z58+PHz9+9OiRqJwB/8IqQ0NDZEpOToYFWfDY2Bgmgbnq6mqqAmp3dzet9vTpUyGYEJYr/pGPmJgYpJ2ampIFk4TF3bt3KQMD442mpiY0g0jh0N/GEF9fX1/sTDkSIFkgT2BgIAkRube3FxZcXFzoAaHtUWNRFzWmpKRkZGRI8fHxvDvYA2/iNjqO5GzC9p07d1JTUysqKgRmAQF0YWFh6CprChQWXeXn54dUtE5bWxsX41mw3Lp1Cw8ftSdX07+EnDhxQtbJROro6AQFBaFeeno6xcAC/KFqf38/z8D379+FVUnLAfFaaGpqSmfPnqWB9fT0eENA7uTkBE/FxcVgvnnzZnh4eG1tragZCjjs4eEh3smTJ09KKM4vgtXU1P6UD3jmHAYmeUtLi2gJiKR5tLW1AwICaIQzZ85cv35d4sfGxoYF+LnCwMAASPBRUlICftGbqABUnppz587RPyTnhYNICahwpq+vzxcOuIUJSdjnXkxGzwKHxoBe0JmZmfH/wNHRMTc391+6S4qvWDTCfAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;자세한 설명은 생략한다&quot;
        title=&quot;&quot;
        src=&quot;/static/c4072a09d571b0b28e8b9f6f67941520/3d64b/image-9.png&quot;
        srcset=&quot;/static/c4072a09d571b0b28e8b9f6f67941520/c26ae/image-9.png 158w,
/static/c4072a09d571b0b28e8b9f6f67941520/3d64b/image-9.png 199w&quot;
        sizes=&quot;(max-width: 199px) 100vw, 199px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그럼 아래와 같이 나옵니다&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/QrDYD51.gif&quot; alt=&quot;더보기 테스트&quot;&gt;&lt;/p&gt;
&lt;p&gt;그리고 여기에 &lt;code class=&quot;language-text&quot;&gt;open&lt;/code&gt; attribute까지 넣어주면&lt;br&gt;
기본으로 열려있고, 필요하면 접어버릴 수도 있게 됩니다&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt; 더보기는 이렇게 생기게 만들었습니다?
&lt;/summary&gt;
&lt;p&gt;아 빵애애요&lt;/p&gt;
&lt;/details&gt;
&lt;h1 id=&quot;진짜로-링크를-연결하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A7%84%EC%A7%9C%EB%A1%9C-%EB%A7%81%ED%81%AC%EB%A5%BC-%EC%97%B0%EA%B2%B0%ED%95%98%EA%B8%B0&quot; aria-label=&quot;진짜로 링크를 연결하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;진짜로 링크를 연결하기&lt;/h1&gt;
&lt;p&gt;근데 지금 이 상태로는, 목차의 각 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;a&gt;&lt;/code&gt;태그를 클릭해도&lt;br&gt;
주소창에 &lt;code class=&quot;language-text&quot;&gt;/#id&lt;/code&gt;가 들어가지만 실제로 이동하지 않습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 263px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c09f652bee0fb74d3901dea501782cc0/17741/image-16.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.78481012658227%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADiElEQVR42h2L/1OSBxzHn/9lP++2er7hLEM9s2CLXZ6b07YgPfPONXcFuZvmId/a5NHipjOUNqyVCDywFDAgvj9IYwOZ5jcUoeeBB3BK6VQg29rT7l73vvfn/X5/AFb9KYRTDZ1lw4z5sA5qrIcucCEBD7rEQwQfI63n4Us86HMu2HQa4dUiZ9joaTarvhatq2LVnQLQFi7azAH5XOjKJ8i3F+H+VlTajsg7UHkHImtnFJVdZhJY0ob0CuCrTVDrOaiFg7RwoOazACK8gPTwWYNfoqMiVH0dHetmaboRjRDWXEfGRRVjDEKWRoSOi+BxIay+Bqu6UHEbImyBRc0ANNIFa7+BHvYd1/eDegk4xaj4mLEPmepDDLJjRvl7xj7Q0H/cIH7fIAF1YmjyBny/Fx69CqquACDTTUuhGRlklcO2t6BW+bt2jG9s7dQ2sKakZ4wScFYBWxVMBVlloEUKTktAsxic7AVQx3csh7LiCfbB/1Q4lZVODHZgI1iT6zKqFvLbHqlAFxMyGyXTVjgxxrAcA6jtJnDChZ1wK096sCrPINtzq8Y7xA6quLgMO19t+rROOyzrfDRQ6Ruq8Q1Ve26x3UNVbuykS8m8VLqVAIf44aO5HxueqhvDmi/CE4LwPX5U+9VvP/c8GBT38Drxbn70viA6Ifj93sWw9rPw3Yand86FRjnB4VriNtC1qBMtmXqWLNLlGXncqojbvt+wK1cfK5Zstzdsg8+sA0nvzXW7Yt2hiM+KVy03Vma6l81fL+k7Yg+B4aT3JzL0SyZizEWs+QXH9rKrsOYvxIOFDaKQIF4mGO/ZiTt3Vme3Fs252CQdnSBDI8kAlnADKwdk6jCbL+3svto7LO2Xy8WjUvE1Q/nwdbn4T7nE6KvyQbl8UCztHZT3dkov0sX8+iEV298EdITXFPTihNcQ8OHBgJHwmkMETgTwOT8e9BkIn/5t5cKZTTBg8Ht0Pqfe7xx121V2G2BZW7lj1BkCT2zzobsW86THMTZt0vvcD5yz6l9x05yfSXDCrZ7Gx2eMnpXI8ovs871MeyTxzuM4kP57d4tK5unUy0Iul0lu59Mba8/yNEUmEunU5lY2s52n/qLTm6m1TDqxv7v179HRmzdF+SrZaA0B7gy5mE1F6NR8OhmjqWiaXMilo/TzBZqMZan5DBnLkMz5J03NZ6kIlQynNhfpRIf3jxqt+T9ywSFx+zJ1TAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;아무일도 일어나지 않았다&quot;
        title=&quot;&quot;
        src=&quot;/static/c09f652bee0fb74d3901dea501782cc0/17741/image-16.png&quot;
        srcset=&quot;/static/c09f652bee0fb74d3901dea501782cc0/c26ae/image-16.png 158w,
/static/c09f652bee0fb74d3901dea501782cc0/17741/image-16.png 263w&quot;
        sizes=&quot;(max-width: 263px) 100vw, 263px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;본문 내 각각의 &lt;code class=&quot;language-text&quot;&gt;h1,h2,..,h6&lt;/code&gt; 요소들에 &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;가 들어가있지 않기 때문인데요&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 230px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ceca7d118d2f68978fd1839ca5ac6f6d/81c8e/image-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+UlEQVR42oWSWXKDMBBEff/zQRlsEhZRgADtGi0sJhMfAPXHfKj0qtU9ekTt/KqDhqqqpmli6xolwCw34z/ned3q4WapfkZYZFEUTdOQtoOBi2rwqzr3IwFHBUBlUGCMrut6pjRwC5OIGj5Hytlzo9sZVkUp7fteMB6pkr9TEDYNB/nv44XJsmz46lkU+BBNFreq3cUEbMjipSnLEkk073qCh6qmblG7v4WxWLyHs2vbPM+7ug2jFO/BM50ubLPeLwon/8paG4TBIJtx6VXZkaOPHhmu6v16kZ7ImWOFvOyBigSMqbDYDbwUAjMzxo6w4c/B2PeBr+v6A+pwQNAhS8E7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이렇게 생겨서 그럼&quot;
        title=&quot;&quot;
        src=&quot;/static/ceca7d118d2f68978fd1839ca5ac6f6d/81c8e/image-10.png&quot;
        srcset=&quot;/static/ceca7d118d2f68978fd1839ca5ac6f6d/c26ae/image-10.png 158w,
/static/ceca7d118d2f68978fd1839ca5ac6f6d/81c8e/image-10.png 230w&quot;
        sizes=&quot;(max-width: 230px) 100vw, 230px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;아직 요소 내에 id가 없다
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;이것도 간단히&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;gatsby-remark-autolink-headers&lt;/code&gt; 플러그인 딸깍이면 해결됩니다.
&lt;code class=&quot;language-text&quot;&gt;npm install gatsby-remark-autolink-headers&lt;/code&gt; 대충 이런 식으로 설치해주고&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;diff&quot;&gt;&lt;pre class=&quot;language-diff&quot;&gt;&lt;code class=&quot;language-diff&quot;&gt;{
&lt;span class=&quot;token unchanged&quot;&gt;&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     resolve: `gatsby-transformer-remark`,
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     options: {
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;       plugins: [
&lt;/span&gt;&lt;span class=&quot;token inserted-sign inserted&quot;&gt;&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;          `gatsby-remark-autolink-headers`,
&lt;/span&gt;			/* 생략 */&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;gatsby-config.ts&lt;/code&gt;에서 의존성을 추가해주는데&lt;br&gt;
주의할 점은, 얘는 &lt;code class=&quot;language-text&quot;&gt;gatsby-transformer-remark&lt;/code&gt;플러그인의 플러그인이라&lt;br&gt;
그 밑에 &lt;code class=&quot;language-text&quot;&gt;gatsby-remark-autolink-headers&lt;/code&gt;를 끼워넣어야 합니다&lt;br&gt;
구조가 특이하고 재밌네요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 497px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4722613bbeee82033ea724fece4f9146/15d25/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.151898734177216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAuUlEQVR42jXN3U7DMAwF4L7/oyENBjdT1DXQaRtJl9ix89+LDheBde6s75zhQ/lRp7OGlxMddZ1mUKN9H+NB1+NnfdPldcqHqag5n+V1gvFS1a2oa/lyz4EBe0gr492whdqYGiwEbH11oXlqFookxZqI0oIrlef/DcFjwx3P13AxKXPswWUMxhfBwH3BKpi4JY5kfYO4bdsfhsXJcke43WWvdfb5YdwjGtyXhUmLJHMhwPQNa267++U/GIvfsUvWbdgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이렇게 됐어요&quot;
        title=&quot;&quot;
        src=&quot;/static/4722613bbeee82033ea724fece4f9146/15d25/image-11.png&quot;
        srcset=&quot;/static/4722613bbeee82033ea724fece4f9146/c26ae/image-11.png 158w,
/static/4722613bbeee82033ea724fece4f9146/6bdcf/image-11.png 315w,
/static/4722613bbeee82033ea724fece4f9146/15d25/image-11.png 497w&quot;
        sizes=&quot;(max-width: 497px) 100vw, 497px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
이렇게 되었습니다&lt;/p&gt;
&lt;h1 id=&quot;현재-보고있는-부분은-사이드-목차에서-따로-표시하고-싶어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%98%84%EC%9E%AC-%EB%B3%B4%EA%B3%A0%EC%9E%88%EB%8A%94-%EB%B6%80%EB%B6%84%EC%9D%80-%EC%82%AC%EC%9D%B4%EB%93%9C-%EB%AA%A9%EC%B0%A8%EC%97%90%EC%84%9C-%EB%94%B0%EB%A1%9C-%ED%91%9C%EC%8B%9C%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%96%B4%EC%9A%94&quot; aria-label=&quot;현재 보고있는 부분은 사이드 목차에서 따로 표시하고 싶어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;현재 보고있는 부분은 사이드 목차에서 따로 표시하고 싶어요&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 214px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/713ccd4f82b50cec1fc95771e3c83fd0/a48b3/image-17.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 110.12658227848102%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD00lEQVR42o1Qa2/jVBD1v4MPCISEQCsEaCU+I/EbEAgJWtqmWyF1u9uyZNvN9kGbxomdZ2PHdhInTbZ5P+w4tvNyYsexY8dJujBttBKgIjE6d3Q8nnPnzEUWi8VwOOR5vtfrjUYjURThU70PqCiKAkXTNN8+FMh4PI5Go8fHxziO0zTtdrtRFAWSz+fj8ThFUclkslwuPyyGyZqmGYah67plWY7jQIZRs9kMMvAHZbe3t3fi+Xy+koEF27bhLsjT6XRVAfL2vwOBO2C9VqsFRBuP24IwUnpzx/nzXfy9G3zB1WATnmO5XCJwwLYsy/ADiCi21ZECnlfG/hWrpUA8GAzuxOBz1TWfA13CNpDv6EMBOzpw7jvhwOSFaUympnm7XK5s/k+ANWTmOOnrN7mbkqJOTHs+sZwVjH9g/g6OYd8R3XIWt0tkaFo7QW4b4zcDjV/89Tug9XW0uoHWt/wNl78JeIJxT3B+5x7bOL+Jc5u+2kC3kKFhgWwN5dbRJuQ1b20d4zeC3Z99jXW0seHntgL8Ft7awgVXsL0dFLeC4gYurvm4nm4jI9Peiwq7EXE3LOyG278Gah9/9c1Hn3+9H5eg+DTafhprP7sSn19JB0Rnn4As7xPdvUhbmdiIOrVfEPwBIezHWwdx/jkhngYuXT88+vY712FKgcoLUniZEA4T7VeU6GEkDyUdJaTfidbImCH61D6hW69o3kMJhyR/luJNW+E5+sNPPtvD3pymZQ8jvE5JJ2n5jAV0TzOdE1b2JAXVnCETe3bBimfp9nlafM0IZEm0rXGnJ3765eMfn53jpdEfacGblS+zMnrdAfhyncvrzjkradMZYkxtlOZ8NIcyjfNEncwWNbVXqZXfe/+D710vrwpD+Iun26GMFM7KwZwcvO5gmW4gJeimDeJpmCqH6AqWKHjDWZKiFEWq1EqPvnj8k8sdouveSN5PFHGq4ifLeKISIKsY1fDGitpkiphTO8KUw0w1zFTQ+A0WofsDiePre78dHZ0TIbqKkUU8UQxSZYwo+aMlNFLE4pUzPK/qILasGFOLJmtxthFPN6NMrVAoxGI+f4S4SjdjyRpUCLaZyPJUVkhkWlROuG+rwr4gtplcM5UT0jmezbcyBdFz7N3e2YyQLMlyADrbIjPcRfTmyJ89Cd24ffmdIxpeY6gZyMS0/PFChK5R6WaCbTI5gcq0aBjCNkm2GUlUiVSTuuZDSXgUcF5GrwqnWN59wWhjA5nNHU7qS/3xYDjpdNVef9JXdLmryl1NUY3uYNxTdGVkqJoJUEYTVTP0id0fjp35/C8252gkdGlEEAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;여기가 어디지&quot;
        title=&quot;&quot;
        src=&quot;/static/713ccd4f82b50cec1fc95771e3c83fd0/a48b3/image-17.png&quot;
        srcset=&quot;/static/713ccd4f82b50cec1fc95771e3c83fd0/c26ae/image-17.png 158w,
/static/713ccd4f82b50cec1fc95771e3c83fd0/a48b3/image-17.png 214w&quot;
        sizes=&quot;(max-width: 214px) 100vw, 214px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;지금 위치한 곳이 어딘지, 사이드의 목차를 보면 알 수 있게 하면 좋겠죠?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 254px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1019c0dbf23e45c5b73d7aa360b38a11/6a91e/image-13.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 184.81012658227846%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAlCAYAAABCr8kFAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC4UlEQVR42rVWi47SQBTl///DxEiMuiauidk1hrAoSiJQYHmWR3kGyvtRWnqcMzCkrK1uKzY5udPp9M69Z+5jYvB5XNdF1CfGny3LguM4sG0bm80G+/1ejvlNzW+3WykJfg/aNEYFqVQK/X4f7XYb6XQapVIJyWQS6/Vaynq9jkwmg1wuh3K5jEQigVar5etN7HA4YDabYbfbSSsWi4XEaDSSlnAjbsq56XQq104mEznna6GXN7Xb013DcCotJIdBB+OVXgQqJMlUSJfH4/HZ7cinbItTJFdU2Gw20ev1JH+RFTIsdsIq5RYpkG4pSfeeg7PC+QrWQxYwRke0hyc5OMqOeG8Ywai1gZHpcXkyw+H+O2aZPDLxGzQ+fUH+5haDxDdUbu9gfH7AQasCxfrvKAnkxbfu8HSStHAyh3P/A2Ymh9TL19Def0TiRRw/337A11dvkI6/g1OoAY+6UNC4xKOAJr71Rh6F5gLWXRrQu3DrwoWqcEFI9yQlqMwPZf1o6YVCccLWdA7YDty9DRzc45jYWRKw9n+GWHsRNrZjYz6fYyDCRWI4xGRqRozDU/VYLpcyb5u6DqPTwUCMo8ehCOqguhi2Nl4o/JfCeuEyYZqmrIcd4a5hGGg0GjIVOR9mM2khOWRRYHHodrsyl6mcec36F1phEId+pexvii8UsjBcjUP2D/aSarUKXYQO+0itVjvzyrlKpSJ7CucZt749hRaqik2+uJDKKdlDGJ+cp1R9hT2FayJzGDkOVXGlVH2ZY4XnnPaZQ7rFvkueyF+xWJS8UZIzchvEmy+HtEBxxp5Lq1erleSK75SM16vEYWgO1d2GiilpLaUXpIXzXKPaLud8OeQPTDdyyBxmrJE7piHTj7ySQ3W3KRQK0DRNruW/gRyq3Ql121LvBDklj8ojrvEN7P/CIXemBSqMuPtTd4IuU75xyHDJZrOSI979yBfjMGzBCMwUb3aEvhJfo2wphb8Ay2ZALRAb4UEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;MDN은 이렇게&quot;
        title=&quot;&quot;
        src=&quot;/static/1019c0dbf23e45c5b73d7aa360b38a11/6a91e/image-13.png&quot;
        srcset=&quot;/static/1019c0dbf23e45c5b73d7aa360b38a11/c26ae/image-13.png 158w,
/static/1019c0dbf23e45c5b73d7aa360b38a11/6a91e/image-13.png 254w&quot;
        sizes=&quot;(max-width: 254px) 100vw, 254px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details&quot;&gt;mdn web docs&lt;/a&gt;도 이런 식으로 표현해주고&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 311px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/28b4038496f1f16528f2f29381aee5e5/ffa0f/image-14.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 132.27848101265823%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACtElEQVR42pWVx45iQQxF2SNyzjnnnEUQiA38/+d4dCy5+r2epkezKOxX4fr62lUEEomEMOLxuBv2HYvFfGvmY6PRqPO9ewJ8VCoVGQ6H0mg01N5uN+l2u/q92Wxku93q9+FwkPF4LM1mU5bLpcznc1mtVtLv9x1oIJlMSiaTkU6nI61WS/1CoaC2WCxKuVzWYfP5fF44Awn8XC6n1jHkh8XRaCTtdltTsRGJRNzwznPGOxcOh78AU6mU0iUNUiyVSsqAyOl0Wplls1m1zJtu+JZdtVr9SplDRDifz/J6vVQnQNHo/X7L8/lUrRaLhez3e3k8HrLb7eR6vcr9fpfL5aJnAKaIyhAHYdGxVquploPBQG2v11PmzK/XawU7nU4ahDnOG3OXMoBUD5ZEI+rxeFQAKo7PYcDwYUpAihQMBp2uPkAqBZt6ve40A4RDSIBlDW1ZZy+DzNAQDAdIBA7NZjO3gcqbBLCHEToiA6DsZZ0g7PUB4hCVBYCx9CCsrPewAAFI89ObzBHce8tcyixOp1PtR1qIyPiTyUQZYgFizm6L3SyrsA+QiCySMunA0qoM+1Ao5JqdNsNyDvsjQ6IAQFQsqZOiNTh7vMML4gOkw9EBdrDCR2yTgJ6jIMzTe8zxWNgeb8s4hjQmjCgEwy4+IGiJHHzbPN/IYMx9gEyiAwdpWkRHQx4Kni7Ysfb9QfiUumsbNDQ21i4whBFBP2n2IyAROUzjkjKPKZpi0YuWwf+tGH8xREfYmY5oZA+sVfu/GCI4bGgbGheG9CBPvD2+3v+VfzJEJ+4tTOy6wdB0hLE1tBXlIyCL9hjAkOIABitrdIBhbH9o2O896AOEIfeTw1w/2AJCMZhjzV4f0/THtuEHRvQctwBWVml81mBkf7MwI/WPKdsfkt1je7bsKWNYyr8xM8A/j0G3qkIGgOoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;velog&quot;
        title=&quot;&quot;
        src=&quot;/static/28b4038496f1f16528f2f29381aee5e5/ffa0f/image-14.png&quot;
        srcset=&quot;/static/28b4038496f1f16528f2f29381aee5e5/c26ae/image-14.png 158w,
/static/28b4038496f1f16528f2f29381aee5e5/ffa0f/image-14.png 311w&quot;
        sizes=&quot;(max-width: 311px) 100vw, 311px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;벨로그에서도 이렇게 합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 470px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a3b91cde7d7fdddbf377196d69fab511/f96db/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.18987341772153%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABhElEQVR42n1SiXaDIBDM59Qoh6J4geKBR44m7ev/f0uHYNK0r+3K862y7Mwwu+Ocl7rMq7yosYpCFfiUhWx67ZIqj8Lor9jFSXz6OC6X+fC+TuepHVtj23ZsprPtlw4JivbBHhHiQQRuIXeHGWM85iIV6EIZFVmS5mksYnyKTDySLM94wpM0QSJLiXpCyA6067YGGnjirzJKdarEY5TuNYSgGvgoQN4MWnd6WHu8KaUOOfCsQscE/fA3dLHlCMbojfNGO7gd2GgjA6Y9WbScX6duMsrU63WBftCB8vVtgRav0wW5XxgOAwUgjCNlSLBHKeGcEUoey1Nwu8+37ZHReL7MED8cBmDqTgHcHi2ImNk0Y7NcZxS0to3I98PQ4Cn9aLxFGHmrPcFvyPCpn7vxMBhrMBtAhsOQXaoC+GYykI1L9nbAqi/lTz4n2IBs57NM05vDQgr46b31I4hKb8p9wuK4aqq6qX3XbYyccaGfKv8H7gQvwfPJDTmvJKwC1D9jHP12G58G6px2K3IxvwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이런 식으로요&quot;
        title=&quot;&quot;
        src=&quot;/static/a3b91cde7d7fdddbf377196d69fab511/f96db/image-12.png&quot;
        srcset=&quot;/static/a3b91cde7d7fdddbf377196d69fab511/c26ae/image-12.png 158w,
/static/a3b91cde7d7fdddbf377196d69fab511/6bdcf/image-12.png 315w,
/static/a3b91cde7d7fdddbf377196d69fab511/f96db/image-12.png 470w&quot;
        sizes=&quot;(max-width: 470px) 100vw, 470px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그래서 이렇게 밑줄이라도 그어주려고 합니다&lt;/p&gt;
&lt;p&gt;제가 확인해보니 대부분&lt;br&gt;
&quot;제목 요소가 화면 맨 위를 넘어가면&quot; =&gt; 현재 그 제목에 해당하는 목차에 위치했다고 간주.&lt;br&gt;
이런 식이더라구요?&lt;/p&gt;
&lt;p&gt;이거 하려면..&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;먼저 게시글 내의 모든 제목 요소(&lt;code class=&quot;language-text&quot;&gt;h1,h2,..,h6&lt;/code&gt;) 태그들을 가져오고&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;top &amp;lt; 0&lt;/code&gt;인 제목 요소들 중에 가장 밑에 있는 애를 가져와서 &quot;현재 목차&quot;로 간주
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;top &amp;lt; 0&lt;/code&gt;인 애들은 여럿 있을 텐데, JavaScript 배열의 &lt;code class=&quot;language-text&quot;&gt;push&lt;/code&gt;메서드와 &lt;code class=&quot;language-text&quot;&gt;pop&lt;/code&gt;메서드는 맨 뒤 요소를 추가/제거하는 동작이므로, 이걸 이용하면 됨. (스택처럼 된다)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;목차 컴포넌트에서 &quot;현재 목차&quot;와 동일한 &lt;code class=&quot;language-text&quot;&gt;textContent&lt;/code&gt;를 갖는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;a&gt;&lt;/code&gt;태그를 찾고, 해당 태그에만 &lt;code class=&quot;language-text&quot;&gt;activated&lt;/code&gt; 클래스를 집어넣음&lt;/li&gt;
&lt;li&gt;이제 &lt;code class=&quot;language-text&quot;&gt;a.activated&lt;/code&gt;에만 따로 뭔가 CSS를 적용&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;1, 2, 3 과정을 적절한 scroll event로 등록해주면 되겠죠?&lt;/p&gt;
&lt;p&gt;아래와 같이 작성했습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; postSection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;post-section&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;postSection&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//본문에서 제목 요소들을 가져온다&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; headers &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; postSection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelectorAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;h1, h2, h3, h4, h5, h6&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;//스크롤 이벤트 정의&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;scrollEvent&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; overTheTop&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Element&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//화면 맨 위를 넘어간 제목 요소들 모아서&lt;/span&gt;
    headers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;h &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;h&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBoundingClientRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        overTheTop&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;h&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//맨 뒤에있는 요소를 뽑아보면 그게 &quot;현재 목차&quot;에 해당하는 제목 요소&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; curHeaderText &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; overTheTop&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;textContent
    &lt;span class=&quot;token comment&quot;&gt;//목차에서 &amp;lt;a&gt;태그들을 가져오고&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; aTags &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;table-of-contents&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelectorAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//&quot;현재 목차&quot;와 textContent가 친구만 activate&lt;/span&gt;
    aTags&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;activated&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textContent &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; curHeaderText&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;activated&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//스크롤 이벤트 등록&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;scroll&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; scrollEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;scroll&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; scrollEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;머 이런 식으로 해줬습니다..&lt;br&gt;
원래 제목 요소들의 &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;값으로 비교할까 했는데,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;의 공백이나 특수문자 이런걸 조금 변형하더라구요&lt;br&gt;
어차피 &quot;내용&quot;이 동일하니까, 이렇게 해줬습니다&lt;/p&gt;
&lt;h1 id=&quot;해치웠나&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%B4%EC%B9%98%EC%9B%A0%EB%82%98&quot; aria-label=&quot;해치웠나 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;해치웠나?&lt;/h1&gt;
&lt;p&gt;하다보니 느낀건데&lt;br&gt;
왜 이렇게 CSS는 처음 보는게 계속 나오죠?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token property&quot;&gt;word-break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; keep-all&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token property&quot;&gt;overflow-wrap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; break-word&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;velog 뜯어보다가 발견했는데,&lt;br&gt;
이런 식으로 해서 줄바꿈을 단어 단위로 끊을 수 있습니다&lt;br&gt;
사소하지만 가독성 차이가 꽤나 큰 것 같아요..&lt;/p&gt;
&lt;p&gt;그리고 더보기 요소는 &lt;a href=&quot;https://codingeverybody.kr/css-details-%ED%83%9C%EA%B7%B8-%EC%8A%A4%ED%83%80%EC%9D%BC-%EA%BE%B8%EB%AF%B8%EA%B8%B0/&quot;&gt;여기&lt;/a&gt;를 참고해서&lt;br&gt;
좀 상@봉해보이게 바꿨는데 그냥 no css club일 때가 더 낫나? 싶기도 하고..&lt;br&gt;
디자인 감각이 없으니 참.&lt;/p&gt;
&lt;p&gt;암튼간에 이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🔅 다크모드 5초컷 with CSS 채신기술 light-dark()함수 - (Gatsby 블로그)]]></title><description><![CDATA[…]]></description><link>https://sungpaks.github.io/light-mode-and-dark-mode/</link><guid isPermaLink="false">https://sungpaks.github.io/light-mode-and-dark-mode/</guid><pubDate>Thu, 06 Jun 2024 14:51:57 GMT</pubDate><content:encoded>&lt;p&gt;그제였나? 누워서 조선왕조실록 틀어놓고 잠들고 싶어하고 있었는데요&lt;br&gt;
아~ 도저히 잠이 안와서 노마드코더 좀 봤습니다&lt;br&gt;
그 중에 이런 영상이 있었는데&lt;/p&gt;
&lt;div class=&quot;gatsby-resp-iframe-wrapper&quot; style=&quot;padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem&quot; &gt; &lt;iframe src=&quot;https://www.youtube.com/embed/vc4DGouf62E?si=hhtqt0DHpVhuzrXQ&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share&quot; referrerpolicy=&quot;strict-origin-when-cross-origin&quot; allowfullscreen=&quot;&quot; style=&quot; position: absolute; top: 0; left: 0; width: 100%; height: 100%; &quot;&gt;&lt;/iframe&gt; &lt;/div&gt;
&lt;p&gt;흥미로운데요? 당장 해봐야겠습니다&lt;br&gt;
어차피 블로그에 다크모드 언젠가 넣어야지 넣어야지 했어서&lt;br&gt;
시간 남는 김에 해봤습니다&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9c5eb115a77df11859ae889017c1a548/78797/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.0126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACXUlEQVR42oWTzWsTQRjG999o0m6yye7Mzn4km+wmm918bj6b5rPVYmO9iVQ9iAelR89eBQ+CgqDQHhS1VCsIVVPTUtSgKVYFFWyFFgSh4lGob7o1FKUt/HZ2hp1nn3eemaEmz+Zady/UhlKSHFBVjeMwy6Ie9hDavZ0eVKOePH/mpGnGBgvFen2kWCwB1Wq9UqkBhUKxVKrkcoVsNl8uVy0rgzGP0C6Um0EDtIcQaXz8xOjosWTSgnmgsclkcjBMp7OgHxwcSqXSCAksh3fFGBN4+Xz+RmN8bOw4eIIzuNVqw7YnDMFQ1w3DiOq6GY8qfp/AcTtihAmHeEmS05YViybi8WQslgASiRQAmkjEDIcjmhYOhfRAQFODiqZpgiB114whCTcXU+WJYZ1D2Ovl7Kjszj8J7cDbtl1nTpb7NAUTMagoss9PiMjzwk5LesHsB+UYKY1ev5qulAP+oOwL9DlommacThfDsHYcB4k9UcM6fUoN6/39dNZKXr40OZTPXDw3UcxnD9VT2IvcLjdC2OGkp29c2d7e+LXe3v79bXb6msvlOUQMDywS4oE01zrzW1+Wf3xa/vn15YflOYGI3N8tPUBMBmjmSL2y8bn96M7tB1M3O4tPttZex02T8RxUeVcMn71epAUDzcf3ns5MNWdutVvznYVZwhOWPcwZjitsqSTKK8/vr688e9t8uLm68P3jIjgjxEJh+xVPYUR4LHg8XDRirL+ZX331Ymmx9X5pbvNd82itGtJIJKzyWIRp/0PtvX1qMBjSI2HdkGHHFQV3f09EUcY86Z28vfwBq4DqZTjaZukAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;다크모드 유우머&quot;
        title=&quot;&quot;
        src=&quot;/static/9c5eb115a77df11859ae889017c1a548/f058b/image.png&quot;
        srcset=&quot;/static/9c5eb115a77df11859ae889017c1a548/c26ae/image.png 158w,
/static/9c5eb115a77df11859ae889017c1a548/6bdcf/image.png 315w,
/static/9c5eb115a77df11859ae889017c1a548/f058b/image.png 630w,
/static/9c5eb115a77df11859ae889017c1a548/40601/image.png 945w,
/static/9c5eb115a77df11859ae889017c1a548/78797/image.png 1125w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
컴하하~
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;근데 5초컷도 아니고 5분컷도 아닙니다.. 꽤 걸림 ㅋㅋ;; 어그로 ㅈㅅ합니다.&lt;br&gt;
다크모드 토글로 하고싶은게 아니었으면 진짜 5분컷이긴 한 듯&lt;/p&gt;
&lt;p&gt;아무튼 시작합시다&lt;/p&gt;
&lt;h1 id=&quot;light-dark-함수-써봅시다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#light-dark-%ED%95%A8%EC%88%98-%EC%8D%A8%EB%B4%85%EC%8B%9C%EB%8B%A4&quot; aria-label=&quot;light dark 함수 써봅시다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;light-dark() 함수 써봅시다.&lt;/h1&gt;
&lt;p&gt;먼저 영상에 나온 &lt;code class=&quot;language-text&quot;&gt;light-dark()&lt;/code&gt;함수를 써서,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;prefer-color-scheme&lt;/code&gt;값이 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt;인 상태에서 보여줄 화면을 구성하고 싶은데요&lt;br&gt;
아 근데 &lt;code class=&quot;language-text&quot;&gt;prefer-color-scheme&lt;/code&gt;란..&lt;br&gt;
여러분이 설정한 &quot;난 다크모드가 좋아 or 라이트모드가 좋아&quot; 시스템 설정입니다&lt;br&gt;
처음 들어보셨다면 그냥 &lt;code class=&quot;language-text&quot;&gt;light&lt;/code&gt;상태일걸요? 저도 건드린적 없습니다 딱히&lt;br&gt;
암튼간에&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;:root&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color-scheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; light dark&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;일단 이렇게 해서 브라우저에게 &quot;여기는 light와 dark 테마 모두 지원합니다~&quot;라고 알려줍시다&lt;/p&gt;
&lt;p&gt;이제, 라이트모드와 다크모드에서 각각 달라야 하는 색상이 있다면 &lt;code class=&quot;language-text&quot;&gt;light-dark()&lt;/code&gt;함수를 쓰면 되는데&lt;br&gt;
예를 들어 이렇게 되어있다고 합시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; black&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;음.. 그러면.. &lt;code class=&quot;language-text&quot;&gt;prefers-color-scheme&lt;/code&gt;값이 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt;일 때는..&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;prefers-color-scheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dark&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; black&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 해야할까요??&lt;br&gt;
너무 귀찮은데요 ㅜㅜ&lt;/p&gt;
&lt;p&gt;근데 &lt;code class=&quot;language-text&quot;&gt;light-dark()&lt;/code&gt;라는 채신기술과 함께라면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;light-dark&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;black&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; white&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;light-dark&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;white&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; black&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;매우 간단해졌네요??&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 240px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3e391d8d60a2dc8a90c5bc0db9692b2a/8ff5a/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 87.34177215189874%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACj0lEQVR42n2TXU/TUBjH+Q58Bo1fwoQvoRfeGSF4Y6KGGI0XRhMTE0MINxghEQiEKUwZYy/spWzd1re9dN3ajnVtt7G5rqMvlOKgZYzZ2LhAQZ+LJ+fJOb/zP+c8/zMyuBoXf8IaqKqaTafzuSzPVQ3DvDw1jBEHaeXzfp/nOTAe4crFOkd6tzaWl76gKCIIgkNpxFFXeTYR38UwUD2o6WpTaO6JLaa1XyYL6E7QJ0nyUMMJ16o8moyViHS9SllwV2sZx51zQ+keCVbWtTaKJA3TdCrbm6EwtM/RtUqxWSud6iIQ9r1/92ZlcQHPJhEI4CvFRCyMIMjNcIkqNGvUgcBq8n6lRExOPFpdWX796uXzZ0/Gxu6+mHpK4hlRFIfrr8AYCluwJjd6p/Ls9IfR0VG/x52KhR7cvzc+/jAFAjkUOjzUriv3rZzNoNxeTmpXT49FIBqamHxM4GiZyt65dXtm5qMsNXa2NzXtyAacyizLJMHQsSbIIqfsufUWlMVAmsDmP80SOKxI9UhgS1EU57GH9Xf3BgAEzBNFwuf48JRnfW1p4TNFYFKb09WfkaD/n3fudDoIkvzmWqqxJEtmMDD01bXq93mCAU+VJQt5jKKpG/ps1/FYnC5mhAYT9Lo9blcOS0aDHjgRYUqk5RICDZlm9waH2TDPVtLQ7s72xuL8XAIIWA7TlebmuovGIbWZV0runmE/9TWHGYaRAKMHAi+LdYpALX3rzS04DcNt5K3KrPX753ZTrijbsvl8nmHIQ6UpNMoMjWURMAVGouFtOAWdyAXzV+vikqYT5nne6/2xGw2AQBCM+hka55iiz7t5qTcX//tV+pEuy50zo9sz9LOzk17P+gXmX0s4ycFg8Bv8BYUjiOuVjAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;따봉&quot;
        title=&quot;&quot;
        src=&quot;/static/3e391d8d60a2dc8a90c5bc0db9692b2a/8ff5a/image-1.png&quot;
        srcset=&quot;/static/3e391d8d60a2dc8a90c5bc0db9692b2a/c26ae/image-1.png 158w,
/static/3e391d8d60a2dc8a90c5bc0db9692b2a/8ff5a/image-1.png 240w&quot;
        sizes=&quot;(max-width: 240px) 100vw, 240px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;light-dark(light일 때의 색상, dark일 때의 색상)&lt;/code&gt; 이렇게 써주면 됩니다.&lt;/p&gt;
&lt;p&gt;만족스러운데요~&lt;br&gt;
이제 색상이 반전되어야 하는 곳에 다 이 함수를 적용해줍시다&lt;br&gt;
이정도는 몇 줄만 고쳐주면 됩니다 잠시만요..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 247px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d455a78146de0b88ad28ec85f725af05/fb3c7/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 82.27848101265823%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD20lEQVR42gHQAy/8ACxykyxxkzF1lDN4mh1dfaqxs5yjrVBZq4yJsKWmpKyssKKip6GhpKCio6OmpTBafydejSlgiitjjCxokAAkXY0jXIsnX5AjYI8kU37Jy8q/usg6V66MpL6sqaa6vbyLjYzT0tLm5uTHw8lCTZYdUoglW4oiUIUmXo4AJVmKIlWGIFeCKlCPbF6l2NHUu7zIQqFqk8Cgk5WUwsjJhoyPxMjNzs/UsrXOWEC/T1mnH1eIJE6GJFeKAB1IgBtHfSRGgGNCwk1Yv0qKbJSlW87IR7mfPJ50OrSNU6eETaaFTaWaUYeyXzN2oGVB0zM+jRtEfCBKhQBBX3pAYH13V7dzb9M/qI2W0WjdvjjfmiXarVHYvWvTv0DaxFLWsC3jtivj3iuF2FZRcsZ+WMFHZH5GaIEAkK6Uk6aDo5axecKrxfJy7bx7ypA52cNUpbS1oLG6ucCxoa+109er28Qx4KgrzNc5etF3qpjetaStmLiRAKbBpKmzZaqyRKzRadi+esCei8G9QdXVWJ2usKKvvbW+zH+RqOXm1N3gPcinN96tSb3uZ5m8ycSn0bvTpwDG2bfBz57OykXPxj/GvZTF28DQ0k7QxzTOyVzZ1HvPz3rt78DSwV7Vxi+zwkvDm1HZynCnz5akomjBzqEAfXZWhoFlkIpFqKVAjY1wi49yvLs73NgzurhDy8dD1M8+m4IsmIArzsgyla1CpqZXuqRR0dNGubY7t76VAGReOWFaN21oPY6NOWxoOq2xnr2/W83MINDKSIp1b6OFhYxXPr6xNLm9MHWLPHd/SIJ5N87LP356P3BoSwBpZT1lYj1oZT2Tjj2Sjj+mpYW5t0+2uSTf1Sy7nTXGpkng0kDEwi+nrC+8ypvBych4dkWRjzlYVjteXTsAX1s7XFc3W1g4X10/Xlw9Skgvo5866OZA5OA57Oo17ugu39on1dIoxMw+sMF4t7aYtbFJiIU6TE02X109AFZLNVJIMU5FLEtHKU9JK0hDJWthRaqif56VdJFyP6idV8nFdsbEcZakYG96Sj47I2tmLGFdMW5oSaeZaACckWWajmaJf1mUkoSMiYOPjIOYko2EfYCHfoCOd36XjY97c3aOhIOVlJaAgH+Gh39/fHaQhF+3p3W2oG8AsKNwtKp2sKh2w8O9tre6vL29zc3OqaqpsbOxqa2ooJ+emZaNqaSbsa+vqamnp6iqtbGruap4t6VzspxuAKaUZKicaqqjb5+XcKKYc6qfe6OXdamee62kf6mjfLWuhrivhry1kK6oipqUfnNxY4eAaq2fe62bdqyZc6z2CI/7i8KhAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;a few moments later&quot;
        title=&quot;&quot;
        src=&quot;/static/d455a78146de0b88ad28ec85f725af05/fb3c7/image-2.png&quot;
        srcset=&quot;/static/d455a78146de0b88ad28ec85f725af05/c26ae/image-2.png 158w,
/static/d455a78146de0b88ad28ec85f725af05/fb3c7/image-2.png 247w&quot;
        sizes=&quot;(max-width: 247px) 100vw, 247px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아무튼 이렇게 대강 만들었는데요&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/XBjXIpV.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;아 근데 저는 &lt;code class=&quot;language-text&quot;&gt;prefered-color-scheme&lt;/code&gt; 설정같은거 건드린 적 없다고 했는데, 어떻게 이 화면을 볼 수 있냐면&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/sOfnEJL.png&quot; alt=&quot;테스트해보기&quot;&gt;&lt;/p&gt;
&lt;p&gt;크롬은 개발자도구에서 - 대충 더보기처럼 생긴 아이콘 - More tools - Rendering에 들어가면&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 242px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/698e710468b4db5e825e0a71d0a9bd9a/a1a85/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 85.44303797468356%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABJ0AAASdAHeZh94AAADNklEQVR42n1Uy44TVxDtBatIQD4hW76BBYINUn4ABfFYEAnYRWKDFAmRSICEYAtCiB1CWSUDRFlECJFIM2N7xh7Ldrvt9vRj2m53u1+2++FH+3G4VWQQESQtHVfdqutz617VKWm9XiPPc6xWK8ZisWA7n8+xXC4ZtKY95FP+MEb/JXz6SdPpFLIswzAMNJtN7O3twbZtmKaJ/f19DAYD1Ot1VCoV6LrOsd3dXd5L8SzLmOiQWCInjmMEQQDXddmfzWaIogij0QiTyQS+72M4HDIoT9VSpWQ/q5CC1WoVmqZBVVX0ej04joNGo8FVU4VUGeU7nQ77//dJ9B5UHZ1MFdAVxuMxV0g+WSINwxD0PJTzPI+rp3f8jJB+kiRhMtqUZRNGmqYYinUk4kRCSMUBdDD5RE6X/RRMSKeEgQfPdeB7LiNJYoT+AK5jo2/3MIxCDNy+eAobgchnWfrF69JzCsI1omSBIF4gjHME41xYWueMUKyjZPlP/kM8FPujdCmwYoQiP8pWHwgtf46KGqJljaEcjIWNP9pDyMYQDT36TygHI+y0I7jDHJJqz6DtazDVGgLXQqdZhdFpoC1XGIbaQBK5WOcpltMxlrP4X1jNU4x8C5rZh+FMiTDDXzsqfn9bxputBv54t4dXb3bw259Fxkvh/73bRqluoFjTv4iduoZCrQvTnUCyvTHO/lTD6dtNnPihipM/NnDqlowzYv3tHYXtN9fL+Op8AccuFnD0grACxy+VxLqIry8XceRcAd89qGORzyC5Xohbv1i4sxHg5gsbP//q4e6Gh/uvfdzbcHHvpYcbzx18/8TCtWc2rgtcFbjy2MDVpz0BC5ceWXi4YSKfppCoYUkZutaBItfQUmTRIo5omT6Upox+r4vQc2DpKg4E9E6TW8rUNdSrZfiDPrcM9WcoRCCRfj3PF3oNBLErVOGxQkaieft9h5s9SVKh8wH8IIQrVBPHCTe8YZjCjpiQ9pGCmNCyLNZxrVZjDdO06Xa7PE0oR/pWFAWtVovzlKN4qVTiqUQfDRCSqESslCgUCjwkyuUytre3eUQVi8WPoPjm5ia2trZ4xBF5u93mgUEgYnq+97+2zqTe9B/jAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Emulate CSS media feature&quot;
        title=&quot;&quot;
        src=&quot;/static/698e710468b4db5e825e0a71d0a9bd9a/a1a85/image-3.png&quot;
        srcset=&quot;/static/698e710468b4db5e825e0a71d0a9bd9a/c26ae/image-3.png 158w,
/static/698e710468b4db5e825e0a71d0a9bd9a/a1a85/image-3.png 242w&quot;
        sizes=&quot;(max-width: 242px) 100vw, 242px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이런게 있습니다? 바꿔가면서 테스트해볼 수 있습니다&lt;/p&gt;
&lt;h1 id=&quot;근데-저는-라이트다크모드-토글하고-싶은데요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%BC%EB%8D%B0-%EC%A0%80%EB%8A%94-%EB%9D%BC%EC%9D%B4%ED%8A%B8%EB%8B%A4%ED%81%AC%EB%AA%A8%EB%93%9C-%ED%86%A0%EA%B8%80%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%9D%80%EB%8D%B0%EC%9A%94&quot; aria-label=&quot;근데 저는 라이트다크모드 토글하고 싶은데요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;근데 저는 라이트/다크모드 토글하고 싶은데요?&lt;/h1&gt;
&lt;p&gt;이게 가장 문제입니다 ㅋㅋㅋ 사실 위에는 진짜 5분컷 가능&lt;br&gt;
토글버튼 하나로 그냥 &lt;code class=&quot;language-text&quot;&gt;prefered-color-scheme&lt;/code&gt;값을 휙휙 바꾸는게 가능하면 정말 편하겠는데&lt;br&gt;
좀 찾아봤지만 아쉽게도 그런 방법이 없는 것 같습니다?&lt;/p&gt;
&lt;p&gt;그래서 &lt;a href=&quot;https://klloo.github.io/darkmode/&quot;&gt;지인의 블로그(상습숭배중)&lt;/a&gt;랑 &lt;a href=&quot;https://fe-developers.kakaoent.com/2021/211118-dark-mode/&quot;&gt;카카오 기술블로그&lt;/a&gt; 등등 몇 개를 참조해봤는데..&lt;br&gt;
body에 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt; 클래스를 넣었다뺐다 하는게 국룰인 것 같아보이네요&lt;/p&gt;
&lt;p&gt;근데 저는 &lt;code class=&quot;language-text&quot;&gt;light-dark()&lt;/code&gt;함수를 쓰고싶은건데요..&lt;br&gt;
흠;그래서 이리저리 생각을 해보다가&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;body&lt;/code&gt;에 넣었다뺐다 할 클래스로 &lt;code class=&quot;language-text&quot;&gt;reverse&lt;/code&gt;를 두고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;body.reverse&lt;/code&gt;에는 &lt;code class=&quot;language-text&quot;&gt;light-dark&lt;/code&gt; 인자를 뒤집어서 작성하기로 했습니다&lt;/p&gt;
&lt;p&gt;근데 하고나니까 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt;넣는거랑 딱히 다른 것도 없고,&lt;br&gt;
몇 가지 경우에는 이게 더 골아픕니다..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 231px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f84df0f86fcceeb27293a8734cfd4e28/6e622/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 94.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD/klEQVR42jWT6XLaZhSGdXVdZpofnem408btdNIk7pZ4N7UBYUAgISEJkJAEaAPEIrMYxCI2Y8DGgLHBmNqkSS6mX5ZewDvv8pwDLZcPi8Xy7m5xezufTKbD4ajXG7Q73Y7ZqpdLxWL+JJs9UbWMqKqcEKUpzo8HUBfptEVDPuj+/p+7+XI+W06v56PR9cXFsNvttVqdRtWsVyrlXCGvZTJSXItIcpiNBPycHwNi2utQBBICtkB5O72/Hs+vhuNe/+LsrNdotitGVZVkPaEV4umcmkoKksSEIjQR9mOUx8lT3hBhh2a3y5vpYjy6vRpOB4Nh96zfap6b9aZRNqJCxI8TEZYjMVxiOJllIjTF+DASccgcCR9sfBZPxrPLi6ter99ud+vVdrVSK+bzCTWejCeSkoLYYJ/TiTsdIdzLEl4acah8YPPFGnQznY9H06vhBLQ97w7arfOG2akalZyeDQWDYYYlUExgGCEQJNxOy9Zftv1NBnOJDL6x/gS6ubkdj68vL68+jNzqmfWWYVROC0U9o59kdTkmkhhGYR4Etvs9HhJxOSx7LIHQqHXztx8hgGc0mnwSdzrdet0sl8uFQkHP6mktBTaTI5Eoy/q9Hq/j0Lr32mHZEVnSuvsSsW9DwBaw7fcvPhJqV6vVUql0cnKSSae1RDIuiTIXjoSCDOUPER7EfuA83FZ4+tWva5JAQ0A5GFyenZ03mx3TbBiGkc/ndV1Paam4oioRQWJDlM8dJJCgzw3w+t1WMUw8//6rZrUEfTypfqcD8HTqtUa5bADbdDoNplZlRRQ4kQlhbhi27lt2X3vhv2nUEfI7X6w/uZmMIND2/LzfbLZLpUo0GlMUJZlMaJoGbGVR4sNhjqI52od77LaDrcPt33kacdm2tv78ebVaQf+37dQqtVgsRtM0SZJut5vn+SgXFjlOoOkPgVEH5YGxY0uMxXf+eIojR+/evYfAyKBwq9k2azVQuFgsplIpBoAVeMzlQKyHXqeV8MAU6sCdVhQ+UHjy2Q9fp9Xo27fvIYCn0WjVambpFLTNpzNZkBnsrMREhWMZwofAhyDw0c4rt22fRI74oPentS/brerDw+NnsWFUi4VTPZtLpTJxMFVMjILAIUagSYZAA5gbOz5CrLsh3On3HD1f/2Y2my4W95/ETfBDxWJB17OZlKapihqNihzLBynAlkKPCQTGXTYU3heCmHXv5cHms9Xjm/n8Dmq1zsy6aZRKhRw453RKSyTishLlJS4oBAmG8ARQN+Gyo7DF69iXBXLjl29p3/Hqzb+z2QwCmc2KUSkWcnoul0lkk3JSElSeiTFUmEKDGEJ7EXAYXvs+7rKIHP70uy/0tPy4Ws1ms/8AmHrJ+Qpatj0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;마이웨이&quot;
        title=&quot;&quot;
        src=&quot;/static/f84df0f86fcceeb27293a8734cfd4e28/6e622/image-4.png&quot;
        srcset=&quot;/static/f84df0f86fcceeb27293a8734cfd4e28/c26ae/image-4.png 158w,
/static/f84df0f86fcceeb27293a8734cfd4e28/6e622/image-4.png 231w&quot;
        sizes=&quot;(max-width: 231px) 100vw, 231px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;저는 홍대병 걸린.. 남들 가는 길에 잘 가려고 하지 않는 낭만파라서 이렇게 했지만&lt;br&gt;
그냥 다크모드 토글은 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt;하시는게 좋은 것 같습니다.&lt;br&gt;
그러니 괜히 좋아보인다고 막 쓰지 맙시다&lt;/p&gt;
&lt;h2 id=&quot;reverse버전-css를-작성해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#reverse%EB%B2%84%EC%A0%84-css%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%95%B4%EC%9A%94&quot; aria-label=&quot;reverse버전 css를 작성해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;reverse버전 CSS를 작성해요&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/T23O49t.png&quot; alt=&quot;reverse 클래스 ㄱㄱ&quot;&gt;&lt;/p&gt;
&lt;p&gt;아무튼 이런 식으로 반전된 색상의 클래스를 작성해준다는 의미인데&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/REqkuDK.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot;&gt;
&lt;p&gt;어느정도 바뀌긴 했는데, 색상을 따로 주는 요소들은 아직 그대로네요.&lt;br&gt;
이제 &lt;code class=&quot;language-text&quot;&gt;body&lt;/code&gt;가 &lt;code class=&quot;language-text&quot;&gt;.theme-reverse&lt;/code&gt; 클래스를 가지는 경우, 그 하위의 &lt;code class=&quot;language-text&quot;&gt;요소&lt;/code&gt;들을 손봐줘야 하는데&lt;br&gt;
저처럼 몽총하게 선택자를 &lt;code class=&quot;language-text&quot;&gt;a .theme-reverse {}&lt;/code&gt; 이렇게 쓰지 맙시다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;body.theme-reverse a {}&lt;/code&gt; 이렇게 해줘야 먹어요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 247px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d455a78146de0b88ad28ec85f725af05/fb3c7/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 82.27848101265823%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD20lEQVR42gHQAy/8ACxykyxxkzF1lDN4mh1dfaqxs5yjrVBZq4yJsKWmpKyssKKip6GhpKCio6OmpTBafydejSlgiitjjCxokAAkXY0jXIsnX5AjYI8kU37Jy8q/usg6V66MpL6sqaa6vbyLjYzT0tLm5uTHw8lCTZYdUoglW4oiUIUmXo4AJVmKIlWGIFeCKlCPbF6l2NHUu7zIQqFqk8Cgk5WUwsjJhoyPxMjNzs/UsrXOWEC/T1mnH1eIJE6GJFeKAB1IgBtHfSRGgGNCwk1Yv0qKbJSlW87IR7mfPJ50OrSNU6eETaaFTaWaUYeyXzN2oGVB0zM+jRtEfCBKhQBBX3pAYH13V7dzb9M/qI2W0WjdvjjfmiXarVHYvWvTv0DaxFLWsC3jtivj3iuF2FZRcsZ+WMFHZH5GaIEAkK6Uk6aDo5axecKrxfJy7bx7ypA52cNUpbS1oLG6ucCxoa+109er28Qx4KgrzNc5etF3qpjetaStmLiRAKbBpKmzZaqyRKzRadi+esCei8G9QdXVWJ2usKKvvbW+zH+RqOXm1N3gPcinN96tSb3uZ5m8ycSn0bvTpwDG2bfBz57OykXPxj/GvZTF28DQ0k7QxzTOyVzZ1HvPz3rt78DSwV7Vxi+zwkvDm1HZynCnz5akomjBzqEAfXZWhoFlkIpFqKVAjY1wi49yvLs73NgzurhDy8dD1M8+m4IsmIArzsgyla1CpqZXuqRR0dNGubY7t76VAGReOWFaN21oPY6NOWxoOq2xnr2/W83MINDKSIp1b6OFhYxXPr6xNLm9MHWLPHd/SIJ5N87LP356P3BoSwBpZT1lYj1oZT2Tjj2Sjj+mpYW5t0+2uSTf1Sy7nTXGpkng0kDEwi+nrC+8ypvBych4dkWRjzlYVjteXTsAX1s7XFc3W1g4X10/Xlw9Skgvo5866OZA5OA57Oo17ugu39on1dIoxMw+sMF4t7aYtbFJiIU6TE02X109AFZLNVJIMU5FLEtHKU9JK0hDJWthRaqif56VdJFyP6idV8nFdsbEcZakYG96Sj47I2tmLGFdMW5oSaeZaACckWWajmaJf1mUkoSMiYOPjIOYko2EfYCHfoCOd36XjY97c3aOhIOVlJaAgH+Gh39/fHaQhF+3p3W2oG8AsKNwtKp2sKh2w8O9tre6vL29zc3OqaqpsbOxqa2ooJ+emZaNqaSbsa+vqamnp6iqtbGruap4t6VzspxuAKaUZKicaqqjb5+XcKKYc6qfe6OXdamee62kf6mjfLWuhrivhry1kK6oipqUfnNxY4eAaq2fe62bdqyZc6z2CI/7i8KhAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;또 few moments later&quot;
        title=&quot;&quot;
        src=&quot;/static/d455a78146de0b88ad28ec85f725af05/fb3c7/image-2.png&quot;
        srcset=&quot;/static/d455a78146de0b88ad28ec85f725af05/c26ae/image-2.png 158w,
/static/d455a78146de0b88ad28ec85f725af05/fb3c7/image-2.png 247w&quot;
        sizes=&quot;(max-width: 247px) 100vw, 247px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이제 CSS를 전부 잘 작성해서 원하던 모냥이 나왔다면&lt;br&gt;
적당히 만든 버튼에 &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;을 등록해줘야겠죠?&lt;br&gt;
뭐가 있어야 하냐면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;body&lt;/code&gt;에 &lt;code class=&quot;language-text&quot;&gt;theme-reverse&lt;/code&gt; 클래스를 넣거나 빼기&lt;/li&gt;
&lt;li&gt;새로고침해도 유지되게 하고 싶으니까, &lt;code class=&quot;language-text&quot;&gt;localStorage&lt;/code&gt;에 현재 모드 정보를 저장하기&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그럼 이렇게 됩니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; theme &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;theme&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;theme &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; theme &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;original&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;theme-reverse&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	    localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;theme&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;reversed&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;theme-reverse&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;theme&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;original&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;새로고침해도-유지됐으면-좋겠어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%83%88%EB%A1%9C%EA%B3%A0%EC%B9%A8%ED%95%B4%EB%8F%84-%EC%9C%A0%EC%A7%80%EB%90%90%EC%9C%BC%EB%A9%B4-%EC%A2%8B%EA%B2%A0%EC%96%B4%EC%9A%94&quot; aria-label=&quot;새로고침해도 유지됐으면 좋겠어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;새로고침해도 유지됐으면 좋겠어요&lt;/h2&gt;
&lt;p&gt;이러면 일단 버튼 누르면 모드가 잘 넘어가긴 하는데,&lt;br&gt;
새로고침하면 localStorage에서 값을 불러오고 그에 맞는 모드를 적용하게 해야겠죠?&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;localStorage.getItem(&apos;theme&apos;)&lt;/code&gt;를 확인하도록 하면 될 것 같습니다&lt;br&gt;
근데 아무데나 넣게되면 이런 일이 발생합니다&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/tmzSkST.gif&quot; alt=&quot;빤짝&quot;&gt;&lt;/p&gt;
&lt;p&gt;이러면 야밤에 부모님 몰래 제 블로그를 탐독하다가 섬광탄에 맞는 불상사가 발생할 수 있습니다&lt;/p&gt;
&lt;p&gt;이게 Javascript단에서 CSS 속성을 넣어주는거라, 이미 페인팅이 된 후에 야간모드가 적용되고 있어서 그렇습니다&lt;/p&gt;
&lt;p&gt;이에 대해 위에서 언급한 &lt;a href=&quot;https://klloo.github.io/darkmode/&quot;&gt;지인의 블로그&lt;/a&gt;에서는 여기도 Gatsby를 사용했기 때문에 SSR방식을,&lt;br&gt;
&lt;a href=&quot;https://fe-developers.kakaoent.com/2021/211118-dark-mode/&quot;&gt;카카오 기술블로그&lt;/a&gt;에서는 SSR이 아닌 경우에도 쓸 수 있는 방법을 채택하여 알려주고 있습니다&lt;/p&gt;
&lt;p&gt;후자는 &lt;strong&gt;&lt;em&gt;자바스크립트는 명시적으로 비동기로 선언되지 않은 경우 DOM 생성을 차단합니다&lt;/em&gt;&lt;/strong&gt; 라는 점을 이용해서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;body&lt;/code&gt;가 시작하자마자 스크립트를 넣게 했나? 그랬었네요&lt;/p&gt;
&lt;p&gt;암튼 전자의 방식으로 해봅시다&lt;br&gt;
Gatsby 프로젝트 루트 폴더의 &lt;strong&gt;gatsby-ssr.tsx&lt;/strong&gt;에서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;onRenderBody&lt;/code&gt;에 &lt;code class=&quot;language-text&quot;&gt;setPreBodyComponents&lt;/code&gt;로 스크립트를 집어넣을 수 있습니다&lt;br&gt;
아래와 같이 작성했습니다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onRenderBody&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; setHtmlAttributes&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setPreBodyComponents &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; script &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
    const theme = localStorage.getItem(&quot;theme&quot;);
    if (!theme || theme === &quot;original&quot;) {
      document.body.classList.add(&quot;theme-reverse&quot;)
    } else {
      document.body.classList.remove(&quot;theme-reverse&quot;)
    }
  &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setHtmlAttributes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; lang&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;en&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setPreBodyComponents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script dangerouslySetInnerHTML&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; __html&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; script &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;localStorage&lt;/code&gt;에서 &lt;code class=&quot;language-text&quot;&gt;theme&lt;/code&gt;아이템을 가져오고, &lt;code class=&quot;language-text&quot;&gt;reversed&lt;/code&gt;면 클래스를 넣고 아니면 빼는 간단한 스크립트입니다&lt;/p&gt;
&lt;p&gt;이렇게 해주면 새로고침해도 실명 걱정은 없어졌습니다&lt;/p&gt;
&lt;h1 id=&quot;댓글창도-바꿔야할-것-같아요-giscus&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8C%93%EA%B8%80%EC%B0%BD%EB%8F%84-%EB%B0%94%EA%BF%94%EC%95%BC%ED%95%A0-%EA%B2%83-%EA%B0%99%EC%95%84%EC%9A%94-giscus&quot; aria-label=&quot;댓글창도 바꿔야할 것 같아요 giscus permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;댓글창도 바꿔야할 것 같아요 (Giscus)&lt;/h1&gt;
&lt;p&gt;이제 다 좋은데.. 댓글창이 혼자 따로 노는게 문제입니다&lt;br&gt;
Giscus 테마는 여러가지가 있어서 그냥 &lt;code class=&quot;language-text&quot;&gt;light&lt;/code&gt;건 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt;건 정해주면 되는데&lt;br&gt;
지금 어떤 모드인지? 그리고 모드가 바뀌면 바로 짜잔 바뀌기?를 그냥 이루기가 까다롭더라고여&lt;br&gt;
방법이 몇 가지 있어보이는데&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;SSR 스크립트 넣을 때 window객체에 &lt;code class=&quot;language-text&quot;&gt;window.__onThemeChange()&lt;/code&gt; 이런 식의 리스너를 같이 넣기&lt;/li&gt;
&lt;li&gt;전역 상태관리가 가능하면 간단할듯..&lt;/li&gt;
&lt;li&gt;localStorage에 이벤트리스너 등록하기&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;1번은 그냥 스크립트가 계속 늘어나는게 맘에 들지 않았고..&lt;br&gt;
2번은 당장 전역상태 라이브러리를 두지도 않았는데 이거 하나 하려고 넣기는 좀.&lt;br&gt;
그래서 3번으로 가보기로 했습니다?&lt;/p&gt;
&lt;p&gt;그럼 이제&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;prefered-color-scheme&lt;/code&gt;값과 &lt;code class=&quot;language-text&quot;&gt;theme-reverse&lt;/code&gt; 여부에 따라 현재 적절한 &lt;code class=&quot;language-text&quot;&gt;curTheme&lt;/code&gt;가 &lt;code class=&quot;language-text&quot;&gt;light&lt;/code&gt;인지 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt;인지 결정&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;storageEventListener&lt;/code&gt;등록 : &lt;code class=&quot;language-text&quot;&gt;key: theme&lt;/code&gt;인게 바뀌면 &lt;code class=&quot;language-text&quot;&gt;curTheme&lt;/code&gt;를 바꾼다&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;사실 1번은 &lt;code class=&quot;language-text&quot;&gt;reverse&lt;/code&gt;같은 발상 하지 않고 &lt;code class=&quot;language-text&quot;&gt;theme&lt;/code&gt;가 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;light&lt;/code&gt; 중 하나이게 하면 됐는데..&lt;br&gt;
선택에는 대가가 따르네요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 250px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/29aad4d9595b7a6e9aa4c287db161c4e/63868/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.0126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD20lEQVR42gHQAy/8AChcajFldjhxe0R1eU19hFKEi3WchUtoVy8xIZiHVcSvdsuoZmZqRWKScpDAkjdsURlOOypcTHilhXWhfQA2c4JCfpJLipRPiI9alZ9cm6iFrZE9WUZVTjDhwHP1zIf/1IeGcT5cgGV9r31lmG5tonVqoHqJupJun3cAO2VbWJWbWpmkYZmjaaGrbaazjraaTGVKZVs1qZBUu5hUvpxPi4FMfK1/e7J6hbqEd65wbaBnYI5dWoVXABoqIkdoU2WjpW2krHOprXets5zCpWuLbYdyP9qvaNiyZOKtW6ymZEi3jlK2gzqgdAtmQgIyIAchGAklFwAACAY0TUZ2r7J2rat7s697tLSky65mkXl2dUfFnVGjfELDjkhjfEoAcF4limsafWMMZ1QLTD4MPDcLOTIAZWc+sLeFfLKvgba0gruyib61zebGz+G+mqx+mYA8upFIupJRla6NJ2xdAFJFCFtQDFJHCkA4CTUyDCoqALSbUr+4e4K4rIS6tJnKsdrpvv//zvTytc7cp621f5l0LsKxd/L0xvP21pGunhlbVQdFPw07Ng8yLQYeHACjgDqmsYCQxbeZy7m20Kfd2Z/38bT377Hp4ajh5bHJx5vIzJrJypTm5a758sCmtpUxZjxejj9FdylKdSgAqZxgwtqlqdK5u9/AucOUzsKN6t+l9+yw8OWp6+Ko6Oay0MuT1tCY3Nqh4d2ky8qaaYtRo8pls8dwnK5MAK62jM7jsI+2mp2+nLi5ir2zfdfMkuvfpebaoOfanurVmOzZnunfo97Wns7EjqqodZCjZ2+TWZKmdomYTgCDiWXN3qa2z5isv4y0r4CroGu6sHnazpXf0pjcy5Lz1Ynv2ozJsnLYvnytpW1/dECRkFqNroODmWd5dUsAnI1tsr6NJDkqbXpdtax6n5ZllYxYwbd90MSK2sWA+N5r/+Bu1KNc46pgsZ5iVEooaV0umKd1T3FTfm44AL+jjqCfejdPPH2DZKCZZXx2RHdwPp2TW6yfaNjJc+2rPsZzKcyQR9OVSd26d6GZaol/VWJiOGCCYoiNTQCTg2qLk2yFoH53gFl7dUVQSiVaVSp/eUSYkFm8snH33nnRizWHThh0TRmHcjp5czqDfEdub0OOn3FudUkAWVtDdIlnb4RhbmM6eHJJYl9FZmJBf31RhoNQoZZiuaptvaZgdWMzOTARWl03YmQ3iYdXoaV/MTsjJSsgADA8KkdfTEhMMllQL2BqTXuJcISQeHV5XVRUPG9zWG9xVmJfRGNnTEFLN32GZKy2iZ6pfltiRAMGAxkaGIt17RnxdQHHAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;개비스콘가져와!!&quot;
        title=&quot;&quot;
        src=&quot;/static/29aad4d9595b7a6e9aa4c287db161c4e/63868/image-5.png&quot;
        srcset=&quot;/static/29aad4d9595b7a6e9aa4c287db161c4e/c26ae/image-5.png 158w,
/static/29aad4d9595b7a6e9aa4c287db161c4e/63868/image-5.png 250w&quot;
        sizes=&quot;(max-width: 250px) 100vw, 250px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;일단 저는 &lt;code class=&quot;language-text&quot;&gt;Giscus&lt;/code&gt; 컴포넌트를 &lt;strong&gt;blog-post.tsx&lt;/strong&gt;라는 곳에서 뱉기로 되어있습니다.&lt;br&gt;
그 곳에서 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;matchMedia&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(prefers-color-scheme: dark)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;matches&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//시스템 설정이 다크임&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setCurTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;KEY_THEME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REVERSED&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;LIGHT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DARK&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//뒤집혔으면 라이트로 ㄱㄱ&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//시스템 설정이 라이트임&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setCurTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;KEY_THEME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REVERSED&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DARK&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;LIGHT&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//뒤집혔으면 다크로 ㄱㄱ&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;먼저 이렇게 &lt;code class=&quot;language-text&quot;&gt;curTheme&lt;/code&gt;를 결정하고&lt;br&gt;
이제 localStorage에 이벤트 리스너를 등록합시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;storageListener&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; StorageEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;KEY_THEME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setCurTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prev &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prev &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DARK&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;LIGHT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DARK&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;storage&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; storageListener&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;storage&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; storageListener&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이게 마지막줄처럼 이벤트리스너를 제거하도록 해줘야지 이벤트리스너가 계속 쌓이는 불상사를 막을 수 있습니다&lt;/p&gt;
&lt;p&gt;아 그리고 이러면 될 줄 알았는데, localStorage에 변화가 생겨도 이벤트가 발생하지 않아서..&lt;br&gt;
직접 넣어줬습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dispatchEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StorageEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;storage&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; key&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;KEY_THEME&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;야간모드 토글버튼의 &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;에서 이렇게 이벤트를 생성하도록 해줍니다&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Giscus theme=&quot;prefered_color_scheme&quot;&gt;&lt;/code&gt;이런 식이던 테마를 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Giscus theme={curTheme}&gt;&lt;/code&gt; 이런 식으로 바꾸면??&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/TG59YUM.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;아 빵애애요&lt;br&gt;
이제 다크모드 덕분에 버그가 꼬이지 않겠는데요~&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;마무리&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A7%88%EB%AC%B4%EB%A6%AC&quot; aria-label=&quot;마무리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;마무리&lt;/h1&gt;
&lt;p&gt;간단한 기능같아보이지만 고민할 것도 난관도 많았습니다&lt;br&gt;
저는 좀 산기슭으로 돌아돌아 도착한 느낌이 없지않아 있는데&lt;br&gt;
그래도 이러면서 배우고 사는거 아니겠습니까~&lt;/p&gt;
&lt;p&gt;암튼간에 이만 마칩니다&lt;/p&gt;
&lt;details&gt;
  &lt;summary&gt;어라? 아이폰에서 왜 안 되지&lt;/summary&gt;
&lt;p&gt;아니.. 분명&lt;br&gt;
&lt;a href=&quot;https://caniuse.com/mdn-css_types_color_light-dark&quot;&gt;Can I Use&lt;/a&gt;이런 곳이나&lt;br&gt;
&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/light-dark#browser_compatibility&quot;&gt;MDN docs&lt;/a&gt;이런 곳에서&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Since May 2024, this feature works across the latest devices and browser versions. This feature might not work in older devices or browsers.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;라길래 별 걱정없이 썼는데&lt;br&gt;
배포하고보니 IOS위의 크롬 사파리 등등에서는 완전히 &lt;code class=&quot;language-text&quot;&gt;light-dark&lt;/code&gt;를 지원하지 않는가 봅니다?&lt;br&gt;
폰으로 들어가보니 색상이 제대로 되어있지 않더라구여..&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://live.browserstack.com/&quot;&gt;browserstack&lt;/a&gt;이라는 곳에서 여러 디바이스별로 테스트를 해볼 수 있길래 봤는데&lt;br&gt;
웹 브라우저들은 전부 지원하고, 안드로이드도 어지간해서는 다 지원하는데&lt;br&gt;
IOS만 유독 최신의 최신의 최신도 다 적용이 안 됩니다..&lt;/p&gt;
&lt;p&gt;그래서 눈물을 머금고 일단 GPT시켜서 아래와 같이&lt;br&gt;
코드를 저어언부 &lt;code class=&quot;language-text&quot;&gt;light-dark&lt;/code&gt;없이 다시 쓰면서도 동작은 똑같아서 자바스크립트 코드는 그대로 가능하게 해달라고 했습니다 ㅋㅋ ; ;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--color-text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;prefers-color-scheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dark&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--color-light&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--color-dark&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;body.theme-reverse&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--color-light&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--color-dark&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;prefers-color-scheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dark&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;body.theme-reverse&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--color-text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;근데 또 이자슥이 뭐라고 안 했더니 자꾸 새로운 CSS스타일을 적용시키거나 누락시켜서 꾸짖을 갈! 한 번 했네요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b22e3c40d318c48e70f22e074ef0ff8c/46e51/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.151898734177216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAn0lEQVR42oWP2w6EIAxE+f/vXKPIXVDX62xHxdclOQlMp3Sq8Ods24a+76G1hjEGTfNB13Ww1l5627ZPzWKaJqjjOEB2st/3ynmeou1Y1/ViWZYXDqp6hf1qHEeQEIIQ4ZyDf+CdqZzziFK31iClhGEYEGOUpBre+6uXiTlIcS0mqSvQUEq5yRlJGguHynuev/JZghZfoP74svgYitv8AA9vNMsnO7HXAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;흠;&quot;
        title=&quot;&quot;
        src=&quot;/static/b22e3c40d318c48e70f22e074ef0ff8c/f058b/image-6.png&quot;
        srcset=&quot;/static/b22e3c40d318c48e70f22e074ef0ff8c/c26ae/image-6.png 158w,
/static/b22e3c40d318c48e70f22e074ef0ff8c/6bdcf/image-6.png 315w,
/static/b22e3c40d318c48e70f22e074ef0ff8c/f058b/image-6.png 630w,
/static/b22e3c40d318c48e70f22e074ef0ff8c/40601/image-6.png 945w,
/static/b22e3c40d318c48e70f22e074ef0ff8c/46e51/image-6.png 1003w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 207px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8d09ce413686d3477afd62f0e86a48dd/661c4/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 117.08860759493672%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEC0lEQVR42mP4TwFggLN+gwFpmv/9+wfR2d3dffTo0Zs3b167du0YGJw5c+bWrVsnT548ceIEkHvnzh0g4/nz50D1EF0Im+fOnXvo0KFXr149ffr09u3bQG1379598eIFkLwFBi9fvgSSHz58wKL527dvHz9+/PLlC5AEqoCzIQDI/vTpE1D88+fPKH6GGAN07YULFy5dunTw4MH9+/cD3Qz0ApB9CAyAbga6HCh+/PhxiHoUze/fv38HBkCnAj329u1boD0vYQBoLdBHQKk3b96gaIYAoNuAOoFGABUBVQM1AzUAGa/AAMh+/fo1kPHs2bOvX7+i23zlypXz589fvHjxwIEDe/fuBQby9WvX9wHB3n1A1wKDEBgXQF/s3r0bGKIQXQibgSHxCQxA1n94Dwy/Hz9+AAWBQQV0/5cvX9+DAdB1QHF0Z0MM+/fv79+/f37++Hns8JlFCzYsnLd2764jnz59BooDIdy36Jr//PkDJv/OmbksNaGqILNpcveciV2zK4vbEuPKuzqmf/zwCZyc/sBNgGoGWgckX75+N33aWienOG/P9JlTVhzad+rYwXNLFqyPCi+xtAxva513795jiGKIfgaIbUBy74GTLm4JDo5Jbm4p3t4RXi7uNpZ2ttZOLva2gb7Rjo6xbh7pVjYRS5ZtAXkQpP8fA8S1m7ce0NLzERVTsbIJVlU3D/CLTI7LKylsqCprTYrNiglPU1UxsrMLl5JVk1O2nzptGcR+kM1bdxzRNw5TVLFW0zQ3NvWWlVMyM3HMyu3v6Fjc3bWwuGyWjU2AvLyqob6bjq6dorK5qpb3zNlrQc7evPWwoUmUhq6ntIyOlo69oooePx+vjZ1nacn0nKzOzPT2stLZXt4xwiLC0tLKRkZuklIa6jruGtqB02esYTA0CVNWd5JXNRcRUVJQ1BeTkOHi5IjwCzqx7cDt01funb92Yd+JvKR0IUE+fkERFVUTYWF5GUVToBYtXX8GDR1PRVUbKRk9QUEZAUFRMTFZDg52K0UpDzOd5sLsCXWVftbGdurS/LwcQkISwsLS/AKSktJa8koWGjoeDEpqDnLyZmJiKnz8IixszJyc3Dy8vNaamgHmBo6yCo6ySr6GOi76ugKCAtxcPKxsLNw8AqJiStJyBooqdgwyskbi4hoC/BKcnFysrMwsLEzMrJzJYXGnl62q8YypdIvaO2Vea3E1JxcvGyszUAEHBycfv5iYmJqUtAGDnKyRtIymqLgUBycHWI6NkZHJxMDkxqHT13deOLf++JNTt4J9AxkYmIBSYAXswsLi0tLqcnJGDGqqJiqqupJSsmxsLKysTECSnZ0VqMjUxDg0MDjAx9/JyZmTg52dnQ2sAGS5mKikirKOqooRAB0gZO5huyx5AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;꾸짖을 갈&quot;
        title=&quot;&quot;
        src=&quot;/static/8d09ce413686d3477afd62f0e86a48dd/661c4/image-7.png&quot;
        srcset=&quot;/static/8d09ce413686d3477afd62f0e86a48dd/c26ae/image-7.png 158w,
/static/8d09ce413686d3477afd62f0e86a48dd/661c4/image-7.png 207w&quot;
        sizes=&quot;(max-width: 207px) 100vw, 207px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;갈! 한번 해주니까 사족은 넣지 않고 알잘딱깔센 하더라구요?&lt;/p&gt;
&lt;p&gt;아무튼간에.. &lt;code class=&quot;language-text&quot;&gt;light-dark&lt;/code&gt;가 절 지독히도 괴롭혔네요&lt;br&gt;
제가 자초한 일인 것 같긴하죠?&lt;br&gt;
마칩니다&lt;/p&gt;
&lt;p&gt;어라? 근데 IOS 업데이트하니까 잘 나오네요&lt;/p&gt;
&lt;/details&gt;</content:encoded></item><item><title><![CDATA[💲 Gatsby Blog에서 마크다운 수식(LaTex) 표현하기 - KaTeX 플러그인]]></title><description><![CDATA[저런 수식을 손으로 쓸 때는 아주 내맘대로 글씨를 쓰면 되니까 문제없지만 컴퓨터로 저런거 쓰려면 어라? 싶은 사람들도 있을 것 같습니다 그런데 2…]]></description><link>https://sungpaks.github.io/latex-in-gatsby-blog-by-katex/</link><guid isPermaLink="false">https://sungpaks.github.io/latex-in-gatsby-blog-by-katex/</guid><pubDate>Sat, 18 May 2024 19:45:53 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 592px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2dff02b5e2da735138d47a3c58276360/1b853/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.86075949367089%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABfUlEQVR42p1T246CMBTs//+VL764PhhjIiqJIEJh5RYoFwFnOzVNWBNNdk9SoO2ZOXMuiFop+GGELC+w2+1Q1zVoj8cD72yaJnRdh/v9jnEc0fc92rY1GBHfbnB9H0EUwdnvkWWZcR6G4S0hCaSUKIrCfBMTaTzJRa+jtF2LTl+QhGRKq+b3O5X2nO9XHyFlhPX6C47jYLVaYblcmrVYLHA6neBr9QzyqQxzYqFUg+B6hdSSQ/0+nz1TRy6qZBqf6vlqQtUVQt+DTCTCJEHyHWiS1sbGX010qkKTp1C6jo1WMw4VprHBU9Q/CPlg+016s85yz1F4bQ5LQP95/ThG7LYhrKoKh8MBNz0+bL+14/EI13URx7EhtsbackTmTSLZ5XJ5EtIhTVPjSGAQBKarJMrz3JwzaBiGRhlHiosCiCOGe/oTJ6hks9mYAypkSlx2bK66803TGDW89zzP+DJNOwXcb7fbJ6Gdck49gfbXIhnvbBCbLlWVZfkr5Tn2B4VQoQIeeRRuAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;수식 짤&quot;
        title=&quot;&quot;
        src=&quot;/static/2dff02b5e2da735138d47a3c58276360/1b853/image.png&quot;
        srcset=&quot;/static/2dff02b5e2da735138d47a3c58276360/c26ae/image.png 158w,
/static/2dff02b5e2da735138d47a3c58276360/6bdcf/image.png 315w,
/static/2dff02b5e2da735138d47a3c58276360/1b853/image.png 592w&quot;
        sizes=&quot;(max-width: 592px) 100vw, 592px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;저런 수식을 손으로 쓸 때는 아주 내맘대로 글씨를 쓰면 되니까 문제없지만&lt;br&gt;
컴퓨터로 저런거 쓰려면 어라? 싶은 사람들도 있을 것 같습니다&lt;br&gt;
그런데 21세기 이공계열 학생들 박사님들 교수님들은 논문 쓸 때나 뭘 하든간에&lt;br&gt;
&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msubsup&gt;&lt;mo&gt;∫&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;∞&lt;/mi&gt;&lt;/mrow&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;∞&lt;/mi&gt;&lt;/msubsup&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mtext&gt; &lt;/mtext&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\int_{-\infty}^\infty x\ dx&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.2734em;vertical-align:-0.4142em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;&lt;span class=&quot;mop op-symbol small-op&quot; style=&quot;margin-right:0.19445em;position:relative;top:-0.0006em;&quot;&gt;∫&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8593em;&quot;&gt;&lt;span style=&quot;top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;∞&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.2579em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;∞&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.4142em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mspace&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 같은 수식들을 키보드로 숨쉬듯이 뱉어내야 합니다..&lt;/p&gt;
&lt;p&gt;이걸 위해서 &lt;a href=&quot;https://www.latex-project.org/&quot;&gt;LaTeX&lt;/a&gt;라는 일종의 문서 작성 도구가 존재합니다&lt;br&gt;
좀 더 친숙한 설명은 역시 &lt;a href=&quot;https://namu.wiki/w/LaTeX&quot;&gt;나무위키&lt;/a&gt;인데, 여기서도 잠깐 이야기하는 것처럼&lt;br&gt;
라텍스라고 읽고 싶어지는 이름이지만 &quot;&lt;strong&gt;&lt;em&gt;레이텍&lt;/em&gt;&lt;/strong&gt;&quot;과 같이 발음해야 합니다..&lt;br&gt;
제발 라텍스라고 읽지 말라던 교수님이 생각나네요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/028ffe75177780dc6b6d70cda3509dad/3684f/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC8UlEQVR42qWU60tTcRjH91/0uje9CgxDCoteGAghFSWoOJeE3YRQSbOyXCXqUFIp8ZLSHOhcupqbcwpzzuW8zGLOecSts4vO2Zy76W7nfo79zrYkIkXqvPjB9/ucz/P8fs/5PYez/x8P56ggwzA0DZY/zP1fDuffaiYz/gU+KIQG9rxmOLwTPHBpksICYTwUPRRO7gqxbXlrRfPXqnou8cKB3SS+p5h33Wmdyqmcqu8GkgMOhWI4guEYThAkSZA0gmMgQNo9/upeY/6LjlNX3GYrgCmGCTVLnQUNsjSu/HYtWxkw0JrTsGyFHG7YE/w4r5bqRyiGYiKI/3X/Sj5fnHbTrv/GwhjuqxVa8l4Onc5b6pMnYILUL8Mj2kUd5Fqc08vbnyiUHSiOgOJYv85SWKfIKHJqDeBVIhgJ1IjsPMFoZskP41oCpij9sGy8uckklY+1d6mbSj93V8bCERAjDfB2ZbfiTKFbu8hK766/WrhZ0jJb9AoNR1kYJUhIrV0SD5iHJLKhGfG4SqKT4RjGdtvijtYNKjN48IiGlY7tYNUHmNuoL29J9pUTx3CHP+YKU+s7EQPk6hOplApNsutEKIK9G1NfuLs6oGRhaAN9KVnJ5Zs7pSxL0xycoHQLppnFFQvstjl9hi8LvWWP0EiM3afNY7/fOpFetCwQAhnXmHYfdlgL6uzDmhRMkvSwYvKTatq4um7d8ENGyNz1Ho/FQdjXOSpP546f5RoeNAAZ6lHBV59u8gS2ml6CItkz0xSFIOA7k3GUiCFEFMFjJMXekjhmKHj+9sTFifTCr/fq2VxtUuhy2ez5krViAeoLHXXDSE9w8np528ms2axSmN8DHPebQd25Yk3mre/5fMThScHMb/c5xdKs4RRP6LJLrbnP4EYRkB5QObvClFPhapUQcfTwqUrAeyabvV4INwj3bG4gIybY/rhz7ka1d9qYatjRc0egOEWSBw4eRcJbPjwaP948J0c/Of2JlTnun+TQXCn4J3vEEvqwJBUuAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;라텍스&quot;
        title=&quot;&quot;
        src=&quot;/static/028ffe75177780dc6b6d70cda3509dad/3684f/image-1.png&quot;
        srcset=&quot;/static/028ffe75177780dc6b6d70cda3509dad/c26ae/image-1.png 158w,
/static/028ffe75177780dc6b6d70cda3509dad/3684f/image-1.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;물리천문학과 교수님들께서는 이 &lt;em&gt;LaTeX&lt;/em&gt; 위에서는 손글씨 속도 그 이상으로 수식을 찍어내시곤 합니다..&lt;br&gt;
이 사실을 알고 돌이켜 보면&lt;br&gt;
교수님들께서 과제나 시험을 내실 때 보통 &lt;em&gt;LaTeX&lt;/em&gt;을 이용하시기 때문에&lt;br&gt;
거의 모든 교수님들의 양식이 뭔가 다 비슷하게 생겼음을 깨달을 수 있습니다&lt;/p&gt;
&lt;p&gt;아무튼간에.. 저희같은 머글들은 레이텍인지 라텍스인지 잘 모르지만&lt;br&gt;
Github나 Obsidian에는 마크다운으로 마치 &lt;em&gt;LaTeX&lt;/em&gt;을 쓰듯이 수식을 표현하는 방법이 존재합니다&lt;/p&gt;
&lt;h1 id=&quot;markdown을-사용하여-수학-식-표현&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#markdown%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%88%98%ED%95%99-%EC%8B%9D-%ED%91%9C%ED%98%84&quot; aria-label=&quot;markdown을 사용하여 수학 식 표현 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Markdown을 사용하여 수학 식 표현&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.github.com/ko/get-started/writing-on-github/working-with-advanced-formatting/writing-mathematical-expressions&quot;&gt;Github Docs&lt;/a&gt;에 따르면,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;수학 식의 명확한 전달을 위해 GitHub는 Markdown 내에서 LaTeX 형식의 수학을 지원합니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;근데 이거는 마크다운 표준의 오피셜 문법이라기보다는..&lt;br&gt;
일부 서비스에서 지원하는 확장형 문법이라고 봐야할 것 같습니다&lt;br&gt;
&lt;a href=&quot;https://www.markdownguide.org/&quot;&gt;마크다운 가이드&lt;/a&gt;에도 관련 설명은 없더라고여&lt;/p&gt;
&lt;p&gt;아무튼 제가 쓰는 노트 앱인 Obsidian에서도 Github와 마찬가지로 수식 표현을 지원합니다 : &lt;a href=&quot;https://help.obsidian.md/Editing+and+formatting/Advanced+formatting+syntax#Math&quot;&gt;Obsidian Docs&lt;/a&gt;&lt;br&gt;
깃허브와 옵시디언 둘 다 &lt;a href=&quot;https://docs.mathjax.org/en/latest/input/tex/index.html#tex-and-latex-support&quot;&gt;MathJax&lt;/a&gt;라는 오픈소스 JavaScript 기반 디스플레이 엔진을 사용한다고 합니다&lt;/p&gt;
&lt;p&gt;잠깐 어떻게 쓰는지 살펴봅시다&lt;/p&gt;
&lt;h2 id=&quot;기본적인-표현법&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%ED%91%9C%ED%98%84%EB%B2%95&quot; aria-label=&quot;기본적인 표현법 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;기본적인 표현법&lt;/h2&gt;
&lt;p&gt;인라인 식을 작성하려면 &lt;code class=&quot;language-text&quot;&gt;$&lt;/code&gt;로 표현식을 감싸고, 블록으로 작성하려면 &lt;code class=&quot;language-text&quot;&gt;$$&lt;/code&gt;로 표현식을 감쌉니다.&lt;br&gt;
즉, &lt;code class=&quot;language-text&quot;&gt;$a+b=12$&lt;/code&gt;와 같이 쓰면 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;12&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a+b=12&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6667em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;12&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 이렇게 나오고,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;markdown&quot;&gt;&lt;pre class=&quot;language-markdown&quot;&gt;&lt;code class=&quot;language-markdown&quot;&gt;$$
a+b=12
$$&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 쓰면 아래처럼 나옵니다&lt;/p&gt;
&lt;div class=&quot;math math-display&quot;&gt;&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;12&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a+b=12&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6667em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;12&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;이외에도..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a^2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8141em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8141em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;같은 지수 표현(위 첨자) : &lt;code class=&quot;language-text&quot;&gt;$a^2$&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;두 글자 이상이면 &lt;code class=&quot;language-text&quot;&gt;$a^{20}$&lt;/code&gt;과 같이 묶어서 써야 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;20&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a^{20}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8141em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8141em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;20&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;처럼 나옵니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a_0&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.5806em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;같은 아래 첨자 표현 : &lt;code class=&quot;language-text&quot;&gt;$a_0$&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;똑같이, 두 글자 이상이면 &lt;code class=&quot;language-text&quot;&gt;$a_{20}$&lt;/code&gt;과 같이 묶어서 써야 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;20&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a_{20}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.5806em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;20&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;처럼 나옵니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;π&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;α&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\pi, \alpha&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;π&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.0037em;&quot;&gt;α&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;같은 Greek Letters 표현 : &lt;code class=&quot;language-text&quot;&gt;$\pi, \alpha$&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;≈&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\approx&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4831em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;≈&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;같은 근사 표현 : &lt;code class=&quot;language-text&quot;&gt;$\approx$&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msubsup&gt;&lt;mo&gt;∫&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/msubsup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\int_a^b&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.3998em;vertical-align:-0.3558em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;&lt;span class=&quot;mop op-symbol small-op&quot; style=&quot;margin-right:0.19445em;position:relative;top:-0.0006em;&quot;&gt;∫&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.044em;&quot;&gt;&lt;span style=&quot;top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;a&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.2579em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;b&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3558em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;같은 적분 표현 : &lt;code class=&quot;language-text&quot;&gt;$\int_a^b$&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;true&quot;&gt;&lt;munderover&gt;&lt;mo&gt;∑&lt;/mo&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;/munderover&gt;&lt;msub&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mstyle&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\displaystyle\sum_{i=1}^{10} t_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:3.0788em;vertical-align:-1.2777em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop op-limits&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.8011em;&quot;&gt;&lt;span style=&quot;top:-1.8723em;margin-left:0em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.05em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mrel mtight&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.05em;&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;mop op-symbol large-op&quot;&gt;∑&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.3em;margin-left:0em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.05em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.2777em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;같은 유한합 표현 : &lt;code class=&quot;language-text&quot;&gt;$\displaystyle\sum_{i=1}^{10} t_i$&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;!&lt;/mo&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;!&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;!&lt;/mo&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo fence=&quot;true&quot;&gt;(&lt;/mo&gt;&lt;mfrac linethickness=&quot;0px&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/mfrac&gt;&lt;mo fence=&quot;true&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\frac{n!}{k!(n-k)!} = \binom{n}{k}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.4001em;vertical-align:-0.52em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mopen nulldelimiter&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mfrac&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8801em;&quot;&gt;&lt;span style=&quot;top:-2.655em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;mclose mtight&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;mopen mtight&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mbin mtight&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;mclose mtight&quot;&gt;)!&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.23em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;frac-line&quot; style=&quot;border-bottom-width:0.04em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.394em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose mtight&quot;&gt;!&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.52em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose nulldelimiter&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.2em;vertical-align:-0.35em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mopen delimcenter&quot; style=&quot;top:0em;&quot;&gt;&lt;span class=&quot;delimsizing size1&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mfrac&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.7454em;&quot;&gt;&lt;span style=&quot;top:-2.355em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.144em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.345em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose delimcenter&quot; style=&quot;top:0em;&quot;&gt;&lt;span class=&quot;delimsizing size1&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;같은 분수나 이항 표현 : &lt;code class=&quot;language-text&quot;&gt;$\frac{n!}{k!(n-k)!} = \binom{n}{k}$&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;뭐 아무튼 등등 많은데 계속 알아보다가는 내일의 해가 뜰 것 같습니다..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 299px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/27a40376cf3a7fa88c7ea90c91f4874b/aeb78/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACn0lEQVR42hWRW0/TAACF+wPEmRglKIQoEFATMzGiJiQIctm4bOzetWVd29267tJ1a7tubGxsw41tHbKAoDCDkxAZCSKQQFSigA9GTHzwD+iDv8OSfA/n5cs5yQE0OEeH44FwwuZNO7xp40QUwhIQnoDxxIQ9g7oyOJmCscmQkC3Nr8zkVgpipVB6nc2vTKUWgHFMiKeTU8lpd6jgCc5KMiKZRBK1p2CjfahncLBPoexXUk4vF37u9BaDfJnhFzyBOTuVA/Q23kiENSCt0AZUIGuwREzWmJlIYAa8Vy5vbmxua2m7dftO1/17kJmkQ2XSV5Bw+4tuughoiaDZyZnQ4JiJ1SGCfkIwoDHQEjY9edot72xtbb95o6Wpqfnq5SsPH/T62TJFFyladJ9TBHRECLSzeoQeNTIamNMivAGN6GAWHFFD/X09nfLrDY319ddkF2WPHg/S7ILUKckSqDMD6AnWZJM6/ZI8DrNahBuHeRsZq0SZF1647EPsw92N9Q0y2SWlEg6wy6RPJP0lp1dcruwCGowxEkEt7Bkx+NVmKbAahINx4SAbPcpRazy66gWH7rbXXajT6VyMsOQJirh7diZb/ff3D2AgaJOd0SPUsN6jAs+Xa6CICposMFyNR/KEKoMo4hZdR0eX1sw6faLLL/LxV18+n/0++w6MgK4xiBzVEf1jDoXGpwZpzAlbHYSLjPC4gYY6RUG9tpoeUGM+rvRu6/Djp9PDg6PN2n4sWQCS+XJ8RgyG0y7/lINKUv5JQTrLOmCxOjghXp7Hq1VmsxavbeZ3PuwtLlUj0/OuUN7qeYb6ssDyy8rbN+sb6xu12tb77e29vd3jr8dnP3+dfPtxenK6v7cjzi1Gk2WKS6GetMWbwwIFOyu6QiJBz/4Hx3Abl+XfivMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;퇴근은 글렀네&quot;
        title=&quot;&quot;
        src=&quot;/static/27a40376cf3a7fa88c7ea90c91f4874b/aeb78/image-2.png&quot;
        srcset=&quot;/static/27a40376cf3a7fa88c7ea90c91f4874b/c26ae/image-2.png 158w,
/static/27a40376cf3a7fa88c7ea90c91f4874b/aeb78/image-2.png 299w&quot;
        sizes=&quot;(max-width: 299px) 100vw, 299px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그러니 그냥 필요한게 생길 때마다 &lt;a href=&quot;https://en.wikibooks.org/wiki/LaTeX/Mathematics&quot;&gt;docs&lt;/a&gt;같은 것을 찾아보도록 합시다.&lt;/p&gt;
&lt;h1 id=&quot;gatsby에서도-수식표현하기--katex&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#gatsby%EC%97%90%EC%84%9C%EB%8F%84-%EC%88%98%EC%8B%9D%ED%91%9C%ED%98%84%ED%95%98%EA%B8%B0--katex&quot; aria-label=&quot;gatsby에서도 수식표현하기  katex permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Gatsby에서도 수식표현하기 : KaTeX&lt;/h1&gt;
&lt;p&gt;아무튼 그렇게 Obsidian에서 아주 &lt;del&gt;잘&lt;/del&gt; 얼레벌레 수식을 써가면서 필기도 하고 했었는데&lt;br&gt;
Gatsby는 이런 수식 표현을 기본적으로 지원하지 않아서&lt;br&gt;
이 블로그에 옮겨쓰니까 수식이 되지 않는 사태가 벌어졌습니다?&lt;/p&gt;
&lt;p&gt;그래서 찾아보니.. Github나 Obsidian에서 썼다는 &lt;strong&gt;MathJax&lt;/strong&gt;를 쓰는 방법도 물론 있지만&lt;br&gt;
이건 좀 무겁고 의존성도 많고, 등등의 이유로&lt;br&gt;
&lt;strong&gt;KaTeX&lt;/strong&gt;라는 더 가벼운 라이브러리도 꽤나 많이 쓰이는 것 같았습니다&lt;br&gt;
그래서 저는 이 &lt;strong&gt;KaTeX&lt;/strong&gt;를 블로그에 추가하기로 했습니다&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.gatsbyjs.com/plugins/gatsby-remark-katex/&quot;&gt;gatsbyjs.com에&lt;/a&gt; KaTeX 플러그인을 추가하는 법이 잘 나와있습니다&lt;br&gt;
매우 간단한데요&lt;/p&gt;
&lt;p&gt;먼저 터미널에서 &lt;code class=&quot;language-text&quot;&gt;npm install gatsby-transformer-remark gatsby-remark-katex katex&lt;/code&gt;를 입력하여 설치합시다&lt;/p&gt;
&lt;p&gt;그런 다음 &lt;strong&gt;gatsby-config.json&lt;/strong&gt;에서,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token literal-property property&quot;&gt;plugins&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;gatsby-transformer-remark&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;plugins&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* --- 여기에 추가 : gatsby-remark-katex --- */&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;gatsby-remark-katex&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;// Add any KaTeX options here&lt;/span&gt;
            &lt;span class=&quot;token literal-property property&quot;&gt;strict&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ignore&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* ----- */&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 &lt;code class=&quot;language-text&quot;&gt;gatsby-transformer-remark&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;options&lt;/code&gt; 하위의 &lt;code class=&quot;language-text&quot;&gt;plugins&lt;/code&gt;에 &lt;code class=&quot;language-text&quot;&gt;gatsby-remark-katex&lt;/code&gt;와 그 옵션들을 넣어줍시다&lt;/p&gt;
&lt;p&gt;이제 진짜 거의 끝났습니다?&lt;br&gt;
공식문서에서 하라는 대로 template 파일같은데다가 Katex의 CSS 파일을 넣어주기만 하면 되는데&lt;br&gt;
저같은 경우는 &lt;em&gt;templates/blog-post.tsx&lt;/em&gt; 파일에
&lt;code class=&quot;language-text&quot;&gt;import &quot;katex/dist/katex.min.css&quot;&lt;/code&gt; 이렇게 한 줄 적어주었습니다&lt;/p&gt;
&lt;p&gt;이제 진짜 끝입니다. 간단하죠?&lt;br&gt;
&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;σ&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msqrt&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;mn&gt;12&lt;/mn&gt;&lt;/mfrac&gt;&lt;/msqrt&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\sigma = \sqrt{\frac{(b-a)^2}{12}}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4306em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;σ&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.84em;vertical-align:-0.5225em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord sqrt&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.3175em;&quot;&gt;&lt;span class=&quot;svg-align&quot; style=&quot;top:-3.8em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.8em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot; style=&quot;padding-left:1em;&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mopen nulldelimiter&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mfrac&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.01em;&quot;&gt;&lt;span style=&quot;top:-2.655em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;12&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.23em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;frac-line&quot; style=&quot;border-bottom-width:0.04em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.485em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mopen mtight&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;mbin mtight&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mclose mtight&quot;&gt;&lt;span class=&quot;mclose mtight&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.7463em;&quot;&gt;&lt;span style=&quot;top:-2.786em;margin-right:0.0714em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size3 size1 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.345em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose nulldelimiter&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.2775em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.8em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;hide-tail&quot; style=&quot;min-width:1.02em;height:1.88em;&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;400em&quot; height=&quot;1.88em&quot; viewBox=&quot;0 0 400000 1944&quot; preserveAspectRatio=&quot;xMinYMin slice&quot;&gt;&lt;path d=&quot;M983 90
l0 -0
c4,-6.7,10,-10,18,-10 H400000v40
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M1001 80h400000v40h-400000z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.5225em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; (&lt;code class=&quot;language-text&quot;&gt;$\sigma = \sqrt{\frac{(b-a)^2}{12}}$&lt;/code&gt;) 같이 아무거나 써보고 잘 나오는지 확인해봅시다&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
코드 짜다가 너무 햄들어서 그냥..&lt;br&gt;
간단한 주제로 써봤습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c3b348785b80e9f32aabea8b04884968/0a47e/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.46835443037975%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3klEQVR42iWOy47aMABF86uz6qbqsqtZjVT1gTRSJTqLTke05RHixOQBAfIYEhJIbAfbsRMSmILaXX+jkSodXd3N0b1KVRAPajiJGMpKgipaiIJIRqWQjZC/6qYVsi3FWcoj5zWjNWM1paJAXVfkgZyEOFfVpWmvbdvK+lyfTvWpkse6rDr5z8ul8/E+P8mqZp3PG84FwbIolIbRxF8+fb9NUvPIJMUpwUHF0e/zy6VpJOV/r9dHffX2Y79lPPafUZKWCHOUC4yV6lDgbfS5/9p0+oc8B2YPzO808z0wPxlOj2RRgcube+PmtofiJFyuA3d12O9ZlgmEle5Ay8vHpw8P3+5oTnx/7Lhf1v4oTdws8xrOwmD76h68efeQ+GEWJ7vNphtnecbzXDlku4rSZ2+1XlgMEU5oHEbROkyCqMT0yITAZPB1YEOrYhzt9mS3ZwgVaUqSRIlWy10UbT2/I41jb+0vnPnSWXjuaj13d5vtPkoCxw1cN442cRhGXhD7gT93/MVcgerYMfSlba0cy7VncxPODH0GoAkMy4AOnNldzkxLN3RVhaoGJyoYjdQfAzAaKvpkCLUx1FQTqJY+tXXNMYCtAwsASwcmAFCbwul0Nu3M/0zAZAjGP8F4+A+smY1uahD1ogAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;직육면체 전개도&quot;
        title=&quot;&quot;
        src=&quot;/static/c3b348785b80e9f32aabea8b04884968/0a47e/image-3.png&quot;
        srcset=&quot;/static/c3b348785b80e9f32aabea8b04884968/c26ae/image-3.png 158w,
/static/c3b348785b80e9f32aabea8b04884968/6bdcf/image-3.png 315w,
/static/c3b348785b80e9f32aabea8b04884968/0a47e/image-3.png 600w&quot;
        sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🪢 scipy의 curve_fit 적당히 써보기]]></title><description><![CDATA[…]]></description><link>https://sungpaks.github.io/linear-fit-by-python-scipy/</link><guid isPermaLink="false">https://sungpaks.github.io/linear-fit-by-python-scipy/</guid><pubDate>Thu, 09 May 2024 23:41:56 GMT</pubDate><content:encoded>&lt;p&gt;그 왜 이런거 본적 있으시죠?&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.analyticsvidhya.com/blog/2021/10/everything-you-need-to-know-about-linear-regression/&quot;&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 626px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.645569620253163%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDElEQVR42kVQTXODIBT0//+jHpuZHhI704PTaZ18YKKJKKCAGoUH0kc8lAs7y+7bfSTGGCllCGGNB+8AAP9MJMI8z1rrFwywBrAQvEOc4APjfJP6l9gB1I+6GeHpgnGRmaap7/vNLJb1/aeFxUQzJiupEGnrbxpSIj1YUtHDiaeFZM+YgJotGWOzevz4bRcfByXWGNari/K7Y3fIaVbKyTjRy6t2X1e5y0VG525clNZkCGk5vH0z0putRYIlL0WVHtvPM2sGZFcLljG2ejcYd+RzRtpRqXvD93m7z+mJPxdwFtdGM+45KskaeipuhJCqqoQQWLKm9FYUyDwe906ITvDycj5fI3cvy+0L/gChvFKxEYSv1AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;fitting 예시&quot;
        title=&quot;&quot;
        src=&quot;/static/694cad11b5e1532fd028d26c555d4941/af590/image.png&quot;
        srcset=&quot;/static/694cad11b5e1532fd028d26c555d4941/c26ae/image.png 158w,
/static/694cad11b5e1532fd028d26c555d4941/6bdcf/image.png 315w,
/static/694cad11b5e1532fd028d26c555d4941/af590/image.png 626w&quot;
        sizes=&quot;(max-width: 626px) 100vw, 626px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;위와 같이 데이터들 막.. 찍어놓고, 적당한 선 쭈욱 그어서 &quot;이런 분포를 따릅니다&quot; 라고 하는 것 말입니다&lt;br&gt;
당연하지만 그냥 사람이 대강 선을 그어내는게 아니라&lt;br&gt;
적당한 수학적 방법으로 데이터를 가장 잘 표현하는 함수를 구하게 됩니다&lt;/p&gt;
&lt;p&gt;그런 과정을 두고 &lt;em&gt;데이터를 fitting한다&lt;/em&gt;라고 하는데&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 273px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bc8f292e8038dd3a80a177cac7d8162b/0217c/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 67.72151898734178%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAADWElEQVR42gXB608aBwAA8EuXdKvLtvbbkn3aPjVNltWkNsaqra5rKfJSKO+XHpb3Q44DOR4nd8fjeEhB3qCACAiIWmWIaR0aobVJZ/yyL8v+mP1+AOUVe2xi5uHYhByEEQhTi+RvOGwlX7DM46uEYqNM4VIo7Ysyj1qn4fENAm7AYEDfLFtEogzhA6af8x4+mvx1dJzD0/iQiJQ+r3vNgcQSo0BoFIghicwFatZAeVgPwSIJLBL5VBqfRuteVKRdHoDBVIw9eTE2/pQ5r8hFqs5lLQqCAa2e1GqdoD6s/KNheVCHfltfgVFQEdSboisQqdOH9MakwwbQFrTjU5TxJ7NzdFk0uJtwhqJGUxy2JmCE0Ntr5vtDN9BH7yZgE6mDUjZHzoFGDKb4iiVOrANUtmFyhjb1jPLyldDlLuK2SAK2Jaz2ktueBJ+W1Hc/k3d68L28RZywmDOrzqzdGTNDW4hrM5QHFKDj2XM25eUChSrGsUocT6dgW2oVa61xyhQgMfltmTKSnvj+wvNVzSXPu3xZBNlEiYwr0EiWgVVzeI6+yJwTUGmSgK++5dvI2qxZBK0g6g/2e2fQN3vSkQPVd0ceSo3w5xFXNVSoJg/K8f1B5wvgcRcXOBoWTcxkyBDHZilS3LLbi27fPsq7Im599o9ch4ATz2iVLFRQTwnFd8LlRuqwle1+Of8XCPvqQpF5niFl0aVK3Xozf9zAvU1/rONXXuG3rog7wzWgh003yfiO21HFvAVfuhJMt2Llmw9/AyRWFIogDkPKpInlS2i79L5NkrsEsUsEOvafB2u3L9HbJcNjcnkJk7IQLlXL5Vv4XFyx9K7aBTB38bXIQaHJWAyxRGrdr34aNDrvi/XLvct+3nmK/tL3P3jn5Za98SRk8IJCC/uFjjG7OPso4w0BO5FsAt9QqoNzXBOVpWxu9m7+vBg2O4Pdo37W3cNGu6s/nhew6/P/bvr/fDz466xUP99udGOpXiYN1HDsrFgatE+T4apKG0hFD8+29z612h8rpX5uY7Bd6b3Fe4nYsHlwdXhyfdwf1ltlC93KvF/ziIHjVPqtagrn/JRZmWnl2o3CaS5SrwWC3WTsslhIGgWk9HHbr7zIZ06ixBFp3UKktt+/tk78UDdO/w/78ZWzqGtxTwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;옷입기&quot;
        title=&quot;&quot;
        src=&quot;/static/bc8f292e8038dd3a80a177cac7d8162b/0217c/image-1.png&quot;
        srcset=&quot;/static/bc8f292e8038dd3a80a177cac7d8162b/c26ae/image-1.png 158w,
/static/bc8f292e8038dd3a80a177cac7d8162b/0217c/image-1.png 273w&quot;
        sizes=&quot;(max-width: 273px) 100vw, 273px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;물론 이렇게 옷 입는 그 피팅은 아닙니다&lt;/p&gt;
&lt;p&gt;아무튼 그런 방법들 중 가장 기초적인 임플란트가 &lt;strong&gt;Least Square&lt;/strong&gt; Method 입니다
&lt;a href=&quot;https://youngji.medium.com/%EC%B5%9C%EC%86%8C%EC%A0%9C%EA%B3%B1%EB%B2%95-least-squared-method-f7357990329f&quot;&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 280px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.55696202531645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpUlEQVR42nVSXY+bMBDM//9TlfpQqQ/p9Q6ii5pLiOAI4cPG2AYbm9gdMOnldOqIh11rZ2d32I1zTik1DINaMNyhHhFSvcZ936NgmqYNyEIIa+1tAVLvfYinf1jiUWl8g+yrNOsYW8nohFJwEMRxHEVRWZahReilpGzynFPC2xbKLWnqopzsQpZSBjKaIeaca63n1E74Rjm0ddVci/J0SveHOi+vWVGkOYbdoAgLBJGgEzSNHjlpurrhTVNkWbJ9Tl7/5ElGrxUhFCbMY6MBdl4XntVsLyRmw5yXY1LmRRLtk6cduVZ5koiWor7O3qXgM5kxhlFnTeesMbTI3+NdlV9Ov+NztCd1fTkeOaWM1MXhjZc1aGgBx20wbPbdTtXpfH56efuxPf7cptGu7zgnRLTsZieDPySEUdrdblAGZdQ67Ow6IdNf8eHb946wvm2N1pMx2Hz2YLXiE2b/lZrJCDF5sXs1w+A/8GGe/xp4r+/KvmsZ7zpcCZ7GO8wDxs8IHuN9E9pgbZSEqwzpuKSUUhSFsw3voQDntF6Ye5jnEUHB/wfOub+nA+tWrGd8RQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;최소제곱법&quot;
        title=&quot;&quot;
        src=&quot;/static/200c92cb34804c5c0c5209cd2b6a26b7/908b1/image-2.png&quot;
        srcset=&quot;/static/200c92cb34804c5c0c5209cd2b6a26b7/c26ae/image-2.png 158w,
/static/200c92cb34804c5c0c5209cd2b6a26b7/908b1/image-2.png 280w&quot;
        sizes=&quot;(max-width: 280px) 100vw, 280px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/a&gt;
이런 식으로, 그냥 쉽게 말해서 함수로부터 각 지점들까지의 차이를 최소화하려는 방법입니다&lt;br&gt;
자세한 설명은 나무위키같은거나 &lt;a href=&quot;https://www.geeksforgeeks.org/least-square-method/&quot;&gt;이런 데를&lt;/a&gt;확인해보세요&lt;/p&gt;
&lt;p&gt;아무튼 이런거 하려면 수식을 막 세워야할 것 같지만&lt;br&gt;
우리에게는 콤푸타가 있습니다&lt;br&gt;
Python을 쓸거고,&lt;br&gt;
그래프 그리는 데는 Matplot 라이브러리를,&lt;br&gt;
수학통계적인 계산은 scipy한테 맡겨버리기로 합시다&lt;/p&gt;
&lt;h1 id=&quot;예제&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%98%88%EC%A0%9C&quot; aria-label=&quot;예제 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;예제&lt;/h1&gt;
&lt;p&gt;1부터 10까지의 x값과 그에 대응하는 y, 그리고 yerr(y값의 오차)가 아래와 같이 주어졌다고 해봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1 0.000105532 5.12821e-05
2 0.000281377 5.12821e-05
3 0.000437138 5.12821e-05
4 0.000595329 5.12821e-05
5 0.000623162 5.12821e-05
6 0.000735304 5.12821e-05
7 0.000838319 5.12821e-05
8 0.000911662 5.12821e-05
9 0.00124201 5.12821e-05
10 0.00137106 5.12821e-05&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;x y yerr(또는 uncertainty) 와 같은 형태입니다&lt;br&gt;
일단 이거 가져다가 파싱을 좀 해봅시다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; numpy &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; np
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; scipy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;optimize &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; opt
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; matplotlib&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pyplot &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; plt

&lt;span class=&quot;token comment&quot;&gt;# 데이터 불러오기 및 파싱&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;linear.dat&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;r&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    lines &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;readlines&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
uncertainty &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; line &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; lines&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        parts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; line&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;split&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parts&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; ValueError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Invalid format: Insufficient data&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        x&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;append&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        y&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;append&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        uncertainty&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;append&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt; ValueError &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# 혹시 빈 문자열 등 포맷에 맞지 않는 행이 나오면 넘김&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;# 별 일 안할 것임&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런거 매번 기억 안 나도 GPT한테 &quot;&quot;linear.dat&quot;파일 열어서 저런 포맷 파싱해줘&quot; 하면 알아서 짜줍니다.&lt;br&gt;
이렇게 해서 각 x, y, uncertainty 배열들을 만들어두도록 합시다&lt;/p&gt;
&lt;p&gt;근데 데이터가 대충 어떻게 생겨먹었는지 알아야 어떤 모양에 맞출지도 알 수 있겠죠?&lt;br&gt;
점을 찍어봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;errorbar&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; yerr&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;uncertainty&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fmt&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;o&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이러면 y오차와 함께 데이터 그래프를 찍어주고, &lt;code class=&quot;language-text&quot;&gt;fmt=&apos;o&apos;&lt;/code&gt; 옵션으로 인해 데이터가 그냥 똥골뱅이로 표현됩니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 573px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4a60ec78304b5af2f533f3dc808654b5/3c024/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.15189873417721%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/0lEQVR42pWS63KEIAyFff/3dNauIAHkTrDHcUq7tjNL4w+C4UsOCZP3Xghhrc05pzGrOSvrlTYT4HVdnXPHcbTWjnfGrRVmCmXTdtr3fVmWcTjk+jQRjnN+KqVAM+of/zQgkzFmnmfwbysjqH3ux044xog7Q/wNviV6Guhluac7jG7/hDt0OZtL5DNIfk13wmjV4/G4VcYibIJIkNhWbl35C/xbtksFq0u1ttaxvxsGDA274EvYhw48MLMTxsPqo6IvnW1g5t+j2rTZU+3FR+ccQpBSiI2US41rwTdgzIybnm9bKYUUKUYiDYOPn1JKDAI+okQEB1u0FqGrx0T0CU7NNh+6wyPuAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;original data&quot;
        title=&quot;&quot;
        src=&quot;/static/4a60ec78304b5af2f533f3dc808654b5/3c024/image-3.png&quot;
        srcset=&quot;/static/4a60ec78304b5af2f533f3dc808654b5/c26ae/image-3.png 158w,
/static/4a60ec78304b5af2f533f3dc808654b5/6bdcf/image-3.png 315w,
/static/4a60ec78304b5af2f533f3dc808654b5/3c024/image-3.png 573w&quot;
        sizes=&quot;(max-width: 573px) 100vw, 573px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;직선 긋고 싶게 생겼죠?&lt;/p&gt;
&lt;h1 id=&quot;scipyoptimizecurve_fit&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#scipyoptimizecurve_fit&quot; aria-label=&quot;scipyoptimizecurve_fit permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;scipy.optimize.curve_fit&lt;/h1&gt;
&lt;p&gt;이제 이 데이터들을 가장 잘 표현하는 함수를 알고 싶은건데&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 150px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/67c2b1db0c98d93fbf3bb46915892c52/8a4e8/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEhklEQVR42h2SWVMaCRSF+y/N42TixKCGBI1GFo1LHCSRhIpJEImDCxo1bkSirA2KSEBRlgYRRlAWhabpZuumV4hb1fyTIXPq3Kpb934P5+EAuQkBOvUC03SXPguzimfp8facmo9968K+9MCqXnROWNT2YBtdWW1bfr4jp2zPDLelpe3pV+2wkg9kFDxY+RRVd6Oq7ivZ05S8A1Y8o9YEuJaPKvilSQExLSivtmZnW+H5J+ejrQnhwwvR4+Qg7/JTGxAd/P1K2VH4JECUXSlZR+av1vOxJz8W36wvzS4uLCwsaTe+TDqWRuKaNkzDi4ke/CN4mHjekhnhJWR/AlHBg/QHHqzqzE88v3rTYX43JN8w9pmCEmtYuBMW2cNCW0RiPh7Tg1saxSn/93jnH2e9j85HeWd9LUDsRUtC2oLMd6Lqnu/Tk2KzX7ITFtuDYot/wBqQmI8kZv8QGHhpg8TW0MwH9ZmwJfmy/Wz4Ueo1D7j8+Pisv7W82nX4VSExHjW5frPvlcHzfscvNh982o9M7B5Jtj1DYHAQ9Avt0Nb4u+xwW0LGK2qFQH6p62r8WU7Trdo2iewRkRXqN3qjKRhF8yu7vkwWwYuFaWeke9s3AAb67JHXOntELqjMiyqrAwCmkxDr4tDc6IDhqFd/KDN717yxn42fdZbOpDPVSvn+uhFL5VUuaMTgFW0d9llCzuWJa/Mwrn8JUKCUA4d8BnW/IWAKxXJIPo9gt9fXe3sum2PXaDbVSApBCwiKYGhRFzjtNEAW6/Kd8x1plQE0OHZ/8N5jnp7Zh244jqaoQgGp4LjFYNDJlYa5pUIJy8NwtVplGIooYwrbsQ5cufeN16xyoKyX3fhVp06NN5YoYVg6kyFwnG00ctGz+d/40BbI3VwzNF2pVAoYVudYW/hix754B6lI13uA3P3IBjR4cPY0EkCL5VKpSBAE+79SsThRxbl6nWGY5rH5a9odiad9X29jWvb4b4A6VNPReS61no3Z8nCOIHCKqjVpjmEJimyquTPsr0ELKIIWIchOZ76x54tMVA2wwRkmscJdbbMF8DzuLxarLPeL5Vi2Ui6TZK0ZgaLoMoEztRqcTZKws4GY6cs1JjkFcKdLTErfKJhw1PHW4ppxh5PJVLVYrLF0Ca8RJEsyZLlSwS5S1uMTucWJIO7rsp2BdezFV4CJr7BX2w18F0H2h4wHvSAkXQVN6mXP3Fpox3ziMR2tbu5q9W/V6y++u0Sm45PUj3v6B41a6YweYJKbTB6sV10M5Z3ac0rAkz7jgT+SzngObAtPXcvtUdtmDsZGmyW3Q1LbAYz5G9QhiTnIrBHgMvoGZmcJ9/110HHiFm56ure9K1Ds5oZ2bEi/z/Fr5fM4Soi3DnsMPqXDeXcXubuF7mkPjZgA5srAlfbYmuff25DndF+65f7sDs86w6UKns9dJi9iNEXshOKfHdCkI/RmE7Q7VzcNWq9nnUJAgM0a2coeR3nrde/SkXvQEoieJ6vlSrNSRI0kKRrHCYoiS1hhyhUUrjk+fNGNyD8KB0YVY0P/AcfC6DiOvXJ7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;도라에몽&quot;
        title=&quot;&quot;
        src=&quot;/static/67c2b1db0c98d93fbf3bb46915892c52/8a4e8/image-4.png&quot;
        srcset=&quot;/static/67c2b1db0c98d93fbf3bb46915892c52/8a4e8/image-4.png 150w&quot;
        sizes=&quot;(max-width: 150px) 100vw, 150px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;마침 도라에몽이 scipy 라이브러리에 &lt;code class=&quot;language-text&quot;&gt;curve_fit&lt;/code&gt;이라는 좋은 도구를 찾아줬습니다~&lt;br&gt;
&lt;a href=&quot;https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.curve_fit.html&quot;&gt;공식문서&lt;/a&gt;는 에 따르면 &lt;code class=&quot;language-text&quot;&gt;curve_fit&lt;/code&gt;은 least square로 fitting해주는 함수라고 하네요&lt;br&gt;
least square에 대해서는 아까 소개했죠?&lt;/p&gt;
&lt;p&gt;인자로는 &lt;code class=&quot;language-text&quot;&gt;scipy.optimize.curve_fit(f, xdata, ydata, ...)&lt;/code&gt; 이런 식인데 (...는 optional들)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;f&lt;/code&gt; : 모델 함수
&lt;ul&gt;
&lt;li&gt;직선으로 할거니까 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;y=ax+b&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6667em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;b&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;라는 직선을 가정해봅시다&lt;/li&gt;
&lt;li&gt;그럼 그냥 &lt;code class=&quot;language-text&quot;&gt;def fit_function(x,a,b) : return a*x+b&lt;/code&gt;와 같이 작성해두고, 이 함수를 넘기면 됩니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;xdata&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;ydata&lt;/code&gt;를 준비해야겠죠? 배열 상태로 준비해둡시다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;sigma&lt;/code&gt; (&lt;em&gt;optional&lt;/em&gt;) : 이건 &lt;em&gt;uncertainty in ydata&lt;/em&gt;라는데 마침 우리 데이터에는 yerr에 해당하는 &lt;code class=&quot;language-text&quot;&gt;uncertainty&lt;/code&gt;가 있었으니 이걸 넣어줍시다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그럼 이제 이렇게 쓰면 됩니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# 선형 모델 함수 정의&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fit_function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b

&lt;span class=&quot;token comment&quot;&gt;# 선형 모델 fitting&lt;/span&gt;
popt&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pcov &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; opt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;curve_fit&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fit_function&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sigma&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;uncertainty&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;리턴값이 궁금한데요&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;popt&lt;/code&gt; : 아까 우리가 모델함수로 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;y=ax+b&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6667em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;b&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 정의했고, &lt;code class=&quot;language-text&quot;&gt;curve_fit&lt;/code&gt;을 사용하여 그 모델함수의 &lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt;값과 &lt;code class=&quot;language-text&quot;&gt;b&lt;/code&gt;값을 정하고 싶었던 것인데, 이 &lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;b&lt;/code&gt;에 해당하는 값들입니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;pcov&lt;/code&gt; : 이건 &lt;code class=&quot;language-text&quot;&gt;covariance matrix&lt;/code&gt;라는 것인데요.. &lt;em&gt;&quot;둘 이상 변수들 간의 흩어진 정도(분산)의 상관관계를 나타내는 행렬&lt;/em&gt;&quot; 정도로 이해하고 넘어갑시다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/LoLbvho.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;
공분산행렬은 대충 이렇게 생겼습니다.&lt;/p&gt;
&lt;p&gt;이 &lt;code class=&quot;language-text&quot;&gt;pcov&lt;/code&gt;에서 얻고자 하는 것은 우리가 얻은 fitting 결과의 오차범위인데&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;To compute one standard deviation errors on the parameters, use &lt;code class=&quot;language-text&quot;&gt;perr = np.sqrt(np.diag(pcov))&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;라는 친절한 설명이 있습니다.&lt;br&gt;
그럼 이 결과들을 이용해서 fitting 결과를 그려봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# pcov로부터 perr값 계산&lt;/span&gt;
perr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; np&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sqrt&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;np&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;diag&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pcov&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# 데이터와 fitting된 모델 그래프 그리기&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;errorbar&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; yerr&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;uncertainty&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fmt&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;o&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; label&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;original data&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;plot&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fit_function&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;np&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;array&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;popt&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; label&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;fitted model&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fill_between&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                 fit_function&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;np&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;array&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;popt &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; perr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                 fit_function&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;np&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;array&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;popt &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; perr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                 alpha&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; label&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;error band&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;legend&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;xlabel&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ylabel&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Linear Fitting with Error Band&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;show&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;적당히 matplot으로 그래프를 그리는 코드를 작성합니다.&lt;br&gt;
제가 지금 matplot(&lt;code class=&quot;language-text&quot;&gt;plt.plot&lt;/code&gt; 등등..)에 대해 별 설명을 하지 않고 있는데&lt;br&gt;
저도 그냥 &lt;a href=&quot;https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.plot.html&quot;&gt;공식문서&lt;/a&gt;에서 매번 찾아봅니다.&lt;br&gt;
아무튼 이렇게 적당히 그려보면&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 593px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9dc19a3c844a1f82b27720bc54c65bb2/0b5b1/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 76.58227848101265%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABp0lEQVR42o2S+3KjIBjF8/5v1Qdo+kcb7RpFrbE13hG8YEB68JJkM92dnnEcBvh9N85Oz5qmaYQuFymlUiqOY9d1fd93HIcQEoZhEATH47EoClwQo5AXox2wLMvOaVqncZ7Etv1uWdbpdBJC9H3fdV2/qZs/IQYpx6+Sf6aFgXHQcpbVvKDMJ8TzvKqq9D80Kk1S9kpOWUUNXJZlVZVlw1nXZ1maF0Vd1/fANAsLLpQVfD3t7fBcoiYDc84ppcMw/JhqpjR+ScVeHf9AopwNSmt0ZGCQSLXA06YFWxbdKC0/3lvuC0l7OS1BDYyh5XmOmT1kXnmto7R6sd29EyXNILegK4ypPpQ9Y9Nl0qwf39yPZ9sL0mY9mr9bZlzF6yH5tezlwiFIkPAQJkKqrZ2/ZrHCTdNce4Yy2iIbiWI+iPuZPWiFUTZgMZgZ/vlI3j3/XNL7zn/UrWzz1JSRMMJc4E/9C93Kbig9Rgkchl2lpLH4fwX/o97V2xgYIsG3dV1hgf7RSNu2eAvG2PIW2Mfm9RQW3j0Ug6jXxeIWXFVbIzDF6vBxlFJ+A4YPYdmSNr5tAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;결과&quot;
        title=&quot;&quot;
        src=&quot;/static/9dc19a3c844a1f82b27720bc54c65bb2/0b5b1/image-5.png&quot;
        srcset=&quot;/static/9dc19a3c844a1f82b27720bc54c65bb2/c26ae/image-5.png 158w,
/static/9dc19a3c844a1f82b27720bc54c65bb2/6bdcf/image-5.png 315w,
/static/9dc19a3c844a1f82b27720bc54c65bb2/0b5b1/image-5.png 593w&quot;
        sizes=&quot;(max-width: 593px) 100vw, 593px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 있어보이는 결과가 나왔습니다~&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
되게 뜬금없는 주제였는데요&lt;br&gt;
데이터분석기법이라는 물리천문학과 수업을 듣다가 그냥 써봤습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9090dbdc2f9ec746b6598718687cee23/5a46d/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AP///8Xl45rQytbq6OLo6sPNyWJhVT0nFV9LNHtzY4WAcXdwYXhvYbWjbrKbgZKViHSHhp93YqGea4uYgADl5uWhzMiYzcjN6OTm8fHE0c2JjHp0ZFFvYU6Vj32smImlfWileWGNbVSMfGqkpJl+g32hgGmjoHOJl38AHB8rKCMuMCgxQDxFR0ZOOzk7MSokMzArKikjiH93s5OCp3ploHJckWtSnox2qpyFoZZ/npuJn5eIo5uHADgbKRQMHxALHwUEFwEADwAACgAABQYGCAAAAGtSTLyNfJ1tXIdbSn9cRoBmU5qIc5eNdZ2WhZ+YhJ+ZhgBHIzQnGCgWESUTEiQnIigwKSE/MyggGRUAAABbSEDOoZGfcmWEWEOCWz57YVOUgnGThW6alIOblIKel4UARzQqJB0jCggeFxQfVkUvb1g4dWFIQzgvOjEudWherI15iWJPc083kntlkoF2mIZ6jYN0lY59lo9+mZKBAItGOgoMFwgKGAwKFGhcT4p7bHdpXnJjVWdXSWZWS3hpWHNiS2dVP21eUINzY5WEeY6FeJqUhpuThpqShwB0ODc5EhkqCA8PBQqKhYaMg35gUUdsW01cSztbTUFpXEeRf15+bVFeTTtlVUJvXk91bGVybm5ycHBvbnAAgD47YxMvU0FkhYaSqLm9mquvj5qahY6WfYOKe46UgZSZmZuWmaSckqOaip2XiZyUgJydkLC2SlBTJCorANJhVXRCNYGkmcrt9sPi5r/c38bg4qe9zp6yy6GxyZKjw5iryKK70MPo5rbi37fi4rHl65zP1l5iZTc9PgDfZE/DXTWafjWWlIOIi45wbGlZWFVycm9oZWFsaWNpaFySjXeXknljYlVjZFlWWE1bZV0oNDM+Pz5fY2Ab+SP6m8RR5gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;몰라요&quot;
        title=&quot;&quot;
        src=&quot;/static/9090dbdc2f9ec746b6598718687cee23/5a46d/image-6.png&quot;
        srcset=&quot;/static/9090dbdc2f9ec746b6598718687cee23/c26ae/image-6.png 158w,
/static/9090dbdc2f9ec746b6598718687cee23/5a46d/image-6.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;빅데이터나 AI처럼 데이터를 다루는 분야에서 이런 것들이 되게 기초인 것 같고&lt;br&gt;
물리천문학과에서도 실험이나 관측 데이터 셋들을 다룰 때 이런게 기초로 많이들 쓰이는 것 같습니다&lt;/p&gt;
&lt;p&gt;좀 대충 쓴 것 같은데&lt;br&gt;
scipy의 &lt;code class=&quot;language-text&quot;&gt;curve_fit&lt;/code&gt;에 대해 더 알아보고싶다면&lt;br&gt;
&lt;a href=&quot;https://www.geeksforgeeks.org/scipy-curve-fitting/&quot;&gt;GeeksforGeeks&lt;/a&gt;같은데서 자세히 써놨으니까 참고하십셔&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[✍️ Producer-Consumer Problem 그리고 Readers-Writers Problem]]></title><description><![CDATA[예.. 저번에 Semaphore와 Monitor에 대해 알아봤는데 또 새로운 문제를 해결하는 데에도 쓰인다고 했었죠? 하나는 Producer-Consumer Problem이고 다른 하나는 Readers-Writers Problem…]]></description><link>https://sungpaks.github.io/producer-consumer-problem-and-readers-writers-problem/</link><guid isPermaLink="false">https://sungpaks.github.io/producer-consumer-problem-and-readers-writers-problem/</guid><pubDate>Tue, 23 Apr 2024 01:09:02 GMT</pubDate><content:encoded>&lt;p&gt;예.. 저번에 Semaphore와 Monitor에 대해 알아봤는데&lt;br&gt;
또 새로운 문제를 해결하는 데에도 쓰인다고 했었죠?&lt;br&gt;
하나는 Producer-Consumer Problem이고&lt;br&gt;
다른 하나는 Readers-Writers Problem입니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b82ea41429b93c264638fabd253d96bc/d67ca/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACmklEQVR42jWSSW/bVhSF+SsSW6JIPmqIZGqsLIkaOIiTJGqkZddpkxhGE7TopgXaAkE2QZb9B1101W666I/8emOkiwO8xcN3zzn3ap6lEzXq/JDNeYynzJoNskmHZNzGH7YIooih62KYl1TtCrYy5G0w7tUp4j6nuM0p6/LtTU66vkELqxb3UciP+4S3K59oOGA9H7NajEi9MWGa4AlwGyxIPJ9Bp4tl2Xz67Q3//Pmev/74lX///sjvHx6YT0O0QCb6ZZ1ZqczoUmdUNhl+Ud9UhHHE93cnfnl84N39a3I/pNuqMui3mE57jCddhkOHTtNivgjEoaoQWQaRsvBlsmvYTAz1pL6l2K0zfn51K7CCx9s7jktfqnAwpYKL0jPK5WfYVom6XcK9HqJF4jA2TYFaeKbN7LMEOq0oru0avufyZudLDX3W/oRzuqRIIr7qNDGtMkqVqSqdivEcx3HQ4iegRWx9dmg9AedPUMVIgEma8XD+hu+KLe+KDY+nPfvAZ9Ju0qsbXDcNRlcKvfKcK6eJlggwla5SiRdY/8MsFgIc21UO2w1F6PP2mPPTywM3Xo+4X8Nz5F/TJGgrBi8McXiB026gpbZJ9gUYiua6zcJ2mFdquNWWnEJOkcbcJSGv1gtOwYh81icetFn2O8w6DVpVHd0sMTx6aJkAVxJ1paoE0lt8PeZYFET+hsBP2exfsj0l5K7ADmv221tCcbyKM1bLLcGgRVdil/QLesMu2sq22AhwrWwCWUbqBixnEYkb4gtkLYDT10fu85TbfEe2PHLY5eTpTv5OJbJJu6FzKcArcaytbUWulACVnI4tm1aynBoLuUO3Vme7v6E4v+Z4vuNwPLM/pHizLlH/BdmgJtFtmrUSF+USC3/CfxTfakbVwRBHAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;두뇌 풀 가동&quot;
        title=&quot;&quot;
        src=&quot;/static/b82ea41429b93c264638fabd253d96bc/f058b/image-1.png&quot;
        srcset=&quot;/static/b82ea41429b93c264638fabd253d96bc/c26ae/image-1.png 158w,
/static/b82ea41429b93c264638fabd253d96bc/6bdcf/image-1.png 315w,
/static/b82ea41429b93c264638fabd253d96bc/f058b/image-1.png 630w,
/static/b82ea41429b93c264638fabd253d96bc/d67ca/image-1.png 714w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;어떤 프라브람이고, 어떻게 해결할 수 있는지 함 봅시다&lt;/p&gt;
&lt;h1 id=&quot;producer-consumer-problem&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#producer-consumer-problem&quot; aria-label=&quot;producer consumer problem permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Producer-Consumer Problem&lt;/h1&gt;
&lt;p&gt;I/O버퍼나 Ready Queue 등등와 같이&lt;br&gt;
하나의 버퍼, 말하자면 어떤 창고가 있다고 해봅시다&lt;br&gt;
그리고 작업자인 프로세스들은 딱 두 종류만 있는데&lt;br&gt;
버퍼라는 창고에 넣을 물건인 데이터를 만들어서 버퍼에 집어넣는 생산자인 Producer와&lt;br&gt;
버퍼에서 데이터를 가져가는 소비자인 Consumer가 있습니다&lt;br&gt;
이런 특성의 버퍼는 되게 자주 접할 수 있는데&lt;br&gt;
레디 큐나 I/O버퍼같은 것들이 그것입니다&lt;/p&gt;
&lt;p&gt;아무튼 이제 데이터를 주르륵.. 저장한다고 치면&lt;br&gt;
다음에 Producer가 버퍼에 쓸 위치는 포인터 &lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt;으로,&lt;br&gt;
다음에 Consumer가 버퍼에서 읽을 위치는 포인터 &lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt;으로 나타내면&lt;/p&gt;
&lt;p&gt;초기 상태는 아래와 같이 버퍼가 빈 상태로 시작한다고 하면&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 591px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/832ffa40fb28d4b16e8dac1df5589b3f/e4c9a/image-26.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 29.746835443037973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAfElEQVR42q2RywrFIAxE8/+/6MYnuhNcKKiYMpaU0sK9mwrDGWOCjFIphdda/NUipRS31njOuTXGeHnw6Z/qve9z8t6z1pqttZeMMS865zbFY0Yo9RgjE4oYAiFcIERd9iEEll74O2U2pXRGrrX+jPMv8v15KOe8zVefcgBE6M3miXyV+wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 1&quot;
        title=&quot;&quot;
        src=&quot;/static/832ffa40fb28d4b16e8dac1df5589b3f/e4c9a/image-26.png&quot;
        srcset=&quot;/static/832ffa40fb28d4b16e8dac1df5589b3f/c26ae/image-26.png 158w,
/static/832ffa40fb28d4b16e8dac1df5589b3f/6bdcf/image-26.png 315w,
/static/832ffa40fb28d4b16e8dac1df5589b3f/e4c9a/image-26.png 591w&quot;
        sizes=&quot;(max-width: 591px) 100vw, 591px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 &lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt;은 동일한 위치에 있다가&lt;/p&gt;
&lt;p&gt;이제 Producer가 데이터를 좀 쓰고 나면
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 586px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/044eaeb11a078426807616efdaf7696e/a76f4/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.0126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAlUlEQVR42q2QywqEMAxF8/+/1434qlahlEo3RVzYeocEKjo4MAMTOOR1U5oQfrQYI3LOH/uUUsITPHT1zHEcqKoK67pKfd/3k6Il772I2rYV6rpG0zQ3uq47+0opjOOIYRiEEmut4ZwDlSFjzKOw7/tbfZomWGvFz/N8wvmyLCAWbdsm6/CXv+H9LCXmNyiEIDf4l70ARhXNCNxHMSUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 2&quot;
        title=&quot;&quot;
        src=&quot;/static/044eaeb11a078426807616efdaf7696e/a76f4/image.png&quot;
        srcset=&quot;/static/044eaeb11a078426807616efdaf7696e/c26ae/image.png 158w,
/static/044eaeb11a078426807616efdaf7696e/6bdcf/image.png 315w,
/static/044eaeb11a078426807616efdaf7696e/a76f4/image.png 586w&quot;
        sizes=&quot;(max-width: 586px) 100vw, 586px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt;이 쭉 이동한 상태고,&lt;/p&gt;
&lt;p&gt;이제 Consumer가 데이터를 읽어가면
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 582px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/31ca312d4345a82a9779809b9dcc4bb6/7c1cd/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.278481012658226%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAmklEQVR42pWR2QrEIAxF/f+vKz4K0rpAlxcRX9xohhuwzAx0ygQOifHeBFTQn5FSot777b1orVEp5aLW+nF+B4OUUhRjpG8fQE/s+07LsjDWWjLG0DzPXCM757intWaklJce/ZGhXdeVxHEcbAYwj6Hee65hmKaJ81iEO2iGfizdto3EeZ50ByLnzIMQv7QD8fQJeNMQwrXgKV5hgc1E0KDvSgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 3&quot;
        title=&quot;&quot;
        src=&quot;/static/31ca312d4345a82a9779809b9dcc4bb6/7c1cd/image-3.png&quot;
        srcset=&quot;/static/31ca312d4345a82a9779809b9dcc4bb6/c26ae/image-3.png 158w,
/static/31ca312d4345a82a9779809b9dcc4bb6/6bdcf/image-3.png 315w,
/static/31ca312d4345a82a9779809b9dcc4bb6/7c1cd/image-3.png 582w&quot;
        sizes=&quot;(max-width: 582px) 100vw, 582px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt;또한 쭉 이동한 상태가 됩니다&lt;/p&gt;
&lt;p&gt;다시 Producer가 폭주해서 데이터를 쓰되&lt;br&gt;
만약 버퍼 크기가 &lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt;이고 버퍼의 끝에 도달하면&lt;br&gt;
0부터 &lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt;직전까지는 &lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt;이 이미 데이터를 읽어갔으니 여기를 또 채워야겠죠?&lt;br&gt;
Round하게, 끝에 도달하면 &lt;code class=&quot;language-text&quot;&gt;in = (in+1)%n&lt;/code&gt;처럼 해서 0으로 돌아오도록 하고&lt;br&gt;
다시 쭉 데이터를 씁니다&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 583px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cacd2d9ffae5c08f6bb04f4f2023ecc4/9fc4b/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 29.746835443037973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAlUlEQVR42o1QwQ6FIAzj/7/PiMgBhYMxwQMeMAGlL1sCMe+CS5p1XdfDBDqVUsJ5nsxLKT07RM6ZjwjE3/N93wghQEqJ53ma/vb/d7FtG8ZxxDzPUEq1Xvk0TYyqa62Z113ViTvnILz3WJYF67oyrLUNZKCAYRiYv3fkNca0mTL2fYfo/STGyIeff9gzXNeF4zg+B/4AAS7MD4bPVsQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 4&quot;
        title=&quot;&quot;
        src=&quot;/static/cacd2d9ffae5c08f6bb04f4f2023ecc4/9fc4b/image-4.png&quot;
        srcset=&quot;/static/cacd2d9ffae5c08f6bb04f4f2023ecc4/c26ae/image-4.png 158w,
/static/cacd2d9ffae5c08f6bb04f4f2023ecc4/6bdcf/image-4.png 315w,
/static/cacd2d9ffae5c08f6bb04f4f2023ecc4/9fc4b/image-4.png 583w&quot;
        sizes=&quot;(max-width: 583px) 100vw, 583px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
버퍼가 꽉 찼네요..&lt;br&gt;
더 이상 쓰면 Consumer가 읽어가야 할 &apos;니&apos;, &apos;다&apos;, 등등..의 글자를 덮어쓰게 되니&lt;br&gt;
이제 버퍼에 데이터를 쓰는 것은 멈추고&lt;br&gt;
어떤 문제가 발생할 수 있는지 생각해봅시다&lt;/p&gt;
&lt;p&gt;&lt;br&gt;
일단, 한 번에 여러 Producer가 &lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt;위치에 데이터를 쓰면 안 될 것 같습니다&lt;br&gt;
당연하죠? &quot;바보&quot;를 둘이서 나눠 쓸건데, 같은 칸에 쓰면 &quot;바&quot; 또는 &quot;보&quot;만 남게 될 것입니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 537px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9986433f2cf215fe4704a53dff4cda66/b1cde/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 223.41772151898732%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAtCAIAAAAhntw/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAJuElEQVR42h2WaWxU1xXHn2d5+76v82bem328jmfxrH4z9mAbMGDiBe/GGwYbG1IDISlNwxoSlobQBkJ2iNKSNkqqFiWoKVloPyRdyMcoaZUoUqWo6peqUr/2Ueno6lzd+78695yr+zuAz98EQx5JIDVVbPIBEOSBYE8TCLjmgzw+qMkLNoGgxw81uTv9rg81ERSKYKDrA0ATsKuv4+VnlvrqWa8HUEhQJPwg4ocQ0D0FRbw44qVQL4X5SNzHED6BArPtieaoLlF+AIeaGpngUG+HIFAa6e9QkaCIEwwhqRJLgTzulUhQZfw6CwU52OKQkIC6TljEwjIO8LivU4Y1zAtB/pSMFE1EU1he4gmRVUUqKsJRAU2ISErFmxW8RSXSJpUO0A8tSAIBBswZuC1iMAolJbQQIAUWwyi81Bkb6Ip1algmQOY0PBegcgaZCxC5ENVlkZUQlbcoIMSC1RDZpqIsCbeqaJfFPP7YxqmNsdPLW3YV7RYZzQSIjI5nDCJnUgWT7ApSOYsq2kwuxAFhHq5ahBMm3XnM5FmZ2zk2+tEHbzfa1VYFSxtEh06kdSJj4jmTKFl0l0VlQ0zeZrIWA8REuB7G+qJEUoJREpMMA6WpiZnpNkvO6VjRpkpBsjtEVMJ4xSI6daQSppwo223TBTfsGA86EWqsaPYMpAc2plhTABBMVqVMIpBWwLJF1sNEzcJrNmHLhGHIioDV40x/kqnEGCBIeea2dVw/v/ep1y9e+M0f504f3XHi/OD+A+NHj7TF1IKBFINkyU2SgVbT9umDI4mI0awTPQmuGGYBFfeOOuGrjw4PL4y88PEnv7jz8Xv3/3z7gz9c/+xLp6/ayQGlEFmLUOUQNlqwz6/uGK01VyNsPc522QygEh6nWR3f0mrG4vNPXzt+5dpTL7/xw2s3Zi5cNdtSu/Khrc1C3UYrNt4ZIBd25GtdyWYV7U+ybsEAGPUmE8HBbQ2QQN2n2uT3QTgGUYSbvIhtzI4NHt7T40RImYNFVbr63PlUe7O7GtLogk0BEImDBIYxlI/A/TDs9blqvweGMm3Ry6ePLW0cDim8jIMQjsgBc3ZunhE5mCRRmjBZGJAlWnTfI09yLCaIpCjRAkewDGapdLEjGomYMo9bIh7QeDOgNKciqsYFdN4yFZVBgdG8uKekTJX1tYHoQrfu2lzJmKoEJ5zwdCU0XLJyKT2fUoYL1kJvfKonvtBIrW5tWR1omXUSwFgne2K+69Wnp88s9x6oSsvd2kJFW3CMfY1QvVWRFIaRWIzFBRaZccJLWxILPYlTS/3HR7v2VqPAngx3ZDLz1FpjtT+86kiLVWW+qi05xnTV5DmEV7lEKmaYCoz7wgY974p7E2sDyUPbU9NOFBjP81MlYSrPLTnyakNbqavzVWV/I7inqCXDynPHpz+8cfzNc/Pbe9p5XZqqRda3xdcHEz/YmRgv28COdmG6LE8UpeGsMFaQRvLyUFaeKGkzZe3Uvq23z+1/88zyqz+eqxWiHtgzWjLne+2Zmr3ciAzlAsB4TpitytMlebaiLDnKXPlh2PPdqnvnd89M/f7ygfcvrr56YrKrRQ+pxFg1ONVtL/ZYa32RmUoImC5w02VhuigtV+TVmrxSkw/U1MVuZa6uXVptvLAy9MGFpQvrfevDub01e7RiztWCq43gRr+12B0ExjLsZFGYKYqLVWmf447isqMsVOV5Rz4y2n5xse/0UvURJzrSZSzVjTFX7ARW6oGDveZCtwFMZpjJIj9b5PfmuH1VaaUqrNakyaJYa5PntqdXH2k/MV8d7MsmQ+y2nDpeNhbdKtaNg70Bt5xAtYWfLnFTeXp5u76vLgxnxVxC0AMcxpHPnFx/+/L+e799rViraJau21o8qvZlzQVHX+sxHoojHclMjFleazxx8/b85rjI+yiRYmUKRIAzl8/++z//fP76FU5jraSpBARZFxiZ7e+UDw2Y4yUFsFORkZ3dx68eO3/n/ql3bs0df2zP+ubo6uGZ9cMnb/78zU8/O/3i9Ymjx0Ye3Zw5+eTyudOjP3py67bcsUF9T1EGJoZK3905e+/u6+9/89f733xx78uvXrz94U/fuPvS7Q+v3bpz6aV3z1+788p7n954596dv/39d999d+urb/ODW6uix/2PgW+//tN/v//is19fOXfh7Nz62tD64V371yc3jw1vHH7iyvM/uXV758GNyR8eH9k8Mnjo4O4jmwObR0KpaNIHxOAm4Fe/vHXztRcenynubMF0DiQ4guYxxRQFg27rSFZKOVFnJZVjRBKnIE3n9YAUUNko5rURD4DjkM/jwtHPCTSI+HDMj6A+H+LzuSPk9fg9EOKDMR+I+iDUj2IQgoIuImHYg7hil5P1YvzSialtfQXMBxiUj8G8XqjJZSqKeHDMi6MeCvPSuJ91EUn4JBoqZVuaw6rG+AEG9gxVEnN7apGgaDO+vIHZPIIgXo70sRTEC4TKYwYNBTgw5CKSR2wRDYtoXCXiKgmYNJRV3EA8NA6mNdQJ4e06prGgJqCcwNAiT3BUQsZadcJFZLtOZoJ0p0u8IJ23WJdVYMHAWQqmcLBDxcsh0l2LS3BMIyASo2QxFTUzJu1a3qRcy9l0MUhVLTZv04C7r27hCQlTGMSFYCP+EGVBAW2Jh9YOzB0cq67syqUDTNqkC0Eqa1JZi3QpW7DZjM0CKRntCeP1KOOysx6ht8TpiE5poQBIECfPnrz4+GJX6P98DZLu0ZUwXYwwuSDnIjVrcw/FvWGsbhPFIN2Xop0YyUo8b+oAiVvJWDUTL2pQ3carYaIepiIi3BYgeqO8E6GLUQ5IiuBIJTzdlyrbxJYoGTM5WtejPL2DRHfjWEpjnDDhWERPzE0ElGmNJMJaziK3NvOlKAukQ/TPzu598dl9w9Vwq4KwIotwVJeAXUqIJzvkiEy3yljZ5bNNbi21XNycHd2SjqpEPe5SkgZSOn5orHD50fHdXeGUgngQrJIxXjna8snN/N3n04eHwo2cRpBIr1N64sDMvvGBESfeE2cbCTbnlspgoIn+7K5ae5uO122Mo5Dl0fCDy60P3ur4+m7uwesdu/s1kUIjBhtRiJWJvkK22ZJgJ8ZkQy7oMHjbQE+iNQlikMQh5YT40Zn05zdaPr2Y+stbnfefTV0/0FqL8W6XqIb0peV5ThZAkgyqbk9DAwiJ4wxOiTzOMgAKkRRxdCr2j8/L3z+o/utB+b1zzfO9AZnG/Bgsa0pzawqnSYrnGI4yKBBACQwhMBhHvZDbMsJNKNVdMR/ZYvSU5I3poG5Qfr/bQfr9KAKhMMWQOEFQLIMSCOxt+h+JYB4eiWCoXwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;가만히 계세요&quot;
        title=&quot;&quot;
        src=&quot;/static/9986433f2cf215fe4704a53dff4cda66/b1cde/image-6.png&quot;
        srcset=&quot;/static/9986433f2cf215fe4704a53dff4cda66/c26ae/image-6.png 158w,
/static/9986433f2cf215fe4704a53dff4cda66/6bdcf/image-6.png 315w,
/static/9986433f2cf215fe4704a53dff4cda66/b1cde/image-6.png 537w&quot;
        sizes=&quot;(max-width: 537px) 100vw, 537px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Consumer의 상황도 마찬가지겠죠?&lt;br&gt;
그러니 어떤 순간에 데이터를 읽거나 쓰거나 하나만 하도록 해야 할 것 같습니다.&lt;/p&gt;
&lt;p&gt;근데 이 경우는 이미 앞에서 질리도록 살펴봤던 Mutual Exclusion 문제네요&lt;br&gt;
Well-Known 입니다만? 🥸&lt;/p&gt;
&lt;p&gt;&lt;br&gt;
또 다른 문제는 일단&lt;br&gt;
Producer는 버퍼가 가득 차면 데이터를 더 이상 집어넣을 수 없고&lt;br&gt;
Consumer는 비슷하게, 버퍼가 비어 있다면 데이터를 더 이상 꺼내갈 수 없습니다&lt;br&gt;
라는 사실에서부터 시작하는데&lt;br&gt;
그럼 그냥 버퍼가 가득 차면 Producer는 기다리고,&lt;br&gt;
버퍼가 비어 있으면 Consumer는 기다리면 되지 않을까요?&lt;/p&gt;
&lt;p&gt;근데 위 그림을 다시 자세히 들여다보면&lt;br&gt;
버퍼가 비어 있는 경우 &lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt;이 같은 자리에 있는데&lt;br&gt;
버퍼가 가득 찬 경우에도 &lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt;이 같은 자리에 있습니다??&lt;br&gt;
그렇기 때문에 &lt;code class=&quot;language-text&quot;&gt;if (in == out)&lt;/code&gt; 이렇게 쓰는 것만으로는 버퍼가 비어 있는지 가득 찬건지 확인을 할 수가 없습니다 ㅜㅜ&lt;/p&gt;
&lt;p&gt;그래서 이걸 구분하기 위해 어쩔 수 없이 Producer와 Writers 각각은 다음과 같이 작성해왔습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; producer&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		v &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;produce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 data 하나를 만들어 냄&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;in&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;n &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; out&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 다음 칸이 out과 겹치면 대기&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;/* do nothing */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		buffer&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;in&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; v&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		in &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;in&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; consumer&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;in &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; out&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 현재 칸이 in과 겹치면 대기&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;/* do nothing */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		w &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; buffer&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		out &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;consume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 꺼내온 데이터를 소비함&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그냥 버퍼를 아무리 꽉 채워도 한 칸은 비우도록 한 것이죠......&lt;br&gt;
그리고 OS를 잘 공부한 독자라면&lt;br&gt;
busy-waiting이잖아? 를 바로 떠올리시겠죠?&lt;/p&gt;
&lt;p&gt;이 문제를 semaphore와 monitor로 잘 해결해볼 수 있습니다&lt;br&gt;
게다가 얘네를 쓰면 꼭 한 칸 비우도록 하지 않아도 됩니다!&lt;/p&gt;
&lt;h2 id=&quot;semaphore로-producer-consumer-problem-해결하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#semaphore%EB%A1%9C-producer-consumer-problem-%ED%95%B4%EA%B2%B0%ED%95%98%EA%B8%B0&quot; aria-label=&quot;semaphore로 producer consumer problem 해결하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Semaphore로 Producer-Consumer Problem 해결하기&lt;/h2&gt;
&lt;p&gt;코드 형태를 바로 봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; sizeofbuffer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* buffer size */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
semaphore s &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
semaphore n &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
semaphore e &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sizeofbuffer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;producer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;produce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 데이터 만드는 함수&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//데이터 집어넣기 전에, 버퍼 꽉 찼는지 확인&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//C.S 잠그기&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//데이터 집어넣기.&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// C.S 잠금 해제&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 데이터를 집어넣었으니, 하나 넣었다고 알리기&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;consumer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 데이터 꺼내기 전에, 버퍼 비었는지 확인&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//C.S 잠그기&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;take&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//데이터 꺼내가기.&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//C.S 구현&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semsignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//데이터를 꺼냈으니, 하나 꺼냈다고 알리기&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;consume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 데이터 소비하는 함수&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;parbegin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;producer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; consumer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 때, 가상의 함수 &lt;code class=&quot;language-text&quot;&gt;append()&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;take()&lt;/code&gt;는 대충 데이터를 집어넣고 꺼내가는 동작이라고 보시면 됩니다&lt;/p&gt;
&lt;p&gt;세 가지 semaphore가 쓰이는데..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;semaphore s&lt;/code&gt; =&gt; C.S를 잠가 Mutual Exclusion을 보장하기 위함. 초기값 1&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;semaphore n&lt;/code&gt; =&gt; 버퍼에 꺼내갈 수 있는 데이터가 얼마나 있는지 나타낸다. 초기값 0 (처음에는 데이터가 없음)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;semaphore e&lt;/code&gt; =&gt; 버퍼에 데이터를 넣을 공간이 얼마나 남았는지 나타낸다. 초기값은 &lt;code class=&quot;language-text&quot;&gt;sizeofbuffer&lt;/code&gt;. (처음에는 버퍼 전체가 비어있으므로)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 해서,&lt;br&gt;
producer는 빈 자리(&lt;code class=&quot;language-text&quot;&gt;e&lt;/code&gt;)를 하나 줄이고 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;→&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\rightarrow&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.3669em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;→&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 데이터 개수(&lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt;)를 하나 늘리고,&lt;br&gt;
consumer는 빈 자리(&lt;code class=&quot;language-text&quot;&gt;e&lt;/code&gt;)를 하나 늘리고 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;→&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\rightarrow&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.3669em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;→&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 데이터 개수(&lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt;)를 하나 줄이고,&lt;br&gt;
를 지속적으로 수행하게 합니다.&lt;br&gt;
이 때,&lt;br&gt;
만약 더 넣을 빈 자리가 없다면(&lt;code class=&quot;language-text&quot;&gt;e&lt;/code&gt;값 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;≤&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\le&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7719em;vertical-align:-0.136em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;≤&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 0) producer는 &lt;code class=&quot;language-text&quot;&gt;semWait(e)&lt;/code&gt;에서 걸려 대기하고,&lt;br&gt;
만약 더 가져갈 데이터가 없다면(&lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt;값 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;≤&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\le&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7719em;vertical-align:-0.136em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;≤&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 0) consumer는 &lt;code class=&quot;language-text&quot;&gt;semWait(n)&lt;/code&gt;에서 걸려 대기합니다.&lt;/p&gt;
&lt;p&gt;이 때 &lt;code class=&quot;language-text&quot;&gt;semWait()&lt;/code&gt;또는 &lt;code class=&quot;language-text&quot;&gt;semSignal()&lt;/code&gt;의 순서가 중요한데&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;semWait(s)&lt;/code&gt;를 &lt;code class=&quot;language-text&quot;&gt;semWait(e)&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;semWait(n)&lt;/code&gt;보다 먼저 놓거나, 하면.. 참사가 벌어집니다&lt;br&gt;
예를 들어, 제가 실수로 consumer를 &lt;code class=&quot;language-text&quot;&gt;semWait(s)&lt;/code&gt; 다음 &lt;code class=&quot;language-text&quot;&gt;semWait(n)&lt;/code&gt;이 나오도록 작성했다고 칩시다.&lt;br&gt;
그러면 만약..&lt;/p&gt;
&lt;p&gt;버퍼가 비어 있는 상황이라고 가정하고 흐름을 한 번 봅시다&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;먼저 consumer가 &lt;code class=&quot;language-text&quot;&gt;take()&lt;/code&gt;를 위해 접근
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;semWait(s)&lt;/code&gt;가 먼저 나왔다고 가정했으므로, &lt;code class=&quot;language-text&quot;&gt;s==1 -&gt; 0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;그 다음, 버퍼가 비어있으므로 &lt;code class=&quot;language-text&quot;&gt;semWait(n)&lt;/code&gt;에 걸려 대기&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;그 다음, producer가 &lt;code class=&quot;language-text&quot;&gt;append()&lt;/code&gt;를 위해 접근
&lt;ul&gt;
&lt;li&gt;버퍼에 빈 공간이 있으므로, &lt;code class=&quot;language-text&quot;&gt;semWait(e)&lt;/code&gt;를 통과&lt;/li&gt;
&lt;li&gt;그 다음, &lt;code class=&quot;language-text&quot;&gt;semWait(s)&lt;/code&gt;에서, &lt;code class=&quot;language-text&quot;&gt;s==0 -&gt; -1&lt;/code&gt;, 값이 음수가 되었으므로 대기&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;헉.. 둘 다 Block 상태를 빠져나오지 못하는, Deadlock에 걸려버렸습니다&lt;br&gt;
서로가 서로를 기다리게 되었네요 ㅜㅜ&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 287px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9c8a4d8900efd2b7951f164681a7a63a/480fd/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.75949367088608%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC50lEQVR42gHcAiP9AMCVWcmaWMeeW8qjXIaGhbvEy6aIWsCbYcuiZ8WeY7+ZYMadYsafZ6iGUrWzp973/9Tp8N3x+uH4/+D3/gC7mGDMmlvCmVvIoVqAf37Cyc+niFjAm2LMpGfMo2bLo2fLomfEoGWnhE66uKrm///Y7PPa8Pjg+P/h+P0AtpllzZpYwJhcxp9ceHp4pay4qoxavplhupVfuZRdvpdivZhhvphkqodTrqqdy+H0xdfi3/T54vr/4vr+ALKYZs2bWsGYWs2mYnV1bYB6X7acX8amYs6rZNazatSxasakYcikYsOiYJuLYpKHa46CZsPPzuv//+b6/ACul2XPoVvFnV2Pd0+womniyWrawWnpz3Czn1pWSiyGdkXjyGvjxWfjxWvfxGvfwmbZuF6kmXnc8Pbp/v8AsZlp1qlimn5Tp5BV48Zi4sBh6MZlwaZbCwoIAAAAAAAAf25B7clq4MBk48Rm4sNk5MFmxqlZrrGm6P7/ALGccJ2IZJSJbMq+fc/EfcG5gNLKirGcfzwbGSgVDygMCIlrWdfJjce6ds3Cf8m+gsi7gc7AgKWliKOzugCjpJGewuGoz+yrz+yt0e2xysWjvaimvKnGWknPOyvMPiypk3eoyLu4zcywx7+ww7Kv0Oer0e+02PGw0uwAprOqs97/ttz5s9z+w9zlusmSj6+HocvMw6OHzGQ8yoFYpsGvttrir9LQiq+MorZ6wtbQs9v7vuP7v+T+AKq2rLvh+bre9bbZ9cHRvLDAm7TLx7fOypymhWt2U5Gcf8LVzbLJvaO3lZ+1j62+lMPRtrXZ86zP6brd9wCfp6Ssvsmvwc6wxNGvwcqyxdC1z9+xwsSluMKAjpiLmaK20uCuxc2xxc+2y9iqtry1ydWvx9elusqsyNwAnqejrsrbsMzfr87kuNTqtdPptNjwr9DluNjtwOLvq8vkr9PvuNfruNbqu9jorsnXq8zhtdbpttLmstTsjX/iBpZSovcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기다릴거야&quot;
        title=&quot;&quot;
        src=&quot;/static/9c8a4d8900efd2b7951f164681a7a63a/480fd/image-7.png&quot;
        srcset=&quot;/static/9c8a4d8900efd2b7951f164681a7a63a/c26ae/image-7.png 158w,
/static/9c8a4d8900efd2b7951f164681a7a63a/480fd/image-7.png 287w&quot;
        sizes=&quot;(max-width: 287px) 100vw, 287px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Semaphore가 이전의 Software나 Hardware 방식과 비교하여 강력한 것은 맞지만&lt;br&gt;
문을 잠그고, 키를 두고 가고, 값을 통제하고, .. 를 관리하는 것은 여전히 사람이기 때문에&lt;br&gt;
이렇게 잘못 사용할 여지가 충분히 남아있습니다&lt;br&gt;
그럼 Monitor를 사용해본다면?&lt;/p&gt;
&lt;h2 id=&quot;monitor로-producer-consumer-problem-해결하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#monitor%EB%A1%9C-producer-consumer-problem-%ED%95%B4%EA%B2%B0%ED%95%98%EA%B8%B0&quot; aria-label=&quot;monitor로 producer consumer problem 해결하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Monitor로 Producer-Consumer Problem 해결하기&lt;/h2&gt;
&lt;p&gt;저번시간에 말한 Monitor란&lt;br&gt;
한 번에 한 프로세스만 Monitor에 진입하므로 그 자체로 Critical Section이고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;cwait&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;csignal&lt;/code&gt; 함수와 Block Queue를 가지는 &lt;code class=&quot;language-text&quot;&gt;condition&lt;/code&gt; 변수를 가진다고 했습니다&lt;br&gt;
그런 Monitor의 특성을 이용하여&lt;br&gt;
아까 semaphore로 감쌌던, 데이터를 집어넣거나 꺼내는 동작인, &lt;code class=&quot;language-text&quot;&gt;take()&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;append()&lt;/code&gt;를 작성해봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;monitor boundedbuffer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//유한한 버퍼 자체가 모니터 안에 포함됨&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; buffer&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;N&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; nextin&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nextout&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//다음에 쓸, 또는 읽을 위치&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//버퍼에 있는 데이터 갯수&lt;/span&gt;
cond notfull &lt;span class=&quot;token comment&quot;&gt;//버퍼가 가득 찬 경우 producer가 기다리는 큐를 포함&lt;/span&gt;
cond notempty&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//버퍼가 비어 있는 경우 consumer가 기다리는 큐를 포함&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; N&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cwait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;notfull&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//버퍼가 꽉 참. 기다리기&lt;/span&gt;
	buffer&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;nextin&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	nextin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextin &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;csignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;notempty&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//버퍼에 데이터 하나 넣어뒀으니 consumer 하나를 깨운다&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;take&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cwait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;notempty&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//버퍼가 비어 있음. 기다리기&lt;/span&gt;
	x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; buffer&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;nextout&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	nextout &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextout &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	count&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;csignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;notfull&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//버퍼에서 데이터 하나 꺼내갔으니 producer 하나를 깨운다&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;append&lt;/code&gt;할 때는 혹여 버퍼가 꽉 찼다면 condition 변수인 &lt;code class=&quot;language-text&quot;&gt;notfull&lt;/code&gt;에 producer를 기다리게 하고,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;take&lt;/code&gt;할 때는 혹여 버퍼가 비어있다면 condition 변수인 &lt;code class=&quot;language-text&quot;&gt;notempty&lt;/code&gt;에 consumer를 기다리게 합니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;csignal&lt;/code&gt;은 조건을 묻지도 따지지도 않고 실행하는데,&lt;br&gt;
전에도 말했 듯이 condition 변수에는 값이 없으므로&lt;br&gt;
그저 큐에 기다리는 프로세스가 있으면 깨우고, 없으면 말고, 를 하면 됩니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 221px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d46de6777f7296102e9507a6fc617447/cccdc/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 103.16455696202532%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsTAAALEwEAmpwYAAADo0lEQVR42iWUyS9rURzHzz9ibaMbEQuxMCwsikgkNiIaISLCgpgS00KNMVNq5hYdzENLS1VbrSnmmF+JFyJ9IVggIbxPuYube8+5v993+p0rqqqqEhMTMzMz8/LyVCpVW1vb/v7+y8vL1dXV4eFhX19fSUnJ359rZmbGaDRubW0tLS1NTk6ura2JpKQkPz8/uVyemppaWFg4MDBweXl5f3/v9Xo1Gk1GRsbU1JTNZqPX8/Pz4+Pj0NDQ8vIyAKyI3Nzc2NjYxsZGQJqbm+vr600m0/j4+Pr6Oivx8fF3d3c3NzeUfX5+fn19PTw8uN3ui4uL3d1dASvaK5XKrq6u4eHhjo4OWn5/f398fOh0uuDgYLvdDib1R0dHT09P1PBAfU9Pj8jOzu7t7a2srOzs7BwZGRkdHZ2ent7b29vY2FCr1XFxcbiAPABBpml5eXl/f//KyorD4RBIog2Nq6ur29vbkVRQUMAzZbW1tbOzs01NTS0tLd3d3RiGLnoBRhV2iuvr67e3N1pqtVqZTBYeHh4YGBgaGurv749h4JvNZrwtKytLT0+PiIigHczn5+etVquYmJhobW2tqakhhsXFRVbZhhVSFxYWIIIXiIck61BDC3bCglwEPkdGRqIZJmTAnV6gzc3NUcl3FovF5XJhR05ODiadn5/TFC4+wxgSKO3s7CAMJgCyigSg4OJ0Oo+Pjzc3NymAFBpx/vX1lS29Xi+IBzK8sAcmn2I7lCij0e884b/ZbKG1yWSUNBLFpAUpgStQPTs7g0lFRcXq6qokSSATAQmdnp7SBYckSWMw6O12G8Uut5uVsbExQQHggDDYFNCPIcvPz9/e3kYq9sD/4OAAkgaDwev9Ry4wh46vGJ/DwsIIE3v4jpHEG1QgEvIJCQmYQqSDg4Msws7j+cNga7U6vhfkHhMTw1QQCZpBpiujCwsMZ5iioqIwBRz0W38uHnCBXR8yU8Fs05X28GSDU+HxeE5OTkiBc8J3SCNn+LMCQRSx7isGOTo6mmFkSBhdLMQz7iR8e3vLHRbckY2W33bOn0sUFxdzqtLS0hQKRV1dHUca8kRN7AwWRmIsxSQMHQ42tDEIa2gk0INgpqeoqIicsrKySktLgUUtgZMisQGLThpRwzotAPe5zXHhAIWEhPAzwU9OTFBQEPjsIRVjgeIbRDHPHCmm7f39nVnyDQm0gYVzSkpKcnIyrwEBAbwiHlJQBZw/BM8IaWho4Kjzn/pV8R8aWECfj3CTwgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;일어나&quot;
        title=&quot;&quot;
        src=&quot;/static/d46de6777f7296102e9507a6fc617447/cccdc/image-8.png&quot;
        srcset=&quot;/static/d46de6777f7296102e9507a6fc617447/c26ae/image-8.png 158w,
/static/d46de6777f7296102e9507a6fc617447/cccdc/image-8.png 221w&quot;
        sizes=&quot;(max-width: 221px) 100vw, 221px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 간단히 &lt;code class=&quot;language-text&quot;&gt;append()&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;take()&lt;/code&gt;라는 일종의 proceduer가 작성되었습니다&lt;br&gt;
이제 producer와 consumer는 단순히 아래와 같이 동작하면 됩니다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;producer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;produce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 x라는 데이터를 하나 만들어서&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//집어넣기&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;consumer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;take&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//꺼내와서&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;consume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 x라는 데이터를 소비&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;parbegin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;producer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; consumer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;진짜 단순해졌습니다&lt;br&gt;
어랍쇼? Mutual Exclusion은 엿바꿔먹었나요? 라는 생각이 잠깐 들 수도 있지만&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;append()&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;take()&lt;/code&gt;는 Monitor 내에 정의된 &lt;em&gt;proceduer&lt;/em&gt;라서, 이미 그런 것은 보장이 다~ 됩니다.&lt;br&gt;
또한 저렇게 한 번 정의하고 나면, semaphore에서와 같이 저같은 바보가 잘못 써놓을 일은 없습니다.&lt;br&gt;
그냥 함수만 콜하면 끝이니까요&lt;/p&gt;
&lt;p&gt;어? 근데&lt;br&gt;
이전에 semaphore에서 동기화할 때는,&lt;br&gt;
C.S를 먼저 통과하고 버퍼의 상태를 확인하면 데드락이 발생했었는데..&lt;br&gt;
이렇게 Monitor로 구현한 방법 역시&lt;br&gt;
Monitor 내부는 이미 혼자서만 들어가는 C.S인 셈이고&lt;br&gt;
그 안에서 버퍼의 상태를 확인하므로 데드락 위험이 있는 것이 아닐까요? 싶지만&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 227px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/977e923fba832aae65f871793c8329ee/9b5be/image-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 98.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEn0lEQVR42i3R+VMaZxgH8P07+gd0pp02GkV3QUUQFUg8F3YXMKhBo4IX8cDWIyKiCCzKERAV4pFU8Qh4gdyCaBCbGLVWTTKTjk3aTqfTtNPp9Jx2ujideef97fN+n+f7Avc7UXMHZulADS2l7YICcRktuGj9PLC873UkfIt77ocRlyWyanbbVXIO1FuSMgCnKRGSCoH0PBCYaIetMmyijWuWlvfW3rzDzp43yON+R9y7kAgsx71zMZcp4jS6plQD3Kz+0tRhDknFzdCgkFEAApMtRbZ2xNaBWFtKh0TMmkJo7BPxE7/jILjyLOo62LLFVrSRFZ1zalCBZing6yoOaQTJ1PAgUwUITDXeeNDGsbeV2aVluprCGkZ6dzUcc88ehhe/2F0+9NsSrtG9x/iarU+BZQ9xSFoUVKOQlkc28jOBiXrmTCd3tgOebmQbRfTWIkhSSvc4zMfRhdPd+dPo7NGWObGmf2zuUmIUNZKJY5AGI/DV2MYqur25eKa1ZLaRZallyOCcKga0Mmc8eeI6jy+eRaePA1OJTfOySabEIBz9H+N8chLjQupkfeFca/H83WLrnfxefi6fdn3a0P/qcP0iNnvuszz3mOKbeoexQ8XPHsVIWiw5Ns6nmAQUQC2kGqvpDyQ3HW1F9oZCdTWjiplRixR4lvQvgpOJhXs7M12bU7LWStYgnKHnQVoilkfW8Sl6QRYwUkHVV+Y+kLAX7t6Ya2IRDzWwSYKifHln4+mmMWyUbFuaPdZ7LSJMiUBjV1jHI4/ys8YIPIgRmGarY8w1MR82s8y3aZL81B6x8Nhte7Wueb5hukhsfH3ijzqntMK85M5EbBJTkrhHwNAIqOPVjGkxe0ZSaK2l32WnSW+VfHfkOdxe6u6U9vT1n7w89y7ZBtEcHTEzBhK/peNd4dWF0REhwyCk2u8wp8VMc3XOpyVpWCH57duLR85lJp3GomYvhRN7B7uqWwwtSlajZA0CEp0T4UB4Q2ORoSoEtN7OI/Bkbb6CA6J5qftP4/vnrwvKOMW8qsDZ5XrArRXd0PFzRpAsIhm/2hywDtWvTst7S0jGapq9oYDY3FBJq6B/ZNT0RQ/iDm9gYcu/GvB+5rCNiTlalKKroGqQDDzZOQT0im7u+icU/FwcI4/X0SfEDEMVpabgGt7X5Nlc9oV8gVjIE/K5A5t4ffkQTML5VDWXjKOgBiEDYmaK34WbZCguYh9vr12ePT3f9w803ZK3CMP+NW/I69vZCcT2traDmrpyRXm6ikvWcClaFCJuQJz34cSwaO1Rz8vT49/++Ovy8s1PP//y7ZtLbZfkyfZGMOwJ7kSCO1FP0EMkK0vThzlEYZAaAYdgEGgs+LiLnx3xDb/68vDvf/794cd3v/7+5+uX58NtNS9ODnYj7kjQHQq5w6F1QxM3iblkVfJARK+AlJUqynk/MN8zq2hYMaueh5xx57ipuUwK08JB71Ov49nS/diS+ewoZpVVyYtTB7iQEgaV5eAAgTtZKRUZ71mk2NZot5TxwQg33STMHK+ht8PUnvpKvK7sxNrx7sD5/TdfWbtq+4pTCDzIgQbgTDkX/A+f2lMxGDe4zQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;꺼내줘&quot;
        title=&quot;&quot;
        src=&quot;/static/977e923fba832aae65f871793c8329ee/9b5be/image-10.png&quot;
        srcset=&quot;/static/977e923fba832aae65f871793c8329ee/c26ae/image-10.png 158w,
/static/977e923fba832aae65f871793c8329ee/9b5be/image-10.png 227w&quot;
        sizes=&quot;(max-width: 227px) 100vw, 227px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Monitor에서 버퍼의 상태를 확인하고 &lt;code class=&quot;language-text&quot;&gt;cwait&lt;/code&gt;으로 인해 블락되어 queue에 들어가면, 이 queue는 보호되는 구역 바깥에 있어서&lt;br&gt;
C.S를 잠그고 들어가서 멈추는 것이 아니라 바깥으로 나간 상태이므로 다시 C.S는 풀리고, 새로운 프로세스가 들어올 수 있습니다&lt;br&gt;
condition 변수의 queue(또는 urgent queue)들은 Mutual Exclusion의 보호 대상이 아니라는 점이 중요했네요&lt;/p&gt;
&lt;h1 id=&quot;readers-writers-problem&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#readers-writers-problem&quot; aria-label=&quot;readers writers problem permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Readers-Writers Problem&lt;/h1&gt;
&lt;p&gt;비슷한 것 같지만 또 다른 문제가 있습니다&lt;br&gt;
file이나 공유 메모리 공간처럼, C.S 내에 데이터가 주르륵 있고, 이 것을 읽거나 쓰려고 하는데 이번에는&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;reader : 데이터를 읽기만 한다&lt;/li&gt;
&lt;li&gt;writer : 데이터를 읽은 뒤, 쓴다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 두 종류의 작업자가 있습니다&lt;/p&gt;
&lt;p&gt;이 경우 동시에 여러 reader들이 작업하는 것은 괜찮습니다. 데이터를 수정하지 않고 읽기만 하기 때문이고&lt;br&gt;
그런데 둘 이상의 writer들은 동시에 작업하면 당연히 안 되겠죠?&lt;br&gt;
reader와 writer가 동시에 작업하는 것은 어떨까요? 좀 애매해 보이기는 하는데..&lt;br&gt;
이것도 막도록 합시다. 동시에 작업하면 reader가 읽은 값이 수정 전 값인지 수정 후의 값인지 모를 뿐더러&lt;br&gt;
더 운이 나쁘면 수정되는 사이에 값을 읽어버릴 수도 있습니다&lt;br&gt;
아무튼 정리하면 조건은 아래와 같습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;reader는 한 번에 둘 이상 동시에 파일을 읽기 가능&lt;/li&gt;
&lt;li&gt;writer는 한 번에 단 하나의 writer만이 파일에 쓰기 가능&lt;/li&gt;
&lt;li&gt;하나의 writer가 파일에 쓰기 작업을 진행중이면, reader는 파일을 읽기 불가&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 됩니다.&lt;br&gt;
따라서, 이전에 살펴본 producer-consumer 문제와 달리, 코드가 대칭적으로 생겨먹지 않습니다&lt;br&gt;
아무튼, 이제 reader와 writer를 위한 &lt;code class=&quot;language-text&quot;&gt;reader()&lt;/code&gt; 함수와 &lt;code class=&quot;language-text&quot;&gt;writer()&lt;/code&gt;함수를 작성할건데&lt;br&gt;
semaphore를 이용하여 위 세 가지 조건을 모두 충족시키도록 해봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* program readersAndWriters */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; readcount&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
semaphore x&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
semaphore wsem&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		readcount&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;readcount &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wsem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;READUNIT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 read한다는 뜻&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		readcount&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;readcount &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wsem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;writer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wsem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;WRITEUNIT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 write한다는 뜻&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wsem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	readcount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;parbegin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reader&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; writer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;readcount&lt;/code&gt;나 &lt;code class=&quot;language-text&quot;&gt;semaphore x, semaphore wsem&lt;/code&gt;같은 각각의 요소들을 한 줄로 정리하기는 좀 애매해서 주석을 많이 달지 않았습니다&lt;/p&gt;
&lt;p&gt;일단 좀 더 짧은 &lt;code class=&quot;language-text&quot;&gt;writer()&lt;/code&gt;부터 살펴보면, 전형적인 C.S 코드인게 보입니다.&lt;br&gt;
writer든 reader든, writer와 함께 작업할 수 없으므로 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;이라는 semaphore로 C.S를 잠가놓고 작업합니다.&lt;/p&gt;
&lt;p&gt;그 다음 &lt;code class=&quot;language-text&quot;&gt;reader()&lt;/code&gt;는, 일단 대충 read하는 문장인 &lt;code class=&quot;language-text&quot;&gt;READUNIT&lt;/code&gt;을 중심으로 위쪽과 아래쪽인, 작업 전과 후로 나눠서 살펴봅시다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;작업 전에는, &lt;em&gt;reader&lt;/em&gt; 하나 추가요~ &lt;code class=&quot;language-text&quot;&gt;readcount++&lt;/code&gt;. 이 때, &lt;code class=&quot;language-text&quot;&gt;semaphore x&lt;/code&gt;로 C.S를 잠그고 진행&lt;/li&gt;
&lt;li&gt;작업 후에는, &lt;em&gt;reader&lt;/em&gt; 하나 나가요~ &lt;code class=&quot;language-text&quot;&gt;readcount--&lt;/code&gt;. 이 때, &lt;code class=&quot;language-text&quot;&gt;semaphore x&lt;/code&gt;로 C.S를 잠그고 진행&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그럼 이제 &lt;code class=&quot;language-text&quot;&gt;semaphore x&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;semaphore wsem&lt;/code&gt;에 의해 각각 C.S 영역이 생겨서 두 개의 방이 생긴다는 뜻인데&lt;br&gt;
잠깐 그림으로 살펴보면
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/29fdfe1fcdd06467e881f4d2a7787e5d/5a791/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACFElEQVR42rWVSYviUBDH+1MPPR/DBdSb4E1RSUjo0wzjdhMPCh7cxQ1xV1yiT6vrX2PSia0zMkMHftRb8v6vql695OXlK57D4fDNsqyfjM4YbpRSxvF4FIjoHjrP/WCNV0fwfD5rPEGXy0XRzcNjYvkdms1mNJ1OPUwmE3uN4QjyDimMsLUYZcO7qm63q5bLpZrP5yqfz6tCoeAhm81aPIfluiPIoWlXQXU6nQhwqOLVdruVPtr7/Z52u50HnhcPkZ6HghDDrghpPB6LXSwWzkZueOzvgna+er0eDYdDGgwGYvk9siOwwZqnPIRHEIRYv9+n0Wj0f4LIHR8GrVYrYb1eY/7fBN0H484bUnGH5wXtfEIM3tneukFJPRRki/ojG65DarfbzolzzVEul3Ms1yVlMhnUqbewbcF7N2Wz2TieXm+GgHK6VoC6Rue5KSJYLpdVrVajZrNJjUZDbLVapXq9Lu1OpyO0Wi0Rv17JzyHjLqPqo9GoSiQSlEqlKJlMCmjf9uPxOBWLRfEa1/OTICddQ1i6rqtgMEh+v59gA4GAgD5A2+fzYWOqVCoiiLzf9RBFm06nVSQSoVAoRLDhcFhA3x6DjcViSI98iR4JphCypmmWYRjqT5imqbBxqVRSyJ8FT34LfnxtuC+HwqLq9mvyCJSVuzJY/MNDfuGVd8jyoMm8PQPn/Y3XAJP5xYfz/Ut+J+/uCuo+yfKPZAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 0&quot;
        title=&quot;&quot;
        src=&quot;/static/29fdfe1fcdd06467e881f4d2a7787e5d/f058b/image-12.png&quot;
        srcset=&quot;/static/29fdfe1fcdd06467e881f4d2a7787e5d/c26ae/image-12.png 158w,
/static/29fdfe1fcdd06467e881f4d2a7787e5d/6bdcf/image-12.png 315w,
/static/29fdfe1fcdd06467e881f4d2a7787e5d/f058b/image-12.png 630w,
/static/29fdfe1fcdd06467e881f4d2a7787e5d/40601/image-12.png 945w,
/static/29fdfe1fcdd06467e881f4d2a7787e5d/5a791/image-12.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
이렇게 시작을 합니다.&lt;br&gt;
각 semaphore (&lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;)에 의해 제한되는 C.S 영역과 해당 영역이 잠기면 들어가기 위해 대기하는 큐가 존재하고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt; 내에는 데이터가 읽고 쓰여지는 공간이 존재합니다&lt;/p&gt;
&lt;p&gt;이제 writer인 &lt;code class=&quot;language-text&quot;&gt;w1, w2, w3&lt;/code&gt;가 차례대로 도착했다고 해봅시다.&lt;br&gt;
그럼 당연히 처음 도착한 &lt;code class=&quot;language-text&quot;&gt;w1&lt;/code&gt;만 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt; 내로 들어가 작업을 시작하고, &lt;code class=&quot;language-text&quot;&gt;w2&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;w3&lt;/code&gt;은 대기하겠죠?
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/730b9c9e695a55da7cd074eab4c1bc45/5a791/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACTklEQVR42rVVWYvaUBSeX12mP8OFiRYKgm+KStKkUwodaqrTlooPWnxwFzdEjVHHJXr09JyrySSOUmmZwMe563eW+92bm5vX+Nbr9RvLsh4ICkF1AwDUzWYjgIjnoNDcF+K4dQh3u51ME7jf7wFPPhoTltbgeDzG0WjkwXA4tPeoDiF5SPIIWYsANsgrtFotME0TDMOATCYD2WzWA13XLZrj7YpDSKnJR0LYbrfIoFRFVIvFQvS5vVqtcLlcekDzIkIuz0VCJmOvnNJgMBB2Mpk4jtygsb8T2vVqt9vY6/Ww2+0KS+vQzsAG77kqQo6ICZms0+lgv9//P0KuHR0GTqdTgdlsxvP/Rug+GHfddjaoJC5cT2jXk8k4uqflE84J09nUiZwldZGQLOsPbZAOsdFsihM3TAPTxe+o//6Jj79+4DddR9IlptNp1qlX2DbhuZsyn8+dSI25icZsgqPxQU5HBcAxO89NEYSFQgHK5TLWajWsVqvClkolrFQqot2oN7DZaGK9XhfaPF7JlynzXWbVRyIRiMfjmEwmMZFICHD7tB+LxTCXy4mo+Xq+IKSiy5yWoigQDAbR7/cj24A/gIFAQPQZ3Pb5fOwYi8WiIOS6n42QRZtKpSAcDqMkScg2FA5h8L2Ed+8kDB3HeC4ajXJ5xEt0iTDJKcuybKmqCgIfVNA+apD4LIPy6dDncU3TgB3n83ng+lkcyYHw+bWhvjgUIoXT12S1Xp19ZVhWbmUQ+XOEtOCWPOg0qBHurwHV/Z72MDTCVzqct6/yO/kDSJ7qul4f8ckAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 1&quot;
        title=&quot;&quot;
        src=&quot;/static/730b9c9e695a55da7cd074eab4c1bc45/f058b/image-11.png&quot;
        srcset=&quot;/static/730b9c9e695a55da7cd074eab4c1bc45/c26ae/image-11.png 158w,
/static/730b9c9e695a55da7cd074eab4c1bc45/6bdcf/image-11.png 315w,
/static/730b9c9e695a55da7cd074eab4c1bc45/f058b/image-11.png 630w,
/static/730b9c9e695a55da7cd074eab4c1bc45/40601/image-11.png 945w,
/static/730b9c9e695a55da7cd074eab4c1bc45/5a791/image-11.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
이렇게, &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;은 닫혀있습니다. writer는 대문자 I라서 혼자 작업하고 싶어하네요~&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;r1&lt;/code&gt;이라는 reader가 하나 와서 &lt;code class=&quot;language-text&quot;&gt;reader()&lt;/code&gt;를 실행한다고 해봅시다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/73c44f1121e9e4e9c63ef5372d52a2f2/5a791/image-15.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACm0lEQVR42rVVa2saURDNry7pz4hKjYVCIN8SNLjZbUqhxVglpUgKStPE9zYxDx/rqutjk6unc27dvFTSLxEOd+7rzMyZueva2mv8JpPJG9/3vwoMgfkYSinz9vZWA8AyGLL3RTjW7wmn02lSNjCbzRSe/WRNj3IGnU4H7Xb7CVqtVnDHvCcUDwmuyOgLVADxqmzbVq7rKsdxVCaTUdls9gnS6bQve7xu3BNKask5obq7uwMhqeqohp6n57RHo9EChsOhjpDyrCQkGb22JcWbZgsdsXu9nialBNwPIOdXE8rIVDGVg9Tr4tzG1Wka9tlPlKt1uN2uJhYpEGTCIFYSikcVRNGVyxfnf3B5dgS7lEe1ZqPf78ETCZrNJoleJqT4jICXBoMBXLF7fU8wELK+JqAzVpdRMuWlhLKoCUulkiqXy7i+vtaCM1qt6VxXYiZrjD4gZ1YvphwQBdXlHeknDEYevPEQxdNfcERjRs2sVhKy78TmptaIadXqdV1xx3WQKnxHppDF7x/7yB2lkP6WweFhin36tLEDwmUvhVoGkToDF06/C8+9kcLcoHF5iUajoeYtt6hhPp9XxWIRlUoF1JLjyckJtdV2rVpDvVZHuVLVhZk/ycWU+ZZZhK2tLbW7u4tEIoF4PK5B+/l8Z2cHuVxOR02ZFghF9CTTMgxDRSIRhEIhcAyHwgiHw3pO0N7Y2KBjFAoFTcjHsDRCFmJvb0/FYjFEo1Fw3IxtIvIhinfvo9icr3Fve3ub8ui2WUWYYMrJZNI3TVNp7JvK+mip+OekMj79m3PdsixFx8fHx2wxdoU/J3z42shcF0VI1fOvyXgyxng8XvjKsK0ed4aQP0QoB9bFQ1oWLcHB/0B0P5A7hCVISXHevsrfyV9jAed/05/qxwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 2&quot;
        title=&quot;&quot;
        src=&quot;/static/73c44f1121e9e4e9c63ef5372d52a2f2/f058b/image-15.png&quot;
        srcset=&quot;/static/73c44f1121e9e4e9c63ef5372d52a2f2/c26ae/image-15.png 158w,
/static/73c44f1121e9e4e9c63ef5372d52a2f2/6bdcf/image-15.png 315w,
/static/73c44f1121e9e4e9c63ef5372d52a2f2/f058b/image-15.png 630w,
/static/73c44f1121e9e4e9c63ef5372d52a2f2/40601/image-15.png 945w,
/static/73c44f1121e9e4e9c63ef5372d52a2f2/5a791/image-15.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
이해를 돕기 위해 &lt;code class=&quot;language-text&quot;&gt;readcount&lt;/code&gt; 변수를 값과 함께 띄웠습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;r1&lt;/code&gt;은 &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;를 잠그고 들어가서는 &lt;code class=&quot;language-text&quot;&gt;readcount++&lt;/code&gt;을 진행했고,&lt;br&gt;
그런데 그러고 나니 &lt;code class=&quot;language-text&quot;&gt;readcount==1&lt;/code&gt;이므로,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;r1&lt;/code&gt;은 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;에 가서 &lt;strong&gt;줄을 섭니다. &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;를 잠근 상태 그대로.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;그럼 이제 다른 reader 친구들, &lt;code class=&quot;language-text&quot;&gt;r2&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;r3&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;r4&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;r5&lt;/code&gt;가 주르륵.. 들어오면 어떻게 될까요?
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2dfe029415edbfa7b14bd68daf0dad46/5a791/image-16.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACw0lEQVR42rVV+08aQRD2r27snyGQIk2amJi0CQbM4V1tmrTFR0vTEJpAapX3iVjlcXc8j5M5vs4snFKV2F+85Mvuzu5+M/PNLKytPcc3mUxeeJ73mZFi6MsgIv3m5oZBug/otATMkeL9T8yxfkvo+77GG5jNZoR7H9vU6PtTuE4Drn3OMNVod1totdvBHf2WkD0kxcKjx6AA7JVM0yTbdqhnt6n0LU7VzFuFSuYd5TJfKH1w5NmWJddTt4ScmrYgpOl0CgGnylH5GA2Hai3ziTtS8BTGGI/HGI3GKkKRZyWhkFnstdPt4rrVRpfnvV6P7T58lmDK45TPyDk+v5qQR0kVPh/sMtlFw8Sf00OYZz9Rrtbh2LYiZikQZCJBrCRkjySpSSFsvnzROMflWQZmKY9qzUS/38OQJWi1WkL0NKHjsPi9+aXBYACH573+kDFgsr4iEGedTkdFKSk/SshGRVgqlahcLuPq6koJLtEqTRe6CmZsk+gDcsnqyZQDoqC6cof7CYPxEEOucPH0FyzWWKKWrFYSSt/xXDaVRpJWrV5XFbccC+nCdxwXvuL3jz1kM2kcHh3j4CBNTPpvYweEj70U0TKI1Bo4sPo2hs41F+YazctLNJtNWrTcQw3z+TwVi0VUKhWIljKenJyItmpeq9ZQr9VRrlRVYeZP0n+YsrxlKcLW1hbt7OwgmUwikUgoyPz+Oh6PI5vNzl8Py/SAkEXXJK1UKkWRSAShUAgyhkNhhMNhtRbIfGNjQxyjUCgoQnkMj0Yohdjd3aVYLIZoNAoZN2ObiLyJ4tXrKDYXNtnb3t4WeVTbrCJMSsqapnm6rpPCnk7Ge4MSHzVKfZivxW4YBonjXC4nLSZd4S0I735teK2KwqQkxMtwJy5c18V9u7TVcmcw+V2EfGCdPRyy0WDs/w9Y932+IzAYaS7Oy2f5O/kLbBHngRb2/XgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 3&quot;
        title=&quot;&quot;
        src=&quot;/static/2dfe029415edbfa7b14bd68daf0dad46/f058b/image-16.png&quot;
        srcset=&quot;/static/2dfe029415edbfa7b14bd68daf0dad46/c26ae/image-16.png 158w,
/static/2dfe029415edbfa7b14bd68daf0dad46/6bdcf/image-16.png 315w,
/static/2dfe029415edbfa7b14bd68daf0dad46/f058b/image-16.png 630w,
/static/2dfe029415edbfa7b14bd68daf0dad46/40601/image-16.png 945w,
/static/2dfe029415edbfa7b14bd68daf0dad46/5a791/image-16.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;code class=&quot;language-text&quot;&gt;readcount&lt;/code&gt;를 ++하려고 호기롭게 들어왔지만,&lt;br&gt;
우리 reader 친구들은 &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;가 닫혀있어서 하는 수 없이 줄을 서게 됩니다..&lt;br&gt;
즉 writer가 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;을 잠그고 들어가 작업중인 경우, &lt;strong&gt;reader들은 단 하나만 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;에 가서 대표로 줄을 서고, 나머지는 &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;에서 기다립니다.&lt;/strong&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 210px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/423ef583b90ea1d5f78cc3a5ba5d72c5/65ed1/image-17.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAADX0lEQVR42o1UaU8TURTtz/ELGokRpAVl6zKdsrRMKS0twkBLQawGBQRXhCBgYqImfAJB0SA70ZiwmJCwmQBRo6WlyFa0LGGxhcIUunjoABYSE++H5rxz73l3eXfK8Xq9Ozs7m5ubLpdrY2Nje3vb6XQC7O3tMQxjt9tx3NragndtbQ084sGD2d3d5UxNTX30m9lsrqysbG9v7+joqKmpQWh9fX1dXd3AwEBnZ+fg4GBDQ0NLS8v09PTo6GhfX5/RaOSsrKz09vbCh+impqaRkRGTydTa2upwOLq7u9va2nDp8PDw2NhYT09Pf3//3Nzc0NDQ+Pg4auT4fD6UhNpQBhwAKGx2dnZpacnj8aAd1A8X6lxcXFxfX0c82gQDwPH6zXdoYCcmJhBntVotFov30I4CAhlOIIvf+fn55eVllgHGLYECNuborr9ilkXDR0FoBw0Hpj1hnMC0aGxmZgYAw4ASAM1jkIHZ/inGkNg6V1dXbTYbAB4Wb/NfYnaeuKK2tra5uRkMBj45OYmB78f4Tg7vmBijghhpq6qq8LasC1uEdgDcHs9B8CE4EHv8Z4iRFgBrg61iXSAXFqxsjNO5+dtuBzj2VOxhxW/sGsDcbjcwVs1sMn/68qmotLCwXJ+gS3jV1sBKOKzM8sPyoqWx68M7k2nCP23nz58LAHa7o+n9m8xbaTFaYVgcV26QiDNjlXnkN/P3g8wM47pffSMmMURM8wlVXGn17b6PXb/XHa/fNvJTJafJc9l3KJVWoiyUibVxWQVUqj624tmTA7FtyaYplD18mnatJIUrjw5L4sakXHzwKD+KijoVeVaoITLKlOXPL+cVK0KpyOjLBD89+nFNKaa/LzZOGiOocCKXJHPIRIOYyhULM4nUbIFaH0cXUNoKRWx61CXNRZ78grookb4pi1RcMtzVe9x7++LP374GESEFVSq6SHo+PpSv5IUnRQTFcPW3pXUvdfJscZAgmL4mUhlEsjxhSYWaK+WRacm7jGtf/GvRmnxVoi6W0fnS4PgIUTYh1hGJNJmkF1N0vCqLUN2QaYqlV0oUZ0iexCARZQrS8jMYxv89448nw6AJloaRqQLtdUnuPfkFMlyoiFbr4gUKUU5ZCqnmh8oj5boE2pCQ90DBk/AoWsm4dv4AQnucmFNVri4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;내 짬에 해야겠냐?&quot;
        title=&quot;&quot;
        src=&quot;/static/423ef583b90ea1d5f78cc3a5ba5d72c5/65ed1/image-17.png&quot;
        srcset=&quot;/static/423ef583b90ea1d5f78cc3a5ba5d72c5/c26ae/image-17.png 158w,
/static/423ef583b90ea1d5f78cc3a5ba5d72c5/65ed1/image-17.png 210w&quot;
        sizes=&quot;(max-width: 210px) 100vw, 210px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
막내가 아닌 짬킹이 줄을 서는 선진병영이네요&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;w1&lt;/code&gt;이 끝났다고 해봅시다.&lt;br&gt;
그리고, 이 semaphore는 강한 semaphore라서 큐에서 꺼내오는 순서는 곧 죽어도 FIFO라고 가정하면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;w2&lt;/code&gt;가 들어가서 작업, .. 끝나면 &lt;code class=&quot;language-text&quot;&gt;w3&lt;/code&gt;가 들어가서 작업, .. 끝나면 &lt;code class=&quot;language-text&quot;&gt;r1&lt;/code&gt;이 들어가니까...?
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/03afc902aa9ff81475c4af7c1eb3decf/5a791/image-19.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACkklEQVR42rWVW2/aQBCF86ur9Cf0pRWQBlBfkKI2Eikgu0bpS9sAUVK1EQ+hQooMhEu4X0xaIBjGOZ1ZbEITkOhDLH1aey9nz8zOws7OczzT6fSFbdtfGZ0xViEiYzabMWQ4gEErYIHO419YY3cp6DiOxgO4v78nPHq4T7WOM8fdsIY7q8pUVGv1O+h0u94aYynIO8Slh1ubIQ/elSqVClnWkG6tLplnUSqdf1AUzw8pe/6NTlIZ2xoMZLm+FOTQNFeQ5vM5BA6VXTkYj0bqW97tuwkzdplgMplgPJ4oh5KejYIiNuBde70+2u2Oai3LwmxOPOZgTqTmCDx/syC3Eiq7IfT7fdzUamiaP1EvX6HRbPH4FF4EHmJioyDvSBKaHIQ4qtWqKP46Q71iuoL2/wkOh5z821uMOG9Cp9NBvd7E7z8jSL+430qQO5WgaZpUKBTQai3ciEtJvLj2DmkN24Usgr1ebykm7sTlYySqjYJSd16eZLIcTLVadU+8h3Q6jUwms2xPT0+RSqWIRf8tbE9w9abIJHE2WqlDEe12u4p2u41Go8E5rpNbck9zeHl5SaZZwFU+hx/fz3B9fY18Pi+5RbFYRLlcVpRKJSW+uJJrcih3WZIfiUTo6OgjPh++gfb+LWIJHfF4jIkjFosp5D0ajeLi4kK5ljQ9EeTQNAlL13UK7O1h3/cKocBr+AN7CAQC8Pv9Cnn3+XyyMXK53OI68mVY61AOI5FIUDgcxn4wjHD4HUKhkCIYDCpkTNqDgwNJj1cNawXjErKmabZhGGQYn1yMJySTSZKNs9mslJhUhe0KPvza8Lc6FBYlEd4GqcvVymDxB4c8YZd3SHNnkjneBs77Ma8RkswJH87LZ/k7+Qv/t+cgPikhUAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 4&quot;
        title=&quot;&quot;
        src=&quot;/static/03afc902aa9ff81475c4af7c1eb3decf/f058b/image-19.png&quot;
        srcset=&quot;/static/03afc902aa9ff81475c4af7c1eb3decf/c26ae/image-19.png 158w,
/static/03afc902aa9ff81475c4af7c1eb3decf/6bdcf/image-19.png 315w,
/static/03afc902aa9ff81475c4af7c1eb3decf/f058b/image-19.png 630w,
/static/03afc902aa9ff81475c4af7c1eb3decf/40601/image-19.png 945w,
/static/03afc902aa9ff81475c4af7c1eb3decf/5a791/image-19.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;code class=&quot;language-text&quot;&gt;r1&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;semWait(wsem)&lt;/code&gt;이 풀린 것이고, &lt;code class=&quot;language-text&quot;&gt;semSignal(x)&lt;/code&gt;로 &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;의 잠금을 풀었습니다.&lt;br&gt;
이제 &lt;code class=&quot;language-text&quot;&gt;READUNIT()&lt;/code&gt;에서 읽기 작업 중인데, 오래 걸리는 작업이라 여기서 한동안 머무른다고 생각해봅시다.&lt;/p&gt;
&lt;p&gt;이 때 &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;은 값이 1로 열려 있고, &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;은 &lt;code class=&quot;language-text&quot;&gt;r1&lt;/code&gt;이 0인 채로 지나왔습니다&lt;br&gt;
이 경우 writer는 &lt;code class=&quot;language-text&quot;&gt;semWait(wsem)&lt;/code&gt;을 먼저 실행하기 때문에 값이 -1이 되어 기다리게 되지만,&lt;br&gt;
reader는 &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;를 잠근다 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;→&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\rightarrow&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.3669em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;→&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;code class=&quot;language-text&quot;&gt;readcount++&lt;/code&gt; &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;→&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\rightarrow&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.3669em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;→&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;code class=&quot;language-text&quot;&gt;readcount&lt;/code&gt;가 1보다 큰, 2 이상이다 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;→&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\rightarrow&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.3669em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;→&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;의 잠금을 푼다&lt;br&gt;
이 과정을 반복하며 &lt;code class=&quot;language-text&quot;&gt;READUNIT()&lt;/code&gt;에 얼마든지 도달할 수 있습니다&lt;br&gt;
그럼 이 이후로 &lt;code class=&quot;language-text&quot;&gt;r2, r3, r4, r5&lt;/code&gt;가 모두 &lt;code class=&quot;language-text&quot;&gt;READUNIT()&lt;/code&gt;에 도달하고, 새로운 writer인 &lt;code class=&quot;language-text&quot;&gt;w4&lt;/code&gt;가 들어왔다고 해봅시다
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/885c2a1b28ea282cd4cf17898e284807/5a791/image-20.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC00lEQVR42rWV2U8aURTG/asb+9zWtD40wRphsGlosA9qIgWHGpuUyCZi0bTQWjaLLAOy78vIha/njA5QlZSXTvLlZu6953eWe+7M0tL/eAaDwRNVVV0kB0melRBCvrm50TQaQRYzAjQ5aO0LMZYnwNFoZKcFjMdjgXsPzd2OI4F+63qqZh71ahmlUlm3kSdA8rDHMzSqJKGLvIp0Oi1qtbpo1qvi4mRfXBzbRMS7J6JBhzgLesWR26PWazU2d0yAlJr9DiiGwyFYlCoocnS7XS1KJZ9H+Ps3JOIxMEAd9NDr9Xhdi5DLMxfIsBoZVatVXBcKCARO4HK5kM8XIMgJO+I9LNo/H0gjp6ptrFSqUHJZ5H75sL31DulMVgewY+iZcBBzgWQg2DunSHWjiBSc+Q+RvUriulhCv9+fgBYCNhoN0Wq10Ol0wGOz2YTH60cimdRqSfsWA9KkBozH4+Ly8hIFqlu73aaIh4hGo0ilrrSo9YO6p3+nrIsjpbYhYArUQuj0u1rUs+Ks5gK57zgtNuboyuUyQmchxGMxZJUcfD+COD4NwOP2wOv1wufzwe12C4L+3dg6UL8pY9zejlarjZySR4nA3EK1dgPlSllzVCwW6dDyUBRF3LXcwxqGw2ERi8eR+p1AMvYTX4N++L1uBAN+nAZ8SEQvkMlkwHWuVCqa00dryHeZu95isYjd3V0c7qzj84cVOK2rONx6gU/vn0O2PIPd+hofbTZsb+8gFAppdeYyPQDSWdi5BRwOh3izvo4NwytIay9hotG8tgLJsKKNprVVGAwGdoxIJKIB+TI8GiEfhs1mE5IkwWiUYDK/hdFkJm1iwySRzDBJm7RmhNVq5fJorTQPuMcp2+12VZZlcav9GU3fnU6nYMfn5+fcYtwV6h1w+rWhd+1QCCoYvIj4Ps92BsGnEdKGZfLgoUkn6WARUd0PyIblJB3R4Tz9L7+TPytq37SYPuprAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 5&quot;
        title=&quot;&quot;
        src=&quot;/static/885c2a1b28ea282cd4cf17898e284807/f058b/image-20.png&quot;
        srcset=&quot;/static/885c2a1b28ea282cd4cf17898e284807/c26ae/image-20.png 158w,
/static/885c2a1b28ea282cd4cf17898e284807/6bdcf/image-20.png 315w,
/static/885c2a1b28ea282cd4cf17898e284807/f058b/image-20.png 630w,
/static/885c2a1b28ea282cd4cf17898e284807/40601/image-20.png 945w,
/static/885c2a1b28ea282cd4cf17898e284807/5a791/image-20.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
reader들은 너무 외향적이라 다같이 파티를 해버리네요&lt;br&gt;
writer인 &lt;code class=&quot;language-text&quot;&gt;w4&lt;/code&gt;는 너무 내향적이라 파티에 끼지 못하고 그냥 밖에서 기다립니다..&lt;/p&gt;
&lt;p&gt;게다가 여기서 새 reader인 &lt;code class=&quot;language-text&quot;&gt;r6&lt;/code&gt;가 들어와도,&lt;br&gt;
밖에서 기다리는 &lt;code class=&quot;language-text&quot;&gt;w4&lt;/code&gt;는 신경도 쓰지 않고 그냥 &lt;code class=&quot;language-text&quot;&gt;READUNIT()&lt;/code&gt;하러 들어가버릴 수 있습니다
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4fc6b4b2120d3bebbed2789570d87172/5a791/image-24.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACtElEQVR42rWV2U8TURTG+asNPppoLNEHEUI7aEgJilEipO00uARjp20UhSqUQIU2bYEC3RfagaFn+nnO7UJZKvjATX6529zvnu22Q0N30U5PT+9ZlvWF8TJ6P0Skn52dKWwbug3ouIiX95ZYY7gnaNu2hzfQarUIlxqvtXubYFaPUC7mkS8UUOiQz+e7Z/SeIN8wLyvcWwx14VspnU5TuVyhSilPm998FFk2KBgKUzgcYsJkGIZVKpXkuLcnyK55OoLUbDYhsKtgy9FomGpcLBZhNuo4MU9gmmaPRqOhLJTwDBQUAblVRI4ODxGLxXDIPZGt9vrh7wcLci+uqg8LhSL293eR2Qpjc+0Hsrk8OAToetBFjBgoyEIkbkoiOG4suIf9+G/sJnfYwiM59H+ClUqFarUa6vU6atUqqjwulqtIpdOQdbH+VoK8qAS3t7cpkUjg4OBACShrmSqLyxxcQbJ2iZtdFjoBV2OxLJfLoW42lHg/4tVAQak7iZMgIpKEZDIph7CX2cPSioHvq8swAgEEg0GEQiEEAgGS/QuF3RXsvpRWB2nHx3VIZTTZ4hRnPdd+Hchmsyo0mUyGOiV3NYbr6+vEcUQywcRjqo9tbSC+E+NMxxFd+4U/mxtIpVLq2Um7NobylqXq3W43zc3N4eO7cXyedeDD66dYeuPg8Qg+zT6Bb/oxfFMP8P7tK/xcWVXxlTBdEeQEeCQBXq+XxsbHMTE6Au25A65RB7TRR3A9a6ONyfwhpt1TiEajSlAew7UWSiIWFhZI0zQ4nRpcky/hdE3Cqb3ABPeCS8bOSczMzEh41AMYJDgvLns8HkvXdWrj6+N87vfrJBdHIhEpMakKqyN4/mvDc5UUFqX+X5J/IWXVXxksfm4hfzDMNxi86GcWbwPHfZHPCH7mKyfn/p38nfwFewHlr+HMwz8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 6&quot;
        title=&quot;&quot;
        src=&quot;/static/4fc6b4b2120d3bebbed2789570d87172/f058b/image-24.png&quot;
        srcset=&quot;/static/4fc6b4b2120d3bebbed2789570d87172/c26ae/image-24.png 158w,
/static/4fc6b4b2120d3bebbed2789570d87172/6bdcf/image-24.png 315w,
/static/4fc6b4b2120d3bebbed2789570d87172/f058b/image-24.png 630w,
/static/4fc6b4b2120d3bebbed2789570d87172/40601/image-24.png 945w,
/static/4fc6b4b2120d3bebbed2789570d87172/5a791/image-24.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
이러한 특성때문에, &lt;strong&gt;reader들이 우선순위를 가진다&lt;/strong&gt;고 말합니다.&lt;/p&gt;
&lt;p&gt;그렇게 reader들의 왁자지껄 웅성웅성 👥👤👥👥👤 파티가 끝나고
모든 reader들이 나가서 &lt;code class=&quot;language-text&quot;&gt;readcount=0&lt;/code&gt;이 되고 나면, 마지막에 나가는 reader가 &lt;code class=&quot;language-text&quot;&gt;semSignal(wsem)&lt;/code&gt;으로 이제 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;에 아무도 없음을 알립니다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=KNp2VyF0qHY&quot;&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACYklEQVR42jWRW08TQRiG92cYEyUmHMLudk/d0nZ3dmd3Z6YNS0FTiQVaWVrOlIPUSjkJSKwcNCoYlBrFiiZW1ESONwox0RtDYmK89Mp/4lIleW7m4nm/d76PiiT67WgCAU2VRALUFru+M9qUH+6LIkMFQCbYaxmChUQLc4blgchFsLD75C1CXYz3h+1L9RhjoLjmZF9qeXTgYP1+1mlBdbIfWTImEiKuzxknPm8iEREJExETKtLagwyk+eRWGxUXZtdmJr69LR6/e7maG+mwkQ8EJRIWkQsWETqFlAlRjVccCyhSTc3cYNev/a0/h3vHH14dFh//3tl6MX2DEzhvOPxvVHmaa1qnEZhqgwT6ZK6mOpOMf3ld+F7a2HmwtJEdOXq6sjo25GFq3dpu25N/olDZtE59VwYQSKLE0LFI6OP6vYPCw6PCo90786WlmeH4ZYFhZIxZXWd1WI44cYT/MqGaVeD3sH6eCwj0YqZne235a+n5p2crmwuThpdTRL4OmbQGPbrugZrHMHkTl1u4O0dUJOAXqiplmlYFNt3SMNcbX0yn8r2ODeoqz1WEggHFNGkdshqsBToPIQsNd+FuhAuli3zl2TO1FRWGxN9MX50fTOacxutOA1t1QWSqTdmHTY3RFI+hqPWABZqEAA9N9/gSRpTGewkkXkFsULz5a53LY0NzOXtmUqWrz4+OBnuSgekJcPtWl+PE0iPBWFJrSwXau/2ZnAqbTGq3uPfj88/VlUJ2sPvJbGYjP353qn0qY8s0k+oQ483BWJN/f7OwXSyNT0dK799kJ7qdgUQ0YYHG0F/qItY3AQD16AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;잘 놀다 갑니다&quot;
        title=&quot;&quot;
        src=&quot;/static/ce4188060316f1eb94aab3616d62e9f3/5a46d/image-27.png&quot;
        srcset=&quot;/static/ce4188060316f1eb94aab3616d62e9f3/c26ae/image-27.png 158w,
/static/ce4188060316f1eb94aab3616d62e9f3/5a46d/image-27.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;그러고 나면, 이제 조용해진 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;에 드디어 &lt;code class=&quot;language-text&quot;&gt;w4&lt;/code&gt;가 들어갑니다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d742d223b9694fca8a6464eadd03d0e7/5a791/image-25.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACb0lEQVR42rVVWWtaURDOry7pX7APxQVcngTBB0Wtt/c29KGlbrSloqCQB0mCIS6k7rvXjE7nm6pxpelDhI+5Z8693yznm+PFxWv85vP5G9u2vwoMgbkLIjIXi4WCmU/BkL0vwnG5JVwul0nZ4NVqRXzwE59aeYc7nQ632+09tFqtzTfmllAixOERawtoA4lK9/f31O/3qdvtUjabpVwut4d0Om3LHj43toRSWnJNSE9PTwxIqZrVZDLRNZ5nsxlPp9M9yL5miPacJQQZoqKkx8dHtb1ebxtoF+I7TygWpeqLIHl4eOBGo8H1el2t7POmgg2QxFlCISKUhoNARiAEWa1W42az+f+EaP5wOOTxeMywg8FgC6yR/YsIxamElUqFbm9vtTwQINPdvi1pqYdzgH+XDGwywDPIkN1kOuHBcLCXOao6SwjdoU8ACGTN1WpVT7zb63K2+IO///rJ6VSKM5kMiy45lUpBp/vC3hCempTRaKSlQo+N302dFpkOldNaAbSW3HEPS6USSR8Zfby5uVF7fX2tz8ViUdcyOXx3d6eyWo/kccmYZag+GAxSNBrleDzOsVhMkUgkOBKJcDgcVj+AdT6f1/6iTUeE0vQkDsAwDPJ4POxyufivdbPb7WaHw8FOp1N9sBKYy+WyEmIYTmaIg5BsyO/3s9frZdhAIMDv3U52vHNwwB9gn8+ne6FQCO1RWZ0jjKPkZDJpm6ZJio8mWZ8sin5O0Icrg6y137IsQuBCoQCJQRX2mvD5tpG1HoqQ0uFtMsUNc+KWgax2lSHkzxnKC5cSIS1OS3D1Ekjfr+QbwBJ8k8N5+yp/J38AOg/odxa17uQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 7&quot;
        title=&quot;&quot;
        src=&quot;/static/d742d223b9694fca8a6464eadd03d0e7/f058b/image-25.png&quot;
        srcset=&quot;/static/d742d223b9694fca8a6464eadd03d0e7/c26ae/image-25.png 158w,
/static/d742d223b9694fca8a6464eadd03d0e7/6bdcf/image-25.png 315w,
/static/d742d223b9694fca8a6464eadd03d0e7/f058b/image-25.png 630w,
/static/d742d223b9694fca8a6464eadd03d0e7/40601/image-25.png 945w,
/static/d742d223b9694fca8a6464eadd03d0e7/5a791/image-25.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
아 시끄러운 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;에 차마 들어가지 못하고 밖에서 기다린 &lt;code class=&quot;language-text&quot;&gt;w4&lt;/code&gt;에 과몰입했는지 이 그림조차 너무 고요하게 느껴집니다...&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3d9be0d015ab779259049099e2022f2c/3684f/image-28.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEvUlEQVR42hXP+U9TBwDA8ZclS7bFMeoBAnK0tXf7Xq/Xvrbvvfb19T6gFEppqcVa2gKlpYcccsmNoCBFUQQ8hm0VUQSGbuKxZdG4BGc0cdmy/bJsP+zfmP4Bn2/yBdZvXm3xeU2kyWoyz08PbeZvZGbOtcb6mgOdfn+7z9fadKLV1hD0BpKeQNIfSqVjsUi0x3sq6fFHgXtry6e8HqvRhqOGicGhR/dz2dWlYDBeVQkWHWW6CMurBzuz5y8TRDWudZDG+kS03VHrU5NOndYJbOZW/S6XUWsmMONIb8+znQfrN5dJwqRDCTtpfL28+GHjzv7e0+aT7ShRZzC5Y62ReldAa3DbLL5POOz3kziplGuGu3qfbd3NLV8d707HG+xWVHFnfPT1YmZ75ry33kPjKDRqezwSInU1dC6CqquB3fyt0x1tGpyUyzUDqfSzrTvZa4uTfamgXVenJS6n2vYX5x4Oj4+me1kCjNQ64pEwoa9hCjUoXgP8cDd7prNdo9LgqGVqcOin79a3czcanQ0tDtNSovn9tbF3V8+t9/X2J7t4IgzXWGLhkJa0MwT4J7y3kR9IxaSQCJao5sbH3r18/mRzr9baWPT1oaBZnx/oeHG+dzIcZvIQKhchSHsqGjGbXRVMWIVVA7/s7Z5NJ7QohsCqzExm5crtOmdAIlQVH+Z89nlBYWEps4Lek+6amFrw+OKhcCIVbT3hj9rqw/WN7cB///452pM2aQhSo3e5Q1KJlM3mgEJIDtcdLeYXfHPkWBnXajENDwzMz18jjI7gCXdb/LQv0u0JJIDf3rxaXZi1ESSmVMBygwrTqlQIJOLqtG4LmT5IKT10kGY2euwOz9DI9MjYhZXrucXlXGbx28amELBzL780N23RkRocQZQojJAYLlfhMgw3BFwZp6mLz9Vj6ia+2ICpa5y1zSdDg519Sy3RifJD5cDLp3uXZsY1KkSNKz+Og5AQw5UYjqhQ1GE8E/Vd1Khq2TyMwUGlMjObj3KFalzvVet8ZUWVwET34Nz4WYVMJFfAUhji8XhiqViOSHBUKYcwGUcg5rIKDxyroipYIrXcXI3qbHwRASM2AR8DUI445PPrcBSCBHyIB4FMAyFvqNVZCUTMoppRyKASiXgCRE6YTcapSCIZPCWW6yUyPYPJA+hHaHoMV8BCiRhElEhbwP720bkPP6/cXmm5eMGxkR3dyV/aymY2cxf+erv55smcv8kulZoFoKSishSgUmEZKBYJ2DJYqFRKI37T+6dX/th/+HhrOns7lc2Nbdxd2Ht8a+fh6j9/v/p9P+tvbBSKzSUlpRRKASCqAkE2W8hnCkHmx0TIZ8ktja0tT77YvbV9vzszb19b8+1uD+Svz/74/c1fn1/xulzU4yC1qgoSSAD6FxQhgykTC/hMGpdNxZRgh9/S31HfF3cMJdyzQ8mF0dOXxvpm+pOTZ4LDqQYJyCspK4cEUpAPA4VfUqDjdL1GLZPI6JUVRYcLaZVlLEZVefnRyjK+Fe12G0dqyX6tNMaiSal0WnFxOYVSUnaM8dWBw0BBQaFDh3ZGWhC5GuQLRCIOjsu0WiUMC1h0oV4R9VlGPKazdnQAERv4EOs4g2cyOpUqoxTR/Q83taJicwjEAQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;혼자가 좋아&quot;
        title=&quot;&quot;
        src=&quot;/static/3d9be0d015ab779259049099e2022f2c/3684f/image-28.png&quot;
        srcset=&quot;/static/3d9be0d015ab779259049099e2022f2c/c26ae/image-28.png 158w,
/static/3d9be0d015ab779259049099e2022f2c/3684f/image-28.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아무튼, 그래서 정리하자면&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;readcount&lt;/code&gt;는&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;reader가 작업 중이면 읽기 작업을 진행 중인 reader의 수&lt;/li&gt;
&lt;li&gt;writer가 작업 중이면 기다리는 reader의 수 (하나는 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;에 대표로 줄 서고, 나머지는 &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;에서 줄 선다)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그리고 또 &lt;code class=&quot;language-text&quot;&gt;semaphore x&lt;/code&gt;의 역할은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;readcount&lt;/code&gt;의 조정을 한 번에 한 프로세스만 하게 하기 위함&lt;/li&gt;
&lt;li&gt;reader들이 C.S에 들어가고자 하는데 이미 writer가 작업중이라 들어가지 못할 때, 짬킹을 제외한 나머지를 줄세우는 역할&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;마지막으로 &lt;code class=&quot;language-text&quot;&gt;semaphore wsem&lt;/code&gt;은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;writer가 작업중이면, &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;을 아예 잠그고 들어간다&lt;/li&gt;
&lt;li&gt;reader가 들어가 있으면, &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;은 reader에게만 열려있다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 됩니다&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;휴.. 생각보다 글이 길어져서 햄드네요&lt;br&gt;
사실 내일 운영체제 중간고사입니다&lt;br&gt;
아좌좍~
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 347px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b268d0733d1cccb1892d7c687c8d8828/39e45/image-31.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABV0lEQVR42j2QWYuCYBSGv///B7prLqWyFaWiBiMqqIsITRJbBiOLotX2xZxnvmAOeFDPebcjhsNhFEWn02m32z2fz/l87nmebdv7/T4IAkY/so7H43g89n1/Op2yMxqNrtercBzn/X4vl0vAs9nMlmVZFnubzeYDhg4wMt1ul1G/3zdNMwxDAQeYarVqGAZ7iF8ul/v9vt1uD4fDP5h31s7nMyw4ut1ujASzb1m6rnc6nUBWq9VijIKqqr1eDzAp6HiMZD0eD+gESdrtdjqdzuVy6GMEw4lEAopYLAZjpVIh5AfMSyqVwuN6vcadWCwWCCaTScTz+Xy9Xs9ms4qifMkqFotQcAWOAt1gMIjH47VaDaI/2zwcsFQqwUckPrkEHUeqrEwmg6lms4na6/VqNBqaprmuy/EEq/z6dDAkISqDcrnM3mQyQY0gdA62Wq2QKRQKcFmW9QspsZpufbFxqwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;자퇴서&quot;
        title=&quot;&quot;
        src=&quot;/static/b268d0733d1cccb1892d7c687c8d8828/39e45/image-31.png&quot;
        srcset=&quot;/static/b268d0733d1cccb1892d7c687c8d8828/c26ae/image-31.png 158w,
/static/b268d0733d1cccb1892d7c687c8d8828/6bdcf/image-31.png 315w,
/static/b268d0733d1cccb1892d7c687c8d8828/39e45/image-31.png 347w&quot;
        sizes=&quot;(max-width: 347px) 100vw, 347px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이만 마칩니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ 🕹️ OS 툴로 Critical Section 통제하기 : Mutual Exclusion By Semaphore & Monitor]]></title><description><![CDATA[Software 로직으로 이리 보고 Hardware Instruction으로 저리 봐도 로 가짜로 대기하는 Busy-Waiting…]]></description><link>https://sungpaks.github.io/mutual-exclusion-by-os/</link><guid isPermaLink="false">https://sungpaks.github.io/mutual-exclusion-by-os/</guid><pubDate>Sat, 20 Apr 2024 21:31:15 GMT</pubDate><content:encoded>&lt;p&gt;Software 로직으로 이리 보고&lt;br&gt;
Hardware Instruction으로 저리 봐도&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;로 가짜로 대기하는 &lt;strong&gt;Busy-Waiting&lt;/strong&gt;이슈를 피할 수는 없었고&lt;br&gt;
이외에도 다른 이슈가 생기기 마련이었습니다&lt;br&gt;
그럼 어떡하면 좋죠..?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 527px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b44a7c601af199c2b2ebd24b10bba70f/44385/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.79746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAChUlEQVR42kVSy05aURS9c3+hadJ+Qzt21k501n5EHxNNB7YJDgQ0kU6oUWMaSq0RgQIloNxboOKDhxWrgIIKllsoRuVxoRrAgWT17G2akpyEe87ea6/Hlvb29nB8fIxCoYBYLIbFxUXs7u7C5/PxHZ2TkxM++Xyea0ulEqanp2E2m5FOpxGPx5HLZrG9vQ2pWq2CftfX14hGo1AUhZuDwSBubm4YJJfL8d3p6SmKxSLXh0IhHlap/Ob7VrvN39LFxQUXJBIJnnR0dMQsqPH8/JwBDw4OcHh4iKxgQYq0hoboZhRtAZIVw4qix/3sJX6IN6leryOZTGJlZYVZhMNhnrS/v89AV1dXaLVaDF4ul1FWf6FWryGWiCMsVPw8O4NvaAjzkoR3AwOQyDO73c7TieHExARGR0dhMplYVqPRQLPZRE/IJwv+dDqQdTrEvF5sCc+KlQoSCwv4/PwF3vf3QyKvlpaW0O12sbOzwz6OjY1xOOQvmR4SNfM2G8ymtzA8eIhPfX14de8+3IqMgpD7xe+HV9SEXK7bUIgdAZKfJHV2dhZOp5O9JU8pfQK1PXkK+c5dKIODGHn0GLrxcbwZeS0U6WA06BFZW/uf8j8vKWViTPJrtRrSwminYKAuL+Ob8CnzwYKOqFd8fg5kZmaGLQoEArwN0uXlJf8hFpqmwWg0wiWo012v18PGxgYCsgy79SM2h4eR+qrA4XLzrhIJ6rNYLKyM1keiBG3Cn0wmw0w9Hg+H0RHmUwiRSARzc3PQRF2mqKIkQiAwg16PBREGeTw5OQmr1Xq72LRfDocD6+vrUFWV94weaP9INoETC3pLbn1HKpXitZqamuIjC/bUT5uyurqKv5R10XLILqe6AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이렇게 된 이상&quot;
        title=&quot;&quot;
        src=&quot;/static/b44a7c601af199c2b2ebd24b10bba70f/44385/image-2.png&quot;
        srcset=&quot;/static/b44a7c601af199c2b2ebd24b10bba70f/c26ae/image-2.png 158w,
/static/b44a7c601af199c2b2ebd24b10bba70f/6bdcf/image-2.png 315w,
/static/b44a7c601af199c2b2ebd24b10bba70f/44385/image-2.png 527w&quot;
        sizes=&quot;(max-width: 527px) 100vw, 527px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;사실 프로세스 다루는 일은 OS가 전문입니다&lt;br&gt;
그런 OS가 미리 만들어두고 제공하는, Mutual Exclusion을 위한 툴이 있는데&lt;br&gt;
&lt;strong&gt;Semaphore&lt;/strong&gt;와 &lt;strong&gt;Monitor&lt;/strong&gt;입니다&lt;/p&gt;
&lt;p&gt;바로 알아봅시다&lt;/p&gt;
&lt;h1 id=&quot;semaphore&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#semaphore&quot; aria-label=&quot;semaphore permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Semaphore&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;Semaphore&lt;/strong&gt;는 하나의 구조체 변수로, 정수 변수 하나와 큐를 가집니다.&lt;br&gt;
또한 이 semaphore는 세 가지의 &lt;em&gt;atomic&lt;/em&gt;한 operation을 가지는데,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Semaphore 정수 변수를 초기화 (주의 : 음수로 초기화 X)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SemWait&lt;/code&gt; : 정수 변수의 값을 하나 빼고, 결과가 0보다 작으면 현재 프로세스(값을 하나 뺀 프로세스)를 block시킨다 =&gt; 큐로 이동&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SemSignal&lt;/code&gt; : 정수 변수의 값을 하나 더하고, 결과가 0보다 작거나 같으면 큐에서 (블락되었던) 프로세스를 하나 꺼내준다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Semaphore의 구조와 operation을 코드처럼 나타내보면 다음과 같습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;semaphore&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	queueType queue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;semahore s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 하나 빼고,&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//뺀 결과가 0보다 작으면,&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* place this process in s.queue */&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//큐에 넣고&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* block this process */&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//블락&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;semaphore s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//하나 더하고,&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//결과가 0보다 작거나 같으면,&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* remove a process P from s.queue */&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//큐에서 아무거나 하나 제거하고&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* place process P on ready list */&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//레디 큐로 보낸다 (실행하라고 보냄)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;을 실행하면, &lt;code class=&quot;language-text&quot;&gt;s.count&lt;/code&gt;값에 따라 &lt;em&gt;블락되어 &lt;code class=&quot;language-text&quot;&gt;s.queue&lt;/code&gt;로 들어갈 수도, 넘어갈 수도&lt;/em&gt; 있습니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;을 실행하면, &lt;code class=&quot;language-text&quot;&gt;s.count&lt;/code&gt;값에 따라 &lt;em&gt;&lt;code class=&quot;language-text&quot;&gt;s.queue&lt;/code&gt;에서 프로세스를 하나 꺼내 실행가능하게&lt;/em&gt; 할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그럼, &lt;code class=&quot;language-text&quot;&gt;s.count&lt;/code&gt;값을 2으로 초기화한 경우 &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;에 따라 어떻게 되는지 생각해봅시다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==2&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count--&lt;/code&gt; 이후 값이 1이므로 블락되지 않음&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==1&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count--&lt;/code&gt; 이후 값이 0이므로 블락되지 않음&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==0&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count++&lt;/code&gt; 이후 값이 1이므로, 큐에서 프로세스를 꺼내지 않음(사실은, 큐에 프로세스가 하나도 없음)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==1&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;: 위에서와 동일하게, 블락되지 않음&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==0&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count--&lt;/code&gt; 이후 값이 -1이므로, &lt;u&gt;해당 프로세스는 블락되어 큐에 들어감&lt;/u&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.queue&lt;/code&gt;에는 프로세스가 1개&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==-1&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count--&lt;/code&gt; 이후 값이 -2이므로, 해당 프로세스는 블락되어 큐에 들어감
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.queue&lt;/code&gt;에는 프로세스가 2개&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==-2&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count++&lt;/code&gt; 이후 값이 -1이므로, &lt;u&gt;큐에서 프로세스를 하나 해방&lt;/u&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.queue&lt;/code&gt;에는 프로세스가 1개&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==-1&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count++&lt;/code&gt; 이후 값이 0이므로, 큐에서 프로세스를 하나 해방
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.queue&lt;/code&gt;에는 프로세스가 0개&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==0&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count++&lt;/code&gt; 이후 값이 1이므로, 큐에서 프로세스를 꺼내지 않음(사실은, 큐에 프로세스가 하나도 없음)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;구구절절 썼는데요.. 규칙이 보이시나요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/21c49c01b21e0334ed2ec892ca13a372/01e7c/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.12658227848101%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC50lEQVR42gHcAiP9AIeLjj9ESTAyNjAzNSsvNCMpMi4vMzQ2OjAzNy0yNS40NBYbHUdLSqmponJub4Z8e5aQh5OKgqWQh7ikmgA3PUEyNjoqLTAvMzI6RWVkb5lUVlk4O0NSWGBGTFBWW1p3fICIi4yjpJpnaF1qa2iakoh8c211b2t6dXAARkpLREdFOjo5LC8wTVFdiYqXT1JUHiQtbXWGQkdQOD48e4F/hIiDmpqYTk06WF5HP0Q/EBMXFBgcHyMmAE5YREtOUDU5OVBRT19kZkpMUD5ERi40O2JwdkhiYDE3PhwjLEJMQIKQYTY5OB8jITs/QVFUV09TVlNXWgArNyYkKCseISJMTUtgX19cYGhIT1MyNjlAY1wykXBAT0wWICUtOx9WeQ45PzErMDE6Pz9iZmmEiYuXnKAAJzQuJzUvGSolO0pIi46Tmp2mWGFnLzQ0bG9qSo1vKFM9Rl1XTF5CWXoTSVxEOkNEFhgWJSYmY2lsgnl4AKuwrMDEw97Exu6zufm6v9a1uEZRVi0zNXNxcV+QfDBXQ2FuZ05fSWZvGH5rNWtaQT0/QSElLA8ZI085NwDx7vTl4Oa7pquTf39sZmtRU1ZFS08oMDNTW15Bg2tFZ1J6fnJRY1I3SSZRUSZJUDY6TUIzSUMtTFFsTUcA5uHj3dzdWmNWTEcoQEI7FiAkGCAkHycnPkhILmpQPWRLb3tra3xqYHVgSmVVW11NR1A7IkIuM008VlhGAM/R0XiEg0xaUGJcR3BeMjs7MS4uIxIaHRMfJQ4eJS1IODlVQTpZRExoUlBuXJ2RhoaHdj5lUD5fTDdWQwBpdnBMW1Q5T0ZJWkxjZl2JdES+jBZbSBtPRCKhew+LhkdFZVtLY1FIYEw1V0B8fW2WlIZsh3h8k4R3kH8AbX1zWGZcPUxCKz4zPlJEcXdrq4tH5qkQ+L8b9cQ9ybmSm6WhZIFxTW1bQGRQhnpniH9qMmJKTHReX4RxkSz+MbiCwcYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;주차장&quot;
        title=&quot;&quot;
        src=&quot;/static/21c49c01b21e0334ed2ec892ca13a372/01e7c/image.png&quot;
        srcset=&quot;/static/21c49c01b21e0334ed2ec892ca13a372/c26ae/image.png 158w,
/static/21c49c01b21e0334ed2ec892ca13a372/6bdcf/image.png 315w,
/static/21c49c01b21e0334ed2ec892ca13a372/01e7c/image.png 512w&quot;
        sizes=&quot;(max-width: 512px) 100vw, 512px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;결국 semaphore의 값, 즉&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;s.count&lt;/code&gt;의 값은 음수냐 양수냐에 따라서&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count &amp;lt;= 0&lt;/code&gt; : |&lt;code class=&quot;language-text&quot;&gt;s.count&lt;/code&gt;값| == &lt;strong&gt;블락되어 큐에 들어가 있는 프로세스 개수&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count &gt;= 0&lt;/code&gt; : &lt;code class=&quot;language-text&quot;&gt;s.count&lt;/code&gt;값 == &lt;strong&gt;블락되지 않고 지나갈 수 있는 프로세스 개수&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;라는 결론에 도달합니다.&lt;br&gt;
그리고 앞에서 처음 semaphore에 대해 이야기할 때,&lt;br&gt;
semaphore는 음수로 초기화하면 안 된다고 잠깐 써뒀는데,&lt;br&gt;
그 이유가 여기서부터 비롯됩니다&lt;br&gt;
내 맘대로 초기값을 &lt;code class=&quot;language-text&quot;&gt;-5&lt;/code&gt;로 두고 &lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;을 호출하면 &lt;code class=&quot;language-text&quot;&gt;blocked queue&lt;/code&gt;에 보낸 것이 없는데 꺼내려고 하겠죠?&lt;br&gt;
양치기소년이 될 수 있으니 주의합시다&lt;/p&gt;
&lt;p&gt;그럼 이제, Semaphore로 C.S에 한 번에 한 프로세스만 진입하도록&lt;br&gt;
Mutual Exclusion을 보장하려면..&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;semaphore s &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* Critical Section */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게, semaphore 값을 1로 초기화하여 단 하나의 프로세스만 &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;를 통과할 수 있도록 하고,&lt;br&gt;
C.S에 들어가기 전에 &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;를 실행하여 semaphore 값이 1이었다면 진입, 0 이하였다면 대기하도록 하며,&lt;br&gt;
C.S를 나오면 &lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;로 대기하던 프로세스를 하나 깨워줍니다.&lt;/p&gt;
&lt;p&gt;매우 간단해졌죠??&lt;br&gt;
마치 C.S에 혼자 들어가기 위해&lt;br&gt;
C.S 전에는 문을 걸어잠그고&lt;br&gt;
C.S를 빠져나올 때는 열쇠를 두고 가는 셈입니다&lt;/p&gt;
&lt;h2 id=&quot;binary-semaphore&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#binary-semaphore&quot; aria-label=&quot;binary semaphore permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Binary Semaphore&lt;/h2&gt;
&lt;p&gt;위에서 이야기한 semaphore는 굳이 따지면 &lt;em&gt;Counting Semaphore&lt;/em&gt;이고,&lt;br&gt;
&lt;em&gt;Binary Semaphore&lt;/em&gt;도 있는데요&lt;br&gt;
이 경우 정수 변수인 &lt;code class=&quot;language-text&quot;&gt;int count&lt;/code&gt; 대신 &lt;code class=&quot;language-text&quot;&gt;enum {zero, one} value;&lt;/code&gt;와 같은 ON/OFF값을 가집니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b32bc46d44680817f9d75ed7dad959f2/3684f/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD80lEQVR42n2U3U9aZxzHe7W/YskutsQs3ZZtVueQtwMqcDyHc0DgvPAmoiK2VEBBDnAQPFpBLSrRdslMrYDKNpu4lwt3sRl70W43MF1i1qQtYtHVKmgTo2a2diLczfV78Vx883yeb375PfleevP/Oj09ffNWXSpeev0fXWgW/aJK8MHBQTKZ3H6+nX76dHNrK5VKra6u/vXo0ZPHj1dW/lhbWzs5Obk4+fWrV4uLi1PR6GwiEZuZmYvH47FYPBqbmpyMT0fn7y389POvS/cf3n/w+4OHvyWTqZWVP88e39r8uwDn8nkljtVKJIK6WoGAJ2JXyyBECiEQCClUhEqn73AxHibSbnNdtVgoj8fn99u6HDOzcwV4N5cn1SSKIIQSQyUiHEU0ukZ1c6umtYUwGrQmoz8UGbkdc/oYt9ft9dEuD2W62j4djxXgfC5PyORSkYjEcFSKKAgcNzahWq3+mkmlVWuaDL5gODj2NcUMUD10p8vppCiL3Xbn7tR58s4uLlfIUZkMw6SkSmYglW1NUp0OM7WCBEY26hy+Pmb4litww+Z2efoCfcODVIBOzH9bgPf29i1dNphQwhpSTMohvQo1akRarUIgCX3IquZwmyxdzPBEJ+13+Lw9wX5/6IazxzP73Tmcy+VgsgFAxFKNGmgAhRgM6XBAo9FX8pbfZQESsN3TGwhP9IdHBscig5HI0HgkEAre+2GhAO/kdsRKiAfVQSTOQcTcBolES4jUag5QIwF4nygQo9dPj95yBgfooYG+8M3Q6BgTDC18/+P5zPkcqEI4oBDEVQCK8OVIjRqvUsg/tzUTy/PvGFHcS9Njt5td3QaH2cX46H7GSjljc8VV7eZApYxTX8NHQY5UUgmL2VrsAxIt85iMK0vvWRsbu1z+ka8MnXaj3ezrZ+gBxup2RBOzxZnzvPray6xyrgwuFwMf13BYSnklJi+Tit+vr7kCw812d2Bo3Gi3m912e4Dq6u02Odqjc/HS3/5leamTpmAN8Smf/RGrkg2BbBSp4AJXqtiVHMBoo3qHxkmzGWkmzFTHdbe96VrL5PSdEnx8fHx0dGSyWy9XV33GYXGhei4sreIJv+QLARBpc3h6hyeMNruyzdDi6LC6u1uslsno3QJ8eg6fnYomfVlFeQXAA2ApD4S+YPOrOQJYrmq97vD2DVMen4eifL4ehmHclDuRSJSSk6nUzDeJNqsF02trJaAcIyLjEzfDYQxT8QWCDifdGxrDcay+jquEhYRMBAmrxkcHS/Cz7LPsZjafz5+c/JPd2MisZw4PD8/8/f299Hpma/vF8xc72Ww2s5HJrKc3Mul0+snLl/sl+MICKpbG22voX7KX1Nr37IsYAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;신호등&quot;
        title=&quot;&quot;
        src=&quot;/static/b32bc46d44680817f9d75ed7dad959f2/3684f/image-1.png&quot;
        srcset=&quot;/static/b32bc46d44680817f9d75ed7dad959f2/c26ae/image-1.png 158w,
/static/b32bc46d44680817f9d75ed7dad959f2/3684f/image-1.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;binary_semaphore&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;zero&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; one&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	queueType queue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;semWaitB&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;binary_semaphore s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; one&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; zero&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//1인 경우에만 0으로 바꾼다 (통과)&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//0인 경우, 이 프로세스를 블락.&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* place this process in s.queue */&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* block this process */&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;semSignalB&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;binary_semaphore s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;queue is &lt;span class=&quot;token function&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//큐가 비었는지 확인하고,&lt;/span&gt;
		s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; one&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//큐가 비어있으면 1로 돌린다&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//큐에 프로세스가 남아있다면 레디 큐로 하나 풀어준다&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* remove a process P from s.queue */&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* place process P on ready list */&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 경우 큐에 프로세스가 얼마나 있다거나, 몇 개나 통과할 수 있다거나, 이런 것은 알 수없지만&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;count&lt;/code&gt;변수를 따로 유지하거나 할 수도 있긴 합니다&lt;br&gt;
그리고 &lt;a href=&quot;https://www.geeksforgeeks.org/mutex-vs-semaphore/&quot;&gt;geeksforgeeks&lt;/a&gt;에 따르면&lt;br&gt;
전에 썼던 &lt;a href=&quot;https://sungpaks.github.io/multi-threading-in-cpp/&quot;&gt;C++에서 멀티스레딩 써보는 포스팅&lt;/a&gt;에서 사용했던 &lt;strong&gt;Mutex&lt;/strong&gt;가 이러한 Binary Semaphore의 일종이라는 것 같습니다.&lt;br&gt;
딱 하나만 지나갈 수 있게 허락하는 Semaphore로 상호배제를 구현하는 셈.&lt;/p&gt;
&lt;p&gt;확실히 좋아진 것 같긴한데, 아직도 Semaphore로는 부족한게&lt;br&gt;
아직도 자꾸 몽총한 제가 관리하라고 떠넘기죠?&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;count&lt;/code&gt; 값도 그렇고.. 알아서 잠그고 들어가서 열쇠 놓고 가라고 하고..&lt;br&gt;
이러다 제가 실수로 열쇠 두고 가는 것을 깜빡하면 어쩌죠?&lt;br&gt;
변기칸을 잠그고 도망가버리는 어글리 코리안이 되기 십상입니다&lt;/p&gt;
&lt;p&gt;그래서 나온게&lt;/p&gt;
&lt;h1 id=&quot;monitors&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#monitors&quot; aria-label=&quot;monitors permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Monitors&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;Monitor&lt;/strong&gt;는 Program-Language Construct, 즉 동기화를 위한 어떤 라이브러리 함수나 패키지같은 것이라고 보면 되는데&lt;br&gt;
구조는 일단 아래와 같이 생겨먹습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 463px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2a8b224eaee2f17cae054ceb7f5685a6/71ce0/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 137.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEWklEQVR42pVVaW/bVhDU//9coBfQAgXaBmjRAv2S1qjjNkismxJFUrcokbooS9ZhWbft6cyTqCSG+yEEFjzevnm7M7vLBD73enrEH24NvxRcLBdzjEYR5ovFeTnx9PREH9pTbI8fPT8z4R0O+NUu42cCeiUbb64u4ZbLBuzx8RGJz47w4QGvCg6+eptE1O+h5bcwub09Bs9DE7PZDAXLguO6qFQqyFl5eDyx2WpheX+P1WqF/X6HdtuHVSzCcVxYjRby9SY265VZv6ff3d0d1us1EslUCtlczpjNDflMGrlMBq5tI5VOI811iwfm83nj0w27KPPwsusgiiJ0u11j/X4fNvckHMcxpEbDIaxaA6/dKi7cCv6u1GF7HlLJa4QEaTYbqFZr2G53mE6nuBmPsd1ssFwuTYS62u02Ei5P6w+GaDPFt46HL99l8A3t+0wRWbtkot5w44ARHPZ7c+9wYycIMLq5Ycprc+B2uzWRngAHCMIQPTpfXV3h8vIS2WwWubyFIAhxoLI6XZuGzKRRr6PeaGA8nhh+e73eB0CJEY1GqNHJ5yalVTttsAoFAyj1Wi2fG3oY8PDhMDIm3jqdDny/bVIOwgCJEjm8JScCjVikbToonZAR2yXHRKQIA37zfZ/fSiYbceq4nklZ4ogWE6EAJwQc8uMRdISQCzrE9cqMIDAR6gCBKz3d+6xBRT+bzU2ke/IbvgQ4oHOlWj0BegZIl56bzSYajabhU8AyrSvyY8rhC4C818ifql8gSuNw2BuR6uTWY9Q3VHe725o0H9g54tWkzAOOHHKz0pDjLetrejvBYnZMWadqUxSNzu11nhOn58lk8kHlj0VpkPh0pYoMrdD0UeSaVBQ/ctalZx0gk1i6zqIowrhsfPJzYRXxRdLC1ykL32Zt5Khy8vra9KgAlcGIvspGaepZ37QWC2cKu8dFvbSCDn7/6wK/vf4Tb9IZpMmbSuh5qhoIGgbx93hN2ZgIpaymi0pBbdWmaiGLVGvhKVWByJSa6WXTdkdg9bMBDE6FLUX1ok4pEcTjGJOpU1Qa4u2aqds2pxHbUeUjIQU8n89N0cc8n0VRo0/pNKNiUyq9pGOZoDro4fBg2k5CKMJYjDjVMf0/KZsxgXrdEO9LLn7MFPAqW+A/w0Gea3bRNqlJgP8rm08AYw7F23u3jO+uM/iB9hNBswQrcWiu6dwixwvOzTjVKSe97ou7hRHjxfElbt79+w+ndgbZVJLjK39WWVwJUCLoHpu+y86iKELxV2/UOWkC1AnqsOVc8ic6jq134M/IZ+31TXnpm+pQQ0GTW6LIJ3zeKQJWtDpJw1Y/q1hlgSi1EseXy7ElCmq1GlbrjeFXPB9VpoP4iIeDQEc3Y/NNw0GTRZe6Q5zdkTP1rkD0LkHUeud/iv5m+lEJODYNUVGR5l+vYKZ2YApdG8plz6x7p9GmqLUu096E0tntdi9avKaSkIoSRCNMNCgqravPtS6T739OPhHtwLT2KwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Monitor 구조&quot;
        title=&quot;&quot;
        src=&quot;/static/2a8b224eaee2f17cae054ceb7f5685a6/71ce0/image-4.png&quot;
        srcset=&quot;/static/2a8b224eaee2f17cae054ceb7f5685a6/c26ae/image-4.png 158w,
/static/2a8b224eaee2f17cae054ceb7f5685a6/6bdcf/image-4.png 315w,
/static/2a8b224eaee2f17cae054ceb7f5685a6/71ce0/image-4.png 463w&quot;
        sizes=&quot;(max-width: 463px) 100vw, 463px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;자세히는 이어 설명하겠지만&lt;br&gt;
해당 그림에서 &lt;em&gt;MONITOR&lt;/em&gt; 영역, 즉 하얀 색 영역은 그 자체로 Critical Section으로,&lt;br&gt;
사실상 하나의 &lt;em&gt;성역&lt;/em&gt;같은 것이라&lt;br&gt;
그 안에는 단 하나의 프로세스만 들어갈 수 있고&lt;br&gt;
그 안에 있는 지역 변수는 그 안에서만 접근 가능하며&lt;br&gt;
미리 정의된 Procedure(≈ function)로만 그 지역 변수를 읽고 쓸 수 있습니다&lt;/p&gt;
&lt;p&gt;좀 더 친숙하게는&lt;br&gt;
🚽 화장실 변기칸 같아서&lt;br&gt;
🚶 그 안에 사람은 한 명만 들어가서 문을 걸어잠그고&lt;br&gt;
🧻 그 안에 있는 휴지는 그 안에 들어간 사람만 쓸 수 있고&lt;br&gt;
💩 그 안에서 할 수 있는 일은..&lt;br&gt;
;;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/614753d3fd99ff7d1c5409285e722d3d/5a46d/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACoElEQVR42hXP7U8SAQAG8PsnytSmq61la00nvoIoA0kj1Eyl0ikoeAgcJxwHxx133O447zjewVAwMBSZL/ia9uLsg7W2tj60WnNrfWl+6e8Ivz1ffs+eBzh696V8/Cme3XTRMb1+1mGHwnxgKRnOJsMrqcjOzr4oRFsk7ZiHKu8ebW3vnn08/3B6dvL2/cHhGyCfK+bX9lMvX4ciWYsZmrdbowKbSVVkKBMXWZrDPGRQiObyG36SqYRCcWe7fESRtMAHgaQYXMkWNlZLe6U9GiNgqIIDFZxNistxnvBSdsiFYaQYigcCAk+TDGxEbWaXEyFwPxBj8KXF7Ea+tFfYopyozWK5mp0IZhJCSmTcLgzH/TS9IIox0h8IeKC0ZyLms1E0i6IkIHjgdCyVCS3mY8sOqwMnKJ6hkuFAOsKFGLy3SyprkcjbW5RdnW1NjeD4cAg385THakUKa2WAhIwRlj5eL3IYqVD1YxhOYYjIUnHez/mQvu5OZadE0dGsVUol9xsmNPIgOu2GTCwXvfjzDwhi87+/fj4vrtrGXhgm9SjqdkEmGoUFysPgDp1GNaiW9yukg+puWavEoBvCbNMiL3z/dbl9cAq0NrcxmPeQY1IO2OmATQYjBoO0C2TdFtIJVvBQb/eASjY+rO1oegCazD8uLr/9/Lu+eQLDKHCtqrauto6YnnQjdjNomnw2RiAQhztYdA6zTGp6ZJoe+YCqR6ftU8vax4ZHGS5pnPOAcw63mwCuV1XX1Nwc0aph2yw4ox8d6L+6RLgChBODZmTNjXfr6xsb7o0/faLp00xNzbq9LLOQcCHeUDgB3KiqVnZIdI8UIw/lz7W9o4/ViMVAIpAfhSotd27d7pIqBCERi6VJHxsMJl7lSj4fQ/u5peXcf0VpLMzK63nrAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;변기&quot;
        title=&quot;&quot;
        src=&quot;/static/614753d3fd99ff7d1c5409285e722d3d/5a46d/image-5.png&quot;
        srcset=&quot;/static/614753d3fd99ff7d1c5409285e722d3d/c26ae/image-5.png 158w,
/static/614753d3fd99ff7d1c5409285e722d3d/5a46d/image-5.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아무튼 예.. 그렇습니다&lt;br&gt;
아예 Scope를 분리해서 C.S로 만들어버리고, 접근은 정해진 함수로만 하는 의존성 역전 like한 발상&lt;br&gt;
좋은데요&lt;/p&gt;
&lt;p&gt;그래서 Monitor는 아래와 같은 구성요소들을 포함하는데&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;한 개 이상의 &lt;strong&gt;procedure&lt;/strong&gt; (≈ functino)&lt;/li&gt;
&lt;li&gt;모니터만의 &lt;strong&gt;지역 변수&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Condition 변수&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;초기화&lt;/strong&gt;를 위한 코드&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 &lt;strong&gt;Condition 변수&lt;/strong&gt;는 Semaphore와 되게 비슷한 친구인데&lt;br&gt;
얘도 큐를 가지고 있고, &lt;code class=&quot;language-text&quot;&gt;cwait(c), csignal(c)&lt;/code&gt; 함수를 가집니다&lt;br&gt;
Semaphore랑 다른 점은 Condition 변수는 &lt;strong&gt;값이 없다&lt;/strong&gt;라는 점인데&lt;br&gt;
따라서 &lt;code class=&quot;language-text&quot;&gt;cwait&lt;/code&gt;은 값이고 뭐고 블락시켜 큐에 집어넣고,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;csignal&lt;/code&gt;은 값이고 뭐고 해당하는 큐에서 하나 꺼내옵니다&lt;/p&gt;
&lt;p&gt;그리고 아까 Monitor 구조 그림에서 좌측 하단에 &lt;code class=&quot;language-text&quot;&gt;urgent queue&lt;/code&gt;라는게 있는데&lt;br&gt;
요거는 이제 어떤 procedure에서 중간에 &lt;code class=&quot;language-text&quot;&gt;csignal(c)&lt;/code&gt;가 실행되면 프로세스를 깨우게 되니까&lt;br&gt;
Monitor 내에는 단 하나의 프로세스만 존재한다는 철칙을 지키기 위해&lt;br&gt;
깨어난 프로세스를 위한 자리를 내주고 &lt;code class=&quot;language-text&quot;&gt;csignal(c)&lt;/code&gt;를 실행한 프로세스는 여기에서 잠시 숨는 곳입니다&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://entertain.daum.net/tv/948839/video/392827640&quot;&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnUlEQVR42g2Q+08SAQCA739rzdXKprWe0lrLtXJtGVM2H1MyrSweIsjTAz1eKqC8VODgjtcBJ3C8vFOEIx7jYT5AQbe0ltu37/fvA1ZVY6OfugT8nqExxjjrkUzEdFiEqGvO5+F73TwfzAvC80lMkcJkZGQxg4NkVFkgTdldfYqQARbNLJ/d/5X9YJj3UaIYWNOML8snIMUkujm/HwdzBEjtSNOYKBnipsMCEpNmw4pcDKKiIImLAf+mDHeBOzAUcsw57LNW0wzm5fg8HM8WJ7AlTAahQmLlIKZLBXRURFtOqxp7utreEp1ZDDm5QNgjiXnBREAV8ypvwNxiv4tPRBaiEQFNqvAIZI6bN+LmtYgpETKRIWMxZa+QtsuavZoxAoFtUQgRYehcGBVl/EtZTJ30gvY1AY4om+Wty0NvIWvN79lLefgoj1R3nYc55LQcujqJXzcTwK5PnfGDdFRbzxiOKfNVBSaDmpGhgelJ5ijrvc0go2PWCxrp5N1neU+bdl/Qrj8VtHXgaKTtwP5NFb7S+oVcN+N/zxP/Okml9LtSLl5WyQRfxn6yh9/1P5/nsaXCaRGfrVNyccSAubRnFeyiEgKKMRONG46zrnbJ2y4iZwX3yOAbxpPu14yHmxLO1IeX3XdvvXrR2/e0h/Gst+d+153bXaMs5m8a7TRwII/piG1pPqxvpKz1lKUSM8o5rLd99wb7H8unmTrhhF4+oxF/tmv5sHEB3ZBAokkLxKX8EOXXAFVivZ4wNZLrNcJIB5YJ+0JiW0F5lBkYpHzqGmEqhnU5v7pOGE9J243pIERj6kJYT6FLQKuMntLO8yLSKrlP8s5Wydus+Jo3Syq+TgNrV/1HOdcJDddS5kJklYSViPaHbXHKBX3zrXD/AxCN0yOwx7daAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;혼자있고싶어요&quot;
        title=&quot;&quot;
        src=&quot;/static/584a6e97fc49d9418a635965cabba648/f058b/image-7.png&quot;
        srcset=&quot;/static/584a6e97fc49d9418a635965cabba648/c26ae/image-7.png 158w,
/static/584a6e97fc49d9418a635965cabba648/6bdcf/image-7.png 315w,
/static/584a6e97fc49d9418a635965cabba648/f058b/image-7.png 630w,
/static/584a6e97fc49d9418a635965cabba648/40601/image-7.png 945w,
/static/584a6e97fc49d9418a635965cabba648/78612/image-7.png 1260w,
/static/584a6e97fc49d9418a635965cabba648/21b4d/image-7.png 1280w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;이제 이 OS에서 제공하는 Semaphore나 Monitor라는 툴을 써서&lt;br&gt;
다른 새로운 문제들을 기깔나게 해결하는 방법을 알아보려고 하는데&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 308px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e9bdf6269bd7c3cf690f67cc78e6de30/2ece4/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.16455696202532%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AGFlbFlYXVBQU0FARkpJT0xLUU1OVVI4NEAoKCckKah+bOSwmrKShjsyNR8eJhoZHhEQFj88Qz47QBYWHABBQkdPTlJJSE4xMTQ2Njk7OkAyMzl4ZGJSQUZaRkLlqJPlqZbGlINPPzwUFh0bGR8KDA9JOk5vXHFSU1cAHyEmJCInHx4kGRgeJiUqFhUbCQgOf32DcW55j2de36OQzpaGq31ySTM0GBceGhkeEhEWGRghc4uYm5idACclKSsrMCMhKCgoKyopLxIRFxoZIBARGg4MErmGeN6ejMiNfrqEd29QUDIuNhAQFhUUGhwaH0pTW3mFjABHMi4lJy0nJiovLzMlJCoREBYYFx5SRUYsKCx0XFiTXlqFVVZ3UEZ/b3Z9fo0NDBIkJCooKC4yMzo+R1EAQConJigvKikuLi0yHh0jDQ4VUUE/5amTgmRnSkZTl2Rgg0tNWkA7PztMnZ2uLSwyJiQrQDk9LSkuZl5mAC0mLB0cISspLiopLxYVGxMUHG9YUbB8cDssOpWWos68vohsaqCYnzEvQl9cdEdHWT8xN3RcXVZBQ8C0uQBPXHdhbow4OkYWFBpDQ0dUVVptXmCAXVgxLUSysLvHwcrJx8+ZlqQzMElPTGlMSGZRTV1LTFFjX2r07OgAU2iUcou9W2uSGRglc3JzlpidiXp9g2xqQEFRd3R7tbC3nJmhW1lrWVdtTUxfPTpUNDJCFBQbqqWq//z0AFBhjktdh0BSejQ5TFJRUWpqbXZ1e25ubX9+f4uLioaGhZKQkomJln6AgnJyej48VSIgMVBNV/jv6/3n4ABHWYg6SWs+TnEhJDYmJCdMS1o/PlNAPk01Mj87OUdmZHFiX25WU3BKSWBTUmI3NUxpZHPz7vD/9/T14N3FIOEtx0IPpQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;지루해&quot;
        title=&quot;&quot;
        src=&quot;/static/e9bdf6269bd7c3cf690f67cc78e6de30/2ece4/image-8.png&quot;
        srcset=&quot;/static/e9bdf6269bd7c3cf690f67cc78e6de30/c26ae/image-8.png 158w,
/static/e9bdf6269bd7c3cf690f67cc78e6de30/2ece4/image-8.png 308w&quot;
        sizes=&quot;(max-width: 308px) 100vw, 308px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이쯤되면 그거까지 고봉밥으로 담기에는 양이 많아지는 것 같으니&lt;br&gt;
다음 포스팅에 쓰겠습니다?&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🙋 선착순 한 명 Critical Section!! : Mutual Exclusion Hardware Approach]]></title><description><![CDATA[저번 포스팅에서 Software 로직으로 Mutual Exclusion을 지키는 방법을 살펴봤습니다 Dekker 선생님이나 Peterson…]]></description><link>https://sungpaks.github.io/mutual-exclusion-hardware-approach/</link><guid isPermaLink="false">https://sungpaks.github.io/mutual-exclusion-hardware-approach/</guid><pubDate>Sat, 20 Apr 2024 17:25:07 GMT</pubDate><content:encoded>&lt;p&gt;저번 포스팅에서 Software 로직으로 Mutual Exclusion을 지키는 방법을 살펴봤습니다&lt;br&gt;
Dekker 선생님이나 Peterson 선생님께서 빈틈없는 알고리즘을 만들어 주셨지만&lt;br&gt;
여전히 문제가 존재했습니다..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;같은 반복문을 이용하여 가짜로 기다리기 때문에 busy-waiting 문제가 있고&lt;/li&gt;
&lt;li&gt;프로세스가 세 개, 열 개, ... 이렇게 많아지면 이걸 다 막기 너무 복잡해지고&lt;/li&gt;
&lt;li&gt;결국 닝겐의 손으로 매번 코드를 짜야하기 때문에 구멍이 날 수 있고&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;대충 이런 단점들이 있었는데요&lt;br&gt;
그래서, Mutual Exclusion을 위한 &lt;strong&gt;Hardware Instruction&lt;/strong&gt;을 미리 정의해두고 사용한다는 발상이 나왔습니다&lt;br&gt;
이렇게 하면 매우 간단히, 진짜 한 줄 정도로 Mutual Exclusion을 보장할 수 있고,&lt;br&gt;
프로세스가 여럿 존재해도 끄떡없이 막아낼 수 있습니다.&lt;/p&gt;
&lt;p&gt;그래서 어떻게 하는 것인지 이제부터 알아볼건데, 주의할 점은&lt;br&gt;
아래에서 설명할 instruction에 대한 코드는 실제로 어떤 함수같은 코드가 아니라,&lt;br&gt;
&lt;em&gt;이렇게 동작한다는 것을 나타내기 위한 것&lt;/em&gt;일 뿐입니다.&lt;br&gt;
미리 정의되어 있는, 하나의 &lt;strong&gt;atomic한 과정&lt;/strong&gt;이며,&lt;br&gt;
즉 중간에 interrupt를 받아 중단되거나 하지 않습니다.&lt;br&gt;
또한 어떤 메모리를 참조할 때도, 해당 메모리를 블락시킨 채로 접근하기 때문에,&lt;br&gt;
&lt;strong&gt;hardware instruction은 진짜진짜 독립적&lt;/strong&gt;입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 251px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c0342ca4f8efb9178020b5fe75dcc62a/26abe/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 80.37974683544303%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAADvUlEQVR42h2R2W/bBACH/dqVnmkcO7HjOLYT23F85HDsxLmaNHGaNE3brcfakk7aGkpv2nVdWcWklgoGWddm7cp6DMZWYB0SncQDDwwkJLRNGyrSgFcGT/BXkCF9r58+6fcDggIU5CFNhBMBLOrBfCzMO0CONLJ2I2JuMcEgRdmiMjXYIWdCfIC2xAR7xI1rbmuEw4HeNNyXhvt1uE+HBzLw2axlKGcp5s3DOZTAmhw4nNWYBx+OrE9nix3u9jCkh6BMBE6FoIRiAmrBmlpjTZ2xpgE81QjWtcAtbxhqFU9TSIKMUP3lolaZy9xfGShPZvQwwbvqz6QtHqFB9rQoHhNgcBqaHYYmR6PB0WQgDUbSWI/ViwE4EHOVZkcrCz13rnTtLRY+Hk85RaQBq49GkRpLXa258RTUDLgkEyuCtGikBSMhGHC/mW11srrXmfbOr17ZWJn+oBRZn27vz6pmFrJyBoRrRlzNCNNkYRoBlTeFRFjmYR8PBcJOTz4gFFSxoJJpqfOtwc3Na6tTuaWZ4vx7y0xE8mtO2WX0My0+xuCjDQAeV2HZbgk6YIWgMl6xOyTlZa5DJlNSfFD//Kv7t/e2y5WNwvkhKsLzaZkOu1CvDfPZbRIG0JkkGiSsUYZWiVSM08NsX4CU8qqz3ecthLbv3Cpv3tja/UQ702YPsUxccsZFVHVUsaokQCQjaAgHQw6vaJujTO8U3CMMlCvITGfQlfUvl1ev36zsHOx1jPYTMTcdl0iNRRXKWiVgB8jWoFmxu3Wmd0C8mnV+t9n2/UHHzFIci0tEUphcLO3ubx0+POp5e4hMuEmNwxXaqpBWlUCrMhagzQol6uwX17qf35367dvFXx/NffPRud3K8MW5xEQpVV5fPjx60D9erJaJIGv1EK/lIIkEcCAS9YN+cmBM+fnexNP9q8/uzT7dm36yN/bv86XtGzORHv32Z/s7+zv5N7sxla5mERG38FZU/V8ezOug11bZyr44LP10c/L3RxdeHk+8ejL+98no1HSGjvt2DnY2tzdSuTj+WmYg3ER4KEeMt/hxoCeXaBDQZC//4uvhl0ezv9wde/bp2KsfJ09+6HYqNioqXFxeeHf5sqLylMYhAgnaTKTmYpOSKykBFhREFSfXyjw+7vrzZOivk3P//HH+8cPOtfcTpy+EqYQ3lgufHels64zZqlP5HYiHMHtsVpmM6hogB/0mwR7rki7Nq0GdPF30rK6EtS6ezih8XuOy8qW10pfH1xfWJqwyhflJRKGqJ0MCynDkf4lACmEYl2KOAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;건드리지마&quot;
        title=&quot;&quot;
        src=&quot;/static/c0342ca4f8efb9178020b5fe75dcc62a/26abe/image.png&quot;
        srcset=&quot;/static/c0342ca4f8efb9178020b5fe75dcc62a/c26ae/image.png 158w,
/static/c0342ca4f8efb9178020b5fe75dcc62a/26abe/image.png 251w&quot;
        sizes=&quot;(max-width: 251px) 100vw, 251px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아무튼 시작합시다.&lt;br&gt;
Instruction이 두 가지 나옵니다.&lt;/p&gt;
&lt;h1 id=&quot;1-compare--swap-instruction&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-compare--swap-instruction&quot; aria-label=&quot;1 compare  swap instruction permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. Compare &amp;#x26; Swap Instruction&lt;/h1&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;compare_and_swap&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;word&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; testval&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; newval&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; oldval&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	oldval &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;word&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldval &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; testval&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;word &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newval&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; oldval&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;첫 번째 Instruction은 위와 같이 생겨먹었는데,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;word&lt;/code&gt;의 값이 &lt;code class=&quot;language-text&quot;&gt;testval&lt;/code&gt;와 같아야 &lt;code class=&quot;language-text&quot;&gt;newval&lt;/code&gt;로 값을 바꾸고, 이전의 &lt;code class=&quot;language-text&quot;&gt;word&lt;/code&gt;값을 반환합니다.&lt;br&gt;
당장 이것만 봐서는 어떻게 써먹는지 잘 모르겠으니, 실제로 어떻게 사용하여 Mutual Exclusion을 구현하는지 봅시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; bolt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//i번째 프로세스의 작업&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ture&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;compare_and_swap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;bolt&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;/* do nothing */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* Critical Section */&lt;/span&gt;
		bolt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* remainder */&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	bolt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;parbegin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;값이 0이면, &lt;code class=&quot;language-text&quot;&gt;compare_and_swap&lt;/code&gt;은 bolt값을 1로 바꾸고 0을 반환합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;값이 1이면, &lt;code class=&quot;language-text&quot;&gt;compare_and_swap&lt;/code&gt;은 1이 반환됩니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 &lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;값은 사실상 C.S가 잠겨있는지 여부입니다.&lt;br&gt;
n개의 프로세스가 아무리 한꺼번에 &lt;code class=&quot;language-text&quot;&gt;compare_and_swap&lt;/code&gt;으로 도달하더라도,&lt;br&gt;
해당 instruction은 atomic하므로 단 하나의 프로세스만이 &lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;값을 1로 바꾸고 0의 반환값을 얻는 데 성공합니다.&lt;br&gt;
그럼 나머지 프로세스들은 &lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;값이 이미 1이므로 계속 기다릴 뿐입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 296px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/51e90ecf8acd898070640e35bc368757/b1a44/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 57.59493670886076%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsUlEQVR42o2SzS/DcBjH+y+5uImTXUmEk3BxEAdCOCBBHARpHGZaOsUE2cHElOpqU3shC1batWvZi7Zr91Y2jGxHPxdEMiSfPPnmST7Jk+d5oPp6S6Olpam53dLSPuf0bpwl8JPYqjdmp4U/gXo75rfc51pGv02k9LyZUNNaJssldTvN4bTwO5DzTGHkwmP5zTBLeq5wl1I1PcPGVRtxuUhE7J7oCi3UAmruHmjrGW7tGeoaHMdI1sHIaz4RPxYxigem3SP8Jo/19cMItuNyTSw40MPrFVr80/mSdwk2IOWq1QoRubeR/H+cL9lK8nvncsowrm+TkXh6nQFdMPb/5FVf3C/l3l7Lxcdi6flpzcsiByxGccD/pKY8DOMD07ZReGkERhF3CKWiViKyeHiDHvEo+QFC8liNnUMNda2d3YOTM7MjE1PbR4GgnGU4xc+rp5xywikMCLy66ZfAS4AT/JRh5Ji+SFYrZbOQLxXNp5KZNdIPhRyo+ayR0bXXl6I7LFj3r5YpDqOi34Gc4aQrnAiIqj+qBEUtFEuDGhT1UAxk7SNLujMg4Z4bh0/YPJW/8w4BHgvPfBqVugAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;선착순!!&quot;
        title=&quot;&quot;
        src=&quot;/static/51e90ecf8acd898070640e35bc368757/b1a44/image-1.png&quot;
        srcset=&quot;/static/51e90ecf8acd898070640e35bc368757/c26ae/image-1.png 158w,
/static/51e90ecf8acd898070640e35bc368757/b1a44/image-1.png 296w&quot;
        sizes=&quot;(max-width: 296px) 100vw, 296px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;선착순 1명만 반환값 0을 받아서 C.S로 들어가겠네요&lt;br&gt;
당연히 끝나고 나면, &lt;code class=&quot;language-text&quot;&gt;bolt = 0&lt;/code&gt;으로 또 선착순 1명을 받도록 해줍니다.&lt;br&gt;
화장실 변기 칸 쓰고 다시 나올려면 잠갔던 문을 다시 열어야겠죠..&lt;br&gt;
나가면서 잠그고 나가는 사람은 아주 정신이 이상한 사람임에 논란의 여지가 없어보입니다.&lt;/p&gt;
&lt;h1 id=&quot;2-exchange-instruction&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-exchange-instruction&quot; aria-label=&quot;2 exchange instruction permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. Exchange Instruction&lt;/h1&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exchange&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; memory&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; temp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	temp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;memory&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;memory &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;register&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;두 번째 Instruction은 너무 친근하게 생겨먹었습니다&lt;br&gt;
코딩 처음 배울 때 이런거 자주 하셨죠?&lt;/p&gt;
&lt;iframe width=&quot;50%&quot; src=&quot;https://www.youtube.com/embed/vpQUw8MQ3c4?si=7H7YgNLTojpf00-k&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share&quot; referrerpolicy=&quot;strict-origin-when-cross-origin&quot; allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;span style=&quot;font-size:70%&quot;&gt;from. 유튜브 채널 [유준호]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;del&gt;&lt;strong&gt;&lt;em&gt;나랑 차 바꾸자!!!&lt;/em&gt;&lt;/strong&gt;&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;아.. 그리고 쓰는건&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; bolt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; keyi &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exchange&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;keyi&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;bolt&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keyi &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;/* critical section */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	bolt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;/* remainder */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	bolt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;parbegin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;C.S에 들어가려는 프로세스들은 각자의 &lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt;를 가집니다. 잠긴 방 문을 열기 위한 키라고 생각합시다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;do-while&lt;/code&gt;로 프로세스들은 &lt;code class=&quot;language-text&quot;&gt;exchange&lt;/code&gt;를 계----속 시도하며 &lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;keyi&lt;/code&gt;값을 교체합니다.&lt;/li&gt;
&lt;li&gt;단 하나의 프로세스만이 &lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;값이 0일 때 &lt;code class=&quot;language-text&quot;&gt;exchange&lt;/code&gt;에 성공하고, &lt;code class=&quot;language-text&quot;&gt;keyi&lt;/code&gt;가 1이 아닌 0이 되어 C.S에 진입합니다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;잠긴 방 문을 열기 위해 모든 프로세스가 자물쇠 키인 &lt;code class=&quot;language-text&quot;&gt;keyi&lt;/code&gt;를 가지고 있지만, 이 값이 1이면 키가 가짜 키입니다 ㅜㅜ&lt;br&gt;
여러 프로세스들이 이 가짜 키를 진짜 키로 바꾸기 위해 &lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;keyi&lt;/code&gt;를 바꿔먹지만,&lt;br&gt;
단 하나의 프로세스만이 &lt;code class=&quot;language-text&quot;&gt;bolt==0&lt;/code&gt;일 때 키를 바꾸는데 성공하여 C.S로 진입합니다.&lt;br&gt;
그럼 프로세스가 C.S를 빠져나오기 전까지는 모든 프로세스가 본인의 열쇠를 진짜 열쇠로 바꿀 수 없고,&lt;br&gt;
C.S를 빠져나온 프로세스가 진짜 열쇠를 두고 가면(&lt;code class=&quot;language-text&quot;&gt;bolt=0&lt;/code&gt;) 다시 또 선착순으로 진짜 열쇠를 누군가 얻게 됩니다.&lt;/p&gt;
&lt;h1 id=&quot;장점과-단점&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%A5%EC%A0%90%EA%B3%BC-%EB%8B%A8%EC%A0%90&quot; aria-label=&quot;장점과 단점 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;장점과 단점&lt;/h1&gt;
&lt;p&gt;Hardware Instruction을 통해 Mutual Exclusion을 구현하는 두 가지 방법을 알아보았습니다\&lt;/p&gt;
&lt;p&gt;Software Approach로 구현할 때와 비교해보면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;process가 많아도 간단히 적용할 수 있다&lt;/li&gt;
&lt;li&gt;C.S가 여러번 반복되어도 여전히 강력하다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;라는 장점이 존재합니다&lt;br&gt;
그러나..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;여전히 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;과 같이 가짜로 기다리기 때문에, &lt;em&gt;busy-waiting&lt;/em&gt;문제가 여전히 존재한다&lt;/li&gt;
&lt;li&gt;starvation을 막을 방법이 없다..
&lt;ul&gt;
&lt;li&gt;어떤 프로세스가 C.S를 빠져나와 다시 줄을 서고는, 대기중인 프로세스를 제끼고 또 C.S에 들어가버릴 수 있다는 뜻&lt;/li&gt;
&lt;li&gt;{&lt;code class=&quot;language-text&quot;&gt;bolt=0&lt;/code&gt; --&gt; non-CS구간 지나서 --&gt; 다시 C.S 직전의 hardware instruction 실행 --&gt; 바로 C.S로 재진입 성공}과 같은 과정을 timeout 되기 전에 반복해버릴 수 있습니다
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8850ac30bef064408dd481da7b34e476/8c557/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.9620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AB4aFh0ZFh8YFCEWERQPDYBZQZhsT31aRJ55ZLCNeYVrXY1xYtPEtti+qbOJcDwtJhMNCyYZFBkTERoUEQAjHhscGhk6KSCLXkh2UD2EZlR4XkyefWu6jXpINChtTD1POC1RQDeFbl2vk32IZFCGW0ZiQjMeGhghHRoAPS0mSDEncUk1y5B0q3NZk2VJxJmE056HbT4kXT0ty45yp3VeeU47hl1Hd1pFlmFHypB0nWpRSzElRzMpAIpbR7h3W6BrUcKJb7R7Yb1+Y+y2n7h0RpBNHo9cP8mKb7x9Yrl4TqpyU6tzWq1yVsWOc6t0WqhuVbh2XACGUj7AfWKveV65gmbCim2JVUB5Uj93VEFYOitFMCVdOyxgPi5aOylMOC+EUkCzeV/CjHCveF26fWKxblUAoWlPwIFlo2xRr3tduINlnl9FRCwcFRIWLicrOTA0IxsbHRUTGhgdLCIhkFY8rnNYu4dpoGxQtXldu31hALt/Ybl+YKRrTZBfQ4tfR65vSalsQzEhGSskJjUqKzctLiwlJk49O5JVLbBnOoxdQ41fRJhjRrJ4Wb2DZACtc1nAgmCmbEuAUDVIMCFBKh1ZOCVSOSkhHR8uJScuJicxJys0JiewZzigYjhcQC5vRzCWXz+6fVu7fl0AOS0thlxJkFs+dVVBTjouNikhUjwvPjApHBgaJx8hKiEkIhweKiAiXjkjUDUkZkg1YUc3g1lDm2ZNVT44AB4aHyQeIioeH0UtIItkTFhEOV5STltUU0dDR09KTTs4PFdUWE1JTF1ZWUI4NG9RQHFURTAlIiohIxwZHwApISUiHB8dGiAkGBRULRVePSuGZ1VOQDofHB8jHiAoIyUpJSc8MzR4XlB4WEhuSzk/KB4XFRkhHCElHiI+79upA6Py9QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;무한으로 즐겨요&quot;
        title=&quot;&quot;
        src=&quot;/static/8850ac30bef064408dd481da7b34e476/f058b/image-4.png&quot;
        srcset=&quot;/static/8850ac30bef064408dd481da7b34e476/c26ae/image-4.png 158w,
/static/8850ac30bef064408dd481da7b34e476/6bdcf/image-4.png 315w,
/static/8850ac30bef064408dd481da7b34e476/f058b/image-4.png 630w,
/static/8850ac30bef064408dd481da7b34e476/8c557/image-4.png 700w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span style=&quot;font-size:70%&quot;&gt;from. 명륜진사갈비&lt;/span&gt;&lt;br&gt;
무한으로 즐겨요~&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;와 같은 단점이 존재합니다.
또한 deadlock 발생 가능성이 존재하지만,&lt;br&gt;
이건 C.S를 다중으로 구현하여 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;(또는 &lt;code class=&quot;language-text&quot;&gt;do-while&lt;/code&gt;)문을 여러 개 쓰게 되면 발생하는 문제라서&lt;br&gt;
hardware instruction 방법 자체의 문제라기에는 좀 .. 애매하네요&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
이런 노력에도 불구하고 문제를 완전히 해결할 수는 없었네요..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 564px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/37a2bc9380036d77b48295e8724ae5f5/ba4d9/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 148.7341772151899%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAIAAACjcKk8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGyElEQVR42hWV+VMUZxrH+3/Z2o0xCUzfb9893dPTw1wMM8MMI4cyA0gQR0GOARSEFZQIkbDitYnGm3AI4VRuxM1CwIMIBpaNZrXc4FERXBCRYG9b9f3pqXqOeo7PA4U8ilvlBQHQIg5kkH/y+KWZ+ZP/vJOQGwYCSfAYxiAEjSEkYsARhMQwAsNwlKUJUaCgNI8pySmpCkuAj4savhp7r41uar0Lv2SXR3gLizEYwqAYjcIkGo2jMIEiBIbiGE3hMWYWyvSrmT6zJ1aKkaOPNVSc/qGl9OvqE4VJ5aU58dlpRgsJJECJACMNMAHDhF4CAeMozeBmmYJygs7sJKvPJcsqVVhfVNeRsfuIoygvpvun6ciFC8mfC7KN1TNjohNhYhGSIigSJQmOIxWJgfLSPRk+tbgkvvLC/n0n9p7+PvviQNmVm3W9y+vVXY1xAZaUVGA5xHpHPkt5GxXbBhhB4GhRYBSZhUp2x4c85rx8T3G5N7Ng+9B4y627XX2P58/NPwkf3sWrBKumZXqycu02Nf58bLjQZOcEnpJFltcbVhHxBeyyzcIc/SIxOcUaqS9t/2X6zINH3j1BV8BImhivX61o2lt8ZlvQI6WkmawJe3jO77RwHM9A+7LcAacSSFTLyj1ur3F7ZWnL7+tXF1cyj1YTZgE3Mjl1lcU3CsqHd0bOZmQ4eIbqZPi8uBhSFHkoGLDvTHHGucXcqn0NoyOdS2ttr3S9u/zb/yoHOksv1kWuFBZ1p+ddSI00pufuiTMRVaLkUUSSZmko3mMKxPGZJXv7V9cG1v/oXn7b/vJN87PVlpcrPa9nhldnKvu++bKtvLomr+74gaBNtfCkonxomCDSUKLHmL07pe3x41uaNrj2R/vL5Y7fV9sWl1ufLbU8X2pdfNX6bLW26Xw4J8jZEnnJ5PYYLWZWkXlnjAiFQ45TvZ1Tmjb05t3Nd9q1xZd9b7XTg6OVl64c7+2tOHmq+vLVmr4RVLJtpX0GPsCYfYpqdlo5r12C9h8pGX6zMbq2MbSyPrKh1Q+Pdbx4/dWNweK6+tK/f13T1FrwZb112+cfU95P6PitZPIWMrQVBAWTZXu8ArX//PNPmja5uTmx+X5c0+q/Odc+97Bvaa390X+bF37tfvp8V/UZ1pImu7JYazobkyPaC0T7fsFRFNqRBE3Pzf14//7U7MzU7OzkzP2xsdGJO7dvz89Pzf9L1/TDhZvj4903Brqv9w8ODw+N3Ozu7e+5PtDdO9R7vQ/iPlwcDFiE43FJxI0mxqQwgMVxmkAozKGSQb/KsARBoSYJWBVW5kkSj0aQTxE0CiKAgWRQwONWE9APW1EIJQaIKoNyeBQZneA15qbFKjJHUhiKGSgAyzywSgxLIjD8GURSMAZgAsAOK+t3y8WHi74dHmy+O91wvX9HpMBmBeF0h8+tUrTOABgAROYwC0fYjBSGGfTMME0aHCIlKsCbbK291tK68OvdTW3m/fsZTattbba4BEGiSIDq0v09NjYrNdYkUDhugGA8OsVlDDkVQRULCnONJhrzWcKlZf3/eXH+3sK3EzM5hTsFCejowXADjsEOBdRUBNNTXTpX9LKRXck21cia4+yTy6+rS4rjODzFKKnHJj452MOlVuwLp27fYRMVNjVkywu7U/0Wn4UPJdrt+oYpPGHkAEpEx3iddzStqfm7dHdQONi4pXb6T/WPxC9upFYes1qA1S0FQ7ayIu+5E9kVeYHsJEd2yA05ZIakUIyMMlqN3U8XTx36K5/X9ZceTe1ZsTT/Fn15yVLVSEuUTj+cQBwO6mB+Qn6Wu/5IZoJLhWgKpWiUEQAnRh0f6GlrvUbv7ogd074fHxia6Dw4eF8+fNHjkWmWJEjUnygV5QdsVq7ycJrJyEC6STEzgkzr4zX7Pef/cSdSVtM02PZgoePeXFf5sQN8grOoKEEwMggWlRqMsaiCM1bISHN9ACBB4aKJ4o0MJdIEswU3V6nxk/Gh/tKzDyO1jYTIRFOk06eygs5NRJIAgsIMA/tiZZEhIYIheIk0YFGkTlOLH6F7osGLT6XnH7m0P5tvU5LqcnAYIBGKwCnMABtoGndYBbNICyyAEBKmTVK4/qg7t+sj8ASVl1DpFSy/gb2bhkQN9j3dtuese7tfNLEETSEo5nKKR8pCVpOgPw3IEvA1PliY1bSuJxsJVStRiRu455Ec1ygGJiVfO+oYCZa0HWr4W1IwWWc9zYCdqfZwutdkZGmAQc0zD+Y0bWpt497G5o/r7y7NrR9oerpt/xCdPK9m3qrtnrw6fuvyD1Nts//2BoOCgCX5VR3aQA8EiP8DxpQEumVUkHEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;역시 형이야&quot;
        title=&quot;&quot;
        src=&quot;/static/37a2bc9380036d77b48295e8724ae5f5/ba4d9/image-3.png&quot;
        srcset=&quot;/static/37a2bc9380036d77b48295e8724ae5f5/c26ae/image-3.png 158w,
/static/37a2bc9380036d77b48295e8724ae5f5/6bdcf/image-3.png 315w,
/static/37a2bc9380036d77b48295e8724ae5f5/ba4d9/image-3.png 564w&quot;
        sizes=&quot;(max-width: 564px) 100vw, 564px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;결국 우리의 친구 OS가 도와줘야겠습니다..&lt;br&gt;
OS는 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;로 가짜로 기다린다거나 그러지 않습니다.&lt;br&gt;
&lt;em&gt;그냥 블락시켜버리면 그만이야~&lt;/em&gt; 거든요&lt;br&gt;
다음 포스팅에서는 OS가 제공하는 툴로 Mutual Exclusion을 구현하는 방법에 대해 알아보겠습니더&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🤼 코드 몇 줄로 Critical Section에 혼자 진입하기 : Mutual Exclusion Software Approach]]></title><description><![CDATA[…]]></description><link>https://sungpaks.github.io/mutual-exclusion-software-approach/</link><guid isPermaLink="false">https://sungpaks.github.io/mutual-exclusion-software-approach/</guid><pubDate>Sat, 13 Apr 2024 13:39:15 GMT</pubDate><content:encoded>&lt;p&gt;옛날에는 프로그램이 오도기합짜세해병이라서&lt;br&gt;
악! 한번 시작한 프로그램은 영원한 프로그램! 이었으므로 이게 끝나기 전에는 다른 무언가를 할 수 없었습니다&lt;/p&gt;
&lt;p&gt;이후로 어쩌구 저쩌구.. 역사를 거쳐서&lt;br&gt;
프로그램을 중단시켰다가 다시 실행시키는 방법이 나왔습니다&lt;br&gt;
덕분에 프로그램을 &lt;strong&gt;번갈아&lt;/strong&gt; 실행할 수 있게 된건데&lt;br&gt;
말이 번갈아서 실행하는거지 매우 빠르게 갈아끼우면 사람으로서는 동시에 실행된다고 느끼게 됩니다&lt;br&gt;
마치 이미지를 주르륵 갈아끼우면 동영상이 되듯이요&lt;br&gt;
이렇듯 여러 개의 프로그램들을 프로세스라는 단위로 나눈 다음, 줄 세워서 실행하게 되었습니다..&lt;/p&gt;
&lt;p&gt;게다가 이것으로도 모자라서, CPU를 여러 개 둠으로써 프로세스를 &lt;strong&gt;진짜 동시에&lt;/strong&gt;실행할 수 있게 되었습니다&lt;br&gt;
그리고 프로세스 안에 일꾼(=스레드)을 여럿 두기도 하게 되었고..&lt;br&gt;
아무튼 거두절미하고, 이런 이야기는 나중에 또 쓰기로 하고&lt;/p&gt;
&lt;p&gt;그렇게 일을 동시에들 하니까 또 문제가 생깁니다&lt;/p&gt;
&lt;h1 id=&quot;동시성-문제&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8F%99%EC%8B%9C%EC%84%B1-%EB%AC%B8%EC%A0%9C&quot; aria-label=&quot;동시성 문제 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;동시성 문제&lt;/h1&gt;
&lt;p&gt;무슨 문제가 발생하나 봅시다&lt;br&gt;
잔고 0원인 제 통장에 A가 만원, B가 5만원을 입금하려고 하는데&lt;br&gt;
제 잔고를 확인 --&gt; 잔고 + 만원.&lt;br&gt;
이렇게 하는 과정을 동시에 한다고 치면..&lt;/p&gt;
&lt;p&gt;A | 잔고 확인 : 잔고 = 0&lt;div style=&quot;text-align: right&quot;&gt;잔고 확인 : 잔고 = 0 | B&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;A | 잔고 = 잔고(=0) + 10,000 ==&gt; 잔고 = 10,000&lt;div style=&quot;text-align: right&quot;&gt;잔고 = 잔고(=0) + 50,000 ==&gt; 잔고 = 50,000 | B&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;결과적으로 잔고가 50,000이 되었습니다?? &lt;del&gt;뭐야 돌려줘요&lt;/del&gt;&lt;br&gt;
게다가 이건 매우 운이 좋은 케이스인데,&lt;br&gt;
위와 반대로 B의 순서가 A보다 앞섰다면 만원과 오만원을 넣었는데 잔고가 만원이 되어버릴 수도 있습니다..&lt;/p&gt;
&lt;p&gt;이렇게 어떤 공유 데이터를 둘 이상의 프로세스가 읽고 쓰는 작업을 하는데,&lt;br&gt;
그 순서에 따라 결과가 달라지는 경우를 &lt;strong&gt;Race Condition&lt;/strong&gt;이라고 하고, &lt;br&gt;
이게 발생하는 부분을 &lt;strong&gt;Critical Section&lt;/strong&gt;(이하 C.S)이라고 부릅니다.&lt;/p&gt;
&lt;p&gt;흠.. 어떻게 해결할까요?&lt;br&gt;
A와 B가 (잔고 읽고, 잔고=잔고+금액)을 한 번에 한 명씩만 하면 되겠죠?&lt;br&gt;
이렇게 한 번에 한 놈만 Critical Section에 들어오라고 하는 것을 &lt;strong&gt;&lt;em&gt;Mutual Exclusion&lt;/em&gt;&lt;/strong&gt;(상호 배제)이라고 합니다.&lt;/p&gt;
&lt;p&gt;이 상호 배제는&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;소프트웨어로 구현하거나,&lt;/li&gt;
&lt;li&gt;따로 하드웨어 수준의 instruction으로 구현해버리거나,&lt;/li&gt;
&lt;li&gt;OS의 동기화 툴을 이용하거나,&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 크게 세 가지 방법이 있습니다&lt;/p&gt;
&lt;p&gt;지금 알아볼 것은 소프트웨어 알고리즘을 잘 작성해서 적당히 Mutual Exclusion을 구현하는 방법인데요&lt;br&gt;
단순한 발상부터 시작해서 총 6개 방법을 알아봅니다&lt;/p&gt;
&lt;h1 id=&quot;1-공유-변수-turn-사용&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-turn-%EC%82%AC%EC%9A%A9&quot; aria-label=&quot;1 공유 변수 turn 사용 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. 공유 변수 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt; 사용&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6e017a5ef7621475beefa7fc527c3d18/d0e73/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.645569620253163%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAzklEQVR42m2R1wqFQAxE9/9/TxAbvliwYO91ZALr3Qs+DInJSTaJKo5jWJYF3/dh2zb4fV0X9n0XHcchlrGyLIVxXReO4yDLspclR6lt22BKF2ud5/nCzGluXddPVvV9j7ZtQTsMg/hd16FpGtR1jXmepRnhcRwlRo4+OYoxapomqCRJ4HkegiCQlZjI8xxpmopYyIacoCgKWTcMQ/H5OFn2oPiQYiKKIik0xzfX0KtVVSU3pmWcYvy+79/KHHNZlr8fYErfjzDXJ6tv/aUHNnHNkpr/CFQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;#1&quot;
        title=&quot;&quot;
        src=&quot;/static/6e017a5ef7621475beefa7fc527c3d18/f058b/image-1.png&quot;
        srcset=&quot;/static/6e017a5ef7621475beefa7fc527c3d18/c26ae/image-1.png 158w,
/static/6e017a5ef7621475beefa7fc527c3d18/6bdcf/image-1.png 315w,
/static/6e017a5ef7621475beefa7fc527c3d18/f058b/image-1.png 630w,
/static/6e017a5ef7621475beefa7fc527c3d18/d0e73/image-1.png 671w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;마치 카드게임을 하듯이 턴을 정하는 방법입니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;공유 변수인 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;을 두고, &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;값이 0이면 P0가, 1이면 P1가 C.S로 진입합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;이 상대 차례이면 기다립니다.&lt;/li&gt;
&lt;li&gt;C.S를 빠져나오면, &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;을 넘깁니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 487px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/53828edfd9b2dd5782d7538ee4a74b4f/7b439/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 148.1012658227848%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAIAAACjcKk8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAHLklEQVR42h2U+VPTBwLFv//A/tAfdme3daYd211wLZRDrq4cUsCDw0pVKrdQQU4puYEEIZADQkIiFEIEkZsgLHKJGECCQELInQB+c19AEnIAMZHKlmV35s376X1m3sybecCN3NroB/CkIvSVX+ChGaWRObCI+7C4ktrIfMy/sqAxD9FXi2oSywg3y3BXC6qvl9TdhjVFPXwcV4pNhVKBiNLqn5nMa20dt7u6s3oHMvtf3O3sS6E/S3k2dG94LJ35InV4NHtkPHN4LG1oNKV3JKVvuJG9VjwwFQvHAtFl6AhKy7ns4gslCO9CyDdl6POFsL/nFl+A1fqQ6b7EliAKI5DccYnK+LF7uHhkoog5/ZyjKmka8PsFAgQ/QIRR2r6rJ/viKAF4Wjip7RqVfrmx1auGdB5DulhLiSbTw3A077JKv1JEPJaU3NjiW0EJxFC+K0YDN2CEHObYzdZnvnW0gPon2YzBquGJW609/sT2cFpPGLkrltbth8R7FyK87uUFlFb6FiG9HmGuPOmKqCIBP1XTMC8mF1cE74SyhXUxmy95yxcvizYn3y4jsfjqJtoke+WdWM7iixf5osUzF0p6x+f8K5pCKhuACBghkdq5IpK5PAcnn1yejwee46PTPz5g0dDPvvT60udSQkqqWgeenLjcHrvrg/3k1CWTyy9A8EEVBCC4FBtOpLe8ZG2b9G6303FoczrNKNijqPCQS2Hf/9XbH/jsXHpegef40OrYtdr3jjx2vkD0z3JCCIoIBJViIxva++dXjNbdj27HyR/uBdZUgK/PDL5c1Y9D5aV98Y+Ln3v5cPkrnmOn1bHjPraLxGJfKDEMSQCuIhrjKYxx9rrFaf3P7wenp5/6ezqKMu/yGPXgUNP6s3pEasJfvvpm+s306anL6dz59MkulYi+LcMHwfHA5bK6OFLHAk+ssZgdLvuh50CnB6d7aO2QHDYZMo55yHmCzEiKlUu4h277ntXw8Xf7plQcACH4w4lAFBR3paGdI94SqnV8hVasM4I6rWy0Y74BJumqMzBJfAZ6BpWhlvC0DrvCoDNajBwuNwCCD0bggSgYIaahY1kol2r13C3VBqiW6QwaHotZmTeNKdb310jov3JHGJt6g9Jk0hrVln3d4hLbF0IIqiABUeV118mdM2uC1S3wrWR7VQ6uvtduKd93V+VPI3KE5IeT6HSZSiXWmdZk28ti+QYITs4t+ZTjApCNQHo1JZcxOLchF+qMIq1RYjCdNX9vcQjYU7+VJHflxXH6mnvG33BBjdy4u7KpXFfrxxd4AXBSZE0rkIEh5TCGZnnbIr1ZpNsVanflO/tCg0UmXmdA0zmjnUKJ7OuwWzceoP69KtrQ7q5qdobmNkKQzSGVFCAFVX/vt4F5wXuJcQ+02NQ258a2amRihkCilcIevweV2aWYcwEJf/O9+nnQLRilT2U7WBZsBsIbo1A4IDAfHt/cLQC1u64jiUaLo3U1NLcNDQ4lZsOzy+sbqE+/Crr5dUjCF/7X/vxt3J+8YkOScugDL6NrWn44g33y4Hda+1ekSpPLRX42nPsI84T+tG9kMjQF/oq1klte5x+ZHBge7x1+92Lk3aC4e+cvxQXGpF2vbw9H4gHfPGQsqfOstlBvZq0LN6Syt+v8wVl2Rcvg4Owy9TmzrXe4rq2fyBjCtfcRO/qbu5mQx9RINO1yJQnwL6z4oenpEg8UKEy87bOpdbwtHUeuWZWpV6VqrlzLkak5m1ru/8WRa4XqnYl5fjCSEoQiAUH50ChCc3JF031sS8Zj6p0qUjQUGw2pz8Q2Z2FpV6H1sdC6RCQhEUVMQuBjSqpiiioic2Gh6MYQGB64dv/slUZneatza8uvOe/G3y30zs/0L8y+5rBnOezhxbnehVfMpdejbNbo0pte1mTv3EQ/a/r5S+aNQiQQkV0IGlXu09Ndt1vrOlAeOs5cc3igPjrYO/7oODkxedwq14He80Hv/qBxHaqOnDqPW2pUJ5UggNgCmEgpBe12lmBjXiSYE/Bm1znzIv7EO/bUyvL8Bm+KvTSxvLSuUmzum6WWHbllb8u2z1FI4wsgQEJplUghAe22V5y1sYX56dWVsQXWax63d+LlklQi3zFJtBqxXgdazQrbvsy8u201gw47VyFNKoYCP0GxQqVc6XRy1apVlUJkNPB12nWdZk0J8k16jetIe3SkPHBajo8NR0fb+1aF3fa/sGIz/gzOgNVIpDyj06baM4BmvXZ/T2vdU1t3wT3D9o4O3NEr9owGh+XQ7bI4bRqzSW8z6+0WoVyYVo4GIvKQBfXV5bSmTBIR+bS9prsTyaDDO+nlHe25VGpmE+keFptVVwtpfVLWSssnk3MbiZk4bEVrC7qRDuQi2mJzKkJvFXrFZcbkYm4W4a7lYb9PRYRnVIamIv2Sf72chkoqJkRmoYLvlAf+WOSXkB9yG5oOp9ZRx/4LEpZefOi6uxIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;고이즈미 신지로&quot;
        title=&quot;&quot;
        src=&quot;/static/53828edfd9b2dd5782d7538ee4a74b4f/7b439/image-3.png&quot;
        srcset=&quot;/static/53828edfd9b2dd5782d7538ee4a74b4f/c26ae/image-3.png 158w,
/static/53828edfd9b2dd5782d7538ee4a74b4f/6bdcf/image-3.png 315w,
/static/53828edfd9b2dd5782d7538ee4a74b4f/7b439/image-3.png 487w&quot;
        sizes=&quot;(max-width: 487px) 100vw, 487px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 경우 &lt;em&gt;Mutual Exclusion&lt;/em&gt;은 지켜집니다만..&lt;br&gt;
C.S를 나와서 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;을 상대편으로 넘겨주기 전에 CPU 실행권을 뺏겨버리곤 영영 돌아오지 못한다면?&lt;br&gt;
다른 프로세스는 C.S에 진입한다는 현실에 도달하지 못합니다..&lt;/p&gt;
&lt;p&gt;게다가 이게 진짜 공평한 턴제라서, C.S로의 진입은 무조건 같은 횟수만큼 &lt;em&gt;번갈아서&lt;/em&gt; 진입할 수 있습니다.&lt;br&gt;
문제는 C.S로의 진입을 P0는 10번만 하고 싶을 수도 있고, 반면 P1는 100번 들어가고 싶을 수도 있습니다..&lt;br&gt;
이 &lt;strong&gt;무조건 번갈아서 들어갈 수 있다&lt;/strong&gt;라는 것은 매우 큰 단점이 되기 때문에, 다음 방법이 등장합니다&lt;/p&gt;
&lt;h1 id=&quot;2-공유-변수-flag2-사용-1--나-들어왔어&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-flag2-%EC%82%AC%EC%9A%A9-1--%EB%82%98-%EB%93%A4%EC%96%B4%EC%99%94%EC%96%B4&quot; aria-label=&quot;2 공유 변수 flag2 사용 1  나 들어왔어 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. 공유 변수 &lt;code class=&quot;language-text&quot;&gt;flag[2]&lt;/code&gt; 사용 (1) : 나 들어왔어&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/da08f54f199406306508a0e1d8944a50/af192/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 34.177215189873415%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA7ElEQVR42n2R14qFQBBE5/+/zowKYsIE5pz7Ug0j3t1lH4pph9NtV42wLIts22Y5jkP7vj86juPReZ6UJAkZhsGcruuU5znd903btj2cmOeZxnFkoUbjdV0s1O+haHzz+Jas5EXf9zQMA2uaJuq6jpqmobZtaV3Xr4FgwL97wNd1zeeyLCQURSHXddlCWZZsI45jiqKIG/BX2McGvu8zh3hwVlXFfBiGLAwVyCQIAvI8j4qiYEt/WUadZRmZpsnNGI4FJC/Zrw2xGYD/HkVVVeY1TaM0TX/xAv6RFXLB5c+HeA+U+SIr8PL+zX0AD0kVbouYStoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;#2&quot;
        title=&quot;&quot;
        src=&quot;/static/da08f54f199406306508a0e1d8944a50/f058b/image-7.png&quot;
        srcset=&quot;/static/da08f54f199406306508a0e1d8944a50/c26ae/image-7.png 158w,
/static/da08f54f199406306508a0e1d8944a50/6bdcf/image-7.png 315w,
/static/da08f54f199406306508a0e1d8944a50/f058b/image-7.png 630w,
/static/da08f54f199406306508a0e1d8944a50/af192/image-7.png 645w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;턴제가 아닌, 공유 변수 &lt;code class=&quot;language-text&quot;&gt;flag[]&lt;/code&gt;를 사용하여 &lt;em&gt;C.S에 진입헀는지 여부&lt;/em&gt;를 표현합니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;flag[1] == true&lt;/code&gt;이면 P1이 C.S에 진입했다는 의미이므로 P0는 기다림.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;flag[1] == false&lt;/code&gt;라서 P0가 C.S에 들어가도 괜찮은 경우, &lt;code class=&quot;language-text&quot;&gt;flag[0] = true&lt;/code&gt;로 &quot;나 C.S 들어간다&quot;를 표현&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 474px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/48f04c94b8c5c8352f096a2ad107300c/5595f/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9ADA9Rk1TT11fUUpFSURJUUBJT0NKUTE7RC8+SDlLVSMuOQ0VHA0WHRUeJicyOD1MUUlbX1lrcFRnbEVaXgAxPktlaFuAfF9yYlxxbm1ra2l0cG89RU0xQks6TVQWIysTGB8jJi0eIioSGyYhLjY8VVZfgn5bgn1JcWsAMz9IMkBKMD1KLjxFKzdCKzhEKDQ+JjI6M0BIIis1JSYtVktMZFdTaFlXSkVJFRwnOEZFb5J5a5NyYoJ0ADxGUTpETzI9SSgzPigyPh8pMhojKxkhKB8pMxoeJ0tHR29iXYRxaXhlYIJxcEhDTEZfUXqld3aabX6cjwDN2NrH1Na7xsy2xMxBTlcOFh4VGyMSGiEOFR0aHiZCQUVbXFpybGhbW1picnJYWmJIYVdfhGdsiXxljYUA1fz8uvf/rOT8h63BLz9GIC0yIzE3GyctFh8lMDE2eHNugIF3Z2higX94e4aBT1JcOVBYf5aVpcTFmrm4AH+eqK/V63ubsg0ZISc1OTBAQzBERys9QR8qMVNMS5B8dIl1cJR/d5aCfp+Mh391fSEyQl5xfY+yxKng9gBBTVOhvM2HobJha3Jzc3V9f4BUXGBhaW1manA0MzmHcGuOdHCSdnSsj4enkIl1fIkpPU8tPUtfgZlhjq4ALDo+N0VRNEJNMj1AOT5CLDE5eXhmb3Fea21fZ2RTin9vfWlkgm50m4uHlImGb3yFW2x6GCk2f5Whk56qABgiJxYfJhgjKRkmKxIiKBYeJINVK3hPLXlWLo9sQoJiO3ZgTXp3enp3d3x7fX9+fm11fCE1RFZqcvP39wAcJi0iMTgpOT8oNj0jMjokMDclJi8kJS8hJzAnJy5tWlJsWlNrX1l4b3BOYnYrO0RVcn9DW2sdMD2CqLS0Y+hoAYMpbgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기다려 무도&quot;
        title=&quot;&quot;
        src=&quot;/static/48f04c94b8c5c8352f096a2ad107300c/5595f/image-6.png&quot;
        srcset=&quot;/static/48f04c94b8c5c8352f096a2ad107300c/c26ae/image-6.png 158w,
/static/48f04c94b8c5c8352f096a2ad107300c/6bdcf/image-6.png 315w,
/static/48f04c94b8c5c8352f096a2ad107300c/5595f/image-6.png 474w&quot;
        sizes=&quot;(max-width: 474px) 100vw, 474px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이러면 상대편이 C.S에 관심이 없다면(&lt;code class=&quot;language-text&quot;&gt;flag == false&lt;/code&gt;), 내가 원할 때마다 계속 C.S에 진입할 수 있습니다.&lt;br&gt;
이전처럼 꼭 진입의 균형을 수호하지 않아도 됩니다 !&lt;/p&gt;
&lt;p&gt;그런데 &lt;em&gt;Mutual Exclusion&lt;/em&gt;을 보장하지 못합니다??&lt;br&gt;
양 옆의 코드 한 줄 한 줄마다 계속 차례가 넘어간다고 생각해봅시다..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P0가 &lt;code class=&quot;language-text&quot;&gt;flag[1] == false&lt;/code&gt;임을 확인하고 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;을 탈출&lt;/li&gt;
&lt;li&gt;P1가 &lt;code class=&quot;language-text&quot;&gt;flag[0] == false&lt;/code&gt;임을 확인하고 `while을 탈출&lt;/li&gt;
&lt;li&gt;P0는 &lt;code class=&quot;language-text&quot;&gt;flag[0] = true&lt;/code&gt;로 올리고, C.S 진입&lt;/li&gt;
&lt;li&gt;P1도 &lt;code class=&quot;language-text&quot;&gt;flag[1] = true&lt;/code&gt;로 올리고, C.S 진입&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;C.S에 동시에 진입할 수 있게 되어버립니다..&lt;br&gt;
근데 여기서 &lt;code class=&quot;language-text&quot;&gt;flag[] = true&lt;/code&gt;로 켜는 명령줄 위치를 바꿔주면 떔빵이 가능합니다.&lt;br&gt;
그게 바로&lt;/p&gt;
&lt;h1 id=&quot;3-공유-변수-flag2-사용-2--나-들어갈거야&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-flag2-%EC%82%AC%EC%9A%A9-2--%EB%82%98-%EB%93%A4%EC%96%B4%EA%B0%88%EA%B1%B0%EC%95%BC&quot; aria-label=&quot;3 공유 변수 flag2 사용 2  나 들어갈거야 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. 공유 변수 &lt;code class=&quot;language-text&quot;&gt;flag[2]&lt;/code&gt; 사용 (2) : 나 들어갈거야&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/32248180c0e0250d082a8fea7b63240d/a1253/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 35.44303797468354%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA7ElEQVR42m2R2QqFMAxE/f9/Ex8Udx9E3BD3FbdcJpBS4T6E0vR0mGSMNE3J8zwKw5Bc16WiKOh5HrquS9V5ntybpokZ3/cpCALKsozu+/6wxnEctK6rqm3blIgOSg/vy7J82I/gOI6E2vedITjRS0A4gUDf94pF731fxeJuJElClmXxyBhjGAbquo6qquLP4hQfcDdNk+I4JsdxqG1bNtM0DRecG/iIvQCAYBRFlOc57xLCuuA8z/wO1rZt3iUyqOuayrJk1wYWC0DCkVH0kSUUuBEWYnClszwy9oKd6EHg/BcKAtRDk4SFR/0AAuIWH3448fIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;#3&quot;
        title=&quot;&quot;
        src=&quot;/static/32248180c0e0250d082a8fea7b63240d/f058b/image-8.png&quot;
        srcset=&quot;/static/32248180c0e0250d082a8fea7b63240d/c26ae/image-8.png 158w,
/static/32248180c0e0250d082a8fea7b63240d/6bdcf/image-8.png 315w,
/static/32248180c0e0250d082a8fea7b63240d/f058b/image-8.png 630w,
/static/32248180c0e0250d082a8fea7b63240d/a1253/image-8.png 657w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;직전에 먼저 &lt;code class=&quot;language-text&quot;&gt;flag&lt;/code&gt;값을 &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;로 올리도록 순서를 살짝 바꾸어서&lt;br&gt;
이제 &lt;code class=&quot;language-text&quot;&gt;flag[1]&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;flag[0]&lt;/code&gt;을 마치 &lt;em&gt;C.S에 들어가기 위한 의사 표현&lt;/em&gt;으로 사용하게 됩니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;flag[0] = true&lt;/code&gt;로 놓고 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;로 기다리다가,&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;flag[1] == false&lt;/code&gt;이면 C.S로 진입&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이러면 일단 P0가 &lt;code class=&quot;language-text&quot;&gt;flag[0] = true&lt;/code&gt;를 켜고 나면, P1은 P0가 C.S를 빠져나오기 전까지 그 어디서도 &lt;code class=&quot;language-text&quot;&gt;flag[0] == false&lt;/code&gt;임을 확인할 수 없으며,&lt;br&gt;
P1이 P0의 &lt;code class=&quot;language-text&quot;&gt;flag[0] = true&lt;/code&gt;직전에 CPU 사용권을 잡아채서 한 줄이라도 실행했다면, P0가 C.S에 진입하는 것이 성립하지 않습니다&lt;/p&gt;
&lt;p&gt;이로써 &lt;em&gt;Mutual Exclusion&lt;/em&gt;을 보장할 수 있게 되었는데, 새로운 문제가 발생합니다 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P0가 &lt;code class=&quot;language-text&quot;&gt;flag[0]=true&lt;/code&gt;, CPU 사용권 뺏김&lt;/li&gt;
&lt;li&gt;P1가 &lt;code class=&quot;language-text&quot;&gt;flag[1]=true&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;flag[0]==true&lt;/code&gt;인 것을 보고 기다림&lt;/li&gt;
&lt;li&gt;P0는 &lt;code class=&quot;language-text&quot;&gt;flag[1]==true&lt;/code&gt;인 것을 보고 기다림&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 서로가 서로의 &lt;code class=&quot;language-text&quot;&gt;flag==true&lt;/code&gt;를 확인하고 무작정 기다립니다.&lt;br&gt;
한 치의 양보 없이 그저 상대편이 &lt;code class=&quot;language-text&quot;&gt;flag=false&lt;/code&gt; 해주기를 기다릴 뿐입니다..&lt;br&gt;
이렇게 서로 버티는 상황을 &lt;strong&gt;Deadlock&lt;/strong&gt;이라고 합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 189px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5d2d7732f419e3332c13e1e3aa3beded/0f8c7/image-9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 141.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAIAAADuuAg3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEWklEQVR42mWUySv+XxTHr7HIvLBRprDAQnak/AEWRGxspKysKIqSLEhKhiLJPEU8fBGZ5zLP8+wxPY95nh++v9fnc3/ZfO/i0/3ce97nvM/7nHPF2tpaf3//0dHR8fFxcHCwEMLGxsbOzo5Namoq53t7e3q9fnNzc3Z2dnx8fHFxkf3Jycno6KjY3d3t6em5urpKSUkBYGxszNfIyIivtbU1AK1W+1ddb29vGN/d3b28vJydnVVUVIj39/elpSV8JyUlAfDy8goPD4+IiHB2dra0tJyYmGhtbQX/+fmp1+mASUdfX19VVVWC3c3NDUZjY2NZWVn19fWrq6u4y83NraysnJ6e5gTmBwcHW1tbuLi/v396egKl0CYmd+3t7URgw+nk5CR4PI6MjAAeHh4mVU7AX15eNjQ0dHZ2YjY0NCTIYWdnByQ0Ojo6OCUCyPn5eeI/PDygDRmiK66vr6+bm5vxhRlKCUyJgOOVlZXQ0NDb21syhFt+fj5hSVKn0/GLoijf29tbW1sLF7wTX2CNP9wjZklJCRlqNJqmpqaysjJyA0PwG3VRIWAzMzPLy8vw7+vrE9/f34+Pj+fn5+DJn+RbWlr4Tk1NcYjR8/MzyP39fepkMBik2jBCY8EFGNwThAYgPdiSC1lwAueLiwtcHB4ekg4BKNLp6SmWqCDgRnDpb3t7m8TY6NXF5ufnh0YgJmYEwDVpr6+v4w5jIa0pIC4wZWNQF78fHx9cESQ2NpaAyEaClAZGr6+vsBM5OTkywt9/lmQUFRVFn8IZPOqiK+TZQEf4+voi8ry6cMYRvjFFWIpRVFRkZmZG21I5mQ4xUQEVlcj+/v5CXYGBgWSysbHBBRPm6uoq58TBwYFNSEgIYNIhL8iTP8FEQECAqakp1+bm5l1dXZJ/TEyMRFpZWXl4eLB3c3NDedhSJFwQAC2UgL+TSHuALCgoYG9iYsLXwsLC3t7e0dGRMUAClJeVw0wplQSz4uPjOaJ7bG1tf0eahMEXFxdLzvILHoKKYEFBQZKVHPrIyEh+ZSIS7+TkxCSgMIQpnpwTMmdOhJ+fHxZMMmWkdRAsLCxMSiCZe3p6NquLnqXtGhsb6Wr407DKHTz31Uk2fCvELi4vXFxcftP29vYuLCwsLS1NTEzMy8uLjo5OT0/HTKEdFxeXnJws+4FMDOqGuUtISABQU1Pj7u6enZ0NSQq7sLAwMDCAeLKXBZ1AV9CkTPXg4GB3dzdGVAJVAMzNzfG2ZWZm8hLK1woMw/8/mGt+EIPr6upqXjJal3rS/cTRqgsteGqwRhECcEWTMNiCl0CCj7Taurq6yalJvDLJHNJn3H6pC7bl5eWMFNMOL9JUOowgdCzR/qBmZ0dbWyv1gDPCwuK3vFSIp4/npa2tDaeAlVKxgxX50JYf6jzS+vcP92lpaUjFDP2OF+2JLjCnSARQwFQMwXgolBn+UYzoAeL4+PhQp4yMDBlc4glDIuBJU6PR/Acvgr3WYy9D9QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;서로 죽여라&quot;
        title=&quot;&quot;
        src=&quot;/static/5d2d7732f419e3332c13e1e3aa3beded/0f8c7/image-9.png&quot;
        srcset=&quot;/static/5d2d7732f419e3332c13e1e3aa3beded/c26ae/image-9.png 158w,
/static/5d2d7732f419e3332c13e1e3aa3beded/0f8c7/image-9.png 189w&quot;
        sizes=&quot;(max-width: 189px) 100vw, 189px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그럼 서로 좀 양보하고 그러면 어떨까요?&lt;/p&gt;
&lt;h1 id=&quot;4-공유-변수-flag2-사용-3--양보&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-flag2-%EC%82%AC%EC%9A%A9-3--%EC%96%91%EB%B3%B4&quot; aria-label=&quot;4 공유 변수 flag2 사용 3  양보 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4. 공유 변수 `flag[2] 사용 (3) : 양보&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 573px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/64bbe71218cf43ea31f20e3eff1287bb/3c024/image-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABTklEQVR42o2T6Y6CQBCE5/3fDRUUAUVF7giKAp4cvalOBsnugv6oQMJUdffXg1BVlZbLJZmmSYvFgmzbpqZp6PV6UVVVf1TXNW23W4LPMAxarVak63p3XhyPR8qyjHU6nehyubDpvzCpoigIvr63C2zblvpCd2NhUkMeoWkaua5LURSR7/sfg9A9sADT4XBg7/V67aYSk8mE+YHJfD6n2+02ODLGQjfr9ZpmsxkzVBSF9vv9O3C32xFCARpVPc8bHRtGcEYDm82mW8rj8eBvAm2jGsYA5Ofz+XHk+/3O5zFREARUluV7KeCGDtE2eKRp+vHaIEBeMQTC142c5zlDRWfgJ9+HOkSh8/nM5zAmhAJ44hszBFyAtiyLWaLI2F0Mw5DZScEbxzGHiul0So7jsLBtCXcoDDjkn4JgLDJJkm6RAgHfXOS+gOY3BnmxfwBCfJPlkVk/5AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;#4&quot;
        title=&quot;&quot;
        src=&quot;/static/64bbe71218cf43ea31f20e3eff1287bb/3c024/image-10.png&quot;
        srcset=&quot;/static/64bbe71218cf43ea31f20e3eff1287bb/c26ae/image-10.png 158w,
/static/64bbe71218cf43ea31f20e3eff1287bb/6bdcf/image-10.png 315w,
/static/64bbe71218cf43ea31f20e3eff1287bb/3c024/image-10.png 573w&quot;
        sizes=&quot;(max-width: 573px) 100vw, 573px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;말 그대로 아까 코드에서 양보룰을 추가했습니다.
이제 아래와 같은 동작을 반복합니다 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P0가 C.S에 진입하려는데 &lt;code class=&quot;language-text&quot;&gt;flag[1] == true&lt;/code&gt;인 경우, &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;로 진입하되&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;내에서 &lt;code class=&quot;language-text&quot;&gt;flag[0]=false&lt;/code&gt;로 양보하고 잠깐 기다림(delay).&lt;/li&gt;
&lt;li&gt;잠깐 기다린 후 다시 &lt;code class=&quot;language-text&quot;&gt;flag[0]=true&lt;/code&gt;로 놓고, `flag[1]을 재차 확인&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이전과 동일하게 &lt;em&gt;Mutual Exclusion&lt;/em&gt;은 보장되며, 양보로 인해 &lt;strong&gt;Deadlock&lt;/strong&gt;은 발생하지 않게 되었습니다.&lt;br&gt;
그러나 과유불급이라고 했나요.. 무작정 양보하기 때문에 또 새로운 문제인 &lt;strong&gt;Livelock&lt;/strong&gt;이 발생해버립니다&lt;br&gt;
둘 다 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;에서 서로의 의사를 확인하고 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;문 내부로 진입한 경우,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P0가 양보 (&lt;code class=&quot;language-text&quot;&gt;flag[0]=false&lt;/code&gt;), 기다리다가 CPU 사용권 뺏김&lt;/li&gt;
&lt;li&gt;P1가 양보 (&lt;code class=&quot;language-text&quot;&gt;flag[1]=false&lt;/code&gt;), 기다리다가 CPU 사용권 뺏김&lt;/li&gt;
&lt;li&gt;P0가 다시 &lt;code class=&quot;language-text&quot;&gt;flag[0] = true&lt;/code&gt; 하자마자 CPU 사용권 뺏김&lt;/li&gt;
&lt;li&gt;P1이 다시 &lt;code class=&quot;language-text&quot;&gt;flag[1] = true&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEkklEQVR42g3R6VthCwCA8fNn3nnuzNymjSbabOVQJk12jUZSKUQhEaFVSqlBEoqyhmNfj13N3Dt3nuf9+vv0AvFn6sUpTSqmcuj4l5DQYmbaf8h///al06ZIcLdUWO80l+HSar0ibDVFnba+3ZI1a6Jq2disnQK1EsP5g7Ylp2DH+4z6L7tKrFpBPj5inBwzDXv0xzv2vy1Zu6xow6oWvNOqqpvl9Sa81qpvtmAlACfAnxVi+JE8NvI+G2EQJj6Iloburil61UgtB1bSU50qvl3FtmFyE2a0auJu67BVMjRTGji+C9Qy7EZ+rpQW3rsWXxvy+1tO9Ilps5AKaWoOms6nKO06rVWndRsrP7vmtzdLJSxLWZgZMyNu5AD1wvdaYe21xrq9nlcqCDoNwXZBJ2AH9rXzBh1nf49xdMCymYn/dXiJyOqLnZc1U3KH1PwpM77PAWAI0yjwOwXm0x3hxoKzX2Ac59gVPraU2wn41vc1s7WyoJhlNQpcl2HBpmT61eScgQTtzQY1LKAS7aumMI38YjMNwtD4W2WinpvOxJZ+dXmdOuv1TxVuIyfPe6R1PTWpZgRl+IxxMqYmRbV0oBL7BCcRjRKnlv/WhRmeG4xWRL1SieCC4e3V9NrZboX4JYug7JRVNWBpcyqnJWQMxLCS9Kz4CpQhQS0nqBWlfzbUS3KdlB8++l7YJaYvF7odcSu7EbEKk+aV1N1+UE7xSGcOBJSwhvQHe+XzQCVCqaaJ9SzYLJLhDC5rx5XPCJAEkbfNtIvsgpdrVXMOJGsOk+RYTDvbYl9quSebNKcIdItngXwAXQyhi+HhSnioEScWzvDZHUx0Y6QBrXST3LiDdKOj3O5NBq9YvkOuW/P1Vk8Ts6b3+JSMcx14uRzNujDp61HITs3m424+8xSPOhhDXuk0Pl8oeTqdP0HBDxMpFzm0O11UTSip44h3iNnJ3mb1O2ATDj0YwFqEFjBxjAf2y3OPuhetmwSNkmXL/npEO5ZWjLwYMX7bskWysDreL2RxJ9GT+IH31bAQcC0Mnsz3hY0YL+nj9ui4fk3iEmCit/p8VF587MsFBnPOTzHbnFahn8OMmGTEI/0R8t2nSz2qGvoCPC31B4QDZ+zPjo0VE5W9Q8QHl3ojYsSj5Uv2EZnzDxWCiFREMDP1bZOD/pWZs5s5s6OgeR1ZfMIB3uW+0BbSwuk5UW1e3yVubFaf4+rFLvGeM9LPwnxIlHbzIMeigU60rVIrYUkpyPBtkz1ibNYHAm5e75NswLfSo6YMS5clPjM9GvNbDuW3KkTiajhuBWPGYZ+8/0E6GNQNJc7xkYM5J380ejiTdguBC+YHq2DAsYqQEAa32ajkda/H7VBuyMO2vwohVNyKC572RWz/vDh7kq7+pGMwcTkY/zECeRdjfhFwxu41CdACcIiORFhVw6XnMfMq026eyse+XqwsPZmmID8u4QFT92DSRUi4JuL3U6mgEAqvJQIgcDT7983y561p5AYBYfiGutegrykf7xWoZ4d4D7v4cMzKRFgvXl7CL0g+8iA/Hwopk0FRxDsKBXD/A2frSa2L6/vOAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;형님먼저 아우먼저&quot;
        title=&quot;&quot;
        src=&quot;/static/46ecb893e87ea183cf2bf50afcb13a4f/3684f/image-11.png&quot;
        srcset=&quot;/static/46ecb893e87ea183cf2bf50afcb13a4f/c26ae/image-11.png 158w,
/static/46ecb893e87ea183cf2bf50afcb13a4f/3684f/image-11.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
&lt;a href=&quot;https://www.melon.com/album/music.htm?albumId=10100122&quot;&gt;출처&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;이런 과정을 반복해버리면 서로가 서로를 양보하다가 Livelock 사태가 벌어지고 맙니다..&lt;br&gt;
이 경우 딜레이를 줄이거나 아예 없애도 Livelock 문제를 완전히 해결할 수가 없습니다&lt;/p&gt;
&lt;p&gt;장난 그만 하고 진짜 문제없는 알고리즘을 살펴보도록 합시다&lt;br&gt;
앞으로 두 개의 실명제 알고리즘이 나오는데&lt;br&gt;
&apos;이름이 붙었다는 것은 강하다는 것&apos;&lt;br&gt;
과 같습니다&lt;/p&gt;
&lt;h1 id=&quot;5-dekkers-algorithm&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#5-dekkers-algorithm&quot; aria-label=&quot;5 dekkers algorithm permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;5. Dekker&apos;s Algorithm&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/24b7bf7bed3febe422869f67648980f6/e9beb/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 84.81012658227847%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABlElEQVR42pWU6a6CQAyFef+XI1Fj4oYRcQU3VFyhN1+TTpA73OXHSMc5PdOeUwhWq5VMp1OJ41hms5m8Xi/ver/fuoifz2crLpjP59Lv9+V0Osn9fm8Fc5bnuT4hbsMF2+1Wut2uLBYLTSjL8gNAIv8dDgfF0Qlxa4XcNhqNFMwzyzIvaVVVemmn05HBYCDr9dpPSDJACIfDocYk+6rc7XbS6/UUx+WPx8Pp6ggtAdB4PFaD0jR1RLbYQ4pxkEVRJMvl8gPDBYEBJ5OJhGGoCVRJSxjG/nK5OEKmAhz4JEl0DzGFIJcSwswBAEzCHFrBUc7qLVE9F4E7Ho9uAmxCAn4gsASqqOtiMc/z+ayJhqmfWayElEqbtAa4OWPsSdjv99oFY+PDubFBJzTZbDbaRtM5cxldMQ95IG/inMuICiEuo5FvDknmDHcpgAFv4pSQNk2D+mq+x9frVW6324du3sG26rCddhG9KIpvQMh++ig4QhzmLYGYVmws7CPwG4GXEKHRBtHbxP4zIbMFKaNA7Gv3P4Rf+QcecShE/qQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;#5&quot;
        title=&quot;&quot;
        src=&quot;/static/24b7bf7bed3febe422869f67648980f6/f058b/image-12.png&quot;
        srcset=&quot;/static/24b7bf7bed3febe422869f67648980f6/c26ae/image-12.png 158w,
/static/24b7bf7bed3febe422869f67648980f6/6bdcf/image-12.png 315w,
/static/24b7bf7bed3febe422869f67648980f6/f058b/image-12.png 630w,
/static/24b7bf7bed3febe422869f67648980f6/e9beb/image-12.png 730w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;각자의 의사 표현인 &lt;code class=&quot;language-text&quot;&gt;flag[2]&lt;/code&gt;만으로는 문제를 해결할 수 없어서, &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;까지 도입합니다&lt;br&gt;
P0과 P1 함수에서 막 &lt;code class=&quot;language-text&quot;&gt;while(true)&lt;/code&gt;로 C.S와 non-C.S를 무한반복하는 것 처럼 보이는데,&lt;br&gt;
그냥 프로그램은 C.S와 non-C.S의 반복적으로 나온다는 것을 간단히 보이기 위한 장치니까 신경쓰지 않아도 됩니다&lt;br&gt;
아무튼 중요한건 이전의 알고리즘에서 &lt;code class=&quot;language-text&quot;&gt;if(turn==1)&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;while (turn ==1)&lt;/code&gt;이 추가되었다는 점입니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P0는 &lt;code class=&quot;language-text&quot;&gt;flag[1]==true&lt;/code&gt;이면 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;을 확인합니다&lt;/li&gt;
&lt;li&gt;P0가 보니까 &lt;code class=&quot;language-text&quot;&gt;turn == 1&lt;/code&gt;인 경우,
&lt;ul&gt;
&lt;li&gt;내 차례가 아니니까 &lt;code class=&quot;language-text&quot;&gt;flag[0]=false&lt;/code&gt;로 양보하고 기다립니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;turn==0&lt;/code&gt;이 되면 이제 그만 기다리고, &lt;code class=&quot;language-text&quot;&gt;flag[0]=true&lt;/code&gt;로 다시 올립니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;P0가 보니까 &lt;code class=&quot;language-text&quot;&gt;turn == 0&lt;/code&gt;인 경우,
&lt;ul&gt;
&lt;li&gt;내 차례니까 상대편이 &lt;code class=&quot;language-text&quot;&gt;flag[1]=false&lt;/code&gt;로 양보하기를 기다립니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;flag[1] == false&lt;/code&gt;가 되면 C.S로 진입하고, 끝나면 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;을 넘기고 &lt;code class=&quot;language-text&quot;&gt;flag[0]&lt;/code&gt;을 내립니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게, 현재 &lt;em&gt;내 턴이면 버티고 내 턴이 아니면 양보&lt;/em&gt;하도록 하여 Deadlock과 Livelock 문제를 모두 해결합니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 261px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d7bdf9ee4a23115149b95782b2f3a67b/edf96/image-14.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.0506329113924%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADdUlEQVR42g2TyW8bZRiH5x9gEQiQkHpCggNIvQAR6QXSqlIqgcMiJW1CGyDQNPHMeFavsZ1ZPYvHEy8Z2+PZPN4anFWlWFFJUtRSpQtV04YkTiygpKoE/wQjfYf38tPzLs8HcAbKlJCkBkdy/nB2OlrwxzUwrvmpCkybUKZJpFuE3CR4B6HKIGVAjAlROswYGGtggGihvI554VgBis1DMxo4W5yeLYFBdSKe+vac76P+T05+NjpApsYVF+VMmDW8MMIYiGBhgGITYoVkSqiXT2gwVYToEig56LCvn5kYWmSuXDzT986br7/y8ktDF05nXIwzAh5WsAjRJgDFCslmkC0j1DzEFBHaKzT/oh15XOfiXw8etPnn69ml1NT44KkTr7069sO5bJNkDZT3wg4JqFZYNj1ygPawJXiuCG84yTuVRA4bW89iu1fZ1OUh4vxZbOTs1OcDb791gsr7JQdL2WiqigNzTkQxgkIZZUuIoiG3bWqvIT5uCCs8eEeP7S8IMnh+TUE28ngaHH7jxRcuB0fmGhHJCqZrISDrhjJWUKzgdCnQKEd3G9KTBbm7pByvqcermb+W0sssaITHe0vKtpVQoQvVPCLbmGQRshMGsk447QRTOkqVA1qJ3KkJt3LBLRk5+lH6e0V5uqr+ez3730+5o7bUbcvPO4VHLUE1UdHGRTsI5OszIWk6mQ9IJsnpiKtHyhNf1r737dfZXls4bNDdFnvQEg4X1Z0W90crtVmn+CKcnEcEmwQKjbhkkFIlJFshrgQv/1x5eGPB/Kqv6eurDb63PHZ6k5/ctvne3u0HN9tVJ6o6BKejUdUveKcqNBK5eizjhEWL5Mvo2rp1b9Wofud7cM3pJKdu5pOb9MTeLwt/Ht172r1bW1FEC1HdcNolZRcHCvXonBtN2yHBxL3OM27MFAL3r2aPn+10d2/1Ht7oEKO9R1tHT7aeHd5fu655/ohVz1ZUqhHAfDOquiFve5yBiQYpVpAvRqYKQv733zr/HG7v/9reYid7B3fXO0sbG26xHpMdgrdR1gpwDgrk6p4rKKsHaB3ldIzLoRevkO/246OX4jNJUaSZfDKOh9PfTJKpPC6YqDcqawZoC/YeoNYxyUaYCpIoQgkNpDWElaAEGP50GP/wDHzyVPj9gdkPPo5egoiMJ5b3ixzUY7I2Qpng/+m56QMI3cRJAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;봐준다&quot;
        title=&quot;&quot;
        src=&quot;/static/d7bdf9ee4a23115149b95782b2f3a67b/edf96/image-14.png&quot;
        srcset=&quot;/static/d7bdf9ee4a23115149b95782b2f3a67b/c26ae/image-14.png 158w,
/static/d7bdf9ee4a23115149b95782b2f3a67b/edf96/image-14.png 261w&quot;
        sizes=&quot;(max-width: 261px) 100vw, 261px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;또한 이전에 발생했던, 강제로 턴을 기다리는 상황 또는 &lt;em&gt;Mutual Exclusion&lt;/em&gt;이 보장되지 않는 상황 또한 일어나지 않습니다.&lt;/p&gt;
&lt;p&gt;아 근데 좀.. 길지 않나요?&lt;br&gt;
더 짧게도 가능한 방법이 있습니다&lt;/p&gt;
&lt;h1 id=&quot;6-petersons-algorithm&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#6-petersons-algorithm&quot; aria-label=&quot;6 petersons algorithm permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;6. Peterson&apos;s Algorithm&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/eef2dd4a431e8f2624e00339c9ea3c1d/be86f/image-13.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABe0lEQVR42p2TiY6CQBBE5/8/zohKFIy3gkdUUAQ827xOZqOT0c2uyQSc43VV9WDW67XEcSzj8ViiKJIsy+R+v8vlcpHr9fo2brebrvF01+wwi8VCWq2WAAZyPp8/bq7rWvI8l7IsFewF7vd7CcNQptOpqgPqU8Dc6XSSXq8nw+FQdrud/nfBhonRaCRBEKjl+XzurUwh9uKk2WzqXs6h+g34eDxktVpJt9sV1B4Ohx/bPF+zRGVRFJo5UeHIAm1cqnC73Sqw3W5Lp9PR9+VyqfPkBchGgU2A7Gs0Gqp0MpnIZrPRGIzdlCSJdprK2KKyL0tUsD4YDPQM43g8vltGDapY5J1DPhhuiITG0ESicjtubNBWer/fl6qqvnaavQCx7t5bgzUATL52zHexWacpgG3j3MKG4AmTDlOdCIC794uD2Pt28RWIZHuvsEuOdCxN06+f2Ecg1mgIFxoQeRI8hf4KUyA2UMaYzWaqEOv8fDn+CuQwubhfxX9gAJ+1toLRw0WHrwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;#6&quot;
        title=&quot;&quot;
        src=&quot;/static/eef2dd4a431e8f2624e00339c9ea3c1d/f058b/image-13.png&quot;
        srcset=&quot;/static/eef2dd4a431e8f2624e00339c9ea3c1d/c26ae/image-13.png 158w,
/static/eef2dd4a431e8f2624e00339c9ea3c1d/6bdcf/image-13.png 315w,
/static/eef2dd4a431e8f2624e00339c9ea3c1d/f058b/image-13.png 630w,
/static/eef2dd4a431e8f2624e00339c9ea3c1d/be86f/image-13.png 662w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;데커 알고리즘에서는 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;을 C.S가 끝나고서야 반납했으나,&lt;br&gt;
피터슨 알고리즘에서는 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;을 초장에 양보합니다.&lt;br&gt;
이 차이로 인해 전체 코드의 길이가 반으로 줄어버립니다!!&lt;br&gt;
software-approach라는 말은 매번 이 코드를 직접 작성해야 한다는 뜻이라서, 짧고 단순할 수록 당연히 장점이 됩니다.&lt;/p&gt;
&lt;p&gt;아무튼 이 알고리즘은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P0가 C.S에 들어가려면, &lt;code class=&quot;language-text&quot;&gt;flag[0]=true&lt;/code&gt;로 의사표현을 하되, &lt;code class=&quot;language-text&quot;&gt;turn=1&lt;/code&gt;로 턴을 일단 양보합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;에서 기다리지 않고 넘어갈 조건은
&lt;ul&gt;
&lt;li&gt;P1가 C.S에 들어가려 하지 않는 경우 (&lt;code class=&quot;language-text&quot;&gt;flag[1]==false&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;P1가 C.S에 들어가고자 하는데(&lt;code class=&quot;language-text&quot;&gt;flag[1]==true&lt;/code&gt;), &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;이 내 차례일 경우&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;둘 다 아니면 어쩔 수 없이 .. 기다립니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;재미있는 점은, 양쪽 다 &lt;code class=&quot;language-text&quot;&gt;flag&lt;/code&gt;를 켠 경우 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;에 의해 정해지되,&lt;br&gt;
이 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;은 먼저 양보한 쪽이 먼저 C.S에 진입하게 된다는 점입니다. &lt;br&gt;
이러한 특성으로 인해 &lt;em&gt;Mutual Exclusion&lt;/em&gt;을 보장 + deadlock과 livelock을 방지하게 됩니다&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;software-approach의-단점&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#software-approach%EC%9D%98-%EB%8B%A8%EC%A0%90&quot; aria-label=&quot;software approach의 단점 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Software Approach의 단점&lt;/h1&gt;
&lt;p&gt;근데 지금까지 살펴본 방법에서, 공통적으로 등장하는 문제가 있습니다&lt;br&gt;
바로 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;로 기다린다는 것인데요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;을 계속 도는건 사실 CPU 사용권을 받고도 쓰지 않는 것이기 때문에,&lt;br&gt;
CPU 사용권을 낭비하는 셈이 됩니다.&lt;br&gt;
또 머냐.. 자바 수업해주신 교수님이&lt;br&gt;
CPU는 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;이 중요한 줄 알고 최선을 다해서 실행한다는 언급을 하신게 기억이 나네요&lt;/p&gt;
&lt;p&gt;아무튼 이렇게 &lt;em&gt;열심히 기다리는 문제&lt;/em&gt;를 &lt;strong&gt;Busy Waiting&lt;/strong&gt;이라고 합니다&lt;br&gt;
이건 어쩔 수가 없습니다.. OS의 도움이 없으면 이렇게 가짜로 기다리는 것 외에 방법이 없습니다 ㅜㅜ&lt;/p&gt;
&lt;p&gt;그리고 지금까지는 프로세스(또는 스레드)가 딱 둘인 경우를 살펴봤는데&lt;br&gt;
실제로는 더 많을 수 있고, 그렇게 되면 소프트웨어적인 방법으로는 굉장히 복잡해집니다..&lt;/p&gt;
&lt;p&gt;또한 이런 코드들을 직접 작성해야 하므로 아무리 짧아도 어쩔 수 없이 복잡해집니다&lt;/p&gt;
&lt;p&gt;뭐 그런 등등의 문제가 있습니다&lt;/p&gt;
&lt;h1 id=&quot;그럼-우짭니까&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%B8%EB%9F%BC-%EC%9A%B0%EC%A7%AD%EB%8B%88%EA%B9%8C&quot; aria-label=&quot;그럼 우짭니까 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그럼 우짭니까?&lt;/h1&gt;
&lt;p&gt;hardware instruction을 따로 만들어서 매우 단순하게 한 줄로 해결할 수 있도록 하는 방법이 있습니다&lt;br&gt;
그러나 이 경우도 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;을 써서 가짜로 기다리는 Busy Waiting 이슈를 피할 순 없고, 다른 문제들도 존재합니다&lt;/p&gt;
&lt;p&gt;Busy Waiting 이슈까지 해결해버리는 진짜 베스트는 아예 OS가 제공하는 동기화 툴을 이용하는 것입니다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 260px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b4f2292a355bb0ef679ebf5516cdc531/86c28/image-15.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnklEQVR42gGTA2z8AMfLn9TIisOxgqmQaZubiJ7QxYOehmReUWZmW19eVFRQQFZRQFxXTWRgUHJjTGlmWHhsU2uKomGl0Gys1ADEyJ7XzYrLuYSsk2qbnYik1ct/mIZzhImEo655oaFvo3R2pHdyhZOSlph2cVgLBAMZEw8XGx8tRVZumbIAxcei2s+N0cWLs55xoqGNst3ZjKCNdHFnfIB7dIF3cYtjcolhaGtsfXJohnRSPzMpWko3bIWVfqrDosPYAMXHn9nOjNfOj8Ozdpubha3Tz4iZiGtiZXBweWNiW2NlYXNsWIt5UIFmR3pWSk08M2hUP4STnIunuJupsADDx57Zz4vRyI6pqpuxs7PIy895j7BnepyFipWOk5WQnaOfnn/LsWanhlN9WEpRPzRmUj2wtbi9z9vG0NgAwceg3NCMoKSdnK3R0MjFysLDyc3fg5e5YV9ZcWNabmRddGpWfnJKalo7aFE6RTIlbllBlIZplYltlohuAMXLoNjNj6Gqq9LV3dnT1trW3eXh5sTK2GRZZXpdcHxliWZ3bWiSaXF+WX56U6OYkIuCb5+3pKXAsaK7rQDCxpXWzI23t6Ld3erl5+7b3OTp6fLEytdxWFeCX2yDZoNrbluqu6DFw7ejmomzrKuxraW5zsix0smvz8kAxcyd3NSXycCVxby62c3NzsS/0sXIjYiMXlY/XU48SDo2iYB4lIuHYlZHfGY/X0ota2JWuszCsc/IrczHAL20krGph6uohX6Gk3F+pLatnJqeuVFri2pqPkU7K0xFRq6trEc/Nr2nWuXFU8+wVlNGT4mZlK7KsqXBrwCouquqxLuz089+psp8mcfT1trJztutus2mpohGQCxeVlW0opKhhkvewlPjwk66m0xANEdzg1ejwmCZuF0Av+Lgu9zctdTOk6yy3t7p1dXgrLPE6eT01OHFiZlWenRa1auP0ahszKdgzpZofWVfhH+Sr7yVnLddnLdeAK7Nup69lpW3cZO0ZsbOurXErYikd7vFn7jHibLKca/Cb7yxcLKzcKWmabiqcLS2fsjOn7vCjq26cbC+dAChxWmexV2lyGSrymutxm61yXW+z3m6yHq+y3/BzIXEzoa8yICtuHa8x4HCzYPDy4PBx4LFyIXJyovIyIwAnbxgm7dgnLVlobJrpbBsprByprB3qrF4rLF5r7J8q6x4mpturq19s7F7sa16sK18sa59sK59r6x8r6t9NJwNFwGdY60AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;도라에몽 도와줘&quot;
        title=&quot;&quot;
        src=&quot;/static/b4f2292a355bb0ef679ebf5516cdc531/86c28/image-15.png&quot;
        srcset=&quot;/static/b4f2292a355bb0ef679ebf5516cdc531/c26ae/image-15.png 158w,
/static/b4f2292a355bb0ef679ebf5516cdc531/86c28/image-15.png 260w&quot;
        sizes=&quot;(max-width: 260px) 100vw, 260px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
도라에몽 도와줘!&lt;/p&gt;
&lt;p&gt;이 다른 방법들에 대해서는 또 후속작을 내놓겠습니다&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;그러고보니 1번같은 방법을 쓴 적이 있습니다&lt;br&gt;
프론트엔드단에서 제출버튼 연타를 막기 위해&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;isSubmitting &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;postOrPutSomthing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;finally&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
isSubmitting &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대충 이딴식으로 써놓는 것인디..&lt;br&gt;
좀 주먹구구같다는 생각을 버릴 수가 없지만&lt;br&gt;
간단히 의도를 실현시키기에는 꽤나 적당한 것 같습니다 ㅜㅜ&lt;/p&gt;
&lt;p&gt;아무튼 배고파서 이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🖇️ 슬랙에서 깃허브 연동하기]]></title><description><![CDATA[팀 내 소통을 위한 툴로 슬랙이 요새 인기인 것 같은데요 보면 볼수록 뭔가 신기하고 편한 기능이 많습니다. 또한 개발자들은 팀 프로젝트같은 것을 할 때면 깃허브를 빼놓을 수 없죠?? Organization이나 Repository를 만들고, Issue…]]></description><link>https://sungpaks.github.io/slack-github-subscribe/</link><guid isPermaLink="false">https://sungpaks.github.io/slack-github-subscribe/</guid><pubDate>Sun, 31 Mar 2024 13:46:58 GMT</pubDate><content:encoded>&lt;p&gt;팀 내 소통을 위한 툴로 슬랙이 요새 인기인 것 같은데요&lt;br&gt;
보면 볼수록 뭔가 신기하고 편한 기능이 많습니다.&lt;br&gt;
또한 개발자들은 팀 프로젝트같은 것을 할 때면 깃허브를 빼놓을 수 없죠??&lt;br&gt;
Organization이나 Repository를 만들고, Issue나 PR을 올리고, .. 등등&lt;br&gt;
근데 개발자들은 게으르기 때문에 저런 Issue나 PR 확인하러 깃허브 켜기도 귀찮습니다..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 446px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c5aa8fddf45f286125d1d2ef8b98c79a/6244b/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25.316455696202528%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAABM0lEQVR42mP4///vosf/cs6fari47P/////AAMj49etXZGTk9evXgey/f//CyYcPH4aFhX39+hXIZqh++ifr7v/S6+diT87vvXXk9///J4+fSE1NXb16NVDR5s2bMzMzo6Ojd+3atXDhwoCAACAZExMDJKdPn86wbM6BRWsvn71w+tjFjjVH64HmzZo128bGev78+SkpKZaWllOnTq2vr/f09AwJCTl58iTQOH19fWVl5fv37zP86Vz2OaD5a0vT72sZv89UAx1+7NgJb28vR0fHxMTEhISEuLg4Hx+ftLQ0oC8KCwtnzJjh7e3t6uo6d+5cBqBVL0sWveqs+vJ0+h+QZ//fvXtn5cqVd+7cOX/+/Lt37zZs2LBmzZqnT5/eunVr9uzZd+/evXTpEtDnO3fuBADUtsiLLdICOgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;슬랙&quot;
        title=&quot;&quot;
        src=&quot;/static/c5aa8fddf45f286125d1d2ef8b98c79a/6244b/image-1.png&quot;
        srcset=&quot;/static/c5aa8fddf45f286125d1d2ef8b98c79a/c26ae/image-1.png 158w,
/static/c5aa8fddf45f286125d1d2ef8b98c79a/6bdcf/image-1.png 315w,
/static/c5aa8fddf45f286125d1d2ef8b98c79a/6244b/image-1.png 446w&quot;
        sizes=&quot;(max-width: 446px) 100vw, 446px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;따라서 슬랙에서 간단히 깃허브를 연동하여 원하는 레포지토리나 조직의 풀리퀘, 이슈 등을 확인하고&lt;br&gt;
코멘트를 달고 경우에 따라서는 이슈를 닫는 등의 마무리까지 가능하게 할 수 있습니다.&lt;br&gt;
매우 간단하니 바로 시작해봅시다&lt;br&gt;
참고로 Windows 11 기준입니다&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;슬랙-워크스페이스에-깃허브-앱-추가&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%AC%EB%9E%99-%EC%9B%8C%ED%81%AC%EC%8A%A4%ED%8E%98%EC%9D%B4%EC%8A%A4%EC%97%90-%EA%B9%83%ED%97%88%EB%B8%8C-%EC%95%B1-%EC%B6%94%EA%B0%80&quot; aria-label=&quot;슬랙 워크스페이스에 깃허브 앱 추가 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;슬랙 워크스페이스에 깃허브 앱 추가&lt;/h1&gt;
&lt;p&gt;먼저 원하는 슬랙 워크스페이스에서&lt;br&gt;
Slack App Directory로 들어갑시다.&lt;br&gt;
아래와 같이 들어갈 수 있습니다&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/JX2g6n8.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;그 다음 검색으로 Github를 입력하고 &lt;strong&gt;&quot;Slack에 추가&quot;&lt;/strong&gt; 버튼을 클릭합니다.&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/LmBYGWr.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;그럼 아래와 같이 앱이 추가됩니다!&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/fnCOL1B.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;&lt;strong&gt;&quot;Connect Github account&quot;&lt;/strong&gt; 를 눌러 깃허브 계정을 연결하고, 무슨 코드를 주는데 그거 갖다가 &lt;strong&gt;&quot;Enter code&quot;&lt;/strong&gt; 에 집어넣어줍시다.&lt;br&gt;
그럼 이렇게 됩니다
&lt;img src=&quot;https://i.imgur.com/V1eBBVn.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;깃허브-앱을-원하는-채널에-추가하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B9%83%ED%97%88%EB%B8%8C-%EC%95%B1%EC%9D%84-%EC%9B%90%ED%95%98%EB%8A%94-%EC%B1%84%EB%84%90%EC%97%90-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0&quot; aria-label=&quot;깃허브 앱을 원하는 채널에 추가하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;깃허브 앱을 원하는 채널에 추가하기&lt;/h1&gt;
&lt;p&gt;이제 슬랙의 원하는 채널(제 경우 &lt;code class=&quot;language-text&quot;&gt;#issues&lt;/code&gt;)에 가서, 해당 채널 상단의 세부정보를 열어봅니다.&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/ZzedSp8.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;50%&quot;&gt;
&lt;p&gt;세부정보를 열었다면 &lt;strong&gt;통합 - 앱 - 앱 추가 - 깃허브 선택&lt;/strong&gt;&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/NPO41Um.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;60%&quot;&gt;
&lt;p&gt;짜잔&lt;/p&gt;
&lt;h1 id=&quot;슬랙-채널에서-github-organizationrepo-구독하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%AC%EB%9E%99-%EC%B1%84%EB%84%90%EC%97%90%EC%84%9C-github-organizationrepo-%EA%B5%AC%EB%8F%85%ED%95%98%EA%B8%B0&quot; aria-label=&quot;슬랙 채널에서 github organizationrepo 구독하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;슬랙 채널에서 Github organization/repo 구독하기&lt;/h1&gt;
&lt;p&gt;이제 해당 채널에서 &lt;code class=&quot;language-text&quot;&gt;/github subscribe owner/repo&lt;/code&gt;와 같이 입력해줍시다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;owner&lt;/code&gt;에는 연결하려는 레포지토리를 가지고 있는 organization이나 유저 이름을&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;repo&lt;/code&gt;에는 레포지토리 이름을 써줍시다&lt;/p&gt;
&lt;p&gt;그럼 일단 아래와 같은게 나옵니다&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/DfPC9Oq.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;원하는 &lt;code class=&quot;language-text&quot;&gt;owner&lt;/code&gt;를 선택하면, 아래와 같이 나오는데&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/XU5dlIA.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;여기서 레포지토리를 고를 수도 있는데,&lt;br&gt;
방금 만든 organization이라 레포가 없어서 저는 All 선택지밖에 없네요&lt;br&gt;
사실 제가 원하는게 All이긴 합니다&lt;/p&gt;
&lt;p&gt;이제 다시 슬랙으로 돌아와서, 커맨드를 다시 입력하면 끝!!&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;/github subscribe owner/repo&lt;/code&gt;&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/CYbtw1s.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;이 경우 repository를 한정시켜서 테스트했는데&lt;br&gt;
저처럼 organization 자체를 구독시키고자 하는 경우&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;github subscribe organization&lt;/code&gt;과 같이 그냥 repo를 쓰지 않으면 됩니다&lt;/p&gt;
&lt;h1 id=&quot;이제-써봅시다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%A0%9C-%EC%8D%A8%EB%B4%85%EC%8B%9C%EB%8B%A4&quot; aria-label=&quot;이제 써봅시다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이제 써봅시다&lt;/h1&gt;
&lt;p&gt;해치웠나? 한 번 이슈를 열어봅시다&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/HiAOmbW.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;이렇게 깃허브에서 이슈를 열고 슬랙에 가보면..&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/kGT8vGF.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;이렇게 알림도 받아볼 수 있고 코멘트도 달고.. &lt;code class=&quot;language-text&quot;&gt;Close&lt;/code&gt;도 할 수 있습니다!&lt;br&gt;
사실 위 화면은 제가 이미 슬랙에서 이슈를 닫아버린 후입니다 ㅋㅋ ㅈㅅ&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;이렇게 마법의 슬랙고둥님을 만들었습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 256px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/527608345d8c8463326493f8414e0926/6f3f2/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEz0lEQVR42gHEBDv7AAkdEwYeExE7IhQ/KQIKCAEFBgwqHgYjFgUhGRAwJQcMDQYNDg0nHhlAJAwlFhA5MRdePh4+H7K0Ld7YIAAHHA8bLDIxQUQdRTFDWVU/RFQsPUhTZWwtQEUACwoAAwcFFw4YQikUSyESLhcSOiUVUTEGIBKQlSff1SMABSEMU1+LtbTvr7DP5d/y5eD05djz/O7/08PffYCfjpiuWWx0F0krCzIUCiAQGD8lDkgsFD0it7Aq++siABEyEzBFXYGU766r58LA5ejb9ePJ6Ne94vPf+P7x//Xq++zj/H+FngQWEAwlFhU/LQtKNCFNIsfCKvXnJAASORs/Y2t6m/SPmOG5t+m8r9+9rNry4/bl2O2wp9eamNKtrOV5eq0AIBQXVzUaYTwUVTAMNhuhnyHs3CMADTAVXYSXgrL/eo/mmZjhnJja49b449Hsp6XfiJPleorb1dX3np26IEhMDk4vBzoWDjEXBisccHkfzcklAAgiECI+Pm2e4W2O73uI5aqx7+vb+L6z53mCv09hpYGg+Zqq5MrE7aez6IaSlzlINxEqGgEnFnaAIM3OKAAKJRsIIRZikcRykPRvf+Goru/bzPGwq+dXbJ4nPmdcfLmGqPl2ht59jN23uut/iIs3UzULOBqtpCTVzSAACyYaESgoe6Tegq3/ZoPmlaLr18zyqanlX32tWnqgKUVvXnu4f57ybIDhe4zdNUNPSmNCDDYdl5kj89weABQ0IwYfFTBXZGug2WOP7ouf58/I8K2s5nCIt1l8o1Z4nihAaWaCyI+h+3d9uA4hHFRsSwk3GGR+GvneHgATOSMRNyMIOxBDcYpmlv9ujOuvsfC8tOefo9JObpVdgac6VXlBWZCLpPmfoNcsQDpLaj0PTBR2jh/43RwAFz4mEDMhEUokRXeUmKy0jJOBlp6+sKvjv7XrdIWyT3SZQVyAP1aLj6r6oaLVTWBfe5ZyBkMFlaIp8dgYABU1IxU3JhFPNDphOsS7PM29KnN6d5Kb6Kql4rWx5GqArSQ+ZVRvqYum9q2p2b7Fxs7czj9wPX2JFefRGgAaOicZOCYPRi5KdUeVnjmJjUOZmF58iJ6RofOnp+W0sehud6VgfLiIovO8uufN183M2cZsiXtIXRDLviQAGkQqGDUkEDEfMF9AjLBemaEyo5o0Y4bKdZr0e5Tjl57ms7HprbHnhp3umqPRcIV2iZWLFz8yQ1si4c8hABlMKhs/JxU1IBJHK0h8UJjAZZ+mRHqgzX6u/3ak/HKY83aP55Wf54+Y4aSp5ixDRgMgCBEzJnuIOO3ZIAAUQSYYQy0TNSEaUzMQQyY1XT+Gp0+ds1VXfJBbir9uo+B3qvtzoviIofaorPNMXHQIHQhPcXySrmbkywwAFUAZGEUlFT0sF08yGEErFTQgHT8ln7RNYmcqCjglIlg7NVptNl50UX6hjq37e4vBQ1lcgsDbbqGfkaVXABtZFxVOGBNAKhVHLx1HNB1ALxQzIl56N7y6QyI/KhtUKBtBLiRSKCZfF0x6hI2u/Yqm1V6UmWiYqnW62AAZWRYZUB4XQC4ZRjIbSDYdPzAfPiQkRjC1u0dhbTQTSi0mTDctYTAwcSQhUCg7XXt1lblniiZIaVWGxuKQOg/mu+W7fAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;마법의 소라고둥님!&quot;
        title=&quot;&quot;
        src=&quot;/static/527608345d8c8463326493f8414e0926/6f3f2/image.png&quot;
        srcset=&quot;/static/527608345d8c8463326493f8414e0926/c26ae/image.png 158w,
/static/527608345d8c8463326493f8414e0926/6f3f2/image.png 256w&quot;
        sizes=&quot;(max-width: 256px) 100vw, 256px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;간편한데요?&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🛑 자바스크립트의 비동기 작업과 Async/Await]]></title><description><![CDATA[Promise…]]></description><link>https://sungpaks.github.io/javascript-async-await/</link><guid isPermaLink="false">https://sungpaks.github.io/javascript-async-await/</guid><pubDate>Fri, 22 Mar 2024 23:11:07 GMT</pubDate><content:encoded>&lt;p&gt;Promise로 스마트한 비동기 처리를 살펴봤었는데요..&lt;br&gt;
괜찮은 것 같긴 한데.. 아래와 같은 경우에는 아직도 알아보기 힘든 것 같네요?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getJohnData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//John의 데이터 가져오기&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;John&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;john@example.com&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getSunghoData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//Sungho의 데이터 가져오기&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Sungho&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Sungho@example.com&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//꼭 John, Sungho 순서로 데이터를 가져오려면..&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getJohnAndSunghoData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;getJohnData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getSunghoData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;John, Sungho Data 가져왔어용&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 329px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fafe9f6f4d12986516587366d216eea8/004a5/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.835443037974684%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABbklEQVR42pWRSVPCQBCF+QOWCxBkTQgBkpA9kw3CZoEWLuVRPcvd/3969nS0vKkcXtI96Xn55k2tZYQYxWtM0i3GYgN7fgvVzdGzUigj/2TVFCNA8fSK/dsRu5d3PB8/EKwP0P2SB5q6d5JqctNl38ZF18I56aw9pX7Gqqsu6pqLBumK6sbwH4ZyyEgy+HclxP0K4mENc1EgPqzgbBeY5inUQMDblVC9iM3/IAzQc2J07QhalGBI6loRv/tORHWIjhli4AtcGz5Re1CM3zKkxzjL4GzmTOFsFhCPK6b09ksEtCa/S3PnpsQkzzgGZfRDJevvngk7RDHwBHRBhGFCEaQVVZBAo+NK4hZR9d2YjZsUk6JXRM2hz31lTISy0MhkRnnpccIbDSIyy5xpVfqRkaZ8AjknI5hkOcy8gFnkGFP+1nzOEclLJEOf8gu/6ERF5sWY0LC9LJhIahSnbN6eBkws1ZuRKHu5Lu+gMXTxCbiNCr8IYRlKAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;실행결과 1&quot;
        title=&quot;&quot;
        src=&quot;/static/fafe9f6f4d12986516587366d216eea8/004a5/image.png&quot;
        srcset=&quot;/static/fafe9f6f4d12986516587366d216eea8/c26ae/image.png 158w,
/static/fafe9f6f4d12986516587366d216eea8/6bdcf/image.png 315w,
/static/fafe9f6f4d12986516587366d216eea8/004a5/image.png 329w&quot;
        sizes=&quot;(max-width: 329px) 100vw, 329px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;더 좋아질 수는 없을까요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 276px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a7767145d2ac7b5ebd403d1c7fd8faf4/f2d11/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACk0lEQVR42mP4DwP//v1DZv/7+/c/IcAAUw7ScOvKxXVLF+7avOHDuzdw44DkHxD4DcRAI0FKkTVDFK2e1Z/iZOxnpGYsL+ZvZ3n94gWQFIb9f//+hbuR4S9Y+sbFczVhTgenlFxZ1r6pLaPIy7QyMfTv3z9AqfdvXq2aP3N6Z/POdatev3iG7EGo5nVzJq2sjXu4acajrbPe7JlzampBX5rP27dv/vz4sndyWbaDepCBvLeuop+Z7sTW+u/fv0KMADn727tX23sK76yfsH1C/fklfZdXTdjckjWjMOzLtx/Xdq08NyV/T39xU6xHhrupj5GauhDnxM4WiPtBmj8+vHV1ZtW7w0vvbJh+fXnbtt78ZTXpa5qzHl2/tGNy7fU1U3ZNbejKCKmMdE1yNXPUUPC2t/z9+zc0wP7+/vn46Kanm6d9Obby/rqJJ2aUnZpZuawg+FBf4aFJZS/2LDo4o256UWRrgmeGh4W1spSPrcXv37/AmsG+//7p/e11E07N61hTk3tkStWa0og5ya7XFtS/3jHj6ZbJZ2ZVHOrNmpcfWBHuZK8qWZWTBnU2MBKB+v/8/Xtz14JrqyduaS7c2JDcHWp7uCvj1NTyi9PKLs4ouTq/9uq0shlJ7hHWepEuNvdu30D4GRjcj2YsOFGccmVN36GpJe32WvMinW6tajo2MX93a+GmusR9nemHOhI25jm2+GpeOLoXohPk7Nfb91z1jDzDIHSGQ+aYsv5GKYVVfBKnu3MOdKcskBTf4+D35M6NE+1Rrya4fp9m+7jD+vnFPeAUCdZ8ilX4LAP3BRaJ80ziZxhFTjMIntA2vLqifn2840oGzjUMPJem9r6eG/V0SsDzqf5XOvwPdcV8+/QOEs8AwcolECE6OhkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;속닥속닥...&quot;
        title=&quot;&quot;
        src=&quot;/static/a7767145d2ac7b5ebd403d1c7fd8faf4/f2d11/image-1.png&quot;
        srcset=&quot;/static/a7767145d2ac7b5ebd403d1c7fd8faf4/c26ae/image-1.png 158w,
/static/a7767145d2ac7b5ebd403d1c7fd8faf4/f2d11/image-1.png 276w&quot;
        sizes=&quot;(max-width: 276px) 100vw, 276px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;속닥속닥...&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getJohnData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//John의 데이터 가져오기&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;John&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;john@example.com&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getSunghoData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//Sungho의 데이터 가져오기&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Sungho&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Sungho@example.com&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//이렇게 해보세요..&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getJohnAndSunghoData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; john &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getJohnData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;john&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sungho &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getSunghoData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sungho&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;John, Sungho Data 가져왔어용&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;헉 이렇게 해보라는데요?&lt;br&gt;
코드가 아주 절차적으로 보이고 아무튼 정갈해보입니다&lt;br&gt;
근데 처음보는 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt; 키워드가 있죠?&lt;br&gt;
당장 알아보도록 합시다.&lt;/p&gt;
&lt;h1 id=&quot;async와-await&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#async%EC%99%80-await&quot; aria-label=&quot;async와 await permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Async와 Await&lt;/h1&gt;
&lt;p&gt;Promise를 더 잘 쓰기 위해 나온 특별한 친구들이 바로 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt;입니다.&lt;br&gt;
사실 이름 안에 역할이 다 담겨있고, 사용하기도 쉽습니다.&lt;/p&gt;
&lt;h2 id=&quot;async&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#async&quot; aria-label=&quot;async permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;async&lt;/h2&gt;
&lt;p&gt;먼저, &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt; 키워드는 함수를 비동기(&lt;em&gt;asynchronous&lt;/em&gt;) 함수로 정의하기 위해 쓰입니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;async function myAsyncrhonousFunction() {}&lt;/code&gt;과 같이,&lt;br&gt;
그저 함수 선언 앞에 키워드를 갖다 붙이기만 하면 됩니다.&lt;br&gt;
이렇게 하면 해당 함수는 항상 &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;를 반환하며,&lt;br&gt;
함수가 명시적으로 &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;를 반환하지 않는 경우에도 묵시적으로 &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;객체로 감싸줍니다.&lt;/p&gt;
&lt;p&gt;예를 들어, 아래 두 함수는 동등합니다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;BBOONG&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;BBOONG&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그렇습니다.&lt;/p&gt;
&lt;h2 id=&quot;await&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#await&quot; aria-label=&quot;await permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;await&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt;얘기에 &lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt;가 빠지면 섭합니다?&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt; 함수 내에서 동작하는, 이름 그대로 &lt;em&gt;&quot;기다려&quot;&lt;/em&gt; 키워드입니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt;키워드를 붙이면 해당 줄에서 &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;가 처리될 때까지 함수 진행이 멈춥니다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 204px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4a8ec8f4051b8654da68b800520c86d1/779ef/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 94.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAAETklEQVR42hVT+U8bZxRcfOC1zeG9vv329PrANkewMTZgLuED29gUijmCTUgJLjgYg7lCIcXcBMghQlAlSBCBNqlIlPxQiUptVTWRKkWq+k91K71f3kijmaeZh+i0eGkZjhM0QUKMBASGqdWoUq0yAv09f81Cn+8wM3i9Of/5dP98fwtCEifLCbIc0DgFMATDAEHKkMwnKChjpFKpIg1oX71pIe7OdTflekK7o/GLlYmrvbWekN+A6XmehpCADIlgZJkBN8gbZBnAQYED7TaTWySG3aaleMN2KnK6PLlxO/T0Xu+fP+y8OdoTWELgAQNJhiURQrZKQcAYecEIeUbi6WzAl/JYv67hssG67ZHIyUwy39VcGIi828i/3lqymwUeUrI4x5MIgDTLSZA1khQLaK5EX2YDoLfGkqyXsiHX97f9O6OxmbBvJRE7m0tf7X7HkAaJpUWO5mVllqdFowgZQbag0aBKhbJMqxcNBr8ZG/VJ+W7v9jex9cHg/nji78vj6WQC1+kkDooszTEUQrMs5CmKBqpiFClC5CnT6cNtLYkm56BLHK4XR9scU13e2aHowp2h7kBrXzwU8DWEW72R1kYEsiwOcKVa45CszS5ns6s2FY+murtWJ0ZXkz2LvU1TEc9sT2ArncqE/HPRzslIONnWNBL0tdQ6EIYBqF6rUKmrJclpNlWJJp/FUknTDY7K442tV88Org5Xz9emb85Ost6WIYyLmitCja42r50BeqS4WIMoETWq0mhVxVqVslihUCoRRCEf3+nyHMzP37x/+8+n3z5ev7nj9vUSXNRib3HW3qqysiyG0JC3Vlh4gdWV6FQapRJVlOg1dohHvbZcb/t6KvZ8cezm7PD51vItm8ThBp4mJZNQ7bA21tgQXhBsDqtkNur0uqKiIrVa4akgU63WzP8hxy8LmZ8K2Q+Plv99f7E5n6HwMhwrrfV6Y1/1pPvDCEZQGGHA8HIdimpUKhssT9SJd332Mb93qS+6mYy9XPz2YvX+yVLm96vTYEcjhmlZiNMk5quvRuSEGY4BkFKjGlSr6qiA6baqmWBdOujNdAcedLdtDwSu13Lz/bGbF092H8zg5VrJyPIcXVtpRRgWQF4Om/KYeBNhaBGJ0SbrXNT7eCz+Mp8qDPjHPRUfNhd+Pdr8cvHsyy8/V9ssPCBZFrA0iTAcYDhaZEC6vTZo4z1M+bDHNBf2PErFjtIDs353trXueGL46uH020Luj1dPPU47Q2GiAE0CI5NZQeI4julwGAeclnYTMegW8zH3+oC/kAiMNzszHc0LsfDR1N2Pe4vvDlerLQJPY0aWNAsAgZCT31iNFqsUChtlCFip/jou1+UqDHduJqNZv3u8xZWPBp9MjHw+P/jxYAUvRRmAGTlSlLuN4watXmuWRIfZolWjNrI0bGeSXutcvGllMPAw0bGTirxevv/p/PFfl4fLkymfx1FtAQ4TbxG5/wDkWQLLUS+FJgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기다린다&quot;
        title=&quot;&quot;
        src=&quot;/static/4a8ec8f4051b8654da68b800520c86d1/779ef/image-2.png&quot;
        srcset=&quot;/static/4a8ec8f4051b8654da68b800520c86d1/c26ae/image-2.png 158w,
/static/4a8ec8f4051b8654da68b800520c86d1/779ef/image-2.png 204w&quot;
        sizes=&quot;(max-width: 204px) 100vw, 204px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아까 처음에 살펴봤던 코드를 다시 볼까요?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//async function에서&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; john &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getJohnData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;john&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;await가 없었다면 getJohnData()가 1초 대기하는 것을 기다리지도 않고 &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;가 실행되기 때문에, 결과값은 &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;였을 것입니다.&lt;br&gt;
그러나 &lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt; 키워드를 붙여 기다리도록 했으므로, &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;가 이행되고 나서야 &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;가 실행됩니다.&lt;/p&gt;
&lt;p&gt;우리는 &lt;code class=&quot;language-text&quot;&gt;getJohnData()&lt;/code&gt;같은 비동기함수 호출과 그 밑 줄을 차례대로 실행하기 위해&lt;br&gt;
콜백이니 &lt;code class=&quot;language-text&quot;&gt;Promise.then()&lt;/code&gt;이니.. 코드를 새로운 형태로 짜야 했는데&lt;br&gt;
그냥 &lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt; 딸깍으로 가능해졌습니다..&lt;br&gt;
펀하고 쿨한데요?&lt;/p&gt;
&lt;p&gt;흠.. 그리고 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt;함수에서 에러를 반환하고 싶을 수도 있겠죠? &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;reject&lt;/code&gt;처럼요&lt;br&gt;
이 경우에도 그냥 아래와 같이 간단하게 할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wannaReject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;No&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;혹은 예외 &lt;code class=&quot;language-text&quot;&gt;throw&lt;/code&gt;로&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wannaReject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;NO&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 해서, 일상적으로 으레 하듯이 &lt;code class=&quot;language-text&quot;&gt;try-catch&lt;/code&gt;블록을 사용할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; john &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getJohnData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sungho &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getSunghoData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/*두 썸띵*/&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;ref&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ref&quot; aria-label=&quot;ref permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ref&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.javascript.info/async-await&quot;&gt;모던 JavaScript 튜토리얼 - async와 await&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Statements/async_function&quot;&gt;MDN web docs - async function&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://velog.io/@tosspayments/%EC%98%88%EC%A0%9C%EB%A1%9C-%EC%9D%B4%ED%95%B4%ED%95%98%EB%8A%94-awaitasync-%EB%AC%B8%EB%B2%95&quot;&gt;토스 페이먼츠 - 예제로 이해하는 await async 문법&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;br/&gt;
&lt;p&gt;이렇게 Javascript의 비동기 작업 관련해서 3번이나 포스팅을 뽑아냈네요&lt;br&gt;
아무튼 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[📉 Gatsby 블로그에 Progress Bar 넣기]]></title><description><![CDATA[그냥 갑자기 progress bar를 블로그에 추가하고 싶어졌습니다..  그 왜 그런거 있잖아요.  블로그 내리면 스크롤 얼마나 내렸는지 보여주는 상단 바 간단히 스크롤 정보를 얻어다가 몇 퍼센트나 왔는지 확인하고, 그 퍼센트를 bar의 width…]]></description><link>https://sungpaks.github.io/how-to-make-progress-bar-in-gatsby-blog/</link><guid isPermaLink="false">https://sungpaks.github.io/how-to-make-progress-bar-in-gatsby-blog/</guid><pubDate>Sun, 17 Mar 2024 14:24:33 GMT</pubDate><content:encoded>&lt;p&gt;그냥 갑자기 progress bar를 블로그에 추가하고 싶어졌습니다..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/57be3d00a1b3c10880910846df8f77e0/cc155/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwUlEQVR42pXSy28SURTH8Wv4J+raslSctf4BPv4M3bkzLrpx655EExtbYVE7qdGYtAvTLnzQhEoC8igwM1BeQ0UGqTzaYYBO+XodGk1VTHqST37nJmd1zhUvMhbXwzluqxo3Vqduqjq3VEOmQcRoUK8UqVSrtFotLMv6p2aziT2wEWb3hK29Me/LY96d2io5rBd6bEhfuw6ObXN0NMAZDP/LPXYRkeY2L6sqb2qvPGsVldi3CNCXugzd7xyODqQ2A7czky3nxicDxN2PD5hbCeBfu+aZW1G48+Ee1mGeei+D2Umh1aOe/V5a2qXe/VtNznWdJqJmN0m0ayQPTE+8XaXUb+NO4PjUz95lmhNpdk0QDTNDPvmYwu4iRuapJ59+QjIZJPk5SCIeJC4lEtP3xvoiS8/ChEMhQs9/W15apioPJzY375NOCQoFH7ohfikWBbncBXZ2fESjPmIxH9msYGHhIn6/gqJcJhC44lGUq8zPX0JVVxEdeb2caaJVSmi6hmboZ+T1s302P80/aYbBwHEQWF/g0zbUy3JhNjg9GPZnG80w7MqU/3CUiDJ89BDn7WucfR2nlMYpZ85vL8Wo3eAHPBOvgKEtsuEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;progress bar&quot;
        title=&quot;&quot;
        src=&quot;/static/57be3d00a1b3c10880910846df8f77e0/f058b/image.png&quot;
        srcset=&quot;/static/57be3d00a1b3c10880910846df8f77e0/c26ae/image.png 158w,
/static/57be3d00a1b3c10880910846df8f77e0/6bdcf/image.png 315w,
/static/57be3d00a1b3c10880910846df8f77e0/f058b/image.png 630w,
/static/57be3d00a1b3c10880910846df8f77e0/cc155/image.png 886w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그 왜 그런거 있잖아요. &lt;br&gt;
블로그 내리면 스크롤 얼마나 내렸는지 보여주는 상단 바&lt;br&gt;
간단히 스크롤 정보를 얻어다가 몇 퍼센트나 왔는지 확인하고, 그 퍼센트를 bar의 width로 주면 될 것 같네요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 185px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1930acb1cee30895c5b7339f5ef3c9a6/1d79a/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 147.46835443037975%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAIAAAAl5NuSAAAACXBIWXMAAAsTAAALEwEAmpwYAAABVElEQVR42p1UyaqDQBCc//8nPSgmHhQkETEKIj6XuMb9nMKGwReCmbHBZkaoqeqVdV03jmMURXEcD8OA60vYGL5lWf42m+f5JWPs+XyapokT+HVdT9NUnJ81TRMEATwAruvWdd33vYTsaZrgQVhVle/7cjF3mwGcZZnjOPSWKJgb8JCNKE6CkyRRFEUw7f/AJJ5SKJI29nEHOM9zwzBEIv8EEzkO6Lm2baXBEFwUxeVygf5j8ezrX2DwCrpNjpmDQX69Xs+AySAbZT8DBnlZlqqqnmRG2GjYgwljB0jUDOSapsFTCiWYKWwsCaqftGxg0CqWZX2dc/azBwFGwaWZ95Hf73f+hwf/GwxO7DnP82hOser4zPyWTeTwt9sN1zAMoYJSwESGnhrm8Xis6+puhkSIgnnktm3jAOWisvmSQMGxoShb5EXBRI6c7fuMiW/pfZEI/AaAZEzDPokhXwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;어디까지내려가는거에요&quot;
        title=&quot;&quot;
        src=&quot;/static/1930acb1cee30895c5b7339f5ef3c9a6/1d79a/image-5.png&quot;
        srcset=&quot;/static/1930acb1cee30895c5b7339f5ef3c9a6/c26ae/image-5.png 158w,
/static/1930acb1cee30895c5b7339f5ef3c9a6/1d79a/image-5.png 185w&quot;
        sizes=&quot;(max-width: 185px) 100vw, 185px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;시작해봅시다&lt;/p&gt;
&lt;h1 id=&quot;스크롤-정보와-스크롤-이벤트-얻어오기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%A4%ED%81%AC%EB%A1%A4-%EC%A0%95%EB%B3%B4%EC%99%80-%EC%8A%A4%ED%81%AC%EB%A1%A4-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%96%BB%EC%96%B4%EC%98%A4%EA%B8%B0&quot; aria-label=&quot;스크롤 정보와 스크롤 이벤트 얻어오기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;스크롤 정보와 스크롤 이벤트 얻어오기&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1cc1257b5579aabb3ab22a8629868b4c/525d3/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 110.12658227848102%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAADyklEQVR42nVQa2/aVhj2z5smTdqXad00rVKnfe2X/YVqnyrtliXQppVGloRmoW0uBhsM5mJjLsYNJWCMjW0wSwjgC8YXwqXZS7JVVZO9es6j97znPO95zossFgtd11VV7ff7pmmenZ2NRqPhcAh8cXFxfn5uGIbrusvl8t2tQMbjMUEQkUiEJMmTk5NwOIyiaKlUqlarxWKRpularSaK4t3i2WwGD0ILy7Icx/E8z72O6XQK7Ps+yObz+bu7AoEDUMI927aBZ7O5769k0AXqwB/eXv4X/4phwa80TbvpoiiKNRqCHahfXV199BTUwQu0hgHBsBBYN3MCn/B4T9NMfXh5Ob3T540Y7AwGg5X4/X/mq1hAAtX5/wf8a3Xv+s5K7LoOTGm5WFxdG4V1jdvxYX31fwRsVGuNWr051E33cj7xpo4PuLwN9xrvt4vFEtFt71lceoKJwZiwgTY3UGEd+JgPoM0AKgSjQjDWgtNNHCBt4m3gYEx8EmtdGA4yGntBTFxHAa11VFg75NejUgDv/A7bqLARFQMYtG4/xeXNhLoZV5/iShBTgjGpD2Jj4v+ZUkNJNUTIIUJ9FuPvPXj45f3vt9PqH0l1K6mESGU73dlJd3ezK4Qz2k5a2ya7A8tFrIm/l5PDWXk3I++k2zuZTuT44KdHX//w6NdIsR/OSHu59j6lRGj1ZV59xXQAkO9TKlhGxq5/wMiv6BX2cxJaaPu+LrcLn39xL4RVj0rd14xyUOxAgpY1lNWAj8raYVE1bBB70xjbjZY6gANGYRo937PPzntfffvd4+evU/UBWlYxVsNZLVHpEVwvzv2NVXqximZOPMR2/TgjYXkRZ1pRqpXnGqPRGS/UP/n0sx9/CVG1Ac60iZKaqnTTnEZynRSnERWNKHfMiYtMHC/FNAAEXTsiKjTDDAc9vlX/5v6Dx79tpZgWmuLwXI3INxJUnaCB+QTNY9lTYzxZiclCgyzwwHj2bTyV7/c1SRGfb73YO8ymGD5B1RL0aTJfJ6g6njnF0rVEtn6crOqmjTiOny0K6UIzVxYpVkoXBL7J56h4Ip3PlFqZYjNTbFGsmK+0C29kutJmODlTEMh8cwy2Xc8vV5XyicJWVfatwp12Iy+P1tZ+JnPlPCvRrMRUZEiOkicvUDaCc1sHxcBOLrCbHegWAg2wbI3M81SpRZel4hs5W4BEhpxmxRQjgKMCJ2dLLZIRyAJ4hCnU/4qWdctGLmcz7VzvD62RMekPxoORPdQhsSA3LKc/hMoYjsyxY1ru0LB1Y2KNXd2czGazfwBmXGp8vHeuMgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;어디지&quot;
        title=&quot;&quot;
        src=&quot;/static/1cc1257b5579aabb3ab22a8629868b4c/f058b/image-4.png&quot;
        srcset=&quot;/static/1cc1257b5579aabb3ab22a8629868b4c/c26ae/image-4.png 158w,
/static/1cc1257b5579aabb3ab22a8629868b4c/6bdcf/image-4.png 315w,
/static/1cc1257b5579aabb3ab22a8629868b4c/f058b/image-4.png 630w,
/static/1cc1257b5579aabb3ab22a8629868b4c/40601/image-4.png 945w,
/static/1cc1257b5579aabb3ab22a8629868b4c/525d3/image-4.png 1090w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;먼저, 스크롤이 어디 쯤 있고, 전체 스크롤 높이는 어느 정도인지 알아야겠죠?&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;document&lt;/code&gt;, 또는 &lt;code class=&quot;language-text&quot;&gt;window&lt;/code&gt;객체에서 정보를 가져오면 될 것 같습니다.&lt;br&gt;
저는 &lt;code class=&quot;language-text&quot;&gt;document&lt;/code&gt;썼습니다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;document.documentElement.scrollTop&lt;/code&gt;으로 현재 스크롤이 위치한 높이를 알 수 있습니다.&lt;br&gt;
근데 스크롤은 두께가 있죠? 전체 문서에서 현재 위치한 화면의 가장 위쪽이냐, 가장 밑이냐, 등등..&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;scrollTop&lt;/code&gt;은 현재 위치한 스크롤의 가장 위쪽 좌표값을 줍니다.&lt;/p&gt;
&lt;p&gt;이제 전체 스크롤 높이를 알고자 한다면, &lt;code class=&quot;language-text&quot;&gt;document.documentElement.scrollHeight&lt;/code&gt;를 가져오면 됩니다.&lt;br&gt;
그런데 주의할 점은, 이 전체 &lt;code class=&quot;language-text&quot;&gt;scrollHeight&lt;/code&gt;에서 클라이언트 화면(유저가 보고 있는)의 높이인&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;documentElement.clientHeight&lt;/code&gt;를 빼줘야 합니다.&lt;br&gt;
우리가 방금 &lt;code class=&quot;language-text&quot;&gt;scrollTop&lt;/code&gt;, 즉 스크롤 중에서도 위쪽 좌표를 기준으로 하기로 했죠?&lt;br&gt;
따라서 &lt;code class=&quot;language-text&quot;&gt;documentElement.scrollHeight - documentElement.clientHeight&lt;/code&gt;값을 전체 스크롤 높이로 써야&lt;br&gt;
가장 하단까지 갔을 때 진행률이 100%가 될 수 있습니다.&lt;/p&gt;
&lt;p&gt;이 세 가지 정보를 하나씩 &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;로 찍어보면&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 333px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9a755055e2ff0862734d7dc4303752cb/24c7e/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 128.48101265822785%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEGUlEQVR42pVV13IbRxDE//+PX/xoy7ZoMNgkZVDIuJzjXg6tngUJQa4iy96qwS429PTEW5RlCS/M4QQZ/DhHrnrEWYMgUfCiguta7wVJxXsForSG5cVcZ7C9RL8tqgFJ3vBMYbFavWB3MvFlvcXL5oi0aOETzAlSSq4fpEUDmwpFaUgFm+0Jfz+t8Pi8xmZvomxGKs9h2CEWN39+xnEXITAmAhWanU82Ltn5Sc2LJWJqd8MStk8ruP8l4D2yKusRubArOm1FP8xY3N4vYW4j+LsWJ8tBQtpJRvPI0PVThOKGoiYQ3UITA5q6DlOkVQdVdyj13GuZZgIul0tkWQYZMzdkTPNZhkn2KPi+fptl8/X6ZZahAZM0I90RRVGiqhsUpcIwzmj7ESXXsleqmuuKbJU+b9pOg1dVDSWiKtRNewZMCVjXNQzDgOPYsG0LAxXUBLIsC2EYwvM87tsXERJihe/7+szzfG3p4vZ2iYMZwQoYgKSDGbSwwg5Hn5GNWgTZAD8d4KW9Fl/+U7ykhxt3PGNKZSPfVDB8dQb8ug/wvA2wMhR++Ufh54cMPy1T3HwtsXdr7JwKO1tRSafXW653dqVlaykc3AYPKxu3z4YA3sJ2QyZpDCtq8LRLsOMFIxqw91pETKNcdSjqAYZFs8oeVTtTph+k7kQY5bu7O7iui0+ffqUvU/z1cKeD0/cDbMtAksRcMzWqBn/8/hvSvHyN51Vor4ZmGEURo1Wh6zq0lH4YMI7jq0yYpkmvJa0GnrVtq+e+7y935f00zWfAIAgQx7GOpjwSAJnnWeZR/38DlYeHwwGn00lH1zRNLSExJNVe0ybl5bPmTrSqAn0oNTrASQbNfCSgzINmNGnziqKgS5KLuUJCMxTALM9wPB5hOi6qwMSwuYGb9bjdj1TU6JyTOcsSRCHZDD0O+x3umCXXVba4ufmMOEn1H/FfXbfI0oIdpqSSgmYMGqxsJrJl7jEn82piQxiZf71uDrokRyCMEiyElfhFhuc62KzXOO4PSOOQvvVpZq8jmqkBT8cKK7PSyb9zGi1hMVwYih8XSintFxklfWLQwTlr9dqMef6xAVyP+cp/grXI81yHX4aqWPgs/pTUHc9l9BwcjgaLns2hnrC2WTUeWdFUO+p0aSblmYykjARpIT9vDBU/Bw4bw9PjI0yLDYCp5LH4JQDSTKWCTn4Ll760CGjQ9ER9ACipIf5Ms0K3ou/p8N9MvgC+mZyyzBy2poCsJHm3mz1WL2t2Y7pBTbjflXg+MSjsRjv7HBSJ9LsMe6ZNHIVYbzZo6LdWfEdHs2bQ9Ixi3hN40BEX36VqRNNNF4byBb0ATlrLhIFspdm+Z+J7QwClahaCKoD8UuIjjPkDwSuZ+/t7LKSdS43+W9v/HfJGmsQ32UjG/fsQVxsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;스크롤 정보 로그&quot;
        title=&quot;&quot;
        src=&quot;/static/9a755055e2ff0862734d7dc4303752cb/24c7e/image-1.png&quot;
        srcset=&quot;/static/9a755055e2ff0862734d7dc4303752cb/c26ae/image-1.png 158w,
/static/9a755055e2ff0862734d7dc4303752cb/6bdcf/image-1.png 315w,
/static/9a755055e2ff0862734d7dc4303752cb/24c7e/image-1.png 333w&quot;
        sizes=&quot;(max-width: 333px) 100vw, 333px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;대충 이런 식입니다&lt;/p&gt;
&lt;p&gt;이제 스크롤 정보 가져오는 것은 알았으니, 이벤트리스너를 등록해봅시다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;document.addEventListener(&quot;scroll&quot;, scrollEventHandlerFunction)&lt;/code&gt;과 같이 해줍니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;scroll&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; currentScroll&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollTop
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; totalScroll&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollHeight &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientHeight
  &lt;span class=&quot;token function&quot;&gt;setScrollPercent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;currentScroll &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; totalScroll&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대충 이런 식의 코드를.. 상단 고정 레이아웃 컴포넌트에서 추가해줬습니다.&lt;/p&gt;
&lt;h1 id=&quot;progress-bar-컴포넌트-생성하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#progress-bar-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;progress bar 컴포넌트 생성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;progress-bar 컴포넌트 생성하기&lt;/h1&gt;
&lt;p&gt;이미 상단에 고정된 레이아웃인 &lt;code class=&quot;language-text&quot;&gt;top-ui&lt;/code&gt; 컴포넌트가 있으므로,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;progress-bar&quot;&lt;/span&gt; style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;scrollPercent&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;밑에 적당히 이런 친구를 추가해줍시다.&lt;br&gt;
css 클래스인 &lt;code class=&quot;language-text&quot;&gt;.progress-bar&lt;/code&gt;는 적당히 원하는대로 작성해줍시다.&lt;br&gt;
width는 변수인 &lt;code class=&quot;language-text&quot;&gt;scrollPercent&lt;/code&gt;를 쓰고싶으니까, 리액트 컴포넌트에서 직접 줍니다.&lt;/p&gt;
&lt;h1 id=&quot;failed-to-server-renderssr이라는-에러가-떴어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#failed-to-server-renderssr%EC%9D%B4%EB%9D%BC%EB%8A%94-%EC%97%90%EB%9F%AC%EA%B0%80-%EB%96%B4%EC%96%B4%EC%9A%94&quot; aria-label=&quot;failed to server renderssr이라는 에러가 떴어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Failed to server render(SSR)이라는 에러가 떴어요&lt;/h1&gt;
&lt;p&gt;그대로 진행해보면..
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c313c34e4de767724e95988a1673e56f/432e7/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 110.12658227848102%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAADB0lEQVR42o1SWU8TURSeX6M+QiyExVIQ0GiQBzQxMcIDKRQoZZFFxKgRwhbwRU1oK5TSQhWCEOTVpBJ81YQ04QkDpHSdrcu0nS4z+N0OYFMkenpy55zvnu9st5RebWwrNbZDy0xEy2EYO8pN0CxC8LYSgujV5jyldEXmnkrrk2pbb9Vit2bBoLZ0V1oNNyzQ3ptArL1V1qE6h750XltgbCk05SrVVmzuq7G9aPg0eMfeV2vrv2V/Vufor7U9vbs0XO8YvucYuG1/Xv+xS7PQUmhsvW7KVUJ+9WBl9NHaeOP6TMvmVPPGeNPGTOvWWOP6VPPmG93WtPbLy/sr2oLZPGaWXGTuLJvvLLMYyi09GjS80KW2oHmAZIoKS0fJXGf5/EXmaeXph86lAdeH9h9z+p/Lg66Jhq/awlmdykwiVCadipwIu6hU07X3hmL7UM1aX8XqgGZ1qPqzXmV7fOVt49V3/1TKMbljH/tmfe1cHHUujjitI0772PbyxI6ijsnv53ae2ie2KVmWT04UzZVTN3ubg54J7CAToDIZyeP1e71+luFwejw+t9sbCDIsx7vdHmgwyPh8gUCAdh97s6eH50Mg7+//oiRZghMI0l6fH8pynN8f8AeCQZqBy7AsXBbCIbUPiCiKSheHh4eUJEkcH6JpBgSaYTiOR3GGBPMEAcRyNMN6vD6GZj0eL3CkAOvo6IiQcUfKZhMjGHHHmATFgzQaVlIIsVg8noiRMw4+piaVZVkCAj8UCoXDEUGIRaJRDAIbeCgcAQxG3trO2palvJVeJudhaPbPzHt7ey6Xa3d3NxKJ5L5H7sP8vTIsLBCTJBKJTCYj/4colQ8ODijFSafTqTNJZiV1ueAWZOyIkMHEGnmeR3HY0WgUjZxnURLlGmJSBAsfMjO6TYgiOOgffEEQlF6Ap3MEbipNfhBURiS2LWdSKYEP4a0IWRTRD8dxyEXTNIzsE4axS9iRaIQXeC7KJdNJBJN3RqZkIoGNwYchgCcI6Dz7FZQ/huKSvnAfj2akjJgQfwNPRP/OCmEFIAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Failed to server render(SSR)&quot;
        title=&quot;&quot;
        src=&quot;/static/c313c34e4de767724e95988a1673e56f/432e7/image-2.png&quot;
        srcset=&quot;/static/c313c34e4de767724e95988a1673e56f/c26ae/image-2.png 158w,
/static/c313c34e4de767724e95988a1673e56f/6bdcf/image-2.png 315w,
/static/c313c34e4de767724e95988a1673e56f/432e7/image-2.png 570w&quot;
        sizes=&quot;(max-width: 570px) 100vw, 570px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br&gt;
이런 에러가 납니다&lt;br&gt;
게다가 &lt;code class=&quot;language-text&quot;&gt;gatsby-config&lt;/code&gt;에서 &lt;code class=&quot;language-text&quot;&gt;flags: {DEV_SSR: true}&lt;/code&gt;를 추가하여 서버 사이드 빌드 에러를 활성화하지 않았다면&lt;br&gt;
그냥 &lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;환경에서는 모르고 개발했다가 빌드할 때가 되어서야 에러를 알게 됩니다&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/debugging-html-builds/&quot;&gt;Debugging HTML Builds&lt;/a&gt;에서 관련 내용을 확인할 수 있는데요&lt;br&gt;
Gatsby는 기본적으로 페이지들을 정적 HTML파일로 빌드하고 서버사이드에서 렌더링해주기 때문에&lt;br&gt;
브라우저 레퍼런스인 &lt;code class=&quot;language-text&quot;&gt;window&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;document&lt;/code&gt;객체에 접근하려고 해도 해당 객체가 없습니다..&lt;/p&gt;
&lt;p&gt;그래서 이걸 해결하기 위해 찾아보다가 &lt;a href=&quot;https://stackoverflow.com/questions/62816197/how-to-implement-document-getelementbyid-in-gatsbyreact&quot;&gt;스택오버플로우&lt;/a&gt;에서 관련 글을 찾았는데&lt;br&gt;
코드를 React Lifecycle에 포함시키기 위해 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;로 감싸면 간단히 해결된다고 하네요&lt;/p&gt;
&lt;p&gt;그래서 결국 이렇게 됩니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;scrollPercent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setScrollPercent&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;scroll&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; currentScroll&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollTop
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; totalScroll&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
      document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollHeight &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
      document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientHeight
    &lt;span class=&quot;token function&quot;&gt;setScrollPercent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;currentScroll &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; totalScroll&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;br/&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6d78ecfb851f422642e3f5a1b326c5f5/b97f6/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.87341772151899%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABWElEQVR42m1R22rCQBDN//+ATxW/QHzxQQRf1IegVAuBUvqgNpg0l91c3Fyb5HRnghJpBw5nZ3aYOXvWiMMrvk6f2O0O2O9fcblcEMcxoih6gpTyT20Iz/PgOA4MId9gX3c4vG9hfZgIwgBVVaEsS0ae5yiKgmvEVBue7z20MAxDGPVPhaatkRcKSfqshpRmWYY0TeH7PudCCFZDNcppCC2goF6DDq7jYrPZYvwyxnQ6xWKxwGw2w3K5hGVZOB6PGI1GWK1WWK/XmEwmME2T8/l8zgIoSAQPtG2bG87nE190XYe2bZmHGN5RDHtYmOvCoESpDLebYsllWekn1KjruvdSI2cP+1rBvpGHPd+XPAa2OsnzG6RwtB+eli8g9M8HQaBBfhGH8DWiiDwTCIWEyvrP6gcyIUkSPVDLLstCD/pGJK+aA212xGratkPTNPw04ubOGv+FUgq/4MBc1Gr/IZEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;결과&quot;
        title=&quot;&quot;
        src=&quot;/static/6d78ecfb851f422642e3f5a1b326c5f5/f058b/image-3.png&quot;
        srcset=&quot;/static/6d78ecfb851f422642e3f5a1b326c5f5/c26ae/image-3.png 158w,
/static/6d78ecfb851f422642e3f5a1b326c5f5/6bdcf/image-3.png 315w,
/static/6d78ecfb851f422642e3f5a1b326c5f5/f058b/image-3.png 630w,
/static/6d78ecfb851f422642e3f5a1b326c5f5/40601/image-3.png 945w,
/static/6d78ecfb851f422642e3f5a1b326c5f5/b97f6/image-3.png 958w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;짜잔 이렇게 태그 색깔과 좀 비슷하게 연두색으로 progress bar를 넣어봤습니다&lt;/p&gt;
&lt;p&gt;별 것도 아닌데 이렇게나 떠들었네요&lt;br&gt;
마치 제 자소서같습니다.&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🤙 자바스크립트의 비동기 작업과 Promise]]></title><description><![CDATA[…]]></description><link>https://sungpaks.github.io/javascript-promise/</link><guid isPermaLink="false">https://sungpaks.github.io/javascript-promise/</guid><pubDate>Sun, 10 Mar 2024 20:12:10 GMT</pubDate><content:encoded>&lt;p&gt;저번 시간에는&lt;br&gt;
비동기 작업이 끝나는 타이밍을 외부에서는 알 방법이 마땅치 않기 때문에,&lt;br&gt;
콜백 함수, 즉 &quot;그거 끝나면 할 일&quot;를 넘겨주는 일련의 과정을 살펴봤었죠?&lt;/p&gt;
&lt;p&gt;그런데 비동기 작업이 진행 중이거나, 완료되었다거나, 등의 상태를 알 수 있다면 해결되는 문제 아닐까요?&lt;br&gt;
그래서 자바스크립트에서 지원하게 된 것이&lt;br&gt;
&lt;strong&gt;작업의 상태를 나타내는 객체&lt;/strong&gt;인 &lt;strong&gt;Promise&lt;/strong&gt;입니다&lt;/p&gt;
&lt;h1 id=&quot;promise란&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#promise%EB%9E%80&quot; aria-label=&quot;promise란 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Promise란&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;Promise 객체는 비동기 작업이 맞이할 미래의 완료 또는 실패와 그 결과 값을 나타냅니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Promise 객체의 상태는 아래와 같이 세 가지로 나뉩니다 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pending : 작업이 진행중..&lt;/li&gt;
&lt;li&gt;fulfilled : 작업이 성공적으로 완료됨&lt;/li&gt;
&lt;li&gt;rejected : 작업 중 오류 발생&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&quot;https://i.imgur.com/4nXQXJY.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;60%&quot;&gt;
&lt;p&gt;Promise 대충 아래와 같이, 생성자에 &lt;code class=&quot;language-text&quot;&gt;executor&lt;/code&gt;(실행자)를 전달하여 만듭니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; myPromise &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* 성공적 */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;good!!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* 예외 */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;bad..&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;실행함수인 &lt;code class=&quot;language-text&quot;&gt;executor&lt;/code&gt;에는 &lt;code class=&quot;language-text&quot;&gt;resolve&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;reject&lt;/code&gt;를 인수로 넘겨야 하는데, 이는 JavaScript에서 제공하는 콜백함수입니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;resolve(value) : 작업이 성공적으로 완료된 경우, 그 결과인 &lt;code class=&quot;language-text&quot;&gt;value&lt;/code&gt;와 함께 호출합니다.&lt;/li&gt;
&lt;li&gt;reject(error) : 작업 도중 에러 발생 시, 에러 객체인 &lt;code class=&quot;language-text&quot;&gt;error&lt;/code&gt;와 함께 호출합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;개발자는 Promise 내에 일련의 작업들을 작성하고, 성공/실패 여부에 따라 &lt;code class=&quot;language-text&quot;&gt;resolve/reject&lt;/code&gt;를 호출하기만 하면 됩니다.&lt;/p&gt;
&lt;h1 id=&quot;promise-활용&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#promise-%ED%99%9C%EC%9A%A9&quot; aria-label=&quot;promise 활용 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Promise 활용&lt;/h1&gt;
&lt;p&gt;이제 사용을 해봅시다&lt;br&gt;
작업이 성공적으로 완료된 경우 &lt;code class=&quot;language-text&quot;&gt;then&lt;/code&gt;블록으로 넘어가며,&lt;br&gt;
오류가 발생한 경우 &lt;code class=&quot;language-text&quot;&gt;catch&lt;/code&gt;블록으로 넘어갑니다. &lt;br&gt;
마치 try-catch 구문 같네요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;myPromise
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//비동기작업 뒤에 와야 할 작업&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//오류 시 작업&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;아까 Promise 생성자의 &lt;code class=&quot;language-text&quot;&gt;executor&lt;/code&gt;에서,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;resolve&lt;/code&gt;에서는 인자로 &lt;code class=&quot;language-text&quot;&gt;value&lt;/code&gt;를,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;reject&lt;/code&gt;에서는 인자로 &lt;code class=&quot;language-text&quot;&gt;error&lt;/code&gt;를 넘겼었죠?&lt;br&gt;
이 각각을 위와 같이 &lt;code class=&quot;language-text&quot;&gt;then&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;catch&lt;/code&gt;블록의 첫 번째 인자로 받을 수 있습니다&lt;/p&gt;
&lt;p&gt;다음과 같이 인자로 &lt;code class=&quot;language-text&quot;&gt;time&lt;/code&gt;을 전달하고, &lt;code class=&quot;language-text&quot;&gt;time&lt;/code&gt;만큼 기다린 후 &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;를 찍는 비동기 처리 과정 예제를 살펴보겠습니다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;waitFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isNaN&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; time &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;양수를 넣어주세요 ㅜㅜㅜ&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;time&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ms 기다렸습니다.&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;time&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ms 기다리기 성공!!!&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;waitFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;waitFunction이 반환하는 Promise 객체는,&lt;br&gt;
유효하지 않은 값이라면 &lt;code class=&quot;language-text&quot;&gt;reject&lt;/code&gt;를 호출하기 때문에 &lt;code class=&quot;language-text&quot;&gt;catch&lt;/code&gt;블록으로,&lt;br&gt;
성공적으로 실행한 후에는 &lt;code class=&quot;language-text&quot;&gt;then&lt;/code&gt;블록으로 향합니다.&lt;/p&gt;
&lt;p&gt;이 때, &lt;code class=&quot;language-text&quot;&gt;then()&lt;/code&gt;에서는 새로운 &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt; 객체가 반환되므로, 연쇄으로 체이닝을 적용할 수 있습니다.&lt;br&gt;
또한 try-catch블럭에서 으레 하듯이, 성공/실패 여부에 관계없이 마지막에 무조건 실행할 작업이 있는 경우 &lt;code class=&quot;language-text&quot;&gt;finally&lt;/code&gt;블록을 사용할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* !!! */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;finally&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ~~~ */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 &lt;code class=&quot;language-text&quot;&gt;then()&lt;/code&gt;에서 새로운 &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;객체가 반환됨을 이용한 체이닝은 비동기 작업 시 후속 작업들을 줄세우기 용이하게 해줍니다.&lt;/p&gt;
&lt;p&gt;그런데 이것도 좀 100% 만족스럽지는 않아보이네요..&lt;br&gt;
어디에서 에러가 발생하여 &lt;code class=&quot;language-text&quot;&gt;catch&lt;/code&gt;문으로 넘어왔는지 알아채기 힘들다거나,&lt;br&gt;
scope가 각각 다르기 때문에 어떤 값을 공유하기도 애매할 수 있을 것 같고요&lt;/p&gt;
&lt;p&gt;물론 &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;도 좋지만.. 이러한 이유로 이후에 새로운게 생겨났습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;async/await&lt;/code&gt;인데요&lt;br&gt;
다음에 알아보겠습니다&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[⏯️ 자바스크립트의 비동기 작업과 콜백함수]]></title><description><![CDATA[…]]></description><link>https://sungpaks.github.io/asynchronous-and-callback/</link><guid isPermaLink="false">https://sungpaks.github.io/asynchronous-and-callback/</guid><pubDate>Sun, 03 Mar 2024 21:56:13 GMT</pubDate><content:encoded>&lt;p&gt;자바스크립트 하다보면 항상 등장하는 것이 비동기니 뭐니 하는 개념인데요&lt;/p&gt;
&lt;p&gt;자바스크립트만의 특성때문에 생기는 자바스크립트 특유의 비동기 프로그래밍을 한번 들여다보고자 합니다&lt;/p&gt;
&lt;h1 id=&quot;비동기와-동기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B9%84%EB%8F%99%EA%B8%B0%EC%99%80-%EB%8F%99%EA%B8%B0&quot; aria-label=&quot;비동기와 동기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;비동기와 동기&lt;/h1&gt;
&lt;p&gt;비동기적이라는 말은 무엇이고, 동기적이라는 말은 무엇일까요?&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/hvUyA1o.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
출처 https://learnjs.vlpt.us/async/
&lt;blockquote&gt;
&lt;p&gt;비동기 프로그래밍은 작업이 완료될 때까지 기다리지 않고 잠재적으로 오래 실행되는 작업을 시작하여 해당 작업이 실행되는 동안에도 다른 이벤트에 응답할 수 있게 하는 기술입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이 &quot;동기&quot;를 &quot;대기&quot;로 바꿔서 보면 이해하기 편한데요&lt;br&gt;
작업들이 동기적이라는 것은 다음 작업이 시작하려면 이전 작업이 끝나기를 대기한다는 의미입니다&lt;br&gt;
반대로 비동기적이라는 것은 이전 작업이 끝나든 말든 대기하지 않고 시작한다는 의미겠죠?&lt;/p&gt;
&lt;p&gt;브라우저에서 제공하는 웹 API들은 시간이 오래걸릴 수 있으므로 비동기적입니다. 예를 들면..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fetch()&lt;/code&gt;를 이용한 HTTP요청 전송&lt;/li&gt;
&lt;li&gt;DOM (document) 메서드&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;setTimeout()&lt;/code&gt;으로 작업 스케줄링하기&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;showOpenFilePicker()&lt;/code&gt;를 이용해 사용자에게 파일 선택 요청하기&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;작업들을 비동기적으로 처리하는 것은 물론 효율적이지만&lt;br&gt;
그 이점을 제대로 누리려면 비동기 지뢰들을 잘 피할 수 있도록 신경써야합니다..&lt;br&gt;
이에 대해 아래에서 자세히 알아보도록 하겠습니다&lt;/p&gt;
&lt;h1 id=&quot;비동기처리와-콜백함수&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B9%84%EB%8F%99%EA%B8%B0%EC%B2%98%EB%A6%AC%EC%99%80-%EC%BD%9C%EB%B0%B1%ED%95%A8%EC%88%98&quot; aria-label=&quot;비동기처리와 콜백함수 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;비동기처리와 콜백함수&lt;/h1&gt;
&lt;p&gt;간단한 예시로, src를 읽어오는 &lt;code class=&quot;language-text&quot;&gt;loadScript&lt;/code&gt;함수를 다음과 같이 작성했다고 생각해봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; script &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  script&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; src
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;head&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;script&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;script.js&lt;/em&gt;에 작성된 함수인 newFuctnion()을 가져다 쓰려고 &lt;code class=&quot;language-text&quot;&gt;loadScript&lt;/code&gt; 메서드를 다음과 같이 쓰는 것을 생각해 볼 수 있는데&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;script.js&apos;를 로드해서&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;newFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;script.js&apos;내에 정의된 newFunction을 호출해야지!!&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;주의할 점은, 스크립트가 실행되는 것은 비동기적이기 때문에,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;newFunction()&lt;/code&gt;의 실행 타이밍이 &lt;code class=&quot;language-text&quot;&gt;loadScript()&lt;/code&gt;가 끝난 타이밍임이 보장되지 않는다는 것입니다..&lt;br&gt;
따라서 이게 &lt;code class=&quot;language-text&quot;&gt;loadScript()&lt;/code&gt;가 완료되었는지, 아직인지, 알 수가 없습니다..&lt;/p&gt;
&lt;p&gt;그래서 이를 해결하기 위해 간단히 콜백함수를 이용해볼 수 있습니다.
먼저 &lt;code class=&quot;language-text&quot;&gt;loadScript()&lt;/code&gt;의 인자에, 나중에 호출할 함수, 즉 &lt;code class=&quot;language-text&quot;&gt;callback&lt;/code&gt;함수를 추가합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;src&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; script &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;script&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
script&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; src&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

script&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;onload&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;script&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//추가 : script가 로드된 이후의 타이밍을 노림&lt;/span&gt;

document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;head&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;script&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 콜백함수로 newFunction을 실행하도록 넘기려면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;newFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 됩니다.&lt;br&gt;
그러니까 콜백함수는, &quot;비동기 작업 끝나면 실행할 동작들을 함수로 묶어서 가져다 주는 것&quot; 정도가 되겠네요..&lt;/p&gt;
&lt;p&gt;여담이지만 이렇게 자바스크립트에서 함수를 인자로 넘기는 것은&lt;br&gt;
자바스크립트에서는 함수가 &lt;em&gt;일급 객체&lt;/em&gt;로 취급받기 때문인데&lt;br&gt;
&lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%9D%BC%EA%B8%89_%EA%B0%9D%EC%B2%B4&quot;&gt;위키피디아 : 일급 객체&lt;/a&gt;를 살펴보면 일급 객체는 딱히 대단한 의미는 아니고&lt;br&gt;
그냥 이리보고 저리봐도 보통의 객체처럼 다루어질 수 있다면 일급객체라고 합니다&lt;br&gt;
저도 이 글 준비하면서 새로 알게 된 개념인데 한번 읽어보면 꽤나 흥미롭습니다&lt;/p&gt;
&lt;p&gt;아무튼.. 위에서 살펴본 예시와 비슷하게 실제 코드를 작성해서 한번 테스트해보고 싶은데요&lt;br&gt;
범용적인 JavaScript 라이브러리인 lodash.js 스크립트를 가져다가 좀 해보겠습니다&lt;/p&gt;
&lt;p&gt;똑같은 동작을 콜백함수로도 넘겨보고, 그냥 &lt;code class=&quot;language-text&quot;&gt;loadScript&lt;/code&gt;밑에서 실행도 해보면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token doctype&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&quot;token doctype-tag&quot;&gt;DOCTYPE&lt;/span&gt; &lt;span class=&quot;token name&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;use strict&quot;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;src&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; script &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    script&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; src

    script&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onload&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;head&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;script&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.2.0/lodash.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;결과 :
&lt;img src=&quot;https://i.imgur.com/2079HQ6.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;loadScript&lt;/code&gt; 아래의 &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;loadScript&lt;/code&gt; 동작이 끝나든 말든 일단 실행되고,&lt;br&gt;
아직 로드가 끝나지 않았기 때문에 정의되지 않았다고 출력됩니다..&lt;br&gt;
그러나 콜백함수로 넘긴 경우 로드가 끝난 이후 &lt;strong&gt;나중에 호출(callback)&lt;/strong&gt; 했으므로, 출력이 되는 것을 확인할 수 있습니다.&lt;/p&gt;
&lt;h1 id=&quot;콜백의-콜백의-콜백의-콜백의&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%9C%EB%B0%B1%EC%9D%98-%EC%BD%9C%EB%B0%B1%EC%9D%98-%EC%BD%9C%EB%B0%B1%EC%9D%98-%EC%BD%9C%EB%B0%B1%EC%9D%98&quot; aria-label=&quot;콜백의 콜백의 콜백의 콜백의 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;콜백의 콜백의 콜백의 콜백의..&lt;/h1&gt;
&lt;p&gt;그런데 만약.. 스크립트를 여러 개 불러오고, 각 스크립트들은 이전 스크립트 로드가 끝난 후 로드를 시작하고 싶다면 어떡하죠? 아래와 같이 하면 될까요?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;script1.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;script2.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;script3.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;//악! 콜백콜백콜백해병님!&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;게다가 여기에서 에러를 처리하기 위해 오류 우선 콜백을 적용한다면?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;여기서 잠깐, 오류 우선 콜백 :
&lt;ul&gt;
&lt;li&gt;callback의 첫 번째 인자는 에러가 차지하도록 하고, 에러가 발생하면 &lt;code class=&quot;language-text&quot;&gt;callback(err)&lt;/code&gt;와 같이 호출&lt;/li&gt;
&lt;li&gt;두 번째(또는 그 뒤의) 인자는 에러가 발생하지 않았을 때를 위한 인자들.. &lt;code class=&quot;language-text&quot;&gt;callback(null, result1, result2, ...)&lt;/code&gt;와 같이 쓴다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;loadScript&lt;/code&gt;를 오류 우선 콜백으로 만들고, 아래와 같이 사용한다고 해봅시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 에러 처리&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//로딩 성공적&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그럼 이제 더 끔찍해집니다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script1.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 에러 처리&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script2.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;//에러 처리&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script3.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;//에러 처리&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;// 악! 오류우선오류우선오류우선콜백콜백콜백 해병님!&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;피라미드는 사람이 만들었음을 몸소 증명해버렸습니다..&lt;br&gt;
게다가 예시에서는 피라미드가 단 3층이지만&lt;br&gt;
필요에 따라서는 4층 5층 ... 잠실타워까지 닿을지도 모릅니다&lt;/p&gt;
&lt;p&gt;이런 형태의 코드는 그 흐름을 파악하기도, 디버깅하기도 매우 힘들어보입니다.&lt;br&gt;
이런 사태를 피하려면 어떻게 할까요?&lt;br&gt;
앗! 좋은 생각이 난 것 같습니다. 이렇게 해보면 안될까요?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script1.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; step1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;step1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 에러 처리&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script2.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; step2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;step2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 에러 처리&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script3.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; step3&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;step3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 에러 처리&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//모든 스크립트 로딩 끝!!&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;흠.. 근데 이러면 코드를 갈갈이 찢어놓은 셈이 되어버려서, 가독성도 갈갈이 찢겨져버립니다..&lt;br&gt;
또한 해당 step함수들은 그저 loadScript에 종속된, 재사용 불가한 매립쓰레기가 되어버립니다.&lt;/p&gt;
&lt;p&gt;그래서 이런 콜백지옥을 해결하기 위해 &lt;strong&gt;Promise&lt;/strong&gt;가 등장하는데&lt;br&gt;
앞서 문제를 일으켰던, &lt;strong&gt;비동기 작업이 끝났는지를 모른다&lt;/strong&gt;를 해결하며 등장한 방법입니다.&lt;br&gt;
비동기 작업이 &lt;strong&gt;끝난 상태인지&lt;/strong&gt; 확인할 방법이 있으면 되겠죠?&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
근데..&lt;br&gt;
다음 포스트에서 알아보도록 하겠습니다.&lt;br&gt;
최근 &quot;사람들은 글이 길면 읽지 않는다&quot;는 말을 봐버렸기 때문인데요..&lt;br&gt;
딱히 보는 사람도 없지만 그냥 끊어쓰겠습니다.&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🌩️ 코딩테스트 SQL문제 벼락치기!! (프로그래머스 SQL 고득점 kit 풀이)]]></title><description><![CDATA[소프트웨어 마에스트로 코딩테스트를 보게됐는데요 어라?? SQL 문항이 하나 있습니다?? 1년전에 데이터베이스 수업을 듣긴 했으나 전부 까먹어버렸습니다.. 그래서 급하게 벼락치기를 갈겼습니다!! 먼저 SQL문의 대략적인 생김새 오랜만에 SQL…]]></description><link>https://sungpaks.github.io/programmers-sql-solutions/</link><guid isPermaLink="false">https://sungpaks.github.io/programmers-sql-solutions/</guid><pubDate>Sun, 25 Feb 2024 10:16:00 GMT</pubDate><content:encoded>&lt;p&gt;소프트웨어 마에스트로 코딩테스트를 보게됐는데요&lt;br&gt;
어라?? SQL 문항이 하나 있습니다??&lt;br&gt;
1년전에 데이터베이스 수업을 듣긴 했으나&lt;br&gt;
전부 까먹어버렸습니다..&lt;br&gt;
그래서 급하게 벼락치기를 갈겼습니다!!&lt;/p&gt;
&lt;h2 id=&quot;먼저-sql문의-대략적인-생김새&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A8%BC%EC%A0%80-sql%EB%AC%B8%EC%9D%98-%EB%8C%80%EB%9E%B5%EC%A0%81%EC%9D%B8-%EC%83%9D%EA%B9%80%EC%83%88&quot; aria-label=&quot;먼저 sql문의 대략적인 생김새 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;먼저 SQL문의 대략적인 생김새&lt;/h2&gt;
&lt;p&gt;오랜만에 SQL문을 마주하니까 교수님께서 해주신 말이 새록새록합니다&lt;br&gt;
sql문은 대소문자를 구별하지 않는다.. 이건 윈도우 기준이네요&lt;br&gt;
또 뭐 있더라?아무튼&lt;/p&gt;
&lt;p&gt;SQL문에서 해야 할 일은 조회(SELECT)뿐입니다&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/acebaed0d515e5d8973c2aa445cbadda/98b29/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 38.60759493670886%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAkElEQVR42q3S0QrCIBTGcZ8lXK4WpNHcpkUUdJa1oKiuev/n+FKD2LV28bs4N3/UI9sOb2h6QrQnTJs+G9P0gjrcUfiB669CZwR5Tagah5V1kJagTI+lCVFKwoQ/zbp7QLZXcLX/mcg0bLG7QXQOvD7Gq0Y5b1j6WFjIWNZSqs2Amb1E88DPpTmnB//xVcbBD5Y8BjMUKzw3AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;프로그래머스 sql문제&quot;
        title=&quot;&quot;
        src=&quot;/static/acebaed0d515e5d8973c2aa445cbadda/f058b/image.png&quot;
        srcset=&quot;/static/acebaed0d515e5d8973c2aa445cbadda/c26ae/image.png 158w,
/static/acebaed0d515e5d8973c2aa445cbadda/6bdcf/image.png 315w,
/static/acebaed0d515e5d8973c2aa445cbadda/f058b/image.png 630w,
/static/acebaed0d515e5d8973c2aa445cbadda/98b29/image.png 937w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br&gt;
프로그래머스 SQL문제를 풀어보러 들어가보면 SELECT가 먼저 쓰여있는 것을 볼 수 있습니다&lt;/p&gt;
&lt;p&gt;그럼 SELECT로 할 수 있는게 뭐가 있는지 봅시다..&lt;br&gt;
&lt;a href=&quot;https://mariadb.com/kb/en/select/&quot;&gt;MariaDB 문서&lt;/a&gt;를 보면 select문 Syntax를 확인해볼 수 있는데&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;SELECT
    [ALL | DISTINCT | DISTINCTROW]
    [HIGH_PRIORITY]
    [STRAIGHT_JOIN]
    [SQL_SMALL_RESULT] [SQL_BIG_RESULT] [SQL_BUFFER_RESULT]
    [SQL_CACHE | SQL_NO_CACHE] [SQL_CALC_FOUND_ROWS]
    select_expr [, select_expr ...]
    [ FROM table_references
      [WHERE where_condition]
      [GROUP BY {col_name | expr | position} [ASC | DESC], ... [WITH ROLLUP]]
      [HAVING where_condition]
      [ORDER BY {col_name | expr | position} [ASC | DESC], ...]
      [LIMIT {[offset,] row_count | row_count OFFSET offset  [ROWS EXAMINED rows_limit] } |
        [OFFSET start { ROW | ROWS }]
        [FETCH { FIRST | NEXT } [ count ] { ROW | ROWS } { ONLY | WITH TIES }] ]
      procedure|[PROCEDURE procedure_name(argument_list)]
      [INTO OUTFILE &apos;file_name&apos; [CHARACTER SET charset_name] [export_options] |
        INTO DUMPFILE &apos;file_name&apos; | INTO var_name [, var_name] ]
      [FOR UPDATE lock_option | LOCK IN SHARE MODE lock_option]


export_options:
    [{FIELDS | COLUMNS}
        [TERMINATED BY &apos;string&apos;]
        [[OPTIONALLY] ENCLOSED BY &apos;char&apos;]
        [ESCAPED BY &apos;char&apos;]
    ]
    [LINES
        [STARTING BY &apos;string&apos;]
        [TERMINATED BY &apos;string&apos;]
    ]


lock_option:
    [WAIT n | NOWAIT | SKIP LOCKED]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;아휴.. 코테가 당장 코앞인데 언제 이걸 전부 공부하죠?&lt;br&gt;
그러니 많이 쓰이는 것들을 좀 정리해보면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;SELECT column1, column2, column3 as col3&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;먼저 SELECT 뒤에는 조회하고 싶은 컬럼들을 나열합니다.&lt;/li&gt;
&lt;li&gt;컬럼 이름을 따로 정하고 싶다면 &quot;컬럼이름 as 별명&quot;과 같이 작성합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;FROM table&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;이건 그냥 문제에서 주는 테이블 이름 씁니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;WHERE 조건...&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;조건에 맞는 애들만 조회하고 싶은 경우 씁니다(ex : age &gt;= 13)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;GROUP BY 컬럼명 HAVING 조건...&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;같은 값을 가진 행끼리 그룹짓습니다.&lt;/li&gt;
&lt;li&gt;이 때, HAVING절로 조건을 제한할 수 있습니다.&lt;/li&gt;
&lt;li&gt;WHERE와 HAVING이 다른 점은, HAVING은 집계함수(COUNT, SUM 등..)를 사용할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ORDER BY col1 ASC, col2 DESC&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;결과 정렬 기준을 정합니다.&lt;/li&gt;
&lt;li&gt;기본값은 ASC(오름차순)이며, 내림차순을 원할 경우 DESC를 명시합니다.&lt;/li&gt;
&lt;li&gt;기준에 차선, 그 다음 기준, ...을 원하면 위와 같이 기준을 나열합니다. (예시의 경우, col1을 기준으로 오름차순 정렬하며, col1값이 같은 행들은 col2를 기준으로 내림차순 정렬)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;일단.. 이거 말고도 JOIN이나 UNION, 서브쿼리같은 잡기술들이 좀 있는데요&lt;br&gt;
그건 실전에서 보면서 알아보도록 합시다&lt;/p&gt;
&lt;h2 id=&quot;내장함수들&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%82%B4%EC%9E%A5%ED%95%A8%EC%88%98%EB%93%A4&quot; aria-label=&quot;내장함수들 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;내장함수들&lt;/h2&gt;
&lt;p&gt;그리고 내장함수들을 쓸 경우가 꽤나 있습니다?&lt;br&gt;
특히 프로그래머스 문제들 중에&lt;br&gt;
**DATE_FORMAT()**을 써야하는 경우가 굉장히 많습니다&lt;br&gt;
DATE_FORMAT(날짜컬럼, &quot;%Y-%m-%d&quot;)는 꼭 알아두면 좋은데&lt;br&gt;
항상 프로그래머스 SQL문제들은 날짜를 &quot;YYYY-MM-DD&quot;로 해달라고 하거든요&lt;/p&gt;
&lt;p&gt;아무튼 그리고 또 다른것들 대충 주루룩 언급해보면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;문자열
&lt;ul&gt;
&lt;li&gt;LOCATE(&quot;A&quot;, &quot;ABC&quot;) : &quot;ABC&quot;에서 &quot;A&quot;가 몇 번째?&lt;/li&gt;
&lt;li&gt;substring(&quot;abc&quot;, 2) : 2번째 문자부터 반환&lt;/li&gt;
&lt;li&gt;right(&quot;abcd&quot;, 1) : &quot;abcd&quot;에서 오른쪽에서 1번째까지&lt;/li&gt;
&lt;li&gt;left(&quot;abcd&quot;, 1) : &quot;abcd&quot;에서 왼쪽에서 1번째까지&lt;/li&gt;
&lt;li&gt;upper(str), lower(str)&lt;/li&gt;
&lt;li&gt;length(&quot;abc&quot;) : 글자 수 반환&lt;/li&gt;
&lt;li&gt;concat(&quot;ABC&quot;, &quot;DEF&quot;) : 문자열 붙이기&lt;/li&gt;
&lt;li&gt;replace(&quot;ABC&quot;, &quot;A&quot;, &quot;Z&quot;) : &quot;ABC&quot;의 &quot;A&quot;를 &quot;Z&quot;로 변환&lt;/li&gt;
&lt;li&gt;LPAD(&quot;def&quot;, 5, &quot; _ &quot; ) &quot;def&quot; 왼쪽에 &quot; _ &quot;를, 전체 문자열이 5글자가 되도록 붙이기&lt;/li&gt;
&lt;li&gt;TRIM(&quot; _ &quot; from &quot; _ abc _ &quot;) : 특정 문자열 삭제(이건 양 옆)
&lt;ul&gt;
&lt;li&gt;TRIM(leading &quot; _ &quot; from &quot; _ abc _ &quot;) : 앞에꺼. traling은 뒤에꺼&lt;/li&gt;
&lt;li&gt;또는 LTRIM(&quot; _ _ abc _ _ &quot;, &quot; _ &quot;) , RTRIM&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;숫자형 - abs, ceiling, floor, round 반올림, truncate(숫자, 자릿수) : 버림 - power, mod - 순위 매기기 : rank() over(order by 컬럼명)&lt;/p&gt;
&lt;p&gt;날짜형 - NOW() : 현재 날짜시간 - current_date(), current_time() - year(날짜) : 날짜의 연도, month(), monthname(), dayname()이건요일 - week(날짜) : 올해의 몇 번째 주인지 반환 - datediff(날짜, 날짜) : 차이 반환&lt;/p&gt;
&lt;p&gt;사실 이것들은&lt;br&gt;
소마 이전 기수 코테에서&lt;br&gt;
특정 함수 모르면 못 풀게 나왔대서.. 급히 정리했던것들입니다 ㅜㅜ&lt;/p&gt;
&lt;h2 id=&quot;프로그래머스-sql문제-풀이들&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4-sql%EB%AC%B8%EC%A0%9C-%ED%92%80%EC%9D%B4%EB%93%A4&quot; aria-label=&quot;프로그래머스 sql문제 풀이들 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;프로그래머스 SQL문제 풀이들&lt;/h2&gt;
&lt;p&gt;제가 푼 것들 조금 정리해둔건데요&lt;br&gt;
이게 알고리즘도 그렇듯이&lt;br&gt;
제 답이 항상 최적해이고 효율적이고 쉬운 답인건 아닙니다 ㅜ&lt;br&gt;
참고만 해주세요~&lt;/p&gt;
&lt;h3 id=&quot;12세-이하인-여자-환자-목록-출력&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#12%EC%84%B8-%EC%9D%B4%ED%95%98%EC%9D%B8-%EC%97%AC%EC%9E%90-%ED%99%98%EC%9E%90-%EB%AA%A9%EB%A1%9D-%EC%B6%9C%EB%A0%A5&quot; aria-label=&quot;12세 이하인 여자 환자 목록 출력 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;12세 이하인 여자 환자 목록 출력&lt;/h3&gt;
&lt;p&gt;PT_NO, PT_NAME, GEND_CD, AGE, TLNO 이 테이블에서
PT_NAME, PT_NO, GEND_CD, AGE, TLNO 이렇게 해서, 12세 이하인 여자환자만 출력&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;조건에 따라 : WHERE&lt;/li&gt;
&lt;li&gt;NULL값 대체 : &lt;code class=&quot;language-text&quot;&gt;IFNULL(컬럼명, 대체 문자열)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;나이 기준으로 내림차순 정렬 : &lt;code class=&quot;language-text&quot;&gt;ORDER BY AGE DESC&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;컬럼 이름 변경 &lt;code class=&quot;language-text&quot;&gt;IFNULL(TLNO, &quot;NONE&quot;) TLNO&lt;/code&gt; (as를 생략해도 됨)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; PT_NAME&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PT_NO&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; GEND_CD&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; AGE&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; IFNULL&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;TLNO&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NONE&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; TLNO
&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; PATIENT
&lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; GEND_CD &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;W&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;AND&lt;/span&gt; AGE &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;13&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; AGE &lt;span class=&quot;token keyword&quot;&gt;DESC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PT_NAME &lt;span class=&quot;token keyword&quot;&gt;ASC&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;재구매가-일어난-상품과-회원-리스트&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%AC%EA%B5%AC%EB%A7%A4%EA%B0%80-%EC%9D%BC%EC%96%B4%EB%82%9C-%EC%83%81%ED%92%88%EA%B3%BC-%ED%9A%8C%EC%9B%90-%EB%A6%AC%EC%8A%A4%ED%8A%B8&quot; aria-label=&quot;재구매가 일어난 상품과 회원 리스트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;재구매가 일어난 상품과 회원 리스트&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;USER_ID와 PRODUCT_ID로 그룹 : &lt;code class=&quot;language-text&quot;&gt;GROUP BY USER_ID, PRODUCT_ID&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;HAVING : where과 비슷하나 집계함수 쓸 때 사용. GROUP BY 다음에 나온다&lt;/li&gt;
&lt;li&gt;집계함수 COUNT를 써서 조건을 줘야 하니 &lt;code class=&quot;language-text&quot;&gt;GROUP BY ~ HAVING ~&lt;/code&gt;을 사용했습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; USER_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PRODUCT_ID &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; ONLINE_SALE
&lt;span class=&quot;token keyword&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; USER_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PRODUCT_ID
&lt;span class=&quot;token keyword&quot;&gt;HAVING&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;COUNT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;PRODUCT_ID&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; USER_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PRODUCT_ID &lt;span class=&quot;token keyword&quot;&gt;DESC&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;오프라인온라인-판매-데이터-통합하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%98%A4%ED%94%84%EB%9D%BC%EC%9D%B8%EC%98%A8%EB%9D%BC%EC%9D%B8-%ED%8C%90%EB%A7%A4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%86%B5%ED%95%A9%ED%95%98%EA%B8%B0&quot; aria-label=&quot;오프라인온라인 판매 데이터 통합하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;오프라인/온라인 판매 데이터 통합하기&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;결과 함께 보여주기 : &lt;code class=&quot;language-text&quot;&gt;UNION ALL&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;PPAP처럼 두 결과를 UH~하고 이어붙입니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;없는 컬럼 NULL로 대체 : &lt;code class=&quot;language-text&quot;&gt;NULL as USER_ID&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;2022-03 만족하는거 가져오기 : &lt;code class=&quot;language-text&quot;&gt;LIKE &apos;2022-03-%&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;LIKE 다음 조건에, &lt;em&gt;어떤 값이 오든 상관없다&lt;/em&gt;는 뜻으로 %를 씁니다&lt;/li&gt;
&lt;li&gt;예를 들어, &quot;%조건%&quot;면, &quot;무조건이야&quot; 또는 &quot;조건이야&quot; 또는 &quot;무조건&quot; 모두 됩니다&lt;/li&gt;
&lt;li&gt;&quot;%조건&quot;이면, &quot;무조건&quot;만 됩니다&lt;/li&gt;
&lt;li&gt;&quot;조건%&quot;이면, &quot;조건이야&quot;만 됩니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;날짜형식지정 : &lt;code class=&quot;language-text&quot;&gt;DATE_FORMAT(날짜, 형식)&lt;/code&gt; : %Y는 4자리 연도, %m는 2자리 월, %d는 2자리 일&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; DATE_FORMAT&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;SALES_DATE&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%Y-%m-%d&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; SALES_DATE&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PRODUCT_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; USER_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; SALES_AMOUNT
&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; ONLINE_SALE &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; onl
&lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; SALES_DATE &lt;span class=&quot;token operator&quot;&gt;LIKE&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2022-03-%&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;UNION&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;ALL&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; DATE_FORMAT&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;SALES_DATE&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%Y-%m-%d&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; SALES_DATE&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PRODUCT_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; USER_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; SALES_AMOUNT
&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; OFFLINE_SALE &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;off&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; SALES_DATE &lt;span class=&quot;token operator&quot;&gt;LIKE&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2022-03-%&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; SALES_DATE&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PRODUCT_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; IFNULL&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;USER_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;가격이-제일-비싼-식품의-정보-출력하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%80%EA%B2%A9%EC%9D%B4-%EC%A0%9C%EC%9D%BC-%EB%B9%84%EC%8B%BC-%EC%8B%9D%ED%92%88%EC%9D%98-%EC%A0%95%EB%B3%B4-%EC%B6%9C%EB%A0%A5%ED%95%98%EA%B8%B0&quot; aria-label=&quot;가격이 제일 비싼 식품의 정보 출력하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;가격이 제일 비싼 식품의 정보 출력하기&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;서브쿼리 : &lt;code class=&quot;language-text&quot;&gt;where PRICE = (SELECT ~~~)&lt;/code&gt; : 괄호 안에 담은 쿼리의 결과를 그대로 가져와서 써먹을 수 있습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; FOOD_PRODUCT
&lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; PRICE &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MAX&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;PRICE&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; FOOD_PRODUCT&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;3월에-태어난-여성-목록-출력&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3%EC%9B%94%EC%97%90-%ED%83%9C%EC%96%B4%EB%82%9C-%EC%97%AC%EC%84%B1-%EB%AA%A9%EB%A1%9D-%EC%B6%9C%EB%A0%A5&quot; aria-label=&quot;3월에 태어난 여성 목록 출력 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3월에 태어난 여성 목록 출력&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;전화번호 NULL인 경우 출력 제외 : &lt;code class=&quot;language-text&quot;&gt;where TLNO is not null&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; MEMBER_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MEMBER_NAME&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; gender&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; date_format&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;date_of_birth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;%Y-%m-%d&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; date_of_birth
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; member_profile
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; gender &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;W&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;and&lt;/span&gt; tlno &lt;span class=&quot;token operator&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;and&lt;/span&gt; date_format&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;date_of_birth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;%m&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;03&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;과일로-만든-아이스크림-고르기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B3%BC%EC%9D%BC%EB%A1%9C-%EB%A7%8C%EB%93%A0-%EC%95%84%EC%9D%B4%EC%8A%A4%ED%81%AC%EB%A6%BC-%EA%B3%A0%EB%A5%B4%EA%B8%B0&quot; aria-label=&quot;과일로 만든 아이스크림 고르기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;과일로 만든 아이스크림 고르기&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;flavor in (서브쿼리)&lt;/code&gt;를 사용하여 포함되어있는 값인지 확인&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; flavor &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; first_half
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; total_order &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;and&lt;/span&gt; flavor &lt;span class=&quot;token operator&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt; flavor
    &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; icecream_info
    &lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; ingredient_type &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;fruit_based&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;by&lt;/span&gt; total_order &lt;span class=&quot;token keyword&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;강원도에-위치한-생산공장-목록-출력하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%95%EC%9B%90%EB%8F%84%EC%97%90-%EC%9C%84%EC%B9%98%ED%95%9C-%EC%83%9D%EC%82%B0%EA%B3%B5%EC%9E%A5-%EB%AA%A9%EB%A1%9D-%EC%B6%9C%EB%A0%A5%ED%95%98%EA%B8%B0&quot; aria-label=&quot;강원도에 위치한 생산공장 목록 출력하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;강원도에 위치한 생산공장 목록 출력하기&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&quot;강원도&quot;로 시작하는거 찾기 : &lt;code class=&quot;language-text&quot;&gt;address like &apos;강원도%&apos;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;%강원도% : 앞뒤 상관없이 강원도만 있으면 됨 / %강원도 : 강원도로 끝나야함. / 강원도% : 강원도로 시작&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; factory_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; factory_name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; address &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; food_factory
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; address &lt;span class=&quot;token operator&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;강원도%&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;평균-일일-대여-요금-구하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%8F%89%EA%B7%A0-%EC%9D%BC%EC%9D%BC-%EB%8C%80%EC%97%AC-%EC%9A%94%EA%B8%88-%EA%B5%AC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;평균 일일 대여 요금 구하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;평균 일일 대여 요금 구하기&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;반올림 : round(대상, 자릿수)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;avg&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;daily_fee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; average_fee &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; car_rental_company_car
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; car_type &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;SUV&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;조건에-맞는-도서와-저자-리스트-출력하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A1%B0%EA%B1%B4%EC%97%90-%EB%A7%9E%EB%8A%94-%EB%8F%84%EC%84%9C%EC%99%80-%EC%A0%80%EC%9E%90-%EB%A6%AC%EC%8A%A4%ED%8A%B8-%EC%B6%9C%EB%A0%A5%ED%95%98%EA%B8%B0&quot; aria-label=&quot;조건에 맞는 도서와 저자 리스트 출력하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;조건에 맞는 도서와 저자 리스트 출력하기&lt;/h3&gt;
&lt;p&gt;비교적 입문적인 JOIN문제입니다.&lt;br&gt;
TABLE_A 테이블의 col1 칼럼과, TABLE_B 테이블의 col2 칼럼 값들이 같은 것들끼리 쪼인하려면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;FROM TABLE_A AS a JOIN TABLE_B AS b ON a.col1 = b.col1&lt;/code&gt;&lt;br&gt;
이런 식이며.. JOIN에는 INNER JOIN, LEFT OUTER JOIN, RIGHT OUTER JOIN, 등.. 많지만 JOIN만 쓰면 INNER JOIN합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b147f238438524c11f903a62aaac9186/5bf79/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 78.48101265822784%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAADLElEQVR42i1STWsTXRQ+VGjqShAEFwqCC925daW0+CqFt3ShUsRVl0LduBARsQr6M9xarPo2iqamLW1jWvMxaWaa5sO2yWvG+czXzM3cJJPMR8aTGe/icu+55zn3Oc95YNDryclkU5IM0zR7Pc/zNE1Lp9O5XE4Uxf39/Ww2yzBMtVrFJ0ygpqk3GirHWYMBJObmPgG8P3++Xii0u91Bv9/pdOLxeCKRKBaLHMfl83mWZXmed2ybUNo8Ovp48WIY4Me9exA+eXI5FFoDSLx6RT3P0HX8YTgcjnbX/Xvwd63RdDwv9fp1BOBtKPRlfBy2rl79iD+HJoTtbToYdDudIBspWLZtuy52E4C7lHZtW47FPoyPvwfYuHIFmpXK5rNnqf9WBFWl7bbnLyyBhY43NrJv3iCgTUgQr6lqqVJJLC+nXr7Uy2UYWNYx0f+XJP5X1XGcIElvtQzH2Zme/jIxgQDSNizLwnir1WKz2V+y3LQs13VBSSZj9+9nwmEVAe12wJC0NMNxd2dnI6dONZtNQgh2MAI3GkqjkVlZ+X7njryzA5Fz51YvXNBrNU3Xia53/J5xJC3DKGxtMUtLOqXUMDBoGAa2o2FWvf718qXI6dOAaq1PTeGbKAj4g+Hn+VcxVyxVBKFeqyHDER1CUDxFlpHD2q1bnwGAffx49cyZg2gUP8VWB6bp+cwNQkSel7AiDs+PoP4jLUwzH12LnD3LPn0KGiFsLHbIcWqtFjQWrGC+wdm1bcd/UhSlUCwe5Q6USgXJQE1RUpm9g3y+yvMdTWPm579NTq7+OxO/8U/r8JCI0va167tPnsQXFlKzs8VMJsUw6FxeFG20J84A9aCE4CjYxcV3AOETJz6Pjb0FQEmT8/PoB5njqpubSwDMwkN0f4/SXreLc4XAT44/xtziiw8++NPYGFb5fvs2gpcBlL296vo6RhIPHhjDIfWVw/wRuFwuZxgmny9Uj8tbd+9GJ6eiMzO7N28ibUNVd6enk8+f/3j0KDM3V2LZdGaPSad/8zwaBoIZSLIsSVK31zNd1/GNgl7Dq0EpCoUMbd98jXr9IJf7WSoJgtDv9/8A1gD46FKrWEwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;joins&quot;
        title=&quot;&quot;
        src=&quot;/static/b147f238438524c11f903a62aaac9186/f058b/image-1.png&quot;
        srcset=&quot;/static/b147f238438524c11f903a62aaac9186/c26ae/image-1.png 158w,
/static/b147f238438524c11f903a62aaac9186/6bdcf/image-1.png 315w,
/static/b147f238438524c11f903a62aaac9186/f058b/image-1.png 630w,
/static/b147f238438524c11f903a62aaac9186/40601/image-1.png 945w,
/static/b147f238438524c11f903a62aaac9186/5bf79/image-1.png 966w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt; from stackoverflow&lt;/p&gt;
&lt;p&gt;대충 이렇습니다.. 조회하려는 용도에 따라 조금씩 나뉩니다.&lt;/p&gt;
&lt;p&gt;이 문제에서는 INNER JOIN이면 오케이입니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; BOOK_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; AUTHOR_NAME&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; date_format&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;PUBLISHED_DATE&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;%Y-%m-%d&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; published_date
&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; BOOK &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; b &lt;span class=&quot;token keyword&quot;&gt;join&lt;/span&gt; AUTHOR &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; a &lt;span class=&quot;token keyword&quot;&gt;on&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;author_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;author_id
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; category &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;경제&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;by&lt;/span&gt; published_date&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;없어진-기록-찾기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%97%86%EC%96%B4%EC%A7%84-%EA%B8%B0%EB%A1%9D-%EC%B0%BE%EA%B8%B0&quot; aria-label=&quot;없어진 기록 찾기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;없어진 기록 찾기&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;left outer join : 왼쪽 테이블을 기준으로 함. 왼쪽 데이터는 무조건 가져오고, 오른쪽 데이터는 없으면 null로 표기&lt;/li&gt;
&lt;li&gt;outs에는 있는데, ins에는 없는걸 null로 표기하여 가져오고 싶으므로, outs left outer join ins&lt;/li&gt;
&lt;li&gt;조인해서 가져와서, isnull인것만&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; outs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;animal_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; outs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; animal_outs &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; outs &lt;span class=&quot;token keyword&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;outer&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;join&lt;/span&gt; animal_ins &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; ins
&lt;span class=&quot;token keyword&quot;&gt;on&lt;/span&gt; ins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;animal_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; outs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;animal_id
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; isnull&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;animal_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;p&gt;이렇게 좀.. 벼락치기를 해봤습니다&lt;br&gt;
후회되는 것은.. 이런 SQL 연습할 수 있는 방법이 있었는데&lt;br&gt;
왜 데베 수업들을 때는 이런거로 연습 안해봤지? 싶네요&lt;br&gt;
이런거라도 풀어봤으면 시험 쪼금이라도 더 잘 봤을텐데&lt;/p&gt;
&lt;p&gt;쩝.. 이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🫸 [WSL] Proxy error : Could not proxy request]]></title><description><![CDATA[이런 에러를 만났었는데요 정적페이지는 띄워지지만 서버로의 요청이 전부 실패하는 상황이었습니다 거두절미하고 해결한 방법부터 말씀드리고 시작하자면.. package.json에서 proxy 요청을 localhost가 아닌 호스트 머신의 IP…]]></description><link>https://sungpaks.github.io/wsl-localhost-issue/</link><guid isPermaLink="false">https://sungpaks.github.io/wsl-localhost-issue/</guid><pubDate>Sun, 18 Feb 2024 12:37:00 GMT</pubDate><content:encoded>&lt;img src=&quot;https://i.imgur.com/coS9OXd.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot;&gt;
&lt;p&gt;이런 에러를 만났었는데요&lt;br&gt;
정적페이지는 띄워지지만 서버로의 요청이 전부 실패하는 상황이었습니다&lt;br&gt;
거두절미하고 &lt;strong&gt;해결한 방법&lt;/strong&gt;부터 말씀드리고 시작하자면..&lt;/p&gt;
&lt;p&gt;package.json에서 proxy 요청을 localhost가 아닌 &lt;strong&gt;호스트 머신의 IP주소&lt;/strong&gt;로 보내도록 해야합니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&quot;proxy&quot;: &quot;http://172.12.89.2:8080&quot;,&lt;/code&gt; 이런식&lt;br&gt;
&lt;strong&gt;호스트 머신의 IP주소&lt;/strong&gt;는 wsl터미널에서 &lt;code class=&quot;language-text&quot;&gt;ip route show | grep -i default | awk &apos;{ print $3}&apos;&lt;/code&gt; 명령으로 가져올 수 있습니다.&lt;/p&gt;
&lt;p&gt;이게 제가 로컬에서 프론트를 여는 것은 wsl위에서 열고&lt;br&gt;
백엔드 서버를 여는 것은 wsl이 아닌 윈도우 터미널에서 열었기 때문으로 보이는데&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://learn.microsoft.com/ko-kr/windows/wsl/networking&quot;&gt;microsoft 설명서&lt;/a&gt;에 이와 관련한 언급이 있습니다&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;기본적으로 WSL은 네트워킹에 NAT 기반 아키텍처를 사용합니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이에 따라 고려할 점이 있는데,&lt;br&gt;
windows -&gt; linux 액세스 시 일반적인 방법과 같이 localhost를 사용하면 되는데&lt;br&gt;
linux -&gt; windows 액세스 시 호스트 IP로 접근해야한다고 하네요&lt;br&gt;
제 상황이랑 딱 맞습니다&lt;/p&gt;
&lt;h3 id=&quot;nat가-뭔데요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#nat%EA%B0%80-%EB%AD%94%EB%8D%B0%EC%9A%94&quot; aria-label=&quot;nat가 뭔데요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;NAT가 뭔데요?&lt;/h3&gt;
&lt;p&gt;NAT(Network Address Translation, 네트워크 주소 변환)은 컴퓨터 네트워크 개념인데요&lt;br&gt;
IPv4 주소 부족 문제를 해결하기 위한 어떤 잡기술 비슷하게 나온 방법입니다&lt;/p&gt;
&lt;p&gt;10개의 호스트가 있는 경우 10개의 IP를 모두 할당하는 것이 아닌&lt;br&gt;
하나의 라우터에 한 개의 IP만 할당하고, 각 호스트들에게는 로컬 주소를 할당하는 방법입니다&lt;br&gt;
마치.. 콘센트가 2구 뿐인데 더 많은 사용이 필요한 경우&lt;br&gt;
멀티탭을 사와서 꽂는 것과 비슷합니다&lt;/p&gt;
&lt;p&gt;이에 대해서 더 쓰려면 좀.. 깊어지니까&lt;br&gt;
이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[💾 직렬화.. 라고 아시나요?]]></title><description><![CDATA[여전히 스프링 공부중입니다 로그인 구현 파트인데요, 세션에 유저 정보를 저장하려고 SessionUser 클래스를 따로 만들었습니다 이미 User…]]></description><link>https://sungpaks.github.io/about-serialization/</link><guid isPermaLink="false">https://sungpaks.github.io/about-serialization/</guid><pubDate>Thu, 25 Jan 2024 11:02:00 GMT</pubDate><content:encoded>&lt;p&gt;여전히 스프링 공부중입니다&lt;br&gt;
로그인 구현 파트인데요,&lt;br&gt;
세션에 유저 정보를 저장하려고 &lt;strong&gt;SessionUser&lt;/strong&gt; 클래스를 따로 만들었습니다&lt;br&gt;
이미 &lt;strong&gt;User&lt;/strong&gt; 엔티티 클래스가 존재하는데도 말이죠??&lt;br&gt;
그 이유를.. &lt;strong&gt;직렬화&lt;/strong&gt;를 언급하시며 설명해주셨습니다&lt;/p&gt;
&lt;p&gt;이 &lt;strong&gt;직렬화&lt;/strong&gt;라는 용어는 며칠 전에 디자인패턴 책을 보다가 잠깐 언급된걸 봤었는데&lt;br&gt;
스프링 공부하다가 &lt;strong&gt;직렬화&lt;/strong&gt;를 또 만나고나서 그날 밤&lt;br&gt;
디자인패턴 책의 &lt;strong&gt;커맨드 패턴&lt;/strong&gt; 부분에서 &lt;strong&gt;직렬화&lt;/strong&gt;가 또! 나와버렸습니다???&lt;/p&gt;
&lt;p&gt;흠..&lt;/p&gt;
&lt;h1 id=&quot;직렬화serialization란&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A7%81%EB%A0%AC%ED%99%94serialization%EB%9E%80&quot; aria-label=&quot;직렬화serialization란 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;직렬화(Serialization)란?&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;serialization은 지속시키거나 전송할 수 있는 형태로 개체 상태를 변환하는 프로세스입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;마이크로소프트 .NET docs에서 가져왔습니다&lt;/p&gt;
&lt;p&gt;여러 글들을 뒤적뒤적해본 결과.. 직렬화는 사실상&lt;br&gt;
어떤 객체나 데이터를 &lt;strong&gt;박제&lt;/strong&gt;한다고 보면 편한 것 같습니다&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;직렬화&lt;/strong&gt;는 어떤 객체나 데이터를 어떤 일관적인 포맷으로 변환하여, 파일이나 데이터베이스 또는 메모리 등에 저장하거나 다른 시스템 환경으로 전송할 수 있도록 하는 과정이며&lt;br&gt;
또한 &lt;strong&gt;역직렬화&lt;/strong&gt;는 이렇게 변환되었던 포맷을 원래의 객체나 데이터로 다시 원상복구하는 과정입니다&lt;/p&gt;
&lt;h1 id=&quot;커맨드-패턴에서-만난-직렬화&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BB%A4%EB%A7%A8%EB%93%9C-%ED%8C%A8%ED%84%B4%EC%97%90%EC%84%9C-%EB%A7%8C%EB%82%9C-%EC%A7%81%EB%A0%AC%ED%99%94&quot; aria-label=&quot;커맨드 패턴에서 만난 직렬화 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;커맨드 패턴에서 만난 직렬화&lt;/h1&gt;
&lt;p&gt;커맨드 패턴의 자세한 설명은 거두절미하겠습니다&lt;br&gt;
&lt;a href=&quot;https://refactoring.guru/ko/design-patterns/command&quot;&gt;여기&lt;/a&gt;에 꽤 설명이 잘 되어 있습니다.&lt;br&gt;
대충.. 어떤 일련의 동작들이나 요청들을 객체의 형태로 캡슐화하는 셈인데요&lt;br&gt;
이렇게 만들어진 커맨드 객체는 다른 여느 객체와 마찬가지로 직렬화될 수 있다는 특징을 가집니다.&lt;br&gt;
그 덕분에 커맨드 패턴을 이용하면 작업들을 대기열에 넣거나, 실행을 지연 또는 예약하거나, ... 할 수 있습니다.&lt;/p&gt;
&lt;p&gt;예를 들어.. 유튜브를 틀어놓고, 파일을 다운로드받으면서, 동시에 이메일을 쓴다고 해봅시다.&lt;br&gt;
공통점 하나 없는 작업들이지만, 커맨드 패턴을 사용한다면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;영상 재생&lt;/li&gt;
&lt;li&gt;파일 다운로드&lt;/li&gt;
&lt;li&gt;키보드 입력&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 세 가지의 서로 다른 작업들은 커맨드 객체로 캡슐화하고, 각 커맨드 객체의 실행 메서드를 트리거하기만 하면 됩니다.&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/EriLecS.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;40%&quot; height=&quot;auto&quot;&gt;&lt;br&gt;
이제 작업의 수행은 객체를 트리거하며 통과시키는 것으로 이루어지게 되었으므로,&lt;br&gt;
커맨드 객체들이 지나간 로그를 찍어두면 상태를 저장하고 나아가 복원해버릴 수 있습니다.&lt;strong&gt;직렬화&lt;/strong&gt;되었네요!&lt;/p&gt;
&lt;h1 id=&quot;java에서의-직렬화&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#java%EC%97%90%EC%84%9C%EC%9D%98-%EC%A7%81%EB%A0%AC%ED%99%94&quot; aria-label=&quot;java에서의 직렬화 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JAVA에서의 직렬화&lt;/h1&gt;
&lt;p&gt;자바에서는 &lt;strong&gt;직렬화&lt;/strong&gt;가 이렇게 통합니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;자바 시스템에서 사용되는 객체 또는 데이터를 바이트 스트림 형태의 연속적 데이터로 변환하는 과정&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;늘 그렇듯이, 객체는 힙 또는 스택 메모리에 존재했다가 프로그램이 종료되면 사라집니다.&lt;br&gt;
이 때 객체를 직렬화하여 &lt;strong&gt;박제&lt;/strong&gt;해버리면 JVM 메모리에 존재하던 객체를 *영속화(Persistence)*하여 휘발성 데이터를 지속적으로 저장하게 됩니다.&lt;/p&gt;
&lt;p&gt;이러한 특징 덕분에, 자바에서는 직렬화를 사용하는 경우가 더러 있는데요, 대표적으로&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;세션 : 톰캣 세션 클러스터링을 수행하거나 세션 데이터를 DB에 저장하고자 하는 경우 등&lt;/li&gt;
&lt;li&gt;캐시 : DB에서 조회한 객체를 직렬화하여 따로 뒀다가, 또 필요할 때 재조회보다는 역직렬화하여 가져다 쓰도록 함&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;직렬화를 구현하려면 클래스 선언 시 &lt;code class=&quot;language-text&quot;&gt;Serializable&lt;/code&gt; 인터페이스를 구현합니다.&lt;br&gt;
이 인터페이스는 따로 구현해야할 추상메서드가 없는 &lt;strong&gt;마커 인터페이스&lt;/strong&gt;입니다.&lt;br&gt;
이제 직렬화하려면 &lt;code class=&quot;language-text&quot;&gt;ObjectOutputStream&lt;/code&gt; 스트림에 객체를 출력합니다 : &lt;code class=&quot;language-text&quot;&gt;.writeObject()&lt;/code&gt; 메서드 호출&lt;br&gt;
또한 역직렬화하려면 &lt;code class=&quot;language-text&quot;&gt;ObjectInputStream&lt;/code&gt; 스트림으로부터 객체를 입력받습니다 : &lt;code class=&quot;language-text&quot;&gt;.readObject()&lt;/code&gt;메서드 호출&lt;br&gt;
역직렬화할 때는 원본 클래스로 캐스팅해줘야 합니다.&lt;/p&gt;
&lt;p&gt;한번 해볼까요?&lt;br&gt;
먼저 대충 &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; 클래스를 아무렇게나 만들어봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Serializable&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; staticField &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; email &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sungho@example.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sungho&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; password &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1234&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그런 다음 직렬화하는 테스트 코드를 작성해봅시다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SerializationTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// 객체 생성&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt; foo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// 직렬화된 데이터를 저장할 파일 이름&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; fileName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;foo.ser&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

		&lt;span class=&quot;token comment&quot;&gt;// 직렬화&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ObjectOutputStream&lt;/span&gt; oos &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ObjectOutputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FileOutputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fileName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			oos&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;foo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;직렬화 완료&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;IOException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;자바에서 직렬화된 데이터 파일은 &lt;code class=&quot;language-text&quot;&gt;.ser&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;.obj&lt;/code&gt;등을 사용한다고 하네요. 그냥 바이트의 연속체라서 &lt;code class=&quot;language-text&quot;&gt;.txt&lt;/code&gt;도 무방하긴합니다
아무튼 실행하고 한번 열어보면&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/5gw7b3T.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;50%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
헉 알아볼 수 없는 문자들이 가득하죠?&lt;/p&gt;
&lt;p&gt;이제 역직렬화를 해봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DeserializationTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; fileName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;foo.ser&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// 역직렬화&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ObjectInputStream&lt;/span&gt; ois &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ObjectInputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FileInputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fileName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt; deserializedFoo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; ois&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;역직렬화 완료&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

			&lt;span class=&quot;token comment&quot;&gt;// 역직렬화된 객체의 정보 출력&lt;/span&gt;
			&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Name: &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; deserializedFoo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Email: &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; deserializedFoo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;IOException&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ClassNotFoundException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 해서 실행해보면&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/fp430FX.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;40%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
헉?? &lt;strong&gt;생성자 없이도 객체가 생겨버렸습니다&lt;/strong&gt; !!&lt;/p&gt;
&lt;p&gt;주의할 점이 몇 가지 있는데요&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;직렬화 대상은 인스턴스 필드이며, 메소드나 &lt;code class=&quot;language-text&quot;&gt;static&lt;/code&gt; 필드 등은 제외입니다.&lt;/li&gt;
&lt;li&gt;여러 객체를 직렬화하는 경우, 순서에 유의합니다 :&lt;br&gt;
obj1, obj2, obj3 순서로 직렬화했다면, 동일하게 obj1, obj2, obj3 순서로 역직렬화해야합니다. 이는 사실 직렬화 순서대로 바이트문자가 기록되니 그래야만 하겠죠?
직렬화 대상 객체가 많다면 대신 &lt;code class=&quot;language-text&quot;&gt;ArrayList&lt;/code&gt;같은 컬렉션에 넣고 직렬화합시다. 이렇게 하면 역직렬화 순서를 신경쓰지 않아도 됩니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;private&lt;/code&gt; 필드까지도 직렬화에 포함됩니다. 만약 직렬화에서 제외시키고자 한다면 필드 선언 시 &lt;code class=&quot;language-text&quot;&gt;transient&lt;/code&gt; 키워드를 붙이면 됩니다.&lt;/li&gt;
&lt;li&gt;(당연한 듯 하지만) 부모클래스가 &lt;code class=&quot;language-text&quot;&gt;Serializable&lt;/code&gt; 구현체이면 자식클래스 또한 직렬화 대상입니다. 반대로 자식클래스가 직렬화여도 부모의 인스턴스 필드는 포함되지 않습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;json-쓰면-안될까요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#json-%EC%93%B0%EB%A9%B4-%EC%95%88%EB%90%A0%EA%B9%8C%EC%9A%94&quot; aria-label=&quot;json 쓰면 안될까요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JSON 쓰면 안될까요?&lt;/h1&gt;
&lt;p&gt;JSON으로 데이터를 주고받는 것도 직렬화/역직렬화의 일종입니다. 그냥 JSON써서 데이터를 주고받으면 안될까요? 아니면 XML이라거나..&lt;/p&gt;
&lt;p&gt;물론 JSON도 좋지만 자바에서 자바 직렬화를 사용하는 이유는, 자바 맞춤형이라 자바 시스템끼리의 상호작용에 상당히 효율적입니다.&lt;br&gt;
이는 직렬화된 자바 바이트스트림은 단순 데이터만 포함하는 것이 아닌, 타입 정보, 클래스 메타 데이터 등까지도 포함하기 때문인데요&lt;br&gt;
같은 자바 시스템끼리라는 전제가 있다면 사실상 그대로 갖다 이식해버리는 수준이 되어버립니다.&lt;br&gt;
JSON이었다면 파싱해서 인스턴스화하고, 등등... 귀찮은 일을 더 했어야겠죠?&lt;/p&gt;
&lt;p&gt;물론 이 특징으로 인해 JSON보다 무거워진다거나, 이외에도 다른 단점들이 존재합니다.&lt;/p&gt;
&lt;h1 id=&quot;java-직렬화의-단점-ㅜㅜ&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#java-%EC%A7%81%EB%A0%AC%ED%99%94%EC%9D%98-%EB%8B%A8%EC%A0%90-%E3%85%9C%E3%85%9C&quot; aria-label=&quot;java 직렬화의 단점 ㅜㅜ permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JAVA 직렬화의 단점 ㅜㅜ&lt;/h1&gt;
&lt;p&gt;일단 직렬화를 구현하기로 하면 신경써야 할 점들이 많습니다..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;직렬화하여 일단 한번 배포하고 나면, 이 직렬화된 바이트 스트림 인코딩이 사실상 하나의 공개API가 되어버립니다.&lt;br&gt;
이로 인해 클래스 내부 구현을 수정하기 껄끄러워질 수 있겠죠?&lt;/li&gt;
&lt;li&gt;아까 살펴본 바와 같이, &lt;code class=&quot;language-text&quot;&gt;private&lt;/code&gt;멤버까지도 &lt;code class=&quot;language-text&quot;&gt;transient&lt;/code&gt;가 없다면 그대로 직렬화되므로 캡슐화가 깨진다는 문제가 있습니다.&lt;/li&gt;
&lt;li&gt;객체를 생성자를 통해 생성했던 기존의 방식을 우회하여 제약없이 객체를 생성한다는 특징때문에 버그나 보안에 취약할 수 있습니다.&lt;/li&gt;
&lt;li&gt;역직렬화 과정에서 공격당할 위험이 존재합니다. 역직렬화 시 호출되어 위험한 동작을 수행하는 메서드를 *가젯(gadget)*이라고 합니다.&lt;/li&gt;
&lt;li&gt;직렬화를 지원하는 클래스를 상속받게 된다면 이렇게 신경써야할 문제들 또한 떠안게 되어버립니다..&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;등등 ... 여러가지가 있으니&lt;br&gt;
꽤나 잘 생각해서 적재적소에 써야 하겠습니다&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;reference&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#reference&quot; aria-label=&quot;reference permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;REFERENCE&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://inpa.tistory.com/entry/JAVA-%E2%98%95-%EC%A7%81%EB%A0%AC%ED%99%94Serializable-%EC%99%84%EB%B2%BD-%EB%A7%88%EC%8A%A4%ED%84%B0%ED%95%98%EA%B8%B0&quot;&gt;https://inpa.tistory.com/entry/JAVA-%E2%98%95-%EC%A7%81%EB%A0%AC%ED%99%94Serializable-%EC%99%84%EB%B2%BD-%EB%A7%88%EC%8A%A4%ED%84%B0%ED%95%98%EA%B8%B0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://refactoring.guru/ko/design-patterns/command&quot;&gt;https://refactoring.guru/ko/design-patterns/command&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://namu.wiki/w/%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EC%A7%81%EB%A0%AC%ED%99%94%20%ED%98%95%EC%8B%9D&quot;&gt;https://namu.wiki/w/%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EC%A7%81%EB%A0%AC%ED%99%94%20%ED%98%95%EC%8B%9D&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://learn.microsoft.com/ko-kr/dotnet/standard/serialization/&quot;&gt;https://learn.microsoft.com/ko-kr/dotnet/standard/serialization/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%A7%81%EB%A0%AC%ED%99%94&quot;&gt;https://ko.wikipedia.org/wiki/%EC%A7%81%EB%A0%AC%ED%99%94&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;이거 쓰다가 집에 늦게 갑니다..&lt;br&gt;
이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🫘 스프링 입문자라면 필히 알아둬야 합니다. 스프링 빈(Bean)이란?]]></title><description><![CDATA[요즘 스프링공부중인데요 "이렇게 저렇게 해서 스프링 빈을 주입받습니다~" 라는 말을 정말 자주 봅니다 그럼 저같은 머글들은 당연히도.. 스프링 빈이 도당체 뭔데?? 라고 생각하게 됩니다.. 모르겠으면 응당 알아보고 넘어가야겠죠? Spring Bean…]]></description><link>https://sungpaks.github.io/what-is-spring-bean/</link><guid isPermaLink="false">https://sungpaks.github.io/what-is-spring-bean/</guid><pubDate>Sun, 21 Jan 2024 05:37:00 GMT</pubDate><content:encoded>&lt;p&gt;요즘 스프링공부중인데요&lt;br&gt;
&lt;em&gt;&quot;이렇게 저렇게 해서 스프링 빈을 주입받습니다~&quot;&lt;/em&gt; 라는 말을 정말 자주 봅니다&lt;br&gt;
그럼 저같은 머글들은 당연히도..&lt;br&gt;
&lt;strong&gt;스프링 빈&lt;/strong&gt;이 도당체 뭔데?? 라고 생각하게 됩니다..&lt;br&gt;
모르겠으면 응당 알아보고 넘어가야겠죠?&lt;/p&gt;
&lt;h1 id=&quot;spring-bean-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#spring-bean-&quot; aria-label=&quot;spring bean  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Spring Bean ?&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.spring.io/spring-framework/reference/core/beans/introduction.html&quot;&gt;Spring docs&lt;/a&gt;에서 말하는 bean이란...&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;bean은 Spring IoC 컨테이너에 의해 생성(instanciatiate)되고, 조립(assemble)되며, 관리(manage)되는 객체입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;음... 저같은 사람은 &lt;strong&gt;Spring IoC 컨테이너&lt;/strong&gt;가 뭔지도 모르니까 또 알아봐야겠는데요?&lt;/p&gt;
&lt;p&gt;일단 기존의 Java Programming에서는 먼저 &lt;code class=&quot;language-text&quot;&gt;class&lt;/code&gt;를 작성하고, &lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt;로 객체를 인스턴스화하여 사용하는 구조였습니다. 사용자가 객체들을 직접 생성, 관리했던 것인데요&lt;br&gt;
Spring의 가장 큰 특징은 이 개념을 거꾸로 뒤집는다는 것입니다.&lt;br&gt;
객체의 생성과 유지, 관리를 사용자가 직접 하도록 하는 것이 아닌, 특별한 관리 주체에게 맡겨버리는 것인데요..&lt;br&gt;
이를 &lt;strong&gt;제어의 역전(IoC, Inversion of Control)&lt;/strong&gt; 이라고 하며, 이 대신 관리해주는 주체가 &lt;strong&gt;Spring IoC 컨테이너&lt;/strong&gt;입니다.&lt;/p&gt;
&lt;p&gt;일단 Spring IoC 컨테이너에 &lt;strong&gt;등록&lt;/strong&gt;되면 &lt;strong&gt;Singleton&lt;/strong&gt;으로 단일 객체가 생성되어 관리되고, 사용자는 필요할 때 &lt;strong&gt;주입&lt;/strong&gt;받아 사용합니다.&lt;/p&gt;
&lt;p&gt;그럼 Spring Bean을 등록하는 법과 주입받는 법을 알아봐야겠는데요&lt;/p&gt;
&lt;h1 id=&quot;spring-bean-등록&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#spring-bean-%EB%93%B1%EB%A1%9D&quot; aria-label=&quot;spring bean 등록 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Spring Bean 등록&lt;/h1&gt;
&lt;h3 id=&quot;1-component-어노테이션annotation&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-component-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98annotation&quot; aria-label=&quot;1 component 어노테이션annotation permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt; 어노테이션(Annotation)&lt;/h3&gt;
&lt;p&gt;어노테이션은 소스코드에 메타데이터 정보를 추가해주는... 유사 인터페이스인데요&lt;br&gt;
가장 익숙할만한 것으로는 &lt;code class=&quot;language-text&quot;&gt;@Override&lt;/code&gt; 이런 것이 있겠죠?&lt;/p&gt;
&lt;p&gt;스프링에서도 꽤나 많은 어노테이션들이 존재하고 매우 중하게 이용되며&lt;br&gt;
스프링 빈으로 등록하기 위해서는 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt; 어노테이션을 사용합니다.&lt;br&gt;
또한 &lt;code class=&quot;language-text&quot;&gt;@Controller, @RestController, @Service, @Repository&lt;/code&gt;등의 어노테이션 또한 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt;어노테이션을 내재하므로, 사용 시 스프링 빈으로 등록됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Target&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ElementType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;TYPE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Retention&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RetentionPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;RUNTIME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Documented&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token annotation punctuation&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Controller&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/**
     * The value may indicate a suggestion for a logical component name,     * to be turned into a Spring bean in case of an autodetected component.     * @return the suggested component name, if any (or empty String otherwise)
     */&lt;/span&gt;    &lt;span class=&quot;token annotation punctuation&quot;&gt;@AliasFor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;annotation &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같이, &lt;code class=&quot;language-text&quot;&gt;@Controller&lt;/code&gt; 어노테이션의 구현부를 보면 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt; 어노테이션을 포함하고 있음을 확인할 수 있습니다.&lt;/p&gt;
&lt;h3 id=&quot;2-직접-bean-configuration에-등록&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-%EC%A7%81%EC%A0%91-bean-configuration%EC%97%90-%EB%93%B1%EB%A1%9D&quot; aria-label=&quot;2 직접 bean configuration에 등록 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. 직접 Bean Configuration에 등록&lt;/h3&gt;
&lt;p&gt;또는 아래와 같이, &lt;code class=&quot;language-text&quot;&gt;@Configuration&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;@Bean&lt;/code&gt; 어노테이션으로 설정파일 밑에 직접 스프링 빈을 등록할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Configuration&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooConfig&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Bean&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fooObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위에서 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt;어노테이션은 클래스에 사용했었지만, 이렇게 &lt;code class=&quot;language-text&quot;&gt;@Bean&lt;/code&gt; 어노테이션을 사용하면 메소드 단위로 빈으로 등록할 수 있습니다.&lt;/p&gt;
&lt;h1 id=&quot;spring-bean-주입&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#spring-bean-%EC%A3%BC%EC%9E%85&quot; aria-label=&quot;spring bean 주입 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Spring Bean 주입&lt;/h1&gt;
&lt;p&gt;스프링 빈을 등록했으면 어떻게 가져다 쓸지도 알아야겠죠?&lt;br&gt;
스프링 빈 객체를 주입받는다,&lt;br&gt;
또는 의존성을 주입받는다(&lt;strong&gt;DI&lt;/strong&gt;, Dependency Injection)&lt;br&gt;
이런 식으로 말하는데요&lt;br&gt;
세 가지 방법이 있습니다&lt;/p&gt;
&lt;h3 id=&quot;1-필드&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%ED%95%84%EB%93%9C&quot; aria-label=&quot;1 필드 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. 필드&lt;/h3&gt;
&lt;p&gt;필드에 &lt;code class=&quot;language-text&quot;&gt;@Autowired&lt;/code&gt; 어노테이션을 붙여줍니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;2-setter&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-setter&quot; aria-label=&quot;2 setter permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. setter&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;setter&lt;/code&gt; 메소드를 사용합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setFooObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fooObject &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;3-생성자-권장&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-%EC%83%9D%EC%84%B1%EC%9E%90-%EA%B6%8C%EC%9E%A5&quot; aria-label=&quot;3 생성자 권장 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. 생성자 (권장)&lt;/h3&gt;
&lt;p&gt;스프링 빈 객체를 인자로 하는 생성자를 작성합니다. 이 경우 &lt;code class=&quot;language-text&quot;&gt;@Autowired&lt;/code&gt; 어노테이션은 생략될 수 있습니다.
클래스에 생성자가 하나만 존재하며 인자가 스프링 빈으로 등록된 객체이면 됩니다.
컨테이너가 알아서 생성자에 객체를 넣어주는 셈입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SimpleService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SimpleService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fooObject &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fooOjbect&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;또한 lombok을 사용하는 경우, 클래스에 &lt;code class=&quot;language-text&quot;&gt;@RequiredArgsConstructor&lt;/code&gt; 어노테이션만 붙여주면 자동으로 &lt;code class=&quot;language-text&quot;&gt;final&lt;/code&gt; 필드들을 인자로 받는 생성자를 만들어주니 간단하게 사용할 수 있습니다.&lt;/p&gt;
&lt;p&gt;스프링에서는 생성자 &gt; setter &gt; 필드 순으로 권장하고 있는데요&lt;br&gt;
생성자의 경우 객체 의존성도 꽤나 알아보기 쉽고 &lt;code class=&quot;language-text&quot;&gt;final&lt;/code&gt;의 특성상 일관성을 보장할 수 있는 등의 장점이 있습니다.&lt;br&gt;
그래도 setter의 경우 객체를 나중에 주입받거나 재주입받고 싶은 그런 상황에서 쓰일 수 있겠죠?&lt;br&gt;
본인 상황에 맞게 쓰면 될 것 같습니다&lt;/p&gt;
&lt;h1 id=&quot;스프링-빈-주입-대상이-여럿이면-어쩌죠&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B9%88-%EC%A3%BC%EC%9E%85-%EB%8C%80%EC%83%81%EC%9D%B4-%EC%97%AC%EB%9F%BF%EC%9D%B4%EB%A9%B4-%EC%96%B4%EC%A9%8C%EC%A3%A0&quot; aria-label=&quot;스프링 빈 주입 대상이 여럿이면 어쩌죠 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;스프링 빈 주입 대상이 여럿이면 어쩌죠?&lt;/h1&gt;
&lt;p&gt;헉 그런 일이 있을까요? 싶지만&lt;br&gt;
주입 대상을 상속/구현하는 클래스가 또 여럿 있다면&lt;br&gt;
그 중 어떤 객체를 원하는지 모호하기 때문에 에러가 발생할 수 있습니다.&lt;/p&gt;
&lt;p&gt;확인해볼까요? 먼저 간단히 &lt;code class=&quot;language-text&quot;&gt;FooObject&lt;/code&gt; 클래스에 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt;어노테이션을 붙여 스프링 빈 객체로 등록하고&lt;br&gt;
테스트 코드에서 간단히 &lt;code class=&quot;language-text&quot;&gt;@Autowired&lt;/code&gt; 필드 주입으로 해당 객체를 주입받습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; I&apos;m foo&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@RunWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SpringRunner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		foo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;실행 결과는&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/51e91110a7d71ff35a411f8f7395a2d9/be86f/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 10.126582278481013%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAXElEQVR42m2KUQqAIBBEvUlZCtqq62rU/U82bRIE0ccw84ZnvI/YEoNyBUtH0r45cwMRK8v4Su3DiVSQioDUYdmH1/oJ6Yd6DLO6gBDTEKP2bN1v7OJf1j19vycX3ao670OBCwEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;단일 대상 테스트 결과&quot;
        title=&quot;&quot;
        src=&quot;/static/51e91110a7d71ff35a411f8f7395a2d9/f058b/image.png&quot;
        srcset=&quot;/static/51e91110a7d71ff35a411f8f7395a2d9/c26ae/image.png 158w,
/static/51e91110a7d71ff35a411f8f7395a2d9/6bdcf/image.png 315w,
/static/51e91110a7d71ff35a411f8f7395a2d9/f058b/image.png 630w,
/static/51e91110a7d71ff35a411f8f7395a2d9/be86f/image.png 662w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br&gt;
객체를 잘 주입받은 것 같습니다?&lt;/p&gt;
&lt;p&gt;그런데 &lt;code class=&quot;language-text&quot;&gt;FooObject&lt;/code&gt;를 상속한 친구가 있다면 어떨까요?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ChildFooObject&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; I&apos;m foo child&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 친구를 추가하고 아까와 똑같이 실행해보면&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/76cbc3ae59407a242f66a7d708884b53/af192/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25.316455696202528%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA00lEQVR42oWNS3KDMBBEOUhigT6AkJElhIyJq7LK/a/U6YG4yrssXnXPp2ean1LxzCt28pUKbiQuFZF1KneEmOHnhOkfXjtNGAOWISBTC0mj+Bk36sEwIZLQe0wk9Gc9MxOo17eezBvVGmQ9YLUjvjmo1DupZsRCHvSb9ex5JN1jZW+nF306j4043hhbe2ijO4vChQePFYajGbDTywOpNyfeH73q+IwHKpn/9jJ3Oh76UB0+lUZjOneEqz2/yZFkzqAwcK64qBnq3pCeaKsMLvQvfgEdcpSqgatF1wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;다중 대상 테스트 결과&quot;
        title=&quot;&quot;
        src=&quot;/static/76cbc3ae59407a242f66a7d708884b53/f058b/image-1.png&quot;
        srcset=&quot;/static/76cbc3ae59407a242f66a7d708884b53/c26ae/image-1.png 158w,
/static/76cbc3ae59407a242f66a7d708884b53/6bdcf/image-1.png 315w,
/static/76cbc3ae59407a242f66a7d708884b53/f058b/image-1.png 630w,
/static/76cbc3ae59407a242f66a7d708884b53/af192/image-1.png 645w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br&gt;
헉.. 실패해부렀습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;foo&lt;/code&gt;에 &lt;code class=&quot;language-text&quot;&gt;FooObject&lt;/code&gt;를 넣고싶은건지, &lt;code class=&quot;language-text&quot;&gt;ChildFooObject&lt;/code&gt;를 넣고싶은건지 몰라서 에러가 났는데요&lt;br&gt;
그럼 &quot;내가 원하는 객체는 저거야!&quot;를 알려주는 방법을 알아봅시다&lt;/p&gt;
&lt;h3 id=&quot;1-필드-이름으로-매칭하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%ED%95%84%EB%93%9C-%EC%9D%B4%EB%A6%84%EC%9C%BC%EB%A1%9C-%EB%A7%A4%EC%B9%AD%ED%95%98%EA%B8%B0&quot; aria-label=&quot;1 필드 이름으로 매칭하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. 필드 이름으로 매칭하기&lt;/h3&gt;
&lt;p&gt;위에서 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt;어노테이션을 붙여서 &lt;code class=&quot;language-text&quot;&gt;FooObject&lt;/code&gt;를 스프링 빈 객체로 등록했는데요&lt;br&gt;
이 경우 클래스 명에 대한 camelCase와 동일하게 필드 이름을 작성해주면 해당 객체로 매칭됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@RunWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SpringRunner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; childFooObject&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; FooObject : &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		fooObject&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;-----------&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; ChildFooObject : &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; childFooObject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		childFooObject&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 623px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d76a891588cc189edaf06f0ba4d80ea7/6114d/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABF0lEQVR42o1R2W6DMBDkQ8ppB7CNT8ihKmnV/v8/TddLEyHoQx9Ge3iP2XHx+PzG/eML2d7eH4jLFSFd4OMZM/nWJ+jJEfwBapNXxsHYgCIH1iWk+QofZojTCE2Pk41INNBRzhiPmM6UC7zAhcQ20mLrItf6sEDKAUU/KC4OaWUU4kLDL9zciYGLBEHSIvH0OV79TvSrJVR1h2JUlhk5Ps2/iupWoCwblFX7b/DA7ZamlYeCuhEHVPXT73b5zHA0MMTM+ZlOXxDzuVOA7BWzdr9aadIxi+5IM0PvWbcsi48z5/I/SDmiUNqyoIHEX3W8IZKOWcvs508Z1fRi+5fdgj5F40RslLHUaHjrQAPeNvrtm8pdvB34AzTn61pGAHstAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;매칭 By Bean Name&quot;
        title=&quot;&quot;
        src=&quot;/static/d76a891588cc189edaf06f0ba4d80ea7/6114d/image-2.png&quot;
        srcset=&quot;/static/d76a891588cc189edaf06f0ba4d80ea7/c26ae/image-2.png 158w,
/static/d76a891588cc189edaf06f0ba4d80ea7/6bdcf/image-2.png 315w,
/static/d76a891588cc189edaf06f0ba4d80ea7/6114d/image-2.png 623w&quot;
        sizes=&quot;(max-width: 623px) 100vw, 623px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;또는 &lt;code class=&quot;language-text&quot;&gt;@Bean&lt;/code&gt;으로 스프링 빈을 생성한 경우, 메소드 이름으로 스프링 빈 객체를 매칭할 수 있습니다.&lt;/p&gt;
&lt;h3 id=&quot;2-primary&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-primary&quot; aria-label=&quot;2 primary permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. &lt;code class=&quot;language-text&quot;&gt;@Primary&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@Primary&lt;/code&gt; 어노테이션을 사용하여 우선순위를 최상위로 올립니다. 이 경우 자동으로 해당 객체를 우선 주입합니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;ChildFooObject&lt;/code&gt;에 어노테이션을 붙여보겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; I&apos;m foo&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Primary&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ChildFooObject&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; I&apos;m foo child&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@RunWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SpringRunner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; ChildFooObject is @Primary : &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		foo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 581px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9d690b32ce13edc914cba98d579db755/92d15/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 20.88607594936709%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAuklEQVR42lWP6Q6CMBCEeRAVKOUqpReHRlGi7/9OY6chJv6Y7Hay/XY2s+uC7fXGfdvx3D+43h6wfv7JhwXGBfSDwTA6KG2T+GbVxkFHfziUybpDr0aMxiNMK9wB0aNHF30Xe+smGDtBVA3UYBPAx1ljA/KiwiUXqRalRHY6F2h7nUCEcktKFYedX1JK9oQSZN2cfC6n6HOeixksI5UNpSNQxVP4iZ9LUf+JCVMVzeE1ELJFJTtU8VJ6X8y3eX88njQ9AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;매칭 By @Primary&quot;
        title=&quot;&quot;
        src=&quot;/static/9d690b32ce13edc914cba98d579db755/92d15/image-3.png&quot;
        srcset=&quot;/static/9d690b32ce13edc914cba98d579db755/c26ae/image-3.png 158w,
/static/9d690b32ce13edc914cba98d579db755/6bdcf/image-3.png 315w,
/static/9d690b32ce13edc914cba98d579db755/92d15/image-3.png 581w&quot;
        sizes=&quot;(max-width: 581px) 100vw, 581px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;3-qualifier&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-qualifier&quot; aria-label=&quot;3 qualifier permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. &lt;code class=&quot;language-text&quot;&gt;@Qualifier&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@Qualifier&lt;/code&gt; 어노테이션으로 어떤 객체를 주입받을지 직접 알릴 수도 있습니다.&lt;br&gt;
주입을 원하는 클래스 명에 대한 camelCase를 어노테이션의 value로 집어넣습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@RunWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SpringRunner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Qualifier&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;fooObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; @Qualifier(\&quot;fooObject\&quot;) : &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		foo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 539px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4496cf39bf696c3115f41bdd8974a4b0/10f9a/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 23.417721518987342%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA4klEQVR42mWPWXLCMBBEdZBAMF4U7YuxDOQDiAvuf6NmRpAURT5aY49Gr3vE+eeK03nB6XLFZblhmo9IY0EcZ8Q8Ie9mUoH1CcZFGBtqVSZA0zf3XyWsS4+HBGA5fkiDzmf4kGu1BJDKopcamkDKeDi6Y3DbSWyf6gYF0dORciFNFRbi+AfblQOmsqd/An4ZKO0QE5nTfJm/KUDBQCbMGKTC+nMLMUhTYRw3hLGm0/axGvc0pVHa12RsyEndc32uDOUNIwXZNB0EO/Mq7GRo/abt8bHaVLfVuvmn9z7P/ooT3gFE0ZdUaqt9XAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;매칭 By @Qualifier&quot;
        title=&quot;&quot;
        src=&quot;/static/4496cf39bf696c3115f41bdd8974a4b0/10f9a/image-4.png&quot;
        srcset=&quot;/static/4496cf39bf696c3115f41bdd8974a4b0/c26ae/image-4.png 158w,
/static/4496cf39bf696c3115f41bdd8974a4b0/6bdcf/image-4.png 315w,
/static/4496cf39bf696c3115f41bdd8974a4b0/10f9a/image-4.png 539w&quot;
        sizes=&quot;(max-width: 539px) 100vw, 539px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;4-모든-스프링-빈-객체-주입받기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-%EB%AA%A8%EB%93%A0-%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B9%88-%EA%B0%9D%EC%B2%B4-%EC%A3%BC%EC%9E%85%EB%B0%9B%EA%B8%B0&quot; aria-label=&quot;4 모든 스프링 빈 객체 주입받기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4. 모든 스프링 빈 객체 주입받기&lt;/h3&gt;
&lt;p&gt;전부 필요하면 어쩌죠?&lt;br&gt;
전부 받도록 합시다.&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 244px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bd0380fa8316549c2838456d7d040288/0cba8/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 84.17721518987341%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD3UlEQVR42jWRaVNaZxxH71foi6ZtkqkLCqKAggMowZjGkrjiWkVZooIKqIjiRRBBEE1wm7jFpKmm0dYYN7YLKshduJdFEM20nX6fXu1k5rz4vTlz/s88wCmE+DzhsyDm84aPj0+DQTQUIg4Og4d/nuiXj3mgt8IMlYPuaiv0bMrzZNL91OJ+ZvGKyGF2A9FoBseuUDgFRy6j+HUAQvpUw0JhlYAr5PKruOLhitF9/kSw3h5snw2IHcHGmUCL87TB7icHgGEZDEkjcIrk/IxoqG+l5RUyC0touXQahU7NpbIF9Y+GP5abAmWgjwv6Sse9fKO/FPRxQO+djGVg+DKV/Mdidt6/94CaU5CXRaXlFJAjJ4tKycrliuQVRo/A6OdPQHwjxPvK7dkoepVI/LWzc1TGf0w2GflFvY211l4p2NU61NYgKOHQ8pkCzaZg8qz8q/8/pHxNQuA3zU0Sej6DWcTuFtf5V17uTo9tjiq3zIOuIRWPVVysWOSazksN5NkQ2wBxxm8BUDSN49fhUFwo+Cn7fg4lt2Cwo/nAZd2dMb0d17wZU8+olY1Voufa121zoSY71OTwtzigFkeAhCxfoWgqkfjS1ir59pvv6BSaWf7LOjgI9sgmFBJ7v3yguWFE1vV53x3FU/BFDIEJDI1hCDliwO0/Iamr9L/z86s/fP9jGatkE1Qv61Vk3yhvf2cesfcpXDqN7+gIjSYicBRBYyhy56MEQGBXMTxNEJnQeVQn6ajm8xeH+j7NmlcNGtLcnTFuGIfWQK338ADBkhEYRxDiNo6QcgxAsfQFmrhM3ETxzB8rSzZ5m03ZtTGmfm/Uro9rZwZ6Hf3dS7p+6NiN4kn4roliMRQlz8YBzfpbsW3a67tIEDcYmnj/0kk+dcOgWdP3v9YPTKtemBSdr3QDIegsDOORSPS2jBIYFk9dXgOs53UUOutJbdM5nEwl//ZAEVVnl6WnY1Yttyk7rT1Si0I6pdWEw2gq/SWeSMeJRDKWRMLI/JwLYAgrWRIJtU9ZPW2D45m9Pc/kqMHcI1GKawzSVqNCMqV60SFuFYkax01z1qUd57vAwl7c9usFTyQD2PrBGqd9cmtrZGVNNjJR+bh2RDv6cc7kULXrJY269oYptbKlufPhgzw6nZNDYVKZjzg/yyql1jr1AjD724cP29uezwddbQp2sZDFFMikfYjvZH/VtT0/bVe1L1rM1dXN2dk0n9v3yuHMephNzSugUpkMFh/YWnvjstnra1qKCrlcbmUZ72mFsAY68fsPj39fXlgxaJedsxy2kEJh6oYM0VBIIe3Ozy9hMHhMVtl/bd71RkCT2CAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;끄덕&quot;
        title=&quot;&quot;
        src=&quot;/static/bd0380fa8316549c2838456d7d040288/0cba8/image-5.png&quot;
        srcset=&quot;/static/bd0380fa8316549c2838456d7d040288/c26ae/image-5.png 158w,
/static/bd0380fa8316549c2838456d7d040288/0cba8/image-5.png 244w&quot;
        sizes=&quot;(max-width: 244px) 100vw, 244px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@RunWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SpringRunner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; fooObjects&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; foo &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; fooObjects&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; by list : &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			foo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;---------&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3eb9ed89b3dedd6ebde62d214faf7b3e/084e2/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABIUlEQVR42nVR7XKEIAz0Pe4UEFRA8Fvba6c30/d/qDSJ6Dmd9se6SYgLm2RxnuDx+YQPxNfzG9btAbGfoBsWxAzDuIBvO3AIn+AuuJ61oYdMmwacj5zEboS6dmAx71B0mt+YCT2K7/HO47Qxx37kM+cDCKkho48PA/TYOEwrNq4otGG8cR7iwI1CmsQvSJViZaCQJeSFgkyWFTS2hbpp+aX0OhLRuuGGA/dc/oLYmc5STyFKyBQKkm1CqWsu0q2qNGAqy3XiI9Zm5wpHc/xHNaWqXZB+ti5Cj8OnWdAcaT7L+s65teFcAL2e4+TCU46ghZDwbhnnQEXaLG2UF9N4vCTwjbe7+MOuhFt+qWPPaVmq6rR7WD4aKf4X6KwQOsWv+g+jAeicJHhiIgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;매칭 By List&quot;
        title=&quot;&quot;
        src=&quot;/static/3eb9ed89b3dedd6ebde62d214faf7b3e/f058b/image-6.png&quot;
        srcset=&quot;/static/3eb9ed89b3dedd6ebde62d214faf7b3e/c26ae/image-6.png 158w,
/static/3eb9ed89b3dedd6ebde62d214faf7b3e/6bdcf/image-6.png 315w,
/static/3eb9ed89b3dedd6ebde62d214faf7b3e/f058b/image-6.png 630w,
/static/3eb9ed89b3dedd6ebde62d214faf7b3e/084e2/image-6.png 632w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;hr&gt;
&lt;br/&gt;
&lt;p&gt;스프링 빈 주입에 관해 정말 좋은 글이 있는데요.. 저도 참고 많이 했습니다&lt;br&gt;
&lt;a href=&quot;https://tech.kakaopay.com/post/martin-dev-honey-tip-2/#6%EC%A4%84-%EC%9A%94%EC%95%BD&quot;&gt;카카오페이 기술블로그 포스팅&lt;/a&gt;인데요&lt;br&gt;
카카오페이 시니어 개발자분께서 빈 주입에 대한 스프링 코드를 직접 뜯고 씹고 맛보고 즐겨주십니다&lt;br&gt;
오픈소스 코드도 까보고 해라.. 이런거는 항상 고수들께서 강조하시지만&lt;br&gt;
막상 하려면 또 잘 모르는 입장에서는 힘들고 부담이고 어디서부터 손대야할지도 모르겠는데&lt;br&gt;
코드 리뷰 흐름을 같이 손잡고 따라가게 해주시니 정말 도움이 많이 됩니다&lt;br&gt;
그 외에도 다른 이야기들과.. 테스트 코드 작성이나.. 결론이나.. 딱딱하지 않으면서도 전부 뼈가 되고 살이 될만한 내용들 뿐이니 한번쯤 보시면 어떤가 싶습니다&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;
&lt;h2 id=&quot;reference&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#reference&quot; aria-label=&quot;reference permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reference&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://melonicedlatte.com/2021/07/11/232800.html&quot;&gt;스프링 빈(Spring Bean)이란? 개념 정리&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://tech.kakaopay.com/post/martin-dev-honey-tip-2/#6%EC%A4%84-%EC%9A%94%EC%95%BD&quot;&gt;Spring Bean Injection 이야기(feat. 모두가 다 알고 있는 스프링빈, 정말 다 알고 있는가?)&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://girawhale.tistory.com/113&quot;&gt;[Spring] Bean 주입하기 : DI&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://docs.spring.io/spring-framework/reference/core/beans/introduction.html&quot;&gt;Spring Docs&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🙃 타입스크립트가 되고 싶은 리액트 컴포넌트는 나에게..]]></title><description><![CDATA[Gatsby는 리액트를 기반으로 하기 때문에, 처음 시작하면 등의 파일들이 각각 Component를 하는 것을 볼 수 있습니다.  리액트 사용자라면 너무 익숙하죠? 이번 시간에는 이렇게 생겨먹은 React Component…]]></description><link>https://sungpaks.github.io/migration-react-component-to-typescript/</link><guid isPermaLink="false">https://sungpaks.github.io/migration-react-component-to-typescript/</guid><pubDate>Thu, 11 Jan 2024 10:31:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 194px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d6e09a0d402674a88c32375fa6cc6c71/2bf95/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 134.17721518987344%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAIAAADzvTiPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGdElEQVR42hWQZ1CbhwGGvzbYxgYEaEuf9t4LSUif9gAJkJiS0EBoIbGEBhghdpDB5gzGdhsb7PR6cXJpemlcasfFdVoTnARyKR4xcZ3ESWv7mmuda3OdidddW/rv/fE+99w9gKunPxAJe72tOkjZ7PX5e/sikQ5bjdFi0rc0NWaH84MHc8cXT57/+erZ5ZV4fCCZzPX1Z0ZyOY/fBTBIeDaNwGNQ+Gwqj0NRiJjVQqZRKVTL2I4Gy1cPHz64/cmtd9d33t+49/HN+3d2/vzg/tf37//piz8MHcwABAKeRCKg0Sg6nchkkWgUjFLM1sqFfCqmzma+c/3mb3/9q53NDz68cvne7Z2bG9feu/j2BxdX797YnpgYA7AYFB6HxqIRNBoIggg+i2TTV9cadvVgk6Pmzvb257e2P7t1/eP1q3/88vO72x9tXrywffXK7+9+OjM5AbAYdJlEIJNyRCIWi0WW8Gg2vfL/MAt02E3fffvds2ePnzx98uzp079/883jb//9/PnufPL42fNDcwVApxYZIJFVK7YapSo5TyZg2A27sErIItVbtWuXL6+/u/Wbja31ja17nz3Y+vDG1Y2t9659tH5tczQ/BCDhJSCmnE3H8lh4EF0uZFOdVk2tUSXhUm1GlUlTVW/R+V2OTl9rfiQXjwQSwfb+sK8v5h/u7wJoNJpEyNOrqkxamZjPELHpVk2VCZIJOWSTTr7LtzfbesLevqg/3uEaiPgH46FsPJSJh1KxIMBhkHePVSKOXMJSSFlKMVcr52sUPEjBM2ikumqxVSuzWaFaM1RvhiwmyGSCbCbVbtTdNEBDrUmrkEiYdIWIL+IyuXQij07kUPF8OonPIAkZpCoGwcYlmrlkDpXcpxIM1SjNUoZVztWJmEA23Xv82NTFNxdC/obJ0QSm4kDpCwBsz/dKi75fXAQgigBmEeCGFbngJag9+wps/KsWoQGsVFMxuIoSYCLX+7vbb/33P+/Ews4Wi4KK2A+W78XB9qGL91AO7BWX7LGV7ctiYM1EOBdfHiOiLkGsbiq6DkRQSosBDaScHgmvXVhocVhFuDIlfq+UWMLHlHDKi9Ww/c7yskFs6TQBLkOWkjEHkmTslxbRMS4Yo2DU8BKgsdnhc7n9nvYqubTNYXOr2DZWSQ0T1kCENWJh7Sj4OQa2DQl3GoQKPrm6HHYL4r7BJ/pBeAMGBvzr69XNd16ayiX6e7pivsZkqy6kxDTyK2MMRDcNraysdGOQWhS8ySpnE+BYeFkTAe0HcToU0ouvAB5/dfavn/5gc3V6bXl4Mawed9KGaukxFSEpRs/y8Ex4GW1/sYfLSgRaW2rNZAzSgkaiDpTp0ZV9FDjw5NG5R3dOXv3pzOnhpkKHfDFaPdXC6dUTkyrcrBjTR60skPEXJgK/vJQ4/GJzDZO6ImUUOOQRJtoDVgD/uLf4aOfU9UuLr81FFnt0J7pVRwLi4TpWH0RIizELAvQZATjo1+biukxQ6KHAt9SCNyTkcS7WiKsA/vbF6U/WhteWOl+dbD2VMi5GFfMdsuk2Ua6endLgsgLkMQEmToTJwX0C7F47oeKGTnhSQukT4YwMOPDPv7y8cWn0J4vR87Oe02nLUky9EJYfCcrGWnm5Bma/ijAiRC3ywUkemGJjemno942CeRkpIsFLiQjg0cMrNW3hoNfz40nXy0Om41HlkYBgupU33saacLFTekKCVz7Ax73Z5Dxj0mZFhGUlc05CDPBBpwEC1t4+q7P7os3+/q7g0YHGE9mWpbTzUMQy311TiBjHfMakU9VjlBSimXmD/aV22SsN8nEOMqhX2usdwGvnlsw2Z9wXi3XGJpKBQio03u/LJzyzmdChTEfaX1evU3ntlnRv/rDBkoQkS3XVGTZipDvcEwsDU7mkSqFrs7v7Q6GprvpDae9Crnsu5Z/sdc9kAvnuzpjHGnArW93QgFcWaoPadRwjovhnr6wcn58FNKYGEl9TGzvRNboyPHdm9MTro6fOjy3/YmzlwuCp1WThh65IyNXZaG5uckcaPeHmeodFz0L96PTSi/kRACeyImkyc+e0a3jFlz4azh7uHDzsSx1p75nxpI/ZfZ3NXijUU6s2QtFuczBhjYUMibDG7W7RqdUAvdqJ5arbDx6NziyPRZveytafz7emagQdclLWZQweLLQl846u4bpoti6SVLu6gyZIgkPQsGg2mfg/46soWpjeCEUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;다크로드&quot;
        title=&quot;&quot;
        src=&quot;/static/d6e09a0d402674a88c32375fa6cc6c71/2bf95/image.png&quot;
        srcset=&quot;/static/d6e09a0d402674a88c32375fa6cc6c71/c26ae/image.png 158w,
/static/d6e09a0d402674a88c32375fa6cc6c71/2bf95/image.png 194w&quot;
        sizes=&quot;(max-width: 194px) 100vw, 194px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Gatsby는 리액트를 기반으로 하기 때문에,&lt;br&gt;
처음 시작하면 &lt;code class=&quot;language-text&quot;&gt;index.js&lt;/code&gt;등의 &lt;code class=&quot;language-text&quot;&gt;.js&lt;/code&gt;파일들이 각각&lt;br&gt;
Component를 &lt;code class=&quot;language-text&quot;&gt;export&lt;/code&gt;하는 것을 볼 수 있습니다. &lt;br&gt;
리액트 사용자라면 너무 익숙하죠?&lt;/p&gt;
&lt;p&gt;이번 시간에는 이렇게 생겨먹은 &lt;strong&gt;React Component&lt;/strong&gt; 스타일의 &lt;code class=&quot;language-text&quot;&gt;.js&lt;/code&gt;친구들을&lt;br&gt;
&lt;strong&gt;타입스크립트&lt;/strong&gt;(&lt;code class=&quot;language-text&quot;&gt;.ts&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;.tsx&lt;/code&gt;)로 바꿔버리는...&lt;br&gt;
마이그레이션 작업을 좀 해보겠습니다&lt;br&gt;
그냥.. 얼마전에 &lt;strong&gt;TypeScript&lt;/strong&gt; 이론을 공부했으니까.. 이걸 실제로 써보려고 그럽니다&lt;br&gt;
그리고 더 늦기 전에 갈아타야 좀 수월하지 않겠습니까?&lt;/p&gt;
&lt;p&gt;들어가기에 앞서..&lt;br&gt;
&lt;a href=&quot;https://www.gatsbyjs.com/docs/how-to/custom-configuration/typescript/#gatsby-configts&quot;&gt;공홈&lt;/a&gt;도 참고했고&lt;br&gt;
매우 똥같은 번역이 있지만 꽤나 참고가 된 &lt;a href=&quot;https://hackernoon.com/ko/javascript%EC%97%90%EC%84%9C-typescript%EB%A1%9C-%EB%B0%98%EC%9D%91-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95&quot;&gt;링크&lt;/a&gt;도 있습니다&lt;/p&gt;
&lt;h1 id=&quot;typescript-initialize&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#typescript-initialize&quot; aria-label=&quot;typescript initialize permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;TypeScript Initialize&lt;/h1&gt;
&lt;p&gt;그.. 타입스크립트는 준비 하셨죠?&lt;br&gt;
그럼 이제 initialize 하겠습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm init gatsby -ts&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;그럼 이제 &lt;code class=&quot;language-text&quot;&gt;tsconfig.json&lt;/code&gt;파일이 생기는데요&lt;br&gt;
&lt;a href=&quot;https://github.com/gatsbyjs/gatsby/blob/master/starters/gatsby-starter-minimal-ts/tsconfig.json&quot;&gt;gatsby-minimal-starter-ts&lt;/a&gt;에서 내용을 긁어다 쓰셔도 무방하다고 공홈에서 그러네요&lt;br&gt;
저도 그냥 긁었습니다&lt;/p&gt;
&lt;p&gt;그런 다음 일단 &lt;code class=&quot;language-text&quot;&gt;gatsby-*.js&lt;/code&gt;들을 &lt;code class=&quot;language-text&quot;&gt;.ts&lt;/code&gt;로 바꿔줍시다&lt;br&gt;
얘네들은 제 경험상으론 확장자만 바꿔주고 딱히 뭐 안해줘도 됩니다&lt;/p&gt;
&lt;h1 id=&quot;이제-하나하나-수정해봅시다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%A0%9C-%ED%95%98%EB%82%98%ED%95%98%EB%82%98-%EC%88%98%EC%A0%95%ED%95%B4%EB%B4%85%EC%8B%9C%EB%8B%A4&quot; aria-label=&quot;이제 하나하나 수정해봅시다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이제 하나하나 수정해봅시다&lt;/h1&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;src/component/&lt;/code&gt; 또는.. &lt;code class=&quot;language-text&quot;&gt;src/pages/&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;src/templates/&lt;/code&gt; 이런 곳에 있는 &lt;code class=&quot;language-text&quot;&gt;.js&lt;/code&gt;들을 &lt;code class=&quot;language-text&quot;&gt;.ts&lt;/code&gt;로 바꿀건데요&lt;br&gt;
확장자를 바꾸고나면 빨간줄이 좍좍 그어질텐데&lt;br&gt;
겁나지만 하나씩 좀 해봅시다..&lt;/p&gt;
&lt;p&gt;해야 할 일들은 대충&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;혹시 컴포넌트를 &lt;em&gt;Functional Component&lt;/em&gt; 형태로 쓰셨다면 &lt;code class=&quot;language-text&quot;&gt;import {FC} from &quot;react&quot;&lt;/code&gt;를 써서 &quot;이거 리액트 컴포넌트임&quot;을 알려야하는 것 같습니다&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;&lt;code class=&quot;language-text&quot;&gt;props&lt;/code&gt;에 type safety 집어넣기&lt;/em&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt;에 type 주기&lt;br&gt;
(예 : &lt;code class=&quot;language-text&quot;&gt;[data, setData] = useState() =&gt; [data, setData] = useState&amp;lt;typename&gt;()&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;필요한 친구들은 타입스크립트버전(&lt;code class=&quot;language-text&quot;&gt;@types/&lt;/code&gt;)를 다시 설치해줘야 합니다&lt;br&gt;
(예 : &lt;code class=&quot;language-text&quot;&gt;import kebabCase from &quot;lodash.kebabcase&quot;&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;npm i --save-dev @types/lodash.kebabcase&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;마지막에 &lt;code class=&quot;language-text&quot;&gt;gatsby-node.js&lt;/code&gt;에서 &lt;code class=&quot;language-text&quot;&gt;createPages&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;component&lt;/code&gt;항목들을 &lt;code class=&quot;language-text&quot;&gt;.js&lt;/code&gt;-&gt;&lt;code class=&quot;language-text&quot;&gt;.ts&lt;/code&gt;로 바꾸는 것을 잊지 말도록 합시다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 중에서 props에 type넣기를 한번 같이 보겠습니다&lt;/p&gt;
&lt;h1 id=&quot;props에-type-safety-보장하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#props%EC%97%90-type-safety-%EB%B3%B4%EC%9E%A5%ED%95%98%EA%B8%B0&quot; aria-label=&quot;props에 type safety 보장하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;props에 type safety 보장하기&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 549px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a2d14be78172fbdbe9f4735cf7e2b4c7/928ea/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.21518987341772%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA6klEQVR42oWQWW7EIBBEfZIoko0BL5jFgMEzXmY09z9SpU2iLF/5eKKaakFXVzlnbNuGGCOWZSG9YxwVjLEF7wOstRiGESll0g7OzcW79E+vQV03qEJc4AmlqcH5YkrZgXMBISTalqOlk7EWTc3QNH8p9790ZUKCXU/47YXJJ8w0UYypTJMJTT+7vEN2Pfj1+D9UY6CI4cQQnlCk1fJEb9cS/76f2Ih8u2PfDxznA2rS6Cn+QFG/ueovqnc5oJEaTCVMztJECh1nmGkFMR0Iyx3r7fG5DjXCqQmdEORrzEbDdAPVFJlzCPaGD+e9m5lS8uNwAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1&quot;
        title=&quot;&quot;
        src=&quot;/static/a2d14be78172fbdbe9f4735cf7e2b4c7/928ea/image-1.png&quot;
        srcset=&quot;/static/a2d14be78172fbdbe9f4735cf7e2b4c7/c26ae/image-1.png 158w,
/static/a2d14be78172fbdbe9f4735cf7e2b4c7/6bdcf/image-1.png 315w,
/static/a2d14be78172fbdbe9f4735cf7e2b4c7/928ea/image-1.png 549w&quot;
        sizes=&quot;(max-width: 549px) 100vw, 549px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;확장자를 바꾸고 나면 가장 먼저 눈에 띄는 빨간줄은 이녀석입니다&lt;br&gt;
사실 이 마이그레이션 작업은 props에 type만 잘 넣어주면 됩니다&lt;br&gt;
만약 &lt;code class=&quot;language-text&quot;&gt;const Component=({description, title}) =&gt; {}&lt;/code&gt;같은 컴포넌트가 있다면&lt;br&gt;
저같은 경우는 &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;를 이용하여&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ComponentProps&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
  title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Component&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; description&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; title &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ComponentProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런식으로 해줬습니다&lt;/p&gt;
&lt;p&gt;근데 문제는 graphql 쿼리로 가져오는 &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;같은 props들은 이렇게 단순하게 끝나지 않는데요...&lt;br&gt;
이 쿼리들 데이터들의 객체관계를 하나하나 &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;로 표현하고 또 &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;로.. 아휴&lt;br&gt;
그냥 GPT한테 query문을 긁어서 가져갑시다..&lt;br&gt;
알아서 잘 해줍니다.&lt;br&gt;
아니면 나중에 안 사실인데&lt;br&gt;
공홈에 보니까 &lt;a href=&quot;https://www.gatsbyjs.com/docs/how-to/local-development/graphql-typegen&quot;&gt;GraphQL Typegen&lt;/a&gt;이라는게 존재합니다 쩝&lt;/p&gt;
&lt;p&gt;아무튼 각 컴포넌트들마다 &lt;code class=&quot;language-text&quot;&gt;export const pageQuery = graphql&lt;/code&gt;로 시작하는 쿼리문들을 긁어다가 GPT한테 인터페이스를 만들어달라고 하면
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e5fb0015d43295207695651b0c559685/36c33/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 76.58227848101265%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB00lEQVR42qWSWW/aQBSFZzM4xo4DNobiBnC6qAQpJWyt1AQwJGFxSCsKap76///F6fWktDx0QeTh6M7cOfrmjOayj5sVbpdrLBZrdHsjvL+8QrszQKc71LVF+8v27962n9bUv6t25xqsN57jLtlg9fU7kvtHrelsjemcLkm+IVk+6jqj/e3dCrPFBpObLxgME8TjB4wnn7VG4yVBY7B2a4DrwRzzZE0HD2RaYjhKtGLaj+J7bU6V+tL+p6vpTrIYvX5M6dL0I7Buf4x3jRbevG2gWjtDOayhclpHSHqpFeG0Gun1tlarZ6jVX2nVo9donF/gvHmBZrMN1v8wgR+EyDoebLeActZAYBhwjQykkmCM/VdCCF0D4mhgkRYmN+CYWXi2gEkgwTg453sBt75isbIFVp4OhAQnkEEG9fPWg4AeLZycj6KXR+QqFFQGOXoy4wcBb1DwSnCYgk9PDlwJ0xRkYs9I6JfhSwvRsYPw+AgnFodtysOAPQKWSqFuSMHpx/ZP9teEBf8FhOnAzLnw6YdzmczhwF5/goASWspC3j5C4AgYSj0voV+s/Drg6dNpdBR/kthjfP44NlbOg++WULMViQZcGshLBUNKeJ4H9Y/Uu8AfjRdz9D97GKEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;GPT 결과&quot;
        title=&quot;&quot;
        src=&quot;/static/e5fb0015d43295207695651b0c559685/f058b/image-2.png&quot;
        srcset=&quot;/static/e5fb0015d43295207695651b0c559685/c26ae/image-2.png 158w,
/static/e5fb0015d43295207695651b0c559685/6bdcf/image-2.png 315w,
/static/e5fb0015d43295207695651b0c559685/f058b/image-2.png 630w,
/static/e5fb0015d43295207695651b0c559685/40601/image-2.png 945w,
/static/e5fb0015d43295207695651b0c559685/36c33/image-2.png 946w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
잘 뱉어줍니다.&lt;/p&gt;
&lt;p&gt;이제 이걸 가져다가 적당히 &lt;code class=&quot;language-text&quot;&gt;interface ComponentProps {}&lt;/code&gt;를 작성하고 타입을 명시해주면 되겠습니다.&lt;/p&gt;
&lt;p&gt;근데 저같은 경우는 어떤 props는 상황에 따라 props를 넣을 수도 넣지 않을 수도 있는&lt;br&gt;
꽤나 양자역학적인 슈뢰딩거의 props문제가 있었습니다&lt;/p&gt;
&lt;p&gt;이 경우 간단히... &lt;code class=&quot;language-text&quot;&gt;:&lt;/code&gt; 대신 &lt;code class=&quot;language-text&quot;&gt;?:&lt;/code&gt;를 씁시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ComponentProps&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Schrödinger&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; cat
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;저처럼 바보같이 &lt;code class=&quot;language-text&quot;&gt;Schrödinger: cat | undefined&lt;/code&gt; 이런 트라이를 하지 말도록 합시다.&lt;br&gt;
그리고 처음 하시면 헷갈리실까봐 말씀드리는건데&lt;br&gt;
함수를 넘길 때는.. 만약 인자는 &lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;타입이고 반환값은 없다면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;function(param: number): void&lt;/code&gt; 이런식입니다&lt;/p&gt;
&lt;h1 id=&quot;해치웠나&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%B4%EC%B9%98%EC%9B%A0%EB%82%98&quot; aria-label=&quot;해치웠나 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;해치웠나?&lt;/h1&gt;
&lt;p&gt;음.. 해치운 것 같습니다.&lt;br&gt;
막상 별거 없죠?&lt;br&gt;
인생이란게 그렇습니다.&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🔌 옵시디언 플러그인 개발 이렇게 시작해보세요]]></title><description><![CDATA[여러분은 노트 앱 뭐쓰시나요 보통 노션 자주들 쓰시는데.. 저도 노션 썼었지만 힙해보여서 여러 이유로 옵시디언으로 갈아탄지…]]></description><link>https://sungpaks.github.io/how-to-make-obsidian-plugin/</link><guid isPermaLink="false">https://sungpaks.github.io/how-to-make-obsidian-plugin/</guid><pubDate>Sun, 07 Jan 2024 12:45:00 GMT</pubDate><content:encoded>&lt;p&gt;여러분은 노트 앱 뭐쓰시나요&lt;br&gt;
보통 노션 자주들 쓰시는데.. 저도 노션 썼었지만&lt;br&gt;
&lt;del&gt;힙해보여서&lt;/del&gt; 여러 이유로 옵시디언으로 갈아탄지 6개월? 됐습니다&lt;/p&gt;
&lt;p&gt;블로그를 쓸 때도 어차피 블로그 글도 마크다운이니까&lt;br&gt;
옵시디언에 어느정도 써놓고 거의 그대로 옮기다시피 할 때도 많습니다.&lt;/p&gt;
&lt;p&gt;그런데 불편한 점이 하나 있다면&lt;br&gt;
옵시디언은 이미지를 붙여넣으면 로컬 이미지파일을 새로 생성하고 &lt;code class=&quot;language-text&quot;&gt;![[image.png]]&lt;/code&gt; 이렇게 붙여넣습니다.&lt;br&gt;
이건 그냥 커뮤니티 플러그인인 imgur 플러그인을 씁니다&lt;br&gt;
이 친구는 &lt;code class=&quot;language-text&quot;&gt;imgur.com&lt;/code&gt;에 이미지를 업로드해주고 그 URL로 &lt;code class=&quot;language-text&quot;&gt;![](URL)&lt;/code&gt; 이렇게 붙여넣어주는 고마운 친구입니다&lt;br&gt;
이러면 로컬에 계속 이미지들이 주르륵 존재할 필요도 없고 편하죠&lt;/p&gt;
&lt;p&gt;그런데 깃허브블로그를 시작하면서 느낀 문제점은..&lt;br&gt;
이렇게 &lt;code class=&quot;language-text&quot;&gt;![](URL)&lt;/code&gt; 형태로 붙여넣으면 크기 조절이 안 되기도 하고&lt;br&gt;
현재 브라우저의 폭 따위는 신경쓰지 않고 원본 크기로 존재하기 때문에&lt;br&gt;
가로 스크롤 바가 생겨버려서 매우 열받는 점이 있습니다&lt;/p&gt;
&lt;p&gt;아무튼.. 그런 이유로 &lt;code class=&quot;language-text&quot;&gt;![](URL)&lt;/code&gt; 형태를 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;img src=&quot;URL&quot;/&gt;&lt;/code&gt; 이렇게 바꿔서&lt;br&gt;
사이즈나 여타 옵션같은걸 마음대로 넣고 싶은데&lt;br&gt;
저렇게 이미지 태그로 바꾸는 과정이 상당히 귀찮습니다..&lt;br&gt;
그래서 버튼 하나로 저걸 모두 이미지태그로 바꿔주는 플러그인을 만들어버리자!&lt;br&gt;
라는 생각을 해서.. 실제로 만들어봤습니다.&lt;/p&gt;
&lt;h1 id=&quot;시작하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0&quot; aria-label=&quot;시작하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;시작하기&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://steemit.com/hive-137029/@anpigon/started-obsidian-plugin-development&quot;&gt;이 블로그 글&lt;/a&gt;을 참고했습니다. 감사합니다 _ _&lt;/p&gt;
&lt;p&gt;링크에 아주 친절한 설명이 잘 나와있습니다&lt;/p&gt;
&lt;p&gt;일단 꼭!! 다른 새로운 Vault를 생성하고 거기서 작업하도록 합시다&lt;/p&gt;
&lt;p&gt;가장 먼저..&lt;br&gt;
기본적으로 Obsidian에서 제공하는 Example Plugin Template이 있습니다&lt;br&gt;
이걸 이용해 새 플러그인 레포지토리를 만들고,&lt;br&gt;
옵시디언 Vault의 &lt;code class=&quot;language-text&quot;&gt;yourVault/.obsidian/plugin&lt;/code&gt; 경로로 들어가서&lt;br&gt;
방금 만든 레포지토리를 클론합니다&lt;br&gt;
레포지토리 이름은, &lt;code class=&quot;language-text&quot;&gt;obsidian-&lt;/code&gt;으로 시작하는게 국룰인 것 같으니 따라해줍시다&lt;/p&gt;
&lt;p&gt;그럼 이제 클론받은 폴더로 이동해서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm i&lt;/code&gt;로 의존성을 설치하고, &lt;code class=&quot;language-text&quot;&gt;npm run dev&lt;/code&gt;로 코드를 빌드합니다&lt;br&gt;
이제 옵시디언에서 설정-&gt;커뮤니티 플러그인-&gt;(먼저 커뮤니티 플러그인 사용을 활성화하고)-&gt;하단에 설치된 플러그인에서 새로고침을 누릅니다.&lt;br&gt;
이제 등장한 &lt;code class=&quot;language-text&quot;&gt;Sample Plugin&lt;/code&gt;을 활성화합니다&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/WpFrrnP.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;100%/&quot;&gt;&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;manifest.json&lt;/code&gt; 파일을 수정하여 &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt;같은걸 적당히 바꿔보시고 진행하시면 됩니다..&lt;br&gt;
그리고 마지막에 나오는 &lt;code class=&quot;language-text&quot;&gt;hot-reload&lt;/code&gt;플러그인 받아서 켜놓고 하면 확실히 편합니다.&lt;br&gt;
링크에서 설명을 잘 해주셔서 세팅은 이정도로 하겠습니다&lt;/p&gt;
&lt;h1 id=&quot;어떻게-개발합니까&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%96%B4%EB%96%BB%EA%B2%8C-%EA%B0%9C%EB%B0%9C%ED%95%A9%EB%8B%88%EA%B9%8C&quot; aria-label=&quot;어떻게 개발합니까 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;어떻게 개발합니까?&lt;/h1&gt;
&lt;p&gt;Obsidian Plugin 공식 Docs에서는 &lt;code class=&quot;language-text&quot;&gt;main.ts&lt;/code&gt; 또는 새로운 &lt;code class=&quot;language-text&quot;&gt;.ts&lt;/code&gt;파일을 만들어서 코드를 작성하라고 합니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;main.js&lt;/code&gt;에는 뭔가 작성하지 마세요.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;main.ts&lt;/code&gt;에 작성된 내용이 이곳에 자동으로 컴파일됩니다.&lt;/p&gt;
&lt;p&gt;맞다! &lt;code class=&quot;language-text&quot;&gt;npm run dev&lt;/code&gt; 켜놓으셨죠?&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/sX7r9nP.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;100%/&quot;&gt;&lt;br&gt;
대충 이런 상태여야 합니다&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;main.ts&lt;/code&gt; 열어봅시다&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/MHKQyIf.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;100%/&quot;&gt;&lt;br&gt;
뭐가 많네요... 쩝&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const ribbonIconEl&lt;/code&gt; 밑에 마우스 이벤트가 정의되어 있으니 여기를 한번 수정해볼까요??&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/lMoVNKl.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;100%/&quot;&gt;
이렇게 바꿔봅시다&lt;br&gt;
저장하고 왼쪽 사이드바의 주사위모양 아이콘을 눌러봅시다&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/UAIBAsX.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;70%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
이거 눌러보면.. 짜잔&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/Mff2C1t.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;50%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
귀여운 Notice가 뜹니다!&lt;/p&gt;
&lt;p&gt;오.. 그러면 저 부분을 적당히 작성하면 버튼 한번으로 전부 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;img&gt;&lt;/code&gt; 태그로 바꿔버릴 수 있겠죠??&lt;/p&gt;
&lt;h1 id=&quot;데이터에-접근하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%97%90-%EC%A0%91%EA%B7%BC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;데이터에 접근하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;데이터에 접근하기&lt;/h1&gt;
&lt;p&gt;그럼 이제 데이터를 가져오는 법이 궁금합니다?&lt;br&gt;
데이터를 가져와야 현재 열린 파일에서 &lt;code class=&quot;language-text&quot;&gt;![]()&lt;/code&gt;만 쏙 뽑아서 그 URL 그대로 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;img&gt;&lt;/code&gt;태그로 변환할 수 있겠죠?&lt;/p&gt;
&lt;p&gt;처음엔 이게 제가 못 찾은건지.. 대충써놓은건지.. 잘 못찾다가&lt;br&gt;
&lt;a href=&quot;https://forum.obsidian.md/t/how-to-get-current-file-content-without-yaml-frontmatter/26197&quot;&gt;여기&lt;/a&gt;에서 데이터에 접근하는 적절한 방법을 찾을 수 있었습니다&lt;/p&gt;
&lt;p&gt;일단 현재 앱에서 열린 워크스페이스를 가져오려면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;this.app.workspace&lt;/code&gt; 객체를 가져옵니다.&lt;br&gt;
만약 .. 현재 열린 파일을 가져오려면 &lt;code class=&quot;language-text&quot;&gt;this.app.workspace.getActiveFile();&lt;/code&gt; 이런식이겠고,&lt;br&gt;
현재 활성화된 에디터 객체는 &lt;code class=&quot;language-text&quot;&gt;this.app.workspace.activeEditor.editor&lt;/code&gt;로 가져올 수 있습니다.&lt;br&gt;
이 에디터 객체를 &lt;code class=&quot;language-text&quot;&gt;const editor&lt;/code&gt;로 유지해두고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;editor.getDoc().getValue()&lt;/code&gt;를 메소드를 사용하여 출력해보면..&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; f &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;workspace&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getActiveFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; editor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;workspace&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;activeEditor&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;editor
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;editor &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Notice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;editor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getDoc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/3VrfWm3.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
오호...&lt;br&gt;
이제 값을 잘 변화시킬 수도 있는지 보기 위해&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;editor.getDoc().setLine(0, &quot;Hello!!&quot;)&lt;/code&gt; 줄을 추가해봅시다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;Notice&lt;/code&gt; 밑에 추가하면 먼저 바뀌기 전 값들이 나오고 맨 윗줄이 바뀌어버리겠죠?&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/tVt3PBH.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/Eekqykt.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;40%&quot; height=&quot;auto&quot;&gt;&lt;br&gt;
와우. . 준비가 끝났습니다.&lt;/p&gt;
&lt;h1 id=&quot;구현-ㄱ&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B5%AC%ED%98%84-%E3%84%B1&quot; aria-label=&quot;구현 ㄱ permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;구현 ㄱ&lt;/h1&gt;
&lt;p&gt;흠.. 일단 &lt;code class=&quot;language-text&quot;&gt;replace&lt;/code&gt;나 &lt;code class=&quot;language-text&quot;&gt;match&lt;/code&gt;같은걸 이용해서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;![](URL)&lt;/code&gt;처럼 생긴 부분을 찾고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;URL&lt;/code&gt;만 뽑아다가 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;img&gt;&lt;/code&gt;태그를 만들어내면 될 것 같습니다&lt;/p&gt;
&lt;p&gt;그럼 일단 정규표현식이 필요한데요&lt;br&gt;
GPT한테 물어보니&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const regex = /!\[]\(([^)]+)\)/;&lt;/code&gt;&lt;br&gt;
이런걸 뱉었습니다.&lt;br&gt;
이제 이 정규표현식으로 &lt;code class=&quot;language-text&quot;&gt;const matchedStrings = content.match(regexByURL);&lt;/code&gt;과 같이 쓰면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;matchedStrings[1]&lt;/code&gt;에 제가 원하던 URL이 추출되어있게 됩니다!!&lt;/p&gt;
&lt;p&gt;이제 이 URL을 가지고 &lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const imgTag = &apos;&amp;lt;img src=&quot;&apos; + url + &apos;&quot; alt loading=&quot;lazy&quot; /&gt;&apos;;&lt;/code&gt;&lt;br&gt;
이렇게 써준다면 이미지 태그를 완성할 수 있습니다&lt;/p&gt;
&lt;p&gt;사이즈나 다른 옵션같은거는 명령어 팔레트로 세팅을 미리 해놓도록 하면 좋겠는데,&lt;br&gt;
귀찮으니 나중에 또 업데이트하려고 합니다&lt;/p&gt;
&lt;p&gt;아무튼.. 근데 그냥 이렇게 만든 &lt;code class=&quot;language-text&quot;&gt;imgTag&lt;/code&gt;를 반환하기에는 앞뒤로 다른 무고한 문자열이 있을 수도 있겠죠?&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;content.replace(regex, imgTag)&lt;/code&gt; 이런식으로 써서 해당 부분만 쏙! 바꿔주도록 합시다&lt;br&gt;
그리고 한 라인 내에 여러 이미지가 있을 수도 있으니까&lt;br&gt;
이미지가 있었으면 바뀐 문자열이 나올거고,&lt;br&gt;
이미지가 없으면 &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;이 반환되도록 한 뒤&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;이 반환될 때까지 반복적으로 수행하도록 해줍니다&lt;/p&gt;
&lt;p&gt;그럼 .. 짜잔 버튼만 누르면&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/eAOkQe1.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;50%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
이랬던게&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/cfgIgZC.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
요래 됩니다&lt;br&gt;
성공적이네요~&lt;/p&gt;
&lt;h1 id=&quot;다른-곳에서-쓰려면&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8B%A4%EB%A5%B8-%EA%B3%B3%EC%97%90%EC%84%9C-%EC%93%B0%EB%A0%A4%EB%A9%B4&quot; aria-label=&quot;다른 곳에서 쓰려면 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;다른 곳에서 쓰려면&lt;/h1&gt;
&lt;p&gt;칼은 사용을 해야 칼이겠죠?&lt;br&gt;
마침 또 작업한건 다른 테스트용 Vault였으니&lt;br&gt;
이걸 원래 쓰던 Vault에 가져와보도록 합시다&lt;/p&gt;
&lt;p&gt;일단 작업한 내용을 github 레포지토리에 푸시하고&lt;br&gt;
Release를 하나 만듭니다&lt;br&gt;
Release에는 세 가지 파일을 넣습니다:&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;manifest.json, main.js, style.css&lt;/code&gt;\&lt;/p&gt;
&lt;p&gt;이제 이 release된 세 파일을 다른 vault에서 쓰려면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;yourAnotherVault/.obsidian/plugins&lt;/code&gt;에 새로운 폴더를 만들고&lt;br&gt;
세 파일을 집어넣으면 됩니다&lt;br&gt;
이제 커뮤니티 플러그인 -&gt; 설치된 플러그인 -&gt; 새로고침 한번 해주면&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/GyoeEBZ.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
와 우! 이제 사용하면 됩니다!&lt;/p&gt;
&lt;p&gt;깃허브의 obsidian-release 레포지토리에 PR등록하면 커뮤니티 플러그인으로 등록할 수 있는 것 같은데&lt;br&gt;
이런 너무 단순한 플러그인을 받아줄지? 도 의심스러울 뿐더러&lt;br&gt;
쫌.. 귀찮아서 나중에 하렵니다&lt;/p&gt;
&lt;hr&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;p&gt;시작할때는 꽤나 막막했는데&lt;br&gt;
막상 해보니까 별로 한 것도 없어보이네요&lt;br&gt;
쩝.. 인생이란 원래 그런게 아닐지~&lt;/p&gt;
&lt;p&gt;전에 커리어리 눈팅하다가&lt;br&gt;
개발자 공부하고 취준하고 하는게 너무 막막하다 라는 글에&lt;br&gt;
원래 개발이라는게 막막하고 시니어도 그렇다. 그 막막함을 직시하는게 중요한 것 같다.&lt;br&gt;
이런 답변을 본 적 있습니다&lt;/p&gt;
&lt;p&gt;저도 뭔가 새로 할 때마다 너무 막막한데&lt;br&gt;
지나고 보면.. 하면 되는구나 싶습니다&lt;br&gt;
아무튼 이런 것도 해보고&lt;br&gt;
재밌네요~&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[😏 저랑.. 타입스크립트 공부 하실래요? (TypeScript)]]></title><description><![CDATA[안녕하세요. 오늘은 TypeScript 가져왔습니다. 저도 TypeScript는 처음 써보는데요.. 이게 저는 C나 C++, Java…]]></description><link>https://sungpaks.github.io/studying-typescript-day1/</link><guid isPermaLink="false">https://sungpaks.github.io/studying-typescript-day1/</guid><pubDate>Thu, 04 Jan 2024 11:43:00 GMT</pubDate><content:encoded>&lt;p&gt;안녕하세요.&lt;br&gt;
오늘은 TypeScript 가져왔습니다.&lt;br&gt;
저도 TypeScript는 처음 써보는데요..&lt;br&gt;
이게 저는 C나 C++, Java..같은&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;int a = 10;&lt;/code&gt; 이런 것만 해봤고&lt;br&gt;
이거에 익숙해서 그런지&lt;br&gt;
그냥 냅다 &lt;code class=&quot;language-text&quot;&gt;const a = 10;&lt;/code&gt; 이런 식으로 쓰는거 정말 적응 안됩니다.&lt;br&gt;
그리고 요새는 파이썬을 또한 다시 만져보고 있는데&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;a = 10&lt;/code&gt; 이건 정말.. 더 그러네요&lt;/p&gt;
&lt;p&gt;아무튼 이렇게 Javscript는 타입이 불분명하다는 점 때문에 다른 사람들도 어지간히 불편했나 봅니다.&lt;br&gt;
이런 니즈가 있었기에 마이크로소프트에서 &lt;strong&gt;TypeScript&lt;/strong&gt;라는 것을 내놓았는데요&lt;br&gt;
꽤나 널리 쓰이게 된지 좀 된 것 같습니다&lt;/p&gt;
&lt;p&gt;그래서 남들 하는건 저도 해야겠으니&lt;br&gt;
어떻게 공부를 시작해볼까? 생각하다가 그냥&lt;br&gt;
쩝.. Document나 열어봐야지.. 하여 좀 살펴봤습니다&lt;br&gt;
TypeScript는 친절하게도 여러 수준의 맞춤형 핸드북을 제공합니다&lt;br&gt;
저는 JavaScript Programmer를 위한.. &lt;a href=&quot;https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html&quot;&gt;이거&lt;/a&gt;를 골라봤습니다.&lt;br&gt;
저랑 같이 공부 허쉴?&lt;/p&gt;
&lt;h2 id=&quot;typescript는요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#typescript%EB%8A%94%EC%9A%94&quot; aria-label=&quot;typescript는요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;TypeScript는요..&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://www.typescriptlang.org/&quot;&gt;여기&lt;/a&gt;에서 소개하는 TypeScript의 특징? 편의성? 머 아무튼 그런거는&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;에디터에서 타입을 체크해줍니다&lt;/li&gt;
&lt;li&gt;자동완성도 해줍니다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;를 제공합니다. (구조체와 유사)&lt;/li&gt;
&lt;li&gt;JSX에서도, props같은거 타입을 지정할 수 있게 해줍니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;음.. 좋네요&lt;br&gt;
이제 본격적으로 뜯어봅니다&lt;br&gt;
아 그리고 이제 귀찮으니까 TypeScript는 TS로 줄여서 쓰겠습니다. JavaScript도 JS로 줄여쓰고싶어지면 그렇게 하겠습니다.&lt;/p&gt;
&lt;h2 id=&quot;types-by-inference&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#types-by-inference&quot; aria-label=&quot;types by inference permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Types By Inference&lt;/h2&gt;
&lt;p&gt;타입을 추론하여 정한다는 내용인데요&lt;br&gt;
예를 들어, 이전에 보통 Javascript에서 으레 하듯이&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;let helloWorld = &quot;Hello World&quot;;&lt;/code&gt;라고 쓴다면&lt;br&gt;
TS는 아! &lt;code class=&quot;language-text&quot;&gt;helloWorld&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt; 타입이다! 를 기억합니다&lt;br&gt;
그럼 이제 나중에 10같은 &lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;값을 실수로 넣는 상황이 되어도 빨간줄을 좍좍 그어줍니다. 이렇게
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 331px; &quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/e994a8e01f3d3e504a0217eb8466d505/62452/image.png&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 24.68354430379747%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABC0lEQVR42lWP2W7DIBBF8/+/ZrVVtsbZFC9xDBibAS8kWMnthD4FCc0cGJ0LC++f0OYF1wc0jUJVVSBjUOQ5pJCQUjITvL+DRsKNatR0Q+8t7MRsKkjXQFoBGhwW/TAjr2eQ88hZcuFdsnS1XiLLMhRlAaUErLUYJoejOKBs+YwFykoc6yPzNYa4t7Aucmx/Epx3W6TfX1glCa6nEy7pLyb/QOs09mKP9LBHCAGf6/VJrycWY8NJuzWCqCB2S6h0A7FZocvO0LpB2zZQWuHEIUopaGYiwjj2fKd5Rsc6jMO/8BE8fLjHhPk54x74VWRi7UzLX6UoeMu6roMxHfqhh5/G2BPPag50zkXHH7nOeNeb5enRAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;image&quot; title=&quot;&quot; src=&quot;/static/e994a8e01f3d3e504a0217eb8466d505/62452/image.png&quot; srcset=&quot;/static/e994a8e01f3d3e504a0217eb8466d505/c26ae/image.png 158w,
/static/e994a8e01f3d3e504a0217eb8466d505/6bdcf/image.png 315w,
/static/e994a8e01f3d3e504a0217eb8466d505/62452/image.png 331w&quot; sizes=&quot;(max-width: 331px) 100vw, 331px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;defining-types&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#defining-types&quot; aria-label=&quot;defining types permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Defining Types&lt;/h2&gt;
&lt;p&gt;타입을 정의한다는 내용인데요&lt;br&gt;
항상 위에서처럼 타입 추론에 의지할 수는 없습니다&lt;br&gt;
디자인 패턴에 따라서는 명시를 해야할 수도 있고,&lt;br&gt;
그게 아니더라도 선언과 동시에 값을 초기화하지 않을 수도 있죠?&lt;/p&gt;
&lt;p&gt;따라서 TS는 사용자에게 타입을 명시할 수 있도록 extension을 제공합니다.&lt;br&gt;
이름이라면 응당 문자열이게끔 &lt;code class=&quot;language-text&quot;&gt;name: string&lt;/code&gt;과 같이 쓴다던가,&lt;br&gt;
학번이라면 당연히 숫자이게끔 &lt;code class=&quot;language-text&quot;&gt;id: number&lt;/code&gt;라고 쓴다던가.. 말입니다&lt;/p&gt;
&lt;p&gt;만약 Sungho라는 이름의, 학번이 190001인 학생이 있다면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const student = {name: &quot;Sungho&quot;, id: 190001};&lt;/code&gt;
이렇게 작성할 수 있을텐데요
대신 좀 더 엄격하게, TS를 이용하여 &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;를 선언하고 사용해볼 수 있습니다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Student&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
  id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; student&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Student &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Sungho&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;190001&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게, &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;를 선언하고 사용하여 객체의 각 property의 타입을 강제할 수 있습니다.&lt;br&gt;
이렇게 쓰면 좋은 점은, 타입을 잘못 쓴 경우 (&lt;code class=&quot;language-text&quot;&gt;name: 190001&lt;/code&gt;처럼..)말고도 하나 더있는데요,&lt;br&gt;
예를 들어 property 이름이 헷갈려서 이름을 &lt;code class=&quot;language-text&quot;&gt;username: &quot;Sungho&quot;&lt;/code&gt;라고 써버리는 상황을 또한 방지할 수 있습니다.&lt;/p&gt;
&lt;p&gt;아 그리고 객체지향언어인 JS는 클래스가 있으니까 TS에서도&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StudentAccount&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
  id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; id
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 타입을 정의할 수 있습니다.&lt;br&gt;
TS의 신기한 특징은, 위에서 살펴본 &lt;code class=&quot;language-text&quot;&gt;interface Student&lt;/code&gt;에 대해&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const student: Student = new StudentAccount(&quot;Sungho&quot;, 190001);&lt;/code&gt;&lt;br&gt;
과 같이 써버릴 수 있습니다.&lt;br&gt;
TS가 &lt;em&gt;Structural Type System&lt;/em&gt;이라서 가능한데, 이거에 관해서는 밑에서 다룹니다&lt;/p&gt;
&lt;p&gt;그리고 함수에서도,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;function setStudent(student: Student) {}&lt;/code&gt;와 같이 인자 타입을 정의할 수도 있고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;function getStudent(): Student {}&lt;/code&gt;와 같이 리턴값의 타입을 정의할 수도 있습니다.&lt;/p&gt;
&lt;p&gt;이 정의할 수 있는 타입은&lt;br&gt;
JS에서 기본적으로 존재하는 primitive type인&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;boolean&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;bigint&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;symbol&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이런 거에 추가로 TS에서 지원하는 타입으로&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;any&lt;/code&gt; : 뭐든 허용&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;unknown&lt;/code&gt; : &lt;code class=&quot;language-text&quot;&gt;any&lt;/code&gt;와 비슷하지만, 실제로 사용 시 타입을 써야 함&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;never&lt;/code&gt; : 값이 항상 없음..을 의미하는데, 어떤 함수가 무한루프를 돌거나 항상 오류를 발생시키는 등 &quot;리턴 값이 절대 없음&quot; 을 나타내는 상황 등에서 이용하나봅니다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;void&lt;/code&gt; : 함수가 &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;를 반환하거나 반환값이 없을 때&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;type-alias-vs-interface-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#type-alias-vs-interface-&quot; aria-label=&quot;type alias vs interface  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;type alias&lt;/code&gt; vs &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt; ?&lt;/h3&gt;
&lt;p&gt;새에 관한 타입을 만들고자 할 때, 두 가지 방법이 있습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;type BirdType = {wings: 2;};&lt;/code&gt; : &lt;em&gt;type alias&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;interface BirdInterface {wings: 2;}&lt;/code&gt; : &lt;em&gt;interface&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;대부분의 경우 이 두 방법은 거의 유사하지만, 조금의 차이점이 있고, 공식문서에서는 웬만하면 &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;를 사용하는게 좋겠다고 말하네요&lt;/p&gt;
&lt;p&gt;유사한 점은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;둘 다 property만 공통적이면 섞어쓸 수 있습니다.(intermix.) 이건 위에서 언급한 &lt;em&gt;Structural Type System&lt;/em&gt;에 의한 특징&lt;/li&gt;
&lt;li&gt;확장 가능 : 방식은 다릅니다.. 이런 식으로
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;type Owl = {nocturnal: true} &amp;amp; BirdType&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;interface Chicken extends BirdInterface{colorful : false}&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;근데 이제 다른 점이 무엇이냐&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;property가 공통적이지 않은데 intermix를 시도하는 경우 에러메시지가 다릅니다. 대충 &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;를 쓰는 편이 더 직관적이고 간결하다고 설명하네요&lt;/li&gt;
&lt;li&gt;또 중요한 차이점은, &quot;&lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;open&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;type alias&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;close&lt;/code&gt;&quot;라는 것인데 : - &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;는 두 번 선언하면 확장됩니다. 예를 들어
&lt;code class=&quot;language-text&quot;&gt;interface Kitten {purrs : boolean;}&lt;/code&gt; 그 다음에
&lt;code class=&quot;language-text&quot;&gt;interface Kitten {color: string;}&lt;/code&gt; 이렇게 쓰면 &lt;code class=&quot;language-text&quot;&gt;Kitten&lt;/code&gt; 인터페이스는 확장됩니다. (property 둘 다 가짐)&lt;/li&gt;
&lt;li&gt;근데 &lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt;은 두 번 써버리면 그 자체로 성립이 불가
&lt;img src=&quot;https://i.imgur.com/GROaGdy.png&quot; width=&quot;100%&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;뭐 그렇다네요. 적당히 주의하도록 합시다&lt;/p&gt;
&lt;h2 id=&quot;composing-types&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#composing-types&quot; aria-label=&quot;composing types permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Composing Types&lt;/h2&gt;
&lt;p&gt;이제 타입을 구성해봅시다&lt;br&gt;
TS와 함께라면 복잡한 타입도 구성해볼 수 있습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Unions : 여러 타입을 결합합니다. 예컨대 &lt;code class=&quot;language-text&quot;&gt;type MyBool = true | false;&lt;/code&gt; 등..
&lt;ul&gt;
&lt;li&gt;어떤 변수에 들어갈 값을 특정 리터럴로 제한할 때 강력합니다. 예를 들면
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;type siblings = &quot;brother&quot; | &quot;sister&quot;;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;type PrimeNumberUnderTen = 2 | 3 | 5 | 7;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;또는 타입을 둘 이상 허용할 때 쓸 수 있습니다. (&lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;의 배열)
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;참고 : &lt;code class=&quot;language-text&quot;&gt;typeof&lt;/code&gt;연산자로 타입을 확인할 수 있습니다.&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;if (typeof obj === &quot;string&quot;)&lt;/code&gt; 이런 식&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Generics : Array가 담을 수 있는 &lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt;을 제한할 수 있습니다.
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;type StringArray = Array&amp;lt;string&gt;;&lt;/code&gt; 이런 식&lt;/li&gt;
&lt;li&gt;또는, &lt;code class=&quot;language-text&quot;&gt;type ObjectWithNameArray = Array&amp;lt;{ name: string} &gt;;&lt;/code&gt; 이렇게 쓰면 property로 &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt;을 가지는 애들만 넣도록 할 수 있습니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;T&gt;&lt;/code&gt; 와 같이 써서, 타입을 변수처럼 취급할 수 있습니다. (ex : &lt;code class=&quot;language-text&quot;&gt;interface Backpack&amp;lt;T&gt;{}&lt;/code&gt;)&lt;br&gt;
이런 인터페이스에 대해, &lt;code class=&quot;language-text&quot;&gt;declare const backpack: Backpack&amp;lt;string&gt;;&lt;/code&gt;과 같이 작성하여 원하는 타입에 대한 &lt;code class=&quot;language-text&quot;&gt;Backpack&amp;lt;T&gt;&lt;/code&gt; 객체를 생성할 수 있습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;structural-type-system&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#structural-type-system&quot; aria-label=&quot;structural type system permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Structural Type System&lt;/h2&gt;
&lt;p&gt;위에서 계속 언급한 &lt;strong&gt;Structural Type System&lt;/strong&gt;인데요&lt;br&gt;
C++같은 다른 언어에서는 &lt;strong&gt;nominal typing&lt;/strong&gt;이라고 해서, 클래스의 이름으로 타입을 결정하고 구분짓습니다.&lt;br&gt;
이와 달리, TS는 내부 &lt;em&gt;모양&lt;/em&gt;을 보고 타입을 처리합니다.&lt;br&gt;
그말인 즉, 내부가 똑같이 생겼다면 동일한 타입으로 간주할 수 있습니다.&lt;br&gt;
예를 들어, &lt;code class=&quot;language-text&quot;&gt;type MyBoolean = true | false&lt;/code&gt; 이렇게 쓰면 그냥 &lt;code class=&quot;language-text&quot;&gt;boolean&lt;/code&gt;으로 받아들입니다.&lt;/p&gt;
&lt;p&gt;예를 들어&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Point&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  x&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
  y&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//이런 인터페이스가 있고&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;logPoint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Point&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//이런 함수가 있을 때&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; point1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; x&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;26&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; point2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; x&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; z&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;89&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;logPoint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;logPoint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//둘 다 가능&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;point1&lt;/code&gt;은 당연히 가능하고, &lt;code class=&quot;language-text&quot;&gt;point2&lt;/code&gt;또한 property의 subset이 조건을 만족하므로 가능합니다.&lt;br&gt;
예시에서는 살펴보지 않았지만, 클래스에 대해서도 다를 것 없이&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;x: number&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;y: number&lt;/code&gt; 필드만 가지고 있다면 동일한 타입으로 취급받을 수 있습니다.&lt;/p&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;p&gt;여기까지가 TypeScript 문법에 관한 간단한 오버뷰라고 하네요&lt;br&gt;
이 다음은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;핸드북 다 읽어보기 : &lt;a href=&quot;https://www.typescriptlang.org/docs/handbook/intro.html&quot;&gt;from start to finish&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;예제 풀어보기 : &lt;a href=&quot;https://www.typescriptlang.org/play#show-examples&quot;&gt;Playground examples&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이런게 준비되어있다고 합니다&lt;br&gt;
Day 2를 쓸지는 모르겠지만..&lt;br&gt;
이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[👥 C++ 멀티스레딩 맛 한번 보세요]]></title><description><![CDATA[저번학기에 게임 만드는 팀플이 있었는데요 처음에는 C로 시작했고 나중에 C++로 확장했지만 사실 사용중인 이미지 렌더링 라이브러리가 C로 작성된거기도 하고 해서 아무튼 시작은 C…]]></description><link>https://sungpaks.github.io/multi-threading-in-cpp/</link><guid isPermaLink="false">https://sungpaks.github.io/multi-threading-in-cpp/</guid><pubDate>Wed, 03 Jan 2024 11:35:00 GMT</pubDate><content:encoded>&lt;p&gt;저번학기에 게임 만드는 팀플이 있었는데요&lt;br&gt;
처음에는 C로 시작했고 나중에 C++로 확장했지만&lt;br&gt;
사실 사용중인 이미지 렌더링 라이브러리가 C로 작성된거기도 하고 해서&lt;br&gt;
아무튼 시작은 C였고 멀티스레딩은 생각을 해두지 않았었습니다&lt;br&gt;
그럼 이제 문제가 뭐냐 모든 동작이 순차적이라는 것인데요&lt;/p&gt;
&lt;p&gt;예를 들어 가장 문제점은&lt;br&gt;
게임에서는 땅을 파는 함수가 있는데&lt;br&gt;
이 함수에서는 진동 모션과 블록의 파괴 등까지 해서 한 동작에 렌더링이 최소 5번 일어납니다&lt;/p&gt;
&lt;p&gt;아래의 진동 모션이야말로 주범인데&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/05czAG6.png&quot; width=&quot;100%&quot;&gt;
앞뒤로 왔다갔다를 보여줘야 하니 렌더링이 다다닥 있습니다&lt;br&gt;
맥북을 쓰는 팀원분은 렌더링이 빨라서 체감이 크지 않는데&lt;br&gt;
제 윈트북은 개느려서 이 렌더링 세 번에 걸리는 시간이 상당히 크고 그동안 다른 동작에 도달하지 못하니 NPC들은 멈춰있고 그렇습니다&lt;/p&gt;
&lt;h3 id=&quot;그래서-어케함&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%96%B4%EC%BC%80%ED%95%A8&quot; aria-label=&quot;그래서 어케함 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그래서 어케함??&lt;/h3&gt;
&lt;p&gt;그래서 이 땅 파는 함수 &lt;code class=&quot;language-text&quot;&gt;dig&lt;/code&gt;을 다른 스레드에서 실행하고자 했습니다&lt;br&gt;
먼저 그러려면 &lt;code class=&quot;language-text&quot;&gt;#include &amp;lt;thread&gt;&lt;/code&gt;로 스레드 헤더를 가져옵니다&lt;br&gt;
이제 스레드 객체를 &lt;code class=&quot;language-text&quot;&gt;thread myThread(함수포인터, 객체, 인자, 인자, ... )&lt;/code&gt;와 같이 생성해줍니다.&lt;br&gt;
예를 들어, 제 경우 &lt;code class=&quot;language-text&quot;&gt;pc.dig(x, y);&lt;/code&gt;에 대한 스레드 객체를 생성하기 위해&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;thread digThread(&amp;amp;PC::dig, &amp;amp;pc, x, y);&lt;/code&gt; 이렇게 작성했습니다&lt;/p&gt;
&lt;p&gt;이제 두 가지 선택지가 있는데&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;myThread.join()&lt;/code&gt; : 메인스레드는 저거 끝나기를 기다림&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;myThread.detach()&lt;/code&gt; : 메인스레드와 분리시켜 백그라운드 작업을 시키고, 메인스레드는 할 일 하러 간다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;메인스레드는 계속 일하고 &lt;code class=&quot;language-text&quot;&gt;dig&lt;/code&gt;만 따로 실행하면 좋겠으니, &lt;code class=&quot;language-text&quot;&gt;detach&lt;/code&gt;합니다
&lt;br/&gt;
&lt;br/&gt;&lt;/p&gt;
&lt;h3 id=&quot;주의&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A3%BC%EC%9D%98&quot; aria-label=&quot;주의 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;주의..&lt;/h3&gt;
&lt;p&gt;해야 할 점이 있었는데
&lt;code class=&quot;language-text&quot;&gt;switch&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;case&lt;/code&gt;문 내에서 thread 변수를 만드니까 &lt;code class=&quot;language-text&quot;&gt;thread 초기화가 case레이블에 의해 생략되었습니다.&lt;/code&gt; 뭐 이런 에러가 발생합니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;case&lt;/code&gt;문 내부에서 변수를 선언한게 문제인데,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;switch&lt;/code&gt;시작 전에 변수 선언하거나&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;case&lt;/code&gt;문을 중괄호 &lt;code class=&quot;language-text&quot;&gt;{}&lt;/code&gt;로 묶거나
둘 중 하나 선택해서 해결할 수 있습니다&lt;/p&gt;
&lt;p&gt;대신 후자의 방식은 당연히 scope가 중괄호 내부로 제한되니 그 안에서만 사용할 수 있습니다
&lt;img src=&quot;https://i.imgur.com/MuWI0wV.png&quot; width=&quot;100%&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;동기화&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8F%99%EA%B8%B0%ED%99%94&quot; aria-label=&quot;동기화 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;동기화&lt;/h3&gt;
&lt;p&gt;그리고 이제 연산이 일부 병렬적이므로 자원에 동시에 접근하고 수정하게 될 수도 있습니다..&lt;br&gt;
따라서 동기화하려면&lt;br&gt;
여러 방법이 있는 것 같은데 저는 &lt;code class=&quot;language-text&quot;&gt;std::mutex&lt;/code&gt;를 쓰는 방법을 택했습니다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;#include &amp;lt;mutex&gt;&lt;/code&gt;로 먼저 뮤텍스를 가져오신 다음에&lt;br&gt;
전역에 &lt;code class=&quot;language-text&quot;&gt;std::mutex m&lt;/code&gt;과 같이 뮤텍스를 하나 생성해줍니다&lt;br&gt;
이제 동기화하려는 코드 앞뒤로 &lt;code class=&quot;language-text&quot;&gt;m.lock()&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;m.unlock()&lt;/code&gt;을 써서 감싸줍니다&lt;br&gt;
대충 이런 식
&lt;img src=&quot;https://i.imgur.com/cSbhn7L.png&quot; width=&quot;100%&quot;&gt;&lt;/p&gt;
&lt;p&gt;그럼 짜잔&lt;/p&gt;
&lt;p&gt;..&lt;/p&gt;
&lt;p&gt;..&lt;/p&gt;
&lt;p&gt;..&lt;/p&gt;
&lt;p&gt;..&lt;/p&gt;
&lt;p&gt;딱히 보여줄 자료는 없고요.. 확실히 효과있었습니다&lt;/p&gt;
&lt;p&gt;처음부터 멀티스레딩을 염두에 두고 개발했으면 좋았을걸 싶네요 아쉽습니다&lt;br&gt;
전부 갈아엎을 수도 없는 노릇이라 그냥 .. 부분적으로만 스레드를 분리했었네요&lt;/p&gt;
&lt;p&gt;이만 마칩니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[✒️ 내 동년배들 다 깃허브 블로그 운영한다]]></title><description><![CDATA[여러분 새해 복 많이 받으십시오 저는 미루고 미뤄왔던 깃허브 블로그를 드디어 만들었습니다 새해 시작이 좋네요 원래 Jeykll로 한번 시도를 했었는데 쩝.. Ruby인 것도 맘에 안 들고 어디서 막혔는지 기억도 안 나네요 대신 React…]]></description><link>https://sungpaks.github.io/github-blog-using-gatsby/</link><guid isPermaLink="false">https://sungpaks.github.io/github-blog-using-gatsby/</guid><pubDate>Wed, 03 Jan 2024 06:30:00 GMT</pubDate><content:encoded>&lt;p&gt;여러분 새해 복 많이 받으십시오&lt;br&gt;
저는 미루고 미뤄왔던 깃허브 블로그를 드디어 만들었습니다&lt;br&gt;
새해 시작이 좋네요&lt;/p&gt;
&lt;p&gt;원래 Jeykll로 한번 시도를 했었는데&lt;br&gt;
쩝.. Ruby인 것도 맘에 안 들고 어디서 막혔는지 기억도 안 나네요&lt;br&gt;
대신 React 기반인 Gatsby를 썼습니다&lt;/p&gt;
&lt;p&gt;제 지인 블로그인 &lt;a href=&quot;https://klloo.github.io/make-blog/&quot;&gt;여기(klloo 블로그)&lt;/a&gt;를 좀 참고했는데요..&lt;br&gt;
질투와 시기심. 그로 인한 동기부여. 가장 큰 도움. 내가 받은.&lt;br&gt;
설치와 프로젝트 구성 과정은 저 안에 있는 &lt;a href=&quot;https://devfoxstar.github.io/web/github-pages-gatsby/&quot;&gt;링크&lt;/a&gt;를 많이 참고했습니다.&lt;br&gt;
감사의 인사 드리며..&lt;/p&gt;
&lt;h2 id=&quot;설치와-프로젝트-생성&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%84%A4%EC%B9%98%EC%99%80-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1&quot; aria-label=&quot;설치와 프로젝트 생성 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;설치와 프로젝트 생성&lt;/h2&gt;
&lt;p&gt;링크에 자세한 설명이 있으니 저는 대략적으로만 쓰겠습니다&lt;br&gt;
설치는 &lt;code class=&quot;language-text&quot;&gt;npm install -g gatsby-cli&lt;/code&gt;&lt;br&gt;
테마는 &lt;a href=&quot;https://www.gatsbyjs.com/starters/&quot;&gt;여기에서&lt;/a&gt; 골라보시면 되는데요&lt;br&gt;
테마를 고르고 해당 깃허브 주소를 가져다가&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;gatsby new 프로젝트명 깃허브URL&lt;/code&gt;&lt;br&gt;
이런식으로 명령줄을 입력하시면 되겠습니다&lt;/p&gt;
&lt;p&gt;근데 저같은 경우&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/F5qObnj.png&quot; width=&quot;100%&quot; height=&quot;100%/&quot;&gt;&lt;br&gt;
이런 문제가 나타났는데..&lt;br&gt;
찾아보고 찾아보다가 모르겠어서 테마를 그냥 바꿔봤는데 됐습니다..&lt;br&gt;
테마의 문제인가?&lt;br&gt;
아무튼 저는 그냥 그래서 &lt;code class=&quot;language-text&quot;&gt;Gatsby Starter Blog&lt;/code&gt; 테마를 썼습니다.&lt;br&gt;
쩝.. Gatsby 만든 사람이 만드신 스타터팩인가봅니다&lt;/p&gt;
&lt;p&gt;이제 프로젝트 폴더에서 &lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;을 입력하여 로컬 개발환경을 열고&lt;br&gt;
브라우저에서 &lt;code class=&quot;language-text&quot;&gt;localhost:8000&lt;/code&gt;에 가면&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/OOqFGw3.png&quot; width=&quot;100%/&quot;&gt;
이렇게 되어있습니다.
&lt;h2 id=&quot;github-page와-연동&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#github-page%EC%99%80-%EC%97%B0%EB%8F%99&quot; aria-label=&quot;github page와 연동 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Github Page와 연동&lt;/h2&gt;
&lt;p&gt;이제 &lt;em&gt;(본인의 깃허브 이름).github.io&lt;/em&gt;라는 이름의 레포지토리를 만듭시다.&lt;br&gt;
전 이미 있어서 그냥&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;git remote add origin REPO_URL&lt;/code&gt; 이런식으로 프로젝트 폴더에 원격 저장소를 연결하고&lt;br&gt;
쓸데없는 것들이 있었어서.. &lt;code class=&quot;language-text&quot;&gt;--force&lt;/code&gt; 옵션을 붙여서 &lt;code class=&quot;language-text&quot;&gt;push&lt;/code&gt;해주어 덮어씌워버렸습니다&lt;/p&gt;
&lt;p&gt;이제 레포지토리의 &lt;code class=&quot;language-text&quot;&gt;master&lt;/code&gt;브랜치에 프로젝트가 올라가있을건데요&lt;br&gt;
저는 배포를 따로 다른 브랜치에서 하고싶기 때문에 로컬 &lt;code class=&quot;language-text&quot;&gt;deploy&lt;/code&gt; 브랜치를 먼저 생성합니다 : &lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;git branch deploy&lt;/code&gt;&lt;br&gt;
그리고 &lt;strong&gt;package.json&lt;/strong&gt; 파일 보시면 맨 아래쪽에 &lt;code class=&quot;language-text&quot;&gt;&quot;scripts&quot;&lt;/code&gt; 룰이 있는데&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;deploy&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gatsby build &amp;amp;&amp;amp; gh-pages -d public -b deploy&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 &lt;code class=&quot;language-text&quot;&gt;deploy&lt;/code&gt;를 추가해줍니다&lt;/p&gt;
&lt;p&gt;그런 다음 &lt;code class=&quot;language-text&quot;&gt;npm run deploy&lt;/code&gt; 입력해주면 알아서 배포파일을 만들고 원격 &lt;code class=&quot;language-text&quot;&gt;deploy&lt;/code&gt;브랜치에 올라가기까지 합니다&lt;/p&gt;
&lt;p&gt;마지막으로.. Github 레포지토리에서 &lt;strong&gt;Settings&lt;/strong&gt; - &lt;strong&gt;pages&lt;/strong&gt; - &lt;strong&gt;Build and deployment&lt;/strong&gt; 로 가서 브랜치를 deploy로 설정해줍니다&lt;br&gt;
이렇게 하면 deploy를 기준으로 Github Page를 호스팅해줍니다
&lt;img src=&quot;https://i.imgur.com/MGNEGYR.png&quot; width=&quot;100%/&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;초기-작업&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%B4%88%EA%B8%B0-%EC%9E%91%EC%97%85&quot; aria-label=&quot;초기 작업 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;초기 작업&lt;/h2&gt;
&lt;h3 id=&quot;1-프로필&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%ED%94%84%EB%A1%9C%ED%95%84&quot; aria-label=&quot;1 프로필 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. 프로필&lt;/h3&gt;
&lt;p&gt;지금은 Gatsby 개발해주신 Kyle Methews 선생님께서 인사를 하고계시니까.. 먼저 프로필을 바꿔봅시다?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;bio.js&lt;/strong&gt;를 보면 &quot;siteMetadata&quot;를 가져와서 &lt;code class=&quot;language-text&quot;&gt;author&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;social&lt;/code&gt;을 가져오도록 되어 있다고 친절하게도 주석으로 써주셨습니다.&lt;br&gt;
따라서 &lt;strong&gt;gatsby-config.js&lt;/strong&gt; 파일로 가서 적당히 &lt;code class=&quot;language-text&quot;&gt;Title, author, social&lt;/code&gt; 이런 데이터들을 본인 것으로 바꿔주도록 합시다.&lt;/p&gt;
&lt;h3 id=&quot;2-폰트&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-%ED%8F%B0%ED%8A%B8&quot; aria-label=&quot;2 폰트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. 폰트&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://0andme.github.io/blog/gatsby%EB%A1%9C-%EB%B8%94%EB%A1%9C%EA%B7%B8-%EB%A7%8C%EB%93%A4%EA%B8%B0-(4)-%ED%8F%B0%ED%8A%B8-%EB%B0%94%EA%BE%B8%EA%B8%B0/&quot;&gt;여기&lt;/a&gt;를 좀 참고했습니다.&lt;br&gt;
이미 Gatsby Starter Blog 테마는 Fontsource를 이용하고 있습니다.&lt;br&gt;
저는 &lt;strong&gt;IBM&lt;/strong&gt; 폰트를 사용하기 위해
&lt;code class=&quot;language-text&quot;&gt;npm install @fontsource/ibm-plex-sans&lt;/code&gt;와 같이 입력하여 받아와서&lt;br&gt;
&lt;strong&gt;gatsby-browser.js&lt;/strong&gt;에 &lt;code class=&quot;language-text&quot;&gt;import &quot;@fontsource/ibm-plex-sans&quot;&lt;/code&gt;라고 써줬습니다.&lt;br&gt;
그 다음 &lt;strong&gt;style.css&lt;/strong&gt;에서 &lt;code class=&quot;language-text&quot;&gt;body { font-family: &quot;ibm-plex-sans&quot;; }&lt;/code&gt;라고 써주면..&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/kPO51P6.png&quot; width=&quot;50%&quot;&gt;
&lt;p&gt;잘 되네요~&lt;/p&gt;
&lt;h3 id=&quot;3-상단바&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-%EC%83%81%EB%8B%A8%EB%B0%94&quot; aria-label=&quot;3 상단바 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. 상단바&lt;/h3&gt;
&lt;p&gt;그 왜 있잖아요 상단에 고정되어서 따라다니는데 반투명하고
버튼같은거 있어서 블로그 홈으로 가거나 그럴 수 있는 상단 메뉴 UI&lt;br&gt;
그런거를 만들어보겠습니다&lt;br&gt;
이미 테마에서 스타일이 많이 적용되어있고 &lt;code class=&quot;language-text&quot;&gt;wrapper&lt;/code&gt;스타일도 존재하니 적당히 살펴보고 겹치지 않게 잘 해주도록 합시다&lt;/p&gt;
&lt;p&gt;일단 &lt;code class=&quot;language-text&quot;&gt;TopUI&lt;/code&gt; 컴포넌트를 만들어주고&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;top-ui&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h4&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;성훈 블로그&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h4&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;저는 대충 이런식으로 썼습니다&lt;br&gt;
고맙게도 &lt;code class=&quot;language-text&quot;&gt;Link&lt;/code&gt;컴포넌트가 이미 있는데요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;to=&quot;/&quot;&lt;/code&gt;와 같이 쓰면 블로그 홈으로 가도록 해줄 수 있네요&lt;/p&gt;
&lt;p&gt;이제 이 컴포넌트를 이미 있는 &lt;strong&gt;layout.js&lt;/strong&gt;의 &lt;code class=&quot;language-text&quot;&gt;Layout&lt;/code&gt; 컴포넌트에서 함께 뱉어내도록 합시다&lt;br&gt;
이미 최상위 &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;가 &lt;code class=&quot;language-text&quot;&gt;global-wrapper&lt;/code&gt;스타일로 적용되어있는데요&lt;br&gt;
이 스타일에 구애받지 않고 따로 &lt;code class=&quot;language-text&quot;&gt;top-ui&lt;/code&gt; 스타일을 만들어주고 싶으니 이 &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;의 바깥에 작성하고 새로운 &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;로 감싸줬습니다
&lt;img src=&quot;https://i.imgur.com/0HjPPVL.png&quot; width=&quot;100%/&quot;&gt;&lt;/p&gt;
&lt;p&gt;이제 &lt;strong&gt;style.css&lt;/strong&gt;에 가서 스타일 클래스를 만들어줍시다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;.top-ui {}&lt;/code&gt;와 같이 쓰고 이 안에다 CSS style을 작성하면 되겠습니다&lt;br&gt;
상단에 고정할거니까 &lt;code class=&quot;language-text&quot;&gt;position: fixed&lt;/code&gt;라고 쓰고&lt;br&gt;
투명도를 조절하려면 &lt;code class=&quot;language-text&quot;&gt;opacity&lt;/code&gt;&lt;br&gt;
가 아닌.. 배경색만 반투명하게 하고싶으니\ &lt;code class=&quot;language-text&quot;&gt;background-color&lt;/code&gt;를 &lt;code class=&quot;language-text&quot;&gt;rgba(255,255,255,0.8)&lt;/code&gt;와 같이 써줍니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;width: 100%&lt;/code&gt;라고 적어주고 적당히 높이와 여백을 써주면??
&lt;img src=&quot;https://i.imgur.com/Um9EDUg.png&quot; width=&quot;100%/&quot;&gt;
좋네요 나중에 적당히 다른 버튼들을 만들어주면 있어보일 것 같습니다&lt;/p&gt;
&lt;h2 id=&quot;글-작성하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B8%80-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;글 작성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;글 작성하기&lt;/h2&gt;
&lt;p&gt;블로그라면 응당 글을 써야겠죠?&lt;br&gt;
프로젝트 폴더에 보면 &lt;strong&gt;content/blog&lt;/strong&gt; 밑에 이미 세 개의 글이 기본적으로 있습니다.&lt;br&gt;
이거 다 지워주고..&lt;br&gt;
새 글을 쓰려면 폴더를 하나 만들고 그 밑에 마크다운 파일을 생성하여 여기에 글을 작성합니다. 이미지같은거 넣으려면 또한 같이 넣으시구요.&lt;br&gt;
이런식으로&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/uZfUuLc.png&quot; width=&quot;100%/&quot;&gt;
&lt;p&gt;글의 제목과 날짜, 설명은
마크다운 파일 가장 상단에&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;---
title: 내 동년배들 다 깃허브 블로그 운영한다
date: &quot;2024-01-03T15:30&quot;
description: &quot;Gatsby로 Github 블로그 만들어봤습니다&quot;
---&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 쓰시면 알아서 아래와 같이 됩니다
&lt;img src=&quot;https://i.imgur.com/oVOck6K.png&quot; width=&quot;100%/&quot;&gt;&lt;/p&gt;
&lt;p&gt;쩝.. 이정도면 준비는 얼추 된 것 같네요.
스타일도 좀 만지고 완성도도 높이고 하는건 천천히 하겠습니다
이만 마칩니다&lt;/p&gt;</content:encoded></item></channel></rss>