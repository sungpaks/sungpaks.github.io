<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Gatsby Starter Blog RSS Feed]]></title><description><![CDATA[Sunghoon Tech Blog]]></description><link>https://sungpaks.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Thu, 18 Jul 2024 16:57:04 GMT</lastBuildDate><item><title><![CDATA[메모리 공간을 효율적으로 쓰고 싶어요]]></title><description><![CDATA[Partitioning Fixed Partitioning 처음부터 조각을 잘라두자. Equal-size : 모두 같은 사이즈로 컴파일 할 때도, "나 여기서부터 시작한다!!"를 미리 정하고 들어갈 수 있어서, Relocation…]]></description><link>https://sungpaks.github.io/til/학습_정리_day04/</link><guid isPermaLink="false">https://sungpaks.github.io/til/학습_정리_day04/</guid><pubDate>Fri, 19 Jul 2024 01:52:28 GMT</pubDate><content:encoded>&lt;h2 id=&quot;partitioning&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#partitioning&quot; aria-label=&quot;partitioning permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Partitioning&lt;/h2&gt;
&lt;h3 id=&quot;fixed-partitioning&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#fixed-partitioning&quot; aria-label=&quot;fixed partitioning permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Fixed Partitioning&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;처음부터&lt;/strong&gt; 조각을 잘라두자.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Equal-size : 모두 같은 사이즈로
&lt;ul&gt;
&lt;li&gt;컴파일 할 때도, &quot;나 여기서부터 시작한다!!&quot;를 미리 정하고 들어갈 수 있어서, Relocation 문제를 걱정할 필요가 없다&lt;/li&gt;
&lt;li&gt;그런데, 조각들이 프로크램 사이즈에 딱 맞을 수는 없다. 공간 낭비가 생김&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Unequal-size : 다양한 크기의 조각으로 나누자.
&lt;ul&gt;
&lt;li&gt;딱히 Equal-size보다 효율적이진 않음.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;두 방식 모두, 어떤 식으로든, &lt;strong&gt;공간의 낭비&lt;/strong&gt;가 생긴다 =&gt; &lt;strong&gt;Internal Fragmentation&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;dynamic-partitioning&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#dynamic-partitioning&quot; aria-label=&quot;dynamic partitioning permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dynamic Partitioning&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;필요한 만큼&lt;/strong&gt; 그때그때 잘라주자.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;미리 나눠두지 않는다 : 만약 56M만큼 빈공간이 있었는데,
&lt;ul&gt;
&lt;li&gt;20M 프로그램이 도착? 준다 =&gt; P1&lt;/li&gt;
&lt;li&gt;14M 프로그램이 도착? 준다 =&gt; P2&lt;/li&gt;
&lt;li&gt;18M 프로그램이 도착? 준다 =&gt; P3&lt;/li&gt;
&lt;li&gt;P2가 만약 Suspend되어 Swap-out : 중간에 14M 비었고, 밑에는 4M 비었다&lt;/li&gt;
&lt;li&gt;8M 프로그램 도착 ? 준다 =&gt; P4, 중간에 6M 구멍이 생겼다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;위와 같이, 중간에 구멍이 나고, 구멍이 나고, =&gt; &lt;strong&gt;External Fragmentation&lt;/strong&gt; 발생.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Compaction&lt;/strong&gt;으로 해결 : 프로그램들을 위로 다 밀어붙이고, 공간을 병합한다
&lt;ul&gt;
&lt;li&gt;Dynamic Partitioning 쓰려면 주기적으로 이거 해줘야 한다&lt;/li&gt;
&lt;li&gt;근데 이거 하려면 각 프로세스가 차지하는 메모리를 한 줄 한 줄 주르륵.. 써야한다 : 메모리 &lt;strong&gt;읽기/쓰기&lt;/strong&gt;를 엄청나게 하므로, 시간이 매우 오래걸리는 동작임&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;placement를-잘해봐요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#placement%EB%A5%BC-%EC%9E%98%ED%95%B4%EB%B4%90%EC%9A%94&quot; aria-label=&quot;placement를 잘해봐요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Placement를 잘해봐요&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/2h3dWaR.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Best-fit&lt;/em&gt;&lt;/strong&gt; : 위에서부터 &lt;strong&gt;가장 잘 맞는 공간&lt;/strong&gt; 찾기. 16Mbyte면, 16Mbyte 이상이면서, 빈 공간을 최소로 하는 공간을 찾자.
&lt;ul&gt;
&lt;li&gt;근데 찾으려면, 모든 공간을 들춰봐야 함.. &lt;strong&gt;시간이 걸린다&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;First-fit&lt;/em&gt;&lt;/strong&gt; : 가장 먼저 만나는 &lt;strong&gt;가능한 빈 공간&lt;/strong&gt;에 넣자. 다 찾지 말고
&lt;ul&gt;
&lt;li&gt;빈 공간들을 링크드리스트로 연결해서 =&gt; 넣을 수 있는 공간을 탐색하기.&lt;/li&gt;
&lt;li&gt;공간을 찾는데 &lt;strong&gt;시간이 더 줄었으나, 빈 공간이 더 생긴다&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;또한, 앞에서부터 탐색하므로, &lt;strong&gt;앞쪽만 계속 조각나는 경향&lt;/strong&gt;이 발생&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Next-fit&lt;/em&gt;&lt;/strong&gt; : first-fit처럼 가능한 공간을 찾으면 끝이지만, 앞에서부터가 아니라 &lt;strong&gt;마지막으로 할당한 공간 다음부터 검색&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;앞쪽만 조각난다는 단점을 해결하고, 공간을 전체적으로 사용 =&gt; . first-fit에 비해 괜찮은 공간을 더 빨리 찾을 확률이 높다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Worst-fit&lt;/strong&gt; : &lt;strong&gt;가장 큰 공간&lt;/strong&gt;을 찾는다.
&lt;ul&gt;
&lt;li&gt;가장 큰 공간이므로, 프로세스 넣고도 충분히 큰 공간이겠지?&lt;/li&gt;
&lt;li&gt;이러면 오히려 external fragmentation을 줄이는 방법이 될 수 있겠지?&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;근데 당연히 이렇게 발버둥쳐도 external-fragmentation은 여전히 발생하고, compaction을 안 할 수는 없다&lt;/p&gt;
&lt;h2 id=&quot;buddy-system&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#buddy-system&quot; aria-label=&quot;buddy system permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Buddy System&lt;/h2&gt;
&lt;p&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;≈&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\approx&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4831em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;≈&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; Lazy Segment Tree?&lt;/p&gt;
&lt;p&gt;fixed에서, 미리 잘라둔 공간에 프로세스를 넣고 남는 공간이 생김 : &lt;strong&gt;Internal Fragmentation&lt;/strong&gt;
dynamic에서, 프로세스 넣고 사이사이 남은 공간이 생김 : &lt;strong&gt;External Fragmentation&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Buddy System&lt;/em&gt;&lt;/strong&gt; : 공간이 필요할 때마다 적당한 크기의 공간을 나눠줄건데(dynamic처럼), 프로세스가 요구하는 만큼 딱 맞추는게 아닌 정해진 규칙을 따른다 (fixed처럼)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;img src=&quot;https://i.imgur.com/dockjk4.png&quot; alt=&quot;&quot;&gt;&lt;/li&gt;
&lt;li&gt;전체 공간을 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;2^U&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8413em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8413em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;어떤 프로세서가 공간을 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;S&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;만큼 요구하면, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msup&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x3C;&lt;/mo&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mo&gt;&amp;#x3C;&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;2^n-1 &amp;#x3C; S &amp;#x3C;= 2^n&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7477em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.6644em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6835em;vertical-align:-0.0391em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;&amp;#x3C;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7224em;vertical-align:-0.0391em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;&amp;#x3C;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6644em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.6644em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 일거고, 이 경우 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;2^n&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6644em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.6644em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;을 준다&lt;/li&gt;
&lt;li&gt;공간을 나눠주려면, 전체 메모리를 반으로, 반으로, 반으로, ... 자르다가 더 자르면 요구치보다 작아진다? 그러면 멈추고 현재 조각을 준다&lt;/li&gt;
&lt;li&gt;나눌 때마다, 나눈 결과인 두 조각은 &lt;strong&gt;버디&lt;/strong&gt;가 된다. 공간을 병합할 때는 반드시 버디끼리.&lt;/li&gt;
&lt;li&gt;공간과 공간 사이의 External Fragmentation은 없고, 따라서 Compaction은 하지 않는다&lt;/li&gt;
&lt;li&gt;Internal Fragmentation은 발생할 수도 있긴 함&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[일일 학습정리 - Day01]]></title><description><![CDATA[Day_01 기록.. Node.js…]]></description><link>https://sungpaks.github.io/til/학습_정리_day01/</link><guid isPermaLink="false">https://sungpaks.github.io/til/학습_정리_day01/</guid><pubDate>Mon, 15 Jul 2024 22:05:46 GMT</pubDate><content:encoded>&lt;p&gt;Day_01 기록..&lt;/p&gt;
&lt;h2 id=&quot;nodejs로-표준-입력-받고싶어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#nodejs%EB%A1%9C-%ED%91%9C%EC%A4%80-%EC%9E%85%EB%A0%A5-%EB%B0%9B%EA%B3%A0%EC%8B%B6%EC%96%B4%EC%9A%94&quot; aria-label=&quot;nodejs로 표준 입력 받고싶어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Node.js로 표준 입력 받고싶어요&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; readline &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;node:readline&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;stdin&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; output &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;node:process&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; rl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; readline&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createInterface&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; output &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

rl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;line&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;line&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  rl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;close&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이건 딱 한 줄 입력 받는 예제인데&lt;br&gt;
이걸 마개조해서&lt;br&gt;
원할 때마다 입력스트림을 시작하는 함수를 따로 만들어버리고 싶었는데&lt;br&gt;
이게 이벤트 리스너를 기반으로 하는거라 좀 쉽지 않았다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;rl.prompt()&lt;/code&gt;같은 것도 발견하긴 했는데&lt;br&gt;
결국에는 아래와 같이 했다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; readline &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;node:readline&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;stdin&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; output &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;node:process&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; fail &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;node:assert&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; rl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; readline&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createInterface&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; output &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;AM&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;AM&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;PM&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;PM&quot;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//rl.prompt(); 굳이 없어도 되네&lt;/span&gt;
rl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;line&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;line &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; rl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;reserve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;line&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;close&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://nodejs.org/api/readline.html&quot;&gt;node.js documentation&lt;/a&gt;에서 여기서 쓰인 이벤트나 &lt;code class=&quot;language-text&quot;&gt;rl&lt;/code&gt; 이런거에 대한 정보를 알 수 있다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;rl.prompt()&lt;/code&gt;로 입력 스트림을 재개하거나 어쩌구.. 할 수 있다는데&lt;br&gt;
그냥 없이, &lt;code class=&quot;language-text&quot;&gt;&quot;&quot;&lt;/code&gt;(빈 문자열)이 입력될 때까지 계속 받게 했다. &lt;code class=&quot;language-text&quot;&gt;close&lt;/code&gt;하지 않고&lt;br&gt;
이렇게 하면 일단은 조건부로 무한정 받을 수 있는거시다 입력을&lt;/p&gt;
&lt;h2 id=&quot;javascript에서-클래스를-만들어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#javascript%EC%97%90%EC%84%9C-%ED%81%B4%EB%9E%98%EC%8A%A4%EB%A5%BC-%EB%A7%8C%EB%93%A4%EC%96%B4%EC%9A%94&quot; aria-label=&quot;javascript에서 클래스를 만들어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JavaScript에서 클래스를 만들어요&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyClass&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name &lt;span class=&quot;token comment&quot;&gt;//name이라는 멤버변수 미리 선언&lt;/span&gt;
  #password &lt;span class=&quot;token comment&quot;&gt;//#으로 private 설정 가능&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;_name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; _role&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _name &lt;span class=&quot;token comment&quot;&gt;//미리 선언한 name에 값 할당&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;role &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _role &lt;span class=&quot;token comment&quot;&gt;//미리 선언 안 했어도 그냥 이렇게 하면 생김&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;_name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _name
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;thisIsStaticFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;JavaScript에서 class는 속성(property)의 집합인 셈인데..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;constructor&lt;/code&gt;로 생성자를 명시할 수 있다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;static&lt;/code&gt; 붙이면 정적으로 선언할 수 있다&lt;/li&gt;
&lt;li&gt;사실 함수도 JavaScript에서는 &lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%9D%BC%EA%B8%89_%EA%B0%9D%EC%B2%B4&quot;&gt;일급객체&lt;/a&gt;라서, 그냥 속성을 추가하듯이 작성하면 됨&lt;/li&gt;
&lt;li&gt;기본적으로 모든 속성(property)들은 public인데..
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Classes/Private_properties&quot;&gt;클래스 필드를 private으로&lt;/a&gt;해버릴 수 있는 방법이 &lt;strong&gt;ES2019&lt;/strong&gt;부터 추가되었다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;#&lt;/code&gt;(해쉬 라고 읽으면 됨) prefix를 추가하여 &lt;code class=&quot;language-text&quot;&gt;private&lt;/code&gt;으로 선언할 수 있는 거시다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;factory-method-pattern&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#factory-method-pattern&quot; aria-label=&quot;factory method pattern permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Factory Method Pattern?&lt;/h2&gt;
&lt;p&gt;그런데 하고 싶은 것이 있었는데&lt;br&gt;
&lt;a href=&quot;https://refactoring.guru/ko/design-patterns/factory-method&quot;&gt;팩토리 메서드 패턴&lt;/a&gt;이다&lt;/p&gt;
&lt;p&gt;그러니까 이건..&lt;br&gt;
(1) 먼저 생성자를 &lt;code class=&quot;language-text&quot;&gt;private&lt;/code&gt;으로 제한&lt;br&gt;
(2) 생성자는 특별한 메서드 (ex: &lt;code class=&quot;language-text&quot;&gt;getNewInstance()&lt;/code&gt;)에서 호출&lt;br&gt;
(3) 이 특별한 객체 생성 메서드에서는 조건에 따라 객체 생성을 결정 (ex: 이미 객체가 10개 생성되었으면 객체 생성 하지 않는다, 등..)&lt;br&gt;
이런 식으로 해서 객체 생성을 한 층 더 캡슐화하고 제어하는 패턴이다&lt;/p&gt;
&lt;p&gt;사실 이름이 &lt;strong&gt;팩토리 메서드 패턴&lt;/strong&gt;이 맞는지 모르겠는데,&lt;br&gt;
전에 Java 수업 때 교수님께서 객체지향 패턴 중 하나로 알려주셨던 내용인데&lt;br&gt;
이름이 기억이 안 나서 GPT에게 설명을 주고 이거 이름 뭐냐고 물어봤더니 저거라고 답했다..&lt;br&gt;
근데 또 위 링크의 설명을 보면 살짝? 다른 것 같긴 하다&lt;/p&gt;
&lt;p&gt;아무튼, 구체적으로 하고싶었던 것은&lt;br&gt;
입력된 값의 유효성 검사 ---&gt; 유효한 값이면 객체 생성 / 아니면 예외처리&lt;br&gt;
이 과정을 아예 class 내에서 캡슐화하여 &lt;code class=&quot;language-text&quot;&gt;getNewInstance(input)&lt;/code&gt; 이런걸 넣으면,&lt;br&gt;
유효 값인 경우, 객체를 생성하여 리턴, 아니면 &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;이든 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;든 예외 반환&lt;br&gt;
이렇게 하고 싶었다&lt;br&gt;
그런데 어라? JavaScript에서 생성자를 &lt;code class=&quot;language-text&quot;&gt;private&lt;/code&gt;으로 생성하는 방법은 없는 듯하다&lt;br&gt;
(&lt;code class=&quot;language-text&quot;&gt;#&lt;/code&gt;도 안 되고, 다른 방법을 검색해봐도 안 나오는데.. 방법을 아신다면 알려주세요)&lt;br&gt;
그래서 일단 생성자를 막지는 않고 그냥 원하는 대로 객체 생성 메서드를 따로 만들었을 뿐이었다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[위치 기반 러닝 트래커 프로토타입 개발해보기]]></title><description><![CDATA[데모 프로젝트 구성 : bun + vite + react vite : JavaScript 모듈화 빌더??? bun : JavaScript runtime, package manager, bundler, etc.  react typescript…]]></description><link>https://sungpaks.github.io/til/geolocation-based-running-tracker-prototype/</link><guid isPermaLink="false">https://sungpaks.github.io/til/geolocation-based-running-tracker-prototype/</guid><pubDate>Sun, 14 Jul 2024 13:47:34 GMT</pubDate><content:encoded>&lt;p&gt;데모 프로젝트 구성 : bun + vite + react&lt;br&gt;
&lt;a href=&quot;https://ko.vitejs.dev/guide/&quot;&gt;vite&lt;/a&gt; : JavaScript 모듈화 빌더???&lt;br&gt;
&lt;a href=&quot;https://bun.sh/&quot;&gt;bun&lt;/a&gt; : JavaScript runtime, package manager, bundler, etc.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;bun vite react-playground&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;react&lt;/li&gt;
&lt;li&gt;typescript
&lt;code class=&quot;language-text&quot;&gt;bun install&lt;/code&gt;
&lt;code class=&quot;language-text&quot;&gt;bun run dev&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;https://www.daleseo.com/js-prettier/&quot;&gt;Prettier + ESLint&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;geolocation-api&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#geolocation-api&quot; aria-label=&quot;geolocation api permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Geolocation API&lt;/h2&gt;
&lt;p&gt;HTML5에서 지원하는 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Geolocation&quot;&gt;Geolocation API&lt;/a&gt; 있음&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const geo: Geolocation = navigator.geolocation&lt;/code&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;geo.getCurrentPosition()&lt;/code&gt; 으로 지금 위치 가져올 수 있고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;geo.watchPosition()&lt;/code&gt;으로 아예 위치 바뀔때마다 호출되는 이벤트리스너를 등록해버릴 수 있음&lt;br&gt;
둘 다 인자로 &lt;code class=&quot;language-text&quot;&gt;success&lt;/code&gt;는 무조건 넣어야 함. 위치 가져오기 성공 시 실행할 콜백함수임&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;watchPosition()&lt;/code&gt;은 &lt;code class=&quot;language-text&quot;&gt;long&lt;/code&gt; 값을 반환함. 이거 가지고있었다가 &lt;code class=&quot;language-text&quot;&gt;clearWatch()&lt;/code&gt;에 써야 함&lt;/p&gt;
&lt;h2 id=&quot;reactkakaomapsdk&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#reactkakaomapsdk&quot; aria-label=&quot;reactkakaomapsdk permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ReactKakaoMapSDK&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://react-kakao-maps-sdk.jaeseokim.dev/docs/intro&quot;&gt;https://react-kakao-maps-sdk.jaeseokim.dev/docs/intro&lt;/a&gt; 에서 튜토리얼 가능&lt;br&gt;
적당히 Kako 지도 javascript api 따라해주면 되고
ts패키지도 적당히 넣어주고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;import { Map, MapMarker, Polyline } from &apos;react-kakao-maps-sdk&apos;;&lt;/code&gt;&lt;br&gt;
&lt;a href=&quot;https://react-kakao-maps-sdk.jaeseokim.dev/docs/sample/overlay/drawShape/&quot;&gt;https://react-kakao-maps-sdk.jaeseokim.dev/docs/sample/overlay/drawShape/&lt;/a&gt; 선 그리는 것도 있음&lt;/p&gt;
&lt;h2 id=&quot;코드&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%94%EB%93%9C&quot; aria-label=&quot;코드 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;코드&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useEffect&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./App.css&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Map&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MapMarker&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Polyline &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react-kakao-maps-sdk&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PathType&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  lat&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
  lng&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; geo&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Geolocation &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; navigator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;geolocation
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;latitude&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setLatitude&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;longitude&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setLongitude&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setPath&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token generic-function&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token generic class-name&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;PathType&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;/** 마운트 시 위치 이벤트 리스너 등록 */&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; geoId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; geo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;watchPosition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;g &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setLatitude&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;coords&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;latitude&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setLongitude&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;coords&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;longitude&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; geo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clearWatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;geoId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;/** 위치 바뀔 때마다 히스토리에 누적 */&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;latitude &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; longitude &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prev &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; lat&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; latitude&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; lng&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; longitude &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;latitude&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; longitude&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; width&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;80vw&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Kakao Map.....&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;latitude &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; longitude &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Map&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;center&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; lat&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; latitude&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; lng&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; longitude &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; width&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;100%&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;500px&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MapMarker&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; lat&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; latitude&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; lng&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; longitude &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MapMarker&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Polyline&lt;/span&gt;&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;strokeWeight&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 선의 두께 입니다&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;strokeColor&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;#FFAE00&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 선의 색깔입니다&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;strokeOpacity&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 선의 불투명도 입니다 1에서 0 사이의 값이며 0에 가까울수록 투명합니다&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;strokeStyle&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;solid&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 선의 스타일입니다&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Map&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; App&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://sungpaks.github.io/react_playground/&quot;&gt;깃허브 페이지로 배포&lt;/a&gt;해서 사용해본 결과&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0e38501d794ff1e3768b1de357dc1db2/78797/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 216.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAArCAYAAAB4pah1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAIrUlEQVR42n1XV3Mb1xXmv5DEYrFIpBSJAkmwqFHFlqxCSqwiKSfjsRNLkeWS8hCObFFhNPFY4+jB/yBPnkmcmeQlTYkdObEKLZZQBEEQAFEXC+wutgBYLBpBfTn3kiBBeyaY+WbvXZw99zvt3nMrOo8cQ2/fAC72Xsb5i704fKwb7V1H0HH46P8Fkzl24iR6LvXhHH33/dffwJHjJ1DB/mDKLvRcwvmeXi7cYu9YR1v7JmybWP/PZm/H0eMn0T80jAu9l/D6mz/EESJTcfzkaQyNvYZzpJShp38QvQND6BsawcCVUcIY+vlzFEOjr/F53/AIl7lIlp0ldhcu95PSfrKOGPYNXsFnn/8RN97/Oa6/8xNcI1x/96cYvz2JX9+7j3v3P8XkR/dw9+NPCL/h41t3fsXlGN66+T5+9osPMHH3Y7x68RIq2to7cfzEaZx8+QxOnH5lG9i7rfdn0H2KnoTuUy9/R+7UK2fR1tGFivr6BtTW7v4OamqqsWvXLsJOVFVV8XFlZSVeeqkGu3dvl2VzhoaGelTs2bMHe/fuxb59TYRG7N+/j8+7u7sxOjqK4eFh9PT00Jh819cHm82GAwcOkOy+bWDfMF1cYUNDAzGows5du4lFNXbs2MHfdXR0oKurCwcPHkSb3Q47ob6+HtXV1di5cydnXXoyea6wgQT2f68ZH4zfxOT4AAXnPdyeuIvbH36IGzdv4tr1H2N8fBwTExOE25i4c4c/79yZ4O8mJydx69YtzpotVlFXV4tDNjtU4XdA6j7yVghrL4Di6iqKxSIy2SwCoTAkSYYoKZA1HexXXFvDKsmwn67r3Jra2loWlHoyqRnL05/gReJzWJkCspkMMoQsKbMsC7KiQFM1hKIKApEokmEHDMGFVDKBQqGAaFREe3v7usK6unpy9EFIyx9BiT5FIpVDOCIgJkmIiFGkUin+UXG1wBeQErSA8yHSoVkkTYtkI3i+4NhSWFvXAHtrE8LOT/FkegaRaBSOpSVMzcxiye2BmU4T6yziSQuPlgJYCClQNQ06ISbL0Mhc74qvnGEDmpv3we2egm4kOaMkQSJhwzC4+dlsDiHFgKgaSFtZROIJuLw+LLmW+YKqqm75sK6uDocOHeLM1jaCkCMF+Xyew8rlIelJeCMK5oIGElYO7lgCC0KSFrNQyOcQIbPLGNbxZJVliSvIbAQkTSszdqJuIhA38R+XggcLEuaDKhYjSfz2iQnZSCNXWCXr3GhpaQHTxRW2tNgoLWI8DVhUmcJcLkdMs9CTacjkP0G1yH86/HISCr1zBhUsLPuw6A0gLAjbGTLt8XicR5MpZNFcV5pHjliLehpRYqql0lASaZjZPKVPDI+fzVHw5vDw0VO0trVtMbTZWqBQrq2trXJWLAg5U0cq9By65zFMyQNZT+CbFRX/XtYQoZTyizJClJOhsAA/JX5nZ+cWw+bmZggRERat7PEFSUAgBnHEQwvIez9DWvyaTHNh2i3C5V6A0/kU0cAMMaagFF8gHJXQvhXlWrS0tkISwzAVP9QoIeKDEXXD8P8VHu8SEmkqPyUBIRaFGvgKWvgJBTHCo6+bGcqQGOxbPmQK2yBHAsjE3EjJQViSF5b7D3AsTGHe4UIwFEBQ0rCimAiJAoLhEGJxAwYpK1Dh+4JhvhOV+ZDSRomD2COrBZCLO1AwiJkWQzYlwUookCipfbKBoGoipqhY9ofgjeo8SM8dDrSVB4VFORaL8SivKvMoCn9GQgnDO/tP6FIQ+WwGZiqBKC0qUJWIhgUvpc/MSoSXozcklvtwnaFCpVYoFPF4wQmn308uCOHh3/4EIeBDYbUIPU4bhSFB0pLwELNlwoKgYSmiYZa+2VZ6jCHb857NTME9/3eoZhGmLiHsW0I6qfEkj0shqHHKPZcEZ1iDSzSwKK67wOsPbGfIKsW57CU2i5C8/0J+9QWypoaUFkEmKcNM6lBJoTcg4NmygLmABm/MoKpJIJbMYdH/rVpuIZNZpXy1qEAMPKUEB09wK6VxGGoUuhqDaci0iIAQBUdUdERVKkU1jSlXkKdNXXliL/33KZ44ApgjpoXVNdoocrwE2SZhWSaUsBMx/zw32xdhm6+IkKQirKYwvRxEK7UmLAW5woPNNkR9Tvx+JoFfflmERGnBtrNicZUrlcUApr/+B5bmnkAQAvArKdpw0/BQNYXiSUohgU7FMoUsyiwtwkoSf5kOYGZ2Bo+/maYEDtMmkYWhyXAvzsK7OA0xKsAjSFgJBLFMeyTbGx1uHyX2hkLmyHbK8ueLTshxBZm0jhWKmsvr56axDTZHeZgmX5pGjPJVgC+mIxiLwxU14BYUTM0932BYVikPvvgSz+gPK5PjOzdLcp0OIT2dI+dTmWkSdCUCr28FDl8YYc2kjVaHj4LyyBnkLd+myewIWCCGQcpFdqawvTBIKRGhHGOHk5wwEZY1iLJC54nBkUpTtYhxzAs6Hky7YWvdqGVmMitsD23jXo+HfER7HJkTMhJQTAVJMtnIrkGz6Gwx82SiDL/fC4nSzEdHQ1DLYNYTXvchSxvWkzQ1NWF4cAhjV6m57B/AJWokR64OUXN5AT0DgzjfN4IrY2MYGbvKm86rI4MYGxmmRnT9Xd/gMJqoYWK6Npsl1rKxdo01QgyVlVWoqqxBDb2vqa6kcSX/f/1ZxVFdtfGOZDabpVI7x1gyNDY2oqlxY9zUSGjiaNp4lsbfnjM9XCFTxpxZUlzq88rn7H+G0rxhw6rN+QY7Nua3gDPnLvDuv5XaY9bWsqsGA5u32jsxOHKVfPiD9e6f0uPs+YvcbyV5dhXpOnqczyu6aHKFbgFHT5yCnZTbSTG7GTDYOw9zvHntbd7Qs4+Z0n66Ibzxo2vr8oRTZ15FN/XabMwZsqRkH7IxQ2lcuuRwxmWXHsaGoSTHFiqNK0pKSihdfC7TPeTtd97DW9dvbMONm+/iMt1lmEzpRlWO/wHkG+JDqO8sSgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;데모&quot;
        title=&quot;&quot;
        src=&quot;/static/0e38501d794ff1e3768b1de357dc1db2/f058b/image-1.png&quot;
        srcset=&quot;/static/0e38501d794ff1e3768b1de357dc1db2/c26ae/image-1.png 158w,
/static/0e38501d794ff1e3768b1de357dc1db2/6bdcf/image-1.png 315w,
/static/0e38501d794ff1e3768b1de357dc1db2/f058b/image-1.png 630w,
/static/0e38501d794ff1e3768b1de357dc1db2/40601/image-1.png 945w,
/static/0e38501d794ff1e3768b1de357dc1db2/78797/image-1.png 1125w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;정확도 관련 수정을 해야 하긴 할 듯&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.vitejs.dev/guide/static-deploy&quot;&gt;https://ko.vitejs.dev/guide/static-deploy&lt;/a&gt; 배포하려면.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;github.io/repo/&lt;/code&gt; 이렇게 배포하려면 vite.config.ts에 설정 추가해주기 . &lt;code class=&quot;language-text&quot;&gt;base : &quot;/repo/&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[🗳️ 리액트 사용자 입력 : onClick 🆚 onSubmit]]></title><description><![CDATA[미안하다.. 이거 보여주려고 어그로 끌었다.. onClick vs onSubmit…]]></description><link>https://sungpaks.github.io/on-click-vs-on-submit/</link><guid isPermaLink="false">https://sungpaks.github.io/on-click-vs-on-submit/</guid><pubDate>Sun, 07 Jul 2024 21:04:20 GMT</pubDate><content:encoded>&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 306px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8c211b07f4714b92832fc32fa8465bcb/98b92/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.79746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACk0lEQVR42g3L3VPSAAAA8P2JveRdvnQ9WNZdqRSlJumdoAimgPmBIgNBEeVTWHwjg4OBfA3GQBji2ICNSXylh6cv9Xv/AW8W5S+ml8cXpJMrsm3TxYErpA+lxUf21z/k4983Xs2ujfFEb2Unn/ZtYnPYGfahhvG5Ld3uidpjkQJQMqN2hPf0wWNDIgLfOs8IuwGzxbFvoJunD33cd76Tn73fsU6pIYULbRWk9TxvRaUio2P81QkAVMdPN8mjpYZusbXPJyU8BARjrlhOdB6YUbt4Wt9nrWfWEBJY0xooVEAEf+iviGNs1JoCj0UAuESfCHtnkqFmuaOcI/WSLKynTQeYyY9oocBH2ZHY6LUniv6YpVVdcBlnWpXZx9rLB266Q8wDOhFzKKBUgv+trl+h7DLWt9dzKjjDbu78MGlWrkaCG9dZFR7hU7nJSvoL6pjo1iaHHH/A8IFlodXlxn3hvMeL780VVQt1taChB3O2YMILp049sDkU8CKXOshTRqXPI3ESmu+QS53KhzYlBH6ZzLFyMZhClZIkpLz1g+zxGm7x5o0w5oQLO76iwl+4gCNXSVUFlTAV4T37ky0ImMr600ADIHkcRnNGMG3duUGcD5C6AxmLflcl6mMjAUblLv3GarlUkEP47drmqC196sp79NZf1sSRboBsM3WG87sxj7EZsA+8loZbwyZtAyzavko3ooXbLFFPZcNNXDtqbj+Q631KMRpcMFyN7dIA1+/S3TZOtELOThJpV2qMU0dblFQKo1CCyBLVcr02ZH1P9+F+K9y5Szw/XlZpLHtDdXs3QIYgfJmMO5VCS80c3mz02Eji2h8ol5vNEkXHi+VSvcr1y9c0WW2xTPsarxcc8asSRXaHd/8AEpHilGO/BSoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;미안하다..이거보여주려고어그로끌었다&quot;
        title=&quot;&quot;
        src=&quot;/static/8c211b07f4714b92832fc32fa8465bcb/98b92/image.png&quot;
        srcset=&quot;/static/8c211b07f4714b92832fc32fa8465bcb/c26ae/image.png 158w,
/static/8c211b07f4714b92832fc32fa8465bcb/98b92/image.png 306w&quot;
        sizes=&quot;(max-width: 306px) 100vw, 306px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
&lt;p&gt;미안하다.. 이거 보여주려고 어그로 끌었다..&lt;br&gt;
onClick vs onSubmit 싸움수준 ㄹㅇ실화냐?&lt;br&gt;
진짜 리액트 최대의 고민이다.. 가슴이 웅장해진다&lt;br&gt;
...&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;리액트에서 사용자 입력 제출할 때 뭐 쓰시나요&lt;br&gt;
전 별 신경쓰지 않고 아무거나 생각나는거 쓰는 편이었는데&lt;br&gt;
막상.. 생각해보니 어라? 싶어서 그냥 써보는 글입니다&lt;br&gt;
&lt;a href=&quot;https://medium.com/@edidee/using-onclick-vs-onsubmit-to-submit-a-form-in-react-c7e6dd318dce&quot;&gt;이런 글&lt;/a&gt;을 좀 참고했을지도?&lt;/p&gt;
&lt;p&gt;둘 다 React의 &lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt;로 사용자의 입력을 관리하는 경우로 예시를 들었습니다&lt;/p&gt;
&lt;h1 id=&quot;onclick&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#onclick&quot; aria-label=&quot;onclick permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;onClick&lt;/h1&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;UsingClick&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setText&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setResult&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;onClick&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;App&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Input Using onClick&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onChange&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;onClick&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;제출&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대충 이렇게 하겠죠?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4ca9f24dcd813cbe5e0c9af296602718/5a46d/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9ADZCNEdfTYiOYo6QaU1eT0xcTEVSRFlnVGJxXnZ8b3l/bnJ6Z2RzYGV0YWh3Y2VzXJKekOjq45mmildrUQA9SzlIYE92flSFiGZOYFI0NysrJx0/SztxemnBuKXAvrKwqqNnc11dbVpicV5ndmJxgW6ToY2gqZFrlFMANkU2W2tci5eRcYF3SVpKQ0I1WU9Aj5WMk5eOqJ9oqaaJpaGcX2xWaHZlandlZXRhZnVeZHFedIFxdJN4AEdeVDU+NF1sXVJhUVlpV0VJO2FjVmtsX2trW1hgVFxlV1NeTExbSYGNgI2Wil1qVmRwXHGCdIrEd0eTJwBYbWNWb2AkMihIVUVGUEFESzxVYlRAOy1fVz9UY1A8Sz1LWkhXZ1Q5Rzdzh3lxh3pMW1xgkFFWsSMoaAAAO0g/aoRzNEc/PEQ3RU08RU07Qk9DPj4uWlI8eHliP0k8RVVFfJR/WG9Lb4d8i6maVWdlV4U4LnYAJFcGAAcJCTpFNldwYUtQP1dgTTxCNDY/ND9HO1xhT19mWHB+bkNQQ1lqXVRnTldvZURgXHGHZY6oXyZgASBQAQAwPDE1RDYrPDNzgWxzhW0yOy0nLiREUENdb2Fmd2dhc2NBS0FHWzZUZjRWZ1lac2yPo3umt2xffDNGfSAAaH5pV3BbIigcj5h9aHljIywiICYdSVNFYXRmWmdbOUI5RlFGd4lxXmc0Q0w6PlBNSFRDRk84XW9aQ38nAG56WX+Nam9iSYNsS3N2XBklIQoMCy84L2d9ZURTRyIrJScvKlFbUYqFZHdwVV1rWJi1knmMeEyWJT+fAwAiJBdEUjlATz9QaV2Ln3+AgFBQUDFMVT2Dl2xzinNOWlaVo6G5xcXL1M3Pz8bb8Oee2MVAXkFFoAsqZQe4W/c4eFo//gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이게 클릭이야&quot;
        title=&quot;&quot;
        src=&quot;/static/4ca9f24dcd813cbe5e0c9af296602718/5a46d/image-1.png&quot;
        srcset=&quot;/static/4ca9f24dcd813cbe5e0c9af296602718/c26ae/image-1.png 158w,
/static/4ca9f24dcd813cbe5e0c9af296602718/5a46d/image-1.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그냥 간단히 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;button onClick={}&gt;&lt;/code&gt; 이렇게 쓰는 것입니다&lt;br&gt;
어디서든 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;button&gt;&lt;/code&gt;을 적절한 &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;에만 연결해주면 후속처리를 진행할 수 있습니다.&lt;/p&gt;
&lt;p&gt;그냥 이게 다인데..&lt;br&gt;
이 &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;은 버튼 뿐만 아니라 어디에도 &lt;strong&gt;범용적&lt;/strong&gt;인 이벤트 핸들러라는 점이 특징이겠네요&lt;br&gt;
그리고 &lt;strong&gt;클릭 핸들러&lt;/strong&gt;로 하기 때문에, &lt;strong&gt;진짜 클릭해야 한다&lt;/strong&gt;는 점입니다&lt;/p&gt;
&lt;h1 id=&quot;onsubmit&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#onsubmit&quot; aria-label=&quot;onsubmit permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;onSubmit&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 306px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/54a58c233ee0bae6c1b169bced67ae14/98b92/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.79746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+klEQVR42iWS626cMBCFeb2q6mtUah+kVbTKdZukuTTJQrKLwYAv+ALGxjaQ/EgeqrNZaTTySP7OObInsa7vjRSCM0aFYEoJrfej1AJGziljREqR59sQ3BTDvs9jiPbLt68JxmXfKyFbXONlCRijAr2k6UNDqux5g3GRpo/LWwQhEI3Rj34Yvfn4ePvx83uSZRuQsa7DVem95S1lknEtWiWqArGmJoy0gqEiJ6SeZu/DEMLw/vF2c3uZQDApW6na7fYFOqQwm6fu/ra7vOhPjodsM7o+BNsbUdVlnCDwEKJbXiNYJkW5o5ToTpVlbkczKe6v1n71O67P/OpXuP5jV0dBtQAgtPV+2DtHOy8eKmkFSdMNIU1dl93Q+TJ352f+/Dg+3c0oi4+349V6rPH0GpumMEbGye3heYRKQMkHE+PYaUVZs8BL7p7j9eWMdjOp3P2NuziNrouLZ7QSggA8hmGa3ALOYXLAA6wkryq0Fx6Ne7hzJ0fD6cpmT07SrhdmUE1TEorj5/1D8kRrrhSTCj6Z7PJUKV432HpLJTXBaNuVGLmxx1WuO0EIPsSGgkPy7/5v25LPBwjg3PcizR60bqsaUVqDZ90UsEVScfgUhF4+yQM/wpLsL0nBOi122w0llWgp50RCHMmV5sBDBzkzaNKUIDRNHvYsRPsfep3PrqceFqcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;결재&quot;
        title=&quot;&quot;
        src=&quot;/static/54a58c233ee0bae6c1b169bced67ae14/98b92/image-2.png&quot;
        srcset=&quot;/static/54a58c233ee0bae6c1b169bced67ae14/c26ae/image-2.png 158w,
/static/54a58c233ee0bae6c1b169bced67ae14/98b92/image-2.png 306w&quot;
        sizes=&quot;(max-width: 306px) 100vw, 306px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아시겠지만 &lt;code class=&quot;language-text&quot;&gt;onSubmit&lt;/code&gt;의 경우에는 꼭 &lt;code class=&quot;language-text&quot;&gt;form&lt;/code&gt;으로 감싸고&lt;br&gt;
버튼의 타입이 &lt;code class=&quot;language-text&quot;&gt;type=&quot;submit&quot;&lt;/code&gt;이어야 합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;UsingSubmit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setText&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setResult&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;onSubmit&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;App&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Input Using onSubmit&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;form&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onSubmit&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;onSubmit&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onChange&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;submit&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;제출&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;form&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이처럼 &lt;code class=&quot;language-text&quot;&gt;onSubmit&lt;/code&gt;을 써먹으려면 이를 통합 관리하는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;form&gt;&lt;/code&gt;태그가 있어야 하고&lt;br&gt;
이 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;form&gt;&lt;/code&gt;태그에 &lt;code class=&quot;language-text&quot;&gt;onSubmit&lt;/code&gt;이 등록됩니다&lt;/p&gt;
&lt;p&gt;그런데 &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;과는 좀 다른게&lt;br&gt;
이렇게 제출하면 기본적으로 &lt;strong&gt;새로고침이 발생&lt;/strong&gt;합니다&lt;br&gt;
리액트 입장에서는 이게 state도 초기화되고 아주. 귀찮을 수 있습니다&lt;br&gt;
따라서 필요한 경우 &lt;code class=&quot;language-text&quot;&gt;onSubmit&lt;/code&gt;함수에 인자로 들어오는 이벤트 객체 &lt;code class=&quot;language-text&quot;&gt;e&lt;/code&gt;를 가져다가&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;e.preventDefault()&lt;/code&gt;과 같이 작성하여 &lt;strong&gt;새로고침을 방지&lt;/strong&gt;해줍시다&lt;br&gt;
그래야 &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;과 비슷하게 쓸 수 있습니다&lt;/p&gt;
&lt;p&gt;그리고 한 가지 &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;과 비교되는 특징은&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;form&gt;&lt;/code&gt; 내에 속한 입력란에 포커스가 있는 채로 &lt;strong&gt;엔터를 눌러도 제출된다&lt;/strong&gt;는 점입니다&lt;br&gt;
이를 이용하여 굳이 클릭하지 않아도 엔터로 제출을 해결하게 할 수 있으므로&lt;br&gt;
조금의 UX 개선에 도움이 될지도?&lt;/p&gt;
&lt;h1 id=&quot;onclick-vs-onsubmit-예제&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#onclick-vs-onsubmit-%EC%98%88%EC%A0%9C&quot; aria-label=&quot;onclick vs onsubmit 예제 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;onClick vs. onSubmit 예제&lt;/h1&gt;
&lt;p&gt;위에서 쓴 예제 코드 허투루 쓴게 아닙니다&lt;br&gt;
오늘도 샌드박스로 좀 가져왔습니다&lt;/p&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/4ks4yp?view=preview&amp;module=%2Fsrc%2FUsingSubmit.jsx&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;onSubmit-vs-onClick&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;p&gt;위에서 살펴본 차이점(&lt;code class=&quot;language-text&quot;&gt;onSubmit&lt;/code&gt;은 엔터로 가능함 등..)을 한번 살펴보십쇼&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;끝&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%81%9D&quot; aria-label=&quot;끝 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;끝&lt;/h1&gt;
&lt;p&gt;입니다. 진짜로&lt;br&gt;
알아서 상황에 맞게 쓰면 되겠습니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🪝 리액트 훅(React Hooks) 예제와 함께 톺아보기]]></title><description><![CDATA[리액트 좀 해봤다 자랑하려면 Hook은 매우 필수적인 것 같은데요  오늘은 이 리액트에서 기본으로 제공하는 Built-in…]]></description><link>https://sungpaks.github.io/react-hooks-guide-with-examples/</link><guid isPermaLink="false">https://sungpaks.github.io/react-hooks-guide-with-examples/</guid><pubDate>Sat, 06 Jul 2024 20:26:16 GMT</pubDate><content:encoded>&lt;p&gt;리액트 좀 해봤다 자랑하려면 Hook은 매우 필수적인 것 같은데요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 254px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/be28d1c15f594584a789339e2b7d2892/6a91e/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.84810126582278%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAADvklEQVR42mOIDfEtzEqqryzsaq2vLC4sLSpITUqOCgmNCgmIjwhNT4jKTomuLMxoqS7sbKhoqSmtKs6uLMlra6ia0FXHwMbCxsrEysrMIsIvJCkkyc8lxMHOy8spyMcrJioqa2ZoJi0qysnKxsvBycPBxc7Gxs7Cxs7KxsHGzsnGziDIL8DPx6cgK6+hpKEopSgnIS8lKiMlLicrrSgno2SoY2KkpS8sIAhUI8DHD1QMIfl5+YDaGHi4eeSkZMx0jBQllRSklOQlFJRlVJQV1BRklOWllWQk5NXk1aUlpHl5eIAa4IiXm1dYRICBl5tHW1nF09bW0dLG3tzKRFdfX1PXVN9YR03LQFMfqFNDSV1BVpGfjx+uk4+HF4iADAaQGfwCFtqaXnY2lgYGNiYm9hZW3s4urjYOZvqm5gbmxroGynKKwgJCQGsg2oCIh4uHm5OLQZBPQFpCcnJZxrLa7KbU6EnFGf62FpqKyg7mVkCHONnYAzUrSMlJiUkICfALCQgICwoJ8oNcwcPFzSAmLBrqHzijPHtHd/my2szm5LCsQHc7XS01GVlrYzN7S2srEzM1BSVZKVlxMUkRYTF+PmEgKS4mxs/LyyAiJKysqLR3atvrLdNPzW64smrixfmtOzqKdBTkJIXEVeQUNJXVJYTFFMQE1eWEVWQFbYwVZMX4WBiZOTl4GIDOEBMRXd9ceG9xx7eDy56tm3p7UevRiWWFwe7KEtKC3AJ2+oo9ZSGHt02/c3Hz1VNrf364dmr/vJndudbaMgyiwiIcnFxZAR7/j699vn7iuckVF2fW7OssWFye6m1uJMTNtXhCxpS6kp7y8hktDYsm9c/o7mwrLvj55dmNEysgmnnCnOzOz2p9tKb/xYZJV+c2bKhNm5AVGeNoZagguaAn7c6FPfs3rZzV1rxrw6pLpw+c2r/l4d1LJ3ctYBAWAkJRCQHhWcmRrzZOubu84/Kc2j3dBTMKYydV5LRXl1sY6lRmeM7ryzqzb9butVP2bpp16ejqnspoZyM5UPLk4+FRkJGvTo6+OL/h5KSiCzNr909rPLph4YEdm6bNmJ3gFRJr4iwrKCElyC0lzCshxCMlwMPFzsXHK8CgKK+kJK/qYOXUWVG5Z3rX0YVdB5bPuHHx5KN7N5YvW9oQmbKnqLbAJ1JbxVBVxUBGRlFcXFpMXEpKQkpESIRBW1PbUM/M2d67OqcgxjNw/swpb17d//bpzfzZsxOjE7Ldg5tiMnSV9fW0LYz0rQ0NLFWUNSUlpSUkpESFRAHYZhbPtRv13AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;제법인데..&quot;
        title=&quot;&quot;
        src=&quot;/static/be28d1c15f594584a789339e2b7d2892/6a91e/image.png&quot;
        srcset=&quot;/static/be28d1c15f594584a789339e2b7d2892/c26ae/image.png 158w,
/static/be28d1c15f594584a789339e2b7d2892/6a91e/image.png 254w&quot;
        sizes=&quot;(max-width: 254px) 100vw, 254px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;오늘은 이 리액트에서 기본으로 제공하는 Built-in 훅에 대해 좀 알아봅시다&lt;br&gt;
&lt;a href=&quot;https://ko.react.dev/reference/react/hooks&quot;&gt;공식 문서&lt;/a&gt;를 참고해서요&lt;br&gt;
또한 적당한.. 직접 작성한 예제도 들고왔으니 한 번 잡솨보십시요&lt;/p&gt;
&lt;p&gt;그리고 진정한 Hook선장이라면&lt;br&gt;
&lt;a href=&quot;https://ko.react.dev/reference/rules/rules-of-hooks&quot;&gt;Rules of Hooks&lt;/a&gt;에 대해서도 응당 읽어보고&lt;br&gt;
코드 짤 때 외않됌? 이라고 외치는 일 없도록 합시다.&lt;br&gt;
대충 이런 내용들이 있습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;조건문, 반복문 내에서 Hook 호출 X&lt;/li&gt;
&lt;li&gt;컴포넌트의 최상위 또는 커스텀 Hook 내에서 호출 (조건부 &lt;code class=&quot;language-text&quot;&gt;return&lt;/code&gt; 이후 이런거 X)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;아무튼 시작해봅시다&lt;/p&gt;
&lt;h1 id=&quot;state-hooks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#state-hooks&quot; aria-label=&quot;state hooks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;State Hooks&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;State&lt;/strong&gt; 훅으로 사용자 입력 등의 정보를 &lt;strong&gt;기억&lt;/strong&gt;할 수 있습니다.&lt;br&gt;
(&lt;a href=&quot;https://ko.react.dev/learn/state-a-components-memory&quot;&gt;&lt;em&gt;참고 : React는 &quot;기억&quot;해야 할 값들(현재 입력 값, 장바구나, ...)을 저장하기 위한 컴포넌트 별 메모리를 &lt;strong&gt;state&lt;/strong&gt;라고 부릅니다.&lt;/em&gt;&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 261px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8a354de8ca5fb41fbe21366f4689f0f3/edf96/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.0506329113924%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnklEQVR42gGTA2z8AMm7vMjAwKejoq+trrW4va6xt6ewu19laGZlXqm5w6a3wau4wbK5xre7yby9xcK+xcPByMjCyc3Fx9DIxwC+v8a5w8ypucKZrbemu8mov86otrppa2NYWlaLionAy9nAw83Kx9HPydDQys7Uy9DbzdDgztLj0dPm0tUAqLrGlamxobXDkqaxrL3Kr8LRp5eHrqiisLa+f2VStKqt1M7W2cvN3c7O2s/P38/R4tDU5dLW6NXX7dbZAK/By4iRkaSss6iutL3Byb+/wKaDacG9wLO0t6ONfLqikefV3PHQ0/DS1uvU1+zV2O3V2+/Y3vLZ3/Pb3gC2xM2Qk5K4sa+/tri4vMDPwr+1hWSwnZCEalivj3LYsJj12t/v1dfw1tv22+D22t/22+H32+L33OH33OAAxr29opiPybWu0Lm00cK/4MjBqXJLonpai2VHp25Mx5qC+ODo8dvf8dvh8Nnf9N3i9t/o+uDq/OHr++HqANS+tse0rL+vp9C/uc+7ttjGwql2VbN8VK6Ob4JONKV/bN/KwM+1ptC3qdrCvOLOyenUzOfOx+rQyvHY1QDSw7vMu7TFta7TxL7FtrLq2dzYs5zAmnmYfmplSzt4WUKOcVhsX0t8aFW4nYzJsZ+Hdl5+bleBbliMdmAAzLqy28fAybevzr66y7u59NzcmoR3fGNNVzkoPjMqYEQufEYrWT4uEhYTV0c7nH5mZllHZlpJa1pKYlFCAKOPh9S4q82wn9K6sc64sqqSh1U8K4pbPkErHDApJWtEM186K081JwQLDkZAOcGkhnZrV3FjU3lnWHJkUwCcjIWnkX3mw6q8pJSWhXqEaVlmQy6ub0lGOClDOS51QTFRLyMvJx0PEQ8yLynAp4yAdFtoX05rY1CKf24AkYWBpZKF89HCjnpue3NsjHRgZjokl1MuWjkkGSEaOyUaHxIMBgcFJCQjoJWSrpN9rJmAc2pUcmlVlIh1ANfBvda8tbWai5mEdZaJf3FYRG9INHdPN0QtIB8iIisxLyMoIx0eGmNfW6WOfmtWQ8+5ormkibuoj6ychAD329v939yRfXGXgW6gi3SEcVqKdFuDcVtxZlRgVkltZlx1al5/dWaTgG2TdFqAZ1S0nYStmoLDrZfPuKQAwKqi79PVe21pppODk39pg3VeeWdQe15HjnNbhGxUh2xTiGxWiW9Yk3dgim1Yj3NeeGFLTkEzhXRimod1bygQEnbtMHUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기억할게!!&quot;
        title=&quot;&quot;
        src=&quot;/static/8a354de8ca5fb41fbe21366f4689f0f3/edf96/image-1.png&quot;
        srcset=&quot;/static/8a354de8ca5fb41fbe21366f4689f0f3/c26ae/image-1.png 158w,
/static/8a354de8ca5fb41fbe21366f4689f0f3/edf96/image-1.png 261w&quot;
        sizes=&quot;(max-width: 261px) 100vw, 261px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;값을 유지하고 업데이트하며 리렌더링을 유발하게 하려면 &lt;strong&gt;state&lt;/strong&gt;를 사용해야 함은 리액트의 기본이라고 할 수 있겠죠?&lt;/p&gt;
&lt;h2 id=&quot;usestate--usereducer&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#usestate--usereducer&quot; aria-label=&quot;usestate  usereducer permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;useState &amp;#x26; useReducer&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt;먼저 살펴봅시다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.react.dev/reference/react/useState&quot;&gt;&lt;strong&gt;&lt;em&gt;useState&lt;/em&gt;&lt;/strong&gt; 레퍼런스&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매개변수 :
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;initialState&lt;/code&gt; : &lt;strong&gt;state&lt;/strong&gt;값의 초기 설정 값.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;반환값 : 다음 두 개의 값을 가진 배열 반환
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt; : 현재 상태 값으로, 첫 번째 렌더링 시에는 &lt;code class=&quot;language-text&quot;&gt;initialState&lt;/code&gt;값과 일치&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;set&lt;/code&gt; 함수 : 상태 값을 업데이트하고 리렌더링을 유발.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;const [state, setState] = useState(initialState)&lt;/code&gt;와 같이,&lt;br&gt;
&lt;strong&gt;배열 구조 분해 할당&lt;/strong&gt;을 활용하여 작성하는 것이 국룰입니다&lt;/p&gt;
&lt;p&gt;또는, 값을 엄격하게 관리하기 위해 &lt;code class=&quot;language-text&quot;&gt;useReducer&lt;/code&gt;를 사용해볼 수도 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.react.dev/reference/react/useReducer&quot;&gt;&lt;strong&gt;&lt;em&gt;useReducer&lt;/em&gt;&lt;/strong&gt; 레퍼런스&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매개변수:
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;reducer&lt;/code&gt; : &lt;strong&gt;state&lt;/strong&gt;의 업데이트를 지정할 Reducer 함수. 반드시 &lt;strong&gt;state&lt;/strong&gt;와 &lt;strong&gt;action&lt;/strong&gt;을 매개변수로 받고, 다음 렌더링에 사용될 &lt;strong&gt;state&lt;/strong&gt;를 반환하는 순수함여야 합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;initialArg&lt;/code&gt; : &lt;strong&gt;state&lt;/strong&gt;의 초기 설정값.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;init?&lt;/code&gt; : &lt;strong&gt;선택사항&lt;/strong&gt;으로, 초기 &lt;strong&gt;state&lt;/strong&gt;를 반환하는 초기화 함수를 여기에 따로 할당해줄 수 있습니다. 할당된 경우 초기 &lt;strong&gt;state&lt;/strong&gt;값은 &lt;code class=&quot;language-text&quot;&gt;init(initialArg)&lt;/code&gt;값입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;반환값 : 다음 두 개의 값을 가진 배열 반환
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt; : 현재 상태 값으로, 첫 번째 렌더링 시의 값은 - &lt;code class=&quot;language-text&quot;&gt;init&lt;/code&gt;이 있는 경우, &lt;code class=&quot;language-text&quot;&gt;init(initialArg)&lt;/code&gt; - &lt;code class=&quot;language-text&quot;&gt;init&lt;/code&gt;이 없는 경우, &lt;code class=&quot;language-text&quot;&gt;initialArgs&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;dispatch&lt;/code&gt; 함수 : 상태를 새로운 값으로 업데이트하고 리렌더링을 유발&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;useReducer&lt;/code&gt;를 사용하여 간단한 버튼 클릭 카운트 예제를 작성해볼 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* StateExample.jsx */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;StateExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; StateExample&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* ReducerExample.jsx */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useReducer &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;action &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;up&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; state &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Unknown Action&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ReducerExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatchCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; ReducerExample&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/8tlls5?view=preview&amp;module=%2Fsrc%2Findex.js&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;state-and-reducer-sample&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;h1 id=&quot;context-hooks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#context-hooks&quot; aria-label=&quot;context hooks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Context Hooks&lt;/h1&gt;
&lt;p&gt;보통 하위 컴포넌트에게 정보를 전달하기 위해 &lt;strong&gt;props&lt;/strong&gt;를 사용하는데요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MyParent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MyChildren&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MyChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;머 이런 식으로 하겠죠?&lt;/p&gt;
&lt;p&gt;그런데 이렇게 props를 전달하지 않고도 정보를 전달할 수 있습니다&lt;br&gt;
예시를 먼저 보면, 아래 예시는 상위 컴포넌트에서 변경되는 &lt;code class=&quot;language-text&quot;&gt;theme&lt;/code&gt;값을 자식 컴포넌트에서 &lt;strong&gt;&lt;em&gt;구독&lt;/em&gt;&lt;/strong&gt; 합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createContext&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useContext&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ThemeContext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;LIGHT&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Context를 생성하고 내보냅니다.&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ContextExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;theme&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setTheme&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;LIGHT&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//Provider로 감싸 그 하위 컴포넌트들에 Context를 제공합니다.&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ThemeContext.Provider&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;theme&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          theme &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;LIGHT&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;DARK&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;LIGHT&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        Change The Theme
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ContextExampleChild&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ThemeContext.Provider&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ContextExampleChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//이 컴포넌트에서는 Context를 읽지 않습니다.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1px solid black &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10px&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ContextExampleChildChild&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ContextExampleChildChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//이 컴포넌트에서 Context를 읽습니다.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; theme &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ThemeContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;//ThemeContext에서 얻어온 값에 따라 무언가를 합니다.&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;backgroundColor&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; theme &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;DARK&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;black&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1px solid black &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; theme &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;DARK&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;100px&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      2nd Child, Theme : &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;theme&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; ContextExample&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/tl5x4r?view=preview&amp;module=%2Fsrc%2FContextExample.jsx&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;context-sample&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;p&gt;사실상 아래와 같이, props 폭포에 의한 의존성을 역전시키다시피 한 셈인데요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a1028c0bfe9db8eacbddb59d6084bb61/21b4d/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 40.50632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyklEQVR42k2R2xKDIAxE+f8vdYRWRUcBufQMa2n3IWOSzW6CJud83/fVEULY9/08z1JKa41Id7SI67qq4pzjw8BIKb07vPcIkS7LArt0bNtGi0qMka508aBiJE+sterjOA6EawdsrYZi7BCTCtGIFK5grcXBWYc/VAxRgQqP+usLaRHxN7qNnD0lnzvYinRcPjDIzzDORD0DQJ4t5nmG1DqY4akoynyaJtJnWNBhAv5Evc1YLf1Brd8wJa5FkpdkeGwE+Hlq+Y6x0Qdbd9Gn1l2/OgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;props인 경우, context인 경우&quot;
        title=&quot;&quot;
        src=&quot;/static/a1028c0bfe9db8eacbddb59d6084bb61/f058b/image-2.png&quot;
        srcset=&quot;/static/a1028c0bfe9db8eacbddb59d6084bb61/c26ae/image-2.png 158w,
/static/a1028c0bfe9db8eacbddb59d6084bb61/6bdcf/image-2.png 315w,
/static/a1028c0bfe9db8eacbddb59d6084bb61/f058b/image-2.png 630w,
/static/a1028c0bfe9db8eacbddb59d6084bb61/40601/image-2.png 945w,
/static/a1028c0bfe9db8eacbddb59d6084bb61/78612/image-2.png 1260w,
/static/a1028c0bfe9db8eacbddb59d6084bb61/21b4d/image-2.png 1280w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;중간 컴포넌트가 몇 개건 간에 건너 뛰어버릴 수 있습니다.&lt;br&gt;
&lt;a href=&quot;https://ko.react.dev/learn/passing-data-deeply-with-context&quot;&gt;이 문서&lt;/a&gt;에서 &lt;strong&gt;context&lt;/strong&gt;에 대해 더 자세히 알아볼 수 있습니다.&lt;/p&gt;
&lt;p&gt;요약하자면, &lt;strong&gt;Context&lt;/strong&gt;는 아래와 같이 사용합니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;export const MyContext = createContext(defaultValue)&lt;/code&gt; 로 context를 생성하고 내보냅니다.&lt;/li&gt;
&lt;li&gt;부모에서 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;MyContext.Provider value={...}&gt;&lt;/code&gt;로 자식을 감싸면, 그 하위 자식들은 모두 &lt;strong&gt;context&lt;/strong&gt;를 읽을 수 있습니다.&lt;/li&gt;
&lt;li&gt;자식 컴포넌트에서는 &lt;code class=&quot;language-text&quot;&gt;useContext(MyContext)&lt;/code&gt; &lt;strong&gt;훅&lt;/strong&gt;으로 &lt;strong&gt;context&lt;/strong&gt;를 읽습니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이렇게 상위 컴포넌트에서 &lt;code class=&quot;language-text&quot;&gt;Context&lt;/code&gt;를 제공하고, 하위 컴포넌트에서 &lt;code class=&quot;language-text&quot;&gt;useContext&lt;/code&gt;로 이를 &lt;strong&gt;구독&lt;/strong&gt;할 수 있습니다.&lt;/p&gt;
&lt;h1 id=&quot;ref-hooks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ref-hooks&quot; aria-label=&quot;ref hooks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ref Hooks&lt;/h1&gt;
&lt;p&gt;어떤 &lt;strong&gt;정보를 기억&lt;/strong&gt;하고는 싶은데, &lt;strong&gt;리렌더링을 유발하지 않게&lt;/strong&gt; 하려면 &lt;strong&gt;&lt;em&gt;Ref&lt;/em&gt;&lt;/strong&gt; 를 사용합니다.&lt;br&gt;
&lt;strong&gt;state&lt;/strong&gt;와는 달리, &lt;strong&gt;ref&lt;/strong&gt;는 업데이트해도 다시 렌더링되지 않습니다.
이렇게 하여 &lt;em&gt;리액트 패러다임에서 벗어날 수 있습니다.&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;const ref = useRef(defaultValue);&lt;/code&gt;와 같이 선언합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;useRef&lt;/code&gt;는 &quot;&lt;em&gt;현재 값&lt;/em&gt;&quot; 에 해당하는 &lt;code class=&quot;language-text&quot;&gt;current&lt;/code&gt;값을 가진 객체를 반환합니다.
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;{current: defaultValue}&lt;/code&gt;과 같은 객체&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ref.current&lt;/code&gt; 프로퍼티를 사용하여 값에 값에 접근하고, 읽고 쓸 수 있습니다.
&lt;ul&gt;
&lt;li&gt;docs의 표현으로는, &lt;strong&gt;React가 추적하지 않는 구성요소의 비밀 주머니인 셈입니다.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/55305148e17b4bb30cf42808e71b7a57/3684f/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEwElEQVR42h2Q2VMaBwCH9y9oJ60RkJtgVNAoIvelIoeooLILuMDiCi6XAh6IGowmmiAeCRqMJjHGaB1aLzRjqtM0zd2kkzSXPdKndprmoZ3pTCed6UNfLOnM9/rN7wAiUF4PdDQM5nrUJKcUj4qzYcFHNu4hpxjnlOExOb5NRe3QM5fO20ba5C0ynEdF9ilJ/ipyu5oK9JnzI6a8SFOBV0txSrJDtcyojdNv4yAqhrGC7gQ5E0OGCzFoatQcMBe2yHMwJdmb8f8HCEP5YRMrZGCeCSi2VwKLSWR0CLSYpTxhfkkJo7iYXsZnlvMouqIPYeFhl4LoVBA9VWSvmupRUzIyqwdiB+sYo2HND6+XE+Ou4mNkNpsm4OW6ILFZxzVqOOwCSqWAbpfgHFJcJry1kuSuImNKItDdmN8DskK1jKl+w8v9JRCUsQpphWxyg7J4pK1mrt8812+Bqzmsghw9H4dmTpETWivIHhUlMx7oasgLG/PbtZSzEV36+lgRi5R3lKiWHI0HdPFg7XLUtHoKnghUa0VMQUEWKsPbZQRnOQmrJGFVJCDYkBuqzw3UMQZd/P5oE52Jp1APD/lUt2a96Th6O+m9d8G3fAIaxtSCvGxETLBJiM3yHFcFGaukAD4d3atj+HSMIFhQr2GV5OOkZfSZvoYHC4E7ybYrnYalfmgnjq4MmOtFZIsw2ybJccgILeWZ2ymAv4bhraa7NdQgyLI3lvp0RSfQ8slQ9dW+utVTTTGX6lywdrEPjKEyu4xi4mVb34fj7RK8Q0F8L2fI5IeMGbmkuYI+21WX6NbNdGrXR6xhSDwTabw1599NepxKOsQ7bBUTreKcDJkKgF9H92dqa2gBPRM1cfQSkkpIO+muONuuvhSpS41Y7l8Lvtoa2J12T/rVxrKsJiEBFhGtEjwixwO+ahqmJvlBtgfhetsrGkwcGvWDKCofD6hPYYpzHbq7i6Eb570dDbyuJiEowptKs8zcLFiIs0kJgEd35MJEa3t3o6a+yI5KQLhMLKIFTLxeRBQwli4Mgt+kelKnbS3qoiplrsXKRQwsRH3EriDZJQRgdWHg4OCP/Tc3o1OYsi7PbOXrTbz5meBsr/7zqZbvt45vxJBRTGXRl4rldJONj7jlCKaAm7hOLRN49+7Vs1/vjizufP3zW99wM1+U7UX5O6snnqQHX6y0r52BuyDutelAIKSXKaiQlW+xi+BmabOncmP9NHBw8Pb526fDC9cfv/5lfi91PD5wY/vK6s720npqM5WcmI6NzUze2X80fGnKAMsgmGeyic12sQEsvnn7EvDuz+f3H6fn1m6MJ1KxsyuJi1tjye21RGJvMn55dHZ4enNifnc0mR77ZBf0QiIJrd7EU9eyOyPQX3+/APbmfdup+PUHP+3c3l/de3Jt494XD797+vTJl5vr6c/SG3dffnrz2/U7z2b3HskNWm11YWMTXyAlDp5xHRy8AbYS1q9SfWsrYyuXhxdmBqfHI4l4d7S3rcOODCGOOOoYc2Nd4TaDG9HoeWirpKaeW1iCc2Cqf/79EViOmTcn4avR2nPBqpOoqBfmozUFctbHNTmHLLm4ThU/JjqmKyLzZQyHS5w5jCtg8EUMo0X42+8P/wO9y8q7R6tKUgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;비밀&quot;
        title=&quot;&quot;
        src=&quot;/static/55305148e17b4bb30cf42808e71b7a57/3684f/image-4.png&quot;
        srcset=&quot;/static/55305148e17b4bb30cf42808e71b7a57/c26ae/image-4.png 158w,
/static/55305148e17b4bb30cf42808e71b7a57/3684f/image-4.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아까 &lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt;에서 했던 클릭 카운트 예제와 비슷한 것을 살펴봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useRef &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;RefExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; clickedRef &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//useRef로 선언하였으므로, 업데이트되어도 렌더링X&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          clickedRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//ref 업데이트&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        click me
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;you&apos;ve been clicked &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;clickedRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; times!!&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        check
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; RefExample&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이번에는 &lt;code class=&quot;language-text&quot;&gt;useRef&lt;/code&gt;를 사용하여 비밀스럽게 카운트를 관리하고,&lt;br&gt;
&lt;strong&gt;check&lt;/strong&gt;버튼을 눌러야먄 이를 확인할 수 있게 했습니다.&lt;/p&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/rwhj2j?view=preview&amp;module=%2Fsrc%2Findex.js&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;RefSample&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;h1 id=&quot;effect-hooks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#effect-hooks&quot; aria-label=&quot;effect hooks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Effect Hooks&lt;/h1&gt;
&lt;p&gt;또 하나의 React 패러다임의 &quot;탈출구&quot;로 &lt;strong&gt;Effect&lt;/strong&gt;가 존재합니다.&lt;br&gt;
&lt;strong&gt;Effect&lt;/strong&gt;가 그래서 뭔데? 를 알아보기 위해, &lt;strong&gt;컴포넌트 내부의 2가지 로직 유형&lt;/strong&gt;에 대해 먼저 알아봅시다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;렌더링 코드&lt;/strong&gt; : 컴포넌트는 props와 state를 적절히 활용하여 JSX를 반환합니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://ko.react.dev/learn/keeping-components-pure&quot;&gt;렌더링 코드는 순수해야 합니다.&lt;/a&gt; &quot;부수 효과 없이 단순 계산만을 수행&quot;하는 경우라고 볼 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;이벤트 핸들러&lt;/strong&gt; : 단순 계산 뿐만 아니라, 일종의 &lt;em&gt;부수 효과&lt;/em&gt;를 갖는, 컴포넌트 내부의 중첩 함수입니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;예를 들어, 이벤트 핸들러는 입력 필드를 업데이트 하는 등, 사용자의 이벤트에 의해 발생하는 &lt;em&gt;부수 효과&lt;/em&gt;를 포함합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;그런데 &lt;em&gt;부수 효과&lt;/em&gt;라는 애들은 이벤트에 연관되지 않는 경우가 있습니다.&lt;br&gt;
예를 들면, 마운트 시 채팅 서버에 접속한다거나, 모달을 바로 열어 보여주거나, ..&lt;br&gt;
이 예시들은 &lt;em&gt;부수 효과&lt;/em&gt;임에도 특정 이벤트에 의한 효과가 아닙니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Effect&lt;/strong&gt;는 즉 &lt;em&gt;렌더링 자체에 의해 발생하는 부수 효과&lt;/em&gt;를 특정하는 셈입니다.&lt;br&gt;
이를 활용하여 컴포넌트에서 외부 시스템과 동기화할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 263px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d41d8cd98f00b204e9800998ecf8427e/17741/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.78481012658227%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADRUlEQVR42mWS3U/bZhTG/fdsV73dxaZqqjRto+qH1Epdq21UReukbb2ATaN00HZdv9xCQ/OBYWGZgDiJk9iOcdKWDAIJy4Ydx2mCISyhBOc7ThzHdiCsUDsX1aQ9+r3PeXWko3NxHmBdE8dtbqXT2cz2bm63WChWStVqtVQqVCrFeqMsNityq64qDblVk6SqJFW6lJvNEmC32z0eD+oj5ol5FCcIwk/gRCAQEIS6orQVRVXVtqroVZFltVt17wKQ5Hw2k8lw8RTHBEIR2Itg82gikRBFaX+/051sayaLoipramkoumTtAUtL4eDCCxgaHDL+2D85NDDxQ7/5eyfmpmlWbe/J2nJ1T5FVcvi7ZRt0cHSk7h90h/XdQOEVlc9ShW22ss1UdeK1HbaYpTT2GjsdKXfQzu2JW65bF6ZHvin86RM2Fl+384dK7l95B6hRwwKt06BvCvSIQN8V2UdS0tBcn2gkoRJj2Y1Z2RempH/g94ETjq/fDxkH+XWynnnWqYaBl/ae5NzJBNzD2U9twqc55GwKOZdyX9zAv4y5vl0LIGmaTlEpBLxhvnaGdFhzm/l/mGQyGqWeO4CFR8eDjz8MPfkYMx23Wd5zP/ggYupZMX8SgU7+YTwTdE/jPj8CuwzgGHgHnJm2Ex7Mp93GR0IGA8CzthI9hy31DaePPQx9iq70UcvD+TWIX5vgo2Oba57w6l8+HOc2uGwmnVxPxsMh0os4XS4mzgD1LXx14Wmv8d3L0DtW/NIifxVGL6cjpnJiqhwzs9RijGHjTIxh2GXfkwAMoRjhcLocTiQUCgO032W3Pfhi5Ng9Sy/kPzsd+Wgm8FXUj696p5Ydo47frCaTdWzcNjY+BVntsw7UZoWskyZ41hb0u4AgQZBeJ2S578bvzqH9479eMU9eXyQXnqE4iXjgKWj0zi3Dw+vQ6A0zOGQBB2eeDs0afxr/+Ro4+BmgJQRDPZHwSoyiCMzvw0jMi1F/R2uVYlMUWpKoKk1FFjXUrkuS2GqJ9+897r14HqjWGnoG23oGBUFoaLFstfY7naPDw6P/6W0PBM19n58Htja4SqmQ390p8LlykS8VdIp8Lp97xXd5++H/07k98suVC6ffAKDJrjKi86XuAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;효과는 굉장했다&quot;
        title=&quot;&quot;
        src=&quot;/static/d41d8cd98f00b204e9800998ecf8427e/17741/image-5.png&quot;
        srcset=&quot;/static/d41d8cd98f00b204e9800998ecf8427e/c26ae/image-5.png 158w,
/static/d41d8cd98f00b204e9800998ecf8427e/17741/image-5.png 263w&quot;
        sizes=&quot;(max-width: 263px) 100vw, 263px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 뜻에 대해 &lt;a href=&quot;https://ko.react.dev/learn/synchronizing-with-effects#what-are-effects-and-how-are-they-different-from-events&quot;&gt;Docs에서 더 자세한 설명&lt;/a&gt;을 쭉 읽어보시면 좋을 것 같습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt; 관련 내용은 리액트 개발에서 꽤나 중요하기 때문에... 잘 알아두면 좋은 것 같습니다&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;useEffect&lt;/strong&gt;의 &lt;a href=&quot;https://ko.react.dev/reference/react/useEffect#examples-dependencies&quot;&gt;레퍼런스&lt;/a&gt;는 다음과 같이 생겼습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useEffect(setup, dependencies?)&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매개변수
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;setup&lt;/code&gt; : &lt;strong&gt;Effect&lt;/strong&gt; 로직을 포함하는 함수입니다. 필요한 경우 &lt;strong&gt;clean-up&lt;/strong&gt;함수를 반환할 수 있습니다.
&lt;ul&gt;
&lt;li&gt;React는 컴포넌트가 DOM에 추가된 이후(마운트 이후)에 &lt;code class=&quot;language-text&quot;&gt;setup&lt;/code&gt;함수를 실행합니다.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://ko.react.dev/learn/synchronizing-with-effects#step-3-add-cleanup-if-needed&quot;&gt;clean-up 함수가 필요한 경우&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;dependencies&lt;/code&gt;(선택) : &lt;code class=&quot;language-text&quot;&gt;setup&lt;/code&gt;함수의 코드 내부에서 참조되는 모든 반응형 값들을 포함한 배열로 구성됩니다.
&lt;ul&gt;
&lt;li&gt;의존성 배열을 전달하지 않는 경우, 컴포넌트가 렌더링 또는 리렌더링 될 때마다 실행됩니다.&lt;/li&gt;
&lt;li&gt;빈 의존성 배열을 전달하는 경우, 초기 렌더링 이후 한 번만 실행됩니다.&lt;/li&gt;
&lt;li&gt;의존성 배열을 &lt;code class=&quot;language-text&quot;&gt;[a, b]&lt;/code&gt;와 같이 전달하는 경우, &lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;b&lt;/code&gt;가 변경되면 실행됩니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;반환값 &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;마운트 시 모달을 냅다 보여주고, 모달 보여준 횟수를 콘솔에 찍는 코드를 짜봅시다.&lt;br&gt;
이를 위해서는,&lt;br&gt;
(1) 마운트 시 모달을 보여주기 위해, &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;를 의존성 배열 없이 작성하고&lt;br&gt;
(2) &lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt;변화에 따라 &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;호출은 &lt;em&gt;순수 계산이 아닌&lt;/em&gt; &lt;strong&gt;Effect&lt;/strong&gt;이므로, &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;를 의존성 배열 &lt;code class=&quot;language-text&quot;&gt;[count]&lt;/code&gt;와 같이 작성해야 하겠습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useEffect&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useRef&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;EffectExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; modalRef &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 의존성 배열을 비워 최초 마운트 시에만 Effect를 적용&lt;/span&gt;
    modalRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;showModal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      modalRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 의존성 배열에 count를 전달하여, count가 변경되면 side Effect 발생&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dialog&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;modalRef&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        하와와~ 모달인거시와요
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; modalRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;닫기&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dialog&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          modalRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;showModal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;setCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        열기
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; EffectExample&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/v9vfl7?view=preview&amp;module=%2Fsrc%2FEffectExample.jsx&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;EffectSample&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;p&gt;이외에도 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;와 미묘한 타이밍 차이를 갖는 변형으로&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useLayoutEffect&lt;/code&gt;라거나.. &lt;code class=&quot;language-text&quot;&gt;useInsertionEffect&lt;/code&gt;같은게 있는데&lt;br&gt;
건너뜁시다.&lt;/p&gt;
&lt;h1 id=&quot;performance-hooks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#performance-hooks&quot; aria-label=&quot;performance hooks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Performance Hooks&lt;/h1&gt;
&lt;p&gt;리렌더링 시 불필요한 작업을 건너뛰도록 하여 성능을 최적화해볼 수 있겠는데요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 213px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7221f66a84a76c62f6cca2628aae4231/3cb16/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 82.91139240506328%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACoklEQVR42iXTyS50URAH8PMk3kg8hJWtdVuxkRDSggiRmKJNTZvbGHzmuc2ENs/EEDuL76fvXdyuPqeq/kPVDXt7ewMDA4+Pj5+fn7e3txMTEwsLC1NTUy0tLRsbG9vb262trcPDw7u7u8vLy93d3XNzc5lMZn19XU5YWVnJZrPPz88fHx/qddnf319dXW1ra+vv708mkx0dHYlEAkBnZ6fD3t7ekZER54IwPT399vb28vLy/f0d1X99fcHp6elJpVJqoPX19cn27urqcg724eFhbGwszM7Ogj06OlL58/MD2d/T01Owo6OjQARDQ0Op3BPFcvCFF+jxs7i4SO3h4eHZ2ZkMwtLpNCi3Yl2QxMKVNMXOcQxsUOy6pqaGhLu7OwpVCnRcWlrCULC1tTU/P395eQkANYxeX1/DyckJkwkrKys7Pz9/enpizPj4OEspZzguRF5fX1dWVs7MzAjkU86pANY8oDU3N8OXV1VVVVpaKtYbLCON4/39HYvBwUGjdYjv/f19uLi4QAln81TAD5QaGhq8I/9QMLmrq6udnZ1o+Gtra/9yTzg+Pkamrq7OMDRmkripqUkAE8momP+KGxsb+Xxzc2NDDCgQKU822szkSiwWI6+iouLg4AAvPBXbnGTuQV6xLdQu1NbW0lldXV1fX7+5uem6vLxcLy7Ik8SbKNa6vb19cnISQQGBobCw8Pf3N517QJFkH13Qzwt/aTNV5KlD25tmjf40x+NxposUGxVKxqbMCbZUgDJ/1rCQqc6d2M2/DwMHBdEXw30iMTQ8iwUWl0zuoSjymWH2hBFcCMXFxUVFRURqBtACUKg9LyTZLYzgR85pCgYjzotDfn5+QUFBXl4e8fRob9UAlpSU6MUwXWi2cwSqN3wzt6fZbPY/wyABSNwHbEYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이하 생략&quot;
        title=&quot;&quot;
        src=&quot;/static/7221f66a84a76c62f6cca2628aae4231/3cb16/image-6.png&quot;
        srcset=&quot;/static/7221f66a84a76c62f6cca2628aae4231/c26ae/image-6.png 158w,
/static/7221f66a84a76c62f6cca2628aae4231/3cb16/image-6.png 213w&quot;
        sizes=&quot;(max-width: 213px) 100vw, 213px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;다음 두 훅이 그런거 하려고 만들어졌습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;useMemo&lt;/code&gt;를 사용하여 값을 캐싱합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt;를 사용하여 함수 정의를 캐싱합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이런거 하기 전에 &lt;a href=&quot;https://ko.react.dev/reference/react/useMemo&quot;&gt;&lt;strong&gt;메모이제이션&lt;/strong&gt;&lt;/a&gt;에 대해 또 알고 넘어가면 좋을 것 같네요&lt;br&gt;
대충 &lt;em&gt;이전에 썼던 값을 캐싱하고 나중에 다시 써먹는 것을 메모이제이션&lt;/em&gt;이라고 합니다&lt;/p&gt;
&lt;p&gt;위와 같은 메모이제이션 훅들은 공통적으로 &lt;em&gt;의존성이 변하지 않았다면 캐싱된 값을 재사용&lt;/em&gt;하는데&lt;br&gt;
의존성이 변경되어 꼭 UI를 다시 그려야 할 때가 있습니다..&lt;br&gt;
그런 경우에도 좀 더 매끄러운 사용자 경험을 도모하기 위해&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useTransition&lt;/code&gt;이나 &lt;code class=&quot;language-text&quot;&gt;useDeferredValue&lt;/code&gt;같은 훅도 있습니다&lt;br&gt;
천천히 한번 알아봅시다&lt;/p&gt;
&lt;h2 id=&quot;usememo&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#usememo&quot; aria-label=&quot;usememo permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;useMemo&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useMemo&lt;/code&gt;훅으로 값이 불필요하게 새로 계산되는 것을 막을 수 있습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 216px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0ca53c9ef41185db3c2ad67ec805c20c/7d4ec/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 108.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFE0lEQVR42h2P6VMTBxjG91/oTL+hFYhggARCTMidTXaTPZLsJtlNSDYHhxSRigeEpFihKlJlpi3qjC3UC0QR5cZwCEREqxw6gwgMMCg61unUTp12xnZsgSTbxXee55n3y2+e9wVgowM20pCBhow0hnsRlOHSZHLbbQxp8+I2j5nyOjwlTm+JhfZiqBWGENRodXtLC/cFAQNCf4QpHHfhJh9m8iEYxzvtlJeDMSuD2him4ECup4SkfAaDRasxQKDJ4SrOL6oAYKMd1Fv1sB3DaJJwY5jLiDoxk9NidVtIr8XmIewuN5PPeEqsdL5OjykVkFaD2h2FvqJyQAeRWh3BJYyQVqvbTLgRzInitJmDbW7SZFZmZ0sy0hA9ROfmabVIjlStUkJWKs+dVwboYatWZwH1hB4mMZPDhDsQlEJxiqT8NitlVks0YoE8U6DbvZuEjaBKv1uskMtBE8FQTPEWrNFZtFuwDcedOEahqH0Lpv0GGP+6gKzx2Qh5DipXWZQahTgnM1MqFitQzEExnwMYZjOiJCcMI0mSRjDaYLQRhJ20u77wM121ZQN1ofOlBWi2UCbMhCBIrQZ1IExY3KSjAECNqNFgNBhgDDWYTTiCUDBk5RYMxxuCRZGGUO/xQM+J4AmfQyuWQDCMc+c5XC5XMUHlAenpAj4/IzUlLT1DIMtRQTqzToMp5EqJVH5yn+fu6WDk1NHp86eay0vVmaKU1HSpRGGASILwkw4/sH1b8raEHQkJ27dt3yHIyFKpkDSh7LMdO/npov2MveNI2e3awFBdJZ4j++TThOQkvlSiVCsRyGgnnH6Al5yanMxLSkpOSkzi8XYRuOXajzUDV7+52XY93HSytargVlVRpPHb5qbOsnw/rAFFArFaCXPfEVyz+ONkZ4t2pqSoZDkr4z+xv4bfrM2tzM2+u9v0quv7tyOts4+WXs7Os78MvH85kYsTQoFMB1ogjAIyhUJRVlYqn8/fxR+9Uc8+7+m7ciEcmV97tsCuDrLLQ68XF6bnfn822r+xdJ39a3ZyfCwyPjE2dq+6pg7gp/ETeTyNTDp86QT79uF8f3N/z9DUzPOpyeWx7puPHz15PP/HxNSb4fa2f+ebN/58EYuzLLvl9fUNIDGRtzeXvHfjLLsSftXXWh8MtXeMdHaM9neGu291RYYi0/ceTEbGF0fbNlZ7YpsfYjE2urkZjcbi8TigEAlf9Jx73dX49Nq5vYSlomTPq5m+fxbDm0sjscU78YVB9lk4PjfIzvXFVkZj6+vRzVg0Go3HP8KPxtsXRq+vDNxcnrjb33T25WDbbxO9b+73rD4YX7w/NT80vDwQXhvqW+xs6W2oXZqZjP/3nmU5knMM6Dp/7OLpypYzxyZ6W6b7WvuaGr4LHTpefuBs7bFbFxvbL114MDa8Mjs93HWlt+XMk7G2pz93rS0+/PD3O+5t4LBNHKKlQYf0kF0UdMqPetS1RXB9KdFwkP4h6LpYXXC1tuRG/cHuc5Vjl6unbzdOj7Te6Wga6r6yujADfOXTVHm3FPJrQh7Vl5wYZYhRBlzycpeijJaVkpIAowh6VCFGHfRoA16wZg9WXWSq208DuboMH5xViIiKLdn7SPEBWlbhUlUyqoBLWelWcvthpzLEFeSDRwr1VX7wiB8McU1edYVbAeRCUhKUwRKBKp0HZqWAmTy9KMUoSTXn8EmlkNZmMWCWHxXvtcgrcjVBDxhwc/2aAKM97NL+DyqFQ65lqQjrAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;메모&quot;
        title=&quot;&quot;
        src=&quot;/static/0ca53c9ef41185db3c2ad67ec805c20c/7d4ec/image-7.png&quot;
        srcset=&quot;/static/0ca53c9ef41185db3c2ad67ec805c20c/c26ae/image-7.png 158w,
/static/0ca53c9ef41185db3c2ad67ec805c20c/7d4ec/image-7.png 216w&quot;
        sizes=&quot;(max-width: 216px) 100vw, 216px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useMemo(calculateValue, dependencies)&lt;/code&gt; &lt;a href=&quot;https://ko.react.dev/reference/react/useMemo&quot;&gt;레퍼런스&lt;/a&gt;는 아래와 같습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매개 변수
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;calculateValue&lt;/code&gt; : 캐싱하려는 값을 계산하는 순수 함수. 인자는 없으며, 모든 타입의 값을 반환할 수 있어야 합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;dependencies&lt;/code&gt; : &lt;code class=&quot;language-text&quot;&gt;calculateValue&lt;/code&gt; 내에서 참조되는 모든 반응형 값들의 배열입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;반환값
&lt;ul&gt;
&lt;li&gt;마지막 렌더링 이후로 &lt;code class=&quot;language-text&quot;&gt;dependencies&lt;/code&gt;에 변경이 있는 경우 : &lt;code class=&quot;language-text&quot;&gt;calculateValue&lt;/code&gt;를 다시 호출하여 결과를 반환하고, 그 값을 저장&lt;/li&gt;
&lt;li&gt;그렇지 않은 경우 : &lt;code class=&quot;language-text&quot;&gt;calculateValue&lt;/code&gt;를 건너뛰고, 저장했던 값을 반환&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;usemMemo&lt;/code&gt;를 활용하여 값을 캐싱하는 &lt;del&gt;억지&lt;/del&gt;예제를 하나 만들어봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useMemo&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useEffect &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; wait &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./util&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MemoExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isDarkMode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setIsDarkMode&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isSelected&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setIsSelected&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//useMemo로 text값을 정의하여, isSelected가 변경될 때만 wait(isSelected) 수행&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useMemo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isSelected&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isSelected&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//const text = wait(isSelected);&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//useMemo 쓰지 않으면 리렌더링 시 wait를 다시 수행합니다.&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;backgroundColor&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; isDarkMode &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;black&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; isDarkMode &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;textDecoration&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; isSelected &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;line-through&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;none&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;label&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;checkbox&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token attr-name&quot;&gt;onChange&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;token function&quot;&gt;setIsSelected&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token comment&quot;&gt;//isSelected가 변경되므로 text 재계산&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;input&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;label&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;
        &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;setIsDarkMode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token comment&quot;&gt;//isSelected는 변경되지 않으므로, text는 새로 계산하지 않는다&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        change theme
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; WithUseMemo&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;체크박스를 선택하여 TODO를 &lt;del&gt;DONE&lt;/del&gt; 으로 만들거나, 반대로 할 수 있습니다.
또한 버튼을 클릭하여 다크모드로 테마를 바꿔볼 수 있습니다.
이 때, 체크박스 선택 유무에 따른 텍스트를 가져오기 위해, 억지로 500ms를 기다리는 &lt;code class=&quot;language-text&quot;&gt;wait&lt;/code&gt; 함수를 거칩니다.&lt;/p&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/clx7p9?view=preview&amp;module=%2Fsrc%2FWithUseMemo.jsx&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;useMemo-and-useCallback-sample&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;p&gt;위쪽은 &lt;code class=&quot;language-text&quot;&gt;useMemo&lt;/code&gt;를 사용하여 &lt;code class=&quot;language-text&quot;&gt;const text = useMemo(() =&gt; wait(isSelected), [isSelected]);&lt;/code&gt;와 같이 작성한 경우,&lt;br&gt;
아래쪽은 &lt;code class=&quot;language-text&quot;&gt;const text = wait(isSelected);&lt;/code&gt;와 같이 &lt;code class=&quot;language-text&quot;&gt;useMemo&lt;/code&gt; 없이 작성한 경우입니다.&lt;br&gt;
체크박스를 선택하거나 해제하면 TODO 또는 DID를 다시 연산해야 하기 때문에 500ms를 공통적으로 기다리지만,&lt;br&gt;
&lt;strong&gt;change theme&lt;/strong&gt;버튼을 클릭하는 경우 차이가 납니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useMemo&lt;/code&gt;를 사용한 경우, 값을 캐싱하여 연산을 건너뛰기 때문에 바로바로 바뀌는 모습을 확인할 수 있습니다.&lt;/p&gt;
&lt;h2 id=&quot;usecallback&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#usecallback&quot; aria-label=&quot;usecallback permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;useCallback&lt;/h2&gt;
&lt;p&gt;위 데모에서, &lt;strong&gt;[useCallback 예시 보기]&lt;/strong&gt; 버튼을 눌러 &lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt; 사용 예제도 한 번 확인해보세요&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt; 예제와 미사용 예제 둘 다 렌더링 시 500ms를 기다리게 됩니다&lt;br&gt;
다른 점은, &lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt; 예제는 카운트 증가나 테마 변경 등 리렌더링이 일어나도 500ms를 다시 기다리지 않지만&lt;br&gt;
미사용 예제는 카운트나 테마를 변경하면 매번 다시 500ms를 기다려버립니다&lt;br&gt;
왜 이런 결과가 일어날까요??&lt;/p&gt;
&lt;p&gt;일단 먼저 &lt;a href=&quot;https://ko.react.dev/reference/react/memo&quot;&gt;memo&lt;/a&gt;라는 API를 먼저 알고 넘어갑시다&lt;br&gt;
이 &lt;code class=&quot;language-text&quot;&gt;memo&lt;/code&gt;로 컴포넌트를 감싸면, &lt;strong&gt;props가 변경되지 않은 경우 리렌더링을 패스&lt;/strong&gt;합니다.&lt;/p&gt;
&lt;p&gt;앗 ! 그런데 JavaScript에서 함수는 &lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%9D%BC%EA%B8%89_%EA%B0%9D%EC%B2%B4&quot;&gt;일급 객체&lt;/a&gt;입니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;f1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;f2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f1 &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; f2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// false&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;같은 동작의 함수라도 객체마냥 그 참조가 다르다는 것인데요..&lt;br&gt;
그럼 렌더링마다 함수들도 객체처럼 다시 생성되는거고&lt;br&gt;
앗! 그럼 &lt;code class=&quot;language-text&quot;&gt;memo&lt;/code&gt;로 감싸도, props에 함수가 있다면&lt;br&gt;
매번 다른 함수가 전달되는 셈이라서 리렌더링을 피할 수 없습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 259px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b5903284021fe0941c42e5d71664099e/a2ead/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADMElEQVR42g2SyZKqZgBGeZQsbpKK7U1su682okArg/yi2IjKIIM0KIITTqiAU7SHuulK3SySSlXW2eQlY9VZneX5PugeSSLF23zxPv1wk84mqUqO5QoZPAUX0yiVKYJMUyzWeBTBPqfufoDzPxN0Np1JfH/zXSqTgFJw4jaXyCDJezhxhWKzuWIqnbu5vZrC5zTyEwlgnL6nKzAF4HT2R5y6u5pk+lMi/QkqM0iFRas1nGEQFhRoGkbxFGDyJPVA0jlZ5c2uQJKZGle0zXa1ipGlLyyLMgDhOBSamLXNUPf1mm81l89Nt03ZcnkzkJeWMHfUlSWNTWFiPjlSObTloNuIxubWkZwWEXoqNHfFfTBa2VI87UVDY+1pkdXY2krg6LthJ+6CQGHWtnAaymuTn0nkae4cZpbfF8OFDS1sZe/3113h4PdWhvDrwj0ve3G3HmuVfU86ru2NWjxPpPXYCqf6aeOEYytyO6fAjWd9KJDAfto/j5SvkRd1G+HUcdrUaaafV9ZurMULd2YwH+dgY3A7V90Mzf1Q+zj6c0vZTSxoq1bnLSpwjdNqFLSpg1rZtvGp8xz449iorBRq0KK381nc4yOZDMXHrfZ02C5WKrsWSWgk0yfpcadUJyIbS497ldgapVAuL2RwlEp7Gd/pwJfYWGMuBvmqk9cEfpO4mMy7SkCDTlmrwL97zX//PM299ljEHak4b+S3fOHby/KvN3+iYFET2SmE0yqtTO6/f97+CIyRSMw0EhLqKGAygaWc97uOXn/ickqbfh9Lrzp1CZeea/dEcLHYvUpz1RzfpI776DrKqE2UqAwEqnmOgoeDwd8fb66l83XE6TLhoMGz+HGzuhzCvq5Y7VKoU50m1mCpby+X346hJzFPVQSyW+hXjQiepWBgzPTG2QCegK1lPJaZ2eB55XYjFbx3aa+FnQ06NBrDjjDTuFeNWhgAosiswaEvHeCBB4dHdRGrcShLZpbNx0AgRwBxeVyoXy+cN6XSpEN5AI4EtI6ns+gdVKzAFS5vMw9+Jd8XMdkiFJ1AiS8l7JdpHR2AvPRUEI1yRy+3NOpZedzw2LKBlQq3yfvE/5PVPM5/W10dAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;분신&quot;
        title=&quot;&quot;
        src=&quot;/static/b5903284021fe0941c42e5d71664099e/a2ead/image-8.png&quot;
        srcset=&quot;/static/b5903284021fe0941c42e5d71664099e/c26ae/image-8.png 158w,
/static/b5903284021fe0941c42e5d71664099e/a2ead/image-8.png 259w&quot;
        sizes=&quot;(max-width: 259px) 100vw, 259px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 때 구원투수로 &lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt;이 등장합니다
&lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt; 훅으로 함수 정의를 캐싱하여 &lt;strong&gt;진짜 아까랑 똑같은 함수&lt;/strong&gt;로 유지되게 할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useCallback(fn, dependencies)&lt;/code&gt; &lt;a href=&quot;https://ko.react.dev/reference/react/useCallback&quot;&gt;레퍼런스&lt;/a&gt;는 아래와 같습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매개변수
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fn&lt;/code&gt; : 캐싱할 함수입니다. 이 함수는 어떤 인자나 반환값도 가질 수 있습니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;dependencies&lt;/code&gt; : &lt;code class=&quot;language-text&quot;&gt;fn&lt;/code&gt;내에서 참조되는 모든 반응형 값들의 배열입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;반환값
&lt;ul&gt;
&lt;li&gt;첫 렌더링 시, &lt;code class=&quot;language-text&quot;&gt;fn&lt;/code&gt;함수를 그대로 반환합니다.&lt;/li&gt;
&lt;li&gt;이후 렌더링 시 &lt;code class=&quot;language-text&quot;&gt;dependencies&lt;/code&gt;에 변경이 없다면, 이전에 저장한 함수를 반환합니다.&lt;/li&gt;
&lt;li&gt;이후 렌더링 시 &lt;code class=&quot;language-text&quot;&gt;dependencies&lt;/code&gt;에 변경이 있다면, 새로 생성된 함수를 반환합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이제 이 훅으로 어떻게 리렌더링을 최소화했는지 봅시다&lt;br&gt;
위 예시 구현에 사용된 코드는 아래와 같습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useCallback&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; wait &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./util&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//memo를 사용하여, 컴포넌트의 onClick함수가 변경되지 않은 경우 리렌더링을 건너뜁니다&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;memo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; onClick &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//Child는 onClick함수를 전달받아 버튼 컴포넌트를 생성하되, 500ms를 매번 기다립니다.&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Child Rendered&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;onClick&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;클릭&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;WithUseCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dark&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setDark&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;//Child에 전달할 onClick함수를 useCallback으로 감싸고, 의존성 배열은 비워 최초 1회만 생성되게 합니다.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; increment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; prev &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;toggleTheme&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//테마를 반전하는 함수.&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Theme Toggled&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setDark&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;prev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;backgroundColor&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; dark &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;black&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; dark &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;✅ useCallback 사용&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Count: &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Child&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;increment&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;toggleTheme&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Toggle Theme&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; WithUseCallback&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Child&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;React.memo(({onClick})=&gt;{})&lt;/code&gt;과 같이 작성하여, &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;이 변하지 않는 한 메모이제이션되어 리렌더링되지 않게 합니다.&lt;br&gt;
그러나 &lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt;을 사용하지 않는 경우, 매 렌더링마다 &lt;code class=&quot;language-text&quot;&gt;increment&lt;/code&gt;함수가 매번 재생성되어 &lt;code class=&quot;language-text&quot;&gt;Child&lt;/code&gt;에 전달되므로, &lt;code class=&quot;language-text&quot;&gt;Child&lt;/code&gt;는 매번 재렌더링됩니다.
이를 &lt;code class=&quot;language-text&quot;&gt;useCallback&lt;/code&gt;을 적용하면, &lt;code class=&quot;language-text&quot;&gt;increment&lt;/code&gt;함수를 최초 렌더링 시에만 생성하고, 이를 캐싱하여 재생성되지 않게 합니다. 따라서 &lt;code class=&quot;language-text&quot;&gt;Child&lt;/code&gt;에 전달되는 &lt;code class=&quot;language-text&quot;&gt;increment&lt;/code&gt;함수는 매번 동일한 놈이며, 따라서 &lt;code class=&quot;language-text&quot;&gt;Child&lt;/code&gt;또한 최초 1회만 리렌더링됩니다.&lt;/p&gt;
&lt;h2 id=&quot;usetransition&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#usetransition&quot; aria-label=&quot;usetransition permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;useTransition&lt;/h2&gt;
&lt;p&gt;React 18에서 &lt;strong&gt;Transitions&lt;/strong&gt;라는 개념이 도입되었는데&lt;br&gt;
이는 &lt;a href=&quot;https://www.frontoverflow.com/question/46/useTransition()%20%ED%9B%85%EC%9D%98%20%EC%97%AD%ED%95%A0%EC%9D%B4%20%EB%AD%94%EA%B0%80%EC%9A%94%3F&quot;&gt;긴급한 업데이트와 긴급하지 않은 업데이트를 구분하는 개념&lt;/a&gt;입니다.&lt;br&gt;
state를 &lt;em&gt;긴급하지 않게&lt;/em&gt; 업데이트 하여 UI를 block하지 않는 것을 &lt;strong&gt;Transition&lt;/strong&gt;이라고 칭하며&lt;br&gt;
이를 가능하게 하는 것이 &lt;code class=&quot;language-text&quot;&gt;useTransition&lt;/code&gt; 훅입니다.&lt;br&gt;
뒤에서 몰래 준비하는거라고 하면 이해가 빠를까요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 259px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2c367a012d539421d59b67a2ddede467/a2ead/image-9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADgElEQVR42h3S209TdwAH8DOctKfn0t857bm2p9dzeoPWw2lLb+kFehFqoUBrK9DqGgqaQZGxWDAmKC4LbJrskpiKiCaKUReCy5YFszcSEk2WmDke97T/ZN2S7+v38/L9Qn0c8PjFRCGpRKyKTuNn8BCLR1g8TGMKiUo4AqvOskAdF/mRYF9tLNVqlNtLc+ut+bVWE7Kz2mjRXZ2PpYPceQaUTLorNv2cnZmzUVcl/YKoy/EAhVUsSTAEIVAg6hAmE4FmObd8eRIyAjghMffrkSivjTJ4UaCWfcKym+9mVRFWA5b1sNVBonpA8nqao/RenlHshqRPquYGISOqrgzaOlczKROZNuhKIl2zsTdDztagcyUf6qxf2VspxS0sC3RWlrPQdNhiHPLZk+fEiyNhiENUpQHz3UooLzERhmyF3Q2X6UFj/P50ZsJr3ajnf7+3WI0rTppSbEafwIUs/IjizIXdU2k/JNN4IyrdvCAXbFRzQLw3m29G+ve+qL5o15bj8rN2/aRzo56N9PNMRDIFRCEk8cN+V9zvDMt2yKvHr8Vdt8b980HHdiVzdyo54TRuzWROHt7a+7zy62bzr2d35kYiZoqQrbRspQIO3mVlJDPttDGQG6CLCVdNsVYl43ZpeHVIiXHaby+Pnvxw49X1mYOVS+++u74xc54myNtrn6UjPhr5lNb2mhlgM+ghHkMWU55ynylFEQt+55jD5EA1s7LtwWz2cT3/tFF4+9VCwWsdHy388/fbw4P93Z2dp092M+lkoVKECASZOCdMyyZZh41ZuKyZj3DUynDg5VrjoN3YXyw9WZrMu+2vX+w/3391ePjm/ft3p6ent+9s9iIwRGvRpI2qy4JMYUM85adIRQeafu9mOdtpFn9p17amc13uzU8v//jw4ejo6Pj4+M+PH7/Z3jp75hOIQxGJRC55GD+Fd6cK6Ag3gpQt1i9jytejwe+rqaxXdMGqpfLUbz8f7j7aedjpPH60c7E81dMDQSgMq3pVYQMRZoEd0yh6oABt0chupAd+rA5VFEmlhjlS66HJCz53v8mAoWr1mZ7uYS0GGoJhWA3DmAa2E5gZ1/QDbFgHJjn62oC0lPCJDImoNSiGAQBEgReNPEfRAk05jIZcLPxfGf4fUKtVXY+B1T4MiQFtwUhVg05WR5A4jiIYhuIIiiIISmiB4vZkA4FBp/gvZvvU4QEqPWYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;매복&quot;
        title=&quot;&quot;
        src=&quot;/static/2c367a012d539421d59b67a2ddede467/a2ead/image-9.png&quot;
        srcset=&quot;/static/2c367a012d539421d59b67a2ddede467/c26ae/image-9.png 158w,
/static/2c367a012d539421d59b67a2ddede467/a2ead/image-9.png 259w&quot;
        sizes=&quot;(max-width: 259px) 100vw, 259px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.react.dev/reference/react/useTransition&quot;&gt;레퍼런스&lt;/a&gt;는 아래와 같습니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const [isPending, startTransition] = useTransition();&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매개변수 : X&lt;/li&gt;
&lt;li&gt;반환값
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;isPending&lt;/code&gt; : 대기중인 Transition 존재 여부&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;startTransition&lt;/code&gt; : 상태 업데이트를 Transition으로 수행하게 하는 함수&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;예제가 빠질 수 없겠죠?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useTransition&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useEffect &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; wait&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Done&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Todo &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./utils&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Button &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./Button&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;TransitionExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;tab&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setTab&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isPending&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; startTransition&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useTransition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTabTransitionally&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;nextTab&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;startTransition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTab&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextTab&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTabTransitionally&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;selected&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tab &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        홈
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTabTransitionally&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;selected&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tab &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        할 일 목록(✅useTransition)
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTab&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;selected&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tab &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        한 일 목록(❌useTransition)
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTabTransitionally&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;selected&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tab &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        한 일 목록
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Button&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isPending &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;로딩중...&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isPending &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; tab &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Todo&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isPending &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; tab &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Todo&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isPending &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; tab &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Done&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; TransitionExample&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Todo&lt;/code&gt;컴포넌트는 500개 아이템을 렌더링하는데, 각 아이템 생성에 1ms가 소모되게 억지로 구성했습니다.&lt;br&gt;
사용자가 &lt;code class=&quot;language-text&quot;&gt;Todo&lt;/code&gt;가 표시되도록 잘못 누르기라도 하면..&lt;br&gt;
꼼짝없이 로딩을 기다려야만 합니다&lt;br&gt;
그러나 &lt;code class=&quot;language-text&quot;&gt;useTransition&lt;/code&gt;과 함께라면, 뒤에서 준비하던 &lt;code class=&quot;language-text&quot;&gt;Todo&lt;/code&gt; 렌더링을 폐기해버리면 그만입니다.&lt;/p&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/4dp67x?view=preview&amp;module=%2Fsrc%2FTransitionExample.jsx&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;transition-sample&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;p&gt;&lt;strong&gt;[할 일 목록]&lt;/strong&gt; 버튼 두 개 중, &lt;code class=&quot;language-text&quot;&gt;useTransition&lt;/code&gt;을 사용한 버튼을 누른 후 바로 &lt;strong&gt;한 일 목록&lt;/strong&gt;같은 탭으로 넘어가보세요.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useTransition&lt;/code&gt;을 적용한 버튼은 로딩을 취소하고 바로 넘어갈 수 있습니다&lt;br&gt;
그러나 이 훅을 사용하지 않은 버튼은 한 번 클릭하면&lt;br&gt;
꼼짝없이 기다려야만 다른 탭으로 넘어갈 수 있습니다&lt;/p&gt;
&lt;h2 id=&quot;usedeferredvalue&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#usedeferredvalue&quot; aria-label=&quot;usedeferredvalue permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;useDeferredValue&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useDeferredValue&lt;/code&gt; 훅을 사용하면 일부 UI 업데이트를 &lt;strong&gt;지연&lt;/strong&gt;시킬 수 있습니다.&lt;br&gt;
&quot;지연하다, 연기하다&quot; 이런 뜻을 가지는 &lt;em&gt;defer&lt;/em&gt; 단어에 맞게요&lt;/p&gt;
&lt;p&gt;마치 잔상을 남기는 것과 비슷합니다&lt;br&gt;
&lt;strong&gt;state&lt;/strong&gt;가 새롭게 업데이트 되면,&lt;br&gt;
React는 이전 값으로 먼저 리렌더링을 시도한 뒤&lt;br&gt;
백그라운드에서는 새로 업데이트된 값으로 리렌더링을 시도합니다.&lt;br&gt;
이후 준비되었다면 완료된 리렌더링을 화면에 표시합니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 268px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b641589847aa2c120d35fff9c581d30c/484ae/image-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.25316455696203%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC2UlEQVR42mNgBQMWFlZuPg5RGV5BCW5ecS5BKS5+SS5eKW5BaR4Y4gUiAWkeARkeLl5OoBY2NjYGEGAEEVy8LEKybMoafD7OSkmeSnEuimb6wuJynGLyHKKKnBJAJM8pJsshrsDFwcMO1sOE0MzGw6KqL1SbZDkxybIhRKc3xqjAQ0VEgoNPmUtAk0tQi4tfg1NIlUtEmZudD6iZiZGRGaGZkZvZw0WxL8mqI9qsIVi3PkAjykJSRoFfxlRESJdPSI+fX5dPQI9PXE+ASxCsmQlJMzM/U6iPSm+S9YRUh85oi7YwgxAzKTE5XllzCVFTSSkzcSBDzkJMyUmaT5oXpIkJ2dkibB4uslXBem1xlnURJrXhxsV+ulYW0pIWUvyGwhKWkrI2MmpO8ioecnwyvHBdDIxgikOKwz9YqyXGoibcMN9fqzBQuyrE2NFFTsJBRtJWWtpRXs5FQc1N2dBHlR9iM7JmTmlOhyDVWfnuPQnWXfHWnQlWtVHmnt5qah4K6n46Eo7Ksm6qql7qWr4aPDJ8yDaDaAFZfg1f5RgfzYZAkwmprhOTXDoS3INiPfT9tXRDjOUcNOQ9NLT8NFS9FfmhmhkRJL8sj7SnZECU+Yzc4I5kp4Z0//6pE1vXbAoqyzRL9jNKdNYNM1HzVVYPUAZaA9bFxMDMzAxMLkCOprFWy7z2ldtXzV8wo6w8f87W3fMOnVt07Ozqkyemb93oU5mtGmmlEaivE2wgrCjGyMDCwgJOYUD9QNLL1/vczUtbdu8qK6hrmbN82t4Tc/YdW3Li5PLjJ3ZdONO4arlYsKOou7qMhwq3JMzZeXl5hYWF6Wnps+bMufv00a49ezbOW77rwJENx8/sOHVh15kzO06f3Xvu0qajR6un9NdOb22d11VWX5mTnZuXX8DwHwn8/v379p07z1++ePr48ZOHDx/ev3/z+rXz584+fvTo/r27jx48+Pv3L7J6AL+54v2J/iTEAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;잔상&quot;
        title=&quot;&quot;
        src=&quot;/static/b641589847aa2c120d35fff9c581d30c/484ae/image-10.png&quot;
        srcset=&quot;/static/b641589847aa2c120d35fff9c581d30c/c26ae/image-10.png 158w,
/static/b641589847aa2c120d35fff9c581d30c/484ae/image-10.png 268w&quot;
        sizes=&quot;(max-width: 268px) 100vw, 268px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.react.dev/reference/react/useDeferredValue&quot;&gt;레퍼런스&lt;/a&gt;는 아래와 같습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useDefferedValue(value, initialValue?)&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;매개변수
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;value&lt;/code&gt; : 지연시키려는 값으로, 모든 타입을 가질 수 있습니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;initialValue&lt;/code&gt; (&lt;em&gt;optional, Canary only&lt;/em&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;반환값
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;currentValue&lt;/code&gt; : 첫 렌더링에서는 (아직 &lt;em&gt;이전&lt;/em&gt;값이 없으므로) &lt;code class=&quot;language-text&quot;&gt;value&lt;/code&gt;와 동일합니다. 업데이트가 발생하면 (1) 먼저 이전 값과 동일한 반환값으로 리렌더링을 시도하고, (2) 백그라운드에서 새 값과 동일한 반환값으로 리렌더링을 시도합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;아까처럼 억지로 리스트 아이템 하나하나 생성할 때마다 1ms씩 걸리는 예제를 생각해봅시다&lt;br&gt;
업데이트는 빈번한데 매 업데이트가 좀 걸리는 작업이라면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;useDeferredValue&lt;/code&gt;를 적절히 활용하여 잔상을 남길 수 있습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* ---- DeferredValueExample.jsx ---- */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useDeferredValue &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; SlowComponent &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./SlowComponent&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;DeferredValueExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setData&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; deferredData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useDeferredValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isStale &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; deferredData&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//const isStale = true;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;✅useDefferedValue&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onChange&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;input&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SlowComponent&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;deferredData&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;isStale&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isStale&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; DeferredValueExample&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* ---- SlowComponent.jsx ---- */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; memo &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; SlowComponent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;memo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; isStale &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; listItems &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    listItems&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SlowItem&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; isStale &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;black&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gray&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;listItems&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;SlowItem&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; start &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; performance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;performance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; start &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//wait&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; SlowComponent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;SlowComponent&lt;/strong&gt;에서는 1ms씩 걸리는 아이템을 100개 생성합니다&lt;br&gt;
input란에 타이핑을 칠 때마다 실시간으로 검색이 되게 하였습니다&lt;br&gt;
이러면 &lt;code class=&quot;language-text&quot;&gt;memo&lt;/code&gt;로 &lt;strong&gt;SlowComponent&lt;/strong&gt;를 감싼다 하더라도,&lt;br&gt;
매 타이핑마다 props가 바뀌어버려서 리렌더링을 피하기 어렵습니다&lt;/p&gt;
&lt;p&gt;이 때 &lt;code class=&quot;language-text&quot;&gt;useDeferredValue&lt;/code&gt;를 사용하여&lt;br&gt;
(1) 백그라운드에서는 새로 업데이트 된 &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;값으로 리렌더링 결과 화면을 준비하고&lt;br&gt;
(2) 그 전까지는 이전 값(잔상)을 기반으로 화면을 보여줍니다.&lt;/p&gt;
&lt;p&gt;이 예제에서는 현재 보는 화면이 잔상에 의한 것인지 알려주기 위해&lt;br&gt;
잔상인가? 를 확인하여 텍스트를 회색으로 보이게 했습니다&lt;/p&gt;
&lt;iframe src=&quot;https://codesandbox.io/embed/wm3tz7?view=preview&amp;module=%2Fsrc%2FSlowComponent.jsx&amp;hidenavigation=1&quot;
     style=&quot;width:100%; height: 500px; border:0; border-radius: 4px; overflow:hidden;&quot;
     title=&quot;deferred-value-sample&quot;
     allow=&quot;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking&quot;
     sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;
   &gt;&lt;/iframe&gt;
&lt;p&gt;아?? &quot;deffered&quot;라고 썼네요; &quot;deferred&quot;인데,, 이거 자꾸 헷갈립니다 ㅋㅋ&lt;br&gt;
아무튼&lt;/p&gt;
&lt;p&gt;왼쪽과 오른쪽 둘 다 다다닥 빠르게 타이핑하여 비교해보시면&lt;br&gt;
초당 100회의 타이핑이 발생하더라도&lt;br&gt;
왼쪽(&lt;code class=&quot;language-text&quot;&gt;useDeferredValue&lt;/code&gt;)는 잔상이라는 것을 알리기 위해서만 단 한 번 리렌더링합니다&lt;br&gt;
그러나 오른쪽(안 쓴 경우)는 계속.. 새로운 업데이트를 위해 안간힘을 씁니다&lt;/p&gt;
&lt;h1 id=&quot;other-hooks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#other-hooks&quot; aria-label=&quot;other hooks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Other Hooks&lt;/h1&gt;
&lt;p&gt;이외에도 고유 id를 생성하는 &lt;code class=&quot;language-text&quot;&gt;useId&lt;/code&gt;같은 다른 훅이 있지만&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;다음 Hook은 대부분 라이브러리 작성자에게 유용하며 애플리케이션 코드에서는 일반적으로 사용되지 않습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;라고 하니 더 알아보고 싶다면 &lt;a href=&quot;https://ko.react.dev/reference/react/hooks#other-hooks&quot;&gt;여기로&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;마무리&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A7%88%EB%AC%B4%EB%A6%AC&quot; aria-label=&quot;마무리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;마무리&lt;/h1&gt;
&lt;p&gt;리액트는 아무래도 훅이 좀 중요하니까&lt;br&gt;
잘 정리하고 깊게 알아두고 싶어서&lt;br&gt;
일부러 코드 샌드박스 예제로 써가면서 들고 왔는데..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 272px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cbc3036025d5053a69619d0cc065223c/2aae8/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 67.72151898734178%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAADYUlEQVR42gFWA6n8ABEWJCMyRx0tPxwxSSY5SiI1Rhw0Sh02Th83TSM3UCQ2TyI3UyU9WCpDWzNJXzNGXjBDXC5CYxATJRgICQANK2AzcMBbeqdto7hgstpXqd1mpMR3q790wd1jt+Jeue9ryfxlwfV2x/J6x/xeisVSeLMlVb4LEjwZCAYAKi5VKXrTDmDBF3bNKZzWj6yFuaI5xKErwqEyua5adrezEZj3CoPiHLHjFKXlIcLjG7DrEY/1IiVVJAYOAEdIYH2exESPqTad33KCZaBvLqZnLbtlHrFuFLiDFrqKLGCeuVO9+lbQ8R7N5UjI43Kx02fQ8D49YiwBFwA7SFOPvMqK1+6ztKSwVi6VcGp6m7a0VUO0PAyOZRusbQ+KkGtWyPV0vciI0Z+FoaF4Z2RXt7oWQGMgABMAIjhVYbrsS7vxUpy9lF44qE4slYiKmo2TgIR/i2Ich1sWZnx4O62aTrgaX8Ebb8MzXKodfde9L0plDgAFAB1FZCzI6DXM5jfR/090gGs9MmqYsFWf0CVFflQ6Jl5CIXSpt1+ysDFqKiJHED9sDVCWOn/c9jVMXw4AAQAaQ2U0vvQ6xuNExehvx+Bdt79NlrBIZohBWn9Ojqxpvthqv+mAve5Jl5RNczFmjDgrexdSwZsnSGESAAAAK0lmZ8j9fMjdi87chs7cgsjWjM/ZmNTbfrrFPXesTaTnVcnxY8z4abDQc6aOfp9KN4QbVbCAKkZaEgABAC9NaHLW/2/P/HTS/3HU/6Tc+NXv/bfo/xxlyj5dmmKKpmWqw2i50muqy26ltluNmGC3hnXd/y9PbBAAAAAnQFhkuOVksN1nr9pnr9dvosVyg5xWdpgYW5AvcY9IcZZBbZ5LfKBPe5VVeJNSfaBKeZZMg6kdMEMTAwMAFxYeEBIdDAwWBgcRCggTBQUPAQAHAgEGCQoMDRAWBAQSAgIOAQEKAQALAAAIAwEGCQMKBwACDAUGGw0OAE1IO0U+NDYwJS4pICEfHREREhYWGRQTGQoMEwcOFgkKEwwMFQgJEgkJDxkMECgYGiQZFiYXFyYWFCcZFABWSTxUSDtSSjRRSDYwLSgUFRU9PEI1NT09UmeCf39Ego82QlFVVFwdFyArCRNDJiYyJBowIBsxIxw1JCYzaUu2pRnVMwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;스불재&quot;
        title=&quot;&quot;
        src=&quot;/static/cbc3036025d5053a69619d0cc065223c/2aae8/image-11.png&quot;
        srcset=&quot;/static/cbc3036025d5053a69619d0cc065223c/c26ae/image-11.png 158w,
/static/cbc3036025d5053a69619d0cc065223c/2aae8/image-11.png 272w&quot;
        sizes=&quot;(max-width: 272px) 100vw, 272px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아오.. 꽤나 후회했답니다?&lt;/p&gt;
&lt;p&gt;그리고 ㅋㅋㅋ 이거 하다가 공식문서 코리안버전에서&lt;br&gt;
링크가 잘못 들어간 경우를 발견해버려서&lt;br&gt;
이거 두 줄 고쳐서 기여했는데&lt;br&gt;
깃허브에 동네방네 소문나버려서 좀.. ^^; 머쓱ㅋㅋ&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 208px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/38507c577cf5daee67a908bb22a8e5f4/8f2fb/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 144.30379746835442%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAFv0lEQVR42n1W2W+UVRQfkS6zfcss7Uxn2ukynbWd6bTTZaYtnZaWLrS0dIPShUXaULBoq4WK4EOrsS6BkiIuREOCGomCGBJt1EQk+uIfYEQfeEEQChIVNLz489z7ddphiQ+/3Hu+e8/vu+ec3z3fp9LL6WDQimak6gzQSYodh0YwcSzbtC9xPdFfJ6VBxQw2kcx22HPcEJZstd4IwWBBekY20m059DKZyNLIziFnE3T8ZUZ+CAazNRsi7Vcxp2SNhM1b96Crpw92hxMmSxYyiVw229C/dRiewhLkuvzIdYewvr0H2bl5PJLMPC/yvUFkO2n0FcPpLlAIU/Um7Bp7DkNDIxgcHsPk1EHkuXwwpNkxPDpGpHsxeXAGAzv24MXZo+jb1IsUOQMjeyfx/Asz2Ln7GWzfOYbtoxMKIQsvsqYF9Y0b0dW3A4PbRuCjUxnMmejqHUD3pmHUNLQhUtuGPWNTaG1vh2jJxpq6JtTWNyIQruWR1K/fqOSQg0JI0QsEHaVAA73JgGSaJ2m1WK3V8DlbW5Wqptxm8HxpJaUQepnl3ATRlBEnTKMkm+HLaUKZexDl3n6UuragzNOPcl8CvIPId9RQcUgNVCBBthB5Oi8eA+OhkK1IEQTUBydwdPB3zO+4hdc2LWJu6BYO99/Eqz2LeKV7EbOdN3Ckn9b6rqIkvxeCWSHUCGYuGY2oyGv5hE83foO3R2/js/lrOPbkFXx58iYufLiITw9fx+cnbuDsketYeO8a3tl1F/2Rd5HjDyLW2INQOILy6gZEY+spz63xE+rRFp7GiZF7OLX/Dua3/4mT43fw0aG/cWryLhaO3cMnM//gg6m7mN/6F6r8w0gVBeS4QsjN95F+PXB6Q7A5XEvClpXElnkGsLZwH+oCE6gtmEDMS/BPoMZD8I6jrmASQWcHNJKBF0ND6lBukpErhWEpZAsnTdZrkKRXcyQzCI8AVTruoxRjpSgMK7KhDbLRDtmU+b+QaE8iwYNYJpRIQ5LJBpZTkcCuHXvGRpnu+QpsD4H5sb2icUmHgtFKzcHG88LuMdvE8iPSc7XegKRUEUlqkY8pWonPWUNIVktky9yP7WXghHGDETW2dqJv8AmqYBD+YCmKSqIoi9ShOBJDpLoOgVAEpdEa1Da30FiFQEk5913XthmNLZ0rhOzIbB4MR9He1YdsVwBOTyEqojFUrmlEZX0bYnRvwxW1WNfagaq1DagmlJRGuX9zxxY0t3YmhEyEXAokA94sGWTFZr2QhcrCVGwD1DqlFzKpMA6eX+pOy0Xhp2ShU6WUBFv58/ukwWz+7H7wXsAbhXmJ0KC08FWpEm/xj1OyNdQ9+IVn3YSqrqcKPgpCwsjA+yFr6SZq9S/tG8d3Xy3grdlpfqVYSCL1RENmgMOYVQSjI0gjwVHEbcleCAPZhkwFKslkxWNJWsy+Pgf88Rtu/7AALF7Gx2fPIZUkIVud5FwC2R6A3uqHYPFDyiiA3uKDLt0LmzsC2RaASGB7VCxuKS0TF86dxq3vz+PymeO4+vVpXLr4BfL9IQj2EL25CBnuKJ6amsG2vQewbfwQnp16GeP7pzE9dwIjYwcQjLSgoKwJKtFowWr6SJ188w3g6iXcvPwz/r3yE749f4Z3YNGSTycshskR4g6e8FoEqtrR1T+K4someEsb4Cmug91VAauzTMlhChXAlefCublp/PrLj7j4/nFUFoeQRC+S0hyUoyIKpxBaClGX7oGeRrXZBW2ah4eto/AlWwGHKi6NFC21JKMNLh85pzuIzKDIwpTFEa+0QHsUKHPRZFuusGDMSNSh8k3gd5Okw3VIkhHMWYo0WK4pBcLSXwJbY/uY0FkdtEsXQpX4OyE8IOo4IT8ZrbV391Gb70Qktg7dPQPY0NGNhqYe9A7tRvOGTuTkue8nfAhxQvbZpAiKy6vpLyKMhtYulIQrEKVmESqNoa6lm+b1cHsL8B9p63z5QKTOOwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기여함&quot;
        title=&quot;&quot;
        src=&quot;/static/38507c577cf5daee67a908bb22a8e5f4/8f2fb/image-12.png&quot;
        srcset=&quot;/static/38507c577cf5daee67a908bb22a8e5f4/c26ae/image-12.png 158w,
/static/38507c577cf5daee67a908bb22a8e5f4/8f2fb/image-12.png 208w&quot;
        sizes=&quot;(max-width: 208px) 100vw, 208px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🔒 데드락도 락이다. - 데드락과 철학자 문제]]></title><description><![CDATA[…]]></description><link>https://sungpaks.github.io/deadlock-and-dining-philosophers-problem/</link><guid isPermaLink="false">https://sungpaks.github.io/deadlock-and-dining-philosophers-problem/</guid><pubDate>Sun, 16 Jun 2024 22:03:42 GMT</pubDate><content:encoded>&lt;h1 id=&quot;데드락이-뭔데요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8D%B0%EB%93%9C%EB%9D%BD%EC%9D%B4-%EB%AD%94%EB%8D%B0%EC%9A%94&quot; aria-label=&quot;데드락이 뭔데요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;데드락이 뭔데요?&lt;/h1&gt;
&lt;p&gt;그런 적 있으신가요? 친구들이랑 얘기할 때&lt;br&gt;
예를 들어.. 시험기간에 피시방가자거나? 술먹으러가자거나?&lt;br&gt;
&quot;너 가면 나도 간다&quot;를 서로 주고 받는 ...&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7323be423dcb292b098c225c44327535/5a46d/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AGhPO5JuV5t3W869pO3r3Onn3f7+/vv7/P7//+/u6/j39P////f4+tDEtcivkMOpk6KSgZeNfp+SgaWXhACsgWKWclqYiHjPw5bBtYi3qY7w6d3p3M3o2cbg0b3h0Lfjza/bwaHZvJnZvJLWuJXStJLZto7lwZTRtI4AV0xHm3tnyrCZ1sOtzrig0reY1biW1rmW1raT07SSzrKR0LOT0baV0bSUxaeJu6CCppB7rpqGuKSKp5Z+AD1DTVtPSbmTd+3KqOXYx+Xe0eni2OLZ0OTZ0dvTydbOw97VzN3WzMS4qp6Kb6CLcZyQfa+rn62pnJ+djwBJVGFSVmNoVEzpw6P57Nrm5Nzo5dvj39Xg29Hb1svSyb/TysHQy7/Atqa0o4uyoImroY63sqSxrJ+oqJkAioCK4MvD8uPK++G+89i6083C0s7Dy8a7x8O4ycS5ycW6x8O4wb2ysqyft7ChubGko5qMsa2iqaWZqKeaAPPIs/vRsvzWs/7SsPfIps/IuMXFucfFuMTDt729sMXDtcvHuczIvL+7rrqypLWvoaCbjZ2ZjZ6cj6GilQC/l3zfq47isJTuvJzvxaWTin50dm98fXNycmmBf3h7enhvbW+Bf3twbW+KiYm4tK3Hw7nKyL+rraGanZAAJCAfemBTyJp906OEoZOJbW1wWVhbdHR0eXh+enlUZmQhg4QVR0YNfnwTeHkJp6dX3NvN39/Z39/ZrrCmABIUFBkaHEs9N5qBbrGvq5+hnpOTkLCwra+vtp+fb5aWILOyK4mGPKSlM66sMsbFW/Dw4q6vo6+vpJmckAAaGhkmIyIrJidubmaTlYiFh3qGiHuChHeDhHmDhniGiHCKi26pp5CzsJHAvqPMyqvPzsGJiniAg3F4e22z0KehejIx2QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;네가 하면 나도&quot;
        title=&quot;&quot;
        src=&quot;/static/7323be423dcb292b098c225c44327535/5a46d/image.png&quot;
        srcset=&quot;/static/7323be423dcb292b098c225c44327535/c26ae/image.png 158w,
/static/7323be423dcb292b098c225c44327535/5a46d/image.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게.. 예를 들어 민수와 철수가 둘이서&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;철수 : &quot;민수 가면 나도 감&quot;&lt;/li&gt;
&lt;li&gt;민수 : &quot;철수 가면 나도 감&quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 하면 둘이 서로가 서로의 행동을 기다리며 교착상태에 빠지는 셈인데&lt;br&gt;
프로세스끼리도 이런 일이 생깁니다&lt;br&gt;
&lt;strong&gt;데드락(DeadLock)&lt;/strong&gt; 이라는 것인데요&lt;br&gt;
&lt;strong&gt;둘 이상&lt;/strong&gt;의 프로세스가 서로를 기다리며 &lt;strong&gt;BLOCK&lt;/strong&gt;상태에 빠지고, 그 &lt;strong&gt;BLOCK&lt;/strong&gt;을 푸는 &lt;strong&gt;열쇠(signal)&lt;/strong&gt; 를 또한 서로가 쥐고 있는 상태를 의미합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b2557d6202d9996edd01340c3976d6a4/4f9e8/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 35.44303797468354%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWklEQVR42o1Qu2oCURD1W0x+wMLCysrK3gRiJ2y8JCH2foc/YK+1IlgsiDaKzSIoCsqqiCC6+Fh3d/Zk5qrEJE0G5s6dxzn3zI2sVqvH0Wj0sVgs8uPxWAVBoBzHUVxXkk+nU10Tt21brddrdTqd1OFwUMPhUPcHg0F+Mpl8brfbaOR4PGb3+z2YlDabDRqNBnq9Hvr9PhgMBuJmy+US3W4XnU4H7XYbu90OLASMC6TPXM8Rji/8Iubzuc9DlEwmKZFIULVaJe79cN/3qVgsUiwWI8MwqF6vUyaTISbyhJC3eBLCLF9QqVQoHo+jUCiAiCCqmQD3Jg+7rgteHalUCul0GrlcTpRphefz+aJQhlqtll8ul6nZbGo1Yr8V3tdLpRLJRryZ5N8K+cheBZBpmrAs65Jo3F8Lw1DHWq2G2Wx2mw2uhFrhg+d5b+wGF17/64y7zwX7zl8S/QK4zd+xq6JHQwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;데드락 상황&quot;
        title=&quot;&quot;
        src=&quot;/static/b2557d6202d9996edd01340c3976d6a4/f058b/image-2.png&quot;
        srcset=&quot;/static/b2557d6202d9996edd01340c3976d6a4/c26ae/image-2.png 158w,
/static/b2557d6202d9996edd01340c3976d6a4/6bdcf/image-2.png 315w,
/static/b2557d6202d9996edd01340c3976d6a4/f058b/image-2.png 630w,
/static/b2557d6202d9996edd01340c3976d6a4/40601/image-2.png 945w,
/static/b2557d6202d9996edd01340c3976d6a4/78612/image-2.png 1260w,
/static/b2557d6202d9996edd01340c3976d6a4/4f9e8/image-2.png 2432w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 데드락이 발생하는 경우를 잘 보아하니, 아래 &lt;strong&gt;4가지 조건을 모두 만족하는 경우&lt;/strong&gt; 데드락에 빠지더랍니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Mutual Exclusion&lt;/strong&gt; : &quot;열쇠&quot;같은 자원에 상호배제적으로 접근하도록 되어있습니다. (관련한 설명은 &lt;a href=&quot;https://sungpaks.github.io/mutual-exclusion-software-approach/&quot;&gt;전에 쓴 글&lt;/a&gt;을 참고해주세요)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hold-and-Wait&lt;/strong&gt; : 자원을 가진 채(Hold)로 다른 자원을 요청하여 기다립니다(Wait).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;No Preemption&lt;/strong&gt; : 자원을 강제로 뺏어가는 경우는 없습니다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Circular Wait&lt;/strong&gt; : 자원을 가지고 있으면서, 요청하고, 요청하고, ... 가 순환적으로 연결됩니다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 자원을 요청하거나 할당하는 양상을 &lt;strong&gt;Resource Allocation Graph&lt;/strong&gt;로 나타낼 수 있는데&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a44266041c37116a90dafb08f46fc83e/6029f/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.36708860759494%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABZklEQVR42oWSyU7DQAyG8/6vAgc4le3SjQMgIaRWRQkKSsjeLM2+52dsFAlKAyNZ42Q8v+35LGFiDcOAKIrgeR6SJDkdI+zBBRYWsHKAR+FLdGm/3yOOYxZwHAeHwwFBEEDXdciyDNM0UZYlJymKguP6vhd+ibnR4+q9xcU2xkoIS2EYwnVdFiHfMAzeR0FFUWBZFrIsQ9M0vJNgU9dIhb+0B8zUGmcvPpbmAOm/linZVMu9iLneOLhRMqxFy0+eqJAujjYKjf5Uou/ndVWyfb0ofld4LN627Q+B42RlD+QdkDVA0WG65a7rmDC9H73pqarp11KAuNWBOwNYExSiSiCINPmqqrKIbdsMZbfbMWXf95HnOcfSN1kgEq20EjMlx/mzh3tLQKFxIHJVVfFoEO00TXmny5qmcQI6o1Gh2CRJkQpQuRihuQnM3ntcvuZY/EWZFlVEpCnZFKDF9gOrtxCbAJAj4BPMZwBQL54G8gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Resource Allocation Graph 0&quot;
        title=&quot;&quot;
        src=&quot;/static/a44266041c37116a90dafb08f46fc83e/f058b/image-3.png&quot;
        srcset=&quot;/static/a44266041c37116a90dafb08f46fc83e/c26ae/image-3.png 158w,
/static/a44266041c37116a90dafb08f46fc83e/6bdcf/image-3.png 315w,
/static/a44266041c37116a90dafb08f46fc83e/f058b/image-3.png 630w,
/static/a44266041c37116a90dafb08f46fc83e/6029f/image-3.png 906w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
Wait / Hold
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;프로세스가 자원을 요청할 때는, 리소스 Ra의 까만 점으로 바로 연결되지는 않습니다. 아직 요청이 받아들여지지 않았기 때문&lt;/li&gt;
&lt;li&gt;프로세스의 요청을 받아들이고 할당(hold by)하는 경우, 리소스의 까만 점에서부터 프로세스로 화살표를 긋습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9fe15c38c42eccfdee548d80caf64ac9/fcbaf/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.36708860759494%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABZ0lEQVR42nVS2U7DMBDM//8CSIh/4aY8VKgIBChNSONcJa6buLmcwevGSaFlJMvHjsc73nW6rkPTtOi7FokE7piCv4VBjwlKKc1rzKCIK4DbqEde/+Y6nHMkSYpCcHha6PIhwiJTR4JSSsRxjDTNTOTqk+P8JoD/Xe25A9mxF+uqAi9rvPr60kaia1ucAmVaae6762P+5oJFiTnrB0UjSDbodSIStluB9XoN+g5LtHNRFMiyzMQIZVmafTsk4ARBoC0nY9qqn4zSued5hlzXNZbLJYQQY6Y07Hq1WoExBicMQ0RRNAW1oM0mz/NRkFz4vm8yH+0Td1iThhHsBwEqDtcChLbtDGG32x39IYmTRamt2mKRk9Hy+Jpum1wXZeEypKJCpcUO7VvQ453mRlzi6eUDoS7K4V87hyWntrm4Z3hOj9tmEtzPj6zB2XWAL16fbhtCqh3OYoWgwP+Cw+xueswSBf6nsX8AuGIIrQ8+3kUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Resource Allocation Graph 1&quot;
        title=&quot;&quot;
        src=&quot;/static/9fe15c38c42eccfdee548d80caf64ac9/f058b/image-4.png&quot;
        srcset=&quot;/static/9fe15c38c42eccfdee548d80caf64ac9/c26ae/image-4.png 158w,
/static/9fe15c38c42eccfdee548d80caf64ac9/6bdcf/image-4.png 315w,
/static/9fe15c38c42eccfdee548d80caf64ac9/f058b/image-4.png 630w,
/static/9fe15c38c42eccfdee548d80caf64ac9/fcbaf/image-4.png 895w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
Circular Wait으로 데드락이 발생환 상황 / 데드락이 아닌 상황
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;그럼 두 프로세스 P1, P2가 자원 Ra, Rb에 접근하는 경우를 다음과 같이 생각해볼 수 있습니다&lt;br&gt;
왼쪽의 경우 P1, P2 사이에 데드락이 발생한 것을 알 수 있습니다..&lt;br&gt;
그러나 비슷하지만 오른쪽의 경우, 데드락이 발생한 것은 아닙니다. P1과 P2의 요청을 받아들일만한 재고가 남아있기 때문입니다&lt;/p&gt;
&lt;h1 id=&quot;데드락-해결을-위한-방법&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8D%B0%EB%93%9C%EB%9D%BD-%ED%95%B4%EA%B2%B0%EC%9D%84-%EC%9C%84%ED%95%9C-%EB%B0%A9%EB%B2%95&quot; aria-label=&quot;데드락 해결을 위한 방법 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;데드락 해결을 위한 방법&lt;/h1&gt;
&lt;p&gt;그럼 데드락을 어떻게 해결할 수 있을지 알아봅시다?
크게 세 가지 접근법이 있는데&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Prevent Deadlock&lt;/em&gt;&lt;/strong&gt; : 데드락을 &lt;strong&gt;예방&lt;/strong&gt;합시다. 이를 위해, &lt;strong&gt;자원 할당 시 규칙을 잘 만들고 이를 지키도록&lt;/strong&gt;합니다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Avoid Deadlock&lt;/em&gt;&lt;/strong&gt; : 규칙을 따로 두고 지키는 것이 아닌, &lt;strong&gt;자원을 주려고 할 때 데드락 위험을 확인&lt;/strong&gt;하고 할당해주도록 합니다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Detect Deadlock&lt;/em&gt;&lt;/strong&gt; : 별 규칙이나 확인 같은 절차 없이, 그냥 두고, 단 &lt;strong&gt;OS에게 수시로 확인하도록&lt;/strong&gt; 합니다. 초기 진압을 목적으로 합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;deadlock-prevention&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#deadlock-prevention&quot; aria-label=&quot;deadlock prevention permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deadlock Prevention&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;데드락이 발생하지 않을 규칙을 만들어 예방&lt;/strong&gt;하는 것이 목적이라고 했습니다.&lt;br&gt;
그럼 어떤 규칙을 만드는게 좋을까요?&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 224px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d0f0cf0f4a1e23192507056a401dcde4/80b2d/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100.63291139240506%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEe0lEQVR42j2T21MTVxzH93/woTNOZ3ScPtuH9q0z9q21U2uHB4bO0BGxjLaikYQw5SKIcmmjAnJRoxMQAkiJgi13GC4iISExCZBskt2YZJPsLrvJhlz3ls2S9BRnOnPmPJ3PfH/z/X0OlMwI4CTSfIbPM4epcW338OP7h6kUL+ZzucLa6sYvFZUP2jRR+pDPFTKclGZz4M5w+awgQf/Dolz0+9AHNy+91DQe4JFisbhjsZ85feaTEydPnzj5R9v9QrF4jEmceJTlZU7IQwD7CLNigYnF1ge7pttrkT2rIBdJgr5Z+kP511+e/+LsnV+vJdIcwEAyK8hZPs8LMnSY4j6Gc6JMxFKGga6X6sqhnj+fPh3Yse1vGUZ01y6O367+q70OccMEGUuCGEFmeYkXcmBsEfCJjBAmo/1P9A2KGq2yvOlGpVql6OnV7r7dGFFVtZV+06+44nY4MDRMEUyGzXG5Ai8eQUw8QdG03+/3or7FpWUURSymTR8K63SD3R2ahZ62Tf0zjeq6Qdtn3TZjCBbByESKTWf4dJqDEOcuRYQjkRCGBRKJOEVRPC+AtgxTi881ncvjz23Wbceuze6weVwuFPG6Pe73tvdEJByjCSjogfFQAEHdsNs1P79kMLyeX1pwIejQ0NjwbRVs2yGiUYKI4CRJx6gwgccYhue5nCTFSAJyW0ywxeR1mO1bG5q62h+/u6As+16jvtVUdeleybkx3TMYdppNpn3zpsO4YttcCSBeWT4SBQHzuiCv3eyxAdiys7o43dNeq1BWV15uViparl5urSq/WaO2mowry29f9XevD7S+e9y59noKhn0+D+Jx7EBpTszyEjAkHPKvTI2/GR08oKJsvpjLF41Gs+J6TdudTpJiwIMMn0uluSiTpOnEARUHFJAkl85KglQ0L0y0VF7ovlWxv70uFYofPoS//erc55+eOnvqs4cP+4Be6awIliSKBWAEsOW/VSUzwDhZkI5mXzwaarrxT3udefYVaBsnmdH7HZMN15423HjR/UjOHwEfAQw05vg88EQAMEgGnuSOisbZiYmW32aaq//u1Vgde4kMB5s2R1RX5rua1yb1FEGkgFvHYgvHsdwxLIj5AsUkx16+bqn+WVdT3tuobG5umnzSGzBu6VsbeqtKhzsafa79SIhkElkWxPJ5TpCPx2bFAzqKE7gH9aJA312Lx+NaXFyY0w85tzZmDIbhR13jOq3FbIJd3gh+IOULwE3QEfiwEIkTJBkGGqCIBwsFgqEgSZKrq+t2myuZTWMEKcmyKIrxOJNKJQVBYFmWpqg4aJymIR/spCLY6KC+4qeK1pZ7KxtbfX1PGhpaA35ifmJkY3o86HREcJqJH7JZjmUF8oDC3C5wcB8C4L2A1/ni+dDF8yVlJWW377ZXXL7aoVa/G9XWlpdNDvSvappmtI/XVzZDGBnwRxAUCwJLHPaQ2w0Fvc6I3zM/M6dW1iuuK2rr69S/17/p6xy7p1QpVEazfW1MZ9V3780Z/O8t4SAWxik8gAVdTtzn+xfyDZ197Uz2AgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;규칙..&quot;
        title=&quot;&quot;
        src=&quot;/static/d0f0cf0f4a1e23192507056a401dcde4/80b2d/image-5.png&quot;
        srcset=&quot;/static/d0f0cf0f4a1e23192507056a401dcde4/c26ae/image-5.png 158w,
/static/d0f0cf0f4a1e23192507056a401dcde4/80b2d/image-5.png 224w&quot;
        sizes=&quot;(max-width: 224px) 100vw, 224px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
규칙은 예외없이 지켜야 합니다
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;우리가 위에서, &lt;em&gt;데드락이 발생하는 4가지 조건&lt;/em&gt;을 언급했고,&lt;br&gt;
이 4가지 조건이 모두 만족된다면 데드락이 발생한다고 했습니다&lt;br&gt;
그렇다면.. 4가지 조건 중 하나라도 깰 수 있는 규칙을 만들면 되겠네요?&lt;br&gt;
4가지 조건을 다시 살펴보며, 깰 수 있는 방법에 대해 생각해봅시다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Mutual Exclusion&lt;/strong&gt; : 근데 이건 동시성 문제 해결을 위해 꼭 필요해서.. 이걸 깰 수는 없습니다 ㅜㅜ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hold and Wait&lt;/strong&gt; : 프로세스가 자원을 Hold만 하거나, Wait만 하거나, &lt;strong&gt;둘 중 하나만&lt;/strong&gt; 하게 만들면 어떨까요?
&lt;ul&gt;
&lt;li&gt;그렇다면.. 실행 시작 전에 &lt;strong&gt;필요한 모든 자원을 할당(Hold)하고 시작&lt;/strong&gt;하면 wait은 없을 것 같습니다
&lt;ul&gt;
&lt;li&gt;그런데 이렇게 하려면, 자원이 총 얼마나 필요한지 알아야 하는데 : 이건 사실 컴파일하면서 알 수 있어서 어렵지 않습니다&lt;/li&gt;
&lt;li&gt;그런데 모든 자원을 한꺼번에 Hold한다는 점이 문제입니다 : 언제 필요한지 모르는 자원을 시작부터 끝까지 점거하는 셈이고, 이건 굉장한 낭비입니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;No Preemption&lt;/strong&gt; : 프로세스가 자원을 요청했다가 &lt;strong&gt;Block&lt;/strong&gt;당하게 되면, &lt;strong&gt;자원을 강제로 뺏고 종료&lt;/strong&gt;시킨 뒤 다시 실행하면 어떨까요?
&lt;ul&gt;
&lt;li&gt;그런데 이렇게 하면 실행 시간을 예측할 수가 없고, 비용 또한 많이 들겠습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Circular Wait&lt;/strong&gt; : 모든 자원에 &lt;strong&gt;정수 번호&lt;/strong&gt;를 붙이고, 자원 할당은 그 정수 번호 &lt;strong&gt;오름차순 순서로 할당&lt;/strong&gt;하게 하면 어떨까요?
&lt;ul&gt;
&lt;li&gt;만약 프로세스가 5번 다음 3번을 할당 받으려면, 3번을 먼저 할당받고 5번을 할당받게 합니다.&lt;/li&gt;
&lt;li&gt;3번을 먼저 할당받는 점이 조금의 낭비가 발생하는 지점이지만, 다른 방법들보다는 &lt;strong&gt;가장 현실적&lt;/strong&gt;인 방법입니다 그나마..&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그런데 &lt;strong&gt;Circular Wait&lt;/strong&gt;을 깨는 조건으로 말한 &lt;strong&gt;정수 번호 순으로 할당&lt;/strong&gt;하는 방법이 실제로 어떻게 데드락 발생을 막을 수 있는지 어떻게 증명할 수 있을까요?&lt;br&gt;
&quot;어떤 방법이 데드락 발생을 막는다&quot;? 를 증명하려면 간단히 &quot;그 방법을 적용해도 데드락이 발생한다&quot;를 가정하고 이것이 모순임을 증명해야 합니다&lt;br&gt;
&lt;a href=&quot;https://www.cs.cornell.edu/courses/cs4410/2017su/lectures/lec09-deadlock.html&quot;&gt;코넬대학교 자료&lt;/a&gt;를 보면 다음과 같이 써있는데&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;That means that when traversing any path in the resource allocation graph, the numbers must increase (because if resource A is held by process P which is trying to acquire B, B must be bigger than A). This means that there can&apos;t be loops, because in a loop, the number must eventually &lt;strong&gt;go down&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;요약하자면.. 순환이 발생하려면 결국은 &lt;code class=&quot;language-text&quot;&gt;1-&gt;2-&gt;3-&gt;1&lt;/code&gt; 이런 식의 &lt;em&gt;go down&lt;/em&gt;이 발생해야 &quot;순환&quot;이 성립한다는 내용입니다&lt;br&gt;
생각해보니 당연하죠? 그것이 &quot;순환&quot;이니까&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/15f05532cdf1a2606c476f7256f4a8e0/3684f/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEqklEQVR42h2S+09TBxTHb1tKoe3ti5Y+6AvaAoIidIv4GOBjgrFANSoPqxPEat8tFAXb3ntLaUtLS29f0GLftA4UHcZlMyT+ss1ly7Ys0cX4y5bsl8Vl+wvMfnAXk5Pz2+d7vud8DzA6DV2fWzBDgeVUEc2ULItRqy+OJIqpyhfRwqY3ltLNzE7NOCA0E87eT1e2g2sFMxw0ImEkeg8Ytbk+s8N6lz+wlsdg8yJq8sdd0Wz+8dc2B8Kq4+BxOFYd+0jvCTvszT/8MrCaM0EBM7KyEMsAYzbXNTukd/mWU4VoZsPiRfW+qDtZWlrL1fN4AADQ6fQaEomAx7FYdd6VxMq9ss7pNyKhhXgWGJ+GJmYRPeRfThdj2YrFhxr9Md/6puriZWIVngrSQBqdzmCCIBUTUqnPx4tbOqdvD45lgdGZPVjn8AaxydmyaTFiCazeCafb5PLkrXHr0OnuJjG9pgaHx2Nw97FeNL9pcAXNSNgTxWxPw5O33bq7GFxEcxtGT8TiT7oSGxeHhn8KWt/kQ7sheF2vaeGxqVWEqQvnl9IlIxQyuyPeeA64bIP2YKcvsFaKZMvYwSzemCddcS+h8KWz6FX1nHrgZWZ5Y1ZrONr5PBrwpjdMH2A3tvOIxTl91x1a8IXS5URh0+SJWrxxV6IYKz6YP3/mm5D7yZz5hxD01dz1nVntVqG0lCqa4JABDrv3orJCU+b5hH1mazWZXcvoPFjOCShWSN5/shVAvg06f457XyzZnyO3kEsDvkgyjF3bEdBDIRhdB0asznHLfMSo/T62lEbjezA2Gc0lyzuJ1LrnQn9ee6VkHk9Nna1Yxh7mctiqJmRF71r+AFucGptj8caVXwur2+XyDVfI5kt41u6vf/40kt+0TE7Bg59EJ1TxkRO/7eQfb+807zs0OQNjj7iQyAEjhvlRy11If/3HfKKYTmuRiAEKn1KN9Z5UNzcr+fzmyWGVd+joU7/jn7d/azQ6OrVBJus83Ku6aYeBMTM0ZnUtWm898tjjqexNJHykb5hFEzJoDWyWGKRwz6lHs847L549++7FL/uau5skXVLxfhGvVdGoBPrOaUxwsBIP7WQSaK7S3TPI5yhk0i4Br0UqbsMkhodG/vj9z7d//RtdWZdLuzqau2SSg/JGpUzcCRzuVx8fUO/u7j7YfqTs6pOKOrjspkZRR6P4oFR0oLqKYTDY3r9//+7df2MjE8c+7pFL2kX8tiZxJ5etAAanLDQGp+fYydaWNkotW8Bt2es8haLpI0yeQRMM9A9i8OvXbxQypUS4v76uUSJsFwnaWAwJMKC5yWRxsb/F4fC1tSCFzCLgq+uYDTJpJzZcKGilUlivXr2MoWkOU36gvZvLkfK5CgaNTwO5wJmrRiabiwMAAqEKKxyOgAmRSSDmTdSwXyRoJ9ewnA7o3JCGQRUeUvYJ+fIaEqOaSKFSOIBqwqzoUOIAHAFPwKqWAnb3fcrm8EAyW1DfSiMLjveeKZUqmFsmTQiSedVVIKkaxOOJWAdOj2tPjV47feGy3u7Szrgu6m5r4RC3QUwAiGymhFpT33O0H42skoggjcLDkiMRqXg8ZhBPrCL/DyNotoKV2pA2AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;신지로&quot;
        title=&quot;&quot;
        src=&quot;/static/15f05532cdf1a2606c476f7256f4a8e0/3684f/image-6.png&quot;
        srcset=&quot;/static/15f05532cdf1a2606c476f7256f4a8e0/c26ae/image-6.png 158w,
/static/15f05532cdf1a2606c476f7256f4a8e0/3684f/image-6.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;deadlock-avoidance&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#deadlock-avoidance&quot; aria-label=&quot;deadlock avoidance permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deadlock Avoidance&lt;/h2&gt;
&lt;p&gt;이번에는 따로 규칙을 두지는 않고, 자원 할당 전에 &lt;strong&gt;데드락 가능성을 판단&lt;/strong&gt;하고 수행하도록 해봅시다.&lt;br&gt;
자원 할당을 해주면 데드락이 발생할 것 같을 때, 프로세스의 요청을 거절하고 block상태로 대기하도록 하는 방법입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 177px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/afeed013f1039c701e78172ba1a0ea18/6e666/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 160.75949367088606%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAIAAACdAM/hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEd0lEQVR42n2V5UtFWRTF7x8kgl8UDBBFFBHEBLtRsbuxE2xELCxMbMVAsRW7sMVux+4aZ36+6+hTZ+bAO5x731l7r712XOGv/15vb29//rOk37++vs7Ozi4tLQm/Mb9vs66urkZGRsrLy0NCQjQ0NJSVlWtra4X/8fzw8LC8vNzW1hYVFaWnp6epqZmcnFxSUhITE2NrazsxMSH8djs9PV1fX5+YmOjg4GBsbGxiYmJubp6bm3t+fk4gLy8v7Lu7uxsbG4J0hOxHR0ew0tbWNjAwUFRUlJOTU1dXLygouL6+npubW11d3dra4s4fkiVI+2QfGxuDkqysLCR9fX1lZGTc3NwAbG5uqqio+Pv7Q3tmZuby8vL4+PgnuLm52cvLC28uLi44V1JSqqmpeX5+xk9GRkZ2dnZhYSGc0e/k5ORbzMRDbOiJt8DAQCcnJ0NDw4iIiLKyssrKSqQGnJ6eXlxc3NjYiASCdMCYDw0NRUyQjo6OPj4+MDc1NeVlcHCwmpqamZmZtbU1Z2SHuSDNGZ2DgoLAeHp62tnZsUdHR7u7uw8MDKyvr8O/v79/cHBweHi4tbWVUhF+BGxjY+Ph4QFh0uPt7Q1nWBAnaot5AsPNw8PDx8fHbzFTDKhCYgiV9Ir+Ed/Pz48gASDVyspKaWkpb56enoTPgE9PTzMzMzs6OqysrPT19ZFaR0cnLCwsJSWFQGJjY2EBI2dnZ8KOi4sDJXxynp+fxxUKaWlp6erqkqSEhIT9/X12FAJmb29fV1cHBbjk5+cD+fI8NTWFW0RWUFBQVVVFKmp7dHSUqyCRF9pcI37ukNEPsLiqqqrIZGpqKvXMWSwGwBQ5Z7Sk4GFOFYSHh/P4DhbdYrW7uxtWZJIKoWOQmpjJXFZWFnhSQM6wa2RklJSURMK+wNQaYRQVFaFTfHw8tioqKtwli6vt7e3V1dXslpaW8vLytA2MvsD0Q0BAAE2LYVrn5ubm7u6uq6sLcz09Pfgh29Q83QLnnJwcJslHzOQdcENDAzmIjIzs6+ujJMBDHoXRBiuE7erqyiNnenNoaOgDfHZ2RgEiNcwXFxeRjUa/vb2lnra3tyG8sLBALuCMXXRBsw/a/CYnJ1ESemSVumHuwALP+OeRuAjh4uIC8kREzaHlF+2mpqbOzk7+ozHwyaCDG2Ccs9O6HADv7OxQgiQFOvTjOxhuZBUy9CqJ4UA9MiXu7+9FvGji4OCAcLArdq5YMAJvEZDhgtpFknUvWdeSJeJx3tvbC5JCxidWwL+DkZSShiezAm2oMLRBfwCAscJBnHtY4T1WLCwsePkOTktLY7KhFvfoeMhTGLCisHFLq9H6a2trdC+yUUviMOD8DoYw9UjdU0BcZdZBARP4AcCgJHlYERWikxnmLS0tH2CxJWFI6sbHx2kG7kGS5MOWDxKK8i87Z3RhGDItoPlVntIDGJ/gYUh4jGsURR52xiA0qXkyIg6jb3P7hyEWHjAklmBeXh4fN9JBXOJN4V+/rJ/rBynGLRWyt7cnDp+/Ae1/rEYQ19PNAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;거절한다.&quot;
        title=&quot;&quot;
        src=&quot;/static/afeed013f1039c701e78172ba1a0ea18/6e666/image-7.png&quot;
        srcset=&quot;/static/afeed013f1039c701e78172ba1a0ea18/c26ae/image-7.png 158w,
/static/afeed013f1039c701e78172ba1a0ea18/6e666/image-7.png 177w&quot;
        sizes=&quot;(max-width: 177px) 100vw, 177px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그런데 그러려면 &lt;strong&gt;어떤 프로세스의 요청 상한선&lt;/strong&gt;을 기준으로 판단하게 되고&lt;br&gt;
이는 최대치를 가정하고 작업하는 것이므로, &lt;strong&gt;불필요한 낭비를 하는 경향&lt;/strong&gt;이 있을 수 밖에 없긴 합니다&lt;br&gt;
어떤 사람이 3시간 동안 과제를 할건데, 중간에 프린트를 해야한다고 해서 3시간동안 프린트기를 쭉 점거하고 있으면 매우 낭비겠죠?&lt;/p&gt;
&lt;p&gt;일단 이 Deadlock Avoidance에는 두 가지 종류가 있습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Process Initiation Denial&lt;/strong&gt; : 프로세스를 시작할 때, 이 프로세스의 요구치가 데드락을 야기할 것 같으면, 프로세스의 시작을 거부합니다.
&lt;ul&gt;
&lt;li&gt;이 경우, 가장 최악의 경우를 상정하는 Not Optimal한 방법입니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Resource Allocation Denial&lt;/strong&gt; : 프로세스가 자원 할당을 요청하면, 이를 받아들인다면 데드락이 발생할 것 같을 경우, 자원 할당 요청을 거부합니다.
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;banker&apos;s algorithm&lt;/strong&gt;이라고도 합니다&lt;/li&gt;
&lt;li&gt;먼저 시스템이 고정된 양의 자원을 가진다고 가정하고, 현재 상태에서 자원 요청을 승인하면 &lt;strong&gt;safe&lt;/strong&gt;한지, 아닌지, 를 확인합니다&lt;/li&gt;
&lt;li&gt;이 &lt;strong&gt;safe&lt;/strong&gt;상태란, 데드락에 빠지지 않는 sequence가 단 하나라도 존재하는 경우입니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;자원 할당 상태를 행렬이나 벡터 등으로 나타내어 safe상태를 확인해볼 수 있습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6f049e1b6f058f885ad749cf22ddd666/bce72/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.34177215189873%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABRUlEQVR42mWQXU/CMBSG9/9NNCQaNVFDNPHCWy5MDIJAAAdBIWqUDxHGxsa6deva7nudZ2C4sTk5SZ+8bZ8eSQhBeWgTjj2OHBpEcZ7nAAn1MUAC0IuTDGCaZY7HbZfhbYetFHD6+GFeNLWb7hr6aOlCjjFeeTUuWwD189piafkAESZ3feOqpZbb2nVnbZJAItiqDK2jJ+usgw/rpjwnkLNsfNszSw3rtI0PqsbMDACudFSWcaluHjfRSQvpbiDFcbRArPGmVAfT57GOWaGdpslYxdXBrDmadz9VFqYA/SD80ll/hnqTzbvq8TCW8r8loKIk0SxvjblmM/h/oeDSDaaG4ysI0sk+uTsjbaeTZ8VEcodFteGi9vL90J+OfhCQsebeyxNQADXkFfKQhPyu9i/vDTIhQFIwShVlRVy3IMXdIv+3fgEgcoAtuTJiyAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;initial state&quot;
        title=&quot;&quot;
        src=&quot;/static/6f049e1b6f058f885ad749cf22ddd666/f058b/image-8.png&quot;
        srcset=&quot;/static/6f049e1b6f058f885ad749cf22ddd666/c26ae/image-8.png 158w,
/static/6f049e1b6f058f885ad749cf22ddd666/6bdcf/image-8.png 315w,
/static/6f049e1b6f058f885ad749cf22ddd666/f058b/image-8.png 630w,
/static/6f049e1b6f058f885ad749cf22ddd666/bce72/image-8.png 633w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;프로세스 P1,P2,P3,P4, 자원 R1,R2,R3에 대해 이러한 상태가 있다고 생각해봅시다.&lt;br&gt;
각 matrix와 vector들은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;R&lt;/strong&gt; (Resource Vector) : 시스템의 전체 자원 수(R1,R2,R3에 대한)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;V&lt;/strong&gt; (Available Vector): 시스템에 현재 남아 있는 자원 수&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;C&lt;/strong&gt; (Claim Matrix) : 각 프로세스들의 최대 자원 요구치
&lt;ul&gt;
&lt;li&gt;P1은 &lt;code class=&quot;language-text&quot;&gt;[3,3,2]&lt;/code&gt; : 실행 시작부터 끝까지, R1을 3개, R2를 3개, R3를 2개 요구할 것임&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;A&lt;/strong&gt; (Allocation Matrix) : 각 프로세스가 현재 가지고 있는 자원의 양
&lt;ul&gt;
&lt;li&gt;P1은 &lt;code class=&quot;language-text&quot;&gt;[1,0,0]&lt;/code&gt; : 현재 R1을 1개, 나머지는 0개 가지고 있다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;C-A&lt;/strong&gt; : (전체)-(현재) 자원 양이므로, 각 프로세스가 앞으로 요구할 자원의 양.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 각 matrix와 vector들의 의미를 정확히 알아둔 다음, 두 가지 Deadlock Avoidance 기법으로 데드락 가능성을 확인해봅시다&lt;/p&gt;
&lt;h3 id=&quot;process-initation-denial&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#process-initation-denial&quot; aria-label=&quot;process initation denial permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Process Initation Denial&lt;/h3&gt;
&lt;p&gt;P1, P2, P3, P4가 모두 시작을 대기하고 있고, 프로세스 번호 오름차순 순서로 확인 후 시작한다고 생각해봅시다.&lt;br&gt;
그럼 &lt;strong&gt;R&lt;/strong&gt; == &lt;strong&gt;V&lt;/strong&gt;인 상태로 시작하므로, &lt;code class=&quot;language-text&quot;&gt;V [9, 3, 6]&lt;/code&gt;에서 시작하고, Process Initiation Denial 방법은 &lt;strong&gt;C&lt;/strong&gt;를 잘 살피면 됩니다&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;P1의 &lt;strong&gt;C&lt;/strong&gt;값은 : &lt;code class=&quot;language-text&quot;&gt;[3,2,2]&lt;/code&gt;이므로, &lt;code class=&quot;language-text&quot;&gt;V [9,3,6]&lt;/code&gt; 이내입니다. 할당해주고 나면, &lt;code class=&quot;language-text&quot;&gt;V [6,1,4]&lt;/code&gt;가 됩니다.&lt;/li&gt;
&lt;li&gt;P2의 &lt;strong&gt;C&lt;/strong&gt;값은 : &lt;code class=&quot;language-text&quot;&gt;[6,1,3]&lt;/code&gt;이므로, &lt;code class=&quot;language-text&quot;&gt;V [6,1,4]&lt;/code&gt; 이내입니다. 할당해주고 나면, &lt;code class=&quot;language-text&quot;&gt;V [0,0,1]&lt;/code&gt;이 됩니다.&lt;/li&gt;
&lt;li&gt;P3의 &lt;strong&gt;C&lt;/strong&gt;값은, &lt;code class=&quot;language-text&quot;&gt;[3,1,4]&lt;/code&gt;인데, &lt;code class=&quot;language-text&quot;&gt;V [0,0,1]&lt;/code&gt;을 초과하므로, 시작할 수 없습니다. (거부)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이렇게, 자원 요구의 최대치를 기준으로 계산합니다.&lt;br&gt;
그러나 모든 자원을 한 번에 사용하는 것이 아니므로, 가장 최악의 경우를 상정한 Not Optimal 방법입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/723213363d1fbc8827b1ccbd7e5cc6ec/e85cb/image-9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABqElEQVR42gXBy5aTMAAAUD5Dj+c47bQC7VCeAUJICIQQXim0Bfoae+pCz8y4cePGD9CFW3/Ye5UHO2/y6udl7Hhhp/snLPWo+TFdf9/Oz2VhB3RDe9B8ttMRytvSxu8Xhm6hnuUijhXVLfKIHSinPg4TqcWdX15qOb7K6tf91MqOiV0sJpufbHFWTbRUvU9PMAYImL6iehVBZYZSx4ZrCz5Y1IM8SbKXcf923EVRIoqaF7XYnhw+aU6q6mDtUQIT34WKGtZLJ1sY0aMRhrSOqHA81JXl/Thc99taiL2Up117H7sv91vRDh7iqkvcgCSYKZfjNee162NIWF3WKYkbIaatHNqmL4upqbY8DwBMMB3b8tw1//7+efv6/dswxJAqRYxrRrtSSFGwhMyXOsb02LdlxoammmTNcWwH6QqwpWb2XFybrmFVGKQblyjvZmvTQUnCCc7SrNTN0HTRqW+fD/310F06WRDikiZiu4+PxoeFNdO8xSqYq2BlRMpc82aaq1vRykImSFQj1MwQQoLiDEIc+pHvxxbt14DNFpvZCmhmZNkIALzeoP9IwnbqNnNcJAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;끝나버렸다&quot;
        title=&quot;&quot;
        src=&quot;/static/723213363d1fbc8827b1ccbd7e5cc6ec/e85cb/image-9.png&quot;
        srcset=&quot;/static/723213363d1fbc8827b1ccbd7e5cc6ec/c26ae/image-9.png 158w,
/static/723213363d1fbc8827b1ccbd7e5cc6ec/6bdcf/image-9.png 315w,
/static/723213363d1fbc8827b1ccbd7e5cc6ec/e85cb/image-9.png 480w&quot;
        sizes=&quot;(max-width: 480px) 100vw, 480px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;process-allocation-denial&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#process-allocation-denial&quot; aria-label=&quot;process allocation denial permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Process Allocation Denial&lt;/h3&gt;
&lt;p&gt;프로세스가 자원 할당을 요청하면, 그 요청을 받아들일 경우를 가정하고 진행해봅니다.&lt;br&gt;
데드락에 빠지지 않고 끝날 수 있는 실행 순서가 단 하나라도 존재하면, &lt;strong&gt;safe&lt;/strong&gt;상태인 것으로 간주하고 요청을 받아들입니다.&lt;br&gt;
그러나 어떤 경우에도 데드락에 빠진다면, &lt;strong&gt;unsafe&lt;/strong&gt;상태로 간주하고 요청을 거절합니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Banker&apos;s Algorithm&lt;/strong&gt;이라고도 하는 이 방법은, 프로세스를 &lt;strong&gt;하나씩 종료&lt;/strong&gt;시켜보며 safe/unsafe를 판단합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6f049e1b6f058f885ad749cf22ddd666/bce72/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.34177215189873%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABRUlEQVR42mWQXU/CMBSG9/9NNCQaNVFDNPHCWy5MDIJAAAdBIWqUDxHGxsa6deva7nudZ2C4sTk5SZ+8bZ8eSQhBeWgTjj2OHBpEcZ7nAAn1MUAC0IuTDGCaZY7HbZfhbYetFHD6+GFeNLWb7hr6aOlCjjFeeTUuWwD189piafkAESZ3feOqpZbb2nVnbZJAItiqDK2jJ+usgw/rpjwnkLNsfNszSw3rtI0PqsbMDACudFSWcaluHjfRSQvpbiDFcbRArPGmVAfT57GOWaGdpslYxdXBrDmadz9VFqYA/SD80ll/hnqTzbvq8TCW8r8loKIk0SxvjblmM/h/oeDSDaaG4ysI0sk+uTsjbaeTZ8VEcodFteGi9vL90J+OfhCQsebeyxNQADXkFfKQhPyu9i/vDTIhQFIwShVlRVy3IMXdIv+3fgEgcoAtuTJiyAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;initial state..&quot;
        title=&quot;&quot;
        src=&quot;/static/6f049e1b6f058f885ad749cf22ddd666/f058b/image-8.png&quot;
        srcset=&quot;/static/6f049e1b6f058f885ad749cf22ddd666/c26ae/image-8.png 158w,
/static/6f049e1b6f058f885ad749cf22ddd666/6bdcf/image-8.png 315w,
/static/6f049e1b6f058f885ad749cf22ddd666/f058b/image-8.png 630w,
/static/6f049e1b6f058f885ad749cf22ddd666/bce72/image-8.png 633w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아까 위에서 봤던 상태도를 다시 가져와봤습니다&lt;br&gt;
먼저 이 상태가 safe인지 확인해봅시다.&lt;br&gt;
&lt;strong&gt;C-A&lt;/strong&gt; matrix (앞으로 더 요구할 자원 양)에 주목해야 합니다&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;V [0,1,1]&lt;/code&gt;인 현 상태에서, &lt;strong&gt;C-A&lt;/strong&gt;를 보아하니, 지금의 자원 내에서 종료 가능한 프로세스는 P2밖에 없습니다.&lt;/li&gt;
&lt;li&gt;P2를 종료하면, P2가 가지고 있던 자원의 양(&lt;strong&gt;A&lt;/strong&gt; 행렬 중 P2)이 모두 반납되어, &lt;code class=&quot;language-text&quot;&gt;V [6 2 3]&lt;/code&gt;으로 늘어납니다.&lt;/li&gt;
&lt;li&gt;Available Vector &lt;strong&gt;V&lt;/strong&gt;가 매우 풍족해졌으므로, &lt;strong&gt;C-A&lt;/strong&gt;를 보면 남은 P1, P3, P4 뭐든 종료할 수 있습니다.&lt;/li&gt;
&lt;li&gt;이럴 때는 번호가 작은 P1을 종료합니다. 우리가 반복문 코드 짤 때는 응당 &lt;code class=&quot;language-text&quot;&gt;i++&lt;/code&gt;처럼 짜기 마련이죠&lt;/li&gt;
&lt;li&gt;이제 P1을 종료하면 &lt;code class=&quot;language-text&quot;&gt;V [7,2,3]&lt;/code&gt;이 됩니다.&lt;/li&gt;
&lt;li&gt;이제 P3종료, 또 P4 종료가 가능하므로, &lt;strong&gt;safe&lt;/strong&gt;상태임을 알 수 있습니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이제 아래 (a)상태에서, &quot;P1이 &lt;code class=&quot;language-text&quot;&gt;[1, 0, 1]&lt;/code&gt;의 자원을 요청&quot;하여, 이를 받아준 경우인 (b)를 생각해봅시다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 511px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f1aa48ac54f017ca6f52891ff2b4c390/92e00/image-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 79.74683544303798%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACbklEQVR42nWS70/iMBjH9/+/PDWBi3fR974wag6MCEaGogY9hbGBeqDg2Np17druF7hxzzZINN41XdPn2+/Tds+nSpqmTASISkwlokKG8XK5BNGTIWIgCljifpSLifAj8GAGooAsJZC82nPLKtq5RKVzu/3sgS8MZF0npSbavUTlJjozKIhx6LeGFEJwfm+iao8o3GOHXbbVYj+v+abK1CcOPsnZcT8Xb/jWhVczsh3hmLMB3VDpdtvdVF3IUuIo7Iz5fsc66Jj7t7YxC7JDouhu7O1dm4d31t6N+fs123EeR7opKxqrdvGvnnv7wpVl/jdxFMBVYTlN3qElyftiPo/DIA78UHKIQIZelAPWkiSBuZLHWYdGRHTStRp9VOvZMC7e0xGSNQ3X++ikZ3dGbuFM1yn5yfl+METz5OnNfZwS4wWNLJpAzYN4MHEGr3g4dTCP1uZsWJ38zwa1QLbNKIFf+J8HklPi+SYRM8LfHM5kCGqSJg7z37A3xWyCuSsKEeBHpsNnRICf8ECRwqtotNxydtqkpDrtPzynIk51CuHuFSm1nMYgQxX5svVIyxfuTtsBf1VjivDoAXBWgbO30aTNFWfvWKOA/ceVB7RPPnD+1qTbl3Tj3D14oBnn+wmv3FvH92blwX5GK87diXd0a0Lxj+5m2rTgHA8tWR/Qeh+f6uRhuuKclQc2hhyAuVgssgGgA2Rf+JxBUIhrznFRRaWo+gfOdkN3TjV8puMV5z5pGE6thzojun4QecpnVGm8SEYzdzhB+ngGE3hUnh8Zr7YxtoYTTET8FdWnBreiLoHOqIsxdjAm8NmWFPwr578vAHC2n1z/kwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;할당해주면..&quot;
        title=&quot;&quot;
        src=&quot;/static/f1aa48ac54f017ca6f52891ff2b4c390/92e00/image-10.png&quot;
        srcset=&quot;/static/f1aa48ac54f017ca6f52891ff2b4c390/c26ae/image-10.png 158w,
/static/f1aa48ac54f017ca6f52891ff2b4c390/6bdcf/image-10.png 315w,
/static/f1aa48ac54f017ca6f52891ff2b4c390/92e00/image-10.png 511w&quot;
        sizes=&quot;(max-width: 511px) 100vw, 511px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 경우 현재 &lt;code class=&quot;language-text&quot;&gt;V [0, 1, 1]&lt;/code&gt; 내에서 감당 가능한 &lt;strong&gt;C-A&lt;/strong&gt; 양을 갖는 프로세스가 단 하나도 없으므로, 자원을 더 이상 할당해줄 수 없습니다&lt;br&gt;
즉 &lt;strong&gt;unsafe&lt;/strong&gt;한 상태가 되어버렸습니다..&lt;br&gt;
따라서 P1의 요구를 거절하고, P1의 요청을 받아들여도 괜찮을 때까지 block시킵니다.&lt;/p&gt;
&lt;p&gt;그런데 다만, safe한 순서를 발견했다고 해서 그 순서를 따라가는 것이 아닙니다&lt;br&gt;
그저 &quot;가능한 세계선이 존재한다&quot; 뿐이죠&lt;br&gt;
따라서 매 할당마다 unsafe/safe 여부를 확인해야만 합니다&lt;/p&gt;
&lt;p&gt;아무튼, 이 과정을 코드 로직으로 나타내보면 아래와 같이 나타내볼 수 있겠습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 184px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/78f50760d98a50e1691d03ab3b7d064b/5a64f/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 94.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEY0lEQVR42hWT11MbVxTG99/IS17ynMlMHCaTZIYJcQg2GAy2QQSDMYhmMEGA6SBEjFiqCqigslqhtiCQZAkwMkW2AIdiejfNdIHK7moXgeGFXO795rzc85vznXPmQkKJQKqUtCNSJSpTaxCdocPYg1ltpoF3vUMjdseYwzE9Mbe5tnd8eHzmdnm8Zz7cg+Men/fM44akCrEClaE6lRbTYEa9xdrTbers7NRabebePsv84szq5sbG/u6pz+shSC9JkvQ5dQ5E+2kKQlC5Vq8G1QDWa7fZB/u0OlSNKgz6jm6jwfFh8Mh15MV9IJU8DwDy9l4EgOjAOYQZDWabqd9uHXDYP0w4eyxGnQ41dun0OjXgTeaurZ3PIO82+yJAUBTu9xN+CqcoD0lAtqG3duewY3L0v/np3YMvYx9H+bx6RNkul4kBr9er19aXApcXgCf9pJfAgXkPTrhw3OXzQeOzU5+WF5a2Nr4cHdA0vbq2yK2rYrEyG+prDHrUYFBpNLKVtUWS8oMhAZjw+0mKJvw07qegw5Njl/sMRLfXc3h8BOYkaee9fJmam5uanPxYIODCcNX4xPvAZQDwoHPQMx0A5ytFByDCT+IkceJyHZ8c2XpNhcW5PF5dWRmLW1te/7pUwPt3etq5d7B9efUVOA9cBIBImvaS/kO3GwJmTk5dewf7M7MzJjPGE8AcTmlJSW5FeV5LY3U1O99s1q1uLFxdX11eX4E5nXm9px6PGyeAoJXtzwtryxub64PD77q6tG2i5rLygphHYUnPHpeUZHNqCnp7MUFrvdNp39pZ2zncJ4Drq2uCOr+FJ5bmNg92FxZnjd0Y2HBF5auikryg33789rtvniY+am7iSNtbqjhF3T0qrUY88v7t8vrc3Oq8jwJrP4cOXSd7B3syubC0glULs5npSa9rq/IKXvwaHPTDz9+HPfgjPz8TUbUae1CrVT84ZElkxv0UGhSX/vTj9CS0sDz3nMlAEKFcwZeAItWFbE5RY1NNLVzJzEpiZiTIZC0ajVRvkI0Mv1GgbXd+v/OqupAv46m1KKTWqlLTGRqNRCxpslgxrEupQAQt/FqegAuisBUGTwZMYTJpHA5beWV+yP1ga1/35JRzY3MFmvo0MTzUr9XK20T1fH6DsVun0yvF4iaRqBFEpbINw1RYJ6rTgw+neM5MiIkNVyiF/f3m5eV5sKrTsdFhFdIml/NSmYmVVcUCYQMoKBI1oGoxgohEomawgjZxMxeujHkSHhYRIpY0Y52qoSErtLu3PTBg4Tew5dKGuPgoRnx0UVEuaLu+kQ3E5bK5dWwY5lSxi7OzU8Mj7mZkp3DhCrmSL5PC0MrS7LhzUCnjoYiQkRB1LzyEmZaYkfmMVZDFys/KzmHmsbJe5KQmp8Qz/o4OufuLobPD/MbIKkhrhIsgi7EDaedxyv5phCty8lJC7wUzEmIYjOjYuKgnsZFRD8OiY+5HRP354OFfQJHRoX19lpubmw6NLC058n9fkfJjSsBwxQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;띵킹&quot;
        title=&quot;&quot;
        src=&quot;/static/78f50760d98a50e1691d03ab3b7d064b/5a64f/image-11.png&quot;
        srcset=&quot;/static/78f50760d98a50e1691d03ab3b7d064b/c26ae/image-11.png 158w,
/static/78f50760d98a50e1691d03ab3b7d064b/5a64f/image-11.png 184w&quot;
        sizes=&quot;(max-width: 184px) 100vw, 184px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;일단 아래와 같이 각 행렬과 벡터들을 정의하고&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//m개 자원, n개 프로세스&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; resource&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;m&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//시스템의 전체 자원의 양인 리소스 벡터&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; available&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;m&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//시스템의 현재 가능한 자원의 양인 avilable 벡터&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; claim&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;m&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//프로세서가 요구하는 자원 최대치인 claim matrix&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; alloc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;m&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//프로세서가 현재 할당받은 자원의 양인 alloc matrix&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;resource allocation algorithm을 아래와 같이 작성합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;cpp&quot;&gt;&lt;pre class=&quot;language-cpp&quot;&gt;&lt;code class=&quot;language-cpp&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;alloc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; claim &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; error &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//할당받은 양 + 요청할 양 &gt; claim이면? 거짓말쳤네?&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; available&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; suspend process &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//request(C-A)가 가용한도보다 적으면&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; define newstate by &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//이제, 자원 할당을 가정한 새로운 상태를 정의함 :&lt;/span&gt;
		alloc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; alloc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//alloc[i]에 할당한 만큼 더하고&lt;/span&gt;
		available&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; available&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//현재 양에서 할당한 만큼 뺌&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;safe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newstate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; carry out allocation &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//safe하면 할당 진행&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; restore original state &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; suspend process &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;만약 &lt;strong&gt;A&lt;/strong&gt;(현재 할당량) + 요청량 &gt; &lt;strong&gt;C&lt;/strong&gt;(최대 요청량) 면, 사실 말이 안되는 상황이죠? 지금까지의 계산이 모두 잘못되었을 가능성이 큽니다(error).&lt;/li&gt;
&lt;li&gt;request하는 양보다 avilable한 양(&lt;strong&gt;V&lt;/strong&gt;)이 벌써 작다면, 줄 수조차 없겠죠?(suspend)&lt;/li&gt;
&lt;li&gt;이제, 자원 할당 요청을 받아들인 상황을 가정하여, 새로이 상태를 정의합니다
&lt;ol&gt;
&lt;li&gt;allocation matrix &lt;strong&gt;A&lt;/strong&gt;를 업데이트&lt;/li&gt;
&lt;li&gt;available vector &lt;strong&gt;V&lt;/strong&gt;를 업데이트&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;그 상태가 safe한지 판단하고, safe하면 할당을 진행&lt;/li&gt;
&lt;li&gt;unsafe하면, 직전 상태로 복귀하고, 프로세스를 suspend&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;safe한 상태인지를 판별하는 것은 아래와 같이 합니다:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;cpp&quot;&gt;&lt;pre class=&quot;language-cpp&quot;&gt;&lt;code class=&quot;language-cpp&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;safe&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;state S&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; currentavail&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;m&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	process rest&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;number of process&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	currentavail &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; available&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//변화시킬 available 벡터&lt;/span&gt;
	rest &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;all processes&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//하나씩 종료시킬건데, 남은 프로세스들&lt;/span&gt;
	possible &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;possible&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;find a process Pk in rest such that &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
			claim&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; alloc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; currentavail&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//남은 애들 중 하나인 Pk가 C-A가 currentavail 내에서 감당 가능?&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;found&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//true : Pk에게 자원 줬다고 보고, 계속 진행&lt;/span&gt;
			currentavail &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; currentavail &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; alloc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			rest &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; rest&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Pk&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; possible &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//false : currentavail 내에서 감당 가능한 C-A가  없으므로, unsafe함&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;rest &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; null&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;먼저 available vector를 복사하여 &lt;code class=&quot;language-text&quot;&gt;currentavail&lt;/code&gt;를 만들어 요놈을 업데이트하기로 하고, &lt;code class=&quot;language-text&quot;&gt;rest&lt;/code&gt;에는 종료되지 않고 남은 프로세스들을 넣습니다&lt;/li&gt;
&lt;li&gt;이제 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;문을 계속 돌며, &lt;strong&gt;C-A&lt;/strong&gt;가 &lt;code class=&quot;language-text&quot;&gt;currentavail&lt;/code&gt; 이하인 프로세스 &lt;code class=&quot;language-text&quot;&gt;Pk&lt;/code&gt;를 찾습니다
&lt;ol&gt;
&lt;li&gt;찾았다면 &lt;code class=&quot;language-text&quot;&gt;currentavail&lt;/code&gt;을 업데이트하고, &lt;code class=&quot;language-text&quot;&gt;Pk&lt;/code&gt;를 종료시켜 &lt;code class=&quot;language-text&quot;&gt;rest&lt;/code&gt;를 업데이트합니다&lt;/li&gt;
&lt;li&gt;찾지 못했다면, &lt;code class=&quot;language-text&quot;&gt;possible&lt;/code&gt;을 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;로 세팅하여 반복문을 끝내게 합니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;이제 반복문이 끝나면, &lt;code class=&quot;language-text&quot;&gt;rest&lt;/code&gt;에 프로세스가 남아있으면 unsafe, 없다면 safe입니다&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이렇게 해서 Deadlock Avoidance에 대해 알아보았지만&lt;br&gt;
위에서도 계속 언급했듯이,&lt;br&gt;
자원 요구 최대치를 미리 알고, 최악의 경우를 상정하여 대비한다는 점이 문제입니다.&lt;br&gt;
너무 &lt;strong&gt;소극적, 보수적&lt;/strong&gt;으로 시스템을 운용하는 셈이고&lt;br&gt;
또한 시스템 내 자원의 양이 &lt;strong&gt;고정되어있음을 가정&lt;/strong&gt;했는데&lt;br&gt;
사실 &lt;code class=&quot;language-text&quot;&gt;semaphore&lt;/code&gt;같은 경우만 해도, 프로세스들이 막 만들고 없앨 수 있어 변동이 존재할 수 밖에 없습니다..&lt;/p&gt;
&lt;h2 id=&quot;deadlock-detection&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#deadlock-detection&quot; aria-label=&quot;deadlock detection permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deadlock Detection&lt;/h2&gt;
&lt;p&gt;Deadlock Avoidance가 너무 보수적으로 자원을 운용한 것에 반해&lt;br&gt;
Deadlock Detection은 꽤나 적극적으로 자원을 운용하는 방법입니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;자원 할당 요청이 들어오면, &quot;일단 줘&quot;를 시전합니다&lt;/li&gt;
&lt;li&gt;이제 정기적으로 데드락 여부를 체크하도록 합니다.&lt;/li&gt;
&lt;li&gt;데드락이란 초기에 두 프로세스에서 시작하여 셋, 넷, ..으로 번지기 마련이므로, 초기 진압을 목적으로 합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/86051c79bf9175eb478c1f7df7f54ee2/3684f/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEh0lEQVR42h2R+09TBxTHbzaT+Wjp6972vt/vvqFgJg7MlCVuyxZnssVkyaKJLtHIJolLfEF8bMgU1InKwymXFkpVYKD2XtpS+oBSQQrUuGcWjf6wf2NXT85v53y/n2/OATwOjKFVb3CbL9QYqv9QVSMMq/gC9STJezDWAWIgTLkRmiAEmpZpRnG6CZsdttndFqsTIHCBYbzBcLMv2Kj4tvr8Daq3zh/cRpC8GybtLsQJoQ4XjGAcQQoUI1GMDJqOIAqCMIBiHM/76xtaaiM7VV+DP7hVEFRRrjX3cIJxIyQEE5CHAD0khrMozvCCz4OQLjcKwSTgAlGKklTf1kBouzfwvqLWcYwoKyFVDrA0C3twpwl3wS4QQWCSJDmalQiKRwkOQmjA6URZzmuimpo/C0RaQvW7FMlnuqi+CIlRNM6gpjlOYTgOulGG4hhW4jjZRFrtHsBiARlGlcTwtsbdsne7P9SsSAFWCMpqLYWzOILW2EEUIVxOyOFy0xRD0wIvBm0O5L2NNsBihWhKFvlQqK45VNskKbUmU5BrWUZQWGHPx7swggr7vV5Jtjg8AifyLOsNNuCktGmTHdiyxYXjPMMoobqmYHiHLEdkyS+Ifhyjd7e0JIZvlYszgz2dvKg43CRJvxGrSpDmfE4IB2w2N45xDC2F63aEIzsZ1qcoIY5VMYIfvH27NJ+pLKYfaDctdnCzDSQYVRC8sqjQgh82D7ZhgxVBaJpm/f5IINxMkqIkqBjCfv7Fl3e1Ad149HQhd7L1kKXGZbFBlhpIksKq7OcEH8OwgLUGQlAOwUXYg7lhGkVZ3ENQrHc4Fvv1Tl9X57nj37UqvGhzQCCE2u2QIIcUb4TnpICqAt09Vy93X+vs6mlrO75371effrLng8amA4cOp2bT8cSw/mDohyMH33l342aLc7PV6XK6cZzmlTDPCYokARMTk7HYiGGksrlcsVAsLy6Vy0tLy0/HJyaHh4cm4kP913r27ftaVEI1TtjqAFmG5cUADKM0QQFra2uGYSQSCW1Ii0ajqVT66fLKH3/+8/r1f3/9/aJUXtUNPTeXNUcdHef3H/h2566PWr9vazt2bP83+4H19fXy29IfJ03U6GhsZGQkFtMKheyrl/++evkindHnstnE2Eg8PprLFa5e/eXkiVM9PVcKhSKwurqWz+cWF0sLCwtzc7OZTHpqajoW1W4PasdO3hm4+8hIPqxWq4VCTtPu5PN5w9Dj8bH29rNHDre+iV0s5ufnC2YX39T8ykqlsvLkfKd28GjfT5fGorGpyspytbqe1KdLpZKp13V9enr68uVLwGw2YxjJdMowsdlsZi43V6ms/v78WXKmfOLsw4NHo91XosnH0zOGPjU5XirNmyneWuSmfhsH+vr7e2/0Xu+9fuNm781bvYOD/fcSicnxifuJ+LVe7dzFodH4PU27a2bu6rxwpfvS+IP79++NZdIz+dwsUH32fHWtulJZe7K8ZIaenc3OpFOZbFbXzSc8TqWSY2NxTdP6B/p+7rrYceZUR/upjjOn29tP/3jh3P8HNbyG8XK+SgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;강아지 CCTV&quot;
        title=&quot;&quot;
        src=&quot;/static/86051c79bf9175eb478c1f7df7f54ee2/3684f/image-12.png&quot;
        srcset=&quot;/static/86051c79bf9175eb478c1f7df7f54ee2/c26ae/image-12.png 158w,
/static/86051c79bf9175eb478c1f7df7f54ee2/3684f/image-12.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위에서 살펴봤던 자원 할당 상태도와 비슷하게 해서, Common Detection Algorithm에 대해 알아봅시다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/44e618decefcbc4a52bb83143c04e7c4/3996e/image-13.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABlklEQVR42j2RW0/jMBCF8/+f9gG0FWgfkVYgFVDLPlFEiQpB2zaFUtDSK00bO4kTOzc7seN4HZAYjUf2pzke69iglEZRRAiJ9cI4zzOlVFmWWEOMk7jBaZpKKSPctJFYR4LCkHNumG/wbByeT1B75P1+hH83iarK57V/NgrO7bBto9Oh35shSIrLMbya4u5z2Jn4bTtY+LlxZYPWPf5lRceD4KDv384zJdjDP/gJ8fE9+mkGpyNEuQyS4nUN3h3/feu5mDIujcvh7tAMjwaoZXo/euD6jaiqMF+cgzv/aBC0TP+w751YkItKVrzihRSlzoqzupbG0wfpTLw/T153vL8Yua+AKikWgHRs2B27XRtcDHfWkkRpYc7cx0VozZE1D/ozuI9yo67rLImbTGP66dZX0CzVUNc8TVRdJax6WJLrKehNwc0LuJsTN+bGd7cQgguhfWaMFUXRHLnQG+0qZUxz/WaaxixLCppVotSSRqyH66p/YbVeQwgDhPZ7d7laAQA2m42Gzm633TofW0ff+DVJK+pa/Qeskq5xj9BTRwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Request matrix&quot;
        title=&quot;&quot;
        src=&quot;/static/44e618decefcbc4a52bb83143c04e7c4/f058b/image-13.png&quot;
        srcset=&quot;/static/44e618decefcbc4a52bb83143c04e7c4/c26ae/image-13.png 158w,
/static/44e618decefcbc4a52bb83143c04e7c4/6bdcf/image-13.png 315w,
/static/44e618decefcbc4a52bb83143c04e7c4/f058b/image-13.png 630w,
/static/44e618decefcbc4a52bb83143c04e7c4/3996e/image-13.png 648w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;조금 달라진 점은, Claim Matrix &lt;strong&gt;C&lt;/strong&gt; 대신, &lt;strong&gt;Request Matrix Q&lt;/strong&gt;를 사용합니다.&lt;br&gt;
이 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;Q_{ij}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.9694em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;Q&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;ij&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는, &lt;em&gt;프로세스 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;가 자원 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;j&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.854em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 요청한 뒤, 아직 요청이 받아들여지지 않은 자원의 양&lt;/em&gt;입니다.&lt;br&gt;
OS는 여러 사정으로 인해 자원 할당을 지연시킬 수도 있지만, 이게 실제로 &lt;strong&gt;데드락이 발생&lt;/strong&gt;하여 무한히 기다리고 있는 상태일 수도 있습니다.&lt;br&gt;
이 대기 상태의 원인이 데드락인지, 아닌지를 가려보자 하는 방법론입니다&lt;/p&gt;
&lt;p&gt;Common Detection Algorithm은, &quot;확실히 데드락이 아닌 프로세스에 &lt;strong&gt;Mark&lt;/strong&gt;&quot;합니다&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;allocation matrix가 전부 0인 프로세스는 바로 &lt;strong&gt;mark&lt;/strong&gt;해줍시다.
&lt;ul&gt;
&lt;li&gt;hold-and-wait 조건 생각 나시나요? hold하는 자원이 없으면 데드락 조건에 부합하지 않습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;이제, available vector를 카피한 &lt;strong&gt;W&lt;/strong&gt; vector를 만들어서 이를 이용해 available을 시뮬레이션합시다.
&lt;ol&gt;
&lt;li&gt;mark되지 않은 프로세스들 중, &lt;strong&gt;W&lt;/strong&gt;값보다 &lt;strong&gt;Q&lt;/strong&gt;값이 작거나 같은, 즉 대기중인 자원 요청을 즉시 받아들여 할당해줄 수 있는 프로세스를 찾아봅니다.&lt;/li&gt;
&lt;li&gt;P3이 가능하므로, 이 P3 또한 &lt;strong&gt;mark&lt;/strong&gt;합니다.&lt;/li&gt;
&lt;li&gt;mark한 프로세스 P3이 종료되어 자원을 반납한다고 생각하고, &lt;strong&gt;W&lt;/strong&gt;를 업데이트합니다. (&lt;code class=&quot;language-text&quot;&gt;W:[0,0,0,0,1] -&gt; W:[0,0,0,1,1]&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;위 과정을 계속 반복할 것인데, 지금 &lt;code class=&quot;language-text&quot;&gt;W:[0,0,0,1,1]&lt;/code&gt;상태에서 &lt;strong&gt;mark&lt;/strong&gt;할 프로세스가 더이상 존재하지 않습니다.&lt;/li&gt;
&lt;li&gt;따라서 P1, P2가 데드락인 것 같네요. 조치를 취해야 하겠습니다&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이를 &lt;strong&gt;resource allocation graph&lt;/strong&gt;로 그려보면, 다음과 같습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8cd901e1b56ecc3ee836bf50fed49b68/442cb/image-14.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 92.40506329113923%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACZElEQVR42o1U227UMBDN/38H4gWpRZUo8AdIPFSqKpCQ2CTdhWwum9hx7rF9mHHWUbaLKK5ma8+Mz5y5xAFeWVprpGnqZJ7nKzvrjsejs7Nv8Bpg3/eI49hJ13VX9nEcEUWRs/M+sKT0csHMWEzThJmi1qqBahq3Z502ZvVv2xZJckRD/y39/YUhqfXkBNae05pgCGQxk31m+wxLOikFJmJm9GIPWirLswLiGlD9jLobEQrtznTEoIGfpSadQa8XHftHZP+dlciFQiQtwkqjI1uQUlk+xxr3kUHaaJx6i/vQ4COdix5O3Jkkpz3Lp9jg7gfVNhPIWosPO+38GSvI6Of2Mcfbr79wVBMkRbl9Erh5LFFR1uUI3DyVeP9Nun1GQd89pHjz5RkZ+RfD4n/3XaEgezBTmeJUIBEdilKg7QekasS+qNHQfpwNImKS0uVhMiilQloPKDpKcZjQjTMSyWcDMi9NUapeZ6xtG9RV6ZrTdi3yLHPFN9SEU1G4Lq+Ns0sj5mlcW+oAB+qSnzEeTh4RKSWkkMjznAI2EHQehsHJEtyem24xUhC7BeSBrOvaKZiBcyLdfr93+sPhACGEGx0e9HWEzl8Kk7hgyAB8wQMZN18LoyRJUFCqp9MJDTFnG/v45YZ/80mug11V1fIVUDSefj6z8GXWM9MlfeV8PCuf0RUgX+DLLBk1oizLcwOw1orrzIw5kAfcsr0AZFbMgOvGL8e2Th7Q14xB2Y8DboNeAHKN/KuxTeElqLcxIPvz03VVQ3biqLvdztXoX2vLlIOHYXiRdrB913zB/2cxMJfp5Rv5B8mDdYcMEPQnAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Resource Allocation Graph 3&quot;
        title=&quot;&quot;
        src=&quot;/static/8cd901e1b56ecc3ee836bf50fed49b68/f058b/image-14.png&quot;
        srcset=&quot;/static/8cd901e1b56ecc3ee836bf50fed49b68/c26ae/image-14.png 158w,
/static/8cd901e1b56ecc3ee836bf50fed49b68/6bdcf/image-14.png 315w,
/static/8cd901e1b56ecc3ee836bf50fed49b68/f058b/image-14.png 630w,
/static/8cd901e1b56ecc3ee836bf50fed49b68/442cb/image-14.png 752w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;검은 색 화살표는 할당(hold), 회색 화살표는 요청(request)입니다.
P1과 P2 사이에 &lt;code class=&quot;language-text&quot;&gt;r1-&gt;h3-&gt;r3-&gt;h4&lt;/code&gt;와 같은 &lt;strong&gt;circular wait&lt;/strong&gt;이 발생했고, 데드락에 빠졌음을 알 수 있습니다.&lt;/p&gt;
&lt;h3 id=&quot;데드락-발생-시-조치&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8D%B0%EB%93%9C%EB%9D%BD-%EB%B0%9C%EC%83%9D-%EC%8B%9C-%EC%A1%B0%EC%B9%98&quot; aria-label=&quot;데드락 발생 시 조치 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;데드락 발생 시 조치&lt;/h3&gt;
&lt;p&gt;그럼 데드락이 감지되었다면, 어떻게 조치할 수 있나요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 360px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e84cd77edb5853efb43acfcfc198d7ef/f21e7/image-15.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAClklEQVR42j1U2XLaQBDU/39S4opjbhAIBEhcBgzoWq1WEraT10n3qCoPKmA029Pd04v3/cikDvdSR0dpLzf5a500+O7WO6195aV83TNptgep8Twvd/mDnvZ4kfb9Ks3hLN+Zkc9bIs/jVbx6d5KsN5PSX4tZrMXGB8l+j7vaHLVlJOUqEjMJxExXUuK33ezRH4oJNmLxWz/XsdggEs+BRT6YSXtPxAFcXwLIgmGDqUV/hkGhlKjX5w9xMfpRq/DehLHUYJmPAx1ehTvxPtNC6uNZ0peB5MM5pmyk/XhIiQM5WNnVFox24iA360/xzJRNe0/FvE0lfR2KmYfSYFhzgmS3e5cMQGx0+7MCkqVZgOkW3u7fdZCBJSVqNbyjTL7L3yZgFasyDnfxCR4ChAcqNDg2r2IARkrfchGQVKC5Agu73EL2DZ7GypjDLSxQG9BTY0Eet0SWpJsNfTAJFbSlf9NA2RYY2MAG+pr87KvnFsye8F0X59PjtdQnALaHq6TYaoqmPNh2QKO5JK/YdN9XoApS8sEcfRMdoD1gnCvYCv5d0XOEJWtKhkfjhdImA0o3A19jUQOIvtGzEgCOtvAgpOvDrMI/JqAEY/rp0ch8DEkIdYUIlWBZrbqsOWzO4J0Juow62FNFe8kGEwUvMIg1xsaih1HynknWxeZHD42+etJcb+pRBumcXCI6lJO9jaWAGsboeUv1TPprBK8Xak2DpWqw6WGGLTF/BCpwuAAwY9RgqxzETRvI/ASBMowUNOkhNvtuoTmGa2yaw0XMLPzvIalbHFCTIZ11gnFQxZBDsuEwxKbCU/LK8dZMl3qvNTaWfwZczsgXy2u2RIDhKZdFcDNa6LVjDpOXntZ5p5vrQ73t7vRGrfsHZcnmk/HVEYUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;우뜨캐&quot;
        title=&quot;&quot;
        src=&quot;/static/e84cd77edb5853efb43acfcfc198d7ef/f21e7/image-15.png&quot;
        srcset=&quot;/static/e84cd77edb5853efb43acfcfc198d7ef/c26ae/image-15.png 158w,
/static/e84cd77edb5853efb43acfcfc198d7ef/6bdcf/image-15.png 315w,
/static/e84cd77edb5853efb43acfcfc198d7ef/f21e7/image-15.png 360w&quot;
        sizes=&quot;(max-width: 360px) 100vw, 360px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;데드락에 걸린 모든 프로세스를 중단(&lt;strong&gt;abort&lt;/strong&gt;)해버립니다. : 무식하게&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;backup&lt;/strong&gt;포인트를 뒀다가 그 포인트에서부터 다시 시작합니다. : 처음부터 시작하기엔 아까우니까요&lt;/li&gt;
&lt;li&gt;데드락이 &lt;strong&gt;풀릴 때까지 프로세스를 종료&lt;/strong&gt;시켜봅니다. : 적당히 circular wait 사이클이 끊어질 때까지 종료시켜보면 되겠죠?&lt;/li&gt;
&lt;li&gt;데드락이 &lt;strong&gt;풀릴 때까지 자원을 preempt&lt;/strong&gt;(빼앗기)해봅니다. : 데드락 발생 4가지 조건 중 No Preemption 조건을 깨는 셈.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Deadlock avoidance로 데드락을 막을 때는, 자원 할당을 할 때마다 알고리즘을 수행하려면 부담이 너무 큽니다..&lt;br&gt;
그런데 이렇게 Deadlock Detection 방법은 resource graph만 유지하면&lt;br&gt;
쉽게 둘 or 세 프로세스 사이의 사이클을 감지하여 조치할 수 있어서 아주 굿입니다&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 259px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/55fd3fdfbabc263e71a0c4e316c97b8e/a2ead/image-16.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADYElEQVR42iWN+09aBxiGzz+2LFuyLJ3b0HW6wTITa1et67CxuoyJMgUO93MDzgU4nBtCBVG5KoLcDohUOgyK3IVWWrc2+x+GMXl+ePN9ed4XWFnb0FpsIIzrEFKPOg0oZbQ5jHaHCXdAFINQLEq6MQdjdXEWnA5EEiq9Xjr7eFYuf6FaA9ZBk9qIbRjQTROmNls1d0UEiBJ6K2XBXTBJYw7W5uJstACTDOpiphee/fjLk6e/rzxXrgIaMwpabDoIBy123WgfJrQQoUdIEMI3zFaVEVZsgkurf80vvvjpydzUo5/nFxcM+k07YthmKeCriYlvJ6USqWxcKpNIpVPT07KZmW++n3wgkYw9/O7zB19+PSF5+MPks4VZN6KJ8URmx50PctVk6GPrHFAszqiW5taXZsHVXzH1ilYhHx/74tPPPplfmMNQ5DB+UP27KoonZgjhaTzjY8RtOr/Lv6uXPzRfAwUffhndqse8aZ6gtH9OjY/99lyezxWuGq3h8Hb49t3g+s3t8DaXLbg8XDzAiT5nUzz8r1P9p1EBgrgmTEEmhfyPpzLN8mPVurJ2cdXv9tuNdvOq1W33Ws1Os9Fq1Js+/8tSJppibb3S8W29fP1aBCIO0x5uoDRyr3k5xFrD0ei9M6LfG4xoNzudVrfT6OxFQudn2ZyHOAv7bs4LdfEAKL50Rghd0m0UeWtmzx/YCTbrjV6nf+/ct4yoVS92Q6HayVFOsBYDrkEl3S0fA1FKu4+rK35XeYvM+XnB4ykVS28HN61GeyRfd/v1i6v3N++TyXQ8FjoLC2nWWtqmLo93G4UDIMVCXkjBGpaOaFPZ6zgKenGKKpcrbwbDXndw3e73OoNEImVCoUSQSTrhCGmMU8a2GB2e54GcgKVohDOs7KDKGKFL0AiiVq4tL7J2hLMje5yTtUPzj2SgUn7EoFkOj5LmFGOrJYIfL0+BrAAXePyVlzzdQtO0eR9T+yGlD1oNwMqEQy/ycJZHUwwcd+jCJJjj0SxjTXP2m0q2no0AWR4qCkSRsxY5y4mAnHgwkYOzjEX0oPlRFpADhzHDoRkWipNgjNKlaEj0Uv9elHrlJJDj4aKAFwV7gYdGOyILFbnRBbnLdy8k5TYdUrqCgOV5NM3B+7aNKKUfnKY+1Er/A9pLPlxpqdLaAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;백안!&quot;
        title=&quot;&quot;
        src=&quot;/static/55fd3fdfbabc263e71a0c4e316c97b8e/a2ead/image-16.png&quot;
        srcset=&quot;/static/55fd3fdfbabc263e71a0c4e316c97b8e/c26ae/image-16.png 158w,
/static/55fd3fdfbabc263e71a0c4e316c97b8e/a2ead/image-16.png 259w&quot;
        sizes=&quot;(max-width: 259px) 100vw, 259px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
백안!!!!
&lt;/figcation&gt;
&lt;/figure&gt;
&lt;h1 id=&quot;철학자-문제--dining-philosophers-problem&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%B2%A0%ED%95%99%EC%9E%90-%EB%AC%B8%EC%A0%9C--dining-philosophers-problem&quot; aria-label=&quot;철학자 문제  dining philosophers problem permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;철학자 문제 : Dining Philosophers&apos; Problem&lt;/h1&gt;
&lt;p&gt;데드락 응용문제로 유명한 문제가 있습니다&lt;br&gt;
철학자 문제 (Dining Philosophers&apos; Problem)
(&lt;em&gt;포크 두 개 들고 밥먹기&lt;/em&gt;) 또는 (&lt;em&gt;생각에 빠지기&lt;/em&gt;) 둘 중 하나를 하는 철학자 5명이 있습니다&lt;br&gt;
이 5명의 철학자들은 원탁에 빙 둘러 앉아있고&lt;br&gt;
5개의 포크가 철학자들 왼편, 오른편에 놓여있습니다&lt;br&gt;
그림으로 나타내면 아래와 같습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 324px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5b04ab0cfddc4627775a7fb15240f2a9/67580/image-17.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 98.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZ0lEQVR42pWUyZKCQBBE+/9/xwMRcPTu2YsRAhKCuCOoyOIbyqlplcAxL/RS2Z2VVY1pf1HX9eFwuN1uMr1er1VVlWWpK03THI9HVpRidERQGIZsn8/n3W5XFMV0Ol0ul0xZZAotCALGctATmb0oipIk4RRUsOJ5XpqmEprneRzHq9WKU3rIbG82G6GpcgkSkAX8HjK3QW6f0XTQsfhCFrr4IHNklmXtP+D7vuZi5DMejyeTiZw9wCRyNBph29/NCMZe28YBkDPxiH+Q9/v9R44N6kKOP7LRud1u228ABeUU1VC62Wz2FZma0RHU1ZDtYrGQpvsoXgKo/3q9xiNzOp2w3i79R0iHI95A4CPz+Xxu9/07UItB2k6PJrlcLtzvOI6+IVunDlzXxaDXDgNZh2HBFFUq/EqWZIAeXHXQMa9drOkhq5ME4aK+UFaYIkoysk01vRkShwtBB3TaP5P+m9+3iw4DFtwBmwiUjHMGyScAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;철학자문제&quot;
        title=&quot;&quot;
        src=&quot;/static/5b04ab0cfddc4627775a7fb15240f2a9/67580/image-17.png&quot;
        srcset=&quot;/static/5b04ab0cfddc4627775a7fb15240f2a9/c26ae/image-17.png 158w,
/static/5b04ab0cfddc4627775a7fb15240f2a9/6bdcf/image-17.png 315w,
/static/5b04ab0cfddc4627775a7fb15240f2a9/67580/image-17.png 324w&quot;
        sizes=&quot;(max-width: 324px) 100vw, 324px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;어떤 철학자가, 양 옆의 다른 철학자들이 사색에 빠진 타이밍에&lt;br&gt;
잽싸게 왼쪽 포크와 오른쪽 포크를 둘 다 집어버려 식사를 시작하면 굿이지만&lt;br&gt;
운 나쁘게도.. 철학자들이 번갈아가면서, 자신 왼쪽에 놓인 포크를 집고, 왼쪽 포크를 집고, ...&lt;br&gt;
이렇게 되면 각 철학자들이 왼손에 포크를 들고 오른쪽 포크를 기다리며 다같이 굶어 죽습니다...&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4a3b513ba1d1ea88d5a3e419a3fb860f/5a46d/image-18.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9ADg1J19USG5gUmVaT2deUmxkVGdfUmBYTWZ3To2laHN1X3ZyZGxqVbCqkbiYh6mWalxdO1xTQlpNPHFmVgBBPS9fVUNsWkZqXU96bFtuZFVbVkp5cWJrb05cfzptd1uAdVlKRjArMSt+PDDij3rFt5EzKxpZTz/Gu54ARD0zWlJFVFBCZFpPYFdMVFFFdGVRknNji3Jtemdcg31ejYlifHtgQ0IwW0g2snBfrY54cWdWoZqAiYFnAGZmYHBvaG5vaGJjW0dGQENDO29aTaR+a5Z3a5BxaYxtYX19WYSBX5WGaYqCY3dzYF9VRN7Qtq+lhZaPcgBtbm1lZ2ZhY2FUWFNCQzwzNTRJODGVblinf3CmgHuTZ2COdWZ5bl2Jgm9sZFBURTbEuaHo3MLcyqK+sJMAY2NgcHFqdnZucW1jRUU/QDs7fV1SkmpUpHxstpGLlmxnnn9wo52KfXJkQTkvh31qyLmg8enc6+DKwbCaAKmii6eiia+miX51ZDU2MywoJ4BdVp92Y6R+aa+MgaN7cqeKdrq0lmRbTmxmXJGOg4t+bMa7rP//+u3j1QCqoIKelHuflXZZU0cfIB8WFxUWEQ57V0fGnIG6k3+og3Wrm5K2tKmroYqNhHV6dGmYlIaupJHi2cn38+wAopd+pJl9eHBaNDAqKywqIyMhExQUTDgvroRrso94mHhio5idusHmwsLIm5R/em9ndGxhkI1+2NDB8unfAJ+Xfp2WfEU/MiAgHT48MDY2Lmdpdnt8hpKPmI2LiYCBgZORl2NkaURFQZCQjYd8bod8cHpxZo+Jgd7XygCalX2Vim8/OCwNDAwgICNwdYypstazu+G8xOu+xey+xezK0/mSnLZjaoLF0PW9xNiXjoiPgnSHfHGalovoOjXQEZk4NwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;허기&quot;
        title=&quot;&quot;
        src=&quot;/static/4a3b513ba1d1ea88d5a3e419a3fb860f/5a46d/image-18.png&quot;
        srcset=&quot;/static/4a3b513ba1d1ea88d5a3e419a3fb860f/c26ae/image-18.png 158w,
/static/4a3b513ba1d1ea88d5a3e419a3fb860f/5a46d/image-18.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;참 내. 양보들 좀 하지.&lt;/p&gt;
&lt;p&gt;이런 일이 발생하지 않도록, 아래와 같이 밥먹는 규칙을 정해줘야 하겠습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;먼저, 포크를 동시에 집지 못하게 &lt;strong&gt;Mutual Exclusion&lt;/strong&gt;을 보장해야 할 것이며&lt;/li&gt;
&lt;li&gt;철학자들이 굶어 죽지 않게 &lt;strong&gt;데드락, starvation&lt;/strong&gt;이 발생하지 않게 해주어야 함&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;이렇게-하면-데드락이-발생해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EB%A0%87%EA%B2%8C-%ED%95%98%EB%A9%B4-%EB%8D%B0%EB%93%9C%EB%9D%BD%EC%9D%B4-%EB%B0%9C%EC%83%9D%ED%95%B4%EC%9A%94&quot; aria-label=&quot;이렇게 하면 데드락이 발생해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이렇게 하면 데드락이 발생해요&lt;/h2&gt;
&lt;p&gt;Mutual Exclusion을 보장하기 위해 Critical Section을 구현해야 하니&lt;br&gt;
semaphore를 이용(semaphore 또는 monitor에 대한 자세한 설명은 &lt;a href=&quot;https://sungpaks.github.io/mutual-exclusion-by-os/&quot;&gt;여기&lt;/a&gt;)하여 간단히 아래와 같이 쓰려고 할 수도 있겠습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;semaphore fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;philosohper&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;think&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//왼쪽 잡기 시도&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//오른쪽 잡기 시도&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;eat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//냠&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//오른쪽 포크 내려놓기&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//왼쪽 포크 내려놓기&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;parbegin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;philosopher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;philosopher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;philosopher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;philosopher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;philosopher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그런데 이렇게 작성하면 &lt;strong&gt;데드락이 발생&lt;/strong&gt;해버릴 수 있습니다...&lt;br&gt;
위에서 말했던 것처럼, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번째 철학자가 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번(왼쪽) 포크를 집고, timeout되는 과정을 반복하면&lt;br&gt;
모든 철학자들이 왼손에는 포크를 들고, 옆 철학자가 왼 손에 들고 있는 본인 기준 오른쪽 포크를 기다리며 교착 상태에 빠져버립니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 213px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a403dd66b705cb32626223e944e723ae/3cb16/image-19.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 110.75949367088609%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE20lEQVR42hWT+1MTVxzFl0A2G7LZZN979+4jJOT9IgmElJAEQiIhxkQqAcQG8AEEBAQUkKEgIIODWipap6PT0aKdjh3tYzrVTmc6/lL7e/+kLnO/v37OmTn3HMRqFVgO2O2tUGphWFE7moMWijMRVkEQeQAUm9LSYoOSKACOYaytXn+muysZC3AcjVhJ0UJyJM1TlEhYNIbGjIQeRVFMj2EGgba4bSAVD/YkE4LA0jTh8vtTqe5Um0cCHILhtMFoMTRbrKQmzDMsi5twnQ7BjYaMT14odT9eGn9/vPXu6aHP46BoQuMpykKSBMdTSLOZJimOZQWW0UBWBECDDag+4QY3Sm1L5dTtkeKz5dpvR1uztRErZZZkQQQslHgRcgjHCQzD0QzLAygCAYggbJNjqnAuBFfPxvdqpePF2s5Qz5ut+T+eH4eDPiCwpzDkNBVEI1mW5zQ5SVUVTVbsC7iXc7HBNjCfDRxeLh/NDi/nE0+nax+OdrvbIwJPqwqQJUGCPCJqhhBqkUIoC7xAURSB41FJGIwos7nAzljuzqWB9XLvNzMTvx7tOe2KwDOqLEKRh5DVYAVKiqIqkqTgOIE0nD7IC0m7eCEkzfQF16uZ9Wr+5M7yxsy4o0X0eu1up+J12WTIIJoh0IQAIMxWmqS13Jw2cLava/FiqV6IX0u7JtK+xaFkvZKZKiTmqr1j/fFL+Wh3u1cSWYTlGFmWSdLShKKdPmcq7M1GAsWwq78zdLi5+ujO8lcLI882Zo7np8cV+7DHM/BZqC/eCnlKgrQWGENYLLpGxIA14rix2WTQo/qmhqYGna7clX6ys//nzz9++vj+4cpa2USXW9xdsfZAwC0IVpbBEYJiaZa3OxwQiia8GUX1mNEgMUQ6qNaLibuTlVcHt/46eXq1WpEoSgWcw+Vsj4TiAc9QeQCx0pRW4FaXU7GpGGZEGnQyax5N2Ou94Z3a2Zeb9Vdb9Q9P7v79+tt4PIibMW8olsv21YeK9zaXEIomWY5nOc2facRQ0mwcCMrX0p7JTGyumN0c6n+xNv2wPvbd9trB7RtaK2XIi4DJZTpGKnmE5VkgypL2zZClCJNKmUZj9vlc5FYltTs5uFFJ7Q9n3x6svd5e+vfNi4DfLYqMqohOm5hLdiCipGpzAxA4VFBt94ZE64CPv94bvlcrPV+5fKu/c7En+nZ7+Zf9lf/evbxQzGur1MzdduV8fw8iAOm0YarWEziS8Be8ct7NzfWFtqrZ7ZH+qWT4em/ysHbxZH3u96+38sk44GhFFVx2uT/VgdAMJwAgShA1YqTR1KmyJT+Yyvq/vJjd+6Iwl22/nkvfrpR+2lv55/Ujn8NGU4SqChBQ2XgI4YTTDZMEEXLbbEBsbsI6ZWslCGbPtK1V0xvVnoOJ8pv91U8/PLp/cyqTCMdCWj2ByyF5nDbESln1Bj1lMReSoVTUl07EKkl/pV0dTns+/8xzZSA6N5xZHOndmCpeOpccK3XXKonRYjwZdZImDGnU63R6nQnHBnsik4Xo9JmOueHCWq1481xiqZy82htZPJ95sjA8kYzXwr5rHbEzNlsmElkej6yMcghqaNKjWq9REcfZZpwxoPlI/Gh398HqwoPZoXtXiidbMx+/f/B4dbVgZna6+sZ8kYDLOVbsvF9v+R+jDhal/amDYwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기다릴게..&quot;
        title=&quot;&quot;
        src=&quot;/static/a403dd66b705cb32626223e944e723ae/3cb16/image-19.png&quot;
        srcset=&quot;/static/a403dd66b705cb32626223e944e723ae/c26ae/image-19.png 158w,
/static/a403dd66b705cb32626223e944e723ae/3cb16/image-19.png 213w&quot;
        sizes=&quot;(max-width: 213px) 100vw, 213px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;circular-wait-prevetion으로-해결해봐요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#circular-wait-prevetion%EC%9C%BC%EB%A1%9C-%ED%95%B4%EA%B2%B0%ED%95%B4%EB%B4%90%EC%9A%94&quot; aria-label=&quot;circular wait prevetion으로 해결해봐요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Circular Wait Prevetion으로 해결해봐요&lt;/h2&gt;
&lt;p&gt;위에서 살펴본, 데드락 발생 4가지 조건 중 Circular Wait을 깨뜨리는 방법으로 간단히 해결해볼 수 있는데&lt;br&gt;
먼저 포크에 번호를 다 붙입시다. 0~4번 포크로&lt;br&gt;
이제 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번 철학자는 포크를 집을 때, 포크 번호가 작은 것부터 집도록 합시다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;fork[0],fork[1],fork[2],fork[3],fork[4]&lt;/code&gt; 존재&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;0번 철학자 : &lt;code class=&quot;language-text&quot;&gt;fork[0] -&gt; fork[1]&lt;/code&gt; 요청할 예정&lt;/li&gt;
&lt;li&gt;1번 철학자 : &lt;code class=&quot;language-text&quot;&gt;fork[1] -&gt; fork[2]&lt;/code&gt; 요청할 예정&lt;/li&gt;
&lt;li&gt;2번 철학자 : &lt;code class=&quot;language-text&quot;&gt;fork[2] -&gt; fork[3]&lt;/code&gt; 요청할 예정&lt;/li&gt;
&lt;li&gt;3번 철학자 : &lt;code class=&quot;language-text&quot;&gt;fork[3] -&gt; fork[4]&lt;/code&gt; 요청할 예정&lt;/li&gt;
&lt;li&gt;4번 철학자 : &lt;code class=&quot;language-text&quot;&gt;fork[0] -&gt; fork[4]&lt;/code&gt; 요청할 예정 (4번과 (4+1)%5=0번인데, 번호 작은 포크부터 요청하기로 함)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이제, 데드락이 발생했던 상황인 포크 하나 집고 time-out 당하는 경우를 생각해봅시다&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;0번 철학자가 먼저 &lt;code class=&quot;language-text&quot;&gt;fork[0]&lt;/code&gt;을 집은 경우 :
&lt;ol&gt;
&lt;li&gt;이후 1번이 &lt;code class=&quot;language-text&quot;&gt;fork[1]&lt;/code&gt;, 2번이 &lt;code class=&quot;language-text&quot;&gt;fork[2]&lt;/code&gt;, 3번이 &lt;code class=&quot;language-text&quot;&gt;fork[3]&lt;/code&gt;을 집게 되어도, 4번 철학자는 &lt;code class=&quot;language-text&quot;&gt;fork[0]&lt;/code&gt;을 집기 전에는 &lt;code class=&quot;language-text&quot;&gt;fork[4]&lt;/code&gt;를 집지 않을 것인데, 이미 &lt;code class=&quot;language-text&quot;&gt;fork[0]&lt;/code&gt;은 0번 철학자 손에 있습니다.&lt;/li&gt;
&lt;li&gt;그럼 &lt;code class=&quot;language-text&quot;&gt;fork[4]&lt;/code&gt;가 남아있으므로, 언젠가 3번 철학자는 &lt;code class=&quot;language-text&quot;&gt;fork[4]&lt;/code&gt;까지 집어들 수 있고, 식사를 할 수 있습니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;4번 철학자가 먼저 &lt;code class=&quot;language-text&quot;&gt;fork[0]&lt;/code&gt;을 집은 경우 :
&lt;ol&gt;
&lt;li&gt;0번 철학자는 &lt;code class=&quot;language-text&quot;&gt;fork[0]&lt;/code&gt;을 집기 전에는 &lt;code class=&quot;language-text&quot;&gt;fork[1]&lt;/code&gt;을 집지 않습니다.&lt;/li&gt;
&lt;li&gt;다시, 남은 철학자들이 하나 집고 timeout, ...과 같은 상황이 발생해도, 3번 또는 4번 철학자 둘 중 하나가 &lt;code class=&quot;language-text&quot;&gt;fork[4]&lt;/code&gt;를 집을 때는 이미 포크를 하나 집어든 상태이므로, 식사를 시작합니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이런 식으로 해서 데드락을 해결해볼 수 있겠네요&lt;/p&gt;
&lt;h2 id=&quot;밥-먹는-공간은-따로-분리하고-인원-제한을-둬요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B0%A5-%EB%A8%B9%EB%8A%94-%EA%B3%B5%EA%B0%84%EC%9D%80-%EB%94%B0%EB%A1%9C-%EB%B6%84%EB%A6%AC%ED%95%98%EA%B3%A0-%EC%9D%B8%EC%9B%90-%EC%A0%9C%ED%95%9C%EC%9D%84-%EB%91%AC%EC%9A%94&quot; aria-label=&quot;밥 먹는 공간은 따로 분리하고 인원 제한을 둬요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;밥 먹는 공간은 따로 분리하고, 인원 제한을 둬요&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a8e6897a79d1fd19f0ee4a4a9e89d923/d67fd/image-20.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.21518987341771%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABtUlEQVR42o2UR4/CQAyF5///HO4IceCAkOBGDSX0GkpooXn1GTkbIjZaS2bCzPj5+dmJe71ecjweJYoiWa/X6tvtVhaLhez3ezkcDrLb7eRyuegahqFkmeNnuVzGF0lgfj6fdd+cBOYkwiGDc36/39+AHPAHez6fusJoMplIu92WwWAgrVZLms2m1Ot16Xa76p1OR3zfl+l0qlVtNps3IKX0+30JgkBL5qDRaMjpdPooB9YkxHm2PezxePwCot98PtcsvV5PxuOxMoPBarWKNU6DGxhGhdx1tgngaDTStVaraYloyzkVwJ4A9IP57Xb7SAAgjXTpcmgEq+d5UqlUZDgcxsFojXblcllyuZzMZrMPQMi4dNsB4xAtAYBVsViUfD6vzTFDL4BpXiZgUgKCMEokGAnQ+Xq96j4y2B2qyAQkkAAu0hDArIHs41RAJV81TAPSCJghAWUxa6al3SkUCjqHxpCkLtn6b4BmTECpVNJ9gjmrVqtxyab7nwwZD+bPDJZ0mBm14U8OOIA62GRCL8aF7PYhoLvs/dd4U9DVwQIQVnvx7RlQLqENM4eOrMlnmwZ7034A4uOA623fknkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;밥먹는 공간은 따로&quot;
        title=&quot;&quot;
        src=&quot;/static/a8e6897a79d1fd19f0ee4a4a9e89d923/f058b/image-20.png&quot;
        srcset=&quot;/static/a8e6897a79d1fd19f0ee4a4a9e89d923/c26ae/image-20.png 158w,
/static/a8e6897a79d1fd19f0ee4a4a9e89d923/6bdcf/image-20.png 315w,
/static/a8e6897a79d1fd19f0ee4a4a9e89d923/f058b/image-20.png 630w,
/static/a8e6897a79d1fd19f0ee4a4a9e89d923/d67fd/image-20.png 670w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이런 식으로, 밥 먹는 공간과 생각하는 공간을 따로 분리한 뒤&lt;br&gt;
밥 먹는 공간에는 4명까지만 들어가게 하면 어떨까요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/233e866e6071aed6bb44f85cd6f8bfa1/5a46d/image-21.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaElEQVR42i2RTU8TURSGZ2eMaAy0nenMvfNx79w700Jb5numtLFU6AIaQuQj0ZLUAoEmVIPyUWjACCKBiFEXRhMTXLhwQYgLICYuXPhD/AHGH+FFPXlyVifnvO97uD4Qr5bCuXsTtiZ5WHYx9HTgENnUVASBrihZJOcNOSTA19mA6Kj8sN1b8bI5hedI7EbtTnVns52FvKUBG8k5TRL5GC9cViyRuNbVRSU+NLBHtcDULRXutNe/nJ88aDY4B0ELSbYm+DrbLeepktNAPMEneCEWjxMVppGChJ6QAg+zAdaFYSc9VgrKlsnloGApTIxkq2JOlVAyJgoJDIAqxhdGCxeHK583GyNOr0u0wMCMyCQeRS5SfYw4SxPZZffvVibYVJMG5HcnK/szIz+OVs73H71sjI9apqdLIZUDAiMq5SmIDBAQkcsqyX5VcnXFwdDWgIdgkKZH81Nftxa+Hyyfbswet2q3M9TX1ZCikOLIwPlLSGQQzsWSpSSyUreDxIE+krf6h4cqe4v1T63p07X6+/mJzlg5ojAgLPB/wFCHecpeALiMlBgbLDZn55YWF1tLrY3O1lq7015df74wszs1tD9VvWUSR1cCgv5DMSOkOlPBmUL33Wrp+N3u3tPlpWZtY6X59vWzxw/vV8p+kJYny9kUUU2MIqKEOsjrMMQg1KWIRYAlLiUmayN9F8ejr7YHX3RKrbrXavhvnpTOPk5/O1n9cFj1+9WbPbEchpGBIub5EmaeqdA4G8YLdqpYcLMZ08ogpMGUge2MNl8f//3r58He9vWrV3iBTyvJoikPGErR0AqGwogo+ANCUJV1mdFobgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;함꼐 갈 수 없습니다&quot;
        title=&quot;&quot;
        src=&quot;/static/233e866e6071aed6bb44f85cd6f8bfa1/5a46d/image-21.png&quot;
        srcset=&quot;/static/233e866e6071aed6bb44f85cd6f8bfa1/c26ae/image-21.png 158w,
/static/233e866e6071aed6bb44f85cd6f8bfa1/5a46d/image-21.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그럼 4명이 포크 5개를 공유하니, 누군가는 포크를 두 개 집을 수 있습니다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;semaphore room&lt;/code&gt;을 새로 도입하여 이를 구현하면 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;semaphore fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//포크는 여전히 다섯 개&lt;/span&gt;
semaphore room &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//밥 먹는 방에는 4명만 들어오세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;philosopher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;think&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//생각은 방 밖에서 알아서 하세요&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;room&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//밥 먹으러 들어가려면, 4명 꽉찼으면 대기, 자리 있으면 들어가&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;//이제 방에 들어왔음&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//왼쪽 포크가 있으면 포크 집어들기&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//오른쪽 포크가 있으면 포크 집어들기&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;eat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//냠&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//오른쪽 포크 내려놓고&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//왼쪽 포크 내려놓고&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;room&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//방 나간다&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이와 같이, 포크를 집고, 먹고, 포크를 내려놓는 일련의 과정을 &lt;code class=&quot;language-text&quot;&gt;semaphore room = {4]&lt;/code&gt;로 감싸버립니다.&lt;/p&gt;
&lt;h2 id=&quot;monitor로-해결해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#monitor%EB%A1%9C-%ED%95%B4%EA%B2%B0%ED%95%B4%EC%9A%94&quot; aria-label=&quot;monitor로 해결해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Monitor로 해결해요&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;semaphore&lt;/code&gt;말고도 &lt;code class=&quot;language-text&quot;&gt;monitor&lt;/code&gt;라는 강력한 동기화 툴이 있었죠?&lt;br&gt;
이를 이용하여 해결해봅시다&lt;br&gt;
코드 먼저 봅시다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;monitor dining_controller&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
cond ForkReady&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//포크 동기화를 위한 조건변수&lt;/span&gt;
boolean fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//각 포크가 집을 수 있는 상태인가??&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_forks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; pid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; right &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token comment&quot;&gt;/* 왼쪽 포크 집기 */&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cwait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ForkReady&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//왼쪽 포크 없으면 밖에서 기다려!!&lt;/span&gt;
	fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; false&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//왼쪽 포크 있으면 집어들고, false 체크&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;/* 오른쪽 포크 집기 */&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cwait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ForkReady&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//오른쪽 포크 없으면 기다려!!&lt;/span&gt;
	fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; false&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//오른쪽 포크 있으면 집어들고, false 체크&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;release_forks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; pid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; right &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token comment&quot;&gt;/* 왼쪽 포크 내려놓기 */&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ForkReady&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//왼쪽 포크 기다리는 애 없으면 그냥 놓고&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;csignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ForkReady&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//기다리는 애가 있으면 걔 준다&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;/* 오른쪽 포크 내려놓기 */&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ForkReady&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; fork&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//오른쪽 포크 기다리는 애 없으면 그냥 놓고&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cisngal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ForkReady&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//기다리는 애가 있으면 걔 준다&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* --- 모니터 외부 --- */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; philosopher&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;k&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; to &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;think&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;get_forks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;eat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;release_forks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;void get_forks()&lt;/code&gt; : 포크를 무조건 두 개 다 집고, 모니터를 빠져나온다.
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fork[left]==false?&lt;/code&gt; 누군가 왼쪽 포크를 쓰고 있으니, 기다리자.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fork[right]==false?&lt;/code&gt; 누군가 오른쪽 포크를 쓰고 있으니, 기다리자.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;void release_forks()&lt;/code&gt; : 포크를 두 개 다 내려놓고, 모니터를 빠져나온다.
&lt;ul&gt;
&lt;li&gt;내려놓을 포크를 기다리던 애가 없다면, &lt;code class=&quot;language-text&quot;&gt;fork[left]=true&lt;/code&gt;와 같이 그냥 내려놓는다.&lt;/li&gt;
&lt;li&gt;내려놓을 포크를 기다리던 애가 있으면, &lt;code class=&quot;language-text&quot;&gt;csignal&lt;/code&gt;로 포크를 넘겨준다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 하면 &lt;strong&gt;데드락이 발생하지 않는다&lt;/strong&gt;.. 입니다만, 저희 교수님께서 말씀하시길&lt;/p&gt;
&lt;p&gt;왜 그렇죠? 처음에 데드락이 발생할 때도, semaphore로 왼쪽을 잡고, 아니면 기다리고, 그 다음 오른쪽을 잡고, 아니면 기다리고, 의 과정을 거쳤습니다&lt;br&gt;
그런데 여기서도, 왼쪽 포크 있으면 집고, 아니면 기다리고, 오른쪽 포크 있으면 집고, 아니면 기다리고, 의 과정을 거치는게 비슷한 것 같은데요&lt;br&gt;
라고 질문하셨습니다.. 잘 생각보라고 하시네요&lt;/p&gt;
&lt;p&gt;또한&lt;br&gt;
일단.. &quot;monitor는 그 자체로 내부가 Critical Section이다&quot;, &quot;프로세스 혼자서만 들어간다&quot;, 같은 설명은 답이 되지 않을 것 같네요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;void get_forks()&lt;/code&gt;함수를, &lt;code class=&quot;language-text&quot;&gt;void get_left_fork(), void get_right_fork()&lt;/code&gt;와 같이,&lt;br&gt;
왼쪽 포크 따로, 오른쪽 포크 따로 집게 함수를 분리하면 데드락이 발생합니다.&lt;br&gt;
모니터 자체의 특성으로 인해 해결되는 것이 아니라는 뜻입니다&lt;br&gt;
라고 하셨는데&lt;/p&gt;
&lt;p&gt;교수님께서 주신 힌트를 종합해보면, 한 마디로&lt;br&gt;
&lt;strong&gt;포크를 집으려다, 또는 하나 집고, CPU를 뺏겨도, 누군가 내가 집을 포크에 손 대지 못한다&lt;/strong&gt;&lt;br&gt;
정도로 정리할 수 있을 것 같습니다&lt;br&gt;
Monitor에서 &lt;strong&gt;포크를 둘 다 집어야만 모니터를 나온다&lt;/strong&gt;라는 점이 중요한 셈인데&lt;br&gt;
Monitor내에서 time-out당해도, Monitor 내부는 잠겨있어 다른 누군가 포크를 손도 대지 못합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f02bb9d4040baafec6b85094e4f736cc/3684f/image-22.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD9klEQVR42iVS+08iZxSd30zqJtagbhUQhsfwksciKqIVREBmeCiyUCm4K2y11dQ0627SZre6Gje1Tcp7UN5v1IiP7S/13+spXMjNfPe759xz7gzxz7939SZbLpe63e719fXNzc1j997omh+wcyZUXLVCagtObh/ow/uatR3uIk2GIu5fD3/8ZS+6++YV8WZnLRzzn5weFYvF29vbRrNZqlTXV+kh1fAgMyKbFq8HtZE9kScyzITHDPPcuTkNvbpk1KsUcgkR8Ic/fvoMTLVaxfBWu12uNVKp5PnpZ+Y3P+cHwR9/H+XZeDzxVyKeyGYz6WSGzeUsy5Znz74iXPYVlk19efzSarWazebV1VWn00ZcX11XGzXX78F4Mf1w93jb7d7f3z88PCA/PT3ZbLbBwUGAl9qddqdzBWS5XK5UKo1Gs1DIp1KpSqmcZy/ZbLZULuZyuUajAXXIEGgwGAYGBgilQhaPx+G2Xq8DjOuLiwuWZbGCUqmUyWQuLy9zvUAFx1Yv5HI5Z4RDOGzm3Z3Y3d1dXzaI0QQw+sBVKBRABxYowgOI8EZQt5gXnXYL4XZYg/61YqkAnxheq9XQmkgkAOt0OiACDKS46vOiCFN7u9s/xcKEkM/TqJXpdBpgwPrgfga+rznfCzzAUaVcZi/YUDSkkkkIUjipVqsymWyr1Yb5s7MzjAVXMplke4HNFXoBJChq1WqaTTPrTomARzCM0+GwHx8fQxWuAQMAQ6AWR2CKvYCE/gph4fjTkcGg1WmmiM2A1+/zvn37rlGvpzAwkcxmsmhFH2ZibZDTJ8URRez1w8cPNO1cc3uIdQ8dePkyGov+bzJfgC1MyF3kgEc7xAMGcKYXKGLn796/tywZ6RUzodNO+Xxen89zfv4n3sFlhi3lC8We2v7y+18OMgwj4ws5PDy0Wq2mmWlCoVQsLM4FghuhUIimHbTZHHZ7vE5mayvidbsgLxaLHhwc/NyL/f39k5PT11uhFzq1gM8lFowmhZS0r9oZhtFq5VazJeD3z5vmZ2emhQL+2NiIyWR0MQztpG22leVlk9NJO2xLMorkcScIj1BsHeerFJRSJtVplGYe6Z2UmkUS44xBIad43PEFkxEKPC437VydeaEzzRpmdErh5IRapSJCPFFggtRLSKlUqFJKvx197h0ac3DGLcZ5hYIaHeVgsm/Nu+HbYFadKqlILuYpJUJKKoYpIiyWf8cjZ4WkSCyQUSLT2LjrOc/8zYRWrVZPqYa/HrJYll5tRfBb93gVUuGUTCgT8Q3T+s1ggPAIpJt8kU2r0xt0SrlEz+W6KGqBFFCURKvVYPKyxRJ9vY2/1+0Wk7wpCuBJp8MW+T70H6tK9e74US5LAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;취급주의&quot;
        title=&quot;&quot;
        src=&quot;/static/f02bb9d4040baafec6b85094e4f736cc/3684f/image-22.png&quot;
        srcset=&quot;/static/f02bb9d4040baafec6b85094e4f736cc/c26ae/image-22.png 158w,
/static/f02bb9d4040baafec6b85094e4f736cc/3684f/image-22.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 생각해보면, 함수를 둘로 나누어 왼쪽 포크 집는 함수, 오른쪽 포크 집는 함수로 나누면 데드락이 여전히 발생한다는 점이 납득이 갑니다&lt;br&gt;
그렇게 되면 왼쪽 포크를 집은 뒤 Monitor를 나오게 되는데, 이 타이밍에 CPU를 뺏기면, 다른 누군가 포크에 손을 댈 수 있습니다..&lt;br&gt;
결국 &lt;code class=&quot;language-text&quot;&gt;semaphore&lt;/code&gt; 경우와 다를 바가 없어지는 셈이네요&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
이렇게 프로세스 세계의 평화를 지켜냈습니다.. 후&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1b6a742585951ed7d0dfd074d5b16193/7608e/image-23.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.06329113924051%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AHNfN1VDIEhALkxDLVtFG19JJKqikrOsm7CnlpmUj1xcU1BEIEY3GEo5GE5FKj5HQGpeOJN4PYJuPVRJKAB3a0EyOTc3OTY3OzswNTBoViqmiESghEaymD+unDZeWTc4PTtDPCQ+NiNCSEAhKClWTS7Bm0ZuWzEnMjAAPkM3LC4rLy0xQT0+OTs8UlA9ppl+moVWwK1I28hPqplAHyItOToxR0czKzQ4Li8xIyojloNTVE83GCAdAC02LykrKCkrL0A+PU5LRUlKQJGIdIpzO7inYsq+got+PyIhKEA4KExCIygnJi8qJCchE3l4dFdSSDkrEQBALRM6Jg45Jg5EMhlBLhlDMyKIf2eLczygjWiXg1iOfDs+KhNHMBBFLhFHMBNIMBJILg+AeG1nXVBELhcARTgtRzkrQTQsd2k0rZUtdGQ6nJeRnopgnYlYrZlNubCEXVZTPjEiQzQgPTMrOTUxKCMmc3BvYmJiKSoyACQnLiEoLiYpLlpsbKOdVtjERLWoY66jaMi0RMK0VsO3c5iMPT86MEAzHS4uLSYtMAsQHGNkZmZlZQ8THQAXGR8kLDBAQD5JXmhLaHuEg0nPuTPHtES8rmfItD/MtzLZxD6IfkVbV1lFREQrMTYKEB5aXWFxcG4PFSAAMSgRNy0VNiwXNCsTMioSKyYfeXRdvbmm0dbfy8mzzMBu2cZCkYI6YF1aNy4eNS0ZKCELXVlLeXdxLygRADMtIzIqIjEqIC8oHTMqGzMtJlxaWY2NkJianairtp2eo5qXgGhkWVZTTDwzIzMoFishDnNsYZSRjDQqGQA2Njc6OTw7Ojw4Nzo2NTgzNTxqam+rq6yusrW0triwsrWxtsB3eX5bWldCQkI3NjsnJyxvbm6Rj4xBQEKz790KfCPs9gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;평화와 치킨을!&quot;
        title=&quot;&quot;
        src=&quot;/static/1b6a742585951ed7d0dfd074d5b16193/f058b/image-23.png&quot;
        srcset=&quot;/static/1b6a742585951ed7d0dfd074d5b16193/c26ae/image-23.png 158w,
/static/1b6a742585951ed7d0dfd074d5b16193/6bdcf/image-23.png 315w,
/static/1b6a742585951ed7d0dfd074d5b16193/f058b/image-23.png 630w,
/static/1b6a742585951ed7d0dfd074d5b16193/7608e/image-23.png 735w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;치킨 먹고싶네요~&lt;/p&gt;</content:encoded></item><item><title><![CDATA[👥 Scheduling을 어떻게 해야 잘 했다고 소문이 날까? - Multiprocessor]]></title><description><![CDATA[저번 시간에 Uniprocessor Scheduling…]]></description><link>https://sungpaks.github.io/multiprocessor-scheduling/</link><guid isPermaLink="false">https://sungpaks.github.io/multiprocessor-scheduling/</guid><pubDate>Sat, 15 Jun 2024 19:58:58 GMT</pubDate><content:encoded>&lt;p&gt;저번 시간에 Uniprocessor Scheduling에 대해 알아봤는데&lt;br&gt;
계산대가 하나일 때 어떻게 계산을 해야 잘 했다고 소문이 날까? 였습니다&lt;/p&gt;
&lt;p&gt;이제 시대가 발전해서&lt;br&gt;
여러 프로세스(또는 쓰레드)가 하나의 메모리를 공유하는 &lt;strong&gt;멀티 프로세서 시스템&lt;/strong&gt;이 매우 흔해졌습니다&lt;br&gt;
마치.. 하나의 카운터에서 점원이 계산해주던 맥도날드에&lt;br&gt;
키오스크가 등장하여 4개의 계산대가 생긴 것 처럼요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 478px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/36ae2df2b1512a4098b3ec3872ae9c7d/50978/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 138.60759493670886%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAHZklEQVR42iWVaVSU5xmG51/bPz2NYR2YfQGGYZGBGRgYHDbBQRZZhFEUUMQFkEVxD25JPa71iKBEMCoelYhajUujKV20NVqNqeIuRqOoRJukJ2m0P+LVh+mP98z3zXnP9d3Pc9/P+yoaJ6XQUuJm1vg4tq1s5vW/hzn9+z5UWiORtmSscU6ssXbC7W50MU7UpihUOiOBKj2qiLEYEtIxyp6zx3pZ4U1D0VQswMmpTHZbWVZfyevvhrn89wE0ehNhsjEywSVAB5HOLMwJaejCYwRoICBETZA2DFVkIvpoB384to8VU9JRzM51U1+czZTscUz1ZDL8YJCH9wYJi7D6FMYmuolNSCQqKY0IWypGSwyhWgP+QSGM8Q/i12MCRK2O00d7WVQmCr3pbhbPnseS+kY8zhQ+HzjDqxePsDscmKxxRDtcxNgSiXZmYElME2CstEMUKkPwCwzmHYEGhWo4fWQ/bVMzUcyYkMn8aZU0Vc+kLGcCp/p6efPDN2RnZ4kSIxEx8URExWKIiEHj65/Jp3AU4q9U4x+sJlij51R/L6umZY0qdDI1N59ZZV6yRWFP+2Z4+xPl5ZNRioqosfEYw6LQWmyEmGLwC1ITKLAApYqAUWiIliCNkeMf72NhSSqKyWl27KLAW1xKQmwc7y1uQYg01M8lODCIRFcaYZECjU1BE+UUM/QEiiFjApW8GyhlK3UEizknDu9jebkbRUVGAkk2BxWeHHISE5k7q1qAP/H+mpUEB4fgysohOj4FXVQSqlFg6P8d9hNTRn/9Q/UoBXisb6+YMg5FVbaD2LBwNq79gFYxZpInm7dv/kX3hx0oVRoBTsCekonemoTZkYnaYPGBfOUqNYTowwlUmzjSt48FpVLylPFOxprNfHL8Ez492kd6kp0fvnvKCV+4DThc6aR7CrDYUgh3pIuaCJRiQlCo5FBtINQUybsqA/0H99BU5EIxa9J4Ei3h5GW6qSkvJCrMzNOHg1y6+CcMpnBSs7LJzptEcnoOpng3WjEoRKsnWKVFG24hUGsmQGPi4P4e6gpTULRUTibVasYpbhZNLCA2wsKVv53j/u0viI6zUVBWRm1jE80rlpGSX4ZWxk1jDENrMqMxh0np4rJAD/R201Qspiytr8UVaSAnLZOVy9tITnBw/HAvI8/ukZqWRk1dHd3797FkVRsl1TVY7S5fyWqDSUrW+ILtJxHq3bOLuiIBrpMvFyVZyB+XTOe2HaKykK72jfz4/VNy83NpWNBC1+5u2rs6aV6+jLgUt4B0KNXSw9AQ3vHz5zf+Aezd3UVLWQaK9o2bmDfBQXWmjcbKUlwJdtYsW8jPb14ytaIcb2UFO3p2sblzO+m5uagMYQSJ+/5BMnLKYN8a4+/P3p6dLK2YgKJjy1Zm5yUz05NAqTuGGEMoCxtq4b8v8XpLycjOZP32bWQX5svI6XwnjUqrJUQVilqnRaPTEKgMoqe7k0WVuSi6Otpp9k5gbm48c/KduGONrGydx9vXIzQ1zsESHU1OUTHWsTLLegmx9G0UlJCcSEx8HFoBauS9R3K7YkYhiuPH+midXki9J556OWyzbEZWC/DnH5+xum2x5E6LLSmZcKtFgDqfulC1imS3i3FZbvmgBYPZyC4Btk6biOL8XwZYUuulocDBfBluT2I4DdVl/OfVEDs7Nkg8DETZbJJJIzp5NkWYfc+mMBMpaSm40lLlfz1bt25iWfUkFP+8epm2xhpqcuKYl59EgTheKWH/dvgm/Yd2Sd/UcoRFozfoibRGYI2JxGg2oNaqiHPYiLPb8OTncfTIIVor81HcvzPIhhULaMizs0Cug+rxYynPTuLZ0BUGPu1HKdEwWcIIlsYHBPpJv9TEJ8QxY2YVnTs7OPvZOZ69eMbjR/epK5ED9tG9a3SuX+0ruaEgiRlyWXklQnevDvCPC2fQSd/i7bGUFE9k7ZplnDzRz9C9m4w8f8z33z7nm5HHvHz5lAdybdQVSw5vXjrFR9s30ST9aypKpj4viYqMsVw6189Xty7S07WZc6c/5uGdywzdvkLfoT1UVk0nIzODa5cHGHn6gOEnQ9wX4LwSObFPHuzgYM82Vkz30FqcTEuxC296NKcPd/Py8XW+vnuJ4aGrPLl/GW95Eb/41S/xC/DDGm3lwsAJzsu6eP6sKLxJk9eDYq/YfWB3J8tn5tE46rRAi53hHO7+HS++us7dL//MH88c4vKFU5SWeCgpb2bNpltk5RTx18+OcG/wc14M3+fB3Rs0V0hstm/6rczuFlbVldGY7xBjUvGmRNC9ZRUjj67zcPACtTVT2bjuPZoaZpCRVcna90/icLroP7CLV0/u8GToBkMCXDQam9Ut1WxY1cz61lk0i8LRkstTI9myslE2D3JBVKxqW8pHuzoEXIVKHUJVTQ15BSWsW7uUka9v8vzJA27f+ILaIrmXF80pZuvq+WxYXsccj406Gb/p0sMPGqt4PnSNLy+eZduWjb61aMF8IqyRzCwrZe7CanZ82C6OD3Lv1g02LGmgaryd/wFjEqK/Fmp3HAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;키오스크 와장&quot;
        title=&quot;&quot;
        src=&quot;/static/36ae2df2b1512a4098b3ec3872ae9c7d/50978/image.png&quot;
        srcset=&quot;/static/36ae2df2b1512a4098b3ec3872ae9c7d/c26ae/image.png 158w,
/static/36ae2df2b1512a4098b3ec3872ae9c7d/6bdcf/image.png 315w,
/static/36ae2df2b1512a4098b3ec3872ae9c7d/50978/image.png 478w&quot;
        sizes=&quot;(max-width: 478px) 100vw, 478px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 멀티 프로세서 시스템이 되었다면&lt;br&gt;
기존에 프로세서 하나를 상정하고 만들었던 시스템을 그대로 갖다 쓸 수 없는데&lt;br&gt;
다음과 같은 &lt;strong&gt;디자인 이슈&lt;/strong&gt;들이 생겼기 때문입니다&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;각 프로세서들에게 &lt;strong&gt;프로세스를 어떻게 할당&lt;/strong&gt;할까?
&lt;ul&gt;
&lt;li&gt;Global Queue : 각 프로세서들은 새로 실행할 프로세스(또는 쓰레드)를 Global Queue에서 알아서 꺼낸다.&lt;/li&gt;
&lt;li&gt;각 프로세서마다 개별적인 Ready Queue 사용 : 각 프로세서들은 본인들의 Ready Queue에 주어진 일만 한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;실행중이던 프로세스가 BLOCK되면, 스위칭(다른 프로세스로 갈아끼우기)할까? (= &lt;strong&gt;멀티프로그래밍&lt;/strong&gt;을 적용해야 하나?)
&lt;ul&gt;
&lt;li&gt;동기화가 자주 일어나지 않는 경우 : BLOCK되는 것은 보통 I/O작업일 것이니, 스위칭하는게 좋을 듯.&lt;/li&gt;
&lt;li&gt;동기화가 자주 일어나는 경우 : 다른 프로세스로부터의 message를 기다리느라 BLOCK되었을 가능성이 높다.. =&gt; 기다리는 프로세스가 옆에서 실제로 실행중이므로, 스위칭하지 않는 것이 좋을 듯..&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;프로그램 &lt;strong&gt;실행 순서&lt;/strong&gt;를 어떻게 할까?
&lt;ul&gt;
&lt;li&gt;이전에 했던, FCFS, RR, ... 등등의 방법들 중 뭐 쓰는게 좋은가?&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;그런데 사실.. 가장 중요한 것 같이 보였던 1번과 3번 이슈는 사실 별거 아니었습니다&lt;/p&gt;
&lt;p&gt;1번의 경우, Global Queue 방법은 여러 프로세서들이 동시에 집어가지 못하게 Critical Section으로 구현해야 한다는 점이 단점이 될 수 있겠지만&lt;br&gt;
그렇다고 개별 Ready Queue를 사용하면, 누구는 빨리 끝내고 놀고, 누구는 죽어라 일하는 &lt;strong&gt;idle-while-busy&lt;/strong&gt; 문제가 발생합니다.&lt;br&gt;
마치 두 계산대 앞에 줄을 설 때, 각 계산대에 줄을 서느냐, 한 줄 서기를 하느냐, 인데&lt;br&gt;
두 계산대가 합심해서 빨리 계산을 끝내려면 한 줄 서기를 하는게 좋겠죠?&lt;br&gt;
그래서 &lt;strong&gt;Global Queue&lt;/strong&gt;로 사용하자, 라는 결론이 났습니다&lt;/p&gt;
&lt;p&gt;3번의 경우, 사실은 더이상 &lt;strong&gt;순서가 중요하지 않게 됐습니다&lt;/strong&gt;&lt;br&gt;
계산대가 하나면, 전체 Response Time을 줄이기 위해서는 젤리 하나 사는 사람은 먼저 보내고&lt;br&gt;
계산이 오래 걸릴 사람은 비교적 나중에 계산해야 효과적이었는데&lt;br&gt;
이제 계산대가 여러 개 있으니 순서가 큰 의미가 없어졌다는 뜻입니다&lt;/p&gt;
&lt;p&gt;그런데 이제 2번이 문제입니다&lt;br&gt;
멀티 프로세서 시스템이라고 해도, 그 프로세서 개수가 2개일 수도, 100개일 수도 있습니다&lt;br&gt;
또한 동기화를 매우 자주 수행할 수도, 또는 동기화를 아예 수행하지 않을 수도 있습니다&lt;br&gt;
이에 따라, 스위칭을 해야 할지, 말아야 할지가 명확하게 결론이 나지 못합니다..&lt;/p&gt;
&lt;p&gt;아무튼 이러한 디자인 이슈들을 생각하며 이제 Thread Scheduling에 대해 알아봅시다&lt;/p&gt;
&lt;h1 id=&quot;thread-scheduling&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#thread-scheduling&quot; aria-label=&quot;thread scheduling permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Thread Scheduling&lt;/h1&gt;
&lt;p&gt;위에서도 언급한 바와 같이, &lt;strong&gt;프로세서의 개수&lt;/strong&gt;와 &lt;strong&gt;동기화 수준&lt;/strong&gt;에 따라 스케줄링 방법이 달리 적용되어야 하겠습니다&lt;/p&gt;
&lt;h2 id=&quot;load-sharing&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#load-sharing&quot; aria-label=&quot;load sharing permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Load Sharing&lt;/h2&gt;
&lt;p&gt;개별 스레드 단위로 줄을 세웁니다.&lt;br&gt;
그냥 일거리를 쌓아 두고, 알아서 가져다 작업하듯이요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8456c190e94298f99e4d6708ad11aec6/6af66/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVR42gEZA+b8AEZFQFlWTm1nW3hwZIR7cJeKfqiYjbekmrmlmcaypa+Tg3hfTHpxYIF3a4xaTa5iV5mBfvbg3vX3+f///wA+OzZIRD5cWE9wamCFe3CbjoOqmozArZ/Qva/Eq5qBbFt1aFqVcmTEf3T9xcDl08+1rKbKyMKynpPUxLsAQDo1TEQ8VlBKbWlif3Vsl4p+taaaxrSnwaubkHpsm4N1wZqP9c7I9unjzsrEopGDeFxMSzgwbFRJnIBwADs9OURGQ3VxZnlzan53bpSJfaSXi8a1prKml8CwpcGhkrWgkrKklZyFclJBPkI1Mj4xLFVDOUQ7O0o+OQCHcGeceWiCfXR4d3W/t7LXzMPc0sfaysS3oI+fhGh4WkKWdFWKZ0eDZ1BmUz99YUiIaE1mTDJXPiZOPCsAro166J56sJR5koqCj4WAkYiAjoeBpZp3i2lHlnBLq4FSsI1qcmNdYVJIcVtIbFZCaE81XU4/Z08xZlA4AGB2ilhgbLWDZYxxYX9VX0k7PE9VTIV+VrOSZrOOYaNxRX9eQ0FJXHdkVGROPk89MDkpHVxFMn9jQlNIPgAzN0RJUVSEZU9wXlFLMFxnVWJJVVWGcVSviF5/YESDX0qMbFRbVFijhnCFYUZIODBVQSuCYEJuUDNfSjQASVNTMkA0KDs2Ljk8U0xId25hXWJrWFFTp4Rojm5TiWxUhWlXi25OhmFDVjwoOjg4WFZZNDAwZlA5k3xgAIV0X0hVUTNETiUqI0JGOExMSkFLXJF5XGxSPE8+MVtGLUswFX5fOYFtV15PQnNiT2NYTk5BNX5jQ3ZcPACcgX5HTloqLCcdKCAlKSRKSUZFUWdQSkgyN0MpNUsqKTA0KyNQPi1YWV99fIJvZV1PPClVQi+Kd2JdSDIAJTlPGyAeGR8aHSUfGyIiLzU6PkpiMkJcN0VbOURbN0JWLTZJKicrREJIW1peUlFXIiAgXkk0cVhAMicfADUcGBMcGUtGPT89OBQfISkyOTQ+UzU/UjI8Ty04Sz5DU1JRXx8rQTE2R0xMUyooLE1AMUs6KjkqIDMoIq1sNXRAFHyeAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;상하차&quot;
        title=&quot;&quot;
        src=&quot;/static/8456c190e94298f99e4d6708ad11aec6/f058b/image-1.png&quot;
        srcset=&quot;/static/8456c190e94298f99e4d6708ad11aec6/c26ae/image-1.png 158w,
/static/8456c190e94298f99e4d6708ad11aec6/6bdcf/image-1.png 315w,
/static/8456c190e94298f99e4d6708ad11aec6/f058b/image-1.png 630w,
/static/8456c190e94298f99e4d6708ad11aec6/6af66/image-1.png 640w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;모든 프로세서에 대해 부하가 분산됩니다.&lt;/li&gt;
&lt;li&gt;No idle-while-busy : 모두가 똑같이 일하게 됩니다.&lt;/li&gt;
&lt;li&gt;중앙에서 관리하는 스케줄러는 필요 없이, 각 프로세서마다 알아서 Global Queue에서 일감을 가져가면 됩니다.&lt;/li&gt;
&lt;li&gt;Global Queue에는 (당연히도) Mutual Exclusion이 지켜져야 하고, 이에 따라 성능의 bottle-neck이 발생할 수 있습니다.&lt;/li&gt;
&lt;li&gt;또한, 스레드들이 이 프로세서, 저 프로세서를 왔다갔다 하므로, 캐시를 효율적으로 사용하지 못할 수 있습니다.&lt;/li&gt;
&lt;li&gt;간단한 방법이기도 하고, CPU가 몇 개 없는 시스템에서는 그나마 합리적인 방법이기에 자주 쓰입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;gang-scheduling&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#gang-scheduling&quot; aria-label=&quot;gang scheduling permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Gang Scheduling&lt;/h2&gt;
&lt;p&gt;어플리케이션 단위로 줄을 서서, 어플리케이션 내 모든 스레드들이 동시에 함께 작업하도록 합니다.&lt;br&gt;
롤하면서 큐 돌릴 때, 친구들이랑 같이 할거면 5인큐로 한꺼번에 줄 서듯이 말입니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 318px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bb16f32575c6f45e59dbb3da972b95f4/cd2d9/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACbUlEQVR42gFiAp39AFR0olp1knqYuEdxoztroiAxSyBCcDZjnVaFwWKV0mSb1mGa3VSFvkRddzJSdTVRbzJNaTRXe2N0a3mIWAA5W5Ffe6NUXG8pHRdaQEGPZGqBaoRgbIkpNUc3ZJxCjuNMlOJJgsk/U2gtOEIvPEhOXV1TZWB2g1pZaDgAIDRVOTU5VUlGUkE8ZlFNhWxiTCEgQCIkJQsKCwkJNFd/W4zBTYvVNFR3HyYoLzs4U2BBTVc3UV4wRVIvABMqUDUuLEhGUioeH2FUTGxgWBoaGRILDioUFwUAAjg1MEpGRlR9sUljhQEAADE7KjlELkpSPoyQelhiQQBIY42ip7F2fIwgGhxJPjZhV1IeExISCAkODA0LDA0OGRkSHiW9vcPp5+W2ubfZ3dra29jQ1NLv7/Pl5uMAeoymmKe6jJSjYWhzWVdaXU9HMzIzGRkaCgsLDxISDxUYCQwZZVlg5eTj3eLn0dff7/Hx3ODly9LX6ezuAHqNqJmovJ+ru5eisn54dnRqZnd5gW5zemJkaEpLTT4+P05DPGVVTIR9e6uutLvDzdnc3bW/yr7H09rf4gB+kq6bqsCQlaFybGqDfn6TnqmMl6KSnamdrLiAk6J+jZpzdnhpZmFmYV1eXFqGj5TM1d26xtSyvcy8xtIAhZizn6/HgoKKin5+3r3CybC4y62y0LS6wJiIyX5bvZJ+uJSBxG1HrnJQo2ZComA4mIJzeYOQpLDAsb3MAIibtp2uxKu+0Ky5yMvEzcK7xbyyu8G7x8ehj8mUdLSrqrmtqsCPe6yZja6bjKF8WU09LR8lMqGsu666yTgFF318RC5EAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;죽어도 다같이 죽어&quot;
        title=&quot;&quot;
        src=&quot;/static/bb16f32575c6f45e59dbb3da972b95f4/cd2d9/image-2.png&quot;
        srcset=&quot;/static/bb16f32575c6f45e59dbb3da972b95f4/c26ae/image-2.png 158w,
/static/bb16f32575c6f45e59dbb3da972b95f4/6bdcf/image-2.png 315w,
/static/bb16f32575c6f45e59dbb3da972b95f4/cd2d9/image-2.png 318w&quot;
        sizes=&quot;(max-width: 318px) 100vw, 318px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;어떤 어플리케이션 실행에 n개의 스레드가 필요하면, n개의 CPU를 할당해줍니다.&lt;/li&gt;
&lt;li&gt;이제 어플리케이션의 모든 스레드를 다 같이 실행하고, time-out되면 다 같이 나갑니다.&lt;/li&gt;
&lt;li&gt;같은 어플리케이션의 스레드들이 전부 같이 실행중이므로, 동기화로 인해 다른 스레드의 메시지를 기다리느라 block되어도 스위칭하지 않고 기다리면 됩니다.&lt;/li&gt;
&lt;li&gt;어플리케이션 단위로는 Time Sharing으로 실행합니다. (= Round-Robin으로 번갈아 실행)&lt;/li&gt;
&lt;li&gt;이러려면 어플리케이션의 스레드를 모두 한 번에 끼울 만큼의 프로세서를 가지고 있어야겠죠?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그런데, 어떤 그룹(어플리케이션)은 스레드를 한 10개 가지고 있고,&lt;br&gt;
어떤 그룹은 스레드를 단 한 개 가지고 있을 수 있습니다&lt;br&gt;
그런 경우, 만약 프로세서가 10개인 시스템이라면, 스레드가 9개 이하인 그룹이랑 스레드가 하나인 그룹이랑 같이 실행하면 안 될까요?&lt;/p&gt;
&lt;p&gt;네.. 그렇게 실행하지는 않습니다. 대신, 남은 프로세서들이 노는 시간을 줄이기 위해,&lt;br&gt;
아래와 같이 &quot;스레드의 수에 따른 가중치&quot;를 두어 실행 시간에 차이를 두는 방법을 쓰는 방법이 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 549px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/16fd521badbce4021d51c3d15dd58c6a/928ea/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.24050632911392%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABH0lEQVR42m1R2Y6CQBDk/3+DvyCBBCREHpCbiIIgLlfCfRmNwJagxmS3Hjoz011VTUHMb/R9f7lcfhY8Ho/5D+q69n0/yzLUNE3xQqyNYRj2+73rupgwTROH2+32zbzf713XOY6j63pZlhg4HA5PMmR2u52iKJqmybIMsmVZm83mer2uzKqqwMG7YRgYwwGVoqgnOQxDXE6nk23bnudheciJotg0zUrO8xy6x+MRzvDEGNZ8kaMognAQBGjEcZwkSVEUkPuQcYUnPvW8AAZQoWn65SwIAs/zLMuKCyRJYhimbduPM174NziOQ5ckSQJLIgxkCI6qqjBHRQRYZJqmT2DYAtuitd1u19gwT3xPIHNkA59/f9WaeblgHMd5nn8Bsj+vKf9CTfoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;weight&quot;
        title=&quot;&quot;
        src=&quot;/static/16fd521badbce4021d51c3d15dd58c6a/928ea/image-3.png&quot;
        srcset=&quot;/static/16fd521badbce4021d51c3d15dd58c6a/c26ae/image-3.png 158w,
/static/16fd521badbce4021d51c3d15dd58c6a/6bdcf/image-3.png 315w,
/static/16fd521badbce4021d51c3d15dd58c6a/928ea/image-3.png 549w&quot;
        sizes=&quot;(max-width: 549px) 100vw, 549px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;쪽수로 협박하다니&lt;br&gt;
완전히 갱갱갱이네요. 스껄&lt;/p&gt;
&lt;h2 id=&quot;dedicated-processor-assignment&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#dedicated-processor-assignment&quot; aria-label=&quot;dedicated processor assignment permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dedicated Processor Assignment&lt;/h2&gt;
&lt;p&gt;Gang Scheduling에서 한 발 더 나아가서, 아예 어플리케이션 단위로 갈아 끼우지도 않습니다.&lt;br&gt;
계산대가 매우 많으면 줄을 어떻게 세우는지는 하등 상관없이, 그냥 손님들 오는 대로 계산을 해주면 되겠죠?
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 314px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e4d882a8d276558703db2716d9398829/5b158/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.31645569620254%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEJUlEQVR42j2SW1AUZBiG96rporGJSg2tLE1LHWvGC6lpyulkYirqclyFdWVhwYUF4hCIaSCLAiIisMiu0pYKC8juJmgCEXgGkTBbDgsoiocQUUaUheXw9MNFF+/8p5nne9/v+yXGxgGONfVTeP42hgu9GK8O8HNDP8amQQ5X2dDrcjltMaE3FJCdm8uBzAwKC49w7PJdDFceY7j0UKj/f0ksbQ7OnTtHqdGA/kwL1h442TGBuQsuNV2n7pQJy8kTGAp0GPV5HDcWkJOVzv78XzDZRihuHafY5qTINkbRP+NIzK3DVLQ84NS1XsptzylrHxcPTurvjPHX5Xp0mWkcP6glK3o7mRolB6NDMaT+iC5rL6aLdorbJii64eDEjZFpScqFmzI7lNonKesY52T7qKjmpOHmAKVH89gXH0OUzJuoLTLSNaFkaEJIDlZQkLID89UeSjomKRFOTa1O4XQUidU+jtU+hqVjDLOQVQDN4q7+71uUH80lMUTJ93J/YuV+ZEaoyIzaPn1OjtJQ1twnTAhDImVZ2wilbQJ4usvJlCo7RzllH6HC7sAi1sbOe1iOZBPu60OygKaqAkhRKdCq5Oza6svemAhMDb3TRqZaZW51MNU+SVW3g9+7HAI6TKX9ORUdQ9PAhrab6LU7CPfagC5WQ260mni5iB2uQif2GQkxmBp7qegaxdL6nKnhWtsdSP6846SuVwzh3gS1dyepuzdJVc8YZ2vr2R+vIcHXg3wR82BYEEkBPhxQK9HHqMlO2kVp8wORTAy1QxixD/ObWCXW5l7M127z6x/XKam+QpahmN3aA8THxiPz3kykr5S86BBSg2UkyaUkbl5PWpAf+sMG6vrgrEhYKVJNp7M/Q7Jg4XI+WLyCWbMWsOrLb1HIAlAEBKKW+bNz2zYyUvaQpgkkJ24jhSky8nd6okuUsyddR4I2h+M1zdTcdnLGPsSZTgFctHAZyz9y48NlbqxetQ65TEGkOpLEmB+I3KYkyGcTWqUX+9TfULB7DUX7NrI3MRRPzwDWrPwCfVkVdfcnqOp8SnW3ALq4zMXPdyt7krRsXC9F4a9ge6CKqBA1wf5yXnhxBp8sWYTGYyWpXp+RoVyPwkvGuq+/IyUtm9ruQWq6n1J7a4jqmwL48oyZeEn9yM3JR7rBG88NUmLCIggTwEPJ6eSH7SJVFo418ida4vdTHr2bRFUo0aJoUt4Jmv4d5dKdp1zo6qexZwDJnDfm8d78xbit+Jx3572P92p3/L182SJ6aNRmw8VOBs5epc98nuFaGzqlhqjgINHXCNyWfMyqTeE0tdgYGnzM4KM+JLNmvsnrr7nyqsscZs9+i/mubzPX9R1mCOdrPv2KSL8AZO4e7PCTcSg8iASpp/iTsWTGxRGy1oOXXlmK+1oFTx7e59mTR/wHX6hDFp0JKpQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;통째로&quot;
        title=&quot;&quot;
        src=&quot;/static/e4d882a8d276558703db2716d9398829/5b158/image-5.png&quot;
        srcset=&quot;/static/e4d882a8d276558703db2716d9398829/c26ae/image-5.png 158w,
/static/e4d882a8d276558703db2716d9398829/5b158/image-5.png 314w&quot;
        sizes=&quot;(max-width: 314px) 100vw, 314px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;어플리케이션이 필요한 스레드만큼 고대~로 프로세서를 할당해줍니다.&lt;br&gt;
당연히 프로세서가 매우 많아야 하겠죠?&lt;br&gt;
돈이 최고야&lt;/p&gt;
&lt;h2 id=&quot;dynamic-scheduling&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#dynamic-scheduling&quot; aria-label=&quot;dynamic scheduling permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dynamic Scheduling&lt;/h2&gt;
&lt;p&gt;사실은.. 어플리케이션들이 얼마나 스레드를 요구할지 알기가 어렵습니다.&lt;br&gt;
100개정도면 나 프로세서 부자겠지?! 싶어서 Gang Scheduling을 하기로 해도,&lt;br&gt;
120개 스레드를 필요로 하는 어플리케이션이 나타날 수도 있고요
그러니.. 가능한 한 스케줄링을 해주기로 합니다.&lt;/p&gt;
&lt;p&gt;만약 어떤 어플리케이션이 CPU를 10개 필요로 하면..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CPU 10개 이상 남아있으면? 그냥 주자.&lt;/li&gt;
&lt;li&gt;CPU 2개밖에 없으면? 2개 주자.&lt;/li&gt;
&lt;li&gt;남은 CPU가 없으면? 프로세서 많이 쓰고 있는 애들한테서 뺏어오자.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;대충 이런 식이라고 생각하면 되겠습니다&lt;/p&gt;
&lt;h1 id=&quot;real-time-scheduling&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#real-time-scheduling&quot; aria-label=&quot;real time scheduling permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Real-Time Scheduling&lt;/h1&gt;
&lt;p&gt;평화로운 음식점에 &lt;del&gt;개진상&lt;/del&gt; 예민한 사람이 들어와서는&lt;br&gt;
5분 안에 음식 주세요 빨리요!! 라고 하고
그러고는 5분 01초만 지나도 음식 안 먹고 냅다 뛰쳐나가는.. 그런 사람이 있다고 칩시다&lt;/p&gt;
&lt;p&gt;컴퓨터의 Task 중에는 이렇게 &lt;strong&gt;Deadline&lt;/strong&gt;이 정해져 있고 이걸 지켜야 하는 경우가 있는데&lt;br&gt;
이를 &lt;strong&gt;Real-Time Task&lt;/strong&gt;라고 합니다.&lt;br&gt;
이 Real-Time Task는 경중에 따라&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Hard Real-Time Task : 아아공습경보공습경보진짜진짜무조건지켜야하고이거안지키면시스템에치명적이고진짜큰일나고무조건데드라인을지켜줘야만하며안그러면큰일납니다꼭지켜야하는리얼타임태스크가따로없습니다&lt;/li&gt;
&lt;li&gt;Soft Real-Time Task : 데드라인 못 지켜도 뭐.. 어쩔 수 없긴 하죠.. 그렇다고 데드라인 넘겨서 task를 완료하는건 무효입니다?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 251px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6b6fbcaf4ff0ea74e2bdb54470205b1a/26abe/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 80.37974683544303%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAADmklEQVR42j3Q609bdRzH8fNcH5tFhpW4YdnmopVuiXMWkILt2nPac+s5p+f0Sq+nPZde6I1eaAuspReKxQ7JAnIpjMDYcCFOBUUIU+cDE+MDH5oYYvwrPA3G5PPg9+SV9y9fYGGhlsiV2UQpVaiEYlNagw9EAxDOGYkQTIZRc/RiGBOnLFETFTCZedoSRUhREDPA4X7xfqUczswVSvOxVElrZPVo0IAL/2EqipgjhDVup336AdUdpfJj1ZDuE61WC4liHICooIHk9CYWpVgD5tEYJMyBuGAwiUYyDFMRgomgepPy+s1rb119R37tRt+N99/rv63sh+/dAzBbCLWKMC0QVgEl2A5GgiDKXcRROoJAjKLvOjqkKvlIVD0gk12R9/bJe+V9vW8DqFWAmZDBHMIsIoz7NZBfwtIgTPo8h9HRwUEwREAnC+mDyrgDHO6Vvdnddflyt0z2hgxALRLmITOHMgEY92ogrx6R4mwHY0E9xrsd/NlnudNmbC3pqnjxaTcycuvmpUuv93Rwp8yBVACh/UbMrYE8OliKs9LNjXhwxMC2CjPnO7W9vO/X5endfGBBpAVsSN7T09XV3cEow0Eki3awaxR06WDf/3jUyN6PpY7KkUWe+qosLEbNJR9W9RjA2+8qFEoAsQo6JqwhOR0V0MHuYb1XY/RdxCEsoIEDCS6xGfE2WXM7O9aKUPUgUfPh/VevYAgOIHQgyRh5wjBDD1dJlR0dgUwQKB3sogyxtC21PsE3WFOVxydt2iShRj5QvPLqa8GACDjZ+K7zzoGo/SWqOhTVXnx0QKsZHLGqtXaV2qb8yKZUjTGke8aP+MFbcYuulRNa9frmxs7Z8TGwv/vk+XrmyZJzdd62WkPzEWOj/mBzo/3F8loqXXGzkyYqUiot/Xjw6Lunj16ennzz9dHW1s5sZYEP54HZ8vxy3lZ2KYpjd/P2DytRulGrVcu17Xb75dnJ33/9+c/5+R+//3bw7MvF1sPQ+JTdmyQcMcKRNHsyAEZxrWarWi7PN+Yqc3OpTKbe+Hxv//lPZy9+Pjl9vL1TnW3ywVQmlc6mC7gjYfFPWv05aRZfFtCAnmq1vr72cHtrbWXp0+XF5rPHexur7YnktMMVRykRp8dNTDSfzU9NlcmxJOPN0J60hKUH8O3R8fdHhy9Of1hfWSnmZkQ+Y2bCsElAqXHCNkE7sxZnjrLGi5OFYr6E26OUK252J0l3inRP/AtbLpKNwSM5rgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;빨리하지&quot;
        title=&quot;&quot;
        src=&quot;/static/6b6fbcaf4ff0ea74e2bdb54470205b1a/26abe/image-6.png&quot;
        srcset=&quot;/static/6b6fbcaf4ff0ea74e2bdb54470205b1a/c26ae/image-6.png 158w,
/static/6b6fbcaf4ff0ea74e2bdb54470205b1a/26abe/image-6.png 251w&quot;
        sizes=&quot;(max-width: 251px) 100vw, 251px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;또한 어떤 Real-Time Task는 주기가 있어서(periodic task), 미리 주기와 데드라인, 실행 시간 등예고되어 있으므로 마감을 맞추기 용이한 반면&lt;br&gt;
어떤 Real-Time Task는 주기도 없이 그냥 갑자기 불쑥 나타나서(aperiodic task), 갑작스러운 이벤트라 마감을 맞춰주기가 까다로운 경우도 있습니다&lt;/p&gt;
&lt;p&gt;이런 친구들이 있으니 가급적이면 많은 Real-Time Task들의 Deadline을 맞출 수 있게 노력을 해야겠습니다&lt;/p&gt;
&lt;h2 id=&quot;earliest-deadline-scheduling&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#earliest-deadline-scheduling&quot; aria-label=&quot;earliest deadline scheduling permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Earliest-deadline Scheduling&lt;/h2&gt;
&lt;p&gt;가장 생각하기 쉬운 것은, 데드라인이 가장 임박한 task들부터 처리하는 것입니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/13414222af56003ca321afff00a42e48/5a46d/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnElEQVR42g2N30sTAQDH77XHoIfoSTALyjDMaJBObTVzbrvb7X7f5m33Y253uy03t91+uJ+33e0HYtOMiEwUSUulIiyVkJIiqATpP6geAqnnnlqDL9+HL3y+H6CsSJoSWm4mtp9Wm6VoIyM3UlItEagl/At6Vq/MDA6Y1VL9x/fjg4PPa2sv7tU1Lcpmg2TUiwJqhFPD/Nqc/G57dr4S16KcPsVX7ngaU6z9hrG3z2gctrg84pPVjff7Hx48XHYirpkcN5en0gE3MDnunGLQOOOMkLYkg6RZIs3iKS+SF8juzq6uzu56MLqTUfdy2lYoZrrWf/pMB2MzqROE4kWABEckWTzDoynWmWTghAuKuWxR2q64HQM9l8I2dAkb36U9m5h7HafBiz0nTp7Cb/ZHiLGA8xaQEdCsgKkiVRRJVaLaKYpEUaLyIln30nuctIExb2Vl0QytgMhox/mBs+emeee0D0nycBvGpwW8KFKFAFmcIFQ/WQ4QFam9YCth4QAf/+id/DI+eYhw39y+TTM0Z7dm/UiOhzMcBOT8REGk9DCtybQeclWClCaT7VZlal6i9738FhxaH3R9gtw7t2Hd0F8X8HyAKPjbShTI+dCiH9UlrOJHCgJcC+J6EK9KaFXCdZ/zjc935IvuWslXo/BzuP0rlkSiwDsKPJT22IAIZY3TliRjjYMmtc+gDBlUx1UFu16SzamoqbngWCXB11b8mQk8fLTYarUeV4vymCGOjYQRExCjrGk3WOAcKmwpX+iVDZebzitlj3GpZvFwBkkfmkXhl8PoV32m1fr36+exbJJTEFRiLQliBIi5LBmPvcSDOuuoMmBVgDTeOhuGJYQI+RP372obDupITv39/aetzQkN40k70auEbIG0y/wfTjke7GwQRN8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;한계임박&quot;
        title=&quot;&quot;
        src=&quot;/static/13414222af56003ca321afff00a42e48/5a46d/image-7.png&quot;
        srcset=&quot;/static/13414222af56003ca321afff00a42e48/c26ae/image-7.png 158w,
/static/13414222af56003ca321afff00a42e48/5a46d/image-7.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;preemptive : 데드라인을 우선순위로 두고, 더 우선순위가 높은 Task가 등장하면 중단하여 해당 Task를 먼저 실행시킵니다.&lt;/li&gt;
&lt;li&gt;데드라인을 놓치는 상황이 물론 발생할 수 있지만, 데드라인을 지키는 비율 자체는 가장 최적의 방법&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그런데.. 데드라인만 중요한게 아니라, &lt;strong&gt;Task의 중요도&lt;/strong&gt;또한 중요할 것 같은데요&lt;br&gt;
아까 살펴봤듯이 Hard Real-Time Task같은, 반드시 데드라인을 맞춰야 하는 Task가 있다면 먼저 좀 해주는게 좋을 것 같습니다&lt;/p&gt;
&lt;h2 id=&quot;rate-monotonic-schduling&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#rate-monotonic-schduling&quot; aria-label=&quot;rate monotonic schduling permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rate Monotonic Schduling&lt;/h2&gt;
&lt;p&gt;그럼 어떤 Task가 얼마나 중요한지 어떻게 알 수 있을까요?&lt;br&gt;
한 가지 합리적인 생각은 &lt;strong&gt;주기가 짧은&lt;/strong&gt; Task들이 중요하다고 생각하는 방법입니다&lt;br&gt;
그래서 단골 Task들을 더 먼저 처리해주기로 합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/081805bf67eb22e278004f46b3b8b38e/5f4af/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 76.58227848101265%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACMUlEQVR42pVS2W7aQBTlH/sPlar8Q76h/9GXSpWaVk2qLI1ZEkwCBAiLCwZij5fBC14wNqd3phT6EBU60tHY13fOnHuOS0WRIUtmYIzh7OwcX75+B+cexNpsNkejKAqJkmvq+Pz+LS6/fcLp6QlO3r1BRflIdAnCcIn1ei0b/0UmVhRFSJIEpVUcoX91gSTkVHZI1hzrdIQ0cRCEERFmR6ndK+QcnV4XI01DrzdEf/ATT0/PaLXa8H0P4/EYqqqSDVwSH1JbEgqYacK2bYkw9BGTajHCarVCmqZUC+XzMV6WcrrRIEKNFA5HQ/hBsBvxf5ckzOjm6VxHukqRpRF5F5K5Ian0JaJojzgOtqCeeLlDHFF/FEi/S3zBcXH+AdxzYMwmuKGAGmoV7GVK0BFQXWDhMnDH3GHxF8S7axt00ZI8zHMwMj/LM5iGjuduC91OE9qwh4nWx2Q8xGDQgTGfwOOWJH4NglQS/vGKgqfDA9zXFKh3FdRrZTzUq7QrqN9XSP0YoWcjoMPeIcJCJlRgqo/QfKyj3VTRor3TaqBHam1zhtjn8F0i5PZhQiEyz9dYcAZfjEUfxe67FjybPLIMONYLuL31i94PEP5WONM1qDRe+fYaDxRMm1QqPy7x2LiT9YpyjQbZICYQIRwmnIxkyvW7MppEUlNuUCWS8u0VdApHpkrqPNq9rZcSDtumHO4JiyKXvwcjvyw2kw2ONYdLhy02lyqigCP03VfgwKfA0jTCL+CSajAl0RjAAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;단골&quot;
        title=&quot;&quot;
        src=&quot;/static/081805bf67eb22e278004f46b3b8b38e/f058b/image-8.png&quot;
        srcset=&quot;/static/081805bf67eb22e278004f46b3b8b38e/c26ae/image-8.png 158w,
/static/081805bf67eb22e278004f46b3b8b38e/6bdcf/image-8.png 315w,
/static/081805bf67eb22e278004f46b3b8b38e/f058b/image-8.png 630w,
/static/081805bf67eb22e278004f46b3b8b38e/5f4af/image-8.png 665w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Preemptive : 더 단골(주기가 짧은)인 Task가 들어오면, 그 Task를 먼저 실행합니다&lt;/li&gt;
&lt;li&gt;데드라인을 Earliest Deadline보다는 자주 놓치지만, 많은 시스템이 이 방식을 선호합니다&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;priority-inversion&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#priority-inversion&quot; aria-label=&quot;priority inversion permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Priority Inversion&lt;/h3&gt;
&lt;p&gt;어라 근데 이런 상황을 가정해봅시다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 387px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/beec1fb99c524cf295afa5da400968c1/691c3/image-9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.0126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1ElEQVR42n2T3U/iQBTF+///A/qi726iPumy2+qLsKixupgQLLRgZzoCQT6C2EIL6I8Z0iB+nIdJ7525955zZmq9fcJ4PB6NRsPhMI7jtx9hbcXz+bxWq7k3N9VqtdVqzbOM5HK5ZKVX4PuDwSDPbBebbBLHzM/DHPDZzFgEi8WCgWmask6n01v3tlQqSSnZJplp8EH4/+7Otu2rq+t6vb4qns1mvV6v3W77vg/PRqNRvCiW/5UrlYoQgsyjBh9hGJaKxcLpb4ovy5e0sz5z25SwiS8MgyrDJ5MJ9o40sATB0D45OXWcc8c5Y7XtM/uv0+/32R1qUGils7SvEUXRkwYSOp0OnIMgEFJCuBkEzWaz7nnku92uOcbIbbcxDG2UQQE6zEmSZL2VJAwkmUtYa8ZwFSmmEXY0SHoP3n3lPk5icx2UiTB8fu4tNDiwnox18IEeYBobkDdXnTtKMaZ/MMy45Xne0eExruzu7HLJ6Nzf23NdN1KKe0IIvf4UCr8ODrBGaCBw5TaqjI08QCkkFBCMQ9w/rUnSnfVJKanLXjVgvqZtZKzedpYttR6akqE+N8ycIf/tj2EUcsI8DAgz9ruH9EUxnJVS5mHygUhWIeTkZbvLO7T7hTIRXsPHAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;우선순위 역전 &quot;
        title=&quot;&quot;
        src=&quot;/static/beec1fb99c524cf295afa5da400968c1/691c3/image-9.png&quot;
        srcset=&quot;/static/beec1fb99c524cf295afa5da400968c1/c26ae/image-9.png 158w,
/static/beec1fb99c524cf295afa5da400968c1/6bdcf/image-9.png 315w,
/static/beec1fb99c524cf295afa5da400968c1/691c3/image-9.png 387w&quot;
        sizes=&quot;(max-width: 387px) 100vw, 387px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;우선순위(주기가 짧은 순서)는 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;&gt;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;&gt;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1 &gt; T_2 &gt; T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 순이고&lt;br&gt;
&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;과 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는 서로 자원 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;s&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4306em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 가지고 경쟁하는 사이입니다&lt;br&gt;
위와 같은 상황은 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;이 먼저 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;s&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4306em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 가져갔으니(&lt;code class=&quot;language-text&quot;&gt;s locked&lt;/code&gt;), &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;은 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;s&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4306em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 기다리며 block됩니다(&lt;code class=&quot;language-text&quot;&gt;waiting s&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;그럼 이제 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;은 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;s&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4306em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 기다리며 block되어 있고, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;s&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4306em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 가진 채로 작업을 하다가, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;가 들어옵니다&lt;br&gt;
&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;보다 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;가 더 단골이니 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는 차례를 뺏깁니다(&lt;code class=&quot;language-text&quot;&gt;preempted by T2&lt;/code&gt;)&lt;br&gt;
&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;가 끝나서야 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;가 차례를 얻었고, 좀 더 작업한 후 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;s&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4306em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 놓은 뒤(&lt;code class=&quot;language-text&quot;&gt;s unlocked&lt;/code&gt;)에야 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;이 실행하게 되었습니다&lt;/p&gt;
&lt;p&gt;뭔가 이상합니다.. &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;은 분명 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;보다 우선순위가 높은데, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;의 작업이 끝나기를 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;가 기다려야 하는 상황이 벌어졌습니다&lt;br&gt;
게다가 이번 경우는 운이 좋았지만, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;의 우선순위가 매우 높아도 영영 차례를 다시는 찾지 못하는 상황이 생길 수 있습니다&lt;br&gt;
이렇게 &lt;em&gt;우선순위가 역전되는 상황&lt;/em&gt;을 &lt;strong&gt;Priority Inversion&lt;/strong&gt;이라고 칭합니다&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;보다 우선순위가 낮음에도 불구하고,&lt;br&gt;
&quot;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;보다 내가 단골이니 나 먼저 해줘.&quot;를 시전해버리는 것입니다&lt;br&gt;
사실 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;과 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;은 한 일행인데 말이죠..&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Priority Inheritence&lt;/strong&gt;, 즉 우선순위를 상속하여 이를 해결할 수 있습니다&lt;br&gt;
자신보다 우선순위가 낮은 task에 의해 block(동기화 등..)되는 경우, 자신의 우선순위를 넘겨주는 것인데요&lt;br&gt;
위와 같은 상황에서도, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;와 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는 한 일행이고, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는 최고 단골이니, 이 일행을 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;보다 먼저 처리해줘야 문제가 없겠습니다&lt;/p&gt;
&lt;h1 id=&quot;각-시스템들의-스케줄링-방법&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%81-%EC%8B%9C%EC%8A%A4%ED%85%9C%EB%93%A4%EC%9D%98-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81-%EB%B0%A9%EB%B2%95&quot; aria-label=&quot;각 시스템들의 스케줄링 방법 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;각 시스템들의 스케줄링 방법&lt;/h1&gt;
&lt;p&gt;이제 진짜 실전에서 실제 시스템들은 어떻게 스케줄링을 하고 있는지 보고싶은데요&lt;br&gt;
Windows, UNIX SVR4, LINUX 순으로 알아봅시다&lt;/p&gt;
&lt;p&gt;이 시스템들의 공통적인 특징으로는&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;우선순위 기반의 Preemptive Scheduling : 실행중이던 Task보다 우선순위가 높은 Task가 등장하면, 즉 시 중 단&lt;/li&gt;
&lt;li&gt;feedback 기반의 Multi-Level Priority Queue를 사용합니다&lt;/li&gt;
&lt;li&gt;Real-Time Task들은 고정된 우선순위를 가집니다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이런 것들이 있는데&lt;br&gt;
더 자세히 알아봅시다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 302px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5cfe0cf541b5d3af3a625bdf4ee33e71/5f1d2/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.06329113924051%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACo0lEQVR42g3R2VMSAQCA8X1uKs4FdhEWWAQBWU4RYTlcwGVhYbmUW+ww80gYL7R8ysGH7macqUbzlgzN0Wc7XnyyybKcanLqb8mZ3+v39AF02E/6nG6XrSvQ6fM6fISTJL1B0ksQeDQWpoIESRJuT4etzeBx2TFMhSqkCrmkGUW0OiVQKGa6k6FoxN9bKuZyyWw20T90rSeTenBLMTaSobuLuVJvPMWEQoFkT8JhN1ksGsyg1hlbHX4nwDDhRDxEBTuzhVwqkx7IOl+W5fMDurVR3pPbaK1fOVwKMKl4OEImemK4y4rjBpfbZHaaiKgPMBh0RpPOYsUsFqPJagl6dVsV7sH05e0J9kaZvV9lT8SlWr3RZG5FpLBEIsKwFofTZPfaAjE/gON2j8dBEG6apmg6RHQFng427U2zd6vs9QpvtSxcucNNE9JCMTdWGVl8tXBvtoqZ9V7KE0pRAO5ob7dZ26xme7vN2dHhwD1zN9D9Gdb2OKcxyW5M8t9NsZ5XTB8+vf/39+fp9xOS8lsdbVQiFMvHABkiF/BhDgvkcUBIAAmEEsIgfTvO253lXFgrC+YSvGe10ZPTL99OjhYfDqlVCB7ojOaZaIEBIEgsAmEhH4JEYplEyhcjpADaagVfE2A9B270C54k4aUp6/HRwdfjw5m8SqNTe4K+eCkVKyYASZMUEsFiWIIgcrm8GYEk8zB/R8R7AYFLqHDJJqoPX23cFR193P9zfla7P6tQIm6KYPLJZF8GUCiUMpnigkKuRFToAAzviXmrQt5mAqxPcneq7Hrl0uF67ff5r7MfnxcWHmn1aiJCRjKxZF8aaFFrWlQaFG2+iDGt8HFAuImCyyL+MiNoTLPqg9wVzZU3M9XFzeXrN0sXnzGL3kcH6TRDZ2P/AawlyILGUiNhAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;어디보자&quot;
        title=&quot;&quot;
        src=&quot;/static/5cfe0cf541b5d3af3a625bdf4ee33e71/5f1d2/image-11.png&quot;
        srcset=&quot;/static/5cfe0cf541b5d3af3a625bdf4ee33e71/c26ae/image-11.png 158w,
/static/5cfe0cf541b5d3af3a625bdf4ee33e71/5f1d2/image-11.png 302w&quot;
        sizes=&quot;(max-width: 302px) 100vw, 302px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;windows-시스템&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#windows-%EC%8B%9C%EC%8A%A4%ED%85%9C&quot; aria-label=&quot;windows 시스템 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Windows 시스템&lt;/h2&gt;
&lt;p&gt;Multi-Level Priority Queue 구성 : 총 32개 큐 사용&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Real-Time PQ : 16 Level
&lt;ul&gt;
&lt;li&gt;Real-Time Task들은 우선순위가 고정되며, 같은 레벨의 큐 내에서는 Round-Robin 방식으로 스케줄링&lt;/li&gt;
&lt;li&gt;그런데 같은 레벨의 큐에 나밖에 없다면, 내가 계속 실행&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Variable PQ : 16 Level
&lt;ul&gt;
&lt;li&gt;feedback queue : time-out마다 우선순위가 하락&lt;/li&gt;
&lt;li&gt;내 이상의 우선순위를 가지는 친구가 없어도, time-out이 적용됨.. (내 우선순위가 하락할 수 있으므로)&lt;/li&gt;
&lt;li&gt;Processor-bound threads down : time-out마다 우선순위 하락 (최대 -2)&lt;/li&gt;
&lt;li&gt;I/O-bound threads up : I/O 등으로 Block Queue에 다녀온 경우, CPU를 중간에 포기했을 수 있으므로, 우선순위 상승. (최대 +15)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/5IirjNC.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;Variable PQ의 우선순위 구성 : 일단 Variable PQ는 0~15 레벨에 존재하므로 이를 넘을 수는 없다는 점을 기억합시다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Process Priority : 프로세스가 하는 일의 종류에 따라 결정되는 &lt;em&gt;base&lt;/em&gt; 값.&lt;/li&gt;
&lt;li&gt;Thread&apos;s Base Priority : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;±&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\pm2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;±&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 내에서 조정되는, Thread의 &lt;em&gt;base&lt;/em&gt;값&lt;/li&gt;
&lt;li&gt;Thread&apos;s Dynamic Priority : &lt;em&gt;base&lt;/em&gt; - 2 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;≤&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\leq&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7719em;vertical-align:-0.136em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;≤&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;p&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;p&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;≤&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\leq&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7719em;vertical-align:-0.136em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;≤&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;em&gt;base + 15&lt;/em&gt;
&lt;ul&gt;
&lt;li&gt;즉, 어떤 스레드든 15레벨까지는 도달할 수 있으나, 하락은 2단계로 제한적이다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;프로세서들은 이 Multi-Level PQ로부터 언제나 우선 순위가 가장 높은 스레드를 새로 할당받게 되는데,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;이는 Load Sharing처럼 작동하는 셈이므로, idle-while-busy는 발생하지 않습니다&lt;/li&gt;
&lt;li&gt;그런데 Load Sharing에서 캐싱을 잘 활용하지 못할 수도 있지 않았나요?
&lt;ul&gt;
&lt;li&gt;soft &lt;strong&gt;affinity&lt;/strong&gt; : (가능한 선에서) 스레드가 전에 실행했던 프로세서에서 실행할 수 있도록 고려합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;unix-svr4-시스템&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#unix-svr4-%EC%8B%9C%EC%8A%A4%ED%85%9C&quot; aria-label=&quot;unix svr4 시스템 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;UNIX SVR4 시스템&lt;/h2&gt;
&lt;p&gt;여기는 무려 큐가 160개나 됩니다 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Real-Time PQ : 상위 60개 큐 (159~100번)&lt;/li&gt;
&lt;li&gt;Kernel-mode process : 그 다음 40개 큐 (99~60번)&lt;/li&gt;
&lt;li&gt;Time-shared : 나머지 60개 큐 (59~0번)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/uyzBwFd.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;이렇게 큐가 많으면, 우선순위가 가장 높은 친구를 찾으려고 이걸 다 순회하기 힘들겠죠?&lt;br&gt;
따라서 비트맵을 사용하여, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번째 비트에는 &quot;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번째 큐에 프로세스가 있는지&quot; 여부를 나타냅니다.&lt;/p&gt;
&lt;p&gt;윈도우 시스템에서처럼, Time-Shared에 해당하는 Feedback Queue에서는 다음과 같이 우선순위를 조정합니다 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Processor-bound threads down&lt;/li&gt;
&lt;li&gt;I/O bound threads up&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그런데 여기서 조금 다른 점은, &lt;strong&gt;starvation을 줄이고자&lt;/strong&gt; 좀 더 노력한다는 점인데요&lt;br&gt;
Time Shared Process의 &lt;em&gt;time quantum&lt;/em&gt; &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는, 우선순위가 높으면 짧게, 낮으면 길게 줍니다.
전에 살펴봤던 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q=2^i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8247em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8247em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;로 하듯이요&lt;/p&gt;
&lt;h2 id=&quot;linux-시스템&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#linux-%EC%8B%9C%EC%8A%A4%ED%85%9C&quot; aria-label=&quot;linux 시스템 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;LINUX 시스템&lt;/h2&gt;
&lt;p&gt;LINUX 시스템은 큐의 레벨이 0번에 가까울수록 높은 우선순위를 가집니다.&lt;br&gt;
140개의 큐를 사용하는데, 다음과 같이 클래스가 나뉩니다 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SCHED_FIFO&lt;/code&gt; : Real-Time Task 중, 실행 시간이 짧은 경우, time-out없이 FIFO 방식으로 처리합니다. (0~99번 큐)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SCHED_RR&lt;/code&gt; : Real-Time Task 중, 실행 시간이 길면.. Round-Robin으로 처리합니다. (0~99번 큐)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SCHED_OTHER&lt;/code&gt; : Non-Real-Time 스레드들. (100~139번 큐)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;FIFO 스레드가 실행 중일 때는, 아래와 같은 경우에만 중단됩니다 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;더 높은 우선순위의 FIFO 스레드 등장&lt;/li&gt;
&lt;li&gt;실행중인 FIFO 스레드가 Block Queue로 이동&lt;/li&gt;
&lt;li&gt;실행중인 FIFO 스레드가 systemcall로 차례를 포기&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;RR 스레드는 위와 같은 경우에 더해서, (같은 우선순위끼리 RR 방법으로 번갈아 실행)까지 포함되겠죠?&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/EE8VIzW.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;이 시스템에서도 큐가 140개로 되게 많아서 비트맵을 사용하고,
140개의 active-queue에 더해 140개의 expired-queue 또한 존재합니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;time-out되면 : 우선순위를 조정(하락)하고, expired queue로 이동&lt;/li&gt;
&lt;li&gt;실행 중에 우선순위가 더 높은 스레드 등장 : 우선순위는 그대로, active queue로 복귀&lt;/li&gt;
&lt;li&gt;이렇게 하면, 어느 순간 active queue가 비어 있는 순간이 오는데, 그 때 active queue와 expired queue를 뒤집어 expired queue를 active로 만듭니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/ipIlizC.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;뭐가 좋은걸까요 이렇게하면?&lt;br&gt;
&lt;strong&gt;CPU를 사용하고 나면 우선순위를 확 낮추는 효과&lt;/strong&gt;가 있는 셈입니다
우선순위가 매우 높은 스레드 하나(A), 그리고 밑바닥인 스레드 하나(B)가 있다고 생각해보면&lt;br&gt;
A를 실행한 뒤에 expired queue로 보내지 않는 경우, B가 실행을 하게 되려면 A가 그 많은 우선순위 큐들을 다 지나와야 합니다&lt;br&gt;
그런데 이 시스템처럼, A가 time-out되어 expired queue로 이동하고 나면, 그 다음에는 B가 실행을 가져갈 수 있으므로 B의 &lt;strong&gt;starvation 발생 가능성이 줄어드는 효과&lt;/strong&gt;를 볼 수 있습니다&lt;br&gt;
살펴본 3가지 시스템들 중, starvation 가능성을 낮추기 위해 가장 많은 노력을 기울였네요&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
이렇게 스케줄링에 대해 좀 써봤습니다&lt;br&gt;
제 일정 스케줄링도 잘 못하는 사람인데 나 원 참&lt;/p&gt;
&lt;p&gt;마치겠습니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[👤 Scheduling을 어떻게 해야 잘 했다고 소문이 날까? - Uniprocessor]]></title><description><![CDATA[프로세서나 스레드들은 CPU…]]></description><link>https://sungpaks.github.io/uniprocessor-scheduling/</link><guid isPermaLink="false">https://sungpaks.github.io/uniprocessor-scheduling/</guid><pubDate>Fri, 14 Jun 2024 23:09:43 GMT</pubDate><content:encoded>&lt;p&gt;프로세서나 스레드들은 CPU가 본인을 가져다 실행해주기를 기다리며 레디 큐에 줄을 섭니다.&lt;br&gt;
마치 계산대 앞에 줄 서는 사람들처럼요&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/53586313d00be43daa41a70ad9175684/3c051/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACjUlEQVR42gXBS2/SAAAA4P4gLx69zZhoNItZdAuiGxuT1wYU2tIOKKW0lNIyCuVRKKWsvLqCGwzZezCn7nFzcZqZuKgXL/6BefLg9wEJlwmdmYi554ySmAqjPB6gMA+9AgoxtJ5Nynw8R0drSW6rkO/msoft2qeDXk8t/jg/vD7eBnDHLGSeZKHX+21FShA5OhwP+VIRhIvAXUnol7PrpazCM4NqUc+kGmn2arTTk3K/zo6u3+0AmshrIqcKDOlfWvWBtNeTjWKlBCHzZJWLxWEwGljhMdioynqGi3lsUUKggny31rzc2QRGHe10oK8i7lC1Uz79zlaaAmgdqOJASSOQH9PHtkxbTid7IqMpsm3O8ujxU5hKtYfjA0UENsqCyoQ5u00oaLXxl42PV+uZRCtDJfGozx9qnH+jYVgLBQZiQikW7A6vxWx6cP9hnEp+GGwATTqUt7wQl+2ow2lf9lNs/kBXh3qdJOLJEGE0WuUFk2p+0lPLksCEQXuWcHPxqKK1d7eHwFCV1KIG0TKVUdjWnpWqFMhAt7mmSEWGYbj3N4bR340FO53NIAyWYh4SsgaxlcvPX8+O9oEyF22tG24vMj2/hEnGtA3JU1g+jhfjwViU5Oo9o1V3vXZWJKmaJt8USVUgcRjkaeJi7y3QzLJdiUui7rBvaXHWtOB046iPDbhk0g+5FmWBjbjMIhmIOEyE39lvyDi4kIAsTBhZK4qAnue7Ek8jy16HNehcLGBIT1x9NnEvN//cPTtDh9EAhCjNPojgU9Ov+rpGQ9YM4eKoiFZrAHohtVnJspi3liaOc8wpQ2xBrqm7dzjzJGp/OWrnuoORPP598vPf5c2fk/ForVLSVOX8/OL29u9/bLlm/ygBgD4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;무인 계산대 ㅋㅋㅋ&quot;
        title=&quot;&quot;
        src=&quot;/static/53586313d00be43daa41a70ad9175684/f058b/image.png&quot;
        srcset=&quot;/static/53586313d00be43daa41a70ad9175684/c26ae/image.png 158w,
/static/53586313d00be43daa41a70ad9175684/6bdcf/image.png 315w,
/static/53586313d00be43daa41a70ad9175684/f058b/image.png 630w,
/static/53586313d00be43daa41a70ad9175684/3c051/image.png 760w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;무인 계산대 ㅋㅋㅋ
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;무릇 가게들은 계산을 많이 해줘서 돈을 많이 벌고 싶어합니다&lt;br&gt;
계산대를 막 백 개, 천 개, ...씩을 두면 물론 좋겠지만&lt;br&gt;
그럴 여건은 안 되고 계산대를 하나밖에 둘 수 없다면&lt;br&gt;
어떻게 계산을 해줘야 잘 해줬다고 소문이 날까요?&lt;/p&gt;
&lt;p&gt;이번 시간에는 이렇게 계산대가 하나인 상황처럼, 프로세서가 단 하나일 때 스케줄링을 어떻게 하면 좋을지 알아봅시다&lt;/p&gt;
&lt;p&gt;아, 근데 스케줄링에는 Long / Mid / Short Term 세 가지 유형이 있는데&lt;br&gt;
&quot;READY QUEUE에서 다음에 실행할 프로세스 고르기&quot;는 Short-Term 스케줄링에 해당합니다&lt;br&gt;
스케줄링의 성능과 가장 직결되는 것 또한 이 Short-Term 스케줄링이고, 앞으로 말하는 내용들 또한 이에 대한 내용입니다&lt;/p&gt;
&lt;h1 id=&quot;스케줄링-목표&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81-%EB%AA%A9%ED%91%9C&quot; aria-label=&quot;스케줄링 목표 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;스케줄링 목표&lt;/h1&gt;
&lt;p&gt;그런데 스케줄링을 잘 하는 것의 기준이 뭘까요?&lt;br&gt;
여러 기준들이 있는데요&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Response time : (입력을 시작 ---&gt; 출력!) 까지의 시간 간격&lt;/li&gt;
&lt;li&gt;Throughput : 단위 시간 동안 프로세스를 몇 개나 처리했는가?&lt;/li&gt;
&lt;li&gt;Processor efficiency : CPU가 전체 시간 중 유효한 작업(= 유저 프로그램 실행)을 수행한 비중(%)&lt;/li&gt;
&lt;li&gt;Fairness : 같은 조건의 프로세스들이 공정하게 실행 기회를 가져가는 것&lt;/li&gt;
&lt;li&gt;Predictabillity : 실행 시간의 예측 가능성&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 중 Response Time같은 것들은 유저의 입장에서 느끼는 지표인 반면,&lt;br&gt;
Throughput같은 것들은 시스템 입장에서 보는 지표이고&lt;br&gt;
Response Time이나 Throughput은 성능과 직접적으로 관련있고 측정 가능한 반면,&lt;br&gt;
Fairness같은 것은 성능과는 꽤나 무관하고 측정 불가한 지표인 등&lt;br&gt;
뭐가 더 중요한지 정하려고 해도 관점에 따라, 입장에 따라 변하기 마련입니다&lt;/p&gt;
&lt;p&gt;마치, 계산대에 선 사람들은 그저 &quot;내가 기다리는 시간&quot;만 짧으면 되고&lt;br&gt;
점주 입장에서는 매출이 얼마냐, 이런게 중요할 것입니다&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 204px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c29b738e46ee766c65ce7c9c0b3213f4/779ef/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 94.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEkklEQVR42gGHBHj7AFlHRVhHP11KQ1tJQmFORV5LQ3hpZIR4cXFfWGZNRF1JQFdGP1JCOmhdU3RiWWBLPl1JPldEPGRQSmhXVABWREBWRD5cSUBkTkdcSUKroZ3MzMrx8vHd2tqId3dTQDdbSkBWQz1mV095Y1xlVUuhoZu0uLimqqmVlI0AVEI+V0ZBXkpBXkY/bV1X9PLxxs3C197QxcbC4N3YYlVJXkxBWEQ+ZFRQk5iaq7W4t7CwvLu7yOXkrcjGAFE/OldGO1tJO1NBM3BnXfz8/N3o1dDdws3bxu/264yBeVlDN1c/OZabnMDs7Mzl5Jd/daKQjcTa3sX49wBQQDRYRjhdSTxGMymFfHb////f6N3O3MHJ3bvv9+WLf3g8JBhiUE3Y9/XN3duuoJ+pi4ScdnSVhom84t4AUD8zRzYrTDwxcWNe3NnX////wcS6oayXrLac8vXnz9HMjIZ/mZmZ6P//vLm1m29woo2MpZCNr6SercK8AGRSUZOMh8rHwvj39f3++////8vOxZuhkamtm/r88+TPy7uOjdbR08jKy7Ktq7Kupp+Wl6CLi52AfJZ9eQDz8vPu6+vx7u7///79/vj08urDv7K9vqrx9ujt39evWlOlXV3W19vT1tWwp6SyrqSdhYWxop+em5Otu7kA6OjnuaWoopCWwsjG4NTNqIGFoWpljFpV2N3W18K8n0pIn19fim1skZuayNrRjHRxmHZ0o42HuszJtdXUAKhsbcupqsnQ0YWptqaYmmQ2O3RfYn1JRuTb19vMw5REQ383MnxPR3BtZoOGf6ChoqK4tqS9u5u0soGCegCtcm2cYFyyrbaWu9icu82AW1t4PD91Pj6yrbHo6eO+qaWjh4rTz9C7vrlZSkNeTUNnXVZfU1daQkBfQjUA0crJo4uUWltudo2gnM7okrjFh4iPcoiZcJKppqSlp5+fd3aHdnGDaGBodml8c1x2YkhLfml3a1lzbllwAMGmqLi4ynR2m2FgeFxkdnWSpXKbrWF9nW94kN7g1+jn3sG/x4BxfFVBQGJMUmNNW15HS3djbGhPVmFEQQDj1tDExMh5daGSi7pjWntYVV5eYlVPTWFwaYfr7uTg3tGDdm9QPDVoTUJlSDlgRDRgRDVhRTRlSjZhRjMA+fr0+fnvgn2SW1CCeGyjc2qacmmOamKKkI6h4+DVYFNIOyYfVTw0Z01DZEg+Y0c7ZEc4Ykc3YUY2X0Q3AOXi2/3995ODjnFidqifrKGXqHFlgGRYcObi3sK6rj4vJ1E+N1I3NGZLQmVIPmBDOWFGOltANF5CNmFEOgBwY2Lq5OPu6OD7+vT///r7+u/d2tHCu7T9+O2QgnlINS5QPDZVOzdkSEBgRjlbQTVfRDlbQDVdQTZYPzMAPi0qZ1hVrqagl5CJopqV3tzY8fHq7u7lqKCVWUc9TjwyTTsxVT42ZUtCYUk/W0I4XUQ5XkU6VT8zTTouAEk4L0IzKj4vJko3L0YyLnhqYpOJfHVhWVtEOF1KPVJANVJBNFdDOGZORGJKQF9IPl5HPVpCOFVDN1JANgbsXJN3kXKTAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;집게사장&quot;
        title=&quot;&quot;
        src=&quot;/static/c29b738e46ee766c65ce7c9c0b3213f4/779ef/image-1.png&quot;
        srcset=&quot;/static/c29b738e46ee766c65ce7c9c0b3213f4/c26ae/image-1.png 158w,
/static/c29b738e46ee766c65ce7c9c0b3213f4/779ef/image-1.png 204w&quot;
        sizes=&quot;(max-width: 204px) 100vw, 204px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;돈!!!!
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;인생이 그렇듯이 모든 토끼들을 다 잡을 수는 없습니다&lt;br&gt;
모든 지표들을 만족하는 것은 불가능하므로 하나의 기준점을 잡아야 하겠는데&lt;br&gt;
그 정한 기준점을 우선순위로 하여 스케줄링을 하고,&lt;br&gt;
그 우선순위에 따른 여러 레벨의 ready queue를 운용하고, ... 해야겠습니다&lt;/p&gt;
&lt;p&gt;아 그리고 조심해야 할 문제가 있는데&lt;br&gt;
&lt;strong&gt;starvation&lt;/strong&gt;이라는 것입니다&lt;br&gt;
어떤 프로세스가 평생 차례를 얻지 못하고 왕따를 당하는 것인데요 ㅜㅜ&lt;br&gt;
점주가 너무 매출같은 것에만 신경쓰면서 젤리 하나만 사려는 사람들은 등한시한다면&lt;br&gt;
손님들이 아주 불같이 화가 날게 뻔합니다&lt;br&gt;
이런 상황은 좀 없도록 해야겠습니다&lt;/p&gt;
&lt;h1 id=&quot;스케줄링의-종류&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81%EC%9D%98-%EC%A2%85%EB%A5%98&quot; aria-label=&quot;스케줄링의 종류 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;스케줄링의 종류&lt;/h1&gt;
&lt;h2 id=&quot;fcfs-first-com-first-served&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#fcfs-first-com-first-served&quot; aria-label=&quot;fcfs first com first served permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;FCFS (First-Com-First-Served)&lt;/h2&gt;
&lt;p&gt;이건 그냥 &lt;strong&gt;선착순&lt;/strong&gt;입니다. 그냥 보통 우리가 계산대를 이용하듯이요&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6a12c3921ee22b4aa8e0509134c9b753/3c051/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 57.59493670886076%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwklEQVR42o3Qz0vbYBjA8f5L3nYQD7LDGAhuCg4velAEd3CKClJwTtgOiqWmnUlqtVrQngra2jY/mqrb8FeSmqZptBFN0pq0xto201m8+baMzYNrB19eHl74vC88lhfNr1tevWlt73rZ3jXrI1e/n7u3RReVQggBIRtkGXg34/V/u8io4qmk6leSnFWyOiOpCJlEG2LfvrqbNsxflXzJ1K6MM1nJahp3pjqCtDPAIjhfD7f1fegcGO3oH+kZnoQxdmnnxB1LLZICjPH1ZRVPDL7/Ynes+datNjcUioOrBYKHySQSFarVxxshdvckV6ncB+LyfDiBEHzDPf3FNlzw76flS/04fc5ImSUKfCug0f/DaEyiUrpplgvXhWKp6Imy0BYL4wng//RPPG5fGZt1fXKsTM170ODeV4y3b8WhMOfE+FpJEEwkn8fNTW+7e4es05/HrB+9wZ2YoBHHMpFQcE7BwcApBCd7tsEWawC88iSLDaYI+uKhcntt5MvFglm6yWvZgpHTL1Ujr+W0zN3P8uahCIUYsEs0mnqaBaX4ZYqLHInhQzFydIoxaYyunhEaDL9nV4Se8/+AAgfOEFOLrcU8Au8TBtgbNgyhAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;선착순 한 명&quot;
        title=&quot;&quot;
        src=&quot;/static/6a12c3921ee22b4aa8e0509134c9b753/f058b/image-2.png&quot;
        srcset=&quot;/static/6a12c3921ee22b4aa8e0509134c9b753/c26ae/image-2.png 158w,
/static/6a12c3921ee22b4aa8e0509134c9b753/6bdcf/image-2.png 315w,
/static/6a12c3921ee22b4aa8e0509134c9b753/f058b/image-2.png 630w,
/static/6a12c3921ee22b4aa8e0509134c9b753/3c051/image-2.png 760w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Non-Preemption : 일단 실행을 시작하면, 차례를 넘기지 않습니다.&lt;/li&gt;
&lt;li&gt;전체 Response Time은 줄일 수 없겠네요. 노력조차 안 했고&lt;/li&gt;
&lt;li&gt;매우 공정하고, starvation 가능성도 없고, 예측 가능성도 뛰어납니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;rr-round-robin&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#rr-round-robin&quot; aria-label=&quot;rr round robin permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;RR (Round-Robin)&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;번갈아&lt;/strong&gt; 실행시킵시다. 마치 불침번 근무.. 아니면&lt;br&gt;
이 경우는 자기 차례가 오면 좋으니까&lt;br&gt;
어릴 때 형제들과 컴퓨터를 사이좋게 1시간씩 나눠 쓰는 것처럼?요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c4773762c52161ff7ee2dadf2d9a6ec0/3c051/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.78481012658227%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3klEQVR42n2SuY7iQBCG/aqIw+YwNthu8AG22SXkERAkSDwFEhE7IQRIO4SIKyBDIgDEfHZrGTzBlhrU7a6v6q+qVrrdrhAijuPovxaGIW5h1hR+9XrdsqzWm7Xb7R/HRmo/YTIDc82mk1oQBBx93399YUN0wzCkhG9YRn1XiDzHcWzbBpPeFAUPTNx3XsEVWF5zAcCXfr/PkRB4sIGRAltpd75hKUweZAiKbDabkP9KFqpaUlVV07QgQAtwJJfykgEpUnNdN5fLpa6BaZqu2y5rWrGUBBCiFUU9fOVSJCkHRsJ8Pl+pVNjQIcphD29bjuf5nut3vE7cjV8ryRz3YrLJzo1GI76Uy+VSqaTreiJaCMtyaP/vXr8X9jIwtYEB0w8K2+12q9WKxnIE5paIptEwzWaQTZvAJEGY53n8I369Xh8Oh+l0WigUCAGcNM9mIpapm6beeE+uVKtV+bzo0Hg8fjwep9Nps9kMBoNisQgpHMbeSpYl4DNwrVbjMZGZPJPJZDabHY/H5/O53W7pNpVTFFOJ41+BGxg1IwPLd4OReTgcLpfLjz8f1+v1drt9/v2Ug2Y8LOBGPSubxvBI8CDKfD4H2+/35/P5fr9fLpfFYiHfQzLeTiTs1nvDvgB6IciJEfYZkgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;불침번&quot;
        title=&quot;&quot;
        src=&quot;/static/c4773762c52161ff7ee2dadf2d9a6ec0/f058b/image-3.png&quot;
        srcset=&quot;/static/c4773762c52161ff7ee2dadf2d9a6ec0/c26ae/image-3.png 158w,
/static/c4773762c52161ff7ee2dadf2d9a6ec0/6bdcf/image-3.png 315w,
/static/c4773762c52161ff7ee2dadf2d9a6ec0/f058b/image-3.png 630w,
/static/c4773762c52161ff7ee2dadf2d9a6ec0/3c051/image-3.png 760w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 경우 먼저 정해야 할 것이, Time Quantum &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 입니다.&lt;br&gt;
언제마다 교대할지 시간을 정해야겠죠?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Preemption : 실행을 시작한 후 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;만큼의 시간이 흘렀다면(time-out), CPU 사용을 중단시킵니다.&lt;/li&gt;
&lt;li&gt;전체 Response Time은 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 어떻게 정하느냐에 따라 직결됩니다&lt;/li&gt;
&lt;li&gt;FCFS에서와 비슷하게, 레디 큐에 도착한 순서대로 우선순위를 갖는 셈이고, 매우 fair하면서 predictability 또한 높습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;spn-shortest-process-next&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#spn-shortest-process-next&quot; aria-label=&quot;spn shortest process next permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SPN (Shortest Process Next)&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Service Time(실행 시간)이 짧은 프로세스들&lt;/strong&gt;부터 실행시키는 방법입니다.&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f48f42535acc5e6dc3926df9e76841cc/3c051/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 141.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAIAAADuuAg3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEqUlEQVR42m2UWSyeWRjH37Hv+y5qqzXWuMGFG0G4kOBKiGA+iVY7EbFHSFxYIqEJQS03dheWpEUriNqDKmJLWmtqZ6xT1GB+vrftJJN5Ls53vnPe/7P8n/9zhIuLi9PT07+k9k1q4v7q6uro6CgzMzMhIeHlHy+fP3v+LP6ZJE4SGxsbERGRlJT0/ft34fLy8vb29uHh4ebmBgAr+7u7O1b+2tjYCIIgIyMj/DRxb2FhQRiBIHdSm5+fHx8fZ+X0/v4eMEmZmpoqKyvLy8vLysqyAhNXa2vrH+C/pTYxMfHx48eJcX4nSAkwm4KCgujoaDMzs66urqysrJCQEHwB5gSgcPXtirCEWl9f39ra+vz588bGxtevX3d2dpaWlvLz81VVVRUVFb28vNLT08vLyxUUFACbmJg8gvv7+9++fUscMdW7+ztg11fXbW1twDQ0NczNzckZQHBwcEVFBQkTnJopSmhqauIiKCgoLy+vrq7uVcmr2prazc1NNzc3Hx+fxcVFW1tbIuvq6gYGBubk5BgZGRkYGODi7OxMIALg334ae3d394GBgYaGBhIhVU4cHBwAADM2NmY1NDQk8r9geakRgX1iYiIwyvb29tbR0SkqKoqKimJjJLUnT55oa2tbWVk9gnt7e/X19cV+qKmpwURycjJhtbS0wsPDa2trccE5ANpGZFYNDQ07O7uTkxNheHiYYiIjI1NTUyk7Pj4eX46OjoODg/xFEnJycpxoamqKaYt70j4+PhagWkybUJyyJ/Lc3NzMzAw885eklJSUYJ6yyZmVL4m/t7cn9PT0/CKMDam2t7dLJBJUQWPoKp+iZ8qBcDCAXVxcYmJiIEVAkgQUkSkpKR8GP1Dn9PT0wsICXigVqnJzc8WGZWRkBAQEODs7A15bWxOQxIsXL0AyKO/fv9/f30dw6HRycpKRAoBfREJM9lVVVW/evIEIFRUVFCnQUkanpKRk9csqgC9SI+2wsDBLS0txkmAbtqg8LS2NEaTtEM5nwtDQUHd3N5OAbmdnZ11dXZ2cnKqrqwmOyPv6+p4+fQrh8Kyurk5fkEBpaSmVr6ysCBBLV6ampmgS0YjT0tLy7t07vFAbV4wKn8ILhHF4cHBAgvSZ4RUODw/FCCRJw7jGHdyKCdNV3hnoMJAaePRfWVlJnx/BDAecdXZ2AuZTRm9sbIx+UhVgSFpdXR0dHS0uLoYzTiS/SzraO5D3I/j84hzfnz59ggaOIIYxZu6hh09pBDIE2draCm2ckHBNTQ2OeCoEHip6s7y87O/vD+3E5LnY3d2l/3AGkm5zxZNCXxobGymQOUE80CRwjRJpL88NSmBQkZSHh0dhYWF2djaCIw514u5BakwhTUateH8Er62ukTlU29vbwwSS0tPTIzFmEy4BQDiVs6Gjvr6+dA4umCjh5M8TkNz5+fnRYQaVfpIVYJiPi4sDg1pfv369vb3NHpFwSPEjIyM/nl6mGrbxR7dwjCRZ+cLT05O37fz8HOXW19cj/tDQUEjlCgqEa6nR97KyMkRaUc4sVaAwZMzTSbXUhXdmqLm5uUJqPHsdHR2oReDF/vV0/sfIkFvxYX74P/sH44QdniHRsrIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;똥싸느라 늦었다.&quot;
        title=&quot;&quot;
        src=&quot;/static/f48f42535acc5e6dc3926df9e76841cc/f058b/image-4.png&quot;
        srcset=&quot;/static/f48f42535acc5e6dc3926df9e76841cc/c26ae/image-4.png 158w,
/static/f48f42535acc5e6dc3926df9e76841cc/6bdcf/image-4.png 315w,
/static/f48f42535acc5e6dc3926df9e76841cc/f058b/image-4.png 630w,
/static/f48f42535acc5e6dc3926df9e76841cc/3c051/image-4.png 760w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;버0.. 똥싸면 응당 오래 걸리니까, 늦게 올 수 밖에
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Non-Preemption : 일단 실행을 시작하면, 끊지 않습니다&lt;/li&gt;
&lt;li&gt;Response Time을 꽤나 줄이는 방법인데, &lt;strong&gt;실행 시간이 짧은 프로세스를 빨리 완료시킨 다는 점&lt;/strong&gt;이 한 몫 합니다.
&lt;ul&gt;
&lt;li&gt;마트에서, 100만원어치 사는 사람 한 명(A), 그냥 젤리 하나 사는 사람 한 명(B)이 있다고 합시다.&lt;/li&gt;
&lt;li&gt;A가 먼저 계산을 시작해버리면, B는 긴 시간을 하염없이 기다리게 됩니다 ㅜㅜㅜ&lt;/li&gt;
&lt;li&gt;반면, B 먼저 계산하게 하면, B는 하나도 기다리지 않고, A도 딱히 별로 기다리지 않습니다.&lt;/li&gt;
&lt;li&gt;기억 하시나요? Response Time은 &quot;줄 서서 기다리고 있었던 시간의 합&quot;입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;그렇지만 문제는, Predictability가 낮고, 그럼 실행 시간이 큰 애들은 starvation에 빠져버릴 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 실행 시간의 예측이 아무리 쉽지 않다지만, 그래도 좀 해보려면 방법은 있습니다&lt;br&gt;
지금까지의 &lt;strong&gt;실행 시간 기록들로부터&lt;/strong&gt; 평균을 계산하여 &lt;strong&gt;예상&lt;/strong&gt;해보는 것인데요&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;T_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; : 실행 시간 기록 중 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번째&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;S_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; : 실행 시간 예측 값 중 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번째&lt;/li&gt;
&lt;li&gt;이제, 간단히 &lt;strong&gt;산술 평균&lt;/strong&gt;으로 해보면 : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/mfrac&gt;&lt;msubsup&gt;&lt;mo&gt;∑&lt;/mo&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msubsup&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;S_{n+1} = \frac{1}{n}\sum^n_{i=1}T_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8917em;vertical-align:-0.2083em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mbin mtight&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2083em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.1901em;vertical-align:-0.345em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mopen nulldelimiter&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mfrac&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8451em;&quot;&gt;&lt;span style=&quot;top:-2.655em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.23em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;frac-line&quot; style=&quot;border-bottom-width:0.04em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.394em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.345em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose nulldelimiter&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;&lt;span class=&quot;mop op-symbol small-op&quot; style=&quot;position:relative;top:0em;&quot;&gt;∑&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8043em;&quot;&gt;&lt;span style=&quot;top:-2.4003em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mrel mtight&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.2029em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2997em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;좀 더 정확히 해보려면, &lt;strong&gt;가중치 평균&lt;/strong&gt;을 사용하여 : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;α&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mi&gt;α&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;S_{n+1} = \alpha T_n + (1-\alpha)S_n&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8917em;vertical-align:-0.2083em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mbin mtight&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2083em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8333em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.0037em;&quot;&gt;α&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.0037em;&quot;&gt;α&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 이런 식으로 재귀적인 계산을 할 수도 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;srt--shortest-remaining-time&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#srt--shortest-remaining-time&quot; aria-label=&quot;srt  shortest remaining time permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SRT : Shortest Remaining Time&lt;/h2&gt;
&lt;p&gt;SPN에서 preemptive를 한 스푼 얹어서, &lt;strong&gt;남은 실행 시간이 가장 짧은 프로세스&lt;/strong&gt;를 실행하는 방법입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 259px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/820b686c84853567924d2d1b721eee6d/a2ead/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnklEQVR42gGTA2z8AHis3mOi3lue3Vmc3FWZ3Iez3sjb56bF41WY2FGY2k+X206W1kuU1UyW10qW2EiQ0kiP1E6T10+U11CT1QBVnN5Wm9xXm95Tmt5qpNy50Oa+1OmUud9Smt5OlNVQksxLmeBLl9xEkNV1kqxVkMdNldpVmttUmttTl9cAWJ3fVpzeVpveU5rdYp/Zo73ZlbbZV5nWR4nJaol8fYZHVmdlOHe0haC7vqWSVZfQWJ/fVpvbUJbYTJHSAFae4Fad31ab3lea3Imz3rfM4ZK64jpyrS07SElDIhwdExIHAAwcK7OgksGmllSZ1lSa2kyR1EKKzkGIzABUnt9Xnt9Smt14qty/0eavyON+rt4uUXYWHTAKEB47LSk2MS8FCA1mXVmzo6BOjM1IjtJCiMw9h8s+h8kAU53eU53dTpncfa3ejrbfWpnUSpfdOGOOAwIFWk5D0LCV3LyjgmlZExAVplhRVnOjQpXhQYfLPYXLPYbMAFOc3VGb3FCa206X2kqS1kmT10yW2UuP0SFJclRNSujBovHAoGBOQQAAAKRLP3Q+QiFRfkCCxT+L1T+FzQBQmttPmdpOmNlNltdNlNdLlNdIkNRJldtDiMgJDhdFOC6+qZaac2iXSUG3YFWhPTIaDA0ZNVI0bqc/ic8AUJnaT5jZTZXXS5TWSZLXSJHVR5DTR5LXQoTBGytAQkZDw766v2FWpD40pEI6sUE3WCMjHUhwNXCsPovRAE6U1kSP1keQ1UiR1UeP1EaP00aP00iP00SR2Wl/nqV0cMZ4cJUvJpk2LmUlIEIZGCIKCRIpPTqCxkCM2ACpxt+OuN1RlNVCjtVFj9RFj9RFjtNFkddKicpwTVybODCnPTOgOC5fHRgAAAABAQEBAAALDxUvYZRBkNoA3erq2+rqp8PcWpLOR43PSI/PSpDQSpLUTojDZ0FMmDoxnjwynUpBcGlnRUpJJygqBQEAKU91P5TiPonSAMHW5rjR55yquneNoluJtGaNr2+Oq12Nu2SQt3F3hbBmXKNjXZh4cKy6tZygnpifoH2CgGiFnESP00OO1ACYqbmYprKImrJqiaxkialgj7pliqxpiahtjKZ9dYCscGawdm+XcG2XmJSSlpaVnJufpaOjraWSoqSHorAAkKvJj6jEb5TBS4vMYZfKm67GwLvDz8C/2cjByrKyomVoqnR1s56iwKyr18TCvLi1pa+sp7Gvq7WxqbOwq73Um6JuVB4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;먼저 갑니다&quot;
        title=&quot;&quot;
        src=&quot;/static/820b686c84853567924d2d1b721eee6d/a2ead/image-5.png&quot;
        srcset=&quot;/static/820b686c84853567924d2d1b721eee6d/c26ae/image-5.png 158w,
/static/820b686c84853567924d2d1b721eee6d/a2ead/image-5.png 259w&quot;
        sizes=&quot;(max-width: 259px) 100vw, 259px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;preemptive : (남은)실행 시간이 적은 순으로 실행하고, 나보다 더 우선순위가 높은 프로세스가 나타나면 중단합니다.&lt;/li&gt;
&lt;li&gt;이러면 Response Time을 진짜 최대로 줄여볼 수 있습니다.&lt;/li&gt;
&lt;li&gt;반면.. SPN에서 해결되지 않았던 문제들은 더 심해졌습니다..&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;hrrn-highest-response-ratio-next&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#hrrn-highest-response-ratio-next&quot; aria-label=&quot;hrrn highest response ratio next permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;HRRN (Highest Response Ratio Next)&lt;/h2&gt;
&lt;p&gt;흠.. 그럼 &lt;strong&gt;실행 시간과 기다린 시간을 함께 고려&lt;/strong&gt;하면 어떨까요?&lt;br&gt;
좀 더 합리적이지 않을까요? fairness도 좀 높이고..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7cea2e91513d26a0b709cfe0f1825c73/3c051/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABuklEQVR42hXO23KaUABAUX6hnTTp1CamShNRMR7ucA53AUUEISAoEgU0xEzSdKZ56Oc3fdtPazbm6fR6DrcLVAZoH8gPC3nny7krfUSTWkvT0gFn0pxK82OcUAHbZBvIwEAbeyaDmQLpa9R6JpahUUdGtYRVINUhamLlvY5tqIAe2WvjA7x3dfGd6Ny8FHuV5d9yPZmLmCMOAhXEGpXZQh3PTkV4XE0fl/L7fva3qca3RL/ba118+3mN/2i1ie6tQgseYn5vjKkMMA+NViadWuzapospk3mKo0kuB446jE2tf32Ft7tnn846l50vn89b5y1+1M8d+ilCJj/EAjRKTWqljzYW2LnMzpfyORtAoHS68I50FEnn+qEJFIrAL7/yw24VwiaRXzLNZAks1slsQn1gD1NQLdhDBJ/XSj7THZ7LXMHTeVvo++q48PjDPapDqfT5cik8p7IHB9jKIBN1UDjMIeAOkdDE6ClFp5VyitGfnfW6nRxTLfckV75bGqCM0DFRdr5Qh2Jhj7D/wwa50YbljDol8JTKjwk8htyvrf1WhXnq3of21BLtiaipzMJTIw+6GmWLw2Iy+Adlin7/BIVX+gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;완벽한 균형&quot;
        title=&quot;&quot;
        src=&quot;/static/7cea2e91513d26a0b709cfe0f1825c73/f058b/image-6.png&quot;
        srcset=&quot;/static/7cea2e91513d26a0b709cfe0f1825c73/c26ae/image-6.png 158w,
/static/7cea2e91513d26a0b709cfe0f1825c73/6bdcf/image-6.png 315w,
/static/7cea2e91513d26a0b709cfe0f1825c73/f058b/image-6.png 630w,
/static/7cea2e91513d26a0b709cfe0f1825c73/3c051/image-6.png 760w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그래서 &lt;strong&gt;Ratio&lt;/strong&gt;를 계산하고, 이 값이 가장 높은 순으로 실행을 하기로 했는데&lt;br&gt;
실행 시간(Service Time)을 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;S&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;, 대기 시간(Waiting Time)을 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;W&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;W&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;라고 하면
&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;Ratio = (W+S)/S = 1+W/S&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;W&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;W&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;S&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 와 같이 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;Ratio&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;o&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;값을 계산합니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Non-Preemptive : 제곧내&lt;/li&gt;
&lt;li&gt;Response Time은 성능을 중시하던 SRT, SPN과, fairness를 중시하던 FCFS, RR의 중간 정도의 성능이 됩니다&lt;/li&gt;
&lt;li&gt;starvation 발생 가능성이 없어졌고, 예측 가능성도 높아졌습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;response-time을-실제로-계산해보면&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#response-time%EC%9D%84-%EC%8B%A4%EC%A0%9C%EB%A1%9C-%EA%B3%84%EC%82%B0%ED%95%B4%EB%B3%B4%EB%A9%B4&quot; aria-label=&quot;response time을 실제로 계산해보면 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Response Time을 실제로 계산해보면&lt;/h2&gt;
&lt;p&gt;예시로, 아래와 같이 프로세스들이 들어온다고 해봅시다&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;process&lt;/th&gt;
&lt;th&gt;Arrival Time&lt;/th&gt;
&lt;th&gt;Service Time&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;A&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;B&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;C&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;D&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;E&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Arrival Time은 레디 큐에 프로세스가 도착한 시간,&lt;br&gt;
Service Time은 실행 시간(CPU 사용 시간)이 되겠습니다&lt;/p&gt;
&lt;p&gt;지금까지 소개한 5가지 방법들로 스케줄링하면 어떻게 될까요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/21716606d3f8ccc97e47b8f50037c8e6/4b39a/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 137.34177215189874%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFuElEQVR42m1V+28c1RX2n8ZvVVVU0QYioUJUqVIAAb8kvEJQW7VSf2krUICIiKcgqloFNtjemhhDXk5jOw+MSQyxV1575z27M3dm7szcOzN37nycmXVSo3alT+fs7OzRud93vnNnSiEOx0lyBXU5C5T9FmVZ9wUhl1VfVrrLq6rq1/U03kdZlvefzVJ+mfDYTFXXJ0GfYarVnNdg0W8gVENPGjSNJjQd9H6utaa8eZC3kYqqtgbFkzOZKE60X5aGUh6Zi9Wxq5V6dpGrpxeYemYhUkf7TB3/kinHMhT3DRW5I+XbhrItk2Ao1zaVaZoySjg45ydmiqLoOpRprMTEgIgm+Gg9wYffN/j4XoOzWw3e22xwZEHg8fkch+YE5u6MYVkWBiOb4MC2LIVKIOP85IOCLErU9q6J3ZGJ2DdQxS5qGdMvFcq6xhW7wZLZ4CrF41cr/OJ8gcfmC/z8fIVTK6HaCyWsgAoKIbqCRc6VCB1MfA9s4sF0fFjuGN44gCzKfS41UVvDyTS2Y41BVMPNG/xpVaknLgM3nYI4zKYFR0mtLlIH41zju0kNWUqUZU6QSPMcVZkhzXJEaUZ5jrrIILOse67KrBOlKEQnSlewPyjULz/j+PNajaNf15i9G+LydoiLWyFyzvDRrRDehKFMQ3x2h+H2HkNN+bWdGHMbnlJFDhYf4LAVJXYNfHI7wLbH8ZdbDV74T4PNsMGpjQZvbUxH6fOdBieuN8iqBiMOPL1UYWnTVVA54oMFozhRQxJk4phgrom7ez6+tTnevVvjzW+JO2jM7mi8tqIRFRp7icYzdJJBWODdda5+e4k4tERbcMqhyLjiEwcxCWI4HjzXRRz4WB6E4LLCPdbgpWsNJkKjqClfrvH1VoAmC3FjGKo1D3BY1nI4LejySt3yNDZ8haIU1FCBmmar0QJaCRJGIskLCCHBUgkvkSRCK5RAKQ+IwvdFmSVRfvapwJFFOuJahDNrE7yzFuD0aoj3bwbYGVkIiAo+NpFNWljYNW3sWg52DEtFmfwphxlPVEh/iKMIJ6/mOE6CvEzkH1tGx1sYJVgmRZ+9EOP5LxP8/lKEyDchAwvZ2FCo85a2/xaM41gZpgnyJXVhQacBnTpvV0S3GFqF70VTxc/cBd4goZ7sp/gN4fAsVy+sAmtTUfY7TLkauzY5xYXtuDAsG7brg4UhwrzE44vA6zclzVcA5AHyJMQ/NxjOrkf4+JtQLRrAbnBAlDAr1SCsMAxLFFJASAlOzsjIJWkusOlLuLEgf5M7CIpQVxkamr+6Sv9XlN52qR46V+LRhRrz3zM68gQ0R4QAaRR0nr7wQ4h5ctDcJuvyPcslz3sYWY5KRYH44LZJkqTdcfCCGMcvCZz6rsHpO61DNExGHTopfn2+4wu/onj0iwTMI1Fo5WX+iJySkSjxTwuahgnfNrs999JXpPayJAsSN5MUWsRQghMSOluCMOZ4fonjqQspfreQqD/Se7cPipLS2Li2Bc9x4Dp2N2dV7KPJGf6wovDytbobqZBFXbTGEU7fiHBqNcYbK0z9awBsjbMDXk6FcpKiI76U7XqiKLIO626B61ZBrsjA07RDlqUkBidRKJbJ/xFloNRDn9Y4/IUmjzLcGgZY3QmwRnHTmKCMPUjmQ7B2AY/h++NurGxv3AqjRKnoTqEOxX6HE5aoe0MTw3GCJ/4t8fC8xiN9jYfnNA71Fd5eCfDBjTHOrI6xtkUzahrg3gj52EDq7dGdkkLwqSivtgU5T0p6SZPSmgZcyzTRVVl0eyurtH7lutbPXdH6qUvQpLiuUqZPXIz1i18l+thSXP59Hbhji1dn6v17mQorugYf8JTQtdgO9/07eHo3T5fs2WGDF283ZL8p/vaNVv8gpwxY3XV4iG7+JSnlOfJzj8bnAdrvjLEe/daTZdUTBF1VvbObVe+vN8seKtZD3eEc6mhRFfzQj9oAmlz/Mfj3AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;스케줄링&quot;
        title=&quot;&quot;
        src=&quot;/static/21716606d3f8ccc97e47b8f50037c8e6/f058b/image-8.png&quot;
        srcset=&quot;/static/21716606d3f8ccc97e47b8f50037c8e6/c26ae/image-8.png 158w,
/static/21716606d3f8ccc97e47b8f50037c8e6/6bdcf/image-8.png 315w,
/static/21716606d3f8ccc97e47b8f50037c8e6/f058b/image-8.png 630w,
/static/21716606d3f8ccc97e47b8f50037c8e6/40601/image-8.png 945w,
/static/21716606d3f8ccc97e47b8f50037c8e6/78612/image-8.png 1260w,
/static/21716606d3f8ccc97e47b8f50037c8e6/4b39a/image-8.png 3104w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;세로 축은 프로세스(A,B,C,D,E), 가로 축은 Time(0, 1, 2, ...)입니다.&lt;br&gt;
각 Time마다 적절한 프로세스를 선택하여 실행(파란색 칸)합니다.&lt;br&gt;
아직 프로세스가 도착하지 않았거나, 프로세스 실행이 끝났다면 회색으로 처리했습니다.&lt;/p&gt;
&lt;p&gt;그럼 이제 각 방법들마다, 전체 Response Time = (파란색 칸) + (흰색 칸) 과 같습니다&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;FCFS : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;43&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;((0+3)+(1+6)+(5+4)+(7+5)+(10+2))/5=43/5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;43/5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;RR : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;54&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;((1+3) + (10+6) + (9+4) + (9+5) + (5+2))/5 = 54/5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;54/5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;SPN : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;38&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;((0+3) + (1+6) + (7+4) + (9+5) + (1+2))/5 = 38/5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;38/5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;SRT : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;36&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;((0+3)+(7+6)+(0+4)+(9+5)+(0+2))/5 = 36/5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;36/5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;HRRN : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;40&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;((0+3)+(1+6)+(5+4)+(9+5)+(5+2))/5 = 40/5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;40/5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;ul&gt;
&lt;li&gt;Time 9에서, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;2.25&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1.6&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;E&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1.5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;Ratio(C) = 1+5/4 = 2.25, Ratio(D) = 1+3/5 = 1.6, Ratio(E) = 1+1/2 = 1.5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.07153em;&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5/4&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2.25&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.02778em;&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3/5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1.6&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1/2&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1.5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Time 13에서, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;2.4&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;E&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;3.5&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;Ratio(D) = 1+7/5 = 2.4, Ratio(E) = 1+5/2 = 3.5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.02778em;&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;7/5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2.4&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05764em;&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7278em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5/2&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3.5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;어라? 그런데 FCFS보다 RR이 더 느리네요?&lt;br&gt;
이게.. RR에서 이야기한 것 처럼, Time Quantum값을 적절히 정해줘야만 FCFS보다 줄어들게 해줄 수 있습니다.&lt;br&gt;
대충 정하면 이렇게 된다는 뜻&lt;/p&gt;
&lt;p&gt;SRT, SPN이 굉장히 빠른 Response Time을 보여주는데&lt;br&gt;
마트의 예를 들며 설명했듯이&lt;br&gt;
&lt;strong&gt;빨리 끝나는 프로세스 먼저 끝내는 것&lt;/strong&gt;이 굉장히 중요했네요&lt;/p&gt;
&lt;h2 id=&quot;그래서-뭐-쓰는게-좋은가요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%B8%EB%9E%98%EC%84%9C-%EB%AD%90-%EC%93%B0%EB%8A%94%EA%B2%8C-%EC%A2%8B%EC%9D%80%EA%B0%80%EC%9A%94&quot; aria-label=&quot;그래서 뭐 쓰는게 좋은가요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그래서.. 뭐 쓰는게 좋은가요?&lt;/h2&gt;
&lt;p&gt;그런데 5개 전부.. 써먹기에는 함정이 많습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;response time에 집중하려면 SRT 또는 SPN인데..
&lt;ul&gt;
&lt;li&gt;starvation 가능성이 존재하고, 예측 가능성도 구립니다&lt;/li&gt;
&lt;li&gt;response time을 계산하여 예측해볼 수야 있지만, &quot;계산&quot;한다는 점 자체가 단점인게..
&lt;ul&gt;
&lt;li&gt;OS의 개입이 추가로 필요해서, 복잡해진다는 문제점이 있습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;그렇다고 FCFS, RR 쓰기에는..
&lt;ul&gt;
&lt;li&gt;response time이 너무 길어집니다..&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;균형의 수호자 HRRN은 어떤가요?
&lt;ul&gt;
&lt;li&gt;얘도 ratio를 매번 계산해야 하니 간단하지 못합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그럼 어떡하죠?&lt;/p&gt;
&lt;h2 id=&quot;feedback&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#feedback&quot; aria-label=&quot;feedback permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Feedback&lt;/h2&gt;
&lt;p&gt;지금까지는 성능을 높이려면, &quot;실행 시간이 짧은 프로세스에게 우선권을 주자&quot; 마인드였는데&lt;br&gt;
반대로, &lt;strong&gt;실행 시간이 긴 프로세스에게는 패널티&lt;/strong&gt;를 주면 어떨까요?&lt;br&gt;
자연스럽게 실행 시간이 짧은 프로세스는 우선권을 얻게 될 것입니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 252px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fa5269e5baec8f11e5813d69966802e0/5e02b/image-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 79.11392405063292%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD20lEQVR42gHQAy/8AMybZd6sc9SjasKSXdmtb+7IgeS9dujAeenBedq3coFoQFlLL2VYNWlMKZtoOrKATLqPV86lYLeJUbaLWQDhsm/aqGrUoWa/jFbWqG7sxX7esm3cr2zlv3m0mF94WT6Ta0yCYEUrJRM4KRKRZTq2h07FmVOseUCzilsA4bBu2qlq06Flu4dS0aJo3bJx2Ktqw5hdvJxekHJNuohs0Z154K2EmHRUEBQJPTAdq3lHv49UtIFIpXdEANqpZ9SkZs+eYryHUdKhZtutbdWsa7+dXayKV6qFaq+Kb5h7YbeTdaB8XCwqHiwqHphsPrqIULaGTKd6QwDYqmfSnmPKl167iVLTomjKnmK/m1y3llatgVu3hWrIl3u8lnuuhWhsUzoUFgssKBiVazqyg0uyg0yre0YA2KllzZ1exZNYvIlSy5xiuJFWuJVYtZNTjWdGj2ZVvI52v5B2kmxPh2dLSzgjak8unGw9pnlEsIVNqXtGANWlYMeWWcGOU7uJUL6UWbaPVbiTV6iFSXxaOopgVa6Ib6Z/Y4dnS5NsUXhQMJlwRJRkNqd6RKyCS6Z3QwDTo17EkVe8ilGzg02xi1Sxi1G6k1Sef0V3XD+AX0mBYkh2WkBoTTFhQiCBVzGfdEWSZDazh0+qf0eidD8A0aJdwI9UtYVOr4FJsIpQoYFOfWlAwbulnpN/XEYpW0cwdlxBjXpibk4vonREpnlCmm4+u5FXqH1FonM+AM2hXb2PUrWESYRlQUdDPCwvOAsXKKGssO3z66WRdquSbpd+XM7OxrK3uFFENoVlP6B5R72RVauBR6h8RADKnlq0h0qTbT0rMTkNHjMYJjAiLztZZGxlcXYmLzRvaVVbV0NIU1l0gogbKDgYJDNPSUG0jFOsgkqofkYAjnxUpns/Xk03BhYpUldQpaeflZqQbHyFLTxMABAjBQ0ZAQUFBA8aMjY+GCAwDRgsDRcqjXFMsIJKpHlDAGdjTpt2QDAzNRouO624pc7WwLm8mn+Mdm6Jh153dUpiY0hdYVZtcqq1qFpzdE5vdT9kb1BPRah6RZ92QQClhFt6ZD4VIDNVbHTMzMKVe0+Rcyeag0CliUOaiE6NkoWaoJenrKKRmI2Sl4uXqZ+a0sszTE+Qaz6gd0AAuI1hTkQ1BRUpK0VRc4WDa2RcYl1TZWhia2pea3FjaYGBY317ZIB7Zn97YHt5WHVwZJGKFzA6c1o7pnhDAKJ8VrCwobrLzY2boDNJVAgeKg8mMQ0mMg8mMg0iMQwgLg8kMg0iMA8jMhElNRIjLwgVIBkoN4l0WqBxPgxor0+68d0MAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;그만좀 해라 &quot;
        title=&quot;&quot;
        src=&quot;/static/fa5269e5baec8f11e5813d69966802e0/5e02b/image-10.png&quot;
        srcset=&quot;/static/fa5269e5baec8f11e5813d69966802e0/c26ae/image-10.png 158w,
/static/fa5269e5baec8f11e5813d69966802e0/5e02b/image-10.png 252w&quot;
        sizes=&quot;(max-width: 252px) 100vw, 252px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;이번에도, &lt;strong&gt;Time Quantum&lt;/strong&gt; &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 정합시다.&lt;/li&gt;
&lt;li&gt;실행을 시작한 뒤 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;만큼 지나면 time-out 시킵니다. (Preemptive)&lt;/li&gt;
&lt;li&gt;이러면 &lt;strong&gt;실행 시간이 짧은 친구들은 하위 레벨 큐로 가기 전에 끝나고, 긴 친구들만 밑바닥에&lt;/strong&gt; 남습니다.&lt;/li&gt;
&lt;li&gt;프로세스들은 &lt;strong&gt;multi-level queue&lt;/strong&gt;에서 대기합니다(&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;RQ_0&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8778em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;Q&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; ~ &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;RQ_n&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8778em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;Q&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;)
&lt;ul&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번째 큐에서 나와서, block 또는 time-out 등, 실행이 중단되면, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i+1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7429em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번 큐, 즉 하위 레벨 큐로 내려갑니다.&lt;/li&gt;
&lt;li&gt;그러다 밑바닥인 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;RQ_n&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8778em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.00773em;&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;Q&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.1514em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;에 도달하면, 더 내려갈 곳이 없으니 여기서는 RR방법을 따릅니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;물론 이론적으로 starvation 가능성이 존재하지만,
&lt;ul&gt;
&lt;li&gt;CPU 속도는 너무 빠르고, 프로세스들은 자주 I/O작업하러 놀러가므로, 실제로는 보통 모든 큐가 비어있는 경우가 허다합니다..&lt;/li&gt;
&lt;li&gt;또한, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q=2^i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8247em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8247em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;와 같이 정해서, starvation 가능성을 더 낮출 수 있습니다.
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;어라? 그럼 0번 큐는 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q=1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;, 10번 큐는 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msup&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1024&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;q=2^10=1024&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8141em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8141em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1024&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;가 되는데, 실행 시간이 긴 애들한테 패널티를 준다면서요??&lt;/em&gt;&lt;br&gt;
=&gt; 어차피 실행 시간이 짧으면 이미 내려오기 전에 끝났을 것이고, 실행 시간이 길어서 밑바닥까지 간 친구들은 실행할 기회조차 별로 없습니다..&lt;br&gt;
=&gt; 그러니 한 번 실행할 때 아주 꿈을 펼쳐봐라, 끝내봐라. 이런 목적입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f9b4911264b3fdf636292f3f839e957c/21b4d/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.89873417721519%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACWklEQVR42j2SWWsUQRSF53cKCj746IMaUSQGwRfxRfFJUVAUMSASCC7BZTCuZNSJiaPZNAuT3qZ6eq+e3qo+q0ew4dLFvV2nD+e7Hd/3tRACKSUfLEXPVQwTxZpbQJ0xmUiSTJLnOZl5V5U5m57MMupaEqcZVZFRFpK6SHSn/RCt0cDpbs7xF5Jzn2BhK+fNlk9vL4Q8wB8HZHHAwiBgwwqwRcCDfmBmIU83It79ibi/GtFpnSmlUEa0DF36v20WfoZ09ybMGOHtUHNroJBV+0vNs33NzEfNQay4uAJPtkqeG8G3v2Nufo3pZMZ60zTGpMbxRtjWIbkY8mzd4du+z9VewcPNhu5QcfuHMqKKxd2GmXc1jlScXS54spFw53vKyrY9dahbsdZl6As818ZyHFLfwXVs3m6OWB8GzH1uuNxT3PuegBS83BCEY58dq41lzMpuwGDX0R3P85QpoijiMK5w05q0qLCjgroyYFROlOWMs5JAFoySyRRQXZqoqtyUnAKpygmTXKpOkqSmUVDVNceWKo4ulVztw901yfbQY37V59AV5JE/dZaEAnfkMzS9xYHPIzP/te8RC4cD26WTTybT/FooY+Hx8qfLjS8Zfafk5LLm+KuGrGymq3St37AummmOo6zhxOuGI0uKU28yfu1aNOMhnTRN/0MRoxaKRSYsHnwzOe2k6KZmfluzJhRn3jfMmiyvfFX4uZpSb+vFgebk65wLXbM2bR6tWPu0C27bBortEI0sQvcQT/jMLcdcX/13uaV9qaeZ/dTgjSPCMKSSIY8HMee7MX8BBdfbr7qRxIEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;image 11&quot;
        title=&quot;&quot;
        src=&quot;/static/f9b4911264b3fdf636292f3f839e957c/f058b/image-11.png&quot;
        srcset=&quot;/static/f9b4911264b3fdf636292f3f839e957c/c26ae/image-11.png 158w,
/static/f9b4911264b3fdf636292f3f839e957c/6bdcf/image-11.png 315w,
/static/f9b4911264b3fdf636292f3f839e957c/f058b/image-11.png 630w,
/static/f9b4911264b3fdf636292f3f839e957c/40601/image-11.png 945w,
/static/f9b4911264b3fdf636292f3f839e957c/78612/image-11.png 1260w,
/static/f9b4911264b3fdf636292f3f839e957c/21b4d/image-11.png 1280w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h1 id=&quot;traditional-unix에서-쓰는-scheduling&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#traditional-unix%EC%97%90%EC%84%9C-%EC%93%B0%EB%8A%94-scheduling&quot; aria-label=&quot;traditional unix에서 쓰는 scheduling permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;(Traditional) UNIX에서 쓰는 Scheduling&lt;/h1&gt;
&lt;p&gt;실제 사례를 하나 봅시다.&lt;br&gt;
옛날 UNIX 시스템은 프로세서가 하나 뿐이던 시절에 맞는 스케줄링 기법을 사용했는데&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 311px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1b4a7a882b4db736e367f6fdedf0373f/ffa0f/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.89873417721519%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACbUlEQVR42gFiAp39AE9bYJminJymoGJrcXV4eIaJhXyFf5yimLe4spygmomOiGpwadDRzv///////83R2A0iRRUpUQohSQQcQwBQXF+qs6yxvLhwe4OAgnt7e3Z2enaNk41mbm8/SlQ2Q08fLzxXYmf4+Pj////P0tYfJj0lMVQaLFIUKE0AfIWCsby2wczDnp6UnZuRfX53oKOaR1didm9lrJJ7iHtuXltUMDo92t3e////0NLXFSA7Gi1MHzFVBxxEAFljZa25stLf1rWxo4yEb4GDdXBxaURQVZ2LdaSPfaaRgYh3ZE5RSsjNz+fo6LO5wRYsUB4zVCAzVwYeRQBYZW21wLnX5t+MgXhfVkKNlYSVk4CqlYWsk3qOfXWZhXhqXlSKg3dgbXIPHyMfLTscMVcmNlwIHUUAGEAASlVWt8K8ws/Hh4qAi5CGiIZ1fHdsr5qFwaGFuJiIpIZvj3hijYR1QlFVHCgrEx8kGy46HzFTCR9HARpCAE9aW6q1sLrGvoSKfYeMg42Hcp2bjaqqoaePdZV9c3plYodxX4KIfUhaWiEqKiEqLiwvRRwtUSMzVxMnTgCdp6mZpaSOl5KMkoVlaVhvdnMuPksrQl1tY1qIb2VrUk5BOzIjNUQkNUY9RUNFTUwSK1AdMFUQJUoDGkMAnqqokp2cfoiHipKNYmx2WmuBWWh5Fyg6RUpPenRwcmlhP0VGCxUgAAscFCItSFBJJDFGJS5PGixPDiRJAJKcm4uVlIWPjWRudk1RWUlOVZCOjUNFSEdNVn99fIN+eYmBex8kKQAFEQAJEg8VISMrRRMjRCM1WRMoTfjg/orvViyLAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;나때는말이야&quot;
        title=&quot;&quot;
        src=&quot;/static/1b4a7a882b4db736e367f6fdedf0373f/ffa0f/image-12.png&quot;
        srcset=&quot;/static/1b4a7a882b4db736e367f6fdedf0373f/c26ae/image-12.png 158w,
/static/1b4a7a882b4db736e367f6fdedf0373f/ffa0f/image-12.png 311w&quot;
        sizes=&quot;(max-width: 311px) 100vw, 311px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;기본적으로 &lt;strong&gt;Feedback 기반의 Multi-Level Queue&lt;/strong&gt;를 사용합니다.&lt;br&gt;
위에서 살펴본 Feedback 방법과 다른 점은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;같은 우선순위를 가지는 프로세스끼리는 :
&lt;ul&gt;
&lt;li&gt;하나만 있으면, 혼자 계속 실행(FCFS)&lt;/li&gt;
&lt;li&gt;둘 이상 있으면, RR&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;time-out이 되어도 아래쪽 큐로 가지 않고&lt;/strong&gt;, 대신 &lt;strong&gt;정해진 시간(ex. 매 1초)마다 우선순위를 다시 계산&lt;/strong&gt;하여 재배치합니다.&lt;/li&gt;
&lt;li&gt;우선순위 구성 :
&lt;ul&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;P_j(i)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6595em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번째로 계산된 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;j&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.854em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 프로세스의 우선순위&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;Base_j&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.9694em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05017em;&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;j&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.854em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;프로세스에게 주어진 기본 우선순위 값(하는 일에 따라)&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;nice_j&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.9456em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;ni&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; : 유저가 조정할 수 있는 우선순위 값. systemcall로 이를 조정할 수 있다&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;CPU_j(i)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;CP&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; : CPU 사용량만큼 패널티를 받는 값. 자세한 계산은 아래서 살펴봅시다.&lt;/li&gt;
&lt;li&gt;이제 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;P_j(i) = Base_j + CPU_j(i)/2 + nice_j&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.9694em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05017em;&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;CP&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/2&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.9456em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;ni&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;처럼 나타낼 수 있는데, &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;Base&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05017em;&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;se&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;는 워낙에 커서 이 클래스가 다르면 역전은 꿈도 꿀 수 없습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;우선순위 계산 : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;8&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;.&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;CPU_j(i) = CPU_j(i-1)/2 = U_j(i-1)/2 + U_j(i-2)/4 + U_j(i-3)/8 + ...&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;CP&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.13889em;&quot;&gt;CP&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/2&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/2&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/4&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/8&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.1056em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;ul&gt;
&lt;li&gt;이 때, utilization 값인 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;U_j(i-k)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0361em;vertical-align:-0.2861em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.10903em;&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:-0.109em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.2861em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 는 : &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;j&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.854em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.05724em;&quot;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;번 프로세스가 저번에, 저저번에, 저저저번에, ... CPU를 차지했던 비중. 입니다.&lt;/li&gt;
&lt;li&gt;즉, 각 interval마다, &lt;strong&gt;내가 얼마나 CPU를 차지했었는지에 따라 패널티&lt;/strong&gt;를 가져갑니다.&lt;/li&gt;
&lt;li&gt;또한 시간이 지날수록 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;8&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;.&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;/2, /4, /8, ..&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/2&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/4&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/8&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;..&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;과 같이, &lt;strong&gt;패널티가 반감&lt;/strong&gt;됩니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fairness를&lt;/strong&gt; 많이 챙기고자 했음을 알 수 있네요.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
다음 시간에는 계산대가 여러 곳 있는&lt;br&gt;
Multiprocessor 환경에서의 스케줄링으로 다시 찾아오겠습니다&lt;/p&gt;
&lt;p&gt;이만 마칩니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🗂️ Gatsby 블로그 깔@롱한 목차(Table Of Contents) 만들기]]></title><description><![CDATA[저저 빨간색 화살표 쳐 놓은 저런거 있잖아요?? Table Of Contents라고 한다고 하네요. 암튼 목차입니다. 저런게 좀 있어야 조금 더 블로그다울 것 같습니다. 먼저 Table Of Contents…]]></description><link>https://sungpaks.github.io/table-of-contents-in-gatsby-blog/</link><guid isPermaLink="false">https://sungpaks.github.io/table-of-contents-in-gatsby-blog/</guid><pubDate>Sun, 09 Jun 2024 17:47:34 GMT</pubDate><content:encoded>&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b71480d50e5b49e1808a50e7df3988dc/701e9/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.632911392405056%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABsUlEQVR42oWTzU7CQBSFy46QUH4K/aXQ8qNFVLDSmJDgjgdhwaPoDpawIDwLr6APAOEFRA0LgZAc515shYWxyUmmM3O/Ofd0KjWbTbiuC8dxkMvlkMlk/lU2m2XRfsuy4Ij6h7aP67oHSZZlpFIppNNp3qyqaqR8Ps9FocJ5RVEiKNVQrSwfGRIthiJ4q9XCY7eLoN1GEATwfR/3Qo1GA71eD51OB4VCgfcy8AccSjp9oRNs24ZbLsMSRWbBgkLuhFNVU6EbBjRNE3MKSrUK8sKtfhLBGZDbEIuOgN36d6hfN3Bzf4fLqzouvEsYlhmJ9lPraVHjCjlCNFZCIOVgmiZDn5+eQM/67Q2f7x/Yfm3x+vLCOZ99FMpOyBKuy6US7GKR3UdAQwApl9FoxMDNZoP1es3jxWLBcYSxJJNJPpzqdF1HpVJBtVoVQPW3ZaLHYjEMh0OGTCYT9Pt9HA4HrFYrJBIJeJ6H2WyGWq0W3QpDOCQYgc8ypEwkSYoczudzTKdTHi+XS26Zrs54PMZgMOADyCWBju40PuBP4G63w36/j1oO71s8HueWT7Mnx+GP8Q1VCUSM33KBqAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;벨로그&quot;
        title=&quot;&quot;
        src=&quot;/static/b71480d50e5b49e1808a50e7df3988dc/f058b/image.png&quot;
        srcset=&quot;/static/b71480d50e5b49e1808a50e7df3988dc/c26ae/image.png 158w,
/static/b71480d50e5b49e1808a50e7df3988dc/6bdcf/image.png 315w,
/static/b71480d50e5b49e1808a50e7df3988dc/f058b/image.png 630w,
/static/b71480d50e5b49e1808a50e7df3988dc/40601/image.png 945w,
/static/b71480d50e5b49e1808a50e7df3988dc/78612/image.png 1260w,
/static/b71480d50e5b49e1808a50e7df3988dc/701e9/image.png 1780w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;Velog를 만드신 velopert님의 블로그 글&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;저저 빨간색 화살표 쳐 놓은 저런거 있잖아요??&lt;br&gt;
Table Of Contents라고 한다고 하네요. 암튼 목차입니다.&lt;br&gt;
저런게 좀 있어야 조금 더 블로그다울 것 같습니다.&lt;/p&gt;
&lt;h1 id=&quot;먼저-table-of-contents-정보를-받아옵시다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A8%BC%EC%A0%80-table-of-contents-%EC%A0%95%EB%B3%B4%EB%A5%BC-%EB%B0%9B%EC%95%84%EC%98%B5%EC%8B%9C%EB%8B%A4&quot; aria-label=&quot;먼저 table of contents 정보를 받아옵시다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;먼저 Table Of Contents 정보를 받아옵시다&lt;/h1&gt;
&lt;p&gt;그럼 일단.. 마크다운이 HTML로 파싱되고나면..&lt;br&gt;
각 헤더 요소들(&lt;code class=&quot;language-text&quot;&gt;h1, h2, ... , h6&lt;/code&gt;)을 가져다가..&lt;br&gt;
그에 상응하는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;a href=&quot;#id&quot;&gt;&lt;/code&gt;를 만들고..&lt;br&gt;
각 헤더 요소들에도 그에 상응하는 &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;를 넣어줘야 하고..&lt;/p&gt;
&lt;p&gt;를 하지 않아도 Gatsby에서 다 이미 지원합니다&lt;br&gt;
각 포스트들은, 제 경우에는 &lt;code class=&quot;language-text&quot;&gt;gatsby-transformer-remark&lt;/code&gt;라는 플러그인 이 파싱해서 HTML로 만드는데 (&lt;code class=&quot;language-text&quot;&gt;gatsby-starter-blog&lt;/code&gt;로 시작한 경우 이 플러그인을 사용)&lt;br&gt;
아주 편하게도 그 파싱 결과에 &lt;code class=&quot;language-text&quot;&gt;tableOfContents&lt;/code&gt;가 이미 준비되어 있어서, 달라고 하면 바로 줍니다.&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 277px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/82230b61bfba574883f8057827dd82a5/2a985/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.82278481012659%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACY0lEQVR42mP4+/fvP1Tw58+f////Hz92QlNDT0lRXVFBzdjI4s6du0BBoBSySgY0zUAuRHN8XCI3B4+cpLSMuCQfF//MmbOBgr9//0bRDMRAUWQhIPfvv//hQSFmKgqy4mKqstKiPLyZaRkg8b9//yMBqGaIfiD5/fv3x48eARm5SQmxtmbSIsKpzg7+xnpxMTFYNEOcDSGB/AcP7i2cO/vNq5eLFy4Q4OZWl5ZSkZYU5ePx9/L6+uULRD/C2ZAwAIpev3Hj2qFdqzrrM2OiC1IzGirKpUSE0h3trdSUhYX4RTg5p02cAPL2r18IzRB+XUWlpZbWlpaSYxMaMtwdnS3MVWWkRfh4JIQFDFUUgZaL8/C4Ozr++PUL2fEgzVs2bhDi5LbV1jo9q+tAf/2Gjupkd1sBNjYBbo6CIM+zfU0bqwu05eU8DHVur1309c0reACBNHe3tMoKi2rIyS+qzL2xaNLZWX2OBprsLIxO+trXV8+9sWDynTkT19fkrc2MKHK1DXBze/XqJUQ/SPO6FSvVpWU0FJWM1VUz/Ny9zA3E+Li5WJgzAj3vbVl5cmrXub6mE911LrrqksIi0nz8rXW1EMeDogqYLDoamzRk5WRFROrraj1cnAQ42Xg52NqzEh6snHV2ZvfVWd0bG4tVpcU1ZWVVJcTtjI3ev30LjSog9evnz8Xz5+/YsvX371+B3l4CnByCfNz2Rtr9OQlLqvLaUyItVJVkhYW15eU1ZeXsTUxev3qFJZ7fv39noKUlzMsrLsjPy8Eqws8rLy4uwssryMUFdJeqjIySuGRUYCAkTQIA7ePW1O8i7OgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;강도예요&quot;
        title=&quot;&quot;
        src=&quot;/static/82230b61bfba574883f8057827dd82a5/2a985/image-2.png&quot;
        srcset=&quot;/static/82230b61bfba574883f8057827dd82a5/c26ae/image-2.png 158w,
/static/82230b61bfba574883f8057827dd82a5/2a985/image-2.png 277w&quot;
        sizes=&quot;(max-width: 277px) 100vw, 277px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
안녕하세요저는강도애요저에게목차를주새요 
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;근데 꺼내는건 알아서 꺼내야합니다 언제까지나 밥상 차려주길 기대할 수는 없겠죠?
&lt;strong&gt;GraphQL&lt;/strong&gt;을 적당히 이용해서 쿼리를 날리면 될 것 같습니다&lt;/p&gt;
&lt;p&gt;그래서 Gatsby에서 graphql을 어떻게 해야 잘 쓸 수 있는지 문서를 뒤적거리다가..&lt;br&gt;
헉! 이런걸 발견&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e28fc8775a9317d04e5eb2c5676bf1a4/cad6c/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 45.56962025316456%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABOUlEQVR42m1Ry26DMBDkO5vcmkNIVC79v35HD6nUNqWAAa9t/MAv6C7ppWoGe7RCmpkduXjY7fb73ePhUFVVWZbHDSV92zmW5+fq9HQu/+C48amIMSF8CN7TyXlZ1hXvgsg4rvrlqj7B+NkaZ4zTxmpiGoqYMiqdm0MIMcaNU9yAXnFJ9nWUTDYwdaMehRWTVZNRxLYImwBtJrwWvS2ydTPaafR3s89pMoZxde0UGyUHIaUUCBBFypkS5oDLYyYG0wJbOM4pZfyvNEbpdjT9wMXQwMCgb5ELrOa91zoIm12gpus/oFIAb9lYd8DYAD0D1vyKce2QFjD5rpLEAob6jdeX8fudhvaLNx+8q2/JlKgcJed78klbIXUPGrCwELfC1PkmxhdCWaYXui+WamoG3fUArIa+oc59+wOsweYHXd9HsQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;graphiql&quot;
        title=&quot;&quot;
        src=&quot;/static/e28fc8775a9317d04e5eb2c5676bf1a4/f058b/image-3.png&quot;
        srcset=&quot;/static/e28fc8775a9317d04e5eb2c5676bf1a4/c26ae/image-3.png 158w,
/static/e28fc8775a9317d04e5eb2c5676bf1a4/6bdcf/image-3.png 315w,
/static/e28fc8775a9317d04e5eb2c5676bf1a4/f058b/image-3.png 630w,
/static/e28fc8775a9317d04e5eb2c5676bf1a4/40601/image-3.png 945w,
/static/e28fc8775a9317d04e5eb2c5676bf1a4/78612/image-3.png 1260w,
/static/e28fc8775a9317d04e5eb2c5676bf1a4/cad6c/image-3.png 1339w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;개발환경 열어놓고 &lt;code class=&quot;language-text&quot;&gt;localhost:8000/___graphql&lt;/code&gt;(또는 &lt;code class=&quot;language-text&quot;&gt;___graphiql&lt;/code&gt;. &lt;code class=&quot;language-text&quot;&gt;_&lt;/code&gt;가 세 번)으로 들어가면&lt;br&gt;
이런 깜찍한 in-browser IDE가 존재합니다..&lt;br&gt;
여기서 적당히 시험해보고 잘 나오는지 확인한 다음 쓰면 될 것 같습니다?&lt;/p&gt;
&lt;h2 id=&quot;graphql-쿼리를-작성해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#graphql-%EC%BF%BC%EB%A6%AC%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%95%B4%EC%9A%94&quot; aria-label=&quot;graphql 쿼리를 작성해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;GraphQL 쿼리를 작성해요&lt;/h2&gt;
&lt;p&gt;Gatsby에서 GraphQL쿼리를 이용해먹는 법은 몇 가지가 있는데&lt;br&gt;
일단 &lt;code class=&quot;language-text&quot;&gt;import {graphql} from &quot;gatsby&quot;&lt;/code&gt; 이런식으로 써주면&lt;br&gt;
graphql 쿼리를 딸깍 할 수 있는 함수?? 뭐 아무튼 그런걸 줍니다.&lt;/p&gt;
&lt;h3 id=&quot;page-query&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#page-query&quot; aria-label=&quot;page query permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Page Query&lt;/h3&gt;
&lt;p&gt;일단 각 블로그 포스트에 해당하는 페이지를 만드는 컴포넌트에서 쓰이는 방법인 &lt;code class=&quot;language-text&quot;&gt;pageQuery&lt;/code&gt;는..&lt;br&gt;
아 참 &lt;a href=&quot;https://www.gatsbyjs.com/docs/how-to/querying-data/page-query/&quot;&gt;docs는 여기&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;graphql&quot;&gt;&lt;pre class=&quot;language-graphql&quot;&gt;&lt;code class=&quot;language-graphql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;token definition-query function&quot;&gt;TableOfContentsBySlug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token scalar&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property-query&quot;&gt;markdownRemark&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$id&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;id&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;tableOfContents&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;머 요런식이면 될 것 같은데요? 대충&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;에 해당하는 게시글의 마크다운 파싱결과 중에서 &lt;code class=&quot;language-text&quot;&gt;tableOfContents&lt;/code&gt;를 가져온다&lt;br&gt;
이런 뜻입니다&lt;/p&gt;
&lt;p&gt;그럼 아래처럼 줍니다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&quot;tableOfContents&quot;: &quot;&amp;lt;ul&gt;\n&amp;lt;li&gt;\n&amp;lt;p&gt;&amp;lt;a href=\&quot;#목차1\&quot;&gt;목차1&amp;lt;/a&gt;&amp;lt;/p&gt;\n&amp;lt;ul&gt;\n&amp;lt;li&gt;&amp;lt;a href=\&quot;#목차2\&quot;&gt;목차2&amp;lt;/a&gt;&amp;lt;/li&gt;\n&amp;lt;/ul&gt;\n&amp;lt;/li&gt;\n&amp;lt;li&gt;\n&amp;lt;p&gt;&amp;lt;a href=\&quot;#목차3\&quot;&gt;목차3&amp;lt;/a&gt;&amp;lt;/p&gt;\n&amp;lt;/li&gt;\n&amp;lt;/ul&gt;&quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;대충 보니까 HTML형태를 이미 구성해서 주네요??&lt;br&gt;
너무 친절해 감동&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 215px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/123450a06e43c576eeeb36d21b07a787/2eb24/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 108.86075949367088%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE4UlEQVR42hWT2VNTBxTG89ShhIQQELLdxJvk5u65S3LvTe6aDZIA2TAJYZVFQIhBKC4Igoq1BTemChmX4jg6ONWpU2lrX+qD7WPbP6rXmfNwXn4z3/nO9xlYAURpFysFkgWBT6Cc6BdVWFQCUQmKyjCvwpwSCEsQyUNyhskMx6J9QZpzKwm/lIQNJAvgtCskQ9pAWFQRLgSEg3aGsHGMS4r6RA2NaKgQw6korA2Gs1VNTFEE7YqqULwPN+gkTjs5FVY0lMbtqM/q87Q7bebuLpPHY9WFRGMIF8dpCdOlZSsKpyI6ImtwvJc0oEEHwQAs6yaQHsBuAt1WP3iqx2ZyOiwE6qJ4MKQhQoJgVTJdkpOFCMX7qZBH0mBBgQ1Y0Imi3QRiQ6EewGUFgU7EeyopwZcXMgdbY1uNYiJNcxoajgWTuYjYxxIhkKABHRZjiA47cMQGujtcrs6ennbU1zWcpfa3x989XXt9d/7lrYnt5YLSGwzFyMSAEE2RGKN75BbjqKbfjOKAG+jo7m63WM36EhcD6wuZR9sjLx/W3zavPt+afrwxVhqKhDUmlYsqvRRMOnEKUBKoktRhArDbLRZLW4fVHAwC+XRwdSq+U88+WB+9vTl1ZTJzsSyXc7yQZLUsH9FwP2pneZ+kwqwIGQgGdADWVmOLtdPsD5ySBe9MgV8blZeHxdmKdGFY/b5RWhyNJ7M8pwVpAfKjDpIBRA0RY5iBYL0BEmgxftVhMQqkh8UchTi2WhN3lga3zxf2Visvv1t4en18ZEimogTLQ37EhgU9ERmWE/qfWW9Ixryo0wl0VUQoy7n7eM9YCr00Ij9olPTZmkzsnR8o9ocJHqVorx+x45SHlyFBhXUYZERMSNIYC+ZEdDiG5GRfQYZGYvBcmrhUVet5bjpN5UsSpQVB2g0FXYKIaClSStEGRsajvYyeW4LzIqizmmRKClyUoaqKTPeSCzluNM3neLhXpeQwXYAJBvZABCDoydcQA8J6KQkNaUQAd/pQu8J4MgI0KEEVDZlMYhNxrI87vQsr7721MQ975MzMg2E71i1EAlIcMyBhn6ASFA/ZCZ+LQVI8OCDCA9FAToIKEd8ZCcpr3nUy9dFa2mdKh/7BGiM6kE5O74zuNiUicH/alh8yypqFZlUOystQSfIXRagoQf0RHymz99b3/rry+OR2889bTzbON7SMqKWYL247xmfalm+bl+90zG+2Dp0LSKFyHK7EkTOyv6xCCe60O8K///z549+fD46e7T9rfvz06dfffh+dKgsx2GBa3TVdut+2utf+zV3T+r6lOp/u4yeSSEWFy7JvoqQ+enH0z3//vjk+PDx49KT55PjNm58/nFTHi3rPDW31HXPj2y/80k3Lys22hU3P4FC1j6il8LEkpkSg7Ln6T29/uHeDazYPHjzcbx4cvDr5I3W2wqsBQ9vKbtvshrl+06SLX7zWPrNirM6GB9Spfmo6S9ECiZbHjo6fv/px6/jdu18+nBy+eHX56HV2YyOk99nYuGNq3Gqdu2a8sGOqX28/e9FcnmovDOeL2lQ+1BUOodXxs/cP8bU7keXNxfuP4XMrX8+sda/sMFlJl33DvLCpj2nphnlpwzK3bhmZN+ZHwVJFSUdNWtZRmzXPrLbMXW2pLVoKE635Scv0ZdOVXbBW/R/X51uZ3tGdsQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;정든다&quot;
        title=&quot;&quot;
        src=&quot;/static/123450a06e43c576eeeb36d21b07a787/2eb24/image-5.png&quot;
        srcset=&quot;/static/123450a06e43c576eeeb36d21b07a787/c26ae/image-5.png 158w,
/static/123450a06e43c576eeeb36d21b07a787/2eb24/image-5.png 215w&quot;
        sizes=&quot;(max-width: 215px) 100vw, 215px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그럼 이제 대충 &lt;strong&gt;TableOfContents&lt;/strong&gt; 컴포넌트를 만들고,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; pageQuery &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
  여기다가 쿼리 넣기	
&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 쓰면, 그 결과가 props에 &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;라는 이름으로 담겨 들어옵니다&lt;/p&gt;
&lt;p&gt;근데.. 그럼 &lt;code class=&quot;language-text&quot;&gt;id=?&lt;/code&gt;에 해당하는 바인딩 변수를 넣어줘야 하는데,&lt;br&gt;
그러려면 &lt;code class=&quot;language-text&quot;&gt;gatsby-node.ts&lt;/code&gt;까지 가서 프로퍼티를 새로 작성하고.. 바인딩 변수를 거기서 어쩌구..&lt;br&gt;
아! 귀찮은데요!! 다른 방법 없을까요?&lt;/p&gt;
&lt;h3 id=&quot;component-query&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#component-query&quot; aria-label=&quot;component query permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Component Query&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/how-to/querying-data/use-static-query/&quot;&gt;Component Query에 대한 docs&lt;/a&gt;를 살펴보면&lt;br&gt;
먼저 &lt;code class=&quot;language-text&quot;&gt;useStaticQuery&lt;/code&gt;를 &lt;code class=&quot;language-text&quot;&gt;import&lt;/code&gt;해서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const data = useStaticQuery(&quot;여기에 쿼리&quot;)&lt;/code&gt; 이런 식으로 받아올 수 있나봅니다&lt;/p&gt;
&lt;p&gt;이게 더 간단해보이는데 문제는..&lt;br&gt;
&quot;정적&quot;쿼리라서 변수를 넣어줄 수 없습니다.&lt;br&gt;
&lt;em&gt;지금 보고 있는 게시글&lt;/em&gt;에 대한 목차만 있으면 되는데, &lt;em&gt;모든 게시글&lt;/em&gt;에 대한 목차를 가져오면 안되겠죠?&lt;/p&gt;
&lt;h3 id=&quot;한-줄로-해결-ㅋㅋ&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%9C-%EC%A4%84%EB%A1%9C-%ED%95%B4%EA%B2%B0-%E3%85%8B%E3%85%8B&quot; aria-label=&quot;한 줄로 해결 ㅋㅋ permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;한 줄로 해결 ㅋㅋ&lt;/h3&gt;
&lt;p&gt;근데 생각해보니까, 각 포스트를 렌더링하는 컴포넌트(저는 &lt;code class=&quot;language-text&quot;&gt;blog-post.tsx&lt;/code&gt;라는 이름)에서&lt;br&gt;
이미 각 &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;에 해당하는 정보들을 &lt;code class=&quot;language-text&quot;&gt;pageQuery&lt;/code&gt;로 받아오고 있으니&lt;br&gt;
여기다 &lt;code class=&quot;language-text&quot;&gt;tableOfContents&lt;/code&gt; 한 줄만 추가하면 되겠는데요?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;diff&quot;&gt;&lt;pre class=&quot;language-diff&quot;&gt;&lt;code class=&quot;language-diff&quot;&gt;export const pageQuery = graphql`
&lt;span class=&quot;token unchanged&quot;&gt;&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; query BlogPostBySlug(
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   $id: String!
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   $previousPostId: String
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   $nextPostId: String
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt; ) {
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   site {
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     siteMetadata {
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;       title
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     }
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   }
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   markdownRemark(id: { eq: $id }) {
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     id
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     excerpt(pruneLength: 160)
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     html
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     frontmatter {
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;       title
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;       date(formatString: &quot;MMMM DD, YYYY&quot;)
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;       description
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;       tag
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     }
&lt;/span&gt;&lt;span class=&quot;token inserted-sign inserted&quot;&gt;&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;      tableOfContents
&lt;/span&gt;&lt;span class=&quot;token unchanged&quot;&gt;&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;   }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 한 다음, &lt;code class=&quot;language-text&quot;&gt;tableOfContents&lt;/code&gt;만 쏙 빼서
새로 만들 목차 컴포넌트에 props로 전달해주면 될 것 같습니다&lt;/p&gt;
&lt;p&gt;그럼 이제 컴포넌트를 작성해봅시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useStaticQuery&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; graphql &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gatsby&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ComponentProps&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  tableOfContents&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;TableOfContents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; tableOfContents &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ComponentProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;toc-container&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      this is ToC
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;tableOfContents&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; TableOfContents&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 하고 시작해봅시다&lt;/p&gt;
&lt;h1 id=&quot;받아온-table-of-contents를-html로&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B0%9B%EC%95%84%EC%98%A8-table-of-contents%EB%A5%BC-html%EB%A1%9C&quot; aria-label=&quot;받아온 table of contents를 html로 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;받아온 Table Of Contents를 HTML로&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6b2692678c368e3b51f8d095d2d4b363/2ad15/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 84.81012658227847%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACUElEQVR42m1T2Y7aQBD0/39G9mnzmlWORRAWEgWjsOQBBZIoEviaw7c9vsGkeoxYpE1rPGqN+6iumjHKslSqaNr23Pen46k7ajtdnG5YXdf3/fmVGVmWSz8Mwsj3AyF9LiTngnHhMe64nusxHMLPMlWWlcpzNKNOQ7IqijCK4ziJkzROkiCIgiBEMqrQziXShQwYE67LdDkU95umARYjimLLcvAPQbbjHmzHdhkcy3awbMdDuSTN0ixHgyRJozhBCk6apiXYlOlx6QdSBugCnBiB4AYBvjRDZpbnKqUS5BVlCToIdq6U63qW4wJtGEaIDiNCDsCMkHM0pwU8TA6zVHV9mTlNU3RGHNoCj54/RR+UL/CVFbaqqstS+wWkUbfJGQAKIlkyxkEsHCF8OpQ+JuACQ6G4xg/kCZCrk1bOSNBZCK2QpBJC76SWDEk/zBKCAvyFLggGKGS/6IwpaVBNI2BH0cBnqghkAaht20IYXJ3ucoeOl2Tw72jCXH0lIBJ2SApiHJeR78E4RKJ7R9/petsMwABCAAPD4Btsk06MY4F4j5JBgzhY9qAcYrCGdKOua6gPeDRMrpq2qbURx0QvwR7YVqRAhbtR182lM57DYPQMumN/Y0NE/8peHgbcXodcj4bf/bn/70u6zTfObdSrw35vmYvF09N0Np/t9/vn1ffZfP68/rHbbcfjyeFwMJfmdrv99Pi4XJrVFbZ0fv/dfN39+vPw8M40zS/z+Xq9nk4/3929ef/h42azGY/Hi2+L0Wi0Wj1PJpO39/c/t7sBwj+dv7VEdnB8dwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;요질알이 됨&quot;
        title=&quot;&quot;
        src=&quot;/static/6b2692678c368e3b51f8d095d2d4b363/f058b/image-4.png&quot;
        srcset=&quot;/static/6b2692678c368e3b51f8d095d2d4b363/c26ae/image-4.png 158w,
/static/6b2692678c368e3b51f8d095d2d4b363/6bdcf/image-4.png 315w,
/static/6b2692678c368e3b51f8d095d2d4b363/f058b/image-4.png 630w,
/static/6b2692678c368e3b51f8d095d2d4b363/2ad15/image-4.png 801w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그대로는 그저 일개 문자열일 뿐이라,&lt;br&gt;
진짜 HTML 요소로 바꿔줘야 합니다&lt;/p&gt;
&lt;p&gt;React에서 지원하는 HTML Attribute로 &lt;a href=&quot;https://legacy.reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml&quot;&gt;dangerouslySetInnerHTML&lt;/a&gt;이라는 것이 있는데
문자열을 HTML로 바꿔주지만&lt;br&gt;
이상한 사람이 준 문자열을 그냥 갖다 바꿔버리면&lt;br&gt;
&lt;a href=&quot;https://en.wikipedia.org/wiki/Cross-site_scripting&quot;&gt;Cross-Site Scripting(XSS)&lt;/a&gt;라는 보안이슈가 발생할 수 있어서&lt;br&gt;
어흥! &lt;code class=&quot;language-text&quot;&gt;dangerously&lt;/code&gt;를 붙여놨다고 하네요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;toc&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;dangerouslySetInnerHTML&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; __html&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tableOfContents &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;암튼 이렇게 작성하면&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 465px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9bdf70342cf0e729cf1e186c75df5dd9/9ff85/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.15189873417721%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABoUlEQVR42pVT2ZKjMAzk/79vM7lIOA0YDPKJjc2xSsjDTGZ2a7dLDyoBanVLRNu2ee9Zx7Q2rO+tc9sT67ZibH9F9HhvXZ2dgg/eh2VZtn9GNIeZS572aS2qhCUEyiM9E17/qj9ids36BFv/8WN8hmODAWklH7mZRj3pKUzSqdEb68d9+B8lRCEEZTThZSdpLepOd+VQFFC0kqZDVnLSqObaXe4sZrolUGQsibvMefdixqwfGRIKy5WTmEgnjDeYqEkj/zAOfAQsUkV70/dm8LN/GYZAt3DyRjQEqmsXt4pVQOL+Wok6pvG9S8MSfnYbFS3Limph5MIKboV0EszADI5jYASkmpf5u/JoL+GSmGxRW8mLc3NO+gT137vbhV5yyG7sfqwPp/qEjT63eI39UB4s0oLl8FRuJqOdwoqa1EO8U8oqG8Y3t2cQcKKHQ/1BRJVDfmmOh+aUD3kJRcJuxZBTSQmQVrbrurzvGfVoh72leFqNJCh7r8hnYOVxCE69a8YLk0qUQ5pDOYWw/Q8i9Nn5CeyAlu772H+JL7Hj25H9BkpmJ0vl6xtRAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;HTML로 변환함&quot;
        title=&quot;&quot;
        src=&quot;/static/9bdf70342cf0e729cf1e186c75df5dd9/9ff85/image-6.png&quot;
        srcset=&quot;/static/9bdf70342cf0e729cf1e186c75df5dd9/c26ae/image-6.png 158w,
/static/9bdf70342cf0e729cf1e186c75df5dd9/6bdcf/image-6.png 315w,
/static/9bdf70342cf0e729cf1e186c75df5dd9/9ff85/image-6.png 465w&quot;
        sizes=&quot;(max-width: 465px) 100vw, 465px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 나옵니다&lt;/p&gt;
&lt;h1 id=&quot;css를-넣어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#css%EB%A5%BC-%EB%84%A3%EC%96%B4%EC%9A%94&quot; aria-label=&quot;css를 넣어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CSS를 넣어요&lt;/h1&gt;
&lt;p&gt;저도 &lt;a href=&quot;https://nocss.club/&quot;&gt;no-css club&lt;/a&gt; 참 좋아하지만 정식회원은 아닙니다.&lt;br&gt;
그대로 쓸 수는 없겠습니다?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 310px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3dd3b2d405400816612573df35a59bde/5fad2/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.53164556962025%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AJZjUIVfTHhYRI1jTYJcSnNTRYFbSZFhUZViUZxmVJJjTo9hT5NiUZhlUYxcSq2lX/L2ivb4kujvjt3qigCKWUmAUkl5TkKWX0yRXEuSX0+SYVCTZE+KXUlyT0N/X09qUUN8V0aTYEiPXEqknljf43bw74TY34K8z3cAkK9iip1dgIpVgntTeGdNbVhGfFZGjl9Md1RHjGxapYBrs410yI9umGhXhm9giYpzoaWC2d2f6u6f6u2UAK3idLXqd6vidK3geKjYdpzGbY6zY6idZd6ui7yYfLKOcb+Nbfe6lMyziay2idrgxuzy5+ju6eDk2uDYyACdz3GJtnGl2HCp3HKr3nSw5Hiw53qz2nLa37Xy6+Tu3sm/q6DKwYP8+Y///5be54nJ2YLo7pnY3Zze164AK1hyDTtqncp0qt9yqNtzqtx2qdx1p9hy3+vR+ff/+Pf96/Xwtth/0d506u+G092BwtF2//+T/P6U+/+SAGogUDksXpWJbMThgKjbc6rcdKzfda7ddNfEktTastPVr87LmKrdd6LOb6LIbabNcLHRcb3TeMvVftrhhQC2ZkC4IC2mU0S34ICw43i36n+r43et4Xew1Hys4XSt33ex3nuy5nm+64PT6Yu/qWmrjVmmrmSq1HSr0HUAqd9zq8VorYBNs45WvV1HxoRizdCAtuN8tuZ70deCycZ6v89/ruh9ytl/wmBFwh0uvREqrTc3rc5ytOt7AKrbcavneK6TUassM7gfM7UWLqV9V6rgeaSyZLpHPMMvPK49PqijZKPNbqlbQ7YrN6E/PJmiYavhdrHiegCp3HGp3nCh1nWHnHJ/eWGEaWGOk3Sey3qOiWuZSEuKRUiIX1udjmSLpnyCjXKGiWuSqXqcxXys3ney5HoaD4cbxiEI0QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;오늘은 어느걸 입을까?&quot;
        title=&quot;&quot;
        src=&quot;/static/3dd3b2d405400816612573df35a59bde/5fad2/image-8.png&quot;
        srcset=&quot;/static/3dd3b2d405400816612573df35a59bde/c26ae/image-8.png 158w,
/static/3dd3b2d405400816612573df35a59bde/5fad2/image-8.png 310w&quot;
        sizes=&quot;(max-width: 310px) 100vw, 310px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;뷰포트가-넓을-때--사이드-메뉴로-만들어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B7%B0%ED%8F%AC%ED%8A%B8%EA%B0%80-%EB%84%93%EC%9D%84-%EB%95%8C--%EC%82%AC%EC%9D%B4%EB%93%9C-%EB%A9%94%EB%89%B4%EB%A1%9C-%EB%A7%8C%EB%93%A4%EC%96%B4%EC%9A%94&quot; aria-label=&quot;뷰포트가 넓을 때  사이드 메뉴로 만들어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;뷰포트가 넓을 때 : 사이드 메뉴로 만들어요&lt;/h2&gt;
&lt;p&gt;저는 shout out to velog 하고싶은데요&lt;br&gt;
velog는 아예 포스트 section은 중앙에 고정이고&lt;br&gt;
사이드에 목차를 표현할 충분한 공간이 있을 때만 사이드 목차를 띄웁니다&lt;br&gt;
그럼 먼저 오른쪽 사이드에 고정시켜야겠는데&lt;br&gt;
velog를 개발자도구로 좀 뜯어보니까&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.toc-container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; fixed&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 25%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대충 이런 깔로 했네요&lt;br&gt;
전 클래스 이름을 table of contents 줄여서 toc라고 했습니다.&lt;br&gt;
영어권에서는 ToC라고 줄이는것도 은근 국룰인 듯&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4a113275bcbf47ad8e9db61fd280e9b6/ee515/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 28.48101265822785%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2ElEQVR42l1Q0WrDMAzM/3/MXvbYPRX2sg8YDDYYNGni2kljW65kW3aqrFvJKg5zIN35uMY5tyxLrXX5P6WUO5dtiqlwebhpvqbd97w/+H3n397V08G+fujnT/OyPUo5a9BjGE0wkEC8csnyNkq31o+UvABwwugDzYHsVpyZRdZDf/THAYYJpzOeKVPDXJmLICe+kRXiLAsJ/KeHCL3vBa1tddAiWmOftFEnLRBizDhbh0gXxJjS/WdxVaBE1rlu8INYENMqRvqZGLk89rGJnSVnXVv9xa2wKzFlWsy3/gCmAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;오른쪽으로 보냄&quot;
        title=&quot;&quot;
        src=&quot;/static/4a113275bcbf47ad8e9db61fd280e9b6/f058b/image-7.png&quot;
        srcset=&quot;/static/4a113275bcbf47ad8e9db61fd280e9b6/c26ae/image-7.png 158w,
/static/4a113275bcbf47ad8e9db61fd280e9b6/6bdcf/image-7.png 315w,
/static/4a113275bcbf47ad8e9db61fd280e9b6/f058b/image-7.png 630w,
/static/4a113275bcbf47ad8e9db61fd280e9b6/40601/image-7.png 945w,
/static/4a113275bcbf47ad8e9db61fd280e9b6/78612/image-7.png 1260w,
/static/4a113275bcbf47ad8e9db61fd280e9b6/ee515/image-7.png 1269w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;오른쪽으로 잘 붙어버렸습니다&lt;br&gt;
이제 velog처럼, 얘는 되게 부수적인 놈이면 좋겠으니&lt;br&gt;
화면이 줄어들면 없애버리죠?
그리고 밑줄이나 리스트 장식들은 쳐냅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;@media &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/*적당히..*/&lt;/span&gt;&lt;span class=&quot;token selector&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;.toc-container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.toc&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;border-left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; solid 2px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;padding-left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 10px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.toc a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;text-decoration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.toc li&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;list-style-type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;뷰포트가-좁을-때--게시글-맨-위에-냅다-목차를-넣어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B7%B0%ED%8F%AC%ED%8A%B8%EA%B0%80-%EC%A2%81%EC%9D%84-%EB%95%8C--%EA%B2%8C%EC%8B%9C%EA%B8%80-%EB%A7%A8-%EC%9C%84%EC%97%90-%EB%83%85%EB%8B%A4-%EB%AA%A9%EC%B0%A8%EB%A5%BC-%EB%84%A3%EC%96%B4%EC%9A%94&quot; aria-label=&quot;뷰포트가 좁을 때  게시글 맨 위에 냅다 목차를 넣어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;뷰포트가 좁을 때 : 게시글 맨 위에 냅다 목차를 넣어요&lt;/h2&gt;
&lt;p&gt;사이드메뉴를 시킬 돈이 없을 때는&lt;br&gt;
그냥 게시글 시작할 때 냅다 넣고 싶어졌습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; mediaQuery &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;matchMedia&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(max-width: 85rem)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  mediaQuery&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;change&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; event &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;matches&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setIsWide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setIsWide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;window.matchMedia()&lt;/code&gt;로 미디어 쿼리를 가져오고&lt;/li&gt;
&lt;li&gt;미디어 쿼리에 &lt;code class=&quot;language-text&quot;&gt;onChange&lt;/code&gt;리스너를 등록합니다. 미디어 쿼리가 &lt;code class=&quot;language-text&quot;&gt;match&lt;/code&gt;일 때 state를 켜고 끄기로 했어요&lt;/li&gt;
&lt;li&gt;이제 컴포넌트를 &lt;code class=&quot;language-text&quot;&gt;isWide&lt;/code&gt;여부에 따라 다르게 렌더링하게 하면 됩니다&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;어라 근데 목차를 접고 싶어질 수도요&lt;br&gt;
접고 펼칠 수 있는 더보기란을 만드는 HTML 요소를 활용해서 만들어봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;details&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;더보기&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;summary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  더보기애용
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;details&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 하면
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;details&gt;&lt;/code&gt;밑에는 자세한 설명을 숨길 수 있고&lt;br&gt;
하위에 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;summary&gt;&lt;/code&gt; 요소로 미리보기 제목을 넣어줄 수 있습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 199px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c4072a09d571b0b28e8b9f6f67941520/3d64b/image-9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 127.84810126582278%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAIAAAA44esqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEZUlEQVR42m2VeyjfXRzHv4/LJtKjmEszcie3WStr0lDG0CK5hZDk0vwz97KYO81KaC1aro1omMswNrOYxJZbCWUYhthke3L3vPxOaT0954/T93fO+Zz3+/N5vz/nJ339+nVvb29ubs7Hx8fExMTGxsbKysrS0pJZV1c3ODh4Y2Njc3Pz+/fv6+vrFzMr8/Pz0u/fv3d3d8vKypydnS9fvvyXbMjJyUmSRDAnzs7OTk5Ozv4Yp6enzD9//pTYCAkJKS4u/vz5s5eXF/EKCgry8vJKSkoDAwMcOjo64gwBBwcHx8fH/8gGi0BKg4ODnPP19d3e3i4sLCSSeGDJQkQKnJ2dHe6anp5uaGiora39+PEjd0kPHz7kqJ6eXl9f3+Tk5PXr11VUVFiJi4sTDPf39xcXF8fHx4eGhpaXl9va2jo7O0kHfOnmzZscvXLliru7+8LCQlFREURYefDggciQ8jQ2Nj579qynp4cYYOvr6ycmJs6DDQwMOEqSqqqq4F+7dk1RUZGVsLAwIkkScMjz3dTUVFdXV1lZCXNuOTw8lNCGo6JIFBm2ubm54eHh5Ly1tSVKLdL+8uXL1NTU2NgYH2ydI8fExBBMkYi0s7OD1ezsLIAQoypCpFPZ+B+pWltb3dzciL969WpCQkJvb+/o6CiVZBtia2trFOzPmIsPrCVFRUXdv38fzvb29pGRka6urq9fv2ZPxJMtDgNEpL0vGwQjcnNzs/T48eOMjAwtLS0cBuyjR4/8/PxEpOAs5qWlpadPnyIV3zU1NXfu3MnLy5NKS0spoL6+voeHR0FBAVkgnqOjI5oLhmA+f/7c2NgY8cgCb2NHvJCfny+hYWJiIj88PT2zsrI+fPjQ0tKSmZlpaGjY0dHx7du3tLS027dvI0+dbLx7966kpITsoClxWVVVFfYODAx89erV27dvP336VF5ejvNycnLgDBdcsbKyQp7k/+PHD3iNjIzQURLchoeHb926FR0d/ebNG7ZBQye4ZWdnX+hM5dGPn2gBUkpKCp6VhPqXLl2CKh5aXV0FBJ+HhoZSDiHYReV+yYawxszMzHnwkydP+JGUlIR7u7u76TPcf/fuXeokHPofe+ALwCiNBA4tERAQgB/7+/vb29upGVVwcHDAbReCX0TSJziCKiLqeffw6ERERNCMXAYm4PHx8UZGRsypqakvX74UnAUFdnE+eNbW1uedLLrq3r17SEXalC05ORlu3t7eSEB5BazInGANDQ1C1NXVJb6I1NTU5DFBvfT0dPCpAs5DVSThGcAYwqrCguK1UFNTk0xNTWlgbW3tGzduwBw/VFRUvHjxAs5BQUGkg4dFztxlbm7u5OQkXovzhwDFSY9g7vtbNsDHvdXV1WTR1dUlWoJa0LMQpItoBCD9/f0l6mxra2tmZkYOXEFjcitWJZ4AUer379+ryIaFhYWLiwstBC98LfEA0BU6OjrMxPPuU0KqQBbcS+vExsayDhR/A8rKyrBFHRxZVFT0Lxv5i41OFuuaAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;자세한 설명은 생략한다&quot;
        title=&quot;&quot;
        src=&quot;/static/c4072a09d571b0b28e8b9f6f67941520/3d64b/image-9.png&quot;
        srcset=&quot;/static/c4072a09d571b0b28e8b9f6f67941520/c26ae/image-9.png 158w,
/static/c4072a09d571b0b28e8b9f6f67941520/3d64b/image-9.png 199w&quot;
        sizes=&quot;(max-width: 199px) 100vw, 199px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그럼 아래와 같이 나옵니다&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/QrDYD51.gif&quot; alt=&quot;더보기 테스트&quot;&gt;&lt;/p&gt;
&lt;p&gt;그리고 여기에 &lt;code class=&quot;language-text&quot;&gt;open&lt;/code&gt; attribute까지 넣어주면&lt;br&gt;
기본으로 열려있고, 필요하면 접어버릴 수도 있게 됩니다&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt; 더보기는 이렇게 생기게 만들었습니다?
&lt;/summary&gt;
&lt;p&gt;아 빵애애요&lt;/p&gt;
&lt;/details&gt;
&lt;h1 id=&quot;진짜로-링크를-연결하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A7%84%EC%A7%9C%EB%A1%9C-%EB%A7%81%ED%81%AC%EB%A5%BC-%EC%97%B0%EA%B2%B0%ED%95%98%EA%B8%B0&quot; aria-label=&quot;진짜로 링크를 연결하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;진짜로 링크를 연결하기&lt;/h1&gt;
&lt;p&gt;근데 지금 이 상태로는, 목차의 각 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;a&gt;&lt;/code&gt;태그를 클릭해도&lt;br&gt;
주소창에 &lt;code class=&quot;language-text&quot;&gt;/#id&lt;/code&gt;가 들어가지만 실제로 이동하지 않습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 263px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c09f652bee0fb74d3901dea501782cc0/17741/image-16.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.78481012658227%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADjklEQVR42hWL/VdSBxzG7x+zX3dOdd8geyE9vrJmx9bmdE6MTrq11tYgO8UYIqgHUI+Wx6HYqFaKwKUQSF68vHgvGGuXLBWFAOUdz5RikuDa2u2cz3nO93me7wMwalkIuxKqZ8F1LOSTauhcLfQVG+pohLhnkPM0TfD5RqiNDTbXII1VSB0LrWExaqvQ6pOMmpMA2spGWxpADhu6/Dlyox3u4aK9FxFpF9rXhUguotIuhrSTTmDxBUTQAV9thrifQq0NSGsD1FIPILw25GYHY/A7dJyPTnSjk90MVTcyxYOnriEqPnOCf3SSx1DxURUfVvFg5U/w6BVUdAHht8L8FgAauwKrr0MPhUdmxeBsD6jpAWdFh3VCRCNEdJLDeukhrRDU9hzRig5pxeCMCJr+Gb4vgMevgiOXAVAvhIy90JwEMkthywdQs/Rjq4Kj5V5Sn2VoJHV6MfikD7Z8ADJLQFMvaBSDBhE4LQBQ2wDDJmM6FEcdClqZdnmFXQFZFWPyZrwTVfI4XOMIuCCrsMuZDjndMu30m4yeoJZ+4BiuqMDlx52KE85BlnO40jXEIkfYeomi6RT2RbX6luTSY1mFe6jSPXTKOczCh07giuML8mO4nF4BDcSt096xpiXlZ/7JNv9djv9eO6X+/ulvNx8M/iJo/Bbrbg/c51Bqzh/3vvarv/RPnV369bRvvJ68XUUMAz+szFxbxQRrpt41kzRk6Q9ZZK9s8vX5gVXzaNg8vGKWx9wDYWt/2NYXeiLaMAmDc9fXHv24qv1m+SFwO+a+E1/6PUXpspQ599L2V3BhN+TZDXvzESIfJd5E6du5G7LvrM9vrxiyy9MZ6m7CNxZblEdwIFiMbxYzudLOm4NCsbRXLpf+Ke2/oym/fVfe/7dcovWgXCyX9/ZLhWK5sFPKJ/dz4beJwF4U0JAuA+nCCLee8GDeRT3hNvhIjCQwrwcjPTrCrSNdukUcI92Yl9B5nBq3fdbjGMeto1YLYNoIKvUaHYFbnvvumB/NOO0qo0Hrdj5wzCsfYwbfIp1gpHPCiKnm9K51KpjPxAupTiry0XwISBZe5+LRTCqW38mkU7HtbCK8sZJNJ7Yir+KbkVwmSSe5dCIS20jGI3+/3v7v4OD9+6JkfeucyQvgqcSL7Oaz9CaVjAUyCSoZf5FNUpmt5XT8eSYRSMcDqTiVpm2Cbv9MxJ7Goi/TkU7Xs0q14X8TgiHB1hKUswAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;아무일도 일어나지 않았다&quot;
        title=&quot;&quot;
        src=&quot;/static/c09f652bee0fb74d3901dea501782cc0/17741/image-16.png&quot;
        srcset=&quot;/static/c09f652bee0fb74d3901dea501782cc0/c26ae/image-16.png 158w,
/static/c09f652bee0fb74d3901dea501782cc0/17741/image-16.png 263w&quot;
        sizes=&quot;(max-width: 263px) 100vw, 263px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;본문 내 각각의 &lt;code class=&quot;language-text&quot;&gt;h1,h2,..,h6&lt;/code&gt; 요소들에 &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;가 들어가있지 않기 때문인데요&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 230px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ceca7d118d2f68978fd1839ca5ac6f6d/81c8e/image-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9UlEQVR42o2SW66DIBiEu//12USjqSKooNwvAlbr+dMFlDMPvH0MM8Mj2z1ym2zouo4yKjjPOgSmDxc/13X/1GPftHktYdN1XQ/DgNEYZqm6BW683mcBTgZ8FJzW2r7vV7Ym6TyV2YTPWXKO0lm0Bm4YY4QQJWRmRr9oUr4MJ+0DVVG5qqrmr5qmgYc4vO3cvmMuwA7zqB0w0zSB+Uhw0sEMLBZhqMr0NKwaIfR8PscepUWrbo7iH4UdPu6byT7Kr7xzSTkIkt1eniosUrWzXQRM1bYtJlivEiqUDYEVCjCkgmKPELVS0JaQ4kwZfg508Tvwfd9/8GtA1ZDkkX0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이렇게 생겨서 그럼&quot;
        title=&quot;&quot;
        src=&quot;/static/ceca7d118d2f68978fd1839ca5ac6f6d/81c8e/image-10.png&quot;
        srcset=&quot;/static/ceca7d118d2f68978fd1839ca5ac6f6d/c26ae/image-10.png 158w,
/static/ceca7d118d2f68978fd1839ca5ac6f6d/81c8e/image-10.png 230w&quot;
        sizes=&quot;(max-width: 230px) 100vw, 230px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;아직 요소 내에 id가 없다
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;이것도 간단히&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;gatsby-remark-autolink-headers&lt;/code&gt; 플러그인 딸깍이면 해결됩니다.
&lt;code class=&quot;language-text&quot;&gt;npm install gatsby-remark-autolink-headers&lt;/code&gt; 대충 이런 식으로 설치해주고&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;diff&quot;&gt;&lt;pre class=&quot;language-diff&quot;&gt;&lt;code class=&quot;language-diff&quot;&gt;{
&lt;span class=&quot;token unchanged&quot;&gt;&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     resolve: `gatsby-transformer-remark`,
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;     options: {
&lt;span class=&quot;token prefix unchanged&quot;&gt; &lt;/span&gt;       plugins: [
&lt;/span&gt;&lt;span class=&quot;token inserted-sign inserted&quot;&gt;&lt;span class=&quot;token prefix inserted&quot;&gt;+&lt;/span&gt;          `gatsby-remark-autolink-headers`,
&lt;/span&gt;			/* 생략 */&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;gatsby-config.ts&lt;/code&gt;에서 의존성을 추가해주는데&lt;br&gt;
주의할 점은, 얘는 &lt;code class=&quot;language-text&quot;&gt;gatsby-transformer-remark&lt;/code&gt;플러그인의 플러그인이라&lt;br&gt;
그 밑에 &lt;code class=&quot;language-text&quot;&gt;gatsby-remark-autolink-headers&lt;/code&gt;를 끼워넣어야 합니다&lt;br&gt;
구조가 특이하고 재밌네요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 497px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4722613bbeee82033ea724fece4f9146/15d25/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.151898734177216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvElEQVR42jXN3U7DMAwF4L7/oyENBheg0DXQirImS+3Ycf560ZEisM6FpaPP7l7U2mu5aHh4pbPOwwjvvXnu5aTz+SM/6fQ4xNOQ1BgvI6g37Kes5qy+0qe7dwy+eNkYvxe2WHKggpaBDSRHZaXSlhYJRYjE4sbp/j8dNYyyBT/NfjISOVRyCb1ZD4yhWswGE3FpVTtZQPZ9/8NgXfVSEeYrAdfKa7wt7hYWzM4fb5f1SOREgHKFLZbD/fIfJ4Df0ZOZTlQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이렇게 됐어요&quot;
        title=&quot;&quot;
        src=&quot;/static/4722613bbeee82033ea724fece4f9146/15d25/image-11.png&quot;
        srcset=&quot;/static/4722613bbeee82033ea724fece4f9146/c26ae/image-11.png 158w,
/static/4722613bbeee82033ea724fece4f9146/6bdcf/image-11.png 315w,
/static/4722613bbeee82033ea724fece4f9146/15d25/image-11.png 497w&quot;
        sizes=&quot;(max-width: 497px) 100vw, 497px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
이렇게 되었습니다&lt;/p&gt;
&lt;h1 id=&quot;현재-보고있는-부분은-사이드-목차에서-따로-표시하고-싶어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%98%84%EC%9E%AC-%EB%B3%B4%EA%B3%A0%EC%9E%88%EB%8A%94-%EB%B6%80%EB%B6%84%EC%9D%80-%EC%82%AC%EC%9D%B4%EB%93%9C-%EB%AA%A9%EC%B0%A8%EC%97%90%EC%84%9C-%EB%94%B0%EB%A1%9C-%ED%91%9C%EC%8B%9C%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%96%B4%EC%9A%94&quot; aria-label=&quot;현재 보고있는 부분은 사이드 목차에서 따로 표시하고 싶어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;현재 보고있는 부분은 사이드 목차에서 따로 표시하고 싶어요&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 214px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/713ccd4f82b50cec1fc95771e3c83fd0/a48b3/image-17.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 110.12658227848102%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD10lEQVR42o1QW28bVRDefwcvgJCQAFUCVMQjEj8CEA9NSeI0lZqIJtBcapOkiWuvvY6v673YXl/S2HHs2nvzrm+7Xntv3vU6IYyVgqo2SBx9ZzRzZr6Zbw4yn89VVeU4rt/va5omSRKEo9EI/MFgoCgK+LZt/3XXQSaTSTKZDAQCGIZRFLWzs4OiKE3TlUolk8kQBJHL5er1+s3NzfX19btkmDwejw3D0HV9Op3OZjOYY1mW67qmacLLnTNvGyGe593SQILjONALLPBvX/5L8JvJ0APW43keHJAgCPxI6Xuz2c0/5+1q0AWtQRF80NXVFQIXJnS7XUiA0+mIY00Fze9v+C8ZlhoOh2/IUAaFngeSF4E3vwL3bnjeDO6icnGAPDdNA/4IutzK/J8AaYg78wrl88p5fajppuNNrJluz4zpW3gnnHpgddsFlYhqTddj7FqUW4m0f0VbgOUI2OYy+tqHtn2RBR5FuUcYt47x69jCWcW4lVBzqE8R1ZyuRFpLYXYp3F7YYPNhhF3Gug9C7Yfh1jLKrkagml/FBF9MXIt1VmOdZayzFOL6ugOTnc2ksJEQn8SFJ3HxMdr49OvvP7n33VZG3ohLG0lxMyX+lu48TUtbeHcLl7ZxeSvT24yLiuEgmu38gXPbuLCd4bczHKQPIyHfz1/+8KNvL6/Ay7OsuEcs8JyS/LTkp+R9Qn6G8yPTRXTbOaD45xTnJ4W9LPsiz1uOyrH0x599vhl9dViQ/bQQyEsHBfmIAfQOi90DRvbnBM1yEcNxT5jOEdM5ZuQAJWbrnak9kXriF998+8vTE+xCfcEIwZL8siSHy11AqNJ9We4dM9LYdhHTdlCaDVFsmG4dE6+zpQtN61826x98+NFPvt10VQ3TLFYQT4tSvCTHKnKs3I0We5G8oFsOkO04WT+lLzGyGkyUsySpKFKjeXHvq/sP1nZP6VYwcYZmaxjZiGTrYKPZBka2g+naxLARy3YSuXqcbsRzl2jmPJqgBkOpzTU3f9/fP8ZPaaiuYUQtRtaj+AWavAgnatHM5RF2pulAnk5TdDOVa+JMK1NoJ3PNWq2aSoXCcTyVb0EqSUOqTRQ5siQQRZ4sC+l8K0E1YF/Echy60s5XeKbCMWd8sdrxB4K+9ZVElskyLIAq8dkie5I83wuX/jw93wmdre9TqztpdWwgpuWgeDVBNckCtGfpM4Eq8nRJJGAawyaIBl5ok2UOlsKIyyheRzPVo+ir3SA91k3E9TxOGsiDyVA1ur1xf2AMlIncG8m9saKZveFkoOjKyNQmlja2Fs7YMgx3qE5mc+9vWEloV0h22tIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;여기가 어디지&quot;
        title=&quot;&quot;
        src=&quot;/static/713ccd4f82b50cec1fc95771e3c83fd0/a48b3/image-17.png&quot;
        srcset=&quot;/static/713ccd4f82b50cec1fc95771e3c83fd0/c26ae/image-17.png 158w,
/static/713ccd4f82b50cec1fc95771e3c83fd0/a48b3/image-17.png 214w&quot;
        sizes=&quot;(max-width: 214px) 100vw, 214px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;지금 위치한 곳이 어딘지, 사이드의 목차를 보면 알 수 있게 하면 좋겠죠?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 254px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1019c0dbf23e45c5b73d7aa360b38a11/6a91e/image-13.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 184.81012658227846%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAlCAYAAABCr8kFAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC6ElEQVR42rVWiY7aMBDd//+RVu2qKqrUVVWVqqIgSreoBZYzEI5AAEG4jxCSVz+zLimb7HLsWhp5YjvPM88zHl9BNM/zpKj2lH643t+uOGHbNrbbLRzHwXK5xGazkTrnXNeV+mq1kr2SUEACJJNJmKaJZrOJVCqFQqGARCKBxWKBeDyOarWKdDqNbDaLcrmMWCyGRqPxwAMJSAvG4zHW67W0YjqdSun3+9JSbsRNOTYajeTa4XAoxwIt9PPj58jfwtwLBKSFtOSwHYKrDR87EAnIwyAgXaYrdHs2m+Hctge016jX6+h0OpK/iwBpnXKLFAS5fDzgeAY78QcwekBLWNbsil7oDXPX87tmhIvWBPrWHtAZjuFGf2L8K4vbtxHUPn9DJnIDM/YD5ZsvaH1NwM1VgHz1oRSEZMVcu3d/krRwOME2egtLACZfv0Puwyd8f3WN35GPSL55j9R1BNs78VNRFwC1/6UoJKcBnb4P0JrCjqYA3YCnCSmLDNBa8CpN2Usp6cFS1ndWmn0fh+KE7dEEcLbwNg7gejudsralwN48LmLtnsP7S2EymaArwqUnpNvrwRJpdlbYEIxxyGBm3tZ1HUarha7QL47DoPQ7PQ4PAvvSdqUuTOYx78OWcJfCO5CpaFnWSZv9y2VeCoPBAIZhyFwmOPOa99/JgGEcHnJ59PX1IhyyfhSLRWiaBl2ETq1WkzwqTslnpVKRNYVrGLeBNYUWsuqxcRFrB8HZkz/GJ8fn87nUOcaD4pqzOTw7Dnm5+mux0tX4UYeiOKQrmUxG8kT+8vm85JI1mlxyPIy3QA5pBesueWLN5Rh5I1f8Zq+q49Fh82wcqrcNgdnTWvZ+IS0c51oK13IskEP+wHQjh+SPsUbu2u22TD/yx9jj26ZUKkl+c7mcXMt/QznkrsoC9dpS34pT8khdvcgCA/tFOFS3tgoj7s65sAfnk3FIMHJIjvj2o878vejG9meKkpNd9r9nnoPDvxFDQJiBGmKNAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;MDN은 이렇게&quot;
        title=&quot;&quot;
        src=&quot;/static/1019c0dbf23e45c5b73d7aa360b38a11/6a91e/image-13.png&quot;
        srcset=&quot;/static/1019c0dbf23e45c5b73d7aa360b38a11/c26ae/image-13.png 158w,
/static/1019c0dbf23e45c5b73d7aa360b38a11/6a91e/image-13.png 254w&quot;
        sizes=&quot;(max-width: 254px) 100vw, 254px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details&quot;&gt;mdn web docs&lt;/a&gt;도 이런 식으로 표현해주고&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 311px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/28b4038496f1f16528f2f29381aee5e5/ffa0f/image-14.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 132.27848101265823%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACq0lEQVR42pWVV44jMQxE5wDOOeecc84w/GPf/zpcPALUdntsLPaDVqslFYvFUvsnHo8LEYvFNLzzaDT6a83GSCTyaz/xk0gkpFwuy2AwkHq9ruP1epVOp6Pz9XqtwXy328loNJJGoyGLxUJms5mO3W7XgSpgOp2WdrstzWZTn/P5vI6FQkFKpZImzGQyOs/lcmIkeLZwDPmpVCoyHA6l1WppKRbhcNiFvUMGznjfhUKhv4DJZFLpUl6tVlMWzGGUSqV84dXQgkpg60pmIxlOp5M8n0/VCdD5fC6v10sej4dqxXy73cr9fldNL5eLPp/PZ9nv95oQ9soQ5F6vpzpWq1UVvd/vq6YIDnPer1YrBT0ej5qE95w3DFcyyHSPrGSjyxyCye1202cADYw9JKR5gUDA6eoDpFPGBv3QBhAOFYtFHb1r7MVKjDTVfKmATLDHdDrV0tmA0CYB7GGEjshA8slkous0k73G0mlIZhZgw0hjYEWY19gDIOaHAGskt3J9JbMIQ/xIUyiP5/F4rAwZAbJn9tjNQgIfQyZ2/SgZYOYYHZ1gFgwGncmxmZmc+UeGZKEcMjNSOkDZbNZ57D28QA4Qh6MD7GBFExAbCRD+cDhoQ9iD93iHnWyPddfHkIARjSDs4gOCljSAOe8BYe5l7gPkJTpwEDY0Ag3RDyawY+39g/CtbGcbNDQ2ZhfKhxlJP+n1UUMzNuVhXEqms2jKuNls1CZo9q0RHxnaR9N0pMPoavqh2X8xBAw2mBXzwpB7ulwu3cfX+7/yT4bohGYwQT8bkYJnGGNoa8xXH5qxOWh/TARlw8qMzjq3yG4U47sHfYAwBMg+qgBYErtBJLAqYPzRNvxgFzzHLeCQdRog1vCi/c3SJEr/WjLdJSOHOWA3xj5lhDHzdvtbc/4AXtO3jBRATJYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;velog&quot;
        title=&quot;&quot;
        src=&quot;/static/28b4038496f1f16528f2f29381aee5e5/ffa0f/image-14.png&quot;
        srcset=&quot;/static/28b4038496f1f16528f2f29381aee5e5/c26ae/image-14.png 158w,
/static/28b4038496f1f16528f2f29381aee5e5/ffa0f/image-14.png 311w&quot;
        sizes=&quot;(max-width: 311px) 100vw, 311px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;벨로그에서도 이렇게 합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 470px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a3b91cde7d7fdddbf377196d69fab511/f96db/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.18987341772153%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR42nVSCXLDIAzMc+pgLkN8YmODz6Rt2k7//5YuPqZNOxUMswbJK2l1EkKUdZFXeV5lhcmLusBOi7TxDe6zMo1XozTewbo2O8lEPn/e5vt0/VjGl9EOtu2t9c34Mri5s30Dp3N0hhEsWBQ2cAjmnMtEqIuSSgIDXDKdKImf6lQlOgFYLy8iEfgEQF5KK0rpCWlXtmwHW7sat6YzpjUFVmtqZ1AOvMGPdIAbX9ed8bPDyRgLzGtWZC+JUcZZTMiOV+OCw4GE/Sdt3IBzeO794qbXsRtb01bL22x7Cyo3u+V90ZlGAFJ9aBiCCQm3nLPAefCDjW7GjpMdQfGPYDDrVIOzspVfPDqPgkHe3/pxTQTNn+4THFB5TB+Do6doq4HS3/8ORtCB8Lol+MAspHBT1998O7Rpnvqrh9pgw8CgpQCNq1E55ACAVORo7c6MeKUTPHDJcapUBdlXefEJzdGtrMiyKoPnlsUxYVKWTVk2Bfy+x+gAqzxkkyeKop+ROzMGGFJhwmIS/2ebRr+6/QVB8ZxzP+tyRwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이런 식으로요&quot;
        title=&quot;&quot;
        src=&quot;/static/a3b91cde7d7fdddbf377196d69fab511/f96db/image-12.png&quot;
        srcset=&quot;/static/a3b91cde7d7fdddbf377196d69fab511/c26ae/image-12.png 158w,
/static/a3b91cde7d7fdddbf377196d69fab511/6bdcf/image-12.png 315w,
/static/a3b91cde7d7fdddbf377196d69fab511/f96db/image-12.png 470w&quot;
        sizes=&quot;(max-width: 470px) 100vw, 470px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그래서 이렇게 밑줄이라도 그어주려고 합니다&lt;/p&gt;
&lt;p&gt;제가 확인해보니 대부분&lt;br&gt;
&quot;제목 요소가 화면 맨 위를 넘어가면&quot; =&gt; 현재 그 제목에 해당하는 목차에 위치했다고 간주.&lt;br&gt;
이런 식이더라구요?&lt;/p&gt;
&lt;p&gt;이거 하려면..&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;먼저 게시글 내의 모든 제목 요소(&lt;code class=&quot;language-text&quot;&gt;h1,h2,..,h6&lt;/code&gt;) 태그들을 가져오고&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;top &amp;lt; 0&lt;/code&gt;인 제목 요소들 중에 가장 밑에 있는 애를 가져와서 &quot;현재 목차&quot;로 간주
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;top &amp;lt; 0&lt;/code&gt;인 애들은 여럿 있을 텐데, JavaScript 배열의 &lt;code class=&quot;language-text&quot;&gt;push&lt;/code&gt;메서드와 &lt;code class=&quot;language-text&quot;&gt;pop&lt;/code&gt;메서드는 맨 뒤 요소를 추가/제거하는 동작이므로, 이걸 이용하면 됨. (스택처럼 된다)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;목차 컴포넌트에서 &quot;현재 목차&quot;와 동일한 &lt;code class=&quot;language-text&quot;&gt;textContent&lt;/code&gt;를 갖는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;a&gt;&lt;/code&gt;태그를 찾고, 해당 태그에만 &lt;code class=&quot;language-text&quot;&gt;activated&lt;/code&gt; 클래스를 집어넣음&lt;/li&gt;
&lt;li&gt;이제 &lt;code class=&quot;language-text&quot;&gt;a.activated&lt;/code&gt;에만 따로 뭔가 CSS를 적용&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;1, 2, 3 과정을 적절한 scroll event로 등록해주면 되겠죠?&lt;/p&gt;
&lt;p&gt;아래와 같이 작성했습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; postSection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;post-section&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;postSection&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//본문에서 제목 요소들을 가져온다&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; headers &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; postSection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelectorAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;h1, h2, h3, h4, h5, h6&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;//스크롤 이벤트 정의&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;scrollEvent&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; overTheTop&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Element&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//화면 맨 위를 넘어간 제목 요소들 모아서&lt;/span&gt;
    headers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;h &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;h&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBoundingClientRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        overTheTop&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;h&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//맨 뒤에있는 요소를 뽑아보면 그게 &quot;현재 목차&quot;에 해당하는 제목 요소&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; curHeaderText &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; overTheTop&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;textContent
    &lt;span class=&quot;token comment&quot;&gt;//목차에서 &amp;lt;a&gt;태그들을 가져오고&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; aTags &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;table-of-contents&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelectorAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//&quot;현재 목차&quot;와 textContent가 친구만 activate&lt;/span&gt;
    aTags&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;activated&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textContent &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; curHeaderText&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;activated&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//스크롤 이벤트 등록&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;scroll&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; scrollEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;scroll&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; scrollEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;머 이런 식으로 해줬습니다..&lt;br&gt;
원래 제목 요소들의 &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;값으로 비교할까 했는데,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;의 공백이나 특수문자 이런걸 조금 변형하더라구요&lt;br&gt;
어차피 &quot;내용&quot;이 동일하니까, 이렇게 해줬습니다&lt;/p&gt;
&lt;h1 id=&quot;해치웠나&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%B4%EC%B9%98%EC%9B%A0%EB%82%98&quot; aria-label=&quot;해치웠나 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;해치웠나?&lt;/h1&gt;
&lt;p&gt;하다보니 느낀건데&lt;br&gt;
왜 이렇게 CSS는 처음 보는게 계속 나오죠?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token property&quot;&gt;word-break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; keep-all&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token property&quot;&gt;overflow-wrap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; break-word&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;velog 뜯어보다가 발견했는데,&lt;br&gt;
이런 식으로 해서 줄바꿈을 단어 단위로 끊을 수 있습니다&lt;br&gt;
사소하지만 가독성 차이가 꽤나 큰 것 같아요..&lt;/p&gt;
&lt;p&gt;그리고 더보기 요소는 &lt;a href=&quot;https://codingeverybody.kr/css-details-%ED%83%9C%EA%B7%B8-%EC%8A%A4%ED%83%80%EC%9D%BC-%EA%BE%B8%EB%AF%B8%EA%B8%B0/&quot;&gt;여기&lt;/a&gt;를 참고해서&lt;br&gt;
좀 상@봉해보이게 바꿨는데 그냥 no css club일 때가 더 낫나? 싶기도 하고..&lt;br&gt;
디자인 감각이 없으니 참.&lt;/p&gt;
&lt;p&gt;암튼간에 이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🔅 다크모드 5초컷 with CSS 채신기술 light-dark()함수 - (Gatsby 블로그)]]></title><description><![CDATA[…]]></description><link>https://sungpaks.github.io/light-mode-and-dark-mode/</link><guid isPermaLink="false">https://sungpaks.github.io/light-mode-and-dark-mode/</guid><pubDate>Thu, 06 Jun 2024 14:51:57 GMT</pubDate><content:encoded>&lt;p&gt;그제였나? 누워서 조선왕조실록 틀어놓고 잠들고 싶어하고 있었는데요&lt;br&gt;
아~ 도저히 잠이 안와서 노마드코더 좀 봤습니다&lt;br&gt;
그 중에 이런 영상이 있었는데&lt;/p&gt;
&lt;div class=&quot;gatsby-resp-iframe-wrapper&quot; style=&quot;padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem&quot; &gt; &lt;iframe src=&quot;https://www.youtube.com/embed/vc4DGouf62E?si=hhtqt0DHpVhuzrXQ&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share&quot; referrerpolicy=&quot;strict-origin-when-cross-origin&quot; allowfullscreen=&quot;&quot; style=&quot; position: absolute; top: 0; left: 0; width: 100%; height: 100%; &quot;&gt;&lt;/iframe&gt; &lt;/div&gt;
&lt;p&gt;흥미로운데요? 당장 해봐야겠습니다&lt;br&gt;
어차피 블로그에 다크모드 언젠가 넣어야지 넣어야지 했어서&lt;br&gt;
시간 남는 김에 해봤습니다&lt;/p&gt;
&lt;figure&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9c5eb115a77df11859ae889017c1a548/78797/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.0126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACXklEQVR42oWTy2sTURSH58+w0TwmyZ07N5OZTJKbTGYm70fTpMkkKa2m1pWLaheCIOrStWsXgosiIlpQxKBWQYo1tQHrI9TSQhcVqZZSXPgAt9aTjIaiNoVvDoe553fPa4a5MJVr3jlnFJOiFAgGKUIYcLs5E9PvvTSdHsx4NXH29ElNiw4NFavVkUJhGDCMarlcAfL5QqlkZLODADipVIbHhON4E8bBclarkxDvxPETY2PHEokUxIHGBPxcLp/J5MDC7XDKYQ/k/C3G3ZskyVevT9Tr45ATMheLpUqlNjxcNjWQUFFUVdUVRYvpsk8SEOqKOUwQx3u9YjqVjurxWCyh6zEAnHg8CRogHI5QGg6HFL+fBgMypdTj8XZ6xohHLNapeKoWRhznciEYDFiTvybUGRvEoz89I1EcCPowEQKyLEmyhwiECGB53tMbzH4wlpHS0emraaMkSwFR8h8asFqt7IDF5mBdeM9g/y926mp6apIqypHDtkwycfnSxUIuff7MZGEwy7Lu/noGu5DDZucQtlhsM9NXdnd3fmy1d39uPZy5ZrezB4jhgfZcLk4JhT6uPPv6/uWXjaXvH16tLz2Bznsr7SMmVhs7WjO2N9qzd282bl9fbj39tvkWNuZ09qu8I4ZjyEz9/vnH9+Yat5qNG29ezC03HxCeuN0HZcaYh916Be+75/c/rcwvLzzaWVv4vN6KaRrGbihsv+IZzBEee5xOpEfUzfbc6uuF1uLiWmt2e7U5WjFClETCQR4LEPYvzN6/D2amarqqRf1yIERpp1v4egSx2xfqRfb4BYzi6oTCJirnAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;다크모드 유우머&quot;
        title=&quot;&quot;
        src=&quot;/static/9c5eb115a77df11859ae889017c1a548/f058b/image.png&quot;
        srcset=&quot;/static/9c5eb115a77df11859ae889017c1a548/c26ae/image.png 158w,
/static/9c5eb115a77df11859ae889017c1a548/6bdcf/image.png 315w,
/static/9c5eb115a77df11859ae889017c1a548/f058b/image.png 630w,
/static/9c5eb115a77df11859ae889017c1a548/40601/image.png 945w,
/static/9c5eb115a77df11859ae889017c1a548/78797/image.png 1125w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;figcaption&gt;
컴하하~
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;근데 5초컷도 아니고 5분컷도 아닙니다.. 꽤 걸림 ㅋㅋ;; 어그로 ㅈㅅ합니다.&lt;br&gt;
다크모드 토글로 하고싶은게 아니었으면 진짜 5분컷이긴 한 듯&lt;/p&gt;
&lt;p&gt;아무튼 시작합시다&lt;/p&gt;
&lt;h1 id=&quot;light-dark-함수-써봅시다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#light-dark-%ED%95%A8%EC%88%98-%EC%8D%A8%EB%B4%85%EC%8B%9C%EB%8B%A4&quot; aria-label=&quot;light dark 함수 써봅시다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;light-dark() 함수 써봅시다.&lt;/h1&gt;
&lt;p&gt;먼저 영상에 나온 &lt;code class=&quot;language-text&quot;&gt;light-dark()&lt;/code&gt;함수를 써서,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;prefer-color-scheme&lt;/code&gt;값이 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt;인 상태에서 보여줄 화면을 구성하고 싶은데요&lt;br&gt;
아 근데 &lt;code class=&quot;language-text&quot;&gt;prefer-color-scheme&lt;/code&gt;란..&lt;br&gt;
여러분이 설정한 &quot;난 다크모드가 좋아 or 라이트모드가 좋아&quot; 시스템 설정입니다&lt;br&gt;
처음 들어보셨다면 그냥 &lt;code class=&quot;language-text&quot;&gt;light&lt;/code&gt;상태일걸요? 저도 건드린적 없습니다 딱히&lt;br&gt;
암튼간에&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;:root&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color-scheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; light dark&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;일단 이렇게 해서 브라우저에게 &quot;여기는 light와 dark 테마 모두 지원합니다~&quot;라고 알려줍시다&lt;/p&gt;
&lt;p&gt;이제, 라이트모드와 다크모드에서 각각 달라야 하는 색상이 있다면 &lt;code class=&quot;language-text&quot;&gt;light-dark()&lt;/code&gt;함수를 쓰면 되는데&lt;br&gt;
예를 들어 이렇게 되어있다고 합시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; black&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;음.. 그러면.. &lt;code class=&quot;language-text&quot;&gt;prefers-color-scheme&lt;/code&gt;값이 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt;일 때는..&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;prefers-color-scheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dark&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; black&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 해야할까요??&lt;br&gt;
너무 귀찮은데요 ㅜㅜ&lt;/p&gt;
&lt;p&gt;근데 &lt;code class=&quot;language-text&quot;&gt;light-dark()&lt;/code&gt;라는 채신기술과 함께라면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;light-dark&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;black&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; white&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;light-dark&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;white&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; black&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;매우 간단해졌네요??&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 240px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3e391d8d60a2dc8a90c5bc0db9692b2a/8ff5a/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 87.34177215189874%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACk0lEQVR42n1Ta2/SYBTej3C/Qf0NJvovTIzfVPbNZGYx6keNiSYmM9kHL5nJpku2xY05Nq6j3SiX0kLpCi0dpe3KwJZS2q5UBi0DFNdIHKAnb05y3vc85zmX90z9HJN+vz/Quq5jKRTH0jzHW5bt3DtPQ5n62+j1egPd7fZ4notCIFfIlThyd2dz5ctnBElKkjhCMzViC8d8DDpAUUivCw2tLJ7QNZERTwpkFgkFfaqqDlMbBZeE41Q8QufSJZ7UFaHVqNpnynlbbRpip1U3T6sIErdsa5TZCYYkE2WeFoq5ipBv/5D393yvXj5fWf6EYzE4FuYKRAwCEASZDM5Tue8lql5lBwkXaWLmwf1Btc+ePnk0+/DWzRuP52bJTLom14b+l8ApFK4IlKGVB6kuzL+enr7i97jjkdDdO7ddrntxCMwgCePUGGf+3edMGuWOMmqVbzdlEAi6XDNZHClQ2PVrV9/Ov6kr5aB32zAaDmCUmWOZGBQyDUmt8Wp+wyhHMRQiD5OLHxYO8YRWL4UDO5qmjaY9tLfcm/ug3z7TFfwdG5jb3lhdWvyYy8CKxJq6GA745H/VrChKMhlfX1sSWKqYSyOR0Nrqis+7HfB7BJYkCJTKU5PmfGFDEYgmManChLxuj3sdT8WBoAeOAgydLVBZAt2z7eaEH+YE41k2DR8EvZvLi++jYMDUK4Pz7etaHk/oFUKj3V3LafXYD7MsC4IAReJVWaAIRCozLVNuaJUUDMvIC6243ut1naFcYnZoCYJgGPJUrYgnRwUKxZJQIhoGw144EW+pWbspXnj1J4M5jt/xuEHAHwECEOBj8hmOye16tjR9OJv+/7bKbJhqvWZbzU7b7Jy3zruWbdt/2tkf3/xffz+FUIEPxEoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;따봉&quot;
        title=&quot;&quot;
        src=&quot;/static/3e391d8d60a2dc8a90c5bc0db9692b2a/8ff5a/image-1.png&quot;
        srcset=&quot;/static/3e391d8d60a2dc8a90c5bc0db9692b2a/c26ae/image-1.png 158w,
/static/3e391d8d60a2dc8a90c5bc0db9692b2a/8ff5a/image-1.png 240w&quot;
        sizes=&quot;(max-width: 240px) 100vw, 240px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;light-dark(light일 때의 색상, dark일 때의 색상)&lt;/code&gt; 이렇게 써주면 됩니다.&lt;/p&gt;
&lt;p&gt;만족스러운데요~&lt;br&gt;
이제 색상이 반전되어야 하는 곳에 다 이 함수를 적용해줍시다&lt;br&gt;
이정도는 몇 줄만 고쳐주면 됩니다 잠시만요..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 247px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d455a78146de0b88ad28ec85f725af05/fb3c7/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 82.27848101265823%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD20lEQVR42gHQAy/8AC1zlC1xkzJ2lDR5mx1efaewspqirFBarIuIsKSmpKussKKip5+gop6goaGlpDBbfydfjClhii1kjC1pkAAlXY0jW4snX5AjYY8kUn7Jy8q/usg6V66MpL6tqqe6vbyLjYvT0tLm5+THw8lCTZYdUogmW4oiUIQmXo8AJVmKIlWGIFeCK1CPbl6m2NHUu7zIQqJqk8CgkpSTwcjJhYyPxMjMzc/TsbTPWEDAUFmnH1eIJE6GJFeKABxHgBpGfSNFf2NBw0tWwUeIa5OmW8/IRrmeOZ1yN7OMUaaDS6WDTKOYUIaxXzF1omU/1TE8jBlDfB5JhQBBXno/YHx1V7ZxbtI/po2Y0mvevjvdmibYrlPWvWzTv0LYxFPWsTDjty7j3i2E1lhQccV9V8BGZH9FaIEAj62UkaWDoZaweMCrxPBz7Lx7yZA62MNUpbS0oLC5ucCxorC10tar2sQy36gtytU7etB3qZfes6OtlreRAKbBpKq0ZauzRazSadm/esGei8G+QdbWWJ2usKOwvbW/zICTqeXm1N3gPcmoN9+uSb7vZ5m8ysSn0L3UpwDI3LnD0p/QzEXRxz3HvpXF3MLQ007QxzTOylvb1XvP0Hrw8sPTwV7Vxi+zwkvDmlDby3Gn0Jeko2fCz6IAfnZWh4JlkItEqaVAjY1xi5Bzvbw729czurhDyshD1M8/nIIsmIArzsgxlaxCp6ZYu6VS0dNGurY8uL+VAGReOWFaN21oPY6MOWxoOqyxnb2/XM3MIc/JR4t2bqSGg45ZPb6xM7m+L3WLPHd/SYN6N83KP355P3BoSwBpZD1lYDxnZTyRjT2QjT6ko4O3tU+2uCbd0y+5nDXFpUnf0UHFwjGnrDC7yJm/xsV2dUSQjzlYVj1fXjwAX1o7XFc3W1g4Xl0/Xls9SEYto6A66uhB5eI67+018Oot4dwm1tMoxc0+scJ4t7eat7NJiIQ6S0w1Xl08AFVLNVFHME1FLEtGKE9IK0hBJGphRKujgJ+WdJFzPqmeVsvHdsfFcJakX3B7Sj46ImtmLGFdMW1nSaeZaACdkmaajmaKf1qUkYSMiYOPjIOXkYyEfICGfX+Ndn2WjJB7c3aNhIOUlJWAf3+Gh35/enaPhGC4p3W2oG8AsKNwtap2sah3w8O9uLi6vb29zc3NqaqpsbSyqq6poaGempeNqqWbsbCuqqmop6eqtbGruqt5t6V0spxuAKaUZKicaqqjb5+YcKKYc6qfe6OYdamee62kf6qkfLWuhrivhry2ka6oipqUfnJxY4eAaq2fe66bdqyZcz52CIZI1W0EAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;a few moments later&quot;
        title=&quot;&quot;
        src=&quot;/static/d455a78146de0b88ad28ec85f725af05/fb3c7/image-2.png&quot;
        srcset=&quot;/static/d455a78146de0b88ad28ec85f725af05/c26ae/image-2.png 158w,
/static/d455a78146de0b88ad28ec85f725af05/fb3c7/image-2.png 247w&quot;
        sizes=&quot;(max-width: 247px) 100vw, 247px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아무튼 이렇게 대강 만들었는데요&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/XBjXIpV.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;아 근데 저는 &lt;code class=&quot;language-text&quot;&gt;prefered-color-scheme&lt;/code&gt; 설정같은거 건드린 적 없다고 했는데, 어떻게 이 화면을 볼 수 있냐면&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/sOfnEJL.png&quot; alt=&quot;테스트해보기&quot;&gt;&lt;/p&gt;
&lt;p&gt;크롬은 개발자도구에서 - 대충 더보기처럼 생긴 아이콘 - More tools - Rendering에 들어가면&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 242px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/698e710468b4db5e825e0a71d0a9bd9a/a1a85/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 85.44303797468356%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABJ0AAASdAHeZh94AAADHElEQVR42n1US2sUQRAeTx7Uv+DV3yCIehD8BYqg4kFBvXjxIoIP8BFQPKsQvSmeJEG8qEg8JNlHstns+zU7k9ndec/szuwzs7v57CqzEkmw4Zuq7qqu/rqnqqSdnR2Mx2NMp1PGZDIBrUVRxDqB1mc+e33Jj7B3SMPhELlcDoqioFAoIJVKodVqQVVVVKtVmKaJbDbL67Iso1arYW1tjX1pvd/vc6BZYImUMAzhui5vJn00GsH3fQRBgMFgAMdx0G63Gd1ul9kTU8I+hmRMp9N8cqVSQbPZhGEYzLper/MhJIkdMSb9f0OiN/I8j08mBnQFYkYMSSdp2zZLYk43oHmn09nHjgPSp9frscPsigRam12TgpCNDiB99iwHMqS/5bkObMuAY5uMbjeE59gw9RZ0vYk2sRR202jBdSwRuLcvEJElSFPx9btjuEEEN4zgsNydB9ssva54FrFGIJsn/P3e5C/I3ulP/gTU7G2slz0UtwLk1Y6QIet/EDJydR9ZWaC+C/lfFMW+ZMmH0Y4gVZojyDUZajUD19RQLaaFnkc5vyGQglLJIfRNTKMexsMA41H4Dybb4q1tDTVFh2IMRcBWH0uJCr78TOH7cg5flzaw8COJz9/ijMXvSfxKlhHPKIht1g9EMitjNdOAag4gNe0Q5x5ncPphASfupHHyfg6nHuRx9lEB55+WcEbI4zfXcfjSKo5cjv3F0StxlseuxnHowiouvshiHI0gmbaHh580PFt0ce9jC08+23i+aOPlFxdzCybmhH73g4EbbzXcftfC7fc6y+tvVNycb+LWfAPXXjfwakFFNOxBoqTWDXF/uYpSIYtyMc8pYpk6ioU89GYDvmOgoVSg1StQqgX4rgW1LiO3uQ7X1jltKDcp+SXLskTuOVzLhigzy7Ix2K0WKsEg6KArktwUfq7rsT3kqupAEQ2kLQqCBhUGVZBEtbq1tcV1nMlkuIap2zQaDe4mmqaxXiwWGWSnOe1JJBLclWhQAyFyzJAMsViMmwS1ppWVFZbxeJxBNpovLy+zjVpZqVRCuVzmhkGg9kdX/g2bfs5iFsEEAwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Emulate CSS media feature&quot;
        title=&quot;&quot;
        src=&quot;/static/698e710468b4db5e825e0a71d0a9bd9a/a1a85/image-3.png&quot;
        srcset=&quot;/static/698e710468b4db5e825e0a71d0a9bd9a/c26ae/image-3.png 158w,
/static/698e710468b4db5e825e0a71d0a9bd9a/a1a85/image-3.png 242w&quot;
        sizes=&quot;(max-width: 242px) 100vw, 242px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이런게 있습니다? 바꿔가면서 테스트해볼 수 있습니다&lt;/p&gt;
&lt;h1 id=&quot;근데-저는-라이트다크모드-토글하고-싶은데요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%BC%EB%8D%B0-%EC%A0%80%EB%8A%94-%EB%9D%BC%EC%9D%B4%ED%8A%B8%EB%8B%A4%ED%81%AC%EB%AA%A8%EB%93%9C-%ED%86%A0%EA%B8%80%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%9D%80%EB%8D%B0%EC%9A%94&quot; aria-label=&quot;근데 저는 라이트다크모드 토글하고 싶은데요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;근데 저는 라이트/다크모드 토글하고 싶은데요?&lt;/h1&gt;
&lt;p&gt;이게 가장 문제입니다 ㅋㅋㅋ 사실 위에는 진짜 5분컷 가능&lt;br&gt;
토글버튼 하나로 그냥 &lt;code class=&quot;language-text&quot;&gt;prefered-color-scheme&lt;/code&gt;값을 휙휙 바꾸는게 가능하면 정말 편하겠는데&lt;br&gt;
좀 찾아봤지만 아쉽게도 그런 방법이 없는 것 같습니다?&lt;/p&gt;
&lt;p&gt;그래서 &lt;a href=&quot;https://klloo.github.io/darkmode/&quot;&gt;지인의 블로그(상습숭배중)&lt;/a&gt;랑 &lt;a href=&quot;https://fe-developers.kakaoent.com/2021/211118-dark-mode/&quot;&gt;카카오 기술블로그&lt;/a&gt; 등등 몇 개를 참조해봤는데..&lt;br&gt;
body에 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt; 클래스를 넣었다뺐다 하는게 국룰인 것 같아보이네요&lt;/p&gt;
&lt;p&gt;근데 저는 &lt;code class=&quot;language-text&quot;&gt;light-dark()&lt;/code&gt;함수를 쓰고싶은건데요..&lt;br&gt;
흠;그래서 이리저리 생각을 해보다가&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;body&lt;/code&gt;에 넣었다뺐다 할 클래스로 &lt;code class=&quot;language-text&quot;&gt;reverse&lt;/code&gt;를 두고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;body.reverse&lt;/code&gt;에는 &lt;code class=&quot;language-text&quot;&gt;light-dark&lt;/code&gt; 인자를 뒤집어서 작성하기로 했습니다&lt;/p&gt;
&lt;p&gt;근데 하고나니까 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt;넣는거랑 딱히 다른 것도 없고,&lt;br&gt;
몇 가지 경우에는 이게 더 골아픕니다..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 231px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f84df0f86fcceeb27293a8734cfd4e28/6e622/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 94.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD9UlEQVR42i2S93LadgDH9XQdf+R6veu510t810uTupe2HokxwYAwSEhCEyEhiSEQIPYwW0wPbIbDso1HRvsu/eH0AT73ndBqdX9zs7q+vp3Pl1dX0+FwfHY26PZOekanWSmXSoVcJpvT9HRYi0lK0MtKNMnjLsZpC/o80Gp1d319t1yuptPlZPzh4mJ4cnLW6fRaDcOo1Sr5YjGZzqhxPRCJ+sWAl5YYjxd3cZhDC7AQkF0u7uaz2w+T5Wg4OT+/6PfPWu1urVqPhtVsTC/Gk3ktlVBUVfAFOMpPE6zbKbOYj7JDi/lqNr2ZjOej4fRiAGQH3c6Z0WzXKtWArNAkFRAlhiBVUVorc6zgIRjUEZEY+GDrf/jqanF5+ZS2e9Ksd+u1RqlQiGtxPZ7Q1ShitRNOJ+l0CCQmUhiHOjTFu/N6A5qto85GwyuQ9nQte9oyevVqLZ/NCjzvF0SKIBTBp3h9FOIy7/5lM+0IHiQkkFubP0Cz2Xwy+XB5OVrLrg13qtXacbGUTWdBz5GQyhAES7hRGKbdbgZ1Ocz7Io1ymG33j+cQmGc8XssCuNc7aTaNSqVSLBYBmdKTmhqNBoIhUaQxN+awWPe3j8xvwyJr3d9C7XtreDSanA8u1gt1u/V6vVwu5/L5dDIFAscjakT2B3y8wFI+yu22Hzgte5rMbf+2EVE4CLxiMLjs90/b7Z5htKrVaqFQyOZyqWQyFtWiQUUVfawH4WmU9yBgXhqxhv3Uq5+/azfK0NOlzns90FO/2WyDwDlAplLxWEyLRFVFDos+DwI7bCbzu20Mfs/hsI92vX7xbDoZQ1+rare75XItFApHo1oikdB1Hcg+WZZkzitzHtJtt5p3LXtvZA5F7Hs7bzYfHh4g4Bmk7XZ6YNtQOMyyLMMwCILIshyUJVWSA16OJ1EOd7BumDh6HxLJt3++8CCWL1/+hYAsCNxpd41Go1atlo6Pk8mkKAgBRcZdDtRqwZxWCoNZ3EE6D3H4ICozL3/5PqUFP3/+BwJkq9VpNIzj42ouV0hnMsCzntC1UDjiFwXag8IW28Hu4bu/EZuJQQ9lL7a58W2vW7+/f4DAtgCugT8Wy9lMPpVMx7SYFg6HJFnxCQrHijTOEQh+ZEVt+wLppNDDV5vPlsvZzc3tV7hdq9VLpVIuk8kkQVeaFgyGJVHmWbAtix/RKEwhNhw2KTxh3f/dvPvy8fHjcnkNdTp9o2lUy+ViPp/NpJJ6PB6LRIOyKvEKTwmUm8cRymXHYTPmMEUUZuvXHznP0ePHT4vFAgKejfr6zfksuFU8o0cSqqLJQkhg/SzOE+DGKDgGZjeRLrMqkc9/+iabijw8Pi4Wi/8AEojKnd4ud3QAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;마이웨이&quot;
        title=&quot;&quot;
        src=&quot;/static/f84df0f86fcceeb27293a8734cfd4e28/6e622/image-4.png&quot;
        srcset=&quot;/static/f84df0f86fcceeb27293a8734cfd4e28/c26ae/image-4.png 158w,
/static/f84df0f86fcceeb27293a8734cfd4e28/6e622/image-4.png 231w&quot;
        sizes=&quot;(max-width: 231px) 100vw, 231px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;저는 홍대병 걸린.. 남들 가는 길에 잘 가려고 하지 않는 낭만파라서 이렇게 했지만&lt;br&gt;
그냥 다크모드 토글은 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt;하시는게 좋은 것 같습니다.&lt;br&gt;
그러니 괜히 좋아보인다고 막 쓰지 맙시다&lt;/p&gt;
&lt;h2 id=&quot;reverse버전-css를-작성해요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#reverse%EB%B2%84%EC%A0%84-css%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%95%B4%EC%9A%94&quot; aria-label=&quot;reverse버전 css를 작성해요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;reverse버전 CSS를 작성해요&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/T23O49t.png&quot; alt=&quot;reverse 클래스 ㄱㄱ&quot;&gt;&lt;/p&gt;
&lt;p&gt;아무튼 이런 식으로 반전된 색상의 클래스를 작성해준다는 의미인데&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/REqkuDK.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot;&gt;
&lt;p&gt;어느정도 바뀌긴 했는데, 색상을 따로 주는 요소들은 아직 그대로네요.&lt;br&gt;
이제 &lt;code class=&quot;language-text&quot;&gt;body&lt;/code&gt;가 &lt;code class=&quot;language-text&quot;&gt;.theme-reverse&lt;/code&gt; 클래스를 가지는 경우, 그 하위의 &lt;code class=&quot;language-text&quot;&gt;요소&lt;/code&gt;들을 손봐줘야 하는데&lt;br&gt;
저처럼 몽총하게 선택자를 &lt;code class=&quot;language-text&quot;&gt;a .theme-reverse {}&lt;/code&gt; 이렇게 쓰지 맙시다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;body.theme-reverse a {}&lt;/code&gt; 이렇게 해줘야 먹어요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 247px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d455a78146de0b88ad28ec85f725af05/fb3c7/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 82.27848101265823%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD20lEQVR42gHQAy/8AC1zlC1xkzJ2lDR5mx1efaewspqirFBarIuIsKSmpKussKKip5+gop6goaGlpDBbfydfjClhii1kjC1pkAAlXY0jW4snX5AjYY8kUn7Jy8q/usg6V66MpL6tqqe6vbyLjYvT0tLm5+THw8lCTZYdUogmW4oiUIQmXo8AJVmKIlWGIFeCK1CPbl6m2NHUu7zIQqJqk8CgkpSTwcjJhYyPxMjMzc/TsbTPWEDAUFmnH1eIJE6GJFeKABxHgBpGfSNFf2NBw0tWwUeIa5OmW8/IRrmeOZ1yN7OMUaaDS6WDTKOYUIaxXzF1omU/1TE8jBlDfB5JhQBBXno/YHx1V7ZxbtI/po2Y0mvevjvdmibYrlPWvWzTv0LYxFPWsTDjty7j3i2E1lhQccV9V8BGZH9FaIEAj62UkaWDoZaweMCrxPBz7Lx7yZA62MNUpbS0oLC5ucCxorC10tar2sQy36gtytU7etB3qZfes6OtlreRAKbBpKq0ZauzRazSadm/esGei8G+QdbWWJ2usKOwvbW/zICTqeXm1N3gPcmoN9+uSb7vZ5m8ysSn0L3UpwDI3LnD0p/QzEXRxz3HvpXF3MLQ007QxzTOylvb1XvP0Hrw8sPTwV7Vxi+zwkvDmlDby3Gn0Jeko2fCz6IAfnZWh4JlkItEqaVAjY1xi5Bzvbw729czurhDyshD1M8/nIIsmIArzsgxlaxCp6ZYu6VS0dNGurY8uL+VAGReOWFaN21oPY6MOWxoOqyxnb2/XM3MIc/JR4t2bqSGg45ZPb6xM7m+L3WLPHd/SYN6N83KP355P3BoSwBpZD1lYDxnZTyRjT2QjT6ko4O3tU+2uCbd0y+5nDXFpUnf0UHFwjGnrDC7yJm/xsV2dUSQjzlYVj1fXjwAX1o7XFc3W1g4Xl0/Xls9SEYto6A66uhB5eI67+018Oot4dwm1tMoxc0+scJ4t7eat7NJiIQ6S0w1Xl08AFVLNVFHME1FLEtGKE9IK0hBJGphRKujgJ+WdJFzPqmeVsvHdsfFcJakX3B7Sj46ImtmLGFdMW1nSaeZaACdkmaajmaKf1qUkYSMiYOPjIOXkYyEfICGfX+Ndn2WjJB7c3aNhIOUlJWAf3+Gh35/enaPhGC4p3W2oG8AsKNwtap2sah3w8O9uLi6vb29zc3NqaqpsbSyqq6poaGempeNqqWbsbCuqqmop6eqtbGruqt5t6V0spxuAKaUZKicaqqjb5+YcKKYc6qfe6OYdamee62kf6qkfLWuhrivhry2ka6oipqUfnJxY4eAaq2fe66bdqyZcz52CIZI1W0EAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;또 few moments later&quot;
        title=&quot;&quot;
        src=&quot;/static/d455a78146de0b88ad28ec85f725af05/fb3c7/image-2.png&quot;
        srcset=&quot;/static/d455a78146de0b88ad28ec85f725af05/c26ae/image-2.png 158w,
/static/d455a78146de0b88ad28ec85f725af05/fb3c7/image-2.png 247w&quot;
        sizes=&quot;(max-width: 247px) 100vw, 247px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이제 CSS를 전부 잘 작성해서 원하던 모냥이 나왔다면&lt;br&gt;
적당히 만든 버튼에 &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;을 등록해줘야겠죠?&lt;br&gt;
뭐가 있어야 하냐면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;body&lt;/code&gt;에 &lt;code class=&quot;language-text&quot;&gt;theme-reverse&lt;/code&gt; 클래스를 넣거나 빼기&lt;/li&gt;
&lt;li&gt;새로고침해도 유지되게 하고 싶으니까, &lt;code class=&quot;language-text&quot;&gt;localStorage&lt;/code&gt;에 현재 모드 정보를 저장하기&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그럼 이렇게 됩니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; theme &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;theme&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;theme &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; theme &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;original&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;theme-reverse&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	    localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;theme&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;reversed&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;theme-reverse&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;theme&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;original&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;새로고침해도-유지됐으면-좋겠어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%83%88%EB%A1%9C%EA%B3%A0%EC%B9%A8%ED%95%B4%EB%8F%84-%EC%9C%A0%EC%A7%80%EB%90%90%EC%9C%BC%EB%A9%B4-%EC%A2%8B%EA%B2%A0%EC%96%B4%EC%9A%94&quot; aria-label=&quot;새로고침해도 유지됐으면 좋겠어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;새로고침해도 유지됐으면 좋겠어요&lt;/h2&gt;
&lt;p&gt;이러면 일단 버튼 누르면 모드가 잘 넘어가긴 하는데,&lt;br&gt;
새로고침하면 localStorage에서 값을 불러오고 그에 맞는 모드를 적용하게 해야겠죠?&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;localStorage.getItem(&apos;theme&apos;)&lt;/code&gt;를 확인하도록 하면 될 것 같습니다&lt;br&gt;
근데 아무데나 넣게되면 이런 일이 발생합니다&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/tmzSkST.gif&quot; alt=&quot;빤짝&quot;&gt;&lt;/p&gt;
&lt;p&gt;이러면 야밤에 부모님 몰래 제 블로그를 탐독하다가 섬광탄에 맞는 불상사가 발생할 수 있습니다&lt;/p&gt;
&lt;p&gt;이게 Javascript단에서 CSS 속성을 넣어주는거라, 이미 페인팅이 된 후에 야간모드가 적용되고 있어서 그렇습니다&lt;/p&gt;
&lt;p&gt;이에 대해 위에서 언급한 &lt;a href=&quot;https://klloo.github.io/darkmode/&quot;&gt;지인의 블로그&lt;/a&gt;에서는 여기도 Gatsby를 사용했기 때문에 SSR방식을,&lt;br&gt;
&lt;a href=&quot;https://fe-developers.kakaoent.com/2021/211118-dark-mode/&quot;&gt;카카오 기술블로그&lt;/a&gt;에서는 SSR이 아닌 경우에도 쓸 수 있는 방법을 채택하여 알려주고 있습니다&lt;/p&gt;
&lt;p&gt;후자는 &lt;strong&gt;&lt;em&gt;자바스크립트는 명시적으로 비동기로 선언되지 않은 경우 DOM 생성을 차단합니다&lt;/em&gt;&lt;/strong&gt; 라는 점을 이용해서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;body&lt;/code&gt;가 시작하자마자 스크립트를 넣게 했나? 그랬었네요&lt;/p&gt;
&lt;p&gt;암튼 전자의 방식으로 해봅시다&lt;br&gt;
Gatsby 프로젝트 루트 폴더의 &lt;strong&gt;gatsby-ssr.tsx&lt;/strong&gt;에서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;onRenderBody&lt;/code&gt;에 &lt;code class=&quot;language-text&quot;&gt;setPreBodyComponents&lt;/code&gt;로 스크립트를 집어넣을 수 있습니다&lt;br&gt;
아래와 같이 작성했습니다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onRenderBody&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; setHtmlAttributes&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setPreBodyComponents &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; script &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;
    const theme = localStorage.getItem(&quot;theme&quot;);
    if (!theme || theme === &quot;original&quot;) {
      document.body.classList.add(&quot;theme-reverse&quot;)
    } else {
      document.body.classList.remove(&quot;theme-reverse&quot;)
    }
  &lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setHtmlAttributes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; lang&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;en&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setPreBodyComponents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script dangerouslySetInnerHTML&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; __html&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; script &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;localStorage&lt;/code&gt;에서 &lt;code class=&quot;language-text&quot;&gt;theme&lt;/code&gt;아이템을 가져오고, &lt;code class=&quot;language-text&quot;&gt;reversed&lt;/code&gt;면 클래스를 넣고 아니면 빼는 간단한 스크립트입니다&lt;/p&gt;
&lt;p&gt;이렇게 해주면 새로고침해도 실명 걱정은 없어졌습니다&lt;/p&gt;
&lt;h1 id=&quot;댓글창도-바꿔야할-것-같아요-giscus&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8C%93%EA%B8%80%EC%B0%BD%EB%8F%84-%EB%B0%94%EA%BF%94%EC%95%BC%ED%95%A0-%EA%B2%83-%EA%B0%99%EC%95%84%EC%9A%94-giscus&quot; aria-label=&quot;댓글창도 바꿔야할 것 같아요 giscus permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;댓글창도 바꿔야할 것 같아요 (Giscus)&lt;/h1&gt;
&lt;p&gt;이제 다 좋은데.. 댓글창이 혼자 따로 노는게 문제입니다&lt;br&gt;
Giscus 테마는 여러가지가 있어서 그냥 &lt;code class=&quot;language-text&quot;&gt;light&lt;/code&gt;건 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt;건 정해주면 되는데&lt;br&gt;
지금 어떤 모드인지? 그리고 모드가 바뀌면 바로 짜잔 바뀌기?를 그냥 이루기가 까다롭더라고여&lt;br&gt;
방법이 몇 가지 있어보이는데&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;SSR 스크립트 넣을 때 window객체에 &lt;code class=&quot;language-text&quot;&gt;window.__onThemeChange()&lt;/code&gt; 이런 식의 리스너를 같이 넣기&lt;/li&gt;
&lt;li&gt;전역 상태관리가 가능하면 간단할듯..&lt;/li&gt;
&lt;li&gt;localStorage에 이벤트리스너 등록하기&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;1번은 그냥 스크립트가 계속 늘어나는게 맘에 들지 않았고..&lt;br&gt;
2번은 당장 전역상태 라이브러리를 두지도 않았는데 이거 하나 하려고 넣기는 좀.&lt;br&gt;
그래서 3번으로 가보기로 했습니다?&lt;/p&gt;
&lt;p&gt;그럼 이제&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;prefered-color-scheme&lt;/code&gt;값과 &lt;code class=&quot;language-text&quot;&gt;theme-reverse&lt;/code&gt; 여부에 따라 현재 적절한 &lt;code class=&quot;language-text&quot;&gt;curTheme&lt;/code&gt;가 &lt;code class=&quot;language-text&quot;&gt;light&lt;/code&gt;인지 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt;인지 결정&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;storageEventListener&lt;/code&gt;등록 : &lt;code class=&quot;language-text&quot;&gt;key: theme&lt;/code&gt;인게 바뀌면 &lt;code class=&quot;language-text&quot;&gt;curTheme&lt;/code&gt;를 바꾼다&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;사실 1번은 &lt;code class=&quot;language-text&quot;&gt;reverse&lt;/code&gt;같은 발상 하지 않고 &lt;code class=&quot;language-text&quot;&gt;theme&lt;/code&gt;가 &lt;code class=&quot;language-text&quot;&gt;dark&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;light&lt;/code&gt; 중 하나이게 하면 됐는데..&lt;br&gt;
선택에는 대가가 따르네요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 250px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/29aad4d9595b7a6e9aa4c287db161c4e/63868/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.0126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD20lEQVR42gHQAy/8AChcazFldThxe0R2eU1+hFKEi3WbhUxoVzAwIZiGVcSvdsunZmZqRmKSco+/kjZsURhNOylbTHilhHSgfAA2c4JCfpJLipVPiZBalZ9dm6mGrZE9WUZWTjHhwHP0y4b/1IaGcD5cf2V+r3xmmW9to3ZroXqJuZBun3cAOmRbWJSaWpmkYZmjaaGrbqazj7aaTWZKZlw1q5FVvJhVv5xQi4FNe61/erJ6grmDdaxvap5mX41cWYRWABssI0lqVGajpW6krHOqrneus53CpWyMbodzP9mvZ9myZOGtW6umZUi3jlK2gzqhdAxmQgM0IQgiGQomGAABCwc1T0h2r7J2rat7s697tLSkzK5nknl2dUjFnVGjfULCjkdkfEsAcF4mimobfWMNZ1QMTT4NPTcMOjMAZGU9rrWEe7Kvgbazgruyib61zebGzuC8mqt+moI9upJIu5JSla2MKW5eAVRHCFxRDFNHCkA3CjUyDCopALObUr+4e4O3rIS6tZnKstnov///zvTytc3bp621fpl0LsKwdvL0x/H01I+tnRhbVAdFPww7NQ8yLgYeHACjfzqmsYCRxbiay7q30Kfe2Z/48bT377Hp4aji5rLJx5vIy5vJypTn5a/788CmtpUxZjxejj9GdylLdSgAqZ1gw9mlqdK5ut/AucOUzsON6+Cm9+yx7+Wp6uGn5uWwz8uS19GZ3Nqi3tykycmYaIpRoMhjsMVvmqxLAK62jM7ksJG4m5+/nbi5ir2zfdjNk+zgpubaoOfan+rWmuzZn+rfpd/Wn8/FjqyqdpCkaHGUWpSodomYTgCCiWXN3qa0zZarvoq0sH+roGu6sHjazpXf0pjcy5L01Ynw24zJs3LYvXytpWx+dD+Rj1mNrYOCmGd5dUoAm4xtsb2NJjssbXpctKt5npVklItXwLZ9z8OK2sWA995r/99s0qFb4ahfsJ1hVUooal0vmKZ0UHFTfW44AL+jjqCfezZOO32DZKCZZX13RXdxPp2TW6ygaNjJc+2rPsZzKcyQR9SVSd26d6GZaol+VGJhN1+CYYiNTQCRgmmKkmuFn353gFh7dERQSSVZVCp+eESXkFm7snH23nnRjDaGThhzTRmFcTp4cTmCe0dvcESOn3BtdEkAWVtDc4hmb4NhbWM6eHJJY2BFZmNCgH1RhoJQoJViuKlsu6VfdWM0OTASXF44ZGY4iYhYn6N+MDojJSwgADE9K0hgTElMNFlQMGBqTXuJb4SQd3V5XVRVPG90WXByVmJgRGRnTEBLN32GZKu2iJ2pfltiRQMGAxoaGK4j7QbmMLxSAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;개비스콘가져와!!&quot;
        title=&quot;&quot;
        src=&quot;/static/29aad4d9595b7a6e9aa4c287db161c4e/63868/image-5.png&quot;
        srcset=&quot;/static/29aad4d9595b7a6e9aa4c287db161c4e/c26ae/image-5.png 158w,
/static/29aad4d9595b7a6e9aa4c287db161c4e/63868/image-5.png 250w&quot;
        sizes=&quot;(max-width: 250px) 100vw, 250px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;일단 저는 &lt;code class=&quot;language-text&quot;&gt;Giscus&lt;/code&gt; 컴포넌트를 &lt;strong&gt;blog-post.tsx&lt;/strong&gt;라는 곳에서 뱉기로 되어있습니다.&lt;br&gt;
그 곳에서 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;matchMedia&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;(prefers-color-scheme: dark)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;matches&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//시스템 설정이 다크임&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setCurTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;KEY_THEME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REVERSED&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;LIGHT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DARK&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//뒤집혔으면 라이트로 ㄱㄱ&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//시스템 설정이 라이트임&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setCurTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;KEY_THEME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REVERSED&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DARK&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;LIGHT&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//뒤집혔으면 다크로 ㄱㄱ&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;먼저 이렇게 &lt;code class=&quot;language-text&quot;&gt;curTheme&lt;/code&gt;를 결정하고&lt;br&gt;
이제 localStorage에 이벤트 리스너를 등록합시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;storageListener&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; StorageEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;KEY_THEME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setCurTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prev &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prev &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DARK&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;LIGHT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DARK&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;storage&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; storageListener&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;storage&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; storageListener&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이게 마지막줄처럼 이벤트리스너를 제거하도록 해줘야지 이벤트리스너가 계속 쌓이는 불상사를 막을 수 있습니다&lt;/p&gt;
&lt;p&gt;아 그리고 이러면 될 줄 알았는데, localStorage에 변화가 생겨도 이벤트가 발생하지 않아서..&lt;br&gt;
직접 넣어줬습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dispatchEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StorageEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;storage&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; key&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;KEY_THEME&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;야간모드 토글버튼의 &lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;에서 이렇게 이벤트를 생성하도록 해줍니다&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Giscus theme=&quot;prefered_color_scheme&quot;&gt;&lt;/code&gt;이런 식이던 테마를 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Giscus theme={curTheme}&gt;&lt;/code&gt; 이런 식으로 바꾸면??&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/TG59YUM.gif&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;아 빵애애요&lt;br&gt;
이제 다크모드 덕분에 버그가 꼬이지 않겠는데요~&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;마무리&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A7%88%EB%AC%B4%EB%A6%AC&quot; aria-label=&quot;마무리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;마무리&lt;/h1&gt;
&lt;p&gt;간단한 기능같아보이지만 고민할 것도 난관도 많았습니다&lt;br&gt;
저는 좀 산기슭으로 돌아돌아 도착한 느낌이 없지않아 있는데&lt;br&gt;
그래도 이러면서 배우고 사는거 아니겠습니까~&lt;/p&gt;
&lt;p&gt;암튼간에 이만 마칩니다&lt;/p&gt;
&lt;details&gt;
  &lt;summary&gt;어라? 아이폰에서 왜 안 되지&lt;/summary&gt;
&lt;p&gt;아니.. 분명&lt;br&gt;
&lt;a href=&quot;https://caniuse.com/mdn-css_types_color_light-dark&quot;&gt;Can I Use&lt;/a&gt;이런 곳이나&lt;br&gt;
&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/light-dark#browser_compatibility&quot;&gt;MDN docs&lt;/a&gt;이런 곳에서&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Since May 2024, this feature works across the latest devices and browser versions. This feature might not work in older devices or browsers.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;라길래 별 걱정없이 썼는데&lt;br&gt;
배포하고보니 IOS위의 크롬 사파리 등등에서는 완전히 &lt;code class=&quot;language-text&quot;&gt;light-dark&lt;/code&gt;를 지원하지 않는가 봅니다?&lt;br&gt;
폰으로 들어가보니 색상이 제대로 되어있지 않더라구여..&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://live.browserstack.com/&quot;&gt;browserstack&lt;/a&gt;이라는 곳에서 여러 디바이스별로 테스트를 해볼 수 있길래 봤는데&lt;br&gt;
웹 브라우저들은 전부 지원하고, 안드로이드도 어지간해서는 다 지원하는데&lt;br&gt;
IOS만 유독 최신의 최신의 최신도 다 적용이 안 됩니다..&lt;/p&gt;
&lt;p&gt;그래서 눈물을 머금고 일단 GPT시켜서 아래와 같이&lt;br&gt;
코드를 저어언부 &lt;code class=&quot;language-text&quot;&gt;light-dark&lt;/code&gt;없이 다시 쓰면서도 동작은 똑같아서 자바스크립트 코드는 그대로 가능하게 해달라고 했습니다 ㅋㅋ ; ;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--color-text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;prefers-color-scheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dark&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--color-light&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--color-dark&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token selector&quot;&gt;body.theme-reverse&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--color-light&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--color-dark&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;prefers-color-scheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dark&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token selector&quot;&gt;body.theme-reverse&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;--color-text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; white&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;근데 또 이자슥이 뭐라고 안 했더니 자꾸 새로운 CSS스타일을 적용시키거나 누락시켜서 꾸짖을 갈! 한 번 했네요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b22e3c40d318c48e70f22e074ef0ff8c/46e51/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.151898734177216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAo0lEQVR42oVPWw6DMAzr/e+JKH0DLayF1ksyIW1fi2TJiZLYVvhT13XBWANjDJxzmKYJelngvYe1FnqeYah3zuM4DqjeOx7cd8f46scYNLvRWvtBbVWEnv7hfKNKKWDEGAlJlIMgCDfkgvmaIhzxNa3Ytw0pJWitEUKQW3Zfa4XiWOyEBxwrhCgCOWcBP8gsSvw8X9joGe/xw1I+O3nf5YbTvAEydzT8QvxqBAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;흠;&quot;
        title=&quot;&quot;
        src=&quot;/static/b22e3c40d318c48e70f22e074ef0ff8c/f058b/image-6.png&quot;
        srcset=&quot;/static/b22e3c40d318c48e70f22e074ef0ff8c/c26ae/image-6.png 158w,
/static/b22e3c40d318c48e70f22e074ef0ff8c/6bdcf/image-6.png 315w,
/static/b22e3c40d318c48e70f22e074ef0ff8c/f058b/image-6.png 630w,
/static/b22e3c40d318c48e70f22e074ef0ff8c/40601/image-6.png 945w,
/static/b22e3c40d318c48e70f22e074ef0ff8c/46e51/image-6.png 1003w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 207px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8d09ce413686d3477afd62f0e86a48dd/661c4/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 117.08860759493672%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEC0lEQVR42mP4TwFggLP+gAFpmv/9+wekfv/+3dXVdfTo0Vu3bl27du0YGJw5cwbIPXny5IkTJ4DcO3fuABnPnz8HqofoQtg8b968Q4cOvXr16unTp7fA4O7duy9evACSt2/fBnJfvnwJJD98+IBF87dv3z5+/PjlyxcgCVTx6dMnCBvC/fr1K1AEyPj8+TOKnyHGXL169eLFi5cvXwbaf+DAgbNnzwLtAbIPgwHQ/uPHjwPFgS6HqEfRDDT1PRgAnQd07du3b4F2voQBoIWvX78Gir958wZFMwQAlb579w5oBNDbQNVANtCdQMYrMACygZqBjGfPngG9gMXZFy5cuHTp0sGDB/fu3Qd03rWr14CMvXv3Hth/4PbtO8AAB/piz549QP0QXQibgQ77BAKfgQ578/Yt0PgfP76Dg+0zxBVAHwHdBWT/+PED3dlA8Pfvv79A/O/vz5+/jh0+u3DeugVz1+7ddfjz5y9Am8Cy/3CmMDD5d/bMZcnxVfmZjZN65kzsmlVZ1JoYW9bZNv3jh0/g5PQHFl4wzUA9QPLl63fTp651cIzx9EibNXXF4f2njx08v3TBhsjwEnOLsNaWeXfvPYIoRiQSiM49+086u8TbOSS6uSV7e0V4ObvbWNrZWjs529sG+EY7Osa4uqdZWoUvXrYZ7EGQfgaIzi3bDuoaBohLqNvYBqupWwT4RSbH5ZUUNlZVtCbFZkWHpaqqGNvbR8jIayqpOU2bsRyiH2Tzjl3HjEwjlFVt1DQtTEx95OSUzUydMnP729sXdXUtKCqdaWvjL6+gamjgrqtrp6Rioa7tO3veepCzt2w7YmgSpanrJS2jo61rr6Six8/Ha2PnWVw8LSujIyOtraRklpdPjLCIsLS0spGRm6SUhoauh6ZO0IyZaxkMjEOV1Z0VVC1ERJQUFPXFJGS4uDgi/YJO7Th079y1BxevXzpwKj85XUiQj19QREXVRFhYXkbRFKhFU8ePQVPXU0nVVkpGT1BQRkBQVExMloOD3UpRysNcpzE/s6+mwtfa2FZdmp+XQ0hIQlhYml9AUlJaW17ZQlPXg0FZ3VFOwUxMXJWfX5SVjZWLk5uHl9dGSyvYysRZXslZXiXAxMDNUF9AUICbi4eNnYWbB2iDkrScoaKqPYOMrJG4uIaAgAQnJzcrKxMLCyMLG2dSaOzJJStqPKIrXCN3T5nTUlTFycXHxsoCVMDBwcnHJyYmpi4lbcggJ2skI6MpKibFycHBysrMwcHGyMhkamhy+8i5m7svXth08tnZuyF+QQwMQG1sYAXsIsLi0tLqcnJGDGqqJiqqupJSsmxsIIOBJDs7Kysri5mpSWhgcICPv7OTCycHOzs7G1gBMxCJiUqqKOuoqhgBAKP5ZbQJTpFhAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;꾸짖을 갈&quot;
        title=&quot;&quot;
        src=&quot;/static/8d09ce413686d3477afd62f0e86a48dd/661c4/image-7.png&quot;
        srcset=&quot;/static/8d09ce413686d3477afd62f0e86a48dd/c26ae/image-7.png 158w,
/static/8d09ce413686d3477afd62f0e86a48dd/661c4/image-7.png 207w&quot;
        sizes=&quot;(max-width: 207px) 100vw, 207px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;갈! 한번 해주니까 사족은 넣지 않고 알잘딱깔센 하더라구요?&lt;/p&gt;
&lt;p&gt;아무튼간에.. &lt;code class=&quot;language-text&quot;&gt;light-dark&lt;/code&gt;가 절 지독히도 괴롭혔네요&lt;br&gt;
제가 자초한 일인 것 같긴하죠?&lt;br&gt;
마칩니다&lt;/p&gt;
&lt;p&gt;어라? 근데 IOS 업데이트하니까 잘 나오네요&lt;/p&gt;
&lt;/details&gt;</content:encoded></item><item><title><![CDATA[💲 Gatsby Blog에서 마크다운 수식(LaTex) 표현하기 - KaTeX 플러그인]]></title><description><![CDATA[저런 수식을 손으로 쓸 때는 아주 내맘대로 글씨를 쓰면 되니까 문제없지만 컴퓨터로 저런거 쓰려면 어라? 싶은 사람들도 있을 것 같습니다 그런데 2…]]></description><link>https://sungpaks.github.io/latex-in-gatsby-blog-by-katex/</link><guid isPermaLink="false">https://sungpaks.github.io/latex-in-gatsby-blog-by-katex/</guid><pubDate>Sat, 18 May 2024 19:45:53 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 592px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2dff02b5e2da735138d47a3c58276360/1b853/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.86075949367089%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABfElEQVR42p1SSY7CMBD0/18Fh3BAnIADDOGQhSxkFdnJUriMnGFGQoOmpcR2u7u6y12irCrYno80y7Hf71GWJWjTNOGdjeOItm1xv9/Vvus6NE2jckQYxzBtG67v43g4IEkSddn3/VtgAgRBgDzP1T5NU/gyfxgGiE5WIQArEoT7SnbN/bsutZ/r7xjBSpvNBgfZ3Xq9xmplwDAMLBYLnE4nWJalivz1DDNgVde4eJ6i4MvVsmz5jpV6S3ZJGp8AfQOWBTzHQnAN4UVXRPFFgjSa3MdAuqhoqxJNnqDuWjTjIMEKTGOD/5rgj+NX9PphviBVPahXyvRrBejOtHQUYFEU+DoeEUv5UDLaOJDz+YwwDOeh0Pi2lMgrTYI5jvMEZAB1RKkw0XVd1RmBsixTfhb15MDIhGd+URTNmuWZ8cwT7GS73SoHgUmJ33K5VB0SqJZKYDe8p4wYS5paBTzvdrsnILsgBapeU2OwaZoKgPdM0nTpu91uPyi/5j4AeTmhJv/ptpwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;수식 짤&quot;
        title=&quot;&quot;
        src=&quot;/static/2dff02b5e2da735138d47a3c58276360/1b853/image.png&quot;
        srcset=&quot;/static/2dff02b5e2da735138d47a3c58276360/c26ae/image.png 158w,
/static/2dff02b5e2da735138d47a3c58276360/6bdcf/image.png 315w,
/static/2dff02b5e2da735138d47a3c58276360/1b853/image.png 592w&quot;
        sizes=&quot;(max-width: 592px) 100vw, 592px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;저런 수식을 손으로 쓸 때는 아주 내맘대로 글씨를 쓰면 되니까 문제없지만&lt;br&gt;
컴퓨터로 저런거 쓰려면 어라? 싶은 사람들도 있을 것 같습니다&lt;br&gt;
그런데 21세기 이공계열 학생들 박사님들 교수님들은 논문 쓸 때나 뭘 하든간에&lt;br&gt;
&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msubsup&gt;&lt;mo&gt;∫&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;∞&lt;/mi&gt;&lt;/mrow&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;∞&lt;/mi&gt;&lt;/msubsup&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mtext&gt; &lt;/mtext&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\int_{-\infty}^\infty x\ dx&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.2734em;vertical-align:-0.4142em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;&lt;span class=&quot;mop op-symbol small-op&quot; style=&quot;margin-right:0.19445em;position:relative;top:-0.0006em;&quot;&gt;∫&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8593em;&quot;&gt;&lt;span style=&quot;top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;∞&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.2579em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;∞&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.4142em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mspace&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 같은 수식들을 키보드로 숨쉬듯이 뱉어내야 합니다..&lt;/p&gt;
&lt;p&gt;이걸 위해서 &lt;a href=&quot;https://www.latex-project.org/&quot;&gt;LaTeX&lt;/a&gt;라는 일종의 문서 작성 도구가 존재합니다&lt;br&gt;
좀 더 친숙한 설명은 역시 &lt;a href=&quot;https://namu.wiki/w/LaTeX&quot;&gt;나무위키&lt;/a&gt;인데, 여기서도 잠깐 이야기하는 것처럼&lt;br&gt;
라텍스라고 읽고 싶어지는 이름이지만 &quot;&lt;strong&gt;&lt;em&gt;레이텍&lt;/em&gt;&lt;/strong&gt;&quot;과 같이 발음해야 합니다..&lt;br&gt;
제발 라텍스라고 읽지 말라던 교수님이 생각나네요&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/028ffe75177780dc6b6d70cda3509dad/3684f/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC9UlEQVR42qWU+0tTYRjH91f0c7/0U1BkGEhCVOAPXfzB0kSnESpIBAqameUsUYeSWaF5I2d4mbbUXVJpOp1usq1wU4+4dXbRbTqn07nNbeec99x6zxwZWNLlhfPC9/2ez/PwPjzPy2P/Y/GOMxmWYbjvn+BjwsYi8o4kixtwYb6AdxENenfjBsvSJIX7grh/n/4lfBCWI63rW4L3utSHHZdygjt7B3hApnPmN6lulKpq2qHk0TSD4QSOA5wAgCQBRWMEAQ3S5vGVdc5nVLacuuZeskCYYlh/g2Q1s3bobPbIvadcZsggKw69yYLY19GNnYG5zxLNMMVQTCi687xn6Y6g90yaTfOVg3Fiu7LLnF41eDrdJJLGYEBqFlDplGEGcRnmtNLmcrmiBSOiMDneozZnVcsS+Y4pPfwV+EO7Fd12vlB+MW/DuBKDKUrzYXi8od4kGRltblPW3x9qKwmHQtAjDehmaZv8XJZLZeDk5p6vrMuV16jlP8MC+xyMARJRThn7ehcHxcMDs/1jo2L1EKwBVzOze79arEjMQUdUnLRv+kvfodl1mqLGg7ryIjhh94WdAXLVG9QjTpHok0I2cVB14A/jb0aVyQXLvQoORtYwgXjpdtVi60eOpWkeASi1zjRrWDKjbtSxrZ/RdRaVYKEwB1s9tsLG8QT+grALysikae9BiyWz2jY4GYdJkpbIJobG1MblVcuaD5lfXmzvIMIRaG+/lUsTssbOZxsKa6H0d4yiN8tdOUK0ohNQJHdnmqKjURDByQgOwlEQxkCEpLguiRCGzCevTySPJ2R9KajhYjVJkKtF2qT8lbtCbNt/XIcBz64ytajp5GXtlUJU0AFP3C/6py/kTiblfssQRO2eOMzEO/ewvVma2xx9Y+qUQvOtx2hdN5SeVxIkpdh0vdj5Ugwi2O+nKgYHTFZbrQitEwWsbihDUJa1zqU98k4b4wU7dpxZgBEUSf44IfajwfUtuP/ZPP98pSOvwl8+BszhtLMs+x3wpxMsvhsxqwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;라텍스&quot;
        title=&quot;&quot;
        src=&quot;/static/028ffe75177780dc6b6d70cda3509dad/3684f/image-1.png&quot;
        srcset=&quot;/static/028ffe75177780dc6b6d70cda3509dad/c26ae/image-1.png 158w,
/static/028ffe75177780dc6b6d70cda3509dad/3684f/image-1.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;물리천문학과 교수님들께서는 이 &lt;em&gt;LaTeX&lt;/em&gt; 위에서는 손글씨 속도 그 이상으로 수식을 찍어내시곤 합니다..&lt;br&gt;
이 사실을 알고 돌이켜 보면&lt;br&gt;
교수님들께서 과제나 시험을 내실 때 보통 &lt;em&gt;LaTeX&lt;/em&gt;을 이용하시기 때문에&lt;br&gt;
거의 모든 교수님들의 양식이 뭔가 다 비슷하게 생겼음을 깨달을 수 있습니다&lt;/p&gt;
&lt;p&gt;아무튼간에.. 저희같은 머글들은 레이텍인지 라텍스인지 잘 모르지만&lt;br&gt;
Github나 Obsidian에는 마크다운으로 마치 &lt;em&gt;LaTeX&lt;/em&gt;을 쓰듯이 수식을 표현하는 방법이 존재합니다&lt;/p&gt;
&lt;h1 id=&quot;markdown을-사용하여-수학-식-표현&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#markdown%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%88%98%ED%95%99-%EC%8B%9D-%ED%91%9C%ED%98%84&quot; aria-label=&quot;markdown을 사용하여 수학 식 표현 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Markdown을 사용하여 수학 식 표현&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.github.com/ko/get-started/writing-on-github/working-with-advanced-formatting/writing-mathematical-expressions&quot;&gt;Github Docs&lt;/a&gt;에 따르면,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;수학 식의 명확한 전달을 위해 GitHub는 Markdown 내에서 LaTeX 형식의 수학을 지원합니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;근데 이거는 마크다운 표준의 오피셜 문법이라기보다는..&lt;br&gt;
일부 서비스에서 지원하는 확장형 문법이라고 봐야할 것 같습니다&lt;br&gt;
&lt;a href=&quot;https://www.markdownguide.org/&quot;&gt;마크다운 가이드&lt;/a&gt;에도 관련 설명은 없더라고여&lt;/p&gt;
&lt;p&gt;아무튼 제가 쓰는 노트 앱인 Obsidian에서도 Github와 마찬가지로 수식 표현을 지원합니다 : &lt;a href=&quot;https://help.obsidian.md/Editing+and+formatting/Advanced+formatting+syntax#Math&quot;&gt;Obsidian Docs&lt;/a&gt;&lt;br&gt;
깃허브와 옵시디언 둘 다 &lt;a href=&quot;https://docs.mathjax.org/en/latest/input/tex/index.html#tex-and-latex-support&quot;&gt;MathJax&lt;/a&gt;라는 오픈소스 JavaScript 기반 디스플레이 엔진을 사용한다고 합니다&lt;/p&gt;
&lt;p&gt;잠깐 어떻게 쓰는지 살펴봅시다&lt;/p&gt;
&lt;h2 id=&quot;기본적인-표현법&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%ED%91%9C%ED%98%84%EB%B2%95&quot; aria-label=&quot;기본적인 표현법 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;기본적인 표현법&lt;/h2&gt;
&lt;p&gt;인라인 식을 작성하려면 &lt;code class=&quot;language-text&quot;&gt;$&lt;/code&gt;로 표현식을 감싸고, 블록으로 작성하려면 &lt;code class=&quot;language-text&quot;&gt;$$&lt;/code&gt;로 표현식을 감쌉니다.&lt;br&gt;
즉, &lt;code class=&quot;language-text&quot;&gt;$a+b=12$&lt;/code&gt;와 같이 쓰면 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;12&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a+b=12&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6667em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;12&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 이렇게 나오고,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;markdown&quot;&gt;&lt;pre class=&quot;language-markdown&quot;&gt;&lt;code class=&quot;language-markdown&quot;&gt;$$
a+b=12
$$&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 쓰면 아래처럼 나옵니다&lt;/p&gt;
&lt;div class=&quot;math math-display&quot;&gt;&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;12&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a+b=12&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6667em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;12&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;
&lt;p&gt;이외에도..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a^2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8141em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8141em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;같은 지수 표현(위 첨자) : &lt;code class=&quot;language-text&quot;&gt;$a^2$&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;두 글자 이상이면 &lt;code class=&quot;language-text&quot;&gt;$a^{20}$&lt;/code&gt;과 같이 묶어서 써야 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;20&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a^{20}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8141em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8141em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;20&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;처럼 나옵니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a_0&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.5806em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;같은 아래 첨자 표현 : &lt;code class=&quot;language-text&quot;&gt;$a_0$&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;똑같이, 두 글자 이상이면 &lt;code class=&quot;language-text&quot;&gt;$a_{20}$&lt;/code&gt;과 같이 묶어서 써야 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;20&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a_{20}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.5806em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3011em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;20&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;처럼 나옵니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;π&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;α&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\pi, \alpha&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;π&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.0037em;&quot;&gt;α&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;같은 Greek Letters 표현 : &lt;code class=&quot;language-text&quot;&gt;$\pi, \alpha$&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;≈&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\approx&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4831em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;≈&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;같은 근사 표현 : &lt;code class=&quot;language-text&quot;&gt;$\approx$&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msubsup&gt;&lt;mo&gt;∫&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/msubsup&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\int_a^b&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.3998em;vertical-align:-0.3558em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;&lt;span class=&quot;mop op-symbol small-op&quot; style=&quot;margin-right:0.19445em;position:relative;top:-0.0006em;&quot;&gt;∫&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.044em;&quot;&gt;&lt;span style=&quot;top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;a&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.2579em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;b&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3558em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;같은 적분 표현 : &lt;code class=&quot;language-text&quot;&gt;$\int_a^b$&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;true&quot;&gt;&lt;munderover&gt;&lt;mo&gt;∑&lt;/mo&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;/munderover&gt;&lt;msub&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mstyle&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\displaystyle\sum_{i=1}^{10} t_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:3.0788em;vertical-align:-1.2777em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop op-limits&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.8011em;&quot;&gt;&lt;span style=&quot;top:-1.8723em;margin-left:0em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.05em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mrel mtight&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.05em;&quot;&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&quot;mop op-symbol large-op&quot;&gt;∑&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.3em;margin-left:0em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.05em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.2777em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.1667em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.3117em;&quot;&gt;&lt;span style=&quot;top:-2.55em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;같은 유한합 표현 : &lt;code class=&quot;language-text&quot;&gt;$\displaystyle\sum_{i=1}^{10} t_i$&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;!&lt;/mo&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;!&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;!&lt;/mo&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo fence=&quot;true&quot;&gt;(&lt;/mo&gt;&lt;mfrac linethickness=&quot;0px&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/mfrac&gt;&lt;mo fence=&quot;true&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\frac{n!}{k!(n-k)!} = \binom{n}{k}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.4001em;vertical-align:-0.52em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mopen nulldelimiter&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mfrac&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8801em;&quot;&gt;&lt;span style=&quot;top:-2.655em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;mclose mtight&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;mopen mtight&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mbin mtight&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;mclose mtight&quot;&gt;)!&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.23em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;frac-line&quot; style=&quot;border-bottom-width:0.04em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.394em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose mtight&quot;&gt;!&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.52em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose nulldelimiter&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.2em;vertical-align:-0.35em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mopen delimcenter&quot; style=&quot;top:0em;&quot;&gt;&lt;span class=&quot;delimsizing size1&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mfrac&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.7454em;&quot;&gt;&lt;span style=&quot;top:-2.355em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.144em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.345em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose delimcenter&quot; style=&quot;top:0em;&quot;&gt;&lt;span class=&quot;delimsizing size1&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;같은 분수나 이항 표현 : &lt;code class=&quot;language-text&quot;&gt;$\frac{n!}{k!(n-k)!} = \binom{n}{k}$&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;뭐 아무튼 등등 많은데 계속 알아보다가는 내일의 해가 뜰 것 같습니다..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 299px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/27a40376cf3a7fa88c7ea90c91f4874b/aeb78/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnElEQVR42h3N7U8SAQDH8fsDmtrWdGbqHD1ZWz5sWW1ulhqGGOpxwMHxdBwHx8PBcXjHHciDPISAHCLhNNIW1tygpgvdsqUr7EUt15v+gtbW39HV9nvxe/PZF5i3sBQX9XFRK5m0kUm1IaRDY4glprfEDHjSaE+gRFyHhvx8WihWUsuVXH47J7xIZyuReBmYQ/lIYim6FHf6cy5/VsQiQ7AlE55AVFbpmFQ6PiWblLnsJMsXCU/eHyjRgbKbXsXdGQCyBtRWDtR6ZaBPAbMqY1BjDmuxmEWFPhgc6O3quSy50n/j5sjwkE5LUMxTh2dFnIsSnFQeADG/1s5qTH6FhlHqecjAq0xh2Mip70+MDg5LJNf6+iTd3b3tF9rv3B73MiUXlXf/k4JDxEpsAcYZlZ6aUdPzCAvqAypTSIkwsFyhmxwfGx7o6rzU0XGxtaX17j0pxZSd3ryYFWe2pwAIYzRWsen9jxlQz84hAasj/DzoW3cjRRLBp0d7Orva2s7LZIiP3XB4xewq4Sk8224AIEqrMT+IuOUq76xWPOy8nkVQ/n06eJJxvQyYtkh46tbVlnMtEOSg+Q03LVgcmdRy9c/vX4AK88G4H9K7piFSAdNiGUSCCt3iCs3WOUPOOvvEIIuaof7rI6CWtXsEwisEIpVPx2c/z74Ccph4rHPIldjEDP5ojlRoKLMNMeIY4QhyFojSDgncbHUrOakwe9hC7e2Hj8dfjo5OavXDSDwPxLKlcEqgA0m7J4K7Yk5PiA+qzehDI2pjuHBpDa3u0LVapF7LvWscrm/uBONrxEIOdafNnmVgc3N7p/pq9/Vuvf5mf2/v4KDR/Nz8fvajefrttHl60NgvFMuL8ZKLTZjcSROZsfhWbEyBYAoYlf0LlHkbeiO2VwwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;퇴근은 글렀네&quot;
        title=&quot;&quot;
        src=&quot;/static/27a40376cf3a7fa88c7ea90c91f4874b/aeb78/image-2.png&quot;
        srcset=&quot;/static/27a40376cf3a7fa88c7ea90c91f4874b/c26ae/image-2.png 158w,
/static/27a40376cf3a7fa88c7ea90c91f4874b/aeb78/image-2.png 299w&quot;
        sizes=&quot;(max-width: 299px) 100vw, 299px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그러니 그냥 필요한게 생길 때마다 &lt;a href=&quot;https://en.wikibooks.org/wiki/LaTeX/Mathematics&quot;&gt;docs&lt;/a&gt;같은 것을 찾아보도록 합시다.&lt;/p&gt;
&lt;h1 id=&quot;gatsby에서도-수식표현하기--katex&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#gatsby%EC%97%90%EC%84%9C%EB%8F%84-%EC%88%98%EC%8B%9D%ED%91%9C%ED%98%84%ED%95%98%EA%B8%B0--katex&quot; aria-label=&quot;gatsby에서도 수식표현하기  katex permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Gatsby에서도 수식표현하기 : KaTeX&lt;/h1&gt;
&lt;p&gt;아무튼 그렇게 Obsidian에서 아주 &lt;del&gt;잘&lt;/del&gt; 얼레벌레 수식을 써가면서 필기도 하고 했었는데&lt;br&gt;
Gatsby는 이런 수식 표현을 기본적으로 지원하지 않아서&lt;br&gt;
이 블로그에 옮겨쓰니까 수식이 되지 않는 사태가 벌어졌습니다?&lt;/p&gt;
&lt;p&gt;그래서 찾아보니.. Github나 Obsidian에서 썼다는 &lt;strong&gt;MathJax&lt;/strong&gt;를 쓰는 방법도 물론 있지만&lt;br&gt;
이건 좀 무겁고 의존성도 많고, 등등의 이유로&lt;br&gt;
&lt;strong&gt;KaTeX&lt;/strong&gt;라는 더 가벼운 라이브러리도 꽤나 많이 쓰이는 것 같았습니다&lt;br&gt;
그래서 저는 이 &lt;strong&gt;KaTeX&lt;/strong&gt;를 블로그에 추가하기로 했습니다&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.gatsbyjs.com/plugins/gatsby-remark-katex/&quot;&gt;gatsbyjs.com에&lt;/a&gt; KaTeX 플러그인을 추가하는 법이 잘 나와있습니다&lt;br&gt;
매우 간단한데요&lt;/p&gt;
&lt;p&gt;먼저 터미널에서 &lt;code class=&quot;language-text&quot;&gt;npm install gatsby-transformer-remark gatsby-remark-katex katex&lt;/code&gt;를 입력하여 설치합시다&lt;/p&gt;
&lt;p&gt;그런 다음 &lt;strong&gt;gatsby-config.json&lt;/strong&gt;에서,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token literal-property property&quot;&gt;plugins&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;gatsby-transformer-remark&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;plugins&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* --- 여기에 추가 : gatsby-remark-katex --- */&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;gatsby-remark-katex&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;// Add any KaTeX options here&lt;/span&gt;
            &lt;span class=&quot;token literal-property property&quot;&gt;strict&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ignore&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* ----- */&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 &lt;code class=&quot;language-text&quot;&gt;gatsby-transformer-remark&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;options&lt;/code&gt; 하위의 &lt;code class=&quot;language-text&quot;&gt;plugins&lt;/code&gt;에 &lt;code class=&quot;language-text&quot;&gt;gatsby-remark-katex&lt;/code&gt;와 그 옵션들을 넣어줍시다&lt;/p&gt;
&lt;p&gt;이제 진짜 거의 끝났습니다?&lt;br&gt;
공식문서에서 하라는 대로 template 파일같은데다가 Katex의 CSS 파일을 넣어주기만 하면 되는데&lt;br&gt;
저같은 경우는 &lt;em&gt;templates/blog-post.tsx&lt;/em&gt; 파일에
&lt;code class=&quot;language-text&quot;&gt;import &quot;katex/dist/katex.min.css&quot;&lt;/code&gt; 이렇게 한 줄 적어주었습니다&lt;/p&gt;
&lt;p&gt;이제 진짜 끝입니다. 간단하죠?&lt;br&gt;
&lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;σ&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msqrt&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;mn&gt;12&lt;/mn&gt;&lt;/mfrac&gt;&lt;/msqrt&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\sigma = \sqrt{\frac{(b-a)^2}{12}}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.4306em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;σ&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.84em;vertical-align:-0.5225em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord sqrt&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.3175em;&quot;&gt;&lt;span class=&quot;svg-align&quot; style=&quot;top:-3.8em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.8em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot; style=&quot;padding-left:1em;&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mopen nulldelimiter&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mfrac&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.01em;&quot;&gt;&lt;span style=&quot;top:-2.655em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;12&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.23em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;frac-line&quot; style=&quot;border-bottom-width:0.04em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.485em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mopen mtight&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;mbin mtight&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mclose mtight&quot;&gt;&lt;span class=&quot;mclose mtight&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.7463em;&quot;&gt;&lt;span style=&quot;top:-2.786em;margin-right:0.0714em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size3 size1 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.345em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose nulldelimiter&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.2775em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.8em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;hide-tail&quot; style=&quot;min-width:1.02em;height:1.88em;&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;400em&quot; height=&quot;1.88em&quot; viewBox=&quot;0 0 400000 1944&quot; preserveAspectRatio=&quot;xMinYMin slice&quot;&gt;&lt;path d=&quot;M983 90
l0 -0
c4,-6.7,10,-10,18,-10 H400000v40
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M1001 80h400000v40h-400000z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.5225em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; (&lt;code class=&quot;language-text&quot;&gt;$\sigma = \sqrt{\frac{(b-a)^2}{12}}$&lt;/code&gt;) 같이 아무거나 써보고 잘 나오는지 확인해봅시다&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
코드 짜다가 너무 햄들어서 그냥..&lt;br&gt;
간단한 주제로 써봤습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c3b348785b80e9f32aabea8b04884968/0a47e/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.46835443037975%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4ElEQVR42hWQW4+TQACF+af6aGLiqw8mJppotEYTk6ox7upmu5TLQKFQCmW65VoYBpgpMxRa20bf/BuyyZfzcvI9nCPwCnszBcchQfkOI16XTYk5IbxhHWOntusb1jfNkfM9pS2p95S0dd2UaE+IwOrywNjQnfv+cjj0rD22/aE9cLZvd/zU9n9P58EvtvmB8ZYMPu3orsEFK0uhI3UM3eubl3FitDWriwQjyGnx5/j73PWspv8ulyvgPh+Ne0ojeI/iZIcKivKmKARelUUcfB4/NebjKkeKMVKsV4rxVjXeA2uEs6As6OOP2qMXH4owgo4HHbfaZiTLHuRhZ093P67ffbt6XeXYh6LlfPH8uyR2smzVUbKG0ZNP6rM3XxN/nYVxuglQkpI8o1kuVFnK6/p+5XoLkyBMcRXBTeCtIz+gaLin2RX45/dfc83ghKJ0i9MtQahME5zEQuA6abCJVn688pMw9Dx/YdlLa7FyXM920k20DWJoOdBZhsEmhOtwBUMf+rblL2xBl0RbA8u56Vrmcm7Ypm5omgF0E2imNrN0w9If0gQ6kGRdUmZTGYiifHsD7iYCkCa6Mh0wVMkE8lxTLE01wQNzAAxVnSmyLsszeTAlfSrp0hRMJ6p4C8TJf9nxjZo6CdopAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;직육면체 전개도&quot;
        title=&quot;&quot;
        src=&quot;/static/c3b348785b80e9f32aabea8b04884968/0a47e/image-3.png&quot;
        srcset=&quot;/static/c3b348785b80e9f32aabea8b04884968/c26ae/image-3.png 158w,
/static/c3b348785b80e9f32aabea8b04884968/6bdcf/image-3.png 315w,
/static/c3b348785b80e9f32aabea8b04884968/0a47e/image-3.png 600w&quot;
        sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🪢 scipy의 curve_fit 적당히 써보기]]></title><description><![CDATA[…]]></description><link>https://sungpaks.github.io/linear-fit-by-python-scipy/</link><guid isPermaLink="false">https://sungpaks.github.io/linear-fit-by-python-scipy/</guid><pubDate>Thu, 09 May 2024 23:41:56 GMT</pubDate><content:encoded>&lt;p&gt;그 왜 이런거 본적 있으시죠?&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.analyticsvidhya.com/blog/2021/10/everything-you-need-to-know-about-linear-regression/&quot;&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 626px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.645569620253163%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABC0lEQVR42i2QW2+DMAyF+f//aG+rtJdeJk1rH0pFCYUWKEmaC1BIHJK5S/1kfcdHx3ZijJFShhC89+G/ACCS8AZhmiat9Vv1ASyExWGfoMAYi+Y47ACaurkP8HTBuBcbx1EIEc3c+NWRwmxeZkxWSmHXW19q2BZyAUuu7ebMthdFnwtKOBOTMfbQjF/Hbn7hkFhjmFBnuaxOj03a7is5GMeFLLX7KeVnyn/biQ+z0poMYVv1HwdKhIlbJLhkXlx3Gf3OWdcj9RYspdR7N9gl49OedINStztfn7p12mZsmsFZPBvNi/eo0XuTFZeckKqqOOe613XTXgpCclLXtwfngvMyz84FsvxalfEFf7kcUsIvn7WHAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;fitting 예시&quot;
        title=&quot;&quot;
        src=&quot;/static/694cad11b5e1532fd028d26c555d4941/af590/image.png&quot;
        srcset=&quot;/static/694cad11b5e1532fd028d26c555d4941/c26ae/image.png 158w,
/static/694cad11b5e1532fd028d26c555d4941/6bdcf/image.png 315w,
/static/694cad11b5e1532fd028d26c555d4941/af590/image.png 626w&quot;
        sizes=&quot;(max-width: 626px) 100vw, 626px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;위와 같이 데이터들 막.. 찍어놓고, 적당한 선 쭈욱 그어서 &quot;이런 분포를 따릅니다&quot; 라고 하는 것 말입니다&lt;br&gt;
당연하지만 그냥 사람이 대강 선을 그어내는게 아니라&lt;br&gt;
적당한 수학적 방법으로 데이터를 가장 잘 표현하는 함수를 구하게 됩니다&lt;/p&gt;
&lt;p&gt;그런 과정을 두고 &lt;em&gt;데이터를 fitting한다&lt;/em&gt;라고 하는데&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 273px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bc8f292e8038dd3a80a177cac7d8162b/0217c/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 67.72151898734178%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAADV0lEQVR42g3LWVMaBwAA4J30wZpOM06fOn3MW6btTJyJGavGRNtEVA5FIjdyKYRFrmU5FpeVZTlWEOu6XIICQRBB0CoV2lrBAonp1NaXvnT6Y9rv/QMY09ynIxODQyNyFYxYcJ1EscJb0AiEK3yBViw1LalRtcapkHve6HV8oUHIJw1GbGXZKhYliAAw/pL/+MnY14PDPL7Oj2xKmXPg6wVIIjUKREaRBJIuoUpwXSkPGyBYLIXFYp9W59eBmEIdX/MALI56aPTV0PBzzrw6GS6gyyCmUgXB1SAIrqlWw5qXJeuXRehxxAxjKjWpN22ZIRJc3dAboy4HwOSCw88Yw6OTsyzZ1kaJRkNbRhMF22gbQqw6i5ZHPQxoYQNR2ETqoZjdtevCwgYTZYYoIgLMLBjGJpjPXjCmpkWoO+N1RGjY/v/Muh1R1XhWO/B7sL8Bf5ayimmrJeFAk841ygLtI+heOAWo1K4X33EZU1zGjMSL5ylvPAbbYw68ss7LMYCd0U9yjP74yINrz0dFVJ5C/Uknsuf2JtBgic4BDnN4lqVgzwpnmFLSf7jv30nabUkEyyNvLp0Dv0IfH0vvn2g/PfNMFYlACkELoXQhepKjat36H4DHvc/l6eZYEg5bjrj2spvZfacz4/bXMP4Nce9D4P7tBtBYHyyQqTzmyWLEQTh3FDs9Tl7ctv8Bwv6SSGyZZ8vmWUsafaScOi8Tvkpwux7Q3Hjv3fj6e+tAEx8vk1Te7SrgvhQRe7sRr2zn7i5vARLPCMUWHlvGYUrkSqya/aVKkocEUSLIuvNh19PXwfqyhqHgshKXzjkXp8FFgVWwiKuVPxQuANydeS1xMZhL82yJTGarFd53j+qXmVKn2mmn0Sb2sBX46szHf+unopDBrxLBC6/07EnF5JOELwQcbCZpgtboQrOLphnOSnmveXdx3Sv/2D06byXdTXyw4fi8ncb/bP971/r7Xe3qKlu6zpcbVKyZiANFL36ZyXWqP9OhglYXjEVOr/LH7yu1dwe59u5ON59vbhNNmuqVTz+cNP6qt3ql4xzMsnEeFT1S4DwW/14zRvC+iJsnKqnqUfqn3fBhMUBeRLc7mTRtFAVlT6sBzW+peHOLOCPt+4jM/m0f/M2DQ+P4fwnIlc0gmT5EAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;옷입기&quot;
        title=&quot;&quot;
        src=&quot;/static/bc8f292e8038dd3a80a177cac7d8162b/0217c/image-1.png&quot;
        srcset=&quot;/static/bc8f292e8038dd3a80a177cac7d8162b/c26ae/image-1.png 158w,
/static/bc8f292e8038dd3a80a177cac7d8162b/0217c/image-1.png 273w&quot;
        sizes=&quot;(max-width: 273px) 100vw, 273px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;물론 이렇게 옷 입는 그 피팅은 아닙니다&lt;/p&gt;
&lt;p&gt;아무튼 그런 방법들 중 가장 기초적인 임플란트가 &lt;strong&gt;Least Square&lt;/strong&gt; Method 입니다
&lt;a href=&quot;https://youngji.medium.com/%EC%B5%9C%EC%86%8C%EC%A0%9C%EA%B3%B1%EB%B2%95-least-squared-method-f7357990329f&quot;&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 280px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.55696202531645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABoElEQVR42nVS0W6jMBDM//9UHypV6kNaKSHXSEnriEKAgA3YxmAMpmMMuaq9mwfYAY9nd7SbaZq6rlNKtTPUjPafwLnOvZumwZlhGDbWWikkqnEGKK4bfwEHdKt72DQqD6O6rhYxbsJvaFAEQbDf77MsA7UzUCghiyjmjPGyhHPJijxJV2cpvRgcNecc/Xk6mEE3qipymiUZIeHxlMdZ+pkkYWyM2biLlfINex/nOY6m05zSuig4LdIoItsdeTvFJGLpjVKGWJwzLvDOd/NWNsitiK/JB8nihOyP5PVA01tMLqJkxgz5ZyQFd+KqqqQQ3tf0PUviKDjc4uvHa3DZHWmeX9/P0KDz6+nMsxxTgapGLjO73I25ncnlZXd+2r4/b8PdQXEhGJVlhaARcitF32k3jjFIUnedn9nWQoYvwenhsaZ1U5VG68H097RXODquuSBzJ0aJzpM/b0apaYlrFi7FN9i/vFudp7qseF1jS/BJr+i/4QeFTAiBws3s17PXvWqV30JQCPBkjOGQX9v7Frtfzbqe1v7ob4F3mP4Da+0XdUXrwJaZmGkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;최소제곱법&quot;
        title=&quot;&quot;
        src=&quot;/static/200c92cb34804c5c0c5209cd2b6a26b7/908b1/image-2.png&quot;
        srcset=&quot;/static/200c92cb34804c5c0c5209cd2b6a26b7/c26ae/image-2.png 158w,
/static/200c92cb34804c5c0c5209cd2b6a26b7/908b1/image-2.png 280w&quot;
        sizes=&quot;(max-width: 280px) 100vw, 280px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/a&gt;
이런 식으로, 그냥 쉽게 말해서 함수로부터 각 지점들까지의 차이를 최소화하려는 방법입니다&lt;br&gt;
자세한 설명은 나무위키같은거나 &lt;a href=&quot;https://www.geeksforgeeks.org/least-square-method/&quot;&gt;이런 데를&lt;/a&gt;확인해보세요&lt;/p&gt;
&lt;p&gt;아무튼 이런거 하려면 수식을 막 세워야할 것 같지만&lt;br&gt;
우리에게는 콤푸타가 있습니다&lt;br&gt;
Python을 쓸거고,&lt;br&gt;
그래프 그리는 데는 Matplot 라이브러리를,&lt;br&gt;
수학통계적인 계산은 scipy한테 맡겨버리기로 합시다&lt;/p&gt;
&lt;h1 id=&quot;예제&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%98%88%EC%A0%9C&quot; aria-label=&quot;예제 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;예제&lt;/h1&gt;
&lt;p&gt;1부터 10까지의 x값과 그에 대응하는 y, 그리고 yerr(y값의 오차)가 아래와 같이 주어졌다고 해봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1 0.000105532 5.12821e-05
2 0.000281377 5.12821e-05
3 0.000437138 5.12821e-05
4 0.000595329 5.12821e-05
5 0.000623162 5.12821e-05
6 0.000735304 5.12821e-05
7 0.000838319 5.12821e-05
8 0.000911662 5.12821e-05
9 0.00124201 5.12821e-05
10 0.00137106 5.12821e-05&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;x y yerr(또는 uncertainty) 와 같은 형태입니다&lt;br&gt;
일단 이거 가져다가 파싱을 좀 해봅시다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; numpy &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; np
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; scipy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;optimize &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; opt
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; matplotlib&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pyplot &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; plt

&lt;span class=&quot;token comment&quot;&gt;# 데이터 불러오기 및 파싱&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;linear.dat&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;r&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    lines &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;readlines&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
uncertainty &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; line &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; lines&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        parts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; line&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;split&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parts&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; ValueError&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Invalid format: Insufficient data&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        x&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;append&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        y&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;append&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        uncertainty&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;append&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt; ValueError &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# 혹시 빈 문자열 등 포맷에 맞지 않는 행이 나오면 넘김&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;# 별 일 안할 것임&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런거 매번 기억 안 나도 GPT한테 &quot;&quot;linear.dat&quot;파일 열어서 저런 포맷 파싱해줘&quot; 하면 알아서 짜줍니다.&lt;br&gt;
이렇게 해서 각 x, y, uncertainty 배열들을 만들어두도록 합시다&lt;/p&gt;
&lt;p&gt;근데 데이터가 대충 어떻게 생겨먹었는지 알아야 어떤 모양에 맞출지도 알 수 있겠죠?&lt;br&gt;
점을 찍어봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;errorbar&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; yerr&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;uncertainty&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fmt&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;o&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이러면 y오차와 함께 데이터 그래프를 찍어주고, &lt;code class=&quot;language-text&quot;&gt;fmt=&apos;o&apos;&lt;/code&gt; 옵션으로 인해 데이터가 그냥 똥골뱅이로 표현됩니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 573px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4a60ec78304b5af2f533f3dc808654b5/3c024/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.15189873417721%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABA0lEQVR42pWR23KDMAxE/f/fGQYCNpbvd9NlaNOUZhqqF8uII621zHvPOTfG5JzTtag5Sxuk0iyEsCyLc27btt779i5a76U1FYpUhmHmNE3X4VjqrCMS5zwrpYCH+O2fAYRprYdhAP92MorK58dvOxxjnOfZWnuCT33uOuTahE1nGNt++ebjsrpEPoNsP6s7DGwcx9NkHNwkiASJa239t5wdPqx6hl0qOF2qtfdv7OXCgGFhB3wIu6v4rLD/sW1YBfKwir50XvD70yoz3G4raZvqY/hVn/FmIThfSbrUWy31UrTWoJehgZQSLVIMpPZAjo9CCBiBHFUiQoIrVosS3EVCRB9i1jYpHmh6lAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;original data&quot;
        title=&quot;&quot;
        src=&quot;/static/4a60ec78304b5af2f533f3dc808654b5/3c024/image-3.png&quot;
        srcset=&quot;/static/4a60ec78304b5af2f533f3dc808654b5/c26ae/image-3.png 158w,
/static/4a60ec78304b5af2f533f3dc808654b5/6bdcf/image-3.png 315w,
/static/4a60ec78304b5af2f533f3dc808654b5/3c024/image-3.png 573w&quot;
        sizes=&quot;(max-width: 573px) 100vw, 573px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;직선 긋고 싶게 생겼죠?&lt;/p&gt;
&lt;h1 id=&quot;scipyoptimizecurve_fit&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#scipyoptimizecurve_fit&quot; aria-label=&quot;scipyoptimizecurve_fit permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;scipy.optimize.curve_fit&lt;/h1&gt;
&lt;p&gt;이제 이 데이터들을 가장 잘 표현하는 함수를 알고 싶은건데&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 150px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/67c2b1db0c98d93fbf3bb46915892c52/8a4e8/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEhElEQVR42h2S+VcSCxTH5096v1bPl+JWZJoImksupJkvy42KVEjJUEmSfQARCIkQHGRTUVaBYQYGZpgV9877Tx6nH+65537v/Zx7zz1fIDfHRz88Q6WdpfeC7NTj5HRrVvII/fYUXenKzXcjyz1FWRe6+fRc1pz/3Jqda0kNNSfHWpIvWnKzj4DUFK+eUEknMt+VET9KvGrNvX5MrfNxeTsy1V5a4BOf+GVl4/lSY07WdjraGBP8fSZoig/w0jPNQGTgXma2tTDDh2c7EuK29Ejj6XjLj5WXm4olhfzzyuqyakWyqxiOSXnop6ZIz/0j/oPY04bUMC8m/geI8O8n3/Jy80/yc52Z8VbD66GJTb1IDwlNhwJrUGAJdpvDQuP+uNq8Lf033H4v9uTBcffD01HecW8DEH3WEBtrgOUdqKTru3ReaPCJrIdCSx3295v8IoNXZPQPggd95oDQFFh6u3AsaIg/bzkeepgQNwHpmabjvkZM2eFemxLqvIOgv8/gHda6pq0+od494wjN7XhFmr26PgD6BNbA9vRUdqg5JuYVZQIgr+jIvHmck3YuaPQ91lCPCerTeSKJLILk13b2k+cwjhY+2UOdmv1+0N9rDb9UWUKv+GWZoKzsB1CViNgQBmRj/VpPt/qn2PBrwxO9uriscXQ6lcLL2N3V5VEiv+CEhrWenu2fvcaA/cvcteEFrn4OUOAoBw7uayW9Or8OimbhfB5Gb6+uHY4fZrtNbzCQFAWjhQIKo0hx0x9+ooWMprVb+2sSFAM0OPHb/WbPsLjogG44jqapQgEu47hJo1FNvNMurxZKxXwuV6lUGIaqYuiU2asyKX/vT1dNrwBM/fLaNx+2Sz3RGFZEU+k0QeDsRS0bOZb/1RbYBrnrK4ai6zCCojWONR+eWS2rd9A86XwDkLZ3rF+KQ0vhoB8pYqVSiSAIlmU5lk0exao4znEcQzN1sYyV6m1X6CTpW7uJylivFKB+SuiInEtsZKPmfC5bHyKpKsMwdZigSYok2XrxJwowAiNFCLIyqW/s6SoTkQDswSITU3IZDYeYYye+YrHC1Vjmz+ZyqUSS1foVFE1jVZwhqrlMnMzbL2ADk15n4h+AWljBJtQXBT2O2CaNziXXYTyRrGAlkmMwvEqQLMnS5UqlGE+A+8FJox2GXVeYhcmp2LM1gDlRshnNBb4Dw45BnbvbBI0oQZ3ki2tJeWDRB11az9etHZl6UrLRpXb26L3BhPOO/kEjJjqlBpj4FpMHaxUnS3re79pFYFCkc/tDyaRrD5S3ORXNYfBbNofWzSOyQCOgO4v6LikPidrIcx3ApdQXqIUlXHdXB7agS7C116n59TVwdH3N7GyOqpfbq9jZCVoVbnueaX2ztt2729DtDXRH79GwHmAyWq60y1b3/rsJuMOO0W2XxHW4aA9iFSJ/noqfRRiKsAZOJDZowRYY3wKtjvXvOrnHvUEXzAB7rmPLuxzlqdU8Co9r0OiPnsXx+osqFaJaJSkaJ4i67bAi8tF5IFi3vf2sejHxTtA/Njk+8D+67OiagdlMbwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;도라에몽&quot;
        title=&quot;&quot;
        src=&quot;/static/67c2b1db0c98d93fbf3bb46915892c52/8a4e8/image-4.png&quot;
        srcset=&quot;/static/67c2b1db0c98d93fbf3bb46915892c52/8a4e8/image-4.png 150w&quot;
        sizes=&quot;(max-width: 150px) 100vw, 150px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;마침 도라에몽이 scipy 라이브러리에 &lt;code class=&quot;language-text&quot;&gt;curve_fit&lt;/code&gt;이라는 좋은 도구를 찾아줬습니다~&lt;br&gt;
&lt;a href=&quot;https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.curve_fit.html&quot;&gt;공식문서&lt;/a&gt;는 에 따르면 &lt;code class=&quot;language-text&quot;&gt;curve_fit&lt;/code&gt;은 least square로 fitting해주는 함수라고 하네요&lt;br&gt;
least square에 대해서는 아까 소개했죠?&lt;/p&gt;
&lt;p&gt;인자로는 &lt;code class=&quot;language-text&quot;&gt;scipy.optimize.curve_fit(f, xdata, ydata, ...)&lt;/code&gt; 이런 식인데 (...는 optional들)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;f&lt;/code&gt; : 모델 함수
&lt;ul&gt;
&lt;li&gt;직선으로 할거니까 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;y=ax+b&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6667em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;b&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;라는 직선을 가정해봅시다&lt;/li&gt;
&lt;li&gt;그럼 그냥 &lt;code class=&quot;language-text&quot;&gt;def fit_function(x,a,b) : return a*x+b&lt;/code&gt;와 같이 작성해두고, 이 함수를 넘기면 됩니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;xdata&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;ydata&lt;/code&gt;를 준비해야겠죠? 배열 상태로 준비해둡시다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;sigma&lt;/code&gt; (&lt;em&gt;optional&lt;/em&gt;) : 이건 &lt;em&gt;uncertainty in ydata&lt;/em&gt;라는데 마침 우리 데이터에는 yerr에 해당하는 &lt;code class=&quot;language-text&quot;&gt;uncertainty&lt;/code&gt;가 있었으니 이걸 넣어줍시다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그럼 이제 이렇게 쓰면 됩니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# 선형 모델 함수 정의&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fit_function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b

&lt;span class=&quot;token comment&quot;&gt;# 선형 모델 fitting&lt;/span&gt;
popt&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pcov &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; opt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;curve_fit&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fit_function&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sigma&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;uncertainty&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;리턴값이 궁금한데요&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;popt&lt;/code&gt; : 아까 우리가 모델함수로 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;y=ax+b&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.1944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6667em;vertical-align:-0.0833em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6944em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;b&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;를 정의했고, &lt;code class=&quot;language-text&quot;&gt;curve_fit&lt;/code&gt;을 사용하여 그 모델함수의 &lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt;값과 &lt;code class=&quot;language-text&quot;&gt;b&lt;/code&gt;값을 정하고 싶었던 것인데, 이 &lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;b&lt;/code&gt;에 해당하는 값들입니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;pcov&lt;/code&gt; : 이건 &lt;code class=&quot;language-text&quot;&gt;covariance matrix&lt;/code&gt;라는 것인데요.. &lt;em&gt;&quot;둘 이상 변수들 간의 흩어진 정도(분산)의 상관관계를 나타내는 행렬&lt;/em&gt;&quot; 정도로 이해하고 넘어갑시다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/LoLbvho.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;
공분산행렬은 대충 이렇게 생겼습니다.&lt;/p&gt;
&lt;p&gt;이 &lt;code class=&quot;language-text&quot;&gt;pcov&lt;/code&gt;에서 얻고자 하는 것은 우리가 얻은 fitting 결과의 오차범위인데&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;To compute one standard deviation errors on the parameters, use &lt;code class=&quot;language-text&quot;&gt;perr = np.sqrt(np.diag(pcov))&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;라는 친절한 설명이 있습니다.&lt;br&gt;
그럼 이 결과들을 이용해서 fitting 결과를 그려봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# pcov로부터 perr값 계산&lt;/span&gt;
perr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; np&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sqrt&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;np&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;diag&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pcov&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# 데이터와 fitting된 모델 그래프 그리기&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;errorbar&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; yerr&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;uncertainty&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fmt&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;o&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; label&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;original data&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;plot&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fit_function&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;np&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;array&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;popt&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; label&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;fitted model&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fill_between&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                 fit_function&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;np&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;array&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;popt &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; perr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                 fit_function&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;np&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;array&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;popt &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; perr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                 alpha&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; label&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;error band&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;legend&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;xlabel&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ylabel&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Linear Fitting with Error Band&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
plt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;show&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;적당히 matplot으로 그래프를 그리는 코드를 작성합니다.&lt;br&gt;
제가 지금 matplot(&lt;code class=&quot;language-text&quot;&gt;plt.plot&lt;/code&gt; 등등..)에 대해 별 설명을 하지 않고 있는데&lt;br&gt;
저도 그냥 &lt;a href=&quot;https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.plot.html&quot;&gt;공식문서&lt;/a&gt;에서 매번 찾아봅니다.&lt;br&gt;
아무튼 이렇게 적당히 그려보면&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 593px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9dc19a3c844a1f82b27720bc54c65bb2/0b5b1/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 76.58227848101265%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABoUlEQVR42o2T3XKbMBCF/f5v1et2nM7EwS4BhE1I+AchgYWQRI8AO66TtN0LzaLdT3u0WjbTbMYYKeU4jkoprXUcx77vh2Houi4h5Hg8wvc8ryxLJAzDoBQyxw2wPM/TLGuyuEhf94eD4ziAkSGEOM92dWZXqFG+Vfw1Ky2Mvb7jOeUlZSQIULOu6+kLk3rys/YxeClqauGqquq6qtqO9SLPs6IsP8LG2JUP+il8+7bdn9Kq788WZoxRSqHn01IzNelpSmr26JKnICqYwGff9xYG2TTNApuL3fK9VA6Jt473QLKzWkMWRvfQQ/Ts08pIfMmbnwd/60ZJK9R8qLnC6Crn/Fb2HDNKT1zInXf67vgkpbdXeK8MhahcFMVF9hrbhemD87wLkwHHzPvmT1Er3LYt7gwJy25Oux97P4hiLoaPBe9hyLawsD38dUr2HklL+hfsXrZ9asqCYwQY8zn9h73Lbil9jpKKMvukWqt/GXKgd51tGE7COEM/HAwshgxhOMsIwem6DptYlyhscycGp16dZVrwCvpyEfx264RLqZT6DRf9Ye9l3nYAAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;결과&quot;
        title=&quot;&quot;
        src=&quot;/static/9dc19a3c844a1f82b27720bc54c65bb2/0b5b1/image-5.png&quot;
        srcset=&quot;/static/9dc19a3c844a1f82b27720bc54c65bb2/c26ae/image-5.png 158w,
/static/9dc19a3c844a1f82b27720bc54c65bb2/6bdcf/image-5.png 315w,
/static/9dc19a3c844a1f82b27720bc54c65bb2/0b5b1/image-5.png 593w&quot;
        sizes=&quot;(max-width: 593px) 100vw, 593px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 있어보이는 결과가 나왔습니다~&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
되게 뜬금없는 주제였는데요&lt;br&gt;
데이터분석기법이라는 물리천문학과 수업을 듣다가 그냥 써봤습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9090dbdc2f9ec746b6598718687cee23/5a46d/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AP///8Xk4pnOydbp5+Ho6cPNyWJhVT0nFF9LNXtzY4WAcXhwYnhvYbakbrObgZKViHSHhp93YqGea4yYgADl5eShy8iYzMfN5+Pm8PHD0M2Ii3lzY1BvYU2Ujn2rmIikfWikeWKObVSNfWukpJh+g32hgGmjoHOKl38AHiAsKSQvMCkyPzxFR0ZOPDk7MCokNDArKikjiH52s5OCp3tkoHJckGpSnYt2qpyFoZZ/npuJn5eIopuHADkcKRQOIBALIAYFGAIBEQAACwAABQYGCQAAAGtSTL2NfJ1tXIdcSn9cR39lU5qIc5eOdZ2WhaCZhJ+ZhgBHJDUoGCkXEiYUEyQnIigvKCE/MiggGRUAAABcSUHPopKgc2aEWUSCWj57YlOUg3KThW6alIOblIKel4UARzMqJRwjCwgeGBQfVkUwblg5dF9HQzgvOTEtdGddq415iWNPdFA4kXpkkYB1mIZ5jIJ0lY59lo9+mJGAAI1HOgkMFgcLGAwLFWlcT4p8bHdqXnNjVmhYS2dWTHdpV3NiS2ZVQG5fUIR0ZJWFeY6GeZqWhpuUh5qTiAB0ODc5ExkqCBAPBguLhYaNg39gUkdtXE1cTDxbTUFpXEiRf19+blFeTjxmVUNvX092bWZybm5ycHFvbnEAgT47YxMuU0BjhISSqLm9mquvj5qahY2WfYOJe42TgZOYmZuWmaSbkqOZi52XipyUgJydkK+2S1FTJSsrANJhVXZCNYGjmMrs9MLh5b7b3sTe4Ka8zZ6xyqGxx5OjwpirxqK7z8Lm5bbg3rbg4LDk6pvN1F5hZTc9PgDfZE/DXTWafTSWk4KIi45wbGlZV1Rycm5oZGBsaGNpZ1uSjXeWkXljYVRjY1hVV0xbZFwoNDI+Pz5gY2EwmiPj6+ibnwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;몰라요&quot;
        title=&quot;&quot;
        src=&quot;/static/9090dbdc2f9ec746b6598718687cee23/5a46d/image-6.png&quot;
        srcset=&quot;/static/9090dbdc2f9ec746b6598718687cee23/c26ae/image-6.png 158w,
/static/9090dbdc2f9ec746b6598718687cee23/5a46d/image-6.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;빅데이터나 AI처럼 데이터를 다루는 분야에서 이런 것들이 되게 기초인 것 같고&lt;br&gt;
물리천문학과에서도 실험이나 관측 데이터 셋들을 다룰 때 이런게 기초로 많이들 쓰이는 것 같습니다&lt;/p&gt;
&lt;p&gt;좀 대충 쓴 것 같은데&lt;br&gt;
scipy의 &lt;code class=&quot;language-text&quot;&gt;curve_fit&lt;/code&gt;에 대해 더 알아보고싶다면&lt;br&gt;
&lt;a href=&quot;https://www.geeksforgeeks.org/scipy-curve-fitting/&quot;&gt;GeeksforGeeks&lt;/a&gt;같은데서 자세히 써놨으니까 참고하십셔&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[✍️ Producer-Consumer Problem 그리고 Readers-Writers Problem]]></title><description><![CDATA[예.. 저번에 Semaphore와 Monitor에 대해 알아봤는데 또 새로운 문제를 해결하는 데에도 쓰인다고 했었죠? 하나는 Producer-Consumer Problem이고 다른 하나는 Readers-Writers Problem…]]></description><link>https://sungpaks.github.io/producer-consumer-problem-and-readers-writers-problem/</link><guid isPermaLink="false">https://sungpaks.github.io/producer-consumer-problem-and-readers-writers-problem/</guid><pubDate>Tue, 23 Apr 2024 01:09:02 GMT</pubDate><content:encoded>&lt;p&gt;예.. 저번에 Semaphore와 Monitor에 대해 알아봤는데&lt;br&gt;
또 새로운 문제를 해결하는 데에도 쓰인다고 했었죠?&lt;br&gt;
하나는 Producer-Consumer Problem이고&lt;br&gt;
다른 하나는 Readers-Writers Problem입니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b82ea41429b93c264638fabd253d96bc/d67ca/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACmElEQVR42i3SyW7bZhSGYd6FbYniKDmSNUcTKYqDSFGiKImaEsdo7MJBEiSrBEhQdFV01zvoopuimwK9y7fHbhffjnh4zvcfxTdU4lqNT0uPx8RlWr8mHbdZjFsEgwZhHDN0HQyjRNXWsC0d3dCYdGsckx77pM1h2eGH05o0O6FEtsGbOOLzNuH9KiAevCTzxqxmI9LZmChN8V2XTeiz8EP67Y7gFr9+v+fvP37iz9+/8c9fv/Dbzw94bogSmhqBqjItlRldqYxUnUH5v/R0kyiJ+fT6wPd3P/Lxzb3AEZ2GTa/XwHG6jCcdBoMb2nUDzxMwMiskhk5sGgTyZ1e3mGjmc/qmyTZb8vXtmQ+3Bx7Pr9nPA6miKVNecVW+QFUvsKSOmlXCGQ5QYpkw0QU0DHzBpk/RBK6YDK0qoe/ysA2lhh7rwOGczqW7OS/bdemyhCmxTZWKdkGz2URJBFzohkz5NKHxDHq6jScTjgRM0yUP5zveHbd8OOU87rfspM9Jq063pjGsa4xuTNTKBTfNOspCwFS6Sg2T0HjCJJrxDI4tm2KTcYwC3u9zvtwVnPwuSa+K35RNBAtbUs0LTSa8pNm6RknlDJb/g5HEUy1mZhOvUmViN+QUck5pwm0a8TabcQhG5NMecb/FvNfGbddo2GVUvcRg76MsBVzJqivTJpTekuGY/fFIEqyJgpT17o7NYUHuCFas2W1eMY9CVosVq/mGsN+QF9YoqZd0Bx2UzDJYC5iZFpE8RuqEzKcxCzcidHwyAQ63BXf5glf5juV8T7HNydOtfOvKyjqta5UrAW+67SfQJJfzyCSxoIGsH5g1ZmUDp3rNZnfmeL6nkJMp9meKQg7d68jKdZb9Gknfpl4tc1ku4QUT/gUU/mpVhhwrjwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;두뇌 풀 가동&quot;
        title=&quot;&quot;
        src=&quot;/static/b82ea41429b93c264638fabd253d96bc/f058b/image-1.png&quot;
        srcset=&quot;/static/b82ea41429b93c264638fabd253d96bc/c26ae/image-1.png 158w,
/static/b82ea41429b93c264638fabd253d96bc/6bdcf/image-1.png 315w,
/static/b82ea41429b93c264638fabd253d96bc/f058b/image-1.png 630w,
/static/b82ea41429b93c264638fabd253d96bc/d67ca/image-1.png 714w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;어떤 프라브람이고, 어떻게 해결할 수 있는지 함 봅시다&lt;/p&gt;
&lt;h1 id=&quot;producer-consumer-problem&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#producer-consumer-problem&quot; aria-label=&quot;producer consumer problem permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Producer-Consumer Problem&lt;/h1&gt;
&lt;p&gt;I/O버퍼나 Ready Queue 등등와 같이&lt;br&gt;
하나의 버퍼, 말하자면 어떤 창고가 있다고 해봅시다&lt;br&gt;
그리고 작업자인 프로세스들은 딱 두 종류만 있는데&lt;br&gt;
버퍼라는 창고에 넣을 물건인 데이터를 만들어서 버퍼에 집어넣는 생산자인 Producer와&lt;br&gt;
버퍼에서 데이터를 가져가는 소비자인 Consumer가 있습니다&lt;br&gt;
이런 특성의 버퍼는 되게 자주 접할 수 있는데&lt;br&gt;
레디 큐나 I/O버퍼같은 것들이 그것입니다&lt;/p&gt;
&lt;p&gt;아무튼 이제 데이터를 주르륵.. 저장한다고 치면&lt;br&gt;
다음에 Producer가 버퍼에 쓸 위치는 포인터 &lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt;으로,&lt;br&gt;
다음에 Consumer가 버퍼에서 읽을 위치는 포인터 &lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt;으로 나타내면&lt;/p&gt;
&lt;p&gt;초기 상태는 아래와 같이 버퍼가 빈 상태로 시작한다고 하면&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 591px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/832ffa40fb28d4b16e8dac1df5589b3f/e4c9a/image-26.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 29.746835443037973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAf0lEQVR42q2RywrFIAxE/f9f1IVPxJXgQgQfUyKkCO29qwrhTCaJEhSlFKy18NURSim01jDnxBgDvffNM8g7fc5Pnym899Baw1p7hzHmQefcJmuaYbIfY4TgS6hIQQ8wyec8hHD3kKYak/tTShBSStRaX1f5tdrflXPOW3z1KRdmpc4BzVtYNAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 1&quot;
        title=&quot;&quot;
        src=&quot;/static/832ffa40fb28d4b16e8dac1df5589b3f/e4c9a/image-26.png&quot;
        srcset=&quot;/static/832ffa40fb28d4b16e8dac1df5589b3f/c26ae/image-26.png 158w,
/static/832ffa40fb28d4b16e8dac1df5589b3f/6bdcf/image-26.png 315w,
/static/832ffa40fb28d4b16e8dac1df5589b3f/e4c9a/image-26.png 591w&quot;
        sizes=&quot;(max-width: 591px) 100vw, 591px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 &lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt;은 동일한 위치에 있다가&lt;/p&gt;
&lt;p&gt;이제 Producer가 데이터를 좀 쓰고 나면
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 586px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/044eaeb11a078426807616efdaf7696e/a76f4/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.0126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAmElEQVR42q2QzQrEIAyEff/X86L9wYoFC5VehPZQ6ywJpNiFZVlY4SOTzChEhR9PzhnXdX30FZmlFEY01VaLX2uFMQb7vrOWeXtfrevKoWEYGGst+r5H13U34tFca41pmuCc4ypQvywLFIUI7z3ThohxHB/zEAJijFzneb6hPqUERaHjOHgFWfUb718kmt5Q27bhPE/867wAP4jM+StmItwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 2&quot;
        title=&quot;&quot;
        src=&quot;/static/044eaeb11a078426807616efdaf7696e/a76f4/image.png&quot;
        srcset=&quot;/static/044eaeb11a078426807616efdaf7696e/c26ae/image.png 158w,
/static/044eaeb11a078426807616efdaf7696e/6bdcf/image.png 315w,
/static/044eaeb11a078426807616efdaf7696e/a76f4/image.png 586w&quot;
        sizes=&quot;(max-width: 586px) 100vw, 586px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt;이 쭉 이동한 상태고,&lt;/p&gt;
&lt;p&gt;이제 Consumer가 데이터를 읽어가면
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 582px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/31ca312d4345a82a9779809b9dcc4bb6/7c1cd/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.278481012658226%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAm0lEQVR42pVRywqEMAzs/39d8Sj0ZVtoe5HiRa2YZbIoIiuyA8Mkk0wOraA/MU0Tbdv2OBetNVqW5eS6ro89DvV9T7VWuudAeKKUQs455jAMrNZa8t6zhhDY01qTUoq6rmP/ug+Fl1L6HkQYRBiKhRgj1whIKVmNMecM/TWHPudMYt93eiIwzzMfAg7v195Ri7dPwBuO43gG3/ABth3Nnruezn4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 3&quot;
        title=&quot;&quot;
        src=&quot;/static/31ca312d4345a82a9779809b9dcc4bb6/7c1cd/image-3.png&quot;
        srcset=&quot;/static/31ca312d4345a82a9779809b9dcc4bb6/c26ae/image-3.png 158w,
/static/31ca312d4345a82a9779809b9dcc4bb6/6bdcf/image-3.png 315w,
/static/31ca312d4345a82a9779809b9dcc4bb6/7c1cd/image-3.png 582w&quot;
        sizes=&quot;(max-width: 582px) 100vw, 582px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt;또한 쭉 이동한 상태가 됩니다&lt;/p&gt;
&lt;p&gt;다시 Producer가 폭주해서 데이터를 쓰되&lt;br&gt;
만약 버퍼 크기가 &lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt;이고 버퍼의 끝에 도달하면&lt;br&gt;
0부터 &lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt;직전까지는 &lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt;이 이미 데이터를 읽어갔으니 여기를 또 채워야겠죠?&lt;br&gt;
Round하게, 끝에 도달하면 &lt;code class=&quot;language-text&quot;&gt;in = (in+1)%n&lt;/code&gt;처럼 해서 0으로 돌아오도록 하고&lt;br&gt;
다시 쭉 데이터를 씁니다&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 583px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cacd2d9ffae5c08f6bb04f4f2023ecc4/9fc4b/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 29.746835443037973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAlUlEQVR42o2QwQqGIBCEff/ni1I7lCWIh0Q8GGg1Py4UBj+YMOw3u+MelqHxUkoIIRBf19WKg+Wc6VNRzUXHccB7j2EYcJ7na/YvXzwzxqDve0gpIYSgWjPnnHT3xnF8MnW/8LquYNu2QSlFZlkWqre01rSg6zriel54nufHlx3WWrDWTWKMmKbp+w1bgX3f4Zz7vPAHIaHMP4fpFlkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 4&quot;
        title=&quot;&quot;
        src=&quot;/static/cacd2d9ffae5c08f6bb04f4f2023ecc4/9fc4b/image-4.png&quot;
        srcset=&quot;/static/cacd2d9ffae5c08f6bb04f4f2023ecc4/c26ae/image-4.png 158w,
/static/cacd2d9ffae5c08f6bb04f4f2023ecc4/6bdcf/image-4.png 315w,
/static/cacd2d9ffae5c08f6bb04f4f2023ecc4/9fc4b/image-4.png 583w&quot;
        sizes=&quot;(max-width: 583px) 100vw, 583px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
버퍼가 꽉 찼네요..&lt;br&gt;
더 이상 쓰면 Consumer가 읽어가야 할 &apos;니&apos;, &apos;다&apos;, 등등..의 글자를 덮어쓰게 되니&lt;br&gt;
이제 버퍼에 데이터를 쓰는 것은 멈추고&lt;br&gt;
어떤 문제가 발생할 수 있는지 생각해봅시다&lt;/p&gt;
&lt;p&gt;&lt;br&gt;
일단, 한 번에 여러 Producer가 &lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt;위치에 데이터를 쓰면 안 될 것 같습니다&lt;br&gt;
당연하죠? &quot;바보&quot;를 둘이서 나눠 쓸건데, 같은 칸에 쓰면 &quot;바&quot; 또는 &quot;보&quot;만 남게 될 것입니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 537px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9986433f2cf215fe4704a53dff4cda66/b1cde/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 223.41772151898732%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAtCAIAAAAhntw/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAJwklEQVR42hWWaWxc1RXH3yxv3/c3b5n3Zt6bzTN27PFsnvGsXmI7qx3HjpfxOo6TOImTgJOG0JbsSwmkCVuACAgBCpGKoIICVUPS0opWLVKkfqgqhIpaVFWV+gX1e1+kq6sr3XPO/9z1dwA/6IEhrySQqip5/AAMe2HE64UADwT4YK8f9vggDwR5QdjjWvofjT0EjaE4BEIeAPACOwc7X73c2tzI+rxAgIIkEoRQEEYhGPFgmI9AfTTmo3E/RfhZ0i9SUKYznoxoMg0CBOwZyFhj/V2iSGsU2KWipkSQDCmpMkdBAuGXKUhlQZ2DLR4J82hIxNyBI+OOggMi4c8oqIb7YARMKmgxiBqaIKkiLfOqTEclJCphCQlNqkQqQHaoZNqk0ibTHWTSFgWYLJTTCVvEERRuk7GeICWyGE4Txe7YcCHWreGZIJXXiFyQzgWpnEnmQnQhTJVDdD5MAyEOqoSoDhXjKMTtC2H21MkjZ9Ynz68OjhbtdgXLBMmsjmcMMmfSPSZVsOhcmC7abC7EA46AVMJkzaFLNhuzRE4Rdkzuvv/p3YFNgY4AnjbILp1M62TGJFxZ16YQprMhNm+z2TALxESk4eBDMSopIxhFyIaB0tRUc3aTHcjrWMmmSxZVDZFlh3A1unWsHKFrMa7qMD1u2jEBqkfpPSWzb6R75EiTt2QPRgY0OdNmdqtQb5hqRMh6mKjbpKOQRjAQkPB6nB1qY8sxFrBo78KWrpcuzv/4tStXPvxi4dzG9h9e3n7gwNTxjU1RtcdAixZVcjcpiFXS9tmD44mIkdLJvgRfdDggQPh2V50bR8fHFnc9d+/zt3/x65/f/8M7Hz144fd/qQ6WMwLQG6YbEboUwscL9uUD23fXkmWHa8S5gs0CKumtp9TpwQ4rlli+fPPk9Zunb91+8qVXmk/fCHa0jeZDIymxYWMVm0gHqdb2fKMnkVSxoTbOPTAAwXzJRGj71gGYxAEP4IVAmCQQmsIo3LGNhT3bju7pq0eogIC4d+7565eTne0wTYZ0pmjTAEwREIFjLOUnCRBBfH7QD4NeBM52Rq+dO7GyfjSkCAoBwQSqGObcwhIj8QhFYQxpcgigyIwU4ASBFDhclChZZkSe4lk8rDLFrmgkaik8EZKIoCZYQTXV5mgabxqibaoqiwETOWlPUZkpaWtDkeWqvlTVF0rGTNmarjlzlfBE2S6k9J6kOlG0W/3xZl9iaTB5YCS1Ntw+X0sAE93ck4uFWxdmz7b69leklYq62Ku5Ifb2hxodASnAshKLcbjAoc2qvTKQWGzEz7SGTuwuzJcjwJ4MvzHdfXqt31Veq8mtSmCpoq3UjWbZch0ElU8kY4YVQAjQMZjlwUSrP3FouO3I1mSzFgWm8sJsSZzN8ys1ZW1A29dQFyuB/QPWnqLW5gRunJq/f+vUO5eWt/V38Zo0U48e3ho/vC3x2I7EVK8NbNskNnvl6aK8KytOFuTxvDKaUaaL2lyvdm51y91L+9++sPr6mcV6TwyAPRMlc6nfnqvbe/sjo7kgMJUT5yvKXEmZLwf2VgMLvY/SXqqqq4PhDy42719b+/SZg6//aDaf0kMBcrJizVbtVl/44ObIXDkENHv4Zq/YLMp7y8paXdlXVw7UtVYtsNDQnl0beHH/2CdPr1w9vPnQeG6hZk+UzYW6tTZgHRkKt6oWMJHhZoriXFFqVZXVmtRyN7zqiisLVeX4ZPqZlaHze2tjteh4wVhpGBO95kItuK8RPNRvLlcNYDrDTheF+V5pMSetVgKrFXGtpsz0yNUOZX5rem2s89RSeetgLm5xW3LqVK/RqhmrdeNQf/CRcyUlzJX4Zp7eu0VbbYi7s1IuIepBHuepK6cP3X1m3/2PXi/Wy2pIN2wtEVWHcmarph/sM5ZrBhBNJzMxZu/BgVNvvrv42JTE+yiRYmUKRIDz185//7//3Lh5nVfZcCIYMARZ4xmZHepWjgybU6UA4KSiE6O1J54/efnjL86+/9bCEyenDm9MHDw2t37szO2f3fntH8/evDlz/Ae7j23Mn3lq9dKFiadOj2zJn9imu5camN5Z+ufHFz//7PYn3371u28fPvjb16/cvffCm7+6dffei3c+uvry+5df+vi1D7949f37v/zm7/e+++7O1//Ibxspi56cRgDf/PXL77/76ssPfnrx6UuL64fH1o+NHlif2Tgxvn7s1PXnrt15b+fh9dknT+7e2Nh29PCu4xsjG8fDqWgSBGKIF3jv3Tduv/b8E/OlnR1EUIRpkeZEQrVkMch2drWVSzlZ5xVV4BWaZFDdkAxLCep8FPc5qBegKBTyASgCihILYyBJQCgO+lHQj4Mg4vdBXhgFERyE3YZBuMsV3DWAEcSLucpeD9BXij/7o9mtm4uYD9BpP4P7vLDHZSqGekncR2BeGvcxBMi5iCT9MgOXsu1J2/0MQIBFvaOVtsWpeiwk2aw/b+C2gKKoj6f8HA0LIqkKuMHAQQ6yODQkoLaEORIeV4m4SgIWC2cVFAPd8FBaw+oholPHNQ7SRIwXWUYWSI5OKHiHQbarZKdBdVtMWqdyFpMPcy6r4B6D4GiEJqAulegNUd0GFZeRmEbCFE7LUipmZk0mYzJ5k3ZbzmaKFl0Jc3mbAeIS0ggTcRkPsKgLwYG4G5K2RCwVt9b2zx2cqKzuyKaDbNqkCyaVNelsmMqG6B6by9gckFSwPodoRNiC6ZKBGYwzEZ3RQkGIJE+fP331ieWeMJExXDJTbuiywxQjbM7iXcRmbf6R84BD9Dlk0WKGkkw1TnOyIAR1gCTsRKySiRc1uGGTZdtlHRWR4I4g2R8VahGmGOWBNgmarETmh1NlhxqMkjGTp3U9JjI7aGyMwBIaW7PJWpjsi1EJBc11RhOOngtTIymhFOWAdIh54cLiyz9ZHa84HQGUkziEpfMCfjUmne5UbIlul7HeEFmxqZFS+9XH5ycG01GV7Iu7lGSApE4cnSxeOzY1VnCSAdSL4eVu49bjqQdv5D+70X101OnPaiSF9lWLp/bP7ZsZGa8nXEQOJLice1QGC08PZ0cbXZt0d1W4QKOrk87Da5sevtP19We5h290jQ/rEoM5BhdVqX0zQz3ZVFhG6jE2G2IACEOGhxrx9gSEwzKPlhLi5+fSX95sf3A1+ee30r+50vbi/vZajEdgr2ppy61FXhEhijJV+lFZgVIEwRK0JBA8C2AwRZMnmvF//an33w8r/33Y++GF1FJ/MMDgII4oWiDVkSJZihZ4lqeDDARgJI6SOEJgPth9N27BSFfL5q7NRqOkrDct3aBB0K0gQRBD3FmapQiSpDkWI1HE5/k/Mp8eXSG8GmMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;가만히 계세요&quot;
        title=&quot;&quot;
        src=&quot;/static/9986433f2cf215fe4704a53dff4cda66/b1cde/image-6.png&quot;
        srcset=&quot;/static/9986433f2cf215fe4704a53dff4cda66/c26ae/image-6.png 158w,
/static/9986433f2cf215fe4704a53dff4cda66/6bdcf/image-6.png 315w,
/static/9986433f2cf215fe4704a53dff4cda66/b1cde/image-6.png 537w&quot;
        sizes=&quot;(max-width: 537px) 100vw, 537px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Consumer의 상황도 마찬가지겠죠?&lt;br&gt;
그러니 어떤 순간에 데이터를 읽거나 쓰거나 하나만 하도록 해야 할 것 같습니다.&lt;/p&gt;
&lt;p&gt;근데 이 경우는 이미 앞에서 질리도록 살펴봤던 Mutual Exclusion 문제네요&lt;br&gt;
Well-Known 입니다만? 🥸&lt;/p&gt;
&lt;p&gt;&lt;br&gt;
또 다른 문제는 일단&lt;br&gt;
Producer는 버퍼가 가득 차면 데이터를 더 이상 집어넣을 수 없고&lt;br&gt;
Consumer는 비슷하게, 버퍼가 비어 있다면 데이터를 더 이상 꺼내갈 수 없습니다&lt;br&gt;
라는 사실에서부터 시작하는데&lt;br&gt;
그럼 그냥 버퍼가 가득 차면 Producer는 기다리고,&lt;br&gt;
버퍼가 비어 있으면 Consumer는 기다리면 되지 않을까요?&lt;/p&gt;
&lt;p&gt;근데 위 그림을 다시 자세히 들여다보면&lt;br&gt;
버퍼가 비어 있는 경우 &lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt;이 같은 자리에 있는데&lt;br&gt;
버퍼가 가득 찬 경우에도 &lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;out&lt;/code&gt;이 같은 자리에 있습니다??&lt;br&gt;
그렇기 때문에 &lt;code class=&quot;language-text&quot;&gt;if (in == out)&lt;/code&gt; 이렇게 쓰는 것만으로는 버퍼가 비어 있는지 가득 찬건지 확인을 할 수가 없습니다 ㅜㅜ&lt;/p&gt;
&lt;p&gt;그래서 이걸 구분하기 위해 어쩔 수 없이 Producer와 Writers 각각은 다음과 같이 작성해왔습니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; producer&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		v &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;produce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 data 하나를 만들어 냄&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;in&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;n &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; out&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 다음 칸이 out과 겹치면 대기&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;/* do nothing */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		buffer&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;in&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; v&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		in &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;in&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; consumer&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;in &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; out&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 현재 칸이 in과 겹치면 대기&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;/* do nothing */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		w &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; buffer&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		out &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;consume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 꺼내온 데이터를 소비함&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그냥 버퍼를 아무리 꽉 채워도 한 칸은 비우도록 한 것이죠......&lt;br&gt;
그리고 OS를 잘 공부한 독자라면&lt;br&gt;
busy-waiting이잖아? 를 바로 떠올리시겠죠?&lt;/p&gt;
&lt;p&gt;이 문제를 semaphore와 monitor로 잘 해결해볼 수 있습니다&lt;br&gt;
게다가 얘네를 쓰면 꼭 한 칸 비우도록 하지 않아도 됩니다!&lt;/p&gt;
&lt;h2 id=&quot;semaphore로-producer-consumer-problem-해결하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#semaphore%EB%A1%9C-producer-consumer-problem-%ED%95%B4%EA%B2%B0%ED%95%98%EA%B8%B0&quot; aria-label=&quot;semaphore로 producer consumer problem 해결하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Semaphore로 Producer-Consumer Problem 해결하기&lt;/h2&gt;
&lt;p&gt;코드 형태를 바로 봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; sizeofbuffer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* buffer size */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
semaphore s &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
semaphore n &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
semaphore e &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sizeofbuffer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;producer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;produce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 데이터 만드는 함수&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//데이터 집어넣기 전에, 버퍼 꽉 찼는지 확인&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//C.S 잠그기&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//데이터 집어넣기.&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// C.S 잠금 해제&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 데이터를 집어넣었으니, 하나 넣었다고 알리기&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;consumer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 데이터 꺼내기 전에, 버퍼 비었는지 확인&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//C.S 잠그기&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;take&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//데이터 꺼내가기.&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//C.S 구현&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semsignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//데이터를 꺼냈으니, 하나 꺼냈다고 알리기&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;consume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 데이터 소비하는 함수&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;parbegin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;producer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; consumer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 때, 가상의 함수 &lt;code class=&quot;language-text&quot;&gt;append()&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;take()&lt;/code&gt;는 대충 데이터를 집어넣고 꺼내가는 동작이라고 보시면 됩니다&lt;/p&gt;
&lt;p&gt;세 가지 semaphore가 쓰이는데..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;semaphore s&lt;/code&gt; =&gt; C.S를 잠가 Mutual Exclusion을 보장하기 위함. 초기값 1&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;semaphore n&lt;/code&gt; =&gt; 버퍼에 꺼내갈 수 있는 데이터가 얼마나 있는지 나타낸다. 초기값 0 (처음에는 데이터가 없음)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;semaphore e&lt;/code&gt; =&gt; 버퍼에 데이터를 넣을 공간이 얼마나 남았는지 나타낸다. 초기값은 &lt;code class=&quot;language-text&quot;&gt;sizeofbuffer&lt;/code&gt;. (처음에는 버퍼 전체가 비어있으므로)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 해서,&lt;br&gt;
producer는 빈 자리(&lt;code class=&quot;language-text&quot;&gt;e&lt;/code&gt;)를 하나 줄이고 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;→&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\rightarrow&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.3669em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;→&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 데이터 개수(&lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt;)를 하나 늘리고,&lt;br&gt;
consumer는 빈 자리(&lt;code class=&quot;language-text&quot;&gt;e&lt;/code&gt;)를 하나 늘리고 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;→&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\rightarrow&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.3669em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;→&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 데이터 개수(&lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt;)를 하나 줄이고,&lt;br&gt;
를 지속적으로 수행하게 합니다.&lt;br&gt;
이 때,&lt;br&gt;
만약 더 넣을 빈 자리가 없다면(&lt;code class=&quot;language-text&quot;&gt;e&lt;/code&gt;값 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;≤&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\le&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7719em;vertical-align:-0.136em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;≤&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 0) producer는 &lt;code class=&quot;language-text&quot;&gt;semWait(e)&lt;/code&gt;에서 걸려 대기하고,&lt;br&gt;
만약 더 가져갈 데이터가 없다면(&lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt;값 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;≤&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\le&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7719em;vertical-align:-0.136em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;≤&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; 0) consumer는 &lt;code class=&quot;language-text&quot;&gt;semWait(n)&lt;/code&gt;에서 걸려 대기합니다.&lt;/p&gt;
&lt;p&gt;이 때 &lt;code class=&quot;language-text&quot;&gt;semWait()&lt;/code&gt;또는 &lt;code class=&quot;language-text&quot;&gt;semSignal()&lt;/code&gt;의 순서가 중요한데&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;semWait(s)&lt;/code&gt;를 &lt;code class=&quot;language-text&quot;&gt;semWait(e)&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;semWait(n)&lt;/code&gt;보다 먼저 놓거나, 하면.. 참사가 벌어집니다&lt;br&gt;
예를 들어, 제가 실수로 consumer를 &lt;code class=&quot;language-text&quot;&gt;semWait(s)&lt;/code&gt; 다음 &lt;code class=&quot;language-text&quot;&gt;semWait(n)&lt;/code&gt;이 나오도록 작성했다고 칩시다.&lt;br&gt;
그러면 만약..&lt;/p&gt;
&lt;p&gt;버퍼가 비어 있는 상황이라고 가정하고 흐름을 한 번 봅시다&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;먼저 consumer가 &lt;code class=&quot;language-text&quot;&gt;take()&lt;/code&gt;를 위해 접근
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;semWait(s)&lt;/code&gt;가 먼저 나왔다고 가정했으므로, &lt;code class=&quot;language-text&quot;&gt;s==1 -&gt; 0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;그 다음, 버퍼가 비어있으므로 &lt;code class=&quot;language-text&quot;&gt;semWait(n)&lt;/code&gt;에 걸려 대기&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;그 다음, producer가 &lt;code class=&quot;language-text&quot;&gt;append()&lt;/code&gt;를 위해 접근
&lt;ul&gt;
&lt;li&gt;버퍼에 빈 공간이 있으므로, &lt;code class=&quot;language-text&quot;&gt;semWait(e)&lt;/code&gt;를 통과&lt;/li&gt;
&lt;li&gt;그 다음, &lt;code class=&quot;language-text&quot;&gt;semWait(s)&lt;/code&gt;에서, &lt;code class=&quot;language-text&quot;&gt;s==0 -&gt; -1&lt;/code&gt;, 값이 음수가 되었으므로 대기&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;헉.. 둘 다 Block 상태를 빠져나오지 못하는, Deadlock에 걸려버렸습니다&lt;br&gt;
서로가 서로를 기다리게 되었네요 ㅜㅜ&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 287px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9c8a4d8900efd2b7951f164681a7a63a/480fd/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.75949367088608%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC50lEQVR42gHcAiP9AMCVWcmaWMeeW8qjXIaFhbvDyqaIWsGbYcuiZ8aeY7+ZYMWdYsafZ6iGU7Wyp972/9To8N3x+eH4/+D3/gC7mGDMmlvCmlvIoVqAgH7Eys+niFjBm2LNpGfMpGbMo2fLo2fFoWWmhE68uqrn///Z7fPa8Pjg+P/h+f0AtpllzZpYwJhcxp9ceHp3pay3qoxavplhuZVfuZNevZdhvZhhv5hkq4dTrqqcy+D0xdbh3/T44vr/4vr+ALKZZs6cWsGYWs2mYnV2bX95XbedX8amYs2qZNayatSxacWkYcikYsOiYZuLYJGFZ42BYsPOzez//+b6/ACul2XPoVzFnV6Pd0+xo2niyWrbwmroz3CxnVlUSSuEdUTix2vjxWjjxmzgxGrewmbauF6kmHjb7/bp/v8AsZpq1qlim39Vp5BW4cVk4MBi58ZlwqZcDAsJAAAAAAAAgW9B7Mhq38Bl4sRm4cJk48Bnxalcr7Op6P7/ALGdcJ2JZpWLb8m+f87Ef8G6gdDJirGegEAeGysWECsOCottW9bJj8e7eMzCgMi+gsi8gc3Agqani6SzuwCjpJCewd+ozuqrzuqt0OyxysSkvKemvKjEWEjNOSrKPCuokXWoyLq5zcyxx7+xxLKv0Oar0O2z1/Cw0usAprOqs97/ttz5s9z/w9zmu8mRjq+GoczNxKKGzmM7y4BWpsGut9vjr9PRia+MorZ6wtbQtNv7vuP7v+T+AKq2rLvh+bre9rba9sLSvLHAm7TLxrbOyZylhWt1UpGbfsPVzbPKvaO3lZ+0jq2+lMPRtrXZ9KzP6brd9wCep6Ssvsmvwc6wxNKvwcqxxdG2z9+xw8OluMKAjpiLmaK20uCuxcyxxdC3y9mqt7y1ytWvyNelusmryNsAn6eirsrbsMzfr87kuNTpttPotNjwrtDluNfsweLvrMvksNPut9fqt9bpu9jnrsjWqszgtdbpt9LmstXsnOPiCaMRqkMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기다릴거야&quot;
        title=&quot;&quot;
        src=&quot;/static/9c8a4d8900efd2b7951f164681a7a63a/480fd/image-7.png&quot;
        srcset=&quot;/static/9c8a4d8900efd2b7951f164681a7a63a/c26ae/image-7.png 158w,
/static/9c8a4d8900efd2b7951f164681a7a63a/480fd/image-7.png 287w&quot;
        sizes=&quot;(max-width: 287px) 100vw, 287px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Semaphore가 이전의 Software나 Hardware 방식과 비교하여 강력한 것은 맞지만&lt;br&gt;
문을 잠그고, 키를 두고 가고, 값을 통제하고, .. 를 관리하는 것은 여전히 사람이기 때문에&lt;br&gt;
이렇게 잘못 사용할 여지가 충분히 남아있습니다&lt;br&gt;
그럼 Monitor를 사용해본다면?&lt;/p&gt;
&lt;h2 id=&quot;monitor로-producer-consumer-problem-해결하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#monitor%EB%A1%9C-producer-consumer-problem-%ED%95%B4%EA%B2%B0%ED%95%98%EA%B8%B0&quot; aria-label=&quot;monitor로 producer consumer problem 해결하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Monitor로 Producer-Consumer Problem 해결하기&lt;/h2&gt;
&lt;p&gt;저번시간에 말한 Monitor란&lt;br&gt;
한 번에 한 프로세스만 Monitor에 진입하므로 그 자체로 Critical Section이고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;cwait&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;csignal&lt;/code&gt; 함수와 Block Queue를 가지는 &lt;code class=&quot;language-text&quot;&gt;condition&lt;/code&gt; 변수를 가진다고 했습니다&lt;br&gt;
그런 Monitor의 특성을 이용하여&lt;br&gt;
아까 semaphore로 감쌌던, 데이터를 집어넣거나 꺼내는 동작인, &lt;code class=&quot;language-text&quot;&gt;take()&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;append()&lt;/code&gt;를 작성해봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;monitor boundedbuffer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//유한한 버퍼 자체가 모니터 안에 포함됨&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; buffer&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;N&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; nextin&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nextout&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//다음에 쓸, 또는 읽을 위치&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//버퍼에 있는 데이터 갯수&lt;/span&gt;
cond notfull &lt;span class=&quot;token comment&quot;&gt;//버퍼가 가득 찬 경우 producer가 기다리는 큐를 포함&lt;/span&gt;
cond notempty&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//버퍼가 비어 있는 경우 consumer가 기다리는 큐를 포함&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; N&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cwait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;notfull&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//버퍼가 꽉 참. 기다리기&lt;/span&gt;
	buffer&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;nextin&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	nextin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextin &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;csignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;notempty&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//버퍼에 데이터 하나 넣어뒀으니 consumer 하나를 깨운다&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;take&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cwait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;notempty&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//버퍼가 비어 있음. 기다리기&lt;/span&gt;
	x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; buffer&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;nextout&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	nextout &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextout &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; n&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	count&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;csignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;notfull&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//버퍼에서 데이터 하나 꺼내갔으니 producer 하나를 깨운다&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;append&lt;/code&gt;할 때는 혹여 버퍼가 꽉 찼다면 condition 변수인 &lt;code class=&quot;language-text&quot;&gt;notfull&lt;/code&gt;에 producer를 기다리게 하고,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;take&lt;/code&gt;할 때는 혹여 버퍼가 비어있다면 condition 변수인 &lt;code class=&quot;language-text&quot;&gt;notempty&lt;/code&gt;에 consumer를 기다리게 합니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;csignal&lt;/code&gt;은 조건을 묻지도 따지지도 않고 실행하는데,&lt;br&gt;
전에도 말했 듯이 condition 변수에는 값이 없으므로&lt;br&gt;
그저 큐에 기다리는 프로세스가 있으면 깨우고, 없으면 말고, 를 하면 됩니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 221px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d46de6777f7296102e9507a6fc617447/cccdc/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 103.16455696202532%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsTAAALEwEAmpwYAAADpUlEQVR42iWUyS9rcRTHf3+JrQUrbCQSErEwREQkVmIIwoKkJCJiWpjneVbDvTW05qFKSz1FK8TYZx76nhAxhD4JEQnvc7WLm9vf75zzHc45V5SVlcXExKSlpWVlZbW2tjY3N+/t7TmdzsvLy/39/Z6enoKCgr8/v+np6bm5uc3NTZPJNDExsb6+Lsh0c3MLCwtLTEzMzs4m+vz8/O7u7v7+Xpbl1NRU4paXl6+url5eXp6envr7+xcXFwHgRGRmZoaHh9fU1HR3d9fX11dXVxsMhrGxsY2NDQpFRUXd3NxcX18/Pz9/fn5+fX2Rb7Vaz87Odnd3RW5ubkpKSlFRUUdHx8DAQFtbm8Ph+P7+JnR4eNjHx2d1dfX19RXadrsdOeTwQn5XV5dIT08Hs6SkBMEajYb88fHx7e1trikUERGBC2tra4+Pj5SjaGFhIYzMZvPKyooglDvQysvLiUMSyisqKiIjI3lOTU3V1tY2NTWBg2ENDQ28q9VqjEC2QPf7+zslh4aGPDw8/P39vby8/Pz83N3dMQz8hYUFAPLz85OTkwMDA2dmZnZ2dmZnZ5eWlgTeNDY2AqvX64njCQIXFotlfn5ekiS8QDwkYdHS0tLe3j46Osp7b2+vqKurCwoKotswoYGAwI00SiCBOKPRSEuxIyMjA/Knp6fcEqYYVlpayhjgEPjYACCnQPECC6w+PDxkMEiAqsPxx+n89/b2xpVWqxUIwyf+cEc+oZiMn6RB1TVPk5OTKEKLwaCXZInk33Y7pAR8uDs5OUE83WaY0AkyVtGF4+NjKNBbSZJ1Oq3F8kvWyFabFc9GRkYECeQDghkkUK+qqoo539raQir2QIEhh6ROp3t4eKAvjApGKMn4HBAQgG3YQwkGZnBwEBWIxM/o6GhMOTg44J1DfLq4uIAI1IgXeMtWEEFLGACQEYmlsMAFxAcHB0MKHPSbf36QolXcKshMRXFxMVX7+voogQVsBcNzdHREF1hD2oY0xgP+nOACijhXkkEODQ1lGLGU0SUOz+gCf29vb5Fns9l4IpuFc5XDS7xQtoqlTUpKiouLq6ysZLBpWGdnJ+vpGiyMRQLDTwl6QcMwiPHGFEGTAWd6cnJyCOWTwswAi1oaztjhH7AI5pYczikBuOI2IOydr69vSEgIfnLn7e0NPs4hktUBihgAMAkkqnx8fGCHkpyXl6dSqWJjYxMSEmCOCk9Pz/j4eMRjMlQBhwJpyGE9UcF3yqXiP+WgQQH4Nr/kAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;일어나&quot;
        title=&quot;&quot;
        src=&quot;/static/d46de6777f7296102e9507a6fc617447/cccdc/image-8.png&quot;
        srcset=&quot;/static/d46de6777f7296102e9507a6fc617447/c26ae/image-8.png 158w,
/static/d46de6777f7296102e9507a6fc617447/cccdc/image-8.png 221w&quot;
        sizes=&quot;(max-width: 221px) 100vw, 221px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 간단히 &lt;code class=&quot;language-text&quot;&gt;append()&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;take()&lt;/code&gt;라는 일종의 proceduer가 작성되었습니다&lt;br&gt;
이제 producer와 consumer는 단순히 아래와 같이 동작하면 됩니다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;producer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;produce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 x라는 데이터를 하나 만들어서&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//집어넣기&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;consumer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;take&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//꺼내와서&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;consume&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 x라는 데이터를 소비&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;parbegin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;producer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; consumer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;진짜 단순해졌습니다&lt;br&gt;
어랍쇼? Mutual Exclusion은 엿바꿔먹었나요? 라는 생각이 잠깐 들 수도 있지만&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;append()&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;take()&lt;/code&gt;는 Monitor 내에 정의된 &lt;em&gt;proceduer&lt;/em&gt;라서, 이미 그런 것은 보장이 다~ 됩니다.&lt;br&gt;
또한 저렇게 한 번 정의하고 나면, semaphore에서와 같이 저같은 바보가 잘못 써놓을 일은 없습니다.&lt;br&gt;
그냥 함수만 콜하면 끝이니까요&lt;/p&gt;
&lt;p&gt;어? 근데&lt;br&gt;
이전에 semaphore에서 동기화할 때는,&lt;br&gt;
C.S를 먼저 통과하고 버퍼의 상태를 확인하면 데드락이 발생했었는데..&lt;br&gt;
이렇게 Monitor로 구현한 방법 역시&lt;br&gt;
Monitor 내부는 이미 혼자서만 들어가는 C.S인 셈이고&lt;br&gt;
그 안에서 버퍼의 상태를 확인하므로 데드락 위험이 있는 것이 아닐까요? 싶지만&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 227px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/977e923fba832aae65f871793c8329ee/9b5be/image-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 98.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEm0lEQVR42i3Ra09adxwH8PM69gL2oEkjbdFzQEURyqVeuRwOoKJVrEWq4o1Wg62IiBzAIhQERS26iYIVrYAgRwTRIs5ecE5tm13q5pZsWbcly9Y02bKDWfLP/9nn9/1dgEc9Als3Yu8WmNsqu6qvy6qo2KLji6hvL7yQjiw+C87F/ePxFVtwSjfAg1QVOWruVS1MHIEhsxAEnF1chxJxdvJtCo5KWtrELpgfG0htLKbCnn3MlwrPJf3W+LLF7xpR88kPKgnDPOIIPxcVQBYxCEy0lbm6YFc37Gir0jYyG5mQuVf2LLqwjy09T/j3w66dJUN8aXR5UjMoyB/kXtHhGM5DhZC1GgQm5TemO7lTnVVTiiqTlNFII/bWc5JB94vY4pc7vhcbrrR/dPeJcdXVP4gUaHlEgwDUCyCDkGQR5QHOZubjbr67mzsjZ1saqO2lUEsldX3BnkksHO3MHyXcr9Zt6VXzE/tdLUJG4TwjAqEIji/attZRp1rLH7dXuOUsu5Sm5BXW0SGf23L4zH+S8h4nZjLRiXTA5rX2DCGQUfA/NopIWWyspUw0M2bby+c7yh1N9H5RkbCYMD324M3zp6dJ90nE/jJkTQUeeizdI6KCUYRoQLJtm0Rkq5gM6GsplnrqtLzU01k2dZuhr6fXMXOlMCPkNb/GJtKe+9vue4FJZbuEpeHmmoWQAY8VknA8Js4HRmooZknRdAvb03Fj9g4LL3SbTRSX0dU9d44Clpi1JW5vCznvtzcKh2Do4QU2CUmjovyHONYgRWYJ1XWLNtvKmmtl2W8Wy+kElaw2E5h8+xR9tWY9Ta+dZTYSy5NGSUl2Zjw2i8lZ3CemoWLK+E3ajIz9uIXhlFI72FcVNZU/vQq93PL2KhV9/Q8O356GvS6NoNCE94yA+LVMwgu84hnV1ZRYailTTYwZGdNWX9hbcRVhks7PTz9f9jGpxSxKgXcrvbu/q6uhGQQQvi0UBvGd4+HAVgC1KxEdDDluUmdkrAkpfZAHCUoI6YO9vZNv6BXcMqEkeny2hgUNDTdMIsoInI8nGy8mBxzaWyszA6qK3OzOZdfn5EyLhFpNvWzR92/v7y1EME84uoJF5j0ucwvPICCbxBQUzr3AEKBqKE1GHBpxEV7J0VwyIaON1ec3MXJM91tDAd86th7ZxkKxSBALGJs5Wi7RKKTo+SSjAERhEiBj5Gz4jVYlYmxgZ7ZW3x0fnOxF1a01A201schKGAtHtpPR5G54C0NvcQY513R8Eson48PjPyArueQcblj9TPX2q8xfHz5+9+77337/48cfzgz35Kmttc3YOradiG4nQlgITx6qvDbMI6EwpIdBLRcE5Ncv3xMXxMPaN0cHH//595df3//594ev3xwPdza+PtzfiYfiWHATC8Y2n47d4Wcxn6TjQ/gb5IGAgkVoKPw0Ot83q5Et2XUvN5+klsetrVUKbnEMCx+EF557HyV9tuNM0qGsGygnqPnQEBfUckA1jntYhGriJ/YO0fpon4J+SQ8TrRJwvLG4i1uoktWZmjmHzp736eWfz7913JX2l+fgWMOD1Ly8AT74H2cWU44l9Yt9AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;꺼내줘&quot;
        title=&quot;&quot;
        src=&quot;/static/977e923fba832aae65f871793c8329ee/9b5be/image-10.png&quot;
        srcset=&quot;/static/977e923fba832aae65f871793c8329ee/c26ae/image-10.png 158w,
/static/977e923fba832aae65f871793c8329ee/9b5be/image-10.png 227w&quot;
        sizes=&quot;(max-width: 227px) 100vw, 227px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Monitor에서 버퍼의 상태를 확인하고 &lt;code class=&quot;language-text&quot;&gt;cwait&lt;/code&gt;으로 인해 블락되어 queue에 들어가면, 이 queue는 보호되는 구역 바깥에 있어서&lt;br&gt;
C.S를 잠그고 들어가서 멈추는 것이 아니라 바깥으로 나간 상태이므로 다시 C.S는 풀리고, 새로운 프로세스가 들어올 수 있습니다&lt;br&gt;
condition 변수의 queue(또는 urgent queue)들은 Mutual Exclusion의 보호 대상이 아니라는 점이 중요했네요&lt;/p&gt;
&lt;h1 id=&quot;readers-writers-problem&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#readers-writers-problem&quot; aria-label=&quot;readers writers problem permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Readers-Writers Problem&lt;/h1&gt;
&lt;p&gt;비슷한 것 같지만 또 다른 문제가 있습니다&lt;br&gt;
file이나 공유 메모리 공간처럼, C.S 내에 데이터가 주르륵 있고, 이 것을 읽거나 쓰려고 하는데 이번에는&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;reader : 데이터를 읽기만 한다&lt;/li&gt;
&lt;li&gt;writer : 데이터를 읽은 뒤, 쓴다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 두 종류의 작업자가 있습니다&lt;/p&gt;
&lt;p&gt;이 경우 동시에 여러 reader들이 작업하는 것은 괜찮습니다. 데이터를 수정하지 않고 읽기만 하기 때문이고&lt;br&gt;
그런데 둘 이상의 writer들은 동시에 작업하면 당연히 안 되겠죠?&lt;br&gt;
reader와 writer가 동시에 작업하는 것은 어떨까요? 좀 애매해 보이기는 하는데..&lt;br&gt;
이것도 막도록 합시다. 동시에 작업하면 reader가 읽은 값이 수정 전 값인지 수정 후의 값인지 모를 뿐더러&lt;br&gt;
더 운이 나쁘면 수정되는 사이에 값을 읽어버릴 수도 있습니다&lt;br&gt;
아무튼 정리하면 조건은 아래와 같습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;reader는 한 번에 둘 이상 동시에 파일을 읽기 가능&lt;/li&gt;
&lt;li&gt;writer는 한 번에 단 하나의 writer만이 파일에 쓰기 가능&lt;/li&gt;
&lt;li&gt;하나의 writer가 파일에 쓰기 작업을 진행중이면, reader는 파일을 읽기 불가&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 됩니다.&lt;br&gt;
따라서, 이전에 살펴본 producer-consumer 문제와 달리, 코드가 대칭적으로 생겨먹지 않습니다&lt;br&gt;
아무튼, 이제 reader와 writer를 위한 &lt;code class=&quot;language-text&quot;&gt;reader()&lt;/code&gt; 함수와 &lt;code class=&quot;language-text&quot;&gt;writer()&lt;/code&gt;함수를 작성할건데&lt;br&gt;
semaphore를 이용하여 위 세 가지 조건을 모두 충족시키도록 해봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* program readersAndWriters */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; readcount&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
semaphore x&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
semaphore wsem&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		readcount&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;readcount &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wsem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;READUNIT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 read한다는 뜻&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		readcount&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;readcount &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wsem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;writer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;true&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wsem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;WRITEUNIT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//대충 write한다는 뜻&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wsem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	readcount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;parbegin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reader&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; writer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;readcount&lt;/code&gt;나 &lt;code class=&quot;language-text&quot;&gt;semaphore x, semaphore wsem&lt;/code&gt;같은 각각의 요소들을 한 줄로 정리하기는 좀 애매해서 주석을 많이 달지 않았습니다&lt;/p&gt;
&lt;p&gt;일단 좀 더 짧은 &lt;code class=&quot;language-text&quot;&gt;writer()&lt;/code&gt;부터 살펴보면, 전형적인 C.S 코드인게 보입니다.&lt;br&gt;
writer든 reader든, writer와 함께 작업할 수 없으므로 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;이라는 semaphore로 C.S를 잠가놓고 작업합니다.&lt;/p&gt;
&lt;p&gt;그 다음 &lt;code class=&quot;language-text&quot;&gt;reader()&lt;/code&gt;는, 일단 대충 read하는 문장인 &lt;code class=&quot;language-text&quot;&gt;READUNIT&lt;/code&gt;을 중심으로 위쪽과 아래쪽인, 작업 전과 후로 나눠서 살펴봅시다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;작업 전에는, &lt;em&gt;reader&lt;/em&gt; 하나 추가요~ &lt;code class=&quot;language-text&quot;&gt;readcount++&lt;/code&gt;. 이 때, &lt;code class=&quot;language-text&quot;&gt;semaphore x&lt;/code&gt;로 C.S를 잠그고 진행&lt;/li&gt;
&lt;li&gt;작업 후에는, &lt;em&gt;reader&lt;/em&gt; 하나 나가요~ &lt;code class=&quot;language-text&quot;&gt;readcount--&lt;/code&gt;. 이 때, &lt;code class=&quot;language-text&quot;&gt;semaphore x&lt;/code&gt;로 C.S를 잠그고 진행&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그럼 이제 &lt;code class=&quot;language-text&quot;&gt;semaphore x&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;semaphore wsem&lt;/code&gt;에 의해 각각 C.S 영역이 생겨서 두 개의 방이 생긴다는 뜻인데&lt;br&gt;
잠깐 그림으로 살펴보면
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/29fdfe1fcdd06467e881f4d2a7787e5d/5a791/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACE0lEQVR42rWVSY/aQBCF509H8ztYLsCFAycQYHvMKYnEdkVIIHFgl9iE2HcwbSr1KpjYzDBBicbSp3a3u59fVVfbLy9fcR2Px2+n0+kHozGGG6WUYVmWQEQfofGc7/v9/vUmaNu2zg/ocrkourt4TFpeRLPZjKbTqYfJZOKsMW+C7CSNEev3ZTuwc7vb7dqLxcJmMbtQKNjFYtFDLpez+DmWG25B/SqozuczAThi57Tb7aQPp/wCOhwOHjhUccga5kNBiM3ncwlxPB5LaHDhvMSNwuDfBDERYr1ej4bDIQ0GA2l5HjkROGDNUw7hCIIQ6/f7NBqN/k8QuVsul7RarYT1eo3n/ybo3hS0DtiYe3jOc4IOjijcOW7dcBSPBblVWOiAMul0OpJPbBLXHOXzeYFrUshmswqpuS/shydls9ncnF5PhoByulaAukb3R5A7IlipVFS9XqdWq0XNZlPaWq1GjUZD7vnUCO12Wxy7TXhCxlnmiqdoNKoSiQSlUilKJpMC7u/78XicSqWSuOa0vBfkpOsIyzAMFQwGye/3E9pAICCgD3Dv8/nwYqpWqyKIvH/oEJugaZqKRCIUCoUIbTgcFtB3xtDGYjGk51PBJApZ1/WDaZrWZ2QyGSudTlvlctnidRYLHa6C2rvv4Xa7VQw9A46he1NYw/R8sTnknzwO4bdn4Ly/sSjQ8bVnjdcv+Z38AvF66imSkSceAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 0&quot;
        title=&quot;&quot;
        src=&quot;/static/29fdfe1fcdd06467e881f4d2a7787e5d/f058b/image-12.png&quot;
        srcset=&quot;/static/29fdfe1fcdd06467e881f4d2a7787e5d/c26ae/image-12.png 158w,
/static/29fdfe1fcdd06467e881f4d2a7787e5d/6bdcf/image-12.png 315w,
/static/29fdfe1fcdd06467e881f4d2a7787e5d/f058b/image-12.png 630w,
/static/29fdfe1fcdd06467e881f4d2a7787e5d/40601/image-12.png 945w,
/static/29fdfe1fcdd06467e881f4d2a7787e5d/5a791/image-12.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
이렇게 시작을 합니다.&lt;br&gt;
각 semaphore (&lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;)에 의해 제한되는 C.S 영역과 해당 영역이 잠기면 들어가기 위해 대기하는 큐가 존재하고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt; 내에는 데이터가 읽고 쓰여지는 공간이 존재합니다&lt;/p&gt;
&lt;p&gt;이제 writer인 &lt;code class=&quot;language-text&quot;&gt;w1, w2, w3&lt;/code&gt;가 차례대로 도착했다고 해봅시다.&lt;br&gt;
그럼 당연히 처음 도착한 &lt;code class=&quot;language-text&quot;&gt;w1&lt;/code&gt;만 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt; 내로 들어가 작업을 시작하고, &lt;code class=&quot;language-text&quot;&gt;w2&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;w3&lt;/code&gt;은 대기하겠죠?
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/730b9c9e695a55da7cd074eab4c1bc45/5a791/image-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACV0lEQVR42rWV+4vaQBDH758u93f4oFxOKP7gT4oxibGUPkBPaTmKCFr8wUcN+EJ8xGh8rbtOZ/aMTfRsj5YLfJndSfazM7OT5ObmNa7tdvtmt9t9Rmkowy/OucEYkwKA56ThM5/W6/XtCSiE0PEGHA4HDmcX+qTFRTCdTmEymQQ0Ho+9NeYJiJFkyMOeLuEJIxeWZQnbtgXCRLFYFKVSKaBCocDwPi03/ED9COT7/R5IFBFGDqvVSs4pUtwANptNQJiqjBAZ5lUgwWazmUxxNBrJ1CgKbxO/ODn/BqQHCdbtdmEwGEC/35cWnwMvA0+05kURUkQEJFiv14PhcPh/QKrdfD4Hx3GkFosF3f83oP9QyHqSdeNCHpAn9L0M6MmDUnTu2oUlylk4p8gxi+tAtJwWeqI26VgdsGc22I4Nhdo3ePjxCF+/oy08QLFUgnw+z6k054199U1ZustTpPZyDrOFDZPpRLbTsQP4MbvfQJxIYLVa5Y1GA9rtNrRaLWnr9To0m0057vzsgNWx5Jjayh9EIGV6l7HjIR6P81QqBaqqQjqdllIzanCO42QyCeVyWUaNZbkEYtF1SsswDB6NRiEcDgPZSDgCkUhEzkk0DoVCtDHUajUJpLo/GyEdgqZpPBaLgaIoQPY+dg9v3ylwF1NOPrKJRILK80dgmhpZ1/WNaZpMKmuy3PscS3/UmfHhaU7+XC7HMpkMq1QqDNcxBG2OQO3ie+i6LkeBXyusLW127qfX0H8oyDADX2xM+Qv6CZwNSIjshQ+Fdc8ilKTT1x4Zt6/yO/kFRRTqn+hdOh8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 1&quot;
        title=&quot;&quot;
        src=&quot;/static/730b9c9e695a55da7cd074eab4c1bc45/f058b/image-11.png&quot;
        srcset=&quot;/static/730b9c9e695a55da7cd074eab4c1bc45/c26ae/image-11.png 158w,
/static/730b9c9e695a55da7cd074eab4c1bc45/6bdcf/image-11.png 315w,
/static/730b9c9e695a55da7cd074eab4c1bc45/f058b/image-11.png 630w,
/static/730b9c9e695a55da7cd074eab4c1bc45/40601/image-11.png 945w,
/static/730b9c9e695a55da7cd074eab4c1bc45/5a791/image-11.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
이렇게, &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;은 닫혀있습니다. writer는 대문자 I라서 혼자 작업하고 싶어하네요~&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;r1&lt;/code&gt;이라는 reader가 하나 와서 &lt;code class=&quot;language-text&quot;&gt;reader()&lt;/code&gt;를 실행한다고 해봅시다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/73c44f1121e9e4e9c63ef5372d52a2f2/5a791/image-15.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACoUlEQVR42rWVa2/aMBSG+6en/o5CNY0iTf3QT0VcEsI07SJBQes0rUIqWlduJd0Ga8slCQlQjMO7c9wEkVLWT7X0yvZJ/PhcYmdn5yXa/f39q/l8/omUI+nrklLqQgglAE8pR+98nE6nuyug7/saPcByuZR41MimelqE4XCIwWAQUb/fD9cYKyB5kmWLeGh+KPLcN03TtyzLJ5hfLpf9SqUSUalUEvScl+vrQC0AysViARZ7RJ5jMpmoOY9nsxkoNNWHornykBjGViDDRqMRBhTibX+A4ciC4zgKyo37UJJffg7oB/n68/safy9PYNaraLU7sG1bgSkVCCPhNVuBvBvvyoWwLJuAv9Crn+K6WcNV5xpjgnmeh7u7OwY9DyQPpBMscl0XNo0ddwJn/DBnAG/G3rOXHO2TQDIqYL1el61WCzc3NyrhvFjKRSCptKQ0clUZjqXK5/Mhs8IcBYnHnEJ0px682QSNyx8YkZfj8VhFtRVIYUjOTSgOq2N2YFGVLcdCsfYVldoX/Pxm4PtpESflCorFouRiPf6wt54U13NXnlqujdHYgmffUmFu0e310O12ZfCFbObw/PxcNhoNtNttcC65v7i4QLPZVGPzqgOzY9IndKUKs+5EJGQ+y3wCDg8PZSqVQiaTQTqdVspkM9E5jY+Pj3F2dqa85jRtACnpGoel67rc399HLBYD9/FYHPF4XM1ZPN7b2+ONUavVFJBAT3vIRcjlcjKZTCKRSID7g+QBXr9N4E0ysbJxf3R0xOn5LzDNl4CmaTPDMIRS3hCFdwWR/qAJ/f3DnO2FQkFks1lRrVYFrRMEmgXA3MZ9SCdE8ilZ14Ryy5s9thMgUhRiGJEbm0L+THYG5yPy/fyGjUR5zxOUpfFtT4zdF/md/AODO+dyY+frvgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 2&quot;
        title=&quot;&quot;
        src=&quot;/static/73c44f1121e9e4e9c63ef5372d52a2f2/f058b/image-15.png&quot;
        srcset=&quot;/static/73c44f1121e9e4e9c63ef5372d52a2f2/c26ae/image-15.png 158w,
/static/73c44f1121e9e4e9c63ef5372d52a2f2/6bdcf/image-15.png 315w,
/static/73c44f1121e9e4e9c63ef5372d52a2f2/f058b/image-15.png 630w,
/static/73c44f1121e9e4e9c63ef5372d52a2f2/40601/image-15.png 945w,
/static/73c44f1121e9e4e9c63ef5372d52a2f2/5a791/image-15.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
이해를 돕기 위해 &lt;code class=&quot;language-text&quot;&gt;readcount&lt;/code&gt; 변수를 값과 함께 띄웠습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;r1&lt;/code&gt;은 &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;를 잠그고 들어가서는 &lt;code class=&quot;language-text&quot;&gt;readcount++&lt;/code&gt;을 진행했고,&lt;br&gt;
그런데 그러고 나니 &lt;code class=&quot;language-text&quot;&gt;readcount==1&lt;/code&gt;이므로,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;r1&lt;/code&gt;은 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;에 가서 &lt;strong&gt;줄을 섭니다. &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;를 잠근 상태 그대로.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;그럼 이제 다른 reader 친구들, &lt;code class=&quot;language-text&quot;&gt;r2&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;r3&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;r4&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;r5&lt;/code&gt;가 주르륵.. 들어오면 어떻게 될까요?
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2dfe029415edbfa7b14bd68daf0dad46/5a791/image-16.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACvElEQVR42rWVa08aQRSG/dONv0MwTZGk8YNNGw2XXZam6S3UGmyaEhJJrdxktWIVZC8st11meHvOLFAQqZ/c5M3MHGaeOZeZYWPjKb7RaPTM9/2PpDRJX5QQQg+CgCR0CehiQQiVpjkfBoPB5hwopdToB0wmE4F7H9nCVgqMnCsM7ctQziXsTgvtdnu2xpgDyZMUW4LwkzOR59I0TWlZtnSslqzk38h6/pVSLf9aFo4/y9yXw8C2bV6uLwK1KVCMx2OwKAyQ5+j3+2rMfX80+Cd/iOFQSXlIDGMtkGGWZeGu08Ft+w4dy4brumSXKgVCsqTaRPDkx4CS5nQIdvX7An/ODmGWi6jVG3AcR4EpFZhFwmvWAnk33pW9sG2HgJe4Lh/jolrCeeMCXYL1ej20Wi0GPQ4kD4Q7XeR5Hhzqu14fbjccM4A3Y+/ZS472QSAZFbBcLotarYabmxuVcJUvMZ5KKE3oMHJVGQ46URTR4yGzZjmaJh4+hegNeugN+6ic/YRFXna7XRXVWiCFITg3M3FYDbMBm6psuzZypW84KuXx67uBH8c5HH49Qi6XE1ys+wd77U3xet7cU9tzYHVt9JxbKswtmtfXaDabYnpCVnN4cnIiKpUK6vU6OJfcnp6eolqtqr553oDZMOkInavCLDqxFDLfZbrc2N3dFQcHB0gmk0gkEkrJVHJ5TP39/X0UCgXlNadpBUhJ1zgsXdfF9vY2IpEIuI1GoohGo2rM4v7W1hZvjFKpFF5H33/YQy5COp0W8XgcsVgM3O7Ed/D8ZQwv4rG5jdu9vT1Oz3+BCX4ENE0bGoYRKGWMIPs2GyTea4H+LhyzPZvNBqlUKigWiwGtC3x+JUJgeuU9pBsi+JYsqk+55c3u2wmwVBRiGEsvNoX8iewMzixJysyKjUR5zxCUpfFrT4zNJ/k7+QvhzeeDDi99RQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 3&quot;
        title=&quot;&quot;
        src=&quot;/static/2dfe029415edbfa7b14bd68daf0dad46/f058b/image-16.png&quot;
        srcset=&quot;/static/2dfe029415edbfa7b14bd68daf0dad46/c26ae/image-16.png 158w,
/static/2dfe029415edbfa7b14bd68daf0dad46/6bdcf/image-16.png 315w,
/static/2dfe029415edbfa7b14bd68daf0dad46/f058b/image-16.png 630w,
/static/2dfe029415edbfa7b14bd68daf0dad46/40601/image-16.png 945w,
/static/2dfe029415edbfa7b14bd68daf0dad46/5a791/image-16.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;code class=&quot;language-text&quot;&gt;readcount&lt;/code&gt;를 ++하려고 호기롭게 들어왔지만,&lt;br&gt;
우리 reader 친구들은 &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;가 닫혀있어서 하는 수 없이 줄을 서게 됩니다..&lt;br&gt;
즉 writer가 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;을 잠그고 들어가 작업중인 경우, &lt;strong&gt;reader들은 단 하나만 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;에 가서 대표로 줄을 서고, 나머지는 &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;에서 기다립니다.&lt;/strong&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 210px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/423ef583b90ea1d5f78cc3a5ba5d72c5/65ed1/image-17.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAADSUlEQVR42o1TWU8TYRTt/3EJkaAoLQpSSjvThZZOC23ZWkophmpkU3ADN0pMjJrgCxKqiUAwERMTAYEHIPhA4hKBlp02QkuAFugyhS4eOlDqg9H7MDnfnXvuPffMN6xIJBIIBHZ3d4PBoNvtBvb7/QD7+/s0TW9vb/t8Pq/XC7y1tYV8NBoFRmZvb481Pz8/NDQ0PDxstVpbWlrex6KtrW1zc7Ozs7Ojo2NsbKyvr298fNxisfT29i4uLk5OToIyPT3NWl9fHxgYGB0d3djY6OrqmpiYQBZFOzs7/f39ADMzM2CCgOPIyMjy8jJzhEBWXAZkLy0tAWCRhYUFp9MZDochG/qhEPnV1VUMQD1WQzEAKxKL6FGgDqPAdDgcc3NzkaOIFyRmWIlZPFdWVrAIk7Hb7Wtra4kEpibe65jMZGFbvAgqmGP0L8FKHIvFYGbiVnABtidO+yvZGQsAGAN7ADweD8z7XzJugsvlam9v7+npQQaG22w2GP5v2aDhDmGs2WzGB2dewXOsE46E4y1CodAfbofDIWYyY+/g4CBuFfMKHfHZGBVe747b4wE4JkeiETQGWI9FzDA/PMMEYFw164z1y7cv9U21dQ8MYr3kda+FEctieswtzFrevf3w6aPVOo0jfgaHw84wez52l98s4VUQbAlHcVVE6LLVJtFP29Th5ABN322t5kpTSR2PUIvvtTYOfn7v3tx+0/2GpxEliVIMt+QqvbCgVkbohWU1cnUF9/GLp4fkNddqUX1e07NiU0MBR8HlUByeOrPJXMNVcE9kJQuKidLm/ObnxVduKM9TGVklguySzCcvm7HtAXlqdiqd4giMJGkkc00EVUnydYTKkFNoFGvr5GUPldySzEuaixzqgro+V1cjy1BeqrpdEQ7tH5C//vh+UnC21qzS1ktTxOeyC9icvPTTWWnGRukrSzllIE7xzmivClRVfNmVnIZHmjQpW1ik2KODB+RfTruiSqi5KSu9Lj0jTucbBAK9IFdL5lUQcp1EVUaoqmWFN6SVDcokki0yCfna7OLrpTQdOCD7fb5SU2GyLI3U8PTXhJV3qAskJ0d5udAg5ufzjffzSQ03lcqgyiVak8R0T8kWsuXaAjpI/wYY950fF6xXDAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;내 짬에 해야겠냐?&quot;
        title=&quot;&quot;
        src=&quot;/static/423ef583b90ea1d5f78cc3a5ba5d72c5/65ed1/image-17.png&quot;
        srcset=&quot;/static/423ef583b90ea1d5f78cc3a5ba5d72c5/c26ae/image-17.png 158w,
/static/423ef583b90ea1d5f78cc3a5ba5d72c5/65ed1/image-17.png 210w&quot;
        sizes=&quot;(max-width: 210px) 100vw, 210px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
막내가 아닌 짬킹이 줄을 서는 선진병영이네요&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;w1&lt;/code&gt;이 끝났다고 해봅시다.&lt;br&gt;
그리고, 이 semaphore는 강한 semaphore라서 큐에서 꺼내오는 순서는 곧 죽어도 FIFO라고 가정하면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;w2&lt;/code&gt;가 들어가서 작업, .. 끝나면 &lt;code class=&quot;language-text&quot;&gt;w3&lt;/code&gt;가 들어가서 작업, .. 끝나면 &lt;code class=&quot;language-text&quot;&gt;r1&lt;/code&gt;이 들어가니까...?
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/03afc902aa9ff81475c4af7c1eb3decf/5a791/image-19.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACjklEQVR42rWV22saQRTG80+X/A19afECjW4f8mBIMV11NwqFXvACtrSINIJgV43VqPF+qdd1xq/njBpMrIl9yMKPHWfnfPOdMxePjp7jmc1mL+bz+SciRJjbCCFM27YJYUrAFFtgRYjGfJxMJsd3glJKgz5guVwKPHiob/WWArP+Daa98op+Gb1OE61WaxMTvhMkJ0HusVeP3EDOZalUkt1uT/a7Tfkr+U4WkmeKfPJcpr5+kdFY3O71ehxubgsaa0GxWCzAUBog5xiPx+o3O53PJmumiulUoRySRnivIIt1u120Ox00mi202x2wi8VC0LclBE3E8ISCBz8lKKleHRK7qVRQt36gWsqhVm9wEDYZbOCYvYI8G8/K6bGjSqWMQiaJ6m+LBG//X7Df74vBYIDRaKRoNpuo1uoY/hmB+yn4MEHqVIK5XE7k83nc3q7ccB1pf0EuVa2U84dIrs8hKbNgu91WbRZjd+zyIZzVXkHad2KT1nA4VAtTLpdVPbkdi8UQj8cViURCEY1GBYnubOydk8KD2BnXcrXyUjmmk6FoNBqo1WqoVqtivUN2a3h19VNYVh65bAbfvyVxfX2NbDYLy7JQKBRAp0ZRLBaV420T91Lms8zFPz09FRcX7/Hh/DWMMzf0oIlAQCcC0HVdwW2/349UKqVcc5l2BCk1g9MyTVO43G68cbzEiesVnC43XC4XnE6ngtsOh4MnRiaTUYIk9G+HvBihUEhomhcnHg1e7S28Xg/hhcfjUWiapt4+n4/Kc/WooM6XgGEY03A4bD9GJBKxg8GgnU6nbYqzSWi6Fgzt3Ie0omJzSp6C9+n2opBG+N6NTSl/pn4WvjwEqvsliTIG3/akcfwsfyd/ATGO5xAktasEAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 4&quot;
        title=&quot;&quot;
        src=&quot;/static/03afc902aa9ff81475c4af7c1eb3decf/f058b/image-19.png&quot;
        srcset=&quot;/static/03afc902aa9ff81475c4af7c1eb3decf/c26ae/image-19.png 158w,
/static/03afc902aa9ff81475c4af7c1eb3decf/6bdcf/image-19.png 315w,
/static/03afc902aa9ff81475c4af7c1eb3decf/f058b/image-19.png 630w,
/static/03afc902aa9ff81475c4af7c1eb3decf/40601/image-19.png 945w,
/static/03afc902aa9ff81475c4af7c1eb3decf/5a791/image-19.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;code class=&quot;language-text&quot;&gt;r1&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;semWait(wsem)&lt;/code&gt;이 풀린 것이고, &lt;code class=&quot;language-text&quot;&gt;semSignal(x)&lt;/code&gt;로 &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;의 잠금을 풀었습니다.&lt;br&gt;
이제 &lt;code class=&quot;language-text&quot;&gt;READUNIT()&lt;/code&gt;에서 읽기 작업 중인데, 오래 걸리는 작업이라 여기서 한동안 머무른다고 생각해봅시다.&lt;/p&gt;
&lt;p&gt;이 때 &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;은 값이 1로 열려 있고, &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;은 &lt;code class=&quot;language-text&quot;&gt;r1&lt;/code&gt;이 0인 채로 지나왔습니다&lt;br&gt;
이 경우 writer는 &lt;code class=&quot;language-text&quot;&gt;semWait(wsem)&lt;/code&gt;을 먼저 실행하기 때문에 값이 -1이 되어 기다리게 되지만,&lt;br&gt;
reader는 &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;를 잠근다 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;→&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\rightarrow&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.3669em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;→&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;code class=&quot;language-text&quot;&gt;readcount++&lt;/code&gt; &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;→&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\rightarrow&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.3669em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;→&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;code class=&quot;language-text&quot;&gt;readcount&lt;/code&gt;가 1보다 큰, 2 이상이다 &lt;span class=&quot;math math-inline&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;→&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\rightarrow&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.3669em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;→&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;의 잠금을 푼다&lt;br&gt;
이 과정을 반복하며 &lt;code class=&quot;language-text&quot;&gt;READUNIT()&lt;/code&gt;에 얼마든지 도달할 수 있습니다&lt;br&gt;
그럼 이 이후로 &lt;code class=&quot;language-text&quot;&gt;r2, r3, r4, r5&lt;/code&gt;가 모두 &lt;code class=&quot;language-text&quot;&gt;READUNIT()&lt;/code&gt;에 도달하고, 새로운 writer인 &lt;code class=&quot;language-text&quot;&gt;w4&lt;/code&gt;가 들어왔다고 해봅시다
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/885c2a1b28ea282cd4cf17898e284807/5a791/image-20.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACz0lEQVR42rWVaU9TQRSG+dOGH6AS4YNJKzFdMKlS/QBiF1ojLqSl1Fa0QYpoV7vQhdLSja6XGV7PmdLSWpF+4SZvJpk755lz3jl37tzcXTy9Xu9ev9//SLKTnOMSQjg1TVOSwEiChIHstOZDp9OZHwGllA56gcvLS4G/HpobjFKg2yxdq1FErVpBuVwexrhGQMrExjPa4JFDUeYynU7Laq0uG7WKPAo45ZF/Q4Z3XstI0CFDwR3p8e5otVqNw53jQMcVUFxcXIBFZYAyR7vdUVnm8wUcHHxHPBZFnQD9fg/dbhdUqsqQGK4bgQyrVqs4OzvDyUkRgUAQ29vbKBSLahNJGwgeSYIX3waUtKZCsHzuGLlffrx6YUYme6wA/J7WYVgJx9wI5N04iEtkXwqFPL7tvkMuk0SpdArydASaCViv10Wz2USr1QKPjUYTXp8f8XiCvGxz0GxAmlTAaDQqEokEiuRVq3WuvIxEIkinUyprtoLHcVFFt5c8FGeayWSQSqVUua1um7JuTIiruhFIQYIN59I4u0qlglAohFg0iuNCDrs/9vB5LwCvxwufz6fk8XgEQacae+JLoWJU6zeb56r/yqdl1ULV8zrKlTJ/HXRIJTq0Ar3Pi6sOmfYwHA6LaCyG1O84EtEjfA364fd58CXgx15gF/HIT2SzWSSTSbXBeBITJfO3TB0Pi8Ui1tfXsbW2jPcvF+BeXcKW9SHePn8Al+U+nKuPYbe9wdramrKCfWabpoDkl4NbwOl0iifLy3iqW4RR/wgG/SJM+gUYdQtqNOiXoNPpeGMcHh4qIIH+nSEfht1uF2azCQajGaaVZzCaVmBQMiuZzDRnNMJqtbI9/wVucOM6HI6uy+XSBtoc0/Wc2+3WbDabtr+/r1GcRqDuFdA+dR9S3wnuvVnErTV+KMRwTdzYVPInmmfw5iwi3zcJynLwbU+M+Tv5nfwBmM/frynqjeQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 5&quot;
        title=&quot;&quot;
        src=&quot;/static/885c2a1b28ea282cd4cf17898e284807/f058b/image-20.png&quot;
        srcset=&quot;/static/885c2a1b28ea282cd4cf17898e284807/c26ae/image-20.png 158w,
/static/885c2a1b28ea282cd4cf17898e284807/6bdcf/image-20.png 315w,
/static/885c2a1b28ea282cd4cf17898e284807/f058b/image-20.png 630w,
/static/885c2a1b28ea282cd4cf17898e284807/40601/image-20.png 945w,
/static/885c2a1b28ea282cd4cf17898e284807/5a791/image-20.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
reader들은 너무 외향적이라 다같이 파티를 해버리네요&lt;br&gt;
writer인 &lt;code class=&quot;language-text&quot;&gt;w4&lt;/code&gt;는 너무 내향적이라 파티에 끼지 못하고 그냥 밖에서 기다립니다..&lt;/p&gt;
&lt;p&gt;게다가 여기서 새 reader인 &lt;code class=&quot;language-text&quot;&gt;r6&lt;/code&gt;가 들어와도,&lt;br&gt;
밖에서 기다리는 &lt;code class=&quot;language-text&quot;&gt;w4&lt;/code&gt;는 신경도 쓰지 않고 그냥 &lt;code class=&quot;language-text&quot;&gt;READUNIT()&lt;/code&gt;하러 들어가버릴 수 있습니다
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4fc6b4b2120d3bebbed2789570d87172/5a791/image-24.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACuElEQVR42rWV608aQRTF+083fm7SppqmSa2mCqgxjdpE0wILJm2tCQhtbOOjSq1AaFkV5LEsu7wWXWb29N4FLEqJ9oOTnMzsLPc3596ZWR48uI92cXHx8PLy8hMpQFIGJYRQbNt2JQEFwwrQbzYsyxq7Akopg/QCjuMI3Gg01+2lQLtWhKFrqFR06JUK9RVomtaPCV8ByYmfZ+xuk32Rc6mqqjQMU5pVTR59UeTe9pbcin2W8XjcVTQatQ3D4HBlEBjsAUWn0wGL0gA5R8uy3LGu67CsFmgRtNvtK1GqrkNihEcCGVCtVl1IsVhAMplCoVCAoAXkDQn+8W1A2XOUy50ifxzH0cE3lMqa666fQV8cMxLIq/GqvBGGaRLwDLnMd5z8TpPDIgf9H9A0TVGv19FsNlGv1VCjsW7UoKonaDTqHHw3IE26wFQqJTKZDM7Pz8Fgduo4EjWC8zO3fgZ90fPtKfeK7TrgcYeclbUymlbThQ+KsxoJpKILTotrxT1vQjab5SCc5XPY3NnC9u5XRCNRxGIxV5FIRPD7mwf72k1xeuLWaDTJKbklx2r+FOXu7UCpVHJLk8/nRe+EDNfw8PBQpNJpZH+RMknqU0j+/IFMOomTbAaJgz2kjhPIqqp77QZNXEuZ7zKdeCwuLoq1tTV8WJ3Gxso43i8/x+abCRpP4OPKM4ReP4Wy8AjvVpexs7vn1pfLNASkDQjyBiiKIqamp/FqcgKel+OYmRyHZ/IJZl905Z3i58e08AISiYQLJNC/HfImBAIB4fN5MevxwTs3D493jjSPWa+PRGPfPGbo3dLSEpeHgM5I4NtWq4VgMNgOh8N2V6EB/Z1bXw/bfr/f3t/ftynOJlC7BwwMfQ/phgi+JXcRH63BTSFG+NoXm1LepHkGh+4iqnuIoKwgf+2JMXYvfyd/ALMe5Zj7vEIvAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 6&quot;
        title=&quot;&quot;
        src=&quot;/static/4fc6b4b2120d3bebbed2789570d87172/f058b/image-24.png&quot;
        srcset=&quot;/static/4fc6b4b2120d3bebbed2789570d87172/c26ae/image-24.png 158w,
/static/4fc6b4b2120d3bebbed2789570d87172/6bdcf/image-24.png 315w,
/static/4fc6b4b2120d3bebbed2789570d87172/f058b/image-24.png 630w,
/static/4fc6b4b2120d3bebbed2789570d87172/40601/image-24.png 945w,
/static/4fc6b4b2120d3bebbed2789570d87172/5a791/image-24.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
이러한 특성때문에, &lt;strong&gt;reader들이 우선순위를 가진다&lt;/strong&gt;고 말합니다.&lt;/p&gt;
&lt;p&gt;그렇게 reader들의 왁자지껄 웅성웅성 👥👤👥👥👤 파티가 끝나고
모든 reader들이 나가서 &lt;code class=&quot;language-text&quot;&gt;readcount=0&lt;/code&gt;이 되고 나면, 마지막에 나가는 reader가 &lt;code class=&quot;language-text&quot;&gt;semSignal(wsem)&lt;/code&gt;으로 이제 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;에 아무도 없음을 알립니다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=KNp2VyF0qHY&quot;&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACYElEQVR42jWRW08TQRiG92foDSSGQ9jtHma7ZWl3trO7M9um3QIKRkqLtBQsQhHSpsGCCEhEEBJJxYD1QAFjQNRIOHhlTUy4knhhvPXGf+K0SvJkkpnkeb+Zd5hI30i4qw9DXZOBDbWoEx7s7nw0frsLGxqECiFuy5AsDCwiGBaPMEWyCN2Kls10xkeC4ashQgj0RcOhqeHUSnb09PmTfKIHtyoqthRiy8SmvmBUfdHEAFdPALGZSG8aG1j3KL1hsrM8vzE3ffaufP5+Z72QTTrYA72yHQSYQgDGF9g1Akz7jYQFfXJz8/zY0K/Tgz+Vk/OPbyrbG7+PDsozk4IkuIPBf6Nq06hpXUQQJoZs5FGE5qZcKv7tben7u/LR2vJWfuLry+L63QmeYxXbprel75RxABCrJlsXMjSgDGSupcexP22ufi6tVUpPj5cW9h7Pjse6gYujnbn8iFKLqDrSf9lmujWtledUSVBFdimXPny2crb/+sur4u7SNHLzPiCq2GR1xPt1HumCYYomqbaNqysTaVNBY4PCsproykSdueH4cia1OJwIwdaGuvqAT9VMg61NboF+ESEeGbRwGkFh/JLQcPkSW19vyOL90b6FsYFCoiOfdPimK4BrMhUPsXRO9/GmBkO6C+oy1kXDpJ8vE8wgoATNoAe4HU1ZzKZWJ+/MF5zZKY1trMtmvekB78yU9vDBUDIZzUz4oikUG/TeTLdlJzXUYTLH2yc/Kj+LxRf5zNDmXG5rsbA63X8vF3az3EBSil1v6+lQT3dLh+X9wkxk/8NevnCrfyR+LW5p7YG/HxLWXkknHdkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;잘 놀다 갑니다&quot;
        title=&quot;&quot;
        src=&quot;/static/ce4188060316f1eb94aab3616d62e9f3/5a46d/image-27.png&quot;
        srcset=&quot;/static/ce4188060316f1eb94aab3616d62e9f3/c26ae/image-27.png 158w,
/static/ce4188060316f1eb94aab3616d62e9f3/5a46d/image-27.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;그러고 나면, 이제 조용해진 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;에 드디어 &lt;code class=&quot;language-text&quot;&gt;w4&lt;/code&gt;가 들어갑니다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d742d223b9694fca8a6464eadd03d0e7/5a791/image-25.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAACcklEQVR42rWVW4vaUBDH90uX/Q62ffBCQbcPPoigoiYxtpS2oCi0pYhFQVC0Kt6w3jXejidOZ2YTa+ra3T7sgT+TTHJ+Z2bOnOTm5jnGbrd7sd/vP6EUlHYuKaUmhGABwENS8J2Pm83m9gQ0TVPFB3A8HiX8NdDHFifBZDKB8Xjs0Gg0sufoJyBGkiSPuB+mLYzcbLVa5mw2MxFm5nI5M5/PO5TNZgU+p+naOVC1gPJwOACJIsLIYb1e8z1FigvAdrt1CFPlCJGhXwUSbDqdcorD4ZBToyjsRc4lyfkYkF4kWKfTgX6/D71ejy2+B3YGtmjOVSCtRjBKjyIiIMG63S4MBoP/B87nc7lcLsEwDCC7WCxOonuc/DQgOhlYrVZlvV7n9AhAw64p10/eR38uzOjxlK1ig11PuqbojM0aFsuFI3LK6ioQ20LSRKoVWWqTZrMJs+kMpvMZ5H98hS/fv0E2kwXsSVYmk5EIvWjsqydltVpxhNSP/V8D3n08HdxOVgdIq0Mua1gqlWStVoNGowFUS7KVSoWvi8Ui37fbbWj8bDD4PAhHynSWseMhGAzKWCwGiUQC4vE4K5lMQiQSgXA4zH5SNBqFQqHA9aUyXQAxJZU2QNM06fP5wOPxAFuvB7xeL7hcLnC73ewjiwtDuVxmIIIejpA2QVEUeXd3B36/H8iS3G+88PL1K3iL14FAgJ+FQiEqzz+BcSq6qqpbXdcFK6WL9Lu0iH1QhPJeE2nLn06nBZZBYE0FzhMI2lpA5eJ7iCdE0in5ozUYuBAt5vQb3Frnm4IM3fHFxpQ/o5/AqacI655CKEmlrz0ybp/ld/IbOtfoXHEZF10AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;과정 7&quot;
        title=&quot;&quot;
        src=&quot;/static/d742d223b9694fca8a6464eadd03d0e7/f058b/image-25.png&quot;
        srcset=&quot;/static/d742d223b9694fca8a6464eadd03d0e7/c26ae/image-25.png 158w,
/static/d742d223b9694fca8a6464eadd03d0e7/6bdcf/image-25.png 315w,
/static/d742d223b9694fca8a6464eadd03d0e7/f058b/image-25.png 630w,
/static/d742d223b9694fca8a6464eadd03d0e7/40601/image-25.png 945w,
/static/d742d223b9694fca8a6464eadd03d0e7/5a791/image-25.png 1248w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
아 시끄러운 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;에 차마 들어가지 못하고 밖에서 기다린 &lt;code class=&quot;language-text&quot;&gt;w4&lt;/code&gt;에 과몰입했는지 이 그림조차 너무 고요하게 느껴집니다...&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3d9be0d015ab779259049099e2022f2c/3684f/image-28.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEu0lEQVR42hXR/U8aBwDG8UuWJXtJnZhWa31FlPfj9TgOuDuOO14OFAuKIohYLEIFUYH6jm+IttpofZkvVVc3qtjaTmvrXrQvWbZuXZp27bKsS7Yflu2X/Ruzf8An+T55gDubK36Pm6boSpqenxrez2zOT09dah9o9nU2e0NNnkseb5u13u/2RV2+qLc1Fo9EguFed0u0wRsGdtNrLW5XpcmKo8aJoeGv7m1vbdy46O8oLRHl5lXU6cw/7j2cufapjrDipI0yObrCIZvNo6Vq9GQNsLe94a2rM5FmHWYa6+97/ODLO5trlI42oGQ1Rf+8vvTbbubF0aPmCyGUrDHS9ZG2oKPORxqdVRbPOxzweilcr1YSo919j+/fzqytjPfEI/XWSkydSSWfLy0cTF1zOxrKeCpCa+0IBij9eRYfwbTVwGHm88vtbQROIUoiEYs/ub+zvbY02R/zWfV2kliKhV4uz+6PppLxPi6IUaQtEgzoDOfZEgLFzwPf3r7V3xkiNASOWq4MDX/3cPf+1k1njdNvM690en9dHX+zfOXOQN9gtJsvxbSEpSPQqiOtFSD+Dh/fzSRiEUgsVcg1sxOp1z88Odo7tlc2nDmVc9GszyTan17rmwgE2AKEyUNIyhoNB83mumKOQoNVA8+PD0cud5Eoiig0c9Nz68vp2poWuURz9gzvvfezcrILOKXlvfGeickFlyfiD3TFwkFPU8hS2+poCAH//ftnsjdOEzpKa6hztiogmMvliSRiRFGbfxb8JDu3sIBfaaZHE4m5uRukyeb3NoQ6uz2Xel2+LuDtq582FmaqSArTqBRKoxrTaTRKsZSvJ50WKp7DOJfDKLOY3NV293ByOpma2biZWVnfWVxOuxoDwIPdndXZKYueJHAEUaMQQmK4UoPDGGby1c/X0t2gwIBq3UKZ8eQbm817wZ/o7F/1h1NFOUXAs+OjxekUoUG0uBrFEJFEiuEqDEc0KGqn+8Oe6zqNnSfE2TxMobRwRahASmiNjYTBU5BbAqR6hmZTIypYqlRBCoVYIBTIYTmigrTYST0G80E5n8s4VcRkqrgyAjFXY/oqoVSnQKpAIQqgPHmrp0mPo2IxKBQLRGCFQQfX2SkLoZSxS2mN2KiWSvmgEiZomp4MRrtaWmRKgxw2VLAFAOsM62STSiGBZGJEjbT5rL98ffX379e31v3XZ2x3t8ce7CwebM3vZ2b+er338mi2ubEagswgKCsuOQcwyyBYLJOCXFghUauhYBP95njpjxd7h/tX0+nora3k7s780eHmwd7GP38/e/viltflksjo/PwCBiMLkJSKRFyuRMiWiDhSkNPaaNleHU+vTTw9Afd65ues6S+aDg+Gtj+befLN5qtHy26Hg1kuYpYyxaAMYH3AkJSzYRkoZJfxuExcLWpvtgy2OwY67CNdztnh6EIyvjjePzUYnRy4OBpzykWC/HOFIiEECiEg+0OGuJxlILSwHGaVFOedzmaVFnDYpUXFZ0sKhZVoj9M0ZicHSSjCZUFlLGZeXjGDkV9QWPHRx6eBrKxsmx7tDPgRJS4SgjIpT4vDJKWGFSCnXGJQhT2VYy56pBpNqGRGoZhTXiGgTTVqjQlC9P8DrUiigscZnqsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;혼자가 좋아&quot;
        title=&quot;&quot;
        src=&quot;/static/3d9be0d015ab779259049099e2022f2c/3684f/image-28.png&quot;
        srcset=&quot;/static/3d9be0d015ab779259049099e2022f2c/c26ae/image-28.png 158w,
/static/3d9be0d015ab779259049099e2022f2c/3684f/image-28.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아무튼, 그래서 정리하자면&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;readcount&lt;/code&gt;는&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;reader가 작업 중이면 읽기 작업을 진행 중인 reader의 수&lt;/li&gt;
&lt;li&gt;writer가 작업 중이면 기다리는 reader의 수 (하나는 &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;에 대표로 줄 서고, 나머지는 &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt;에서 줄 선다)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그리고 또 &lt;code class=&quot;language-text&quot;&gt;semaphore x&lt;/code&gt;의 역할은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;readcount&lt;/code&gt;의 조정을 한 번에 한 프로세스만 하게 하기 위함&lt;/li&gt;
&lt;li&gt;reader들이 C.S에 들어가고자 하는데 이미 writer가 작업중이라 들어가지 못할 때, 짬킹을 제외한 나머지를 줄세우는 역할&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;마지막으로 &lt;code class=&quot;language-text&quot;&gt;semaphore wsem&lt;/code&gt;은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;writer가 작업중이면, &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;을 아예 잠그고 들어간다&lt;/li&gt;
&lt;li&gt;reader가 들어가 있으면, &lt;code class=&quot;language-text&quot;&gt;wsem&lt;/code&gt;은 reader에게만 열려있다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 됩니다&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;휴.. 생각보다 글이 길어져서 햄드네요&lt;br&gt;
사실 내일 운영체제 중간고사입니다&lt;br&gt;
아좌좍~
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 347px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b268d0733d1cccb1892d7c687c8d8828/39e45/image-31.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABVUlEQVR42k2RW6uCUBCF9/9/r7fOs8ixlKQL3UAqsgcrLBTsTkVEUZkS3bTv6MsZcDPutdbMmtnC87w4joMguFwur9drt9utVqvJZHK9Xn3fB1osFsvl8na7zefzzWazXq/hoLrf78J1XRiHw+F8PoONx2OUtm2Tn06n/2IElmUBwRmNRp/PR0ynU3j1er3VasGjOSUfjwe1aJ6K8UIOLQxDPwk4QAKs2Ww2Go1SqWSaZuq22+0C00FRlOFwiJihOKMoipN4Pp/QxGw26/V6+XxeVVX6Y4SRJEkCy2QyxWKxVqtxgxjzJLIs0+x4POJO7Pf7fr+fXmmaZhhGoVBA/JNEuVzOZrNYgEY5x3FyuRwDUujPNh8LhISYnfObesPCbxI4x1Sn06Hb+/1ut9u6rrO8wWAgWBpXCEjQUJ5ts9VqtYqA56HbdrvlZGE8SqVSwSCQbdtfFw+aU2p6qX8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;자퇴서&quot;
        title=&quot;&quot;
        src=&quot;/static/b268d0733d1cccb1892d7c687c8d8828/39e45/image-31.png&quot;
        srcset=&quot;/static/b268d0733d1cccb1892d7c687c8d8828/c26ae/image-31.png 158w,
/static/b268d0733d1cccb1892d7c687c8d8828/6bdcf/image-31.png 315w,
/static/b268d0733d1cccb1892d7c687c8d8828/39e45/image-31.png 347w&quot;
        sizes=&quot;(max-width: 347px) 100vw, 347px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이만 마칩니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ 🕹️ OS 툴로 Critical Section 통제하기 : Mutual Exclusion By Semaphore & Monitor]]></title><description><![CDATA[Software 로직으로 이리 보고 Hardware Instruction으로 저리 봐도 로 가짜로 대기하는 Busy-Waiting…]]></description><link>https://sungpaks.github.io/mutual-exclusion-by-os/</link><guid isPermaLink="false">https://sungpaks.github.io/mutual-exclusion-by-os/</guid><pubDate>Sat, 20 Apr 2024 21:31:15 GMT</pubDate><content:encoded>&lt;p&gt;Software 로직으로 이리 보고&lt;br&gt;
Hardware Instruction으로 저리 봐도&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;로 가짜로 대기하는 &lt;strong&gt;Busy-Waiting&lt;/strong&gt;이슈를 피할 수는 없었고&lt;br&gt;
이외에도 다른 이슈가 생기기 마련이었습니다&lt;br&gt;
그럼 어떡하면 좋죠..?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 527px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b44a7c601af199c2b2ebd24b10bba70f/44385/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.79746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACjUlEQVR42kVT30uaYRT+7rf/Yexv2O6322CDbrb/YcFgo92MVkYrSfFiTgURZmtSJmaF5fz8sYj6VPz5qWVphvZDyaxUikwoeXbOC2svvDfnnPec5zzP80qZTAbFYhGlUgmKomBubg7pdBper1fE9vf3Hy7X8a1Wq7BYLDAajVBVFZFIBIXtbcTjcUjNZhN8er2eaCjLMg4ODhAMBnF/f49yuYzd3V0Rq9frohmfUCgkcrVaDTWKd25uUKah0tnZmSiIxWKIRqMPaCuVCjjHyHZ2drC3t4dCoSAQtVttKFtb6FKTAsUrVO8Zeo+MmoV0cXGBZDIJn88nUITDYTF5m1bgRtfX1+h0Omg0Gjg+PsYRITw/P0ckFsUf2qJyegrvh4/4JUn4/uo1pPn5ebhcLrEWI9TpdBgfH4fBYBDNLy8v0W630af17+h2ul3IYxpEllcQJyDVeg0xhwPud0OwvXgJiblyOp24vb1FKpUSBE9MTIAHMZJsNotgIIBZEuubTo+vz57D8egxhp88hUf2o1wsYXl1FSvEadjjgcSPGF2XJjNn+XweVqsVbrdbcMucKjQkxIPfvIVMjQKDg/g8MADN9DS+jIxAMzYG7eQkNjY2/qv8j0tWeWFhQYgkEJKtXGShqm8NYeIpa/+BLtUHVtcEELbP6Ogo/H6/EE66uroSCbZMq9WCVqvF4uKiSPb7fWxtbuI3DXH9nIXyaRi5UAAuWi2jZgQIpshutwsR2VYSK8gccoDP0tKS8BhTwD7kNWw2G1okTJ5ccHRyApVQT01NwUFi5HI56PV6zMzMIJFIQGIkrPImIWHT8s/h1dk6rDo3ZxSHh4dI0k9gkThnMplgNpvFqvyeaVpfX8dfb3LRtQeJflYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;이렇게 된 이상&quot;
        title=&quot;&quot;
        src=&quot;/static/b44a7c601af199c2b2ebd24b10bba70f/44385/image-2.png&quot;
        srcset=&quot;/static/b44a7c601af199c2b2ebd24b10bba70f/c26ae/image-2.png 158w,
/static/b44a7c601af199c2b2ebd24b10bba70f/6bdcf/image-2.png 315w,
/static/b44a7c601af199c2b2ebd24b10bba70f/44385/image-2.png 527w&quot;
        sizes=&quot;(max-width: 527px) 100vw, 527px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;사실 프로세스 다루는 일은 OS가 전문입니다&lt;br&gt;
그런 OS가 미리 만들어두고 제공하는, Mutual Exclusion을 위한 툴이 있는데&lt;br&gt;
&lt;strong&gt;Semaphore&lt;/strong&gt;와 &lt;strong&gt;Monitor&lt;/strong&gt;입니다&lt;/p&gt;
&lt;p&gt;바로 알아봅시다&lt;/p&gt;
&lt;h1 id=&quot;semaphore&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#semaphore&quot; aria-label=&quot;semaphore permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Semaphore&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;Semaphore&lt;/strong&gt;는 하나의 구조체 변수로, 정수 변수 하나와 큐를 가집니다.&lt;br&gt;
또한 이 semaphore는 세 가지의 &lt;em&gt;atomic&lt;/em&gt;한 operation을 가지는데,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Semaphore 정수 변수를 초기화 (주의 : 음수로 초기화 X)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SemWait&lt;/code&gt; : 정수 변수의 값을 하나 빼고, 결과가 0보다 작으면 현재 프로세스(값을 하나 뺀 프로세스)를 block시킨다 =&gt; 큐로 이동&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;SemSignal&lt;/code&gt; : 정수 변수의 값을 하나 더하고, 결과가 0보다 작거나 같으면 큐에서 (블락되었던) 프로세스를 하나 꺼내준다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Semaphore의 구조와 operation을 코드처럼 나타내보면 다음과 같습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;semaphore&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	queueType queue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;semahore s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 하나 빼고,&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//뺀 결과가 0보다 작으면,&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* place this process in s.queue */&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//큐에 넣고&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* block this process */&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//블락&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;semaphore s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//하나 더하고,&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//결과가 0보다 작거나 같으면,&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* remove a process P from s.queue */&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//큐에서 아무거나 하나 제거하고&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* place process P on ready list */&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//레디 큐로 보낸다 (실행하라고 보냄)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;을 실행하면, &lt;code class=&quot;language-text&quot;&gt;s.count&lt;/code&gt;값에 따라 &lt;em&gt;블락되어 &lt;code class=&quot;language-text&quot;&gt;s.queue&lt;/code&gt;로 들어갈 수도, 넘어갈 수도&lt;/em&gt; 있습니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;을 실행하면, &lt;code class=&quot;language-text&quot;&gt;s.count&lt;/code&gt;값에 따라 &lt;em&gt;&lt;code class=&quot;language-text&quot;&gt;s.queue&lt;/code&gt;에서 프로세스를 하나 꺼내 실행가능하게&lt;/em&gt; 할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그럼, &lt;code class=&quot;language-text&quot;&gt;s.count&lt;/code&gt;값을 2으로 초기화한 경우 &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;에 따라 어떻게 되는지 생각해봅시다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==2&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count--&lt;/code&gt; 이후 값이 1이므로 블락되지 않음&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==1&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count--&lt;/code&gt; 이후 값이 0이므로 블락되지 않음&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==0&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count++&lt;/code&gt; 이후 값이 1이므로, 큐에서 프로세스를 꺼내지 않음(사실은, 큐에 프로세스가 하나도 없음)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==1&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;: 위에서와 동일하게, 블락되지 않음&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==0&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count--&lt;/code&gt; 이후 값이 -1이므로, &lt;u&gt;해당 프로세스는 블락되어 큐에 들어감&lt;/u&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.queue&lt;/code&gt;에는 프로세스가 1개&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==-1&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count--&lt;/code&gt; 이후 값이 -2이므로, 해당 프로세스는 블락되어 큐에 들어감
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.queue&lt;/code&gt;에는 프로세스가 2개&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==-2&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count++&lt;/code&gt; 이후 값이 -1이므로, &lt;u&gt;큐에서 프로세스를 하나 해방&lt;/u&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.queue&lt;/code&gt;에는 프로세스가 1개&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==-1&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count++&lt;/code&gt; 이후 값이 0이므로, 큐에서 프로세스를 하나 해방
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.queue&lt;/code&gt;에는 프로세스가 0개&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count==0&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;s.count++&lt;/code&gt; 이후 값이 1이므로, 큐에서 프로세스를 꺼내지 않음(사실은, 큐에 프로세스가 하나도 없음)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;구구절절 썼는데요.. 규칙이 보이시나요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/21c49c01b21e0334ed2ec892ca13a372/01e7c/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.12658227848101%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC50lEQVR42gHcAiP9AIeMjj9FSTAyNTAzNSsvNCMpMS4uMzQ2OjAzNi0yNC40NRYbHUdLSqmpoXJuboV8e5WQh5OKgqWQh7ikmgA3PUEyNjoqLTAvMzI7RWVkbplUVlk4PENSWGBGTFFXW1t3fICIjIyjpJpnaF1qa2ibk4h9dG11cGt7dnEARkpLREdFOTo5LS8wTVJdiYqXT1NVHiUubnaGQ0hROD48eYB+hIiBmpqXTUw6V11GPkM+EBMXFBkcHyMnAE5YREtNUDU5OE9RTl9kZkpMUD9ERy40O2JwdkhhYDE4Ph0kLUNNQIGRYTY5OB8kITs/QVFUV09TVlNXWgAqNyUkKSsfIiNNTUxiYGBdYWhIT1MyNzlAY1sykXBAUE0WISYsOx9WeA06QDErMDE6Pz9iZmmEiYuYnaAAKDUuJzUvGSolO0pIjI6Tmp2mWGFoLzU1bXBrS41wKFI+Rl1XTF5DWnsSSlxEO0NEFxgWJSYmYmlsgnh4AKmuq7/Dw93Exu20ufi6wNe1uUZRVy0zNXNxcWCRfDFXQ2JuaE9gSmZvGX5rNWtZQD0/QCElLA8ZI045OADu6/Dg3OK4pKiSf39tZ2tTVFdFTE4oMDNTW15BgmpEZ1F3fHBQYlE4SiZRUSdKUDg6TkI0SUQuTlJsTkgA6OLk3t3eWmRWSkcoPkE6FB4jFx8jHycnP0lHLmtQPWVMcHxsbHxrYHVhSGVWW1xMR1A6IUIuMk07VlhHAM3Q0HeDgkxaUGFcR3BeMjs7MS8uIxMaHRMfJQ8fJS5HOTlVQTpZRExnUVBuXJyRhoeHdj9lUj9gTThXRABqd3FNXFU5T0ZJWkxjZl6Ic0S9ixVbSBtPRCKhfA+LhkdFZFxLY1FJYE02V0F9fW6Vk4Zrhnd9k4R3kIAAbX1zV2ZcPUxCKz8zPVJEcHdrq4xI56oQ+cAb9cQ/ybmTm6ahZYFyTW1cQGRQhXpniX9qM2JLS3NeXoRxuM/+UEI4XGwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;주차장&quot;
        title=&quot;&quot;
        src=&quot;/static/21c49c01b21e0334ed2ec892ca13a372/01e7c/image.png&quot;
        srcset=&quot;/static/21c49c01b21e0334ed2ec892ca13a372/c26ae/image.png 158w,
/static/21c49c01b21e0334ed2ec892ca13a372/6bdcf/image.png 315w,
/static/21c49c01b21e0334ed2ec892ca13a372/01e7c/image.png 512w&quot;
        sizes=&quot;(max-width: 512px) 100vw, 512px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;결국 semaphore의 값, 즉&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;s.count&lt;/code&gt;의 값은 음수냐 양수냐에 따라서&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count &amp;lt;= 0&lt;/code&gt; : |&lt;code class=&quot;language-text&quot;&gt;s.count&lt;/code&gt;값| == &lt;strong&gt;블락되어 큐에 들어가 있는 프로세스 개수&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;s.count &gt;= 0&lt;/code&gt; : &lt;code class=&quot;language-text&quot;&gt;s.count&lt;/code&gt;값 == &lt;strong&gt;블락되지 않고 지나갈 수 있는 프로세스 개수&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;라는 결론에 도달합니다.&lt;br&gt;
그리고 앞에서 처음 semaphore에 대해 이야기할 때,&lt;br&gt;
semaphore는 음수로 초기화하면 안 된다고 잠깐 써뒀는데,&lt;br&gt;
그 이유가 여기서부터 비롯됩니다&lt;br&gt;
내 맘대로 초기값을 &lt;code class=&quot;language-text&quot;&gt;-5&lt;/code&gt;로 두고 &lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;을 호출하면 &lt;code class=&quot;language-text&quot;&gt;blocked queue&lt;/code&gt;에 보낸 것이 없는데 꺼내려고 하겠죠?&lt;br&gt;
양치기소년이 될 수 있으니 주의합시다&lt;/p&gt;
&lt;p&gt;그럼 이제, Semaphore로 C.S에 한 번에 한 프로세스만 진입하도록&lt;br&gt;
Mutual Exclusion을 보장하려면..&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;semaphore s &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;semWait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* Critical Section */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;semSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게, semaphore 값을 1로 초기화하여 단 하나의 프로세스만 &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;를 통과할 수 있도록 하고,&lt;br&gt;
C.S에 들어가기 전에 &lt;code class=&quot;language-text&quot;&gt;semWait&lt;/code&gt;를 실행하여 semaphore 값이 1이었다면 진입, 0 이하였다면 대기하도록 하며,&lt;br&gt;
C.S를 나오면 &lt;code class=&quot;language-text&quot;&gt;semSignal&lt;/code&gt;로 대기하던 프로세스를 하나 깨워줍니다.&lt;/p&gt;
&lt;p&gt;매우 간단해졌죠??&lt;br&gt;
마치 C.S에 혼자 들어가기 위해&lt;br&gt;
C.S 전에는 문을 걸어잠그고&lt;br&gt;
C.S를 빠져나올 때는 열쇠를 두고 가는 셈입니다&lt;/p&gt;
&lt;h2 id=&quot;binary-semaphore&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#binary-semaphore&quot; aria-label=&quot;binary semaphore permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Binary Semaphore&lt;/h2&gt;
&lt;p&gt;위에서 이야기한 semaphore는 굳이 따지면 &lt;em&gt;Counting Semaphore&lt;/em&gt;이고,&lt;br&gt;
&lt;em&gt;Binary Semaphore&lt;/em&gt;도 있는데요&lt;br&gt;
이 경우 정수 변수인 &lt;code class=&quot;language-text&quot;&gt;int count&lt;/code&gt; 대신 &lt;code class=&quot;language-text&quot;&gt;enum {zero, one} value;&lt;/code&gt;와 같은 ON/OFF값을 가집니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b32bc46d44680817f9d75ed7dad959f2/3684f/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD+klEQVR42n2U60+aVxzH+27/xJK9abIu65ZdrLMKyAMi1+cCwnPjIgID0VK5CPLwcPXxAsqwOHVLNucEFHYxcVuWzBdbuy7Zur2A6mLii85YK/aiqGmMNVPXgZK+WNZ+c87JyTn5nG9+Oed8zz091T8v1NPn6NwZeVLpJ8+DTyr6734V3t/fz+fzDx88WF1dLW5uFgqFpaWllZWVv+7cWVy8vby8fHR09P/Ox8fHPywsTKdT2S9ymdnZ3MzMTDpTblOTk5lUam5u/vuFn278cuvmr3/8duv3fL6wuPhn+fDN4v0KXNrZURGYQCIGmgV8fqOIzVKAMAQiMimoREm0VW+nGLov2enwdtpsPpoOhcPObs9MNluBt0slUk0iMIyrUEQixBFIo9OTJrPW/D5hbNNaTOGh0cRE2hNkKNpHB/xemrJ0Wqcz6Qq8W9oh5ApIKCSxMggrCRw3GhCttvWKRaVVawxtwWgimvyEYgapUMDl9bgpyuZ0fPb51Knz1jauUCoQuRzDIAKVt5HKdgOk02Fms5TASL3OHexj4hPe3gEH7aX7In3xISoSyH395anz7t6VbgdIqEANKSIVslYUMWqEWq2SJ4q9Vt/A5hhs3Ux83BUIu4P+ULQ/HBtwh+jZM7hUKoFkCwCLII0aUEr4OCjT4YBGo3+P+/PL9YBY0kEzkcR4f2JkKDk6NPrh8NhoJBad+3a+Am+VtsSojAs2y0icDYs4LWKxlhCq1Wxek4THfbMFMvrDgWsTnuhgYHigLxGPXksy0dj8N9+d1rxTkqAwW8KX4CiAwFwFLFDjdUrFO3YTcf2rl4wI7g8Ekh+ZvD1tbquXCQb6GTvlSefOrmq7JEXlbGkTgEjYkLgWFLK02HkSedVnMRZ+fMXequ/2hkc+bnM5ja6OYD8TGGTsPncqN3tW806jVPB6Qw1HDr4r4r3RxKlXKS5higuw6LxMUAOCJqcvMjxmdDqtlMMZ8Xb39ljcHalspvq2r9+84fL7QA3xFpd1sb62QSZhIfClRqCmjlXLBkwOb+/wOGm1IibS6rN30S6jzfxpaqoKHz45PHhyYHE6LjZcfpvTwJZJOSB0mdtUz+UDUrjd7e+Nj5scLlW7wey22309ZsfVyfR0BS5/rcPDw/KoMugv1NbU8rg8COZKwToWwOLwoBbM0uXx939A0SHa5wuFQgzDlCe5XK7qnL9dyOSyli4bqtMIRBIFSoyOjcXjCRRFuQBw1R2IxJIYhkmbOSqQR8ibZfy6sZFYFd4obhSLxd3d3aOjv4sb99bX1w8ODsrre3t7a3fX7z/aevhoe7O4ea+su2sb62tra6uPH+9V4Wd6ljjl4Cj/8xcE0FkY/AuWOtVaEMbtZAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;신호등&quot;
        title=&quot;&quot;
        src=&quot;/static/b32bc46d44680817f9d75ed7dad959f2/3684f/image-1.png&quot;
        srcset=&quot;/static/b32bc46d44680817f9d75ed7dad959f2/c26ae/image-1.png 158w,
/static/b32bc46d44680817f9d75ed7dad959f2/3684f/image-1.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;binary_semaphore&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;zero&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; one&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	queueType queue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;semWaitB&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;binary_semaphore s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; one&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; zero&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//1인 경우에만 0으로 바꾼다 (통과)&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//0인 경우, 이 프로세스를 블락.&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* place this process in s.queue */&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* block this process */&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;semSignalB&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;binary_semaphore s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;queue is &lt;span class=&quot;token function&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//큐가 비었는지 확인하고,&lt;/span&gt;
		s&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; one&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//큐가 비어있으면 1로 돌린다&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//큐에 프로세스가 남아있다면 레디 큐로 하나 풀어준다&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* remove a process P from s.queue */&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* place process P on ready list */&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 경우 큐에 프로세스가 얼마나 있다거나, 몇 개나 통과할 수 있다거나, 이런 것은 알 수없지만&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;count&lt;/code&gt;변수를 따로 유지하거나 할 수도 있긴 합니다&lt;br&gt;
그리고 &lt;a href=&quot;https://www.geeksforgeeks.org/mutex-vs-semaphore/&quot;&gt;geeksforgeeks&lt;/a&gt;에 따르면&lt;br&gt;
전에 썼던 &lt;a href=&quot;https://sungpaks.github.io/multi-threading-in-cpp/&quot;&gt;C++에서 멀티스레딩 써보는 포스팅&lt;/a&gt;에서 사용했던 &lt;strong&gt;Mutex&lt;/strong&gt;가 이러한 Binary Semaphore의 일종이라는 것 같습니다.&lt;br&gt;
딱 하나만 지나갈 수 있게 허락하는 Semaphore로 상호배제를 구현하는 셈.&lt;/p&gt;
&lt;p&gt;확실히 좋아진 것 같긴한데, 아직도 Semaphore로는 부족한게&lt;br&gt;
아직도 자꾸 몽총한 제가 관리하라고 떠넘기죠?&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;count&lt;/code&gt; 값도 그렇고.. 알아서 잠그고 들어가서 열쇠 놓고 가라고 하고..&lt;br&gt;
이러다 제가 실수로 열쇠 두고 가는 것을 깜빡하면 어쩌죠?&lt;br&gt;
변기칸을 잠그고 도망가버리는 어글리 코리안이 되기 십상입니다&lt;/p&gt;
&lt;p&gt;그래서 나온게&lt;/p&gt;
&lt;h1 id=&quot;monitors&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#monitors&quot; aria-label=&quot;monitors permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Monitors&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;Monitor&lt;/strong&gt;는 Program-Language Construct, 즉 동기화를 위한 어떤 라이브러리 함수나 패키지같은 것이라고 보면 되는데&lt;br&gt;
구조는 일단 아래와 같이 생겨먹습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 463px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2a8b224eaee2f17cae054ceb7f5685a6/71ce0/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 137.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEX0lEQVR42pVVx24jRxTk/3+AsbAN2IAP6wDtwQfvGlhLtgAxzTAMJ4l5OAxiFikGUVQoVzU1hLSWD9vAA4f9Xle/WJ3C166nR/zuVfFbycdqucBoNMRiuTyqU09PT3h8fHxTpEvE7Ol3v8eJE+BnAgYVB2dnZ/CD0IDJJvXVHj484JeSh3fnGQz7PTRbTcxm84PzvDC1uL5GqVSC6/kIwxCFYpE3Bmg0m1it11hvNtjv79But1Aql+G5Lor1Jux6A1vqpF+vVri5ucF2u0UqncnAsm0jZR4o5HOwczm4joNMNotsNoMiLykUCsYmjmMEBA09F1dXV+h2u0Z6vZ45n3I9D0uiD6ksVuv46Ib40wvxOazB8X3kCNjt9tBo1FGt1nB3d4f5fI7xZILd7S1W9G7NSLRa7fYBcECwNkM8d328u7Dw3UUeP1plWE7F3HrLg/1+n6HvMRj0ETH8qNPBaDzGhiHL691ux98uUh4B+4MBOtzs8dDZ32f46/SU4VmwGWqHB+/v75nDtjl0NRyiXq9R6phMp9TtzWXSKXTj4XA0QrVWQ5OHwmrVfNd4oMhiCVDVa7Za6Pa69HDA3A2NCCiKIrSo05JtqsIEz5gT3TyktNoRInorj6VT4u/vH4yxvNSeQlROPT/AhpUd0SGlxXgog2kCSIXyElMxv56bA1F08DCOOwQf0Mue8VJV7XRiXLPtkvzGbwGqQOHlpdnzWGUlWkvfjUbD5E6eCrBPkbfHkPn9X0D+Kn+T2cyAKAwVxbIsgjUQhJeYsGXUPirEAydHHpuQecGrHI4Z7vV0gsV8huViDp8h61YdUn6T8TryxPP3lNU+VjkBlHd1Jj5HD/KUUrMFhzpVUflRiFr61gUiAv1qHYsiD5O2aTE/n4tlfJMt4ttcCd/bFdgVF1mO5va5gopAh1V5halv7Ul3KFx8aOwelUp+sxPhw6dPOPnjI06zeeTylmmXL0PVdIgMkv1Ep2iOoyd26ZOOxCptVk1t4j73nJZhlc2aoW0NXY2fx07AmmcDmDT2lBXVHw13hRd4pDEvDDgpZZM75S2dTsNxyEaFoqn2jGdEEovFwkQhm1dFUUMbI1Z5xra4oWFAXpTxA9tGxiqCkq82epkGtdGrtlHP9box0mSb93YZv1JOyh6KrkevHBOaCvB/bTOZTAm4M7N+zKEoKe2H+CGdx08ZC+9FX2UHFQLqdk3Dko+RwtS4SfStPUWhRjchv6QvjdbF+T8oWHnYZGubLK1Z1hLAgq/cDQEEotzptUvAj0WRh8pfjRzXZtlrBNXI+SyM0pGMnjxU78U8pL0BCUH8KeZOODP+clIEbLylgYwDPo9JlQUSRW04lYp50Jpssyq5c7O9NflVng9VpsGcLr+kL4n25KmYRUvTkeRMsysQ/VeFkzmXbcrmSyZQVfOlqKn16pWeWVuisANeIr1vqC0205HoHb5BKYUjpnhLEorSe6tKy7sanwf1mzyWXqFKL5Htv/7HEdKA/tpnAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Monitor 구조&quot;
        title=&quot;&quot;
        src=&quot;/static/2a8b224eaee2f17cae054ceb7f5685a6/71ce0/image-4.png&quot;
        srcset=&quot;/static/2a8b224eaee2f17cae054ceb7f5685a6/c26ae/image-4.png 158w,
/static/2a8b224eaee2f17cae054ceb7f5685a6/6bdcf/image-4.png 315w,
/static/2a8b224eaee2f17cae054ceb7f5685a6/71ce0/image-4.png 463w&quot;
        sizes=&quot;(max-width: 463px) 100vw, 463px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;자세히는 이어 설명하겠지만&lt;br&gt;
해당 그림에서 &lt;em&gt;MONITOR&lt;/em&gt; 영역, 즉 하얀 색 영역은 그 자체로 Critical Section으로,&lt;br&gt;
사실상 하나의 &lt;em&gt;성역&lt;/em&gt;같은 것이라&lt;br&gt;
그 안에는 단 하나의 프로세스만 들어갈 수 있고&lt;br&gt;
그 안에 있는 지역 변수는 그 안에서만 접근 가능하며&lt;br&gt;
미리 정의된 Procedure(≈ function)로만 그 지역 변수를 읽고 쓸 수 있습니다&lt;/p&gt;
&lt;p&gt;좀 더 친숙하게는&lt;br&gt;
🚽 화장실 변기칸 같아서&lt;br&gt;
🚶 그 안에 사람은 한 명만 들어가서 문을 걸어잠그고&lt;br&gt;
🧻 그 안에 있는 휴지는 그 안에 들어간 사람만 쓸 수 있고&lt;br&gt;
💩 그 안에서 할 수 있는 일은..&lt;br&gt;
;;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/614753d3fd99ff7d1c5409285e722d3d/5a46d/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACoUlEQVR42hWO207TAABA+xVcFIOSGBM0chn3MYcbi1wGShiDgDDcxqCjK13XtevWtfTC2q67VhgMGBkZiAwQESUYfMDwYuILmhDjk1F/RHw7L+fkAEcnF3vHn5PZHR+TsNmmEA+kRPhMWsmmlVU1Viy+kcV4Q30zgYf39492d/fPPp2fnp4dfzg5fPsOyK1vbWweqEv5aCwLzkBzHndc5FbU2KoaXUnK3PwCQYTFSGwtV2BoTpISm4Xi7t4RTc1LogSkZWk1m9/a2D7YOmCIIAxdy3xWVVbT8nIyEgxQEIQSBCVHkzwfidAUCzv8s9M+BCWDYSDBkpnF7FZu+yD/OuzFZsGZ/9spaSUlqlHWjxEkSTPzEVlOUDTPE1AGH0uGIJrhMCwEiAS8GFeXoy9ziWXEjVz3Imw4rQhLcUFhSVN7m7ZBo2tuMLS3NtXWuEYHogFXJIyDbm8+vweEILvCMcebBSFAGUzdOE7SAVTmwskFWqDQLn2bsa3R0KrpM7Y3PKh+btbLuIPwTPFC/PuPP4BEzP38cnFe2Ji1jNjGbRiG+yAng8FiGGdJxNpj6DfpuvSt/Z06bZNm0voMd7+QReny6m/x8CPQWNfIEoFDgVUR2IvAzkkHAbsYn4vzg5TXZe0xPu181GfUjg6YW2ofTjtnLq9+f/32q7DzHoYxoKSs4s6typB9HEc90y7H+MhQEIUEEuEwkAAnevTang5dn0FvNT8xaZstAxZuIe0EA9Og1+8PASWl5TdvVAyaTbB7ymW3DfV3+SEnH/TxpJeA7Nr6mnuVt+uq748NDvR29U5MTPkDHCskfSgRVVJAWWm5oUUz3P140KQbNndazCYUnKRQiMag68rdqiqttkOSUolEJhRiZTm1lnt1DQwtZJbX/wGZki0jxYEStQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;변기&quot;
        title=&quot;&quot;
        src=&quot;/static/614753d3fd99ff7d1c5409285e722d3d/5a46d/image-5.png&quot;
        srcset=&quot;/static/614753d3fd99ff7d1c5409285e722d3d/c26ae/image-5.png 158w,
/static/614753d3fd99ff7d1c5409285e722d3d/5a46d/image-5.png 300w&quot;
        sizes=&quot;(max-width: 300px) 100vw, 300px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아무튼 예.. 그렇습니다&lt;br&gt;
아예 Scope를 분리해서 C.S로 만들어버리고, 접근은 정해진 함수로만 하는 의존성 역전 like한 발상&lt;br&gt;
좋은데요&lt;/p&gt;
&lt;p&gt;그래서 Monitor는 아래와 같은 구성요소들을 포함하는데&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;한 개 이상의 &lt;strong&gt;procedure&lt;/strong&gt; (≈ functino)&lt;/li&gt;
&lt;li&gt;모니터만의 &lt;strong&gt;지역 변수&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Condition 변수&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;초기화&lt;/strong&gt;를 위한 코드&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 &lt;strong&gt;Condition 변수&lt;/strong&gt;는 Semaphore와 되게 비슷한 친구인데&lt;br&gt;
얘도 큐를 가지고 있고, &lt;code class=&quot;language-text&quot;&gt;cwait(c), csignal(c)&lt;/code&gt; 함수를 가집니다&lt;br&gt;
Semaphore랑 다른 점은 Condition 변수는 &lt;strong&gt;값이 없다&lt;/strong&gt;라는 점인데&lt;br&gt;
따라서 &lt;code class=&quot;language-text&quot;&gt;cwait&lt;/code&gt;은 값이고 뭐고 블락시켜 큐에 집어넣고,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;csignal&lt;/code&gt;은 값이고 뭐고 해당하는 큐에서 하나 꺼내옵니다&lt;/p&gt;
&lt;p&gt;그리고 아까 Monitor 구조 그림에서 좌측 하단에 &lt;code class=&quot;language-text&quot;&gt;urgent queue&lt;/code&gt;라는게 있는데&lt;br&gt;
요거는 이제 어떤 procedure에서 중간에 &lt;code class=&quot;language-text&quot;&gt;csignal(c)&lt;/code&gt;가 실행되면 프로세스를 깨우게 되니까&lt;br&gt;
Monitor 내에는 단 하나의 프로세스만 존재한다는 철칙을 지키기 위해&lt;br&gt;
깨어난 프로세스를 위한 자리를 내주고 &lt;code class=&quot;language-text&quot;&gt;csignal(c)&lt;/code&gt;를 실행한 프로세스는 여기에서 잠시 숨는 곳입니다&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://entertain.daum.net/tv/948839/video/392827640&quot;&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnElEQVR42g3C+08ScQAA8Pvj2nLrZVmtZWlrWS1/qKlTN3U+yjJXPALi4XkonCIqlwqiwHF3HHAHB3iAeKeI31NOBc0H4GtT2/KzDzQ50tnRXKVRPWztqutqe2zSNXvntJRPTROqgF9J48owrkkxcJoxCdxwhkOEuFkSsOzKRJo3QXPooKqnYaC3uk35yQA3To11WYe6LXAP5das8UiOR8SYcZnRpSKK5civFcaYjcC5hFWMIwKnh4JuU8Q7HPNZ2EW1Z37QiX1lAj9pUkEuKkKLulTYKiXtuYQtHbKJnE1eHt1bsxVWR6XMMOtVQFHCkKBgPojEA0iMRBhcH8LVfFQXi6qBMMJx1tml2ZtTHJaKYELEsZme3xZcF4X5nYwDCi1oGUIbJtURUpcJWbIsmqQQ19SvGDVSlhcu9mkp6wRr7jzwHQCyIHj/5qiSzF4dJa5LSWiFRjMhBMTHi5npQ3HmUvYJ4bGO1sZvvS2dbR9cUyaQcJ4B8iznr2wQp8B/DnyX21Rp3bO37ILWwlbA2csSeVVauj5J/jtNmY0DiElvMRs1/Z0/elvfv63VKHsN2n6dssdmVnDENOMdr2yHz2UW2oo7ADd9mPWdbFGnm0QZ4B1NDfXPHrypf+IxKfs/vqq+d+v1y5q654/qa2tq7lfduV3V1d5yIAXO9jlog51IeoyAndhLO4vp2e2EA1a0v3txt6nhqelLk03bPQkP2Ayf3Ta1H9MH5oxjv/tcqEoMomJwDNrl/xR5bD81U0xiIGzl3frk4pBIjGRws0ijuzwmsePrtLWw5DgSnEV+WmJQwKCbUftqwAKVZeoYeE7yZCVPHANvWQ4c3cwTJZk6LTKVHXp/3Xu4ge+mZiXWvuJDCHTQCffh6PfgpPI/U+fTXXZ4RsgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;혼자있고싶어요&quot;
        title=&quot;&quot;
        src=&quot;/static/584a6e97fc49d9418a635965cabba648/f058b/image-7.png&quot;
        srcset=&quot;/static/584a6e97fc49d9418a635965cabba648/c26ae/image-7.png 158w,
/static/584a6e97fc49d9418a635965cabba648/6bdcf/image-7.png 315w,
/static/584a6e97fc49d9418a635965cabba648/f058b/image-7.png 630w,
/static/584a6e97fc49d9418a635965cabba648/40601/image-7.png 945w,
/static/584a6e97fc49d9418a635965cabba648/78612/image-7.png 1260w,
/static/584a6e97fc49d9418a635965cabba648/21b4d/image-7.png 1280w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;이제 이 OS에서 제공하는 Semaphore나 Monitor라는 툴을 써서&lt;br&gt;
다른 새로운 문제들을 기깔나게 해결하는 방법을 알아보려고 하는데&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 308px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e9bdf6269bd7c3cf690f67cc78e6de30/2ece4/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.16455696202532%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AGBka1lYXFBQU0FARkpJT0xLUU1OVFI4NUApKSklKquAbuWwm7OShjsyNR8eJRoZHhEQFj88Q0A9QhgYHgBBQkhPTlNKSU8xMTU2Njo7OkAyMzl5ZGJSQUZaRUHlqJPlqZbGlINPPzwUFh0cGSAKDBBJOk5vXHBRUlYAHyAmIyEnHx4lGRgeJSQqFhUcCQgOgH2EcW56j2de3qOQzZWFq3xySTM0GBceGhkeEhEWGRgic4uYm5icACckKisrMCMhKCgnKykoLhIRFxsZHxMUHRAOFbiFeN6ejMiNf7mEd25QTzMvNxAQFxUUGhwaH0tUXHmFjABHMi4lJy0nJiovLzMlJCoREBYZGB5TRkUsKCx0XFiTXlqEVVZ3UEZ/b3Z9f40NDBIkIyooJy4yMjo/SFEAQCwnJigvKikuLi0yHh0jDQ4VUEA+4qeSgWNmTEhUl2RghE1OXEE9QDtMnJutLCwyJyQrQDk+LSkvZl5nACwmLR0cIispLiopLxcVGxMVHG9YUrB8cDkrOJaXo8++v4hta6GZoTEvQl5ac0hHWT8yN3VdXVZBQsK2ugBPXHdibo04OkYWFRpEQkdTVFltXmCAXlkyL0azsbvGwMnKx8+ZlqQzMElPTGpMSGZRTV5KS1BjYGnz6+gAUmaScIm6WmqPGhomcG9wkpSZh3h8gmtqQUJSd3V8s6+1m5ifXFpsWFdsTkxgPDpUNjREGhgfqqWq//rzAFBhj0tdiEBSejQ5TFJRUWpqbXZ1e25ubn9/f4uLi4aGhZKQk4mIln6AgnJyeT07VSMhMk9OV/ju6v3n4ABHWYg7SWs+TnEgJTYnJShNTFo/P1RAPk41Mz88OkhmZXJiYG5WVHFLSmBUUmI3NUxoZHHy7u//9/X14N0miuFngl7TNQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;지루해&quot;
        title=&quot;&quot;
        src=&quot;/static/e9bdf6269bd7c3cf690f67cc78e6de30/2ece4/image-8.png&quot;
        srcset=&quot;/static/e9bdf6269bd7c3cf690f67cc78e6de30/c26ae/image-8.png 158w,
/static/e9bdf6269bd7c3cf690f67cc78e6de30/2ece4/image-8.png 308w&quot;
        sizes=&quot;(max-width: 308px) 100vw, 308px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이쯤되면 그거까지 고봉밥으로 담기에는 양이 많아지는 것 같으니&lt;br&gt;
다음 포스팅에 쓰겠습니다?&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🙋 선착순 한 명 Critical Section!! : Mutual Exclusion Hardware Approach]]></title><description><![CDATA[저번 포스팅에서 Software 로직으로 Mutual Exclusion을 지키는 방법을 살펴봤습니다 Dekker 선생님이나 Peterson…]]></description><link>https://sungpaks.github.io/mutual-exclusion-hardware-approach/</link><guid isPermaLink="false">https://sungpaks.github.io/mutual-exclusion-hardware-approach/</guid><pubDate>Sat, 20 Apr 2024 17:25:07 GMT</pubDate><content:encoded>&lt;p&gt;저번 포스팅에서 Software 로직으로 Mutual Exclusion을 지키는 방법을 살펴봤습니다&lt;br&gt;
Dekker 선생님이나 Peterson 선생님께서 빈틈없는 알고리즘을 만들어 주셨지만&lt;br&gt;
여전히 문제가 존재했습니다..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;같은 반복문을 이용하여 가짜로 기다리기 때문에 busy-waiting 문제가 있고&lt;/li&gt;
&lt;li&gt;프로세스가 세 개, 열 개, ... 이렇게 많아지면 이걸 다 막기 너무 복잡해지고&lt;/li&gt;
&lt;li&gt;결국 닝겐의 손으로 매번 코드를 짜야하기 때문에 구멍이 날 수 있고&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;대충 이런 단점들이 있었는데요&lt;br&gt;
그래서, Mutual Exclusion을 위한 &lt;strong&gt;Hardware Instruction&lt;/strong&gt;을 미리 정의해두고 사용한다는 발상이 나왔습니다&lt;br&gt;
이렇게 하면 매우 간단히, 진짜 한 줄 정도로 Mutual Exclusion을 보장할 수 있고,&lt;br&gt;
프로세스가 여럿 존재해도 끄떡없이 막아낼 수 있습니다.&lt;/p&gt;
&lt;p&gt;그래서 어떻게 하는 것인지 이제부터 알아볼건데, 주의할 점은&lt;br&gt;
아래에서 설명할 instruction에 대한 코드는 실제로 어떤 함수같은 코드가 아니라,&lt;br&gt;
&lt;em&gt;이렇게 동작한다는 것을 나타내기 위한 것&lt;/em&gt;일 뿐입니다.&lt;br&gt;
미리 정의되어 있는, 하나의 &lt;strong&gt;atomic한 과정&lt;/strong&gt;이며,&lt;br&gt;
즉 중간에 interrupt를 받아 중단되거나 하지 않습니다.&lt;br&gt;
또한 어떤 메모리를 참조할 때도, 해당 메모리를 블락시킨 채로 접근하기 때문에,&lt;br&gt;
&lt;strong&gt;hardware instruction은 진짜진짜 독립적&lt;/strong&gt;입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 251px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c0342ca4f8efb9178020b5fe75dcc62a/26abe/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 80.37974683544303%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAADt0lEQVR42hXR6U/bBhjHcb+lpeEIcRwndhzfdhJfJD4S5+LICVaAUUgZjZA6oOMcZVC2MlUqRVUnaKEp0HLsoq0QTCqatL2YKm2aNK3d2Nap68tJnfZi+y8WpM/b74vn9wAREYoIUFRytWjehOIN8y6BBgOUg8cdCNzkgkGGxlI6PWhpuWhQZd0JEY8FfNEgGvNjQG/adT7j6sue6s+6Snn3QMF90YIHOxDS28j4XAWTO7hVXp3KlzuD+RiUiUL5uCtjQq26E6h11tQ6as45aurAM/WgzeFy1Dad1ZWGqAw5oHMLZbNyJff4RmllIpeNE4Lf1ptxy2KdKjdpihOwM3Y702inG06RdgcJ2rw2SYO1pH9kZqQy3/PJta6dq8WVsTQreeq8tngCqXHbzsL1Z6BGwC87eQlkJQcrOkjJ7lPdfAvL50JMtnn25rW1pelbo/G7U/m+gg7zkDfQ5Ak0evyNHq7Bw9UDhuCsrqWKrlAQ0mKMYmli0agiM3JxdGD93u2lyY4Ppsuz1xfZhBw2GdXvCPNNIc4eYu2AL2m4VNwdoWGdoLPNUldE6VQDnSqZllIDuc8P9h9s319ZXyteepuKC0JGZU0/2oxhIRyTvQCba0WiBJrgOINIJwLZGN+vkYplMPmQUoze39uslhvbD8zz7bjJcymZSUmoQSMGjRokQLTFkagPjNKKhM2QzivF4BAPdRRV1or4C+HFlaXVyr2tvR1rpEQkg2xKJk0e1alTGg6QLRFYxwNZrrdf/CjPfHO3/dvtzsmFpDclE23SxMLo9u7Go6PDnncHyJYgZQZwnUV1EjEIpBqjGgsblJzlDz7uPtmfev31wh9fzT69PbRTuTg/2zo+nF69s/jk8LA0ViYSQSLCowqO6gQaIT2aD4gnwmCYKI3qPz4af757/ef9mRd70893R//7ZaFyZzLek3346e7mzqY12O01OExnPZLPLaCIXo1x4IKVAZux9Ur+5PHID5WJP4/feXU8/uansX9eDk9M5dhUaGtva31jLd2R8hksrnOQz0koFJ0U4DAG9HS01olIe5948uXgq6P3fv3i8ovPLr/5fuLld9207qUSwvuLcx8uXtUNoXqwRyRAzEmafr5N9rfJgBsBEZ0JtnDPnnb99dvA378P/fv60rMja/lm21vDcaq1OVkwL5StdDGJaSwapj0KASsYqpLxjAlokbBTwJPd8vysEc2RvWVl6UYs1iVwOV2wzEBBnVseeXK8Orc8jqqUN0x5dKr6ZEhEOT/1P9EsCnNMM32pAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;건드리지마&quot;
        title=&quot;&quot;
        src=&quot;/static/c0342ca4f8efb9178020b5fe75dcc62a/26abe/image.png&quot;
        srcset=&quot;/static/c0342ca4f8efb9178020b5fe75dcc62a/c26ae/image.png 158w,
/static/c0342ca4f8efb9178020b5fe75dcc62a/26abe/image.png 251w&quot;
        sizes=&quot;(max-width: 251px) 100vw, 251px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아무튼 시작합시다.&lt;br&gt;
Instruction이 두 가지 나옵니다.&lt;/p&gt;
&lt;h1 id=&quot;1-compare--swap-instruction&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-compare--swap-instruction&quot; aria-label=&quot;1 compare  swap instruction permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. Compare &amp;#x26; Swap Instruction&lt;/h1&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;compare_and_swap&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;word&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; testval&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; newval&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; oldval&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	oldval &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;word&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldval &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; testval&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;word &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newval&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; oldval&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;첫 번째 Instruction은 위와 같이 생겨먹었는데,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;word&lt;/code&gt;의 값이 &lt;code class=&quot;language-text&quot;&gt;testval&lt;/code&gt;와 같아야 &lt;code class=&quot;language-text&quot;&gt;newval&lt;/code&gt;로 값을 바꾸고, 이전의 &lt;code class=&quot;language-text&quot;&gt;word&lt;/code&gt;값을 반환합니다.&lt;br&gt;
당장 이것만 봐서는 어떻게 써먹는지 잘 모르겠으니, 실제로 어떻게 사용하여 Mutual Exclusion을 구현하는지 봅시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; bolt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//i번째 프로세스의 작업&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ture&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;compare_and_swap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;bolt&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;/* do nothing */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* Critical Section */&lt;/span&gt;
		bolt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/* remainder */&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	bolt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;parbegin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;값이 0이면, &lt;code class=&quot;language-text&quot;&gt;compare_and_swap&lt;/code&gt;은 bolt값을 1로 바꾸고 0을 반환합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;값이 1이면, &lt;code class=&quot;language-text&quot;&gt;compare_and_swap&lt;/code&gt;은 1이 반환됩니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 &lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;값은 사실상 C.S가 잠겨있는지 여부입니다.&lt;br&gt;
n개의 프로세스가 아무리 한꺼번에 &lt;code class=&quot;language-text&quot;&gt;compare_and_swap&lt;/code&gt;으로 도달하더라도,&lt;br&gt;
해당 instruction은 atomic하므로 단 하나의 프로세스만이 &lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;값을 1로 바꾸고 0의 반환값을 얻는 데 성공합니다.&lt;br&gt;
그럼 나머지 프로세스들은 &lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;값이 이미 1이므로 계속 기다릴 뿐입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 296px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/51e90ecf8acd898070640e35bc368757/b1a44/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 57.59493670886076%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtklEQVR42o2Ryy8DURSH53+SsBK7Lj0iuiISCQsJEWIhSCU2hHRBMfpSgpRoqGLa0cn0RSqYms5MDfqYjnm0RltVUnauetSmjeTLLyc3+U7OuQeqrVM1qJpVTWpVs3rGiq2dxMx4xOyOGFD6m+OKQL3t2k37qSCLt9G4lFaivMBLcjguGFHShNLVgbZOk94bJfdalDN5EciJ5L0ohaK8znG+4Lg0uCgjSlcCauzqb+0ZaukZ7BgY1x8Rqzi7gjGmY8bgpD7N6vJoX/+MbnnbtqOZsywdhowoAxyDi67ilOXdw5CfTb+/Fw8IbgGh/uOU5XmE2gvecpJM3iVCMcGCg1cw9v9kM3bnjaReCoVsJpvLP624iUUHoXeSJjcNWnxRUR6eNQ9OLY5p9aPaZdhxArso3QGxdHQFI2HYScHIJ5X+HKqvaevsHpqYmh7RTG4gPj8r4yTnCSdBYiSHh3lQr3vZ0i7M7yxfQFoYQy/ib8WC8pDOZZRcVpHF+8eHFMi0LEoC//KctQeZuf0LsEvpEGUg61nMFoz6mKSX4vwMH4jwIP2MEPipA9eC1Xdtcl2tYvS6h/3LB8CsDF4DHASxAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;선착순!!&quot;
        title=&quot;&quot;
        src=&quot;/static/51e90ecf8acd898070640e35bc368757/b1a44/image-1.png&quot;
        srcset=&quot;/static/51e90ecf8acd898070640e35bc368757/c26ae/image-1.png 158w,
/static/51e90ecf8acd898070640e35bc368757/b1a44/image-1.png 296w&quot;
        sizes=&quot;(max-width: 296px) 100vw, 296px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;선착순 1명만 반환값 0을 받아서 C.S로 들어가겠네요&lt;br&gt;
당연히 끝나고 나면, &lt;code class=&quot;language-text&quot;&gt;bolt = 0&lt;/code&gt;으로 또 선착순 1명을 받도록 해줍니다.&lt;br&gt;
화장실 변기 칸 쓰고 다시 나올려면 잠갔던 문을 다시 열어야겠죠..&lt;br&gt;
나가면서 잠그고 나가는 사람은 아주 정신이 이상한 사람임에 논란의 여지가 없어보입니다.&lt;/p&gt;
&lt;h1 id=&quot;2-exchange-instruction&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-exchange-instruction&quot; aria-label=&quot;2 exchange instruction permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. Exchange Instruction&lt;/h1&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exchange&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; memory&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; temp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	temp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;memory&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;memory &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;register&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;두 번째 Instruction은 너무 친근하게 생겨먹었습니다&lt;br&gt;
코딩 처음 배울 때 이런거 자주 하셨죠?&lt;/p&gt;
&lt;iframe width=&quot;50%&quot; src=&quot;https://www.youtube.com/embed/vpQUw8MQ3c4?si=7H7YgNLTojpf00-k&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share&quot; referrerpolicy=&quot;strict-origin-when-cross-origin&quot; allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;span style=&quot;font-size:70%&quot;&gt;from. 유튜브 채널 [유준호]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;del&gt;&lt;strong&gt;&lt;em&gt;나랑 차 바꾸자!!!&lt;/em&gt;&lt;/strong&gt;&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;아.. 그리고 쓰는건&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; bolt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; keyi &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exchange&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;keyi&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;bolt&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keyi &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;/* critical section */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	bolt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;/* remainder */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	bolt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;parbegin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;C.S에 들어가려는 프로세스들은 각자의 &lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt;를 가집니다. 잠긴 방 문을 열기 위한 키라고 생각합시다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;do-while&lt;/code&gt;로 프로세스들은 &lt;code class=&quot;language-text&quot;&gt;exchange&lt;/code&gt;를 계----속 시도하며 &lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;keyi&lt;/code&gt;값을 교체합니다.&lt;/li&gt;
&lt;li&gt;단 하나의 프로세스만이 &lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;값이 0일 때 &lt;code class=&quot;language-text&quot;&gt;exchange&lt;/code&gt;에 성공하고, &lt;code class=&quot;language-text&quot;&gt;keyi&lt;/code&gt;가 1이 아닌 0이 되어 C.S에 진입합니다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;잠긴 방 문을 열기 위해 모든 프로세스가 자물쇠 키인 &lt;code class=&quot;language-text&quot;&gt;keyi&lt;/code&gt;를 가지고 있지만, 이 값이 1이면 키가 가짜 키입니다 ㅜㅜ&lt;br&gt;
여러 프로세스들이 이 가짜 키를 진짜 키로 바꾸기 위해 &lt;code class=&quot;language-text&quot;&gt;bolt&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;keyi&lt;/code&gt;를 바꿔먹지만,&lt;br&gt;
단 하나의 프로세스만이 &lt;code class=&quot;language-text&quot;&gt;bolt==0&lt;/code&gt;일 때 키를 바꾸는데 성공하여 C.S로 진입합니다.&lt;br&gt;
그럼 프로세스가 C.S를 빠져나오기 전까지는 모든 프로세스가 본인의 열쇠를 진짜 열쇠로 바꿀 수 없고,&lt;br&gt;
C.S를 빠져나온 프로세스가 진짜 열쇠를 두고 가면(&lt;code class=&quot;language-text&quot;&gt;bolt=0&lt;/code&gt;) 다시 또 선착순으로 진짜 열쇠를 누군가 얻게 됩니다.&lt;/p&gt;
&lt;h1 id=&quot;장점과-단점&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%A5%EC%A0%90%EA%B3%BC-%EB%8B%A8%EC%A0%90&quot; aria-label=&quot;장점과 단점 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;장점과 단점&lt;/h1&gt;
&lt;p&gt;Hardware Instruction을 통해 Mutual Exclusion을 구현하는 두 가지 방법을 알아보았습니다\&lt;/p&gt;
&lt;p&gt;Software Approach로 구현할 때와 비교해보면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;process가 많아도 간단히 적용할 수 있다&lt;/li&gt;
&lt;li&gt;C.S가 여러번 반복되어도 여전히 강력하다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;라는 장점이 존재합니다&lt;br&gt;
그러나..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;여전히 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;과 같이 가짜로 기다리기 때문에, &lt;em&gt;busy-waiting&lt;/em&gt;문제가 여전히 존재한다&lt;/li&gt;
&lt;li&gt;starvation을 막을 방법이 없다..
&lt;ul&gt;
&lt;li&gt;어떤 프로세스가 C.S를 빠져나와 다시 줄을 서고는, 대기중인 프로세스를 제끼고 또 C.S에 들어가버릴 수 있다는 뜻&lt;/li&gt;
&lt;li&gt;{&lt;code class=&quot;language-text&quot;&gt;bolt=0&lt;/code&gt; --&gt; non-CS구간 지나서 --&gt; 다시 C.S 직전의 hardware instruction 실행 --&gt; 바로 C.S로 재진입 성공}과 같은 과정을 timeout 되기 전에 반복해버릴 수 있습니다
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8850ac30bef064408dd481da7b34e476/8c557/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.9620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9AB4aFhwZFh8XFCAVEBMODIBZQZltT31aQ555Y7GNeYVrXY5yZNXFt9m/qrKIbzstJRIMCiUYExkTEBkUEQAjHhsdGhk6KSCKXkh1Tz2FZ1V4XkydfGq7jntJNSltTD1POC1SQTeGbl6wk36JZFCGW0ZiQjMeGRciHRoAPC0lRzEmcEg1yo9zq3JZlGRJw5mE0p6Gbj8lXj0uy45yp3ReeU87hl1HeFpGlWFHyY9znGlQSjElRjIoAItbR7l3W6BrUcKJb7R7Yb1/ZO65obp1R5BNHpFdQMuMcb5+Y7t6T61zVKt0W61yVsWOc6x0W6huVbl3XACFUj7AfmKweV66gmbDim6IVUB5UT94VEFZOitFLyZdOyxgPS5aOilLNy+EUkCzeV/DjHCveV26fWOxblUAomlQwIJlo21Rr3tduINlnV9FRCwcFRIWLicrOTA0IhsbHBYTGhkdLSIhkFY8rXNYu4ZpoGxPtXldvH5hALx/Ybl+YaRrTZFfQ4tgR65vSahrQjAhGSskJjUqKzctLiwlJk09OpJVLbBnOo1dQ45fRJhjRrN4Wr2DZACvdVnCg2GnbEyAUDVHLiA/KRxYNyRTOSkhHB8uJScuJicxJys0JiezaDiiYzhbPy1uRi+WX0C7fly9gF8AOS0thlxJj1o+dVRBTTouNikhUj0vPzEpGxgaJx8hKiEkIhweKiEiXjkjUDUkZUg1YEY3gllDmmZMVT43AB4aHyQeIikeH0YtIItkTVhEOV5STltUU0dDR05KTTs4O1dUV01JTF1ZWUI4NG9RQHFURTAkIiohIx0aHwAoISUhGx8cGSAjFxRULRVfPiuHaFVOQTsfHB8jHyAoIyUpJSc8MzR4XlB4WUhuSzk/KB4WFBkgHCAlHiF6V9vLhEp5TgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;무한으로 즐겨요&quot;
        title=&quot;&quot;
        src=&quot;/static/8850ac30bef064408dd481da7b34e476/f058b/image-4.png&quot;
        srcset=&quot;/static/8850ac30bef064408dd481da7b34e476/c26ae/image-4.png 158w,
/static/8850ac30bef064408dd481da7b34e476/6bdcf/image-4.png 315w,
/static/8850ac30bef064408dd481da7b34e476/f058b/image-4.png 630w,
/static/8850ac30bef064408dd481da7b34e476/8c557/image-4.png 700w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span style=&quot;font-size:70%&quot;&gt;from. 명륜진사갈비&lt;/span&gt;&lt;br&gt;
무한으로 즐겨요~&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;와 같은 단점이 존재합니다.
또한 deadlock 발생 가능성이 존재하지만,&lt;br&gt;
이건 C.S를 다중으로 구현하여 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;(또는 &lt;code class=&quot;language-text&quot;&gt;do-while&lt;/code&gt;)문을 여러 개 쓰게 되면 발생하는 문제라서&lt;br&gt;
hardware instruction 방법 자체의 문제라기에는 좀 .. 애매하네요&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
이런 노력에도 불구하고 문제를 완전히 해결할 수는 없었네요..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 564px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/37a2bc9380036d77b48295e8724ae5f5/ba4d9/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 148.7341772151899%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAIAAACjcKk8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGwUlEQVR42h1V+VMUdx7t/2Wr1piNMn1+++6e7unpuRnmYGbkWoZBQIHIJQyBcARBFAmgktItoxIjKiCKDIRTkbgqYFCReLDRlJVEtJIVElQEQm9nq94Pn19e1ft86r33gTK8ikcVBIGiRQJIoPhI61dzD4/emA4U5FIiIHgMYxCCwhCAGHAEARhGYBiOsjQhChQU8SrJLklVWILcWna0ZXJDu76hDS78kFtTxls5jMFRBsVoFAZoHI7CBIYQGIpjDI1bzSyUHVCzE83eeMkqxbW0f3b85sVPTxxoL02urizw50ZECyAloEvAQByMG2ACRQAB4yjN4GaZggrCrtxkWyBBllWq9HC0rS8rv9EVLbHG5u6XdXSk5IiyncNoDBNcCBOPkDRBARQQHAcUiYGKM71ZiWr0E1/dqfKi9oLjfbkdI1VnJz4fXHrfeOVcQogBkkqqtax3/KOUN9vje0hGEDhaFBhFZqGKvMQMr7m4xFte7csqSR271fXtbGz4+ZMvHz3Pr9/FqQRjyczx7Sp02iz+U/H5pSYHJ/CULLK8frCaMn/QIdutzMEDSalpjuiR6ks/3PvXw2f+gkhCkkypnD9kqe3aU348mOGTUiMmW3APxwVcFpbjGaholyfkUkJJalW11+MTU+squ1+/71x8k31wP24WMJEtbG0oHy6pvZYdPZm508kzVIzhSxKsQBR5KBxyZKW6ErzGoobio9cn+pbe9b7Wsfb1L7/vG7tSdaatrLM0OrCzuCO9tDOz8GOPiagXZa8iApqloUSfKeTms8s/Hl55O7K6HltevfTb266XK92/rcSW58ZX5upHTjT31jQ2FbcerQw7VAtPmxXaKDCiSENJXmNeXlrv8+ffatrYu41Lvy73vX7bu7jcs7jU/WqpZ/G/PYsrh86fzi8I844kXjJ5vEaLmVUkzmUVofwMxxeDfdOaNv527fqa1rP469Cqdmx0ou6rs0cGBmvbv9j/dWfT0DVUsn9IJ8ZxQVrxm8yK08p57RJU0VCu0669eT/2x+rVNa11fPLyq+WWwZFoc0vlseNN57r2Hmqx7cjZyvj/oQOkfAAyPiTDgsmS5legi/Pf39W06Y0/b29s3tS0thOnLj96OqQrf/rzhYVn/T+93N14jLNlSu4cxprJWgtER4noKBccZeG0ZOju44fTDx7MzOuY14fJyYnb392Zefz4/1i493Rh4tat/qGR2DfDo+Pj41evxwb0ebR/cHzwm2GIYxCcMgAG5jhM4jGjzJjMDMURBAMQCnOoICOgMiwBKNQkkTaFNfGAIuJQ5CME2w4BUmeiJI/ZTKRH5c1mYLbRRguH8UQcMAR8xsJIvCJzgNKTCFMkLPOkXWJYgMDwNghQMAYMOAk7bWzAI5fXR09fu9p9b659aPSfZXvtNjI/05noUSn6LzJJIjKHqRxhN1IoFgcRJMwAg1OkRIX0pdgP9XZ3P3k2u7E5v7k5r2mHLnZb3IJgpIAeRIBiuMFjZ3enx5tECscNEIIbUt3GDJdJsIh7o8WyQmOJltxPq4Z+fPXl7MLJWw8KSrMFicQInQkTOOwyk0214cx0N4HB+s5ITrJNNTLmBMfU0vLBygqPSKWZVGvr1LbaQS5cV5gXTk2ziwqbHrYX5XvCQWvAKmQkORy6wxQeSByJEgar3zWraV1d5zM9GUL1+Q+a7/+t7ZnxwFB43+c2C2nzSOGwvarcd7J9d21RKC/FuTsjAXLKjH5JvaJEm3Hwl5fH6j7jivu3xDR14A9r14u4M0uW+nO0RBtwFCdQl5OuKQkW5yS07c8OulWIplCKRhmR5MTth0divT0Xmbw+96TWd3t0fOpK9eh9uaHD55VojiQAFkiSosUhu43b1xAxGRl9Z1QxM4JMK1ZSDXpO37hTVtV0Yax3fqFv9uGV6uZKPuSKRoOCkdFdkR62WlTeFS/sjLj/KkBA4aJMckaKFCiC+Tuu1Fn8U/7IcPXJp9Hms7hAbyeBy29meJKgEEkiEQRmaDjRbRIZAAGW4CXSgMcBHpitAYwbiKNebjO92urRtlhnaNnijudxikRpQv8bMGLQG9tpE1WRFlgSQgBMmYx5bQcTCmNbyBeY9DtqXIKldwbfpiFJgxNf7NhzypMWEE0sQVMIirldYmNNxCbzNIVD1qTgue8XdDP1/7Qe2v/GkLJO+H+UPefF4LQcuIzFT0QqLu1rP5waSdMtRjNkVrojP+LVRVMkBl2Ym3+kaTPv1u+u/zn1fu3Mo9XKCz/vqLhKpzwxZ99ois103rxx9t93euf/4wuHBQFLDqgmI0sCgiKJ/wE3swTwcDDvrgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;역시 형이야&quot;
        title=&quot;&quot;
        src=&quot;/static/37a2bc9380036d77b48295e8724ae5f5/ba4d9/image-3.png&quot;
        srcset=&quot;/static/37a2bc9380036d77b48295e8724ae5f5/c26ae/image-3.png 158w,
/static/37a2bc9380036d77b48295e8724ae5f5/6bdcf/image-3.png 315w,
/static/37a2bc9380036d77b48295e8724ae5f5/ba4d9/image-3.png 564w&quot;
        sizes=&quot;(max-width: 564px) 100vw, 564px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;결국 우리의 친구 OS가 도와줘야겠습니다..&lt;br&gt;
OS는 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;로 가짜로 기다린다거나 그러지 않습니다.&lt;br&gt;
&lt;em&gt;그냥 블락시켜버리면 그만이야~&lt;/em&gt; 거든요&lt;br&gt;
다음 포스팅에서는 OS가 제공하는 툴로 Mutual Exclusion을 구현하는 방법에 대해 알아보겠습니더&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🤼 코드 몇 줄로 Critical Section에 혼자 진입하기 : Mutual Exclusion Software Approach]]></title><description><![CDATA[…]]></description><link>https://sungpaks.github.io/mutual-exclusion-software-approach/</link><guid isPermaLink="false">https://sungpaks.github.io/mutual-exclusion-software-approach/</guid><pubDate>Sat, 13 Apr 2024 13:39:15 GMT</pubDate><content:encoded>&lt;p&gt;옛날에는 프로그램이 오도기합짜세해병이라서&lt;br&gt;
악! 한번 시작한 프로그램은 영원한 프로그램! 이었으므로 이게 끝나기 전에는 다른 무언가를 할 수 없었습니다&lt;/p&gt;
&lt;p&gt;이후로 어쩌구 저쩌구.. 역사를 거쳐서&lt;br&gt;
프로그램을 중단시켰다가 다시 실행시키는 방법이 나왔습니다&lt;br&gt;
덕분에 프로그램을 &lt;strong&gt;번갈아&lt;/strong&gt; 실행할 수 있게 된건데&lt;br&gt;
말이 번갈아서 실행하는거지 매우 빠르게 갈아끼우면 사람으로서는 동시에 실행된다고 느끼게 됩니다&lt;br&gt;
마치 이미지를 주르륵 갈아끼우면 동영상이 되듯이요&lt;br&gt;
이렇듯 여러 개의 프로그램들을 프로세스라는 단위로 나눈 다음, 줄 세워서 실행하게 되었습니다..&lt;/p&gt;
&lt;p&gt;게다가 이것으로도 모자라서, CPU를 여러 개 둠으로써 프로세스를 &lt;strong&gt;진짜 동시에&lt;/strong&gt;실행할 수 있게 되었습니다&lt;br&gt;
그리고 프로세스 안에 일꾼(=스레드)을 여럿 두기도 하게 되었고..&lt;br&gt;
아무튼 거두절미하고, 이런 이야기는 나중에 또 쓰기로 하고&lt;/p&gt;
&lt;p&gt;그렇게 일을 동시에들 하니까 또 문제가 생깁니다&lt;/p&gt;
&lt;h1 id=&quot;동시성-문제&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8F%99%EC%8B%9C%EC%84%B1-%EB%AC%B8%EC%A0%9C&quot; aria-label=&quot;동시성 문제 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;동시성 문제&lt;/h1&gt;
&lt;p&gt;무슨 문제가 발생하나 봅시다&lt;br&gt;
잔고 0원인 제 통장에 A가 만원, B가 5만원을 입금하려고 하는데&lt;br&gt;
제 잔고를 확인 --&gt; 잔고 + 만원.&lt;br&gt;
이렇게 하는 과정을 동시에 한다고 치면..&lt;/p&gt;
&lt;p&gt;A | 잔고 확인 : 잔고 = 0&lt;div style=&quot;text-align: right&quot;&gt;잔고 확인 : 잔고 = 0 | B&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;A | 잔고 = 잔고(=0) + 10,000 ==&gt; 잔고 = 10,000&lt;div style=&quot;text-align: right&quot;&gt;잔고 = 잔고(=0) + 50,000 ==&gt; 잔고 = 50,000 | B&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;결과적으로 잔고가 50,000이 되었습니다?? &lt;del&gt;뭐야 돌려줘요&lt;/del&gt;&lt;br&gt;
게다가 이건 매우 운이 좋은 케이스인데,&lt;br&gt;
위와 반대로 B의 순서가 A보다 앞섰다면 만원과 오만원을 넣었는데 잔고가 만원이 되어버릴 수도 있습니다..&lt;/p&gt;
&lt;p&gt;이렇게 어떤 공유 데이터를 둘 이상의 프로세스가 읽고 쓰는 작업을 하는데,&lt;br&gt;
그 순서에 따라 결과가 달라지는 경우를 &lt;strong&gt;Race Condition&lt;/strong&gt;이라고 하고, &lt;br&gt;
이게 발생하는 부분을 &lt;strong&gt;Critical Section&lt;/strong&gt;(이하 C.S)이라고 부릅니다.&lt;/p&gt;
&lt;p&gt;흠.. 어떻게 해결할까요?&lt;br&gt;
A와 B가 (잔고 읽고, 잔고=잔고+금액)을 한 번에 한 명씩만 하면 되겠죠?&lt;br&gt;
이렇게 한 번에 한 놈만 Critical Section에 들어오라고 하는 것을 &lt;strong&gt;&lt;em&gt;Mutual Exclusion&lt;/em&gt;&lt;/strong&gt;(상호 배제)이라고 합니다.&lt;/p&gt;
&lt;p&gt;이 상호 배제는&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;소프트웨어로 구현하거나,&lt;/li&gt;
&lt;li&gt;따로 하드웨어 수준의 instruction으로 구현해버리거나,&lt;/li&gt;
&lt;li&gt;OS의 동기화 툴을 이용하거나,&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 크게 세 가지 방법이 있습니다&lt;/p&gt;
&lt;p&gt;지금 알아볼 것은 소프트웨어 알고리즘을 잘 작성해서 적당히 Mutual Exclusion을 구현하는 방법인데요&lt;br&gt;
단순한 발상부터 시작해서 총 6개 방법을 알아봅니다&lt;/p&gt;
&lt;h1 id=&quot;1-공유-변수-turn-사용&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-turn-%EC%82%AC%EC%9A%A9&quot; aria-label=&quot;1 공유 변수 turn 사용 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. 공유 변수 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt; 사용&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6e017a5ef7621475beefa7fc527c3d18/d0e73/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.645569620253163%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA0ElEQVR42nWRxwrDQAxE9/9/z2Dc8MUFF9wbrhNGoLBJyGFYWfuklcYmTVM4joMwDOG6Lvh93zeO48B5niLGzNV1LYzv+/A8D0VR/LBm33dQTPJkkpDquq6Pxqp/rBnHEX3fg+c0TRIPw4Cu69C2LdZ1lULC8zyjaRrhGJMjr+yyLDBZliEIAkRRJCvxoixL5HkuYqFOUlWVrBvHscRsxrXZg+JDhhdJkkihPb69hnrIx+gxp2Remed5RLIyx9y27W2s7ZNtNmGuT1Y9/+b5U15TzM2wZhyvbQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;#1&quot;
        title=&quot;&quot;
        src=&quot;/static/6e017a5ef7621475beefa7fc527c3d18/f058b/image-1.png&quot;
        srcset=&quot;/static/6e017a5ef7621475beefa7fc527c3d18/c26ae/image-1.png 158w,
/static/6e017a5ef7621475beefa7fc527c3d18/6bdcf/image-1.png 315w,
/static/6e017a5ef7621475beefa7fc527c3d18/f058b/image-1.png 630w,
/static/6e017a5ef7621475beefa7fc527c3d18/d0e73/image-1.png 671w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;마치 카드게임을 하듯이 턴을 정하는 방법입니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;공유 변수인 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;을 두고, &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;값이 0이면 P0가, 1이면 P1가 C.S로 진입합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;이 상대 차례이면 기다립니다.&lt;/li&gt;
&lt;li&gt;C.S를 빠져나오면, &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;을 넘깁니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 487px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/53828edfd9b2dd5782d7538ee4a74b4f/7b439/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 148.1012658227848%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAIAAACjcKk8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAHLUlEQVR42h1SZ1SaCQL87u/93Puxd7m9d3u72dVcEo0a4/pi1LgajZqybjxvLTFR196i0lQwiDQFCcaK0bj2Fs+erI0oNop00AACHxAEQYqCqCmed3/mzcybeW9+DBCZWhmSBruXgwxJg/onFQSnQIJSoLfyKoMyUdcfQUIzkRE56LuFxPuF+Iisitt52AdQckgWOiIfk1BCBQILKuIGByMaaQ/aOpK7epK6h2Pbuv7V0h73sv+XgZHEweH4/uFHQ2MPB0YS+l/FdQ3FdQ/UMNZyeyfDoBggpAAZ+Kz+q8e5F/JhbtnF55+gvs2BfJeaewFSebmW5kFs8KW0etfSfKit9zsGcofGswenOta388i9V9KKgWvpMH9Kkye21gNH8cY/v0FqiqDSAmoa3NDkb1HkixhKCIXmj6tzLyzzzIdFYkgxNfWepRSfCopnLhKIhBBSBkfuNXR4VNV5Y58/au0rHxiPaez0JjYHUDv9yW1hdR1eCLx7Nsz9l3Sf/HKPHIRbAerm8/bAchLwc0UdaniCvsJd5okX2IKlDeFbrmBZIJ2gM+CV+ApS3cTiCkMomdsQ0Df49A3BAk/QOTpzpZTsV1YNBEIId6jtK3yxw2X/+MHhctldxwenn50YJOSLr93/fvlqdFy8EpR9/Og4dFkdTsvHzw6RRHKhmHCtlAD45mNuEFsaxufevde4Du32gz2b1YiAFIQE+vv6X/+Lu/cfvvgqMT3LdWw32wxmq8HhsnJ5gn8WEfwQRMC3ABNU3dwzv6wz7xy5rJ8+H9LnJn08PaZwTxTdWER6/F+/v3jOzYO5sXp0bDNb9YfHFoFA4FFC9IcTgHBYTRSldXSJtWszfzqxn55+6Omi5TyM5bRi5f21rJdYeEL0l1+fn56dOj112Gz6Dx8sIiH/UiHeF4oHAgqrwkk0OlugNhltDuu+yw5qZFOd1ObiFAal5D+oTGY9POlOqFTI2j+0Gkza4xOrVCz0LiZ4QYlAUAnuZnXTunCTp9RsKNQCUCfTqMWvaAtEqOhllXaIvPECNQ1PUonYoNWq0IHvTTomi+Vdgr8GIwDBEEJoNY3Bk4rUGtbmNkemFIM6NWduoPTXKVSethctailkDbduanUKvR7UqUxmkL645FFM8C0lAcFFVbdr26fXuKubsrfCrRWJbPWdenNb1lGWPgVL4ZEzJpDxm2qVSLuzJn7HEEo5MtnEzOLlIpwPnAQkPaWkvuib4Uh4oI4P6kRavfBsucnGW5lqzI1p+zWU2UPtHJtlyVWbesPK5jZLpR2ls72hNUHoBiAJRU5pHXjD3uJrjHzQwAMN0h0zX2eSiDi0kgTmq3ahWPqN3/3baYjRNcGGxrimNvTPcPwQVL8yChCHwP67sXeeKxPpjHLTntpq57xTDo5PE0h1eSVP5Qplcj7qnFfUl5du/dnnPpTSrbIeLPO2fKA1wQgc4JMBjXrWwZWpd5wHQhVYRW0nUhr7+/qikiEPC6uIz178zefOP3yjz10J/9PF0D+eD7ka/bildywE3fAjHAdcTofFNvSsihV6h5PSMZCaj6xvaesZnvSPg/4+t5JaVOUd/JNXQKRbQOyl4Lhr4fHfXL3l82N8BLY5AI4HPNMRYaS2s9k8jXGezedKpYtsbt+bJcTzvp7pJepvQ41dA5imHgKtD9vURWjppnYOF6PrgpB1AWUkwCurNIT0Yokj523rOTItaxNkb4FMqXpVoloVK9lScF2sXJeozxymRH1GeMqdyQWuL5ziiyADvhklgXjKPVj1QzQ1AUWJKSUGPkEHPqlMRNcmop+FFmFCitCRUFwkDB8Fwd7MKQ3OgF9/XHytvNoPggduP84enh6Z4azNrjFmmMtjK/Tuhde99DczzDPJGHw720N/PbQ0M8KYH1ma656b6J4d752f6h4fjMyGAYGPsuV65dHpqdHlAp0HygO7xnkAOvbVzoPdjyf7nz7vHB+pnPu6o0Pd0f8Djn3tsUuiV93NgwFhWRC+Qiy3WOa47HkBd5bLfsNan+dzxxmLkyuMOTZ7YpE+tvSWtS2Xmo0io15qMmxZzOtyUVRWMRCdjxQoRDKL5fX62quFucnV5TP8nc3sHB9dFAul+rO3qoRaUG7aVVjM4t2dLdOuzGZhKsR3c0qAByUY/rZEYbezVMq1bYXgvY6rAdka9bpSzn2vVTudoNOh3LebTk50DsfWnllutfwvrNiMPCsnQdBCEVtn21MYtDKjRm02qE2GbdOOzKDb0mtkOxq5Uae1mvYPHbu2PaXxvWbPqLHs8qS8hCIkEJQBz8I9LaqrTSYT4W3Nlb+1I17QoG20IlpzGpWaXEuKr8I8wmKK6+sLG55nUmrTaqqTcVVlDfXImhYgFdYUllLmH5PjFp4cllZxLxcXkYG5ngAPfFj+QwLiys9PbiQi7uYSgpJL/WKLrv6U6xWd+UMsJBFWV0Ud+S+nPF+/CjYK4AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;고이즈미 신지로&quot;
        title=&quot;&quot;
        src=&quot;/static/53828edfd9b2dd5782d7538ee4a74b4f/7b439/image-3.png&quot;
        srcset=&quot;/static/53828edfd9b2dd5782d7538ee4a74b4f/c26ae/image-3.png 158w,
/static/53828edfd9b2dd5782d7538ee4a74b4f/6bdcf/image-3.png 315w,
/static/53828edfd9b2dd5782d7538ee4a74b4f/7b439/image-3.png 487w&quot;
        sizes=&quot;(max-width: 487px) 100vw, 487px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 경우 &lt;em&gt;Mutual Exclusion&lt;/em&gt;은 지켜집니다만..&lt;br&gt;
C.S를 나와서 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;을 상대편으로 넘겨주기 전에 CPU 실행권을 뺏겨버리곤 영영 돌아오지 못한다면?&lt;br&gt;
다른 프로세스는 C.S에 진입한다는 현실에 도달하지 못합니다..&lt;/p&gt;
&lt;p&gt;게다가 이게 진짜 공평한 턴제라서, C.S로의 진입은 무조건 같은 횟수만큼 &lt;em&gt;번갈아서&lt;/em&gt; 진입할 수 있습니다.&lt;br&gt;
문제는 C.S로의 진입을 P0는 10번만 하고 싶을 수도 있고, 반면 P1는 100번 들어가고 싶을 수도 있습니다..&lt;br&gt;
이 &lt;strong&gt;무조건 번갈아서 들어갈 수 있다&lt;/strong&gt;라는 것은 매우 큰 단점이 되기 때문에, 다음 방법이 등장합니다&lt;/p&gt;
&lt;h1 id=&quot;2-공유-변수-flag2-사용-1--나-들어왔어&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-flag2-%EC%82%AC%EC%9A%A9-1--%EB%82%98-%EB%93%A4%EC%96%B4%EC%99%94%EC%96%B4&quot; aria-label=&quot;2 공유 변수 flag2 사용 1  나 들어왔어 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. 공유 변수 &lt;code class=&quot;language-text&quot;&gt;flag[2]&lt;/code&gt; 사용 (1) : 나 들어왔어&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/da08f54f199406306508a0e1d8944a50/af192/image-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 34.177215189873415%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA7ElEQVR42nWR16qGMBCE8/5PZ8eCHRvYe2V/ZkHxCOdiiInfbnYmwjAMMk2TZVkWbdtG+76zjuN4dJ4nJUlCmqYxp6oq5XlO13U9NeDENE00jiNrnmcuBATh+90UhW8e+y8r+r6nYRhYgLuuo6ZpqG1bWtf1T8Obe+vmsS7LQkKSJLJtmy2UZUlFUVAcxxRFEeEy3Aw7mML3feYQD9aqqpgHC6Gp0HWdgiAg13X5J2zfNr4ZZllG4MMwJM/zeICbfyzLsswTImxMBuC/R0nTlBRFIcdxeELsv7yo65qzgj0cfh/i3fDO6+Zx9uV/BZgVgMwIc54AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;#2&quot;
        title=&quot;&quot;
        src=&quot;/static/da08f54f199406306508a0e1d8944a50/f058b/image-7.png&quot;
        srcset=&quot;/static/da08f54f199406306508a0e1d8944a50/c26ae/image-7.png 158w,
/static/da08f54f199406306508a0e1d8944a50/6bdcf/image-7.png 315w,
/static/da08f54f199406306508a0e1d8944a50/f058b/image-7.png 630w,
/static/da08f54f199406306508a0e1d8944a50/af192/image-7.png 645w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;턴제가 아닌, 공유 변수 &lt;code class=&quot;language-text&quot;&gt;flag[]&lt;/code&gt;를 사용하여 &lt;em&gt;C.S에 진입헀는지 여부&lt;/em&gt;를 표현합니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;flag[1] == true&lt;/code&gt;이면 P1이 C.S에 진입했다는 의미이므로 P0는 기다림.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;flag[1] == false&lt;/code&gt;라서 P0가 C.S에 들어가도 괜찮은 경우, &lt;code class=&quot;language-text&quot;&gt;flag[0] = true&lt;/code&gt;로 &quot;나 C.S 들어간다&quot;를 표현&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 474px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/48f04c94b8c5c8352f096a2ad107300c/5595f/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.69620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVR42gGfAmD9ADA9R01TTlxfUUlFSUNJUEBJT0NKUTE6RC8+SDlLViIuOQwVHA0WHBQeJicyOD5NUUlbYFhqb1RmbEVZXgAwPkplaFuCfV9zYlxybm1sbGl1cW89RU4xQks6TVUVIisRFx4hJiwdISkRGyUhLjY8VVZfgX5bgn1JcWsAMj5HMT5JLzxJLTtFKjdCKzhEKDQ+JjI6NEFIISs1JSYtVkxMZFdTaFlXSkVJFBsnOEZFb5J5a5NyYoJ0AD1GUTlETzI9Sik0PycyPR8pMhoiKxkgKB8pMxoeJ0xHSHBjXoVxaXlmYYRycUdDTUZgUXumd3ebbH6djgDQ293J19m9yc+4xs5ATlcOFR0UGyMRGSENFBwaHyZDQUZbXFpybGhbW1pjc3NZW2JHYVdfhGhsiX1ljoYA1vz8u/j/r+b8ia/CMEBHIC0zJDE3HCctFh8mMDA2eXRugYF4Zmhign94e4eBT1NdOU9Yf5aVpsTGm7m5AICep6/W63ycsg8aIyg1OjFBRDBERys9Qh8rMlNMS5B8dIp2cJR/d5aDfp+Mh391fSEyQl5xfI+yxKjf9QBATVOgvM2HobFgaXByc3R8fn9UXGFhaW1laW80NDqIcWyPdHGSdnWsj4enkIp1fIooPU8tPUphgptij68ALDk9N0VRNENMMj0/OT5CLDE5eXpnb3NfbG9gaGVUi4BvfWllgm90nIyIlYmGcH2GW2x6Fyg2gJailJ+qABgiJxYfJhgjKRknKxMjJxYfJIRWK3lRLXtYL5BuQoJiOnVfTXp3ent3d317fYB/f251fCA0Q1hqc/P39wAcJi0iMTcoOT4nNj0jMjkjMDYmJi8kJS8iJy8oKC9uW1JsW1JrX1l4cHBPYnYsO0VVc39CW2sdMT6DqbURwujdYmr7OQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기다려 무도&quot;
        title=&quot;&quot;
        src=&quot;/static/48f04c94b8c5c8352f096a2ad107300c/5595f/image-6.png&quot;
        srcset=&quot;/static/48f04c94b8c5c8352f096a2ad107300c/c26ae/image-6.png 158w,
/static/48f04c94b8c5c8352f096a2ad107300c/6bdcf/image-6.png 315w,
/static/48f04c94b8c5c8352f096a2ad107300c/5595f/image-6.png 474w&quot;
        sizes=&quot;(max-width: 474px) 100vw, 474px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이러면 상대편이 C.S에 관심이 없다면(&lt;code class=&quot;language-text&quot;&gt;flag == false&lt;/code&gt;), 내가 원할 때마다 계속 C.S에 진입할 수 있습니다.&lt;br&gt;
이전처럼 꼭 진입의 균형을 수호하지 않아도 됩니다 !&lt;/p&gt;
&lt;p&gt;그런데 &lt;em&gt;Mutual Exclusion&lt;/em&gt;을 보장하지 못합니다??&lt;br&gt;
양 옆의 코드 한 줄 한 줄마다 계속 차례가 넘어간다고 생각해봅시다..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P0가 &lt;code class=&quot;language-text&quot;&gt;flag[1] == false&lt;/code&gt;임을 확인하고 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;을 탈출&lt;/li&gt;
&lt;li&gt;P1가 &lt;code class=&quot;language-text&quot;&gt;flag[0] == false&lt;/code&gt;임을 확인하고 `while을 탈출&lt;/li&gt;
&lt;li&gt;P0는 &lt;code class=&quot;language-text&quot;&gt;flag[0] = true&lt;/code&gt;로 올리고, C.S 진입&lt;/li&gt;
&lt;li&gt;P1도 &lt;code class=&quot;language-text&quot;&gt;flag[1] = true&lt;/code&gt;로 올리고, C.S 진입&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;C.S에 동시에 진입할 수 있게 되어버립니다..&lt;br&gt;
근데 여기서 &lt;code class=&quot;language-text&quot;&gt;flag[] = true&lt;/code&gt;로 켜는 명령줄 위치를 바꿔주면 떔빵이 가능합니다.&lt;br&gt;
그게 바로&lt;/p&gt;
&lt;h1 id=&quot;3-공유-변수-flag2-사용-2--나-들어갈거야&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-flag2-%EC%82%AC%EC%9A%A9-2--%EB%82%98-%EB%93%A4%EC%96%B4%EA%B0%88%EA%B1%B0%EC%95%BC&quot; aria-label=&quot;3 공유 변수 flag2 사용 2  나 들어갈거야 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. 공유 변수 &lt;code class=&quot;language-text&quot;&gt;flag[2]&lt;/code&gt; 사용 (2) : 나 들어갈거야&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/32248180c0e0250d082a8fea7b63240d/a1253/image-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 35.44303797468354%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA70lEQVR42nWR16qEYAyEff+HEy/siliwYe9iyzKBLGeXPReDP/HLpClxHJNt2+S6LlmWRVmW0X3fdJ7nhxAbx5FM0yTHcVhJktB1XR+csu87retKy7Kw8D6Og/Vtith/rEgZhoGgbdsYep6Hu5GvmKETGPR9/2YRFw4CowRBQJqmked5PDbM27alsiw5WTpFQtd1pKoq+b5PhmFQ0zTM13VNVVVxEaUoCt6Lruu8Fxinacq7hPFfw2ma+D9Y4cMwJHjkeU7zPJOCxaKaHAdVvkeGKd7oBkZRFDGLzmTc98jYCw4jiXK1X0eRA/5ihX8BTroWajO8wTwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;#3&quot;
        title=&quot;&quot;
        src=&quot;/static/32248180c0e0250d082a8fea7b63240d/f058b/image-8.png&quot;
        srcset=&quot;/static/32248180c0e0250d082a8fea7b63240d/c26ae/image-8.png 158w,
/static/32248180c0e0250d082a8fea7b63240d/6bdcf/image-8.png 315w,
/static/32248180c0e0250d082a8fea7b63240d/f058b/image-8.png 630w,
/static/32248180c0e0250d082a8fea7b63240d/a1253/image-8.png 657w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;직전에 먼저 &lt;code class=&quot;language-text&quot;&gt;flag&lt;/code&gt;값을 &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;로 올리도록 순서를 살짝 바꾸어서&lt;br&gt;
이제 &lt;code class=&quot;language-text&quot;&gt;flag[1]&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;flag[0]&lt;/code&gt;을 마치 &lt;em&gt;C.S에 들어가기 위한 의사 표현&lt;/em&gt;으로 사용하게 됩니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;flag[0] = true&lt;/code&gt;로 놓고 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;로 기다리다가,&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;flag[1] == false&lt;/code&gt;이면 C.S로 진입&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이러면 일단 P0가 &lt;code class=&quot;language-text&quot;&gt;flag[0] = true&lt;/code&gt;를 켜고 나면, P1은 P0가 C.S를 빠져나오기 전까지 그 어디서도 &lt;code class=&quot;language-text&quot;&gt;flag[0] == false&lt;/code&gt;임을 확인할 수 없으며,&lt;br&gt;
P1이 P0의 &lt;code class=&quot;language-text&quot;&gt;flag[0] = true&lt;/code&gt;직전에 CPU 사용권을 잡아채서 한 줄이라도 실행했다면, P0가 C.S에 진입하는 것이 성립하지 않습니다&lt;/p&gt;
&lt;p&gt;이로써 &lt;em&gt;Mutual Exclusion&lt;/em&gt;을 보장할 수 있게 되었는데, 새로운 문제가 발생합니다 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P0가 &lt;code class=&quot;language-text&quot;&gt;flag[0]=true&lt;/code&gt;, CPU 사용권 뺏김&lt;/li&gt;
&lt;li&gt;P1가 &lt;code class=&quot;language-text&quot;&gt;flag[1]=true&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;flag[0]==true&lt;/code&gt;인 것을 보고 기다림&lt;/li&gt;
&lt;li&gt;P0는 &lt;code class=&quot;language-text&quot;&gt;flag[1]==true&lt;/code&gt;인 것을 보고 기다림&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 서로가 서로의 &lt;code class=&quot;language-text&quot;&gt;flag==true&lt;/code&gt;를 확인하고 무작정 기다립니다.&lt;br&gt;
한 치의 양보 없이 그저 상대편이 &lt;code class=&quot;language-text&quot;&gt;flag=false&lt;/code&gt; 해주기를 기다릴 뿐입니다..&lt;br&gt;
이렇게 서로 버티는 상황을 &lt;strong&gt;Deadlock&lt;/strong&gt;이라고 합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 189px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5d2d7732f419e3332c13e1e3aa3beded/0f8c7/image-9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 141.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAIAAADuuAg3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEXklEQVR42k2U2Sv8XxjHjz0RSblRspZIKVeEP4Ebblxw5dKNC6REieRGuJEtO8Vg7Ps2I9vY94x9HXyZsc9Yvr/XZ843/c7FZ86c8yzv5/28nyN2dnbGxsZOrSs2NtbGxsbd3d3Dw4NNVlbWycmJXq+/ubnZ29vTLeu0Gu3a2hr78/Pz6elpcXBwMDQ0dHd3l52dLYSwtbXliydfNzc3nU5H0L/W9f7+fqDXPxqNb29vl5eXtbW14uPjg2DX19eZmZk4BAcHJyQkJCYm+vr6urq6arXazs5O8lssFmxeX19loM/Pz/r6esHu/v5+dnZWo9Hk5+c3NjZubGysrq4WFxfX1NQsLi42NzeD/Pj4eH9/32wxG02ml5cXvBTY1MOdWq0mw+HhIafz8/NbW1uPj49cs5+YmJiZmdnc3MT/9va2paWlp6cHM84FRpSNZ11dnTwlw8PDw/LyMuUYjUa4oULCERqMHR0dYMQMpgTUTU1NERi08fHxuJ2dneFTUlKysLAAQkolAYxS+fDwMHVNTk4Spbe3V2DNDgeYq6ioaGpqInZra2tVVdXz8zM+JpPpj3XRVNLAP2nAPzIyIr6/v5+engB2cXFBku7u7vb2diiYm5vjr8FgIDmeYKa6r68vyTa00wglM5wRniQUSRTQ7u7uEp4T6U8e2AId9dMk0tCO7e1tATaSy3hQJSVxY11sfn5+KIecmJGA0JSNG+EwFkdHRxiZzWZCYio3wOOLpLiiyOTkZEQCi4QgEIgQGUyLoqIimeHv/9aPdUlEqA2pQTURqZGIgJcNFmFhYShpfX2dgkGCYDilPIQxODhYWVnp5OSEbMvLy2U55JQsKrAjIiKEdcXExNAz+gGT1Obv78+hnZ2dp6cnm7i4OJxJDn66Q/2oSERGRtrb23Pt4ODQ398voaakpMjZcnFxCQwMZM+cXF1d0TNCE4LMEC6ioqJ+J1GlUuFZWloqc/J1dnZmtr28vKhCMg/PEIaZ0irpzEpLS+OIeIzx70gDB3+UJzHLLzUTSCEsOjoaIz8/P0jijmH+TSv9vb29ERPCADCNZAN+KodaER4ejkVBQQHscwEYxoMTR0dHGSIoKKjdulAuskP2qBr8CFa549EijALpWwF2YzD4+Pj85g8JCSkrK6Nn6enpjFpSUlJubi5mCuzU1NSMjAxJMpV8WTfMFqYMVkNDAz1DSESnsSsrK+Pj45AntSz6+vr4OTk9nZme5mJgYIC/yBBWcFhaWiJ0YWEhIkUFFI8qeRj+OdNr/kAGduSZ0Wju/9wjQ4qHeZQIkWimq6uLUeOQBHwRCc+boGk8I4gOI966uYV5ojKJHHJCNot1jY6O8tZCFU8FCqFMRWFyngnRrVb39PZ0dnXBJJghVtYm20sj2traqqur4Zyx5VBpFTuwoTvGymyxcAoKUOXk5AQEBMiplHQCh2cI8dOkf62Ss85DgZscTCokXGhoKH3Ky8uTztKf/PIxI4FKpfoP1Ni+ngWUnm8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;서로 죽여라&quot;
        title=&quot;&quot;
        src=&quot;/static/5d2d7732f419e3332c13e1e3aa3beded/0f8c7/image-9.png&quot;
        srcset=&quot;/static/5d2d7732f419e3332c13e1e3aa3beded/c26ae/image-9.png 158w,
/static/5d2d7732f419e3332c13e1e3aa3beded/0f8c7/image-9.png 189w&quot;
        sizes=&quot;(max-width: 189px) 100vw, 189px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그럼 서로 좀 양보하고 그러면 어떨까요?&lt;/p&gt;
&lt;h1 id=&quot;4-공유-변수-flag2-사용-3--양보&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-%EA%B3%B5%EC%9C%A0-%EB%B3%80%EC%88%98-flag2-%EC%82%AC%EC%9A%A9-3--%EC%96%91%EB%B3%B4&quot; aria-label=&quot;4 공유 변수 flag2 사용 3  양보 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4. 공유 변수 `flag[2] 사용 (3) : 양보&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 573px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/64bbe71218cf43ea31f20e3eff1287bb/3c024/image-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABQklEQVR42o2S6a6CUAyEef93Y9OIImIMIZoobiAuLPbma3IIdxHujyYnaWfOzLSW7/sSBIEsFguZTqeyWq2kbVupqkrquv5VTdPIer0WcPP5XJbLpcxms27eOp1Ocrlc5Hw+a+V5/idRv4qiEHB9bEf4fr+lX6gbI6Q+YazJZCJJkshut5M0TdXSEBF9YiGm/X6v2LIsO5zluq7mRyZkeL/fP5JiCzVRFInneZqhbdtK2hFuNhtxHEfiONZfUTlkG+D1elUBYMxSns+n9qzD4dA1j8ejvF6vUcuAsY2j7XarlruloAjbyKayLBs9m9vtpqogBf/NMidAbhA8Hg/9bUglc5yKmaN4o5qeZshSCDoMQz1abnFo29hkniJDlHIlkFpsC1JDbML9REYcfMq5QcKmTUxqGYK+nf8cNRGZPH/ivgDhlJRIYtdk2QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;#4&quot;
        title=&quot;&quot;
        src=&quot;/static/64bbe71218cf43ea31f20e3eff1287bb/3c024/image-10.png&quot;
        srcset=&quot;/static/64bbe71218cf43ea31f20e3eff1287bb/c26ae/image-10.png 158w,
/static/64bbe71218cf43ea31f20e3eff1287bb/6bdcf/image-10.png 315w,
/static/64bbe71218cf43ea31f20e3eff1287bb/3c024/image-10.png 573w&quot;
        sizes=&quot;(max-width: 573px) 100vw, 573px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;말 그대로 아까 코드에서 양보룰을 추가했습니다.
이제 아래와 같은 동작을 반복합니다 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P0가 C.S에 진입하려는데 &lt;code class=&quot;language-text&quot;&gt;flag[1] == true&lt;/code&gt;인 경우, &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;로 진입하되&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;내에서 &lt;code class=&quot;language-text&quot;&gt;flag[0]=false&lt;/code&gt;로 양보하고 잠깐 기다림(delay).&lt;/li&gt;
&lt;li&gt;잠깐 기다린 후 다시 &lt;code class=&quot;language-text&quot;&gt;flag[0]=true&lt;/code&gt;로 놓고, `flag[1]을 재차 확인&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이전과 동일하게 &lt;em&gt;Mutual Exclusion&lt;/em&gt;은 보장되며, 양보로 인해 &lt;strong&gt;Deadlock&lt;/strong&gt;은 발생하지 않게 되었습니다.&lt;br&gt;
그러나 과유불급이라고 했나요.. 무작정 양보하기 때문에 또 새로운 문제인 &lt;strong&gt;Livelock&lt;/strong&gt;이 발생해버립니다&lt;br&gt;
둘 다 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;에서 서로의 의사를 확인하고 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;문 내부로 진입한 경우,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P0가 양보 (&lt;code class=&quot;language-text&quot;&gt;flag[0]=false&lt;/code&gt;), 기다리다가 CPU 사용권 뺏김&lt;/li&gt;
&lt;li&gt;P1가 양보 (&lt;code class=&quot;language-text&quot;&gt;flag[1]=false&lt;/code&gt;), 기다리다가 CPU 사용권 뺏김&lt;/li&gt;
&lt;li&gt;P0가 다시 &lt;code class=&quot;language-text&quot;&gt;flag[0] = true&lt;/code&gt; 하자마자 CPU 사용권 뺏김&lt;/li&gt;
&lt;li&gt;P1이 다시 &lt;code class=&quot;language-text&quot;&gt;flag[1] = true&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEjklEQVR42g3OCVdhCwAA4Psz3zabRmpKmxCXIhXZ2kSJkAxFzA3JKEPJWBqi1Nh3175T3rwz8+ac7wd8QOo7zWahy/ZpbAYuGdm5tDC/OuW/fgXyOUM0rKmWxc9dQbMqbNcF/a7ouQ/1e/JuS9SoGbotC9Cqrnqc9MNDyuw0wghRT1SzaiXZfM74bGaeaukP31g/e/J+TdlvHvWax72GplsTd5vCXvug11QBzTT4o06MPZCnJl7B8VX8zD9i/qjfSYWOJ9pFsJ4n9Ou4fgPbb5K7rdVeW/rSM/Wq+m5O20ppgFaB3S4uV3ICn3dz0Dn0eTixJ+aNlVzK0+DsfDFH6bfpvTbjpbP748Xy78Baj8pzVlbhkpkycoF2eatVFg5arNubZaUSD53gHTYGHjt8qlsxQJxTHcN8xrq5IP58Xk9HhUn3JnxBKZpoZQszdcoBmjlMu8x7rjDDvjmnFeu2Yby22V3ebK2kfgyIP2morTq/ArM75bVbw7pDxXxUk4t6Ula3GD5hAfX4UCOH6ZQ2O3mwkZke1Gfa8Dyc2P7vZeOlzR50WIM6p108LAVkHWgxq2aE5diCcS6hJsW1DKCeQDQzqE6F0yqtPzdW775idCLa1dFes6wfvBgGfUUvwqtY+TWPvHECVg8IsBZf0BMjKtKTchmoZfktmN+qyHoNdbsqhw62IqbNsoaYv1p76Ut68H7UvpO+2M37TsOHlDvZgolPiZ6QoipSQLHyu01p5IltGOxVyM0CtuDC1i7wWSmq5FjoV7jlANeu5pzJ9txGqXmffqlgX+m4nw/oHhHoly4CpSd0JfrbWCM62kmB5UscfIyJi9GdzM5zhptyk5w6ilc3F75m3ZvW/NoVL7QiZc3rtqgFjxhIXk3Ct5jCzWTWRYOLSR+PacGNm6ZGrj9pgsFI2jJfNI8372eyXnJEM185mlEtzaD+QtHmEN3GFuDYGb3Xg60Y/dHIMZy5rr741UNoiAAapYIvenFcN5VXTiQNmNC1wCpZE04jd9hcPBqPQ75qRAWAd23YvDIUM2ACpDfKKQy0J7vdxsS9UCmuqDy8Lz4OFz2IhGNJq4SWZieMh8Rz6Hzkz3dX0HgjQgWett8/7SIv2WNuidBIYx8TcWEeIiZBPVip8MNIMTRaDqNyMf48Yf2Ag/6Rp7kuuItT4IVopPqEBQKCoYhixMp5+1l1cPMt5by2B93XSZc0+GU1HxaUInt530bWvaVngA7hYj0iqYZXAx/Jd5JZOAgCvg3EoxwZ2H2nXhiTCaRBCyMef7CaDr3HqPT1WNpOShjGggrk/cFwGBpN23CxsyUPbzJuWsj7dgAb85Wdj3QLURL88Ef2ePoGcef3qCSKqOOPUmQ8ZceGLUMxx5uk923mFplxo9JXw2nXRC64kQiJgUs2wshH88EPjBGU/Wis8n3asrvquiCUE8u2ne0nIyEbwqbvwJwfzHzDp29nUn5CLrybjYrSjyBwvvi3U/BBMT+6j0fp18f9WvQN9bVPif7u3tdhN+/NzEKMlQysp0P8TGgjG+JlI6pMWBQLTGYfcf8DfZ1JyAcoMtEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;형님먼저 아우먼저&quot;
        title=&quot;&quot;
        src=&quot;/static/46ecb893e87ea183cf2bf50afcb13a4f/3684f/image-11.png&quot;
        srcset=&quot;/static/46ecb893e87ea183cf2bf50afcb13a4f/c26ae/image-11.png 158w,
/static/46ecb893e87ea183cf2bf50afcb13a4f/3684f/image-11.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
&lt;a href=&quot;https://www.melon.com/album/music.htm?albumId=10100122&quot;&gt;출처&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;이런 과정을 반복해버리면 서로가 서로를 양보하다가 Livelock 사태가 벌어지고 맙니다..&lt;br&gt;
이 경우 딜레이를 줄이거나 아예 없애도 Livelock 문제를 완전히 해결할 수가 없습니다&lt;/p&gt;
&lt;p&gt;장난 그만 하고 진짜 문제없는 알고리즘을 살펴보도록 합시다&lt;br&gt;
앞으로 두 개의 실명제 알고리즘이 나오는데&lt;br&gt;
&apos;이름이 붙었다는 것은 강하다는 것&apos;&lt;br&gt;
과 같습니다&lt;/p&gt;
&lt;h1 id=&quot;5-dekkers-algorithm&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#5-dekkers-algorithm&quot; aria-label=&quot;5 dekkers algorithm permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;5. Dekker&apos;s Algorithm&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/24b7bf7bed3febe422869f67648980f6/e9beb/image-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 84.81012658227847%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABlElEQVR42pWUCY+CQAyF+f+/zigxUUEUFe8LPAGp+ZqUqDu4uyYj1+vr62tnvPl8LsPhUMbjsa6iKJyrLEtd3Od53ojzJpOJdLtdOR6PcrvdGsHX61XSNFWMETsJl8uldDodmc1mGvB4PN4AJODdfr8X3/cljmO9byQk22AwUFKum83GSVpVlSZtt9vS7/dlsVi4CQkGCGGv15PpdCr8XCq3262qBEfy+/3+o3zPAgAEQSBRFMl6va6JbPEMKY0DCy5JkjcMy+OPLHS61WppAIrxFrWj0UhOp1NNSKngwINjSiAmAXapQqTzEoLVaqXNIQkd5dtrSainMSQ8HA6KA2MTogohsABUuMaCd1mWaaBhXptnMUqIVORTGqDPWTRbdrudVoEyuu6aWR0bfAvD8K0MV5fxj5HBN8hdlaiH+AchXcbDpuGmEtum+PiJU0LKND9sfWbm+Xw+6/azb03bz8M71NF2ysX0y+Xi3MvfDoWakA4z/ZRNKYwFB8Zvh8BXQpt8TG8y+8+EzBaknCDcu8r9D+ETMAYekiHR8mgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;#5&quot;
        title=&quot;&quot;
        src=&quot;/static/24b7bf7bed3febe422869f67648980f6/f058b/image-12.png&quot;
        srcset=&quot;/static/24b7bf7bed3febe422869f67648980f6/c26ae/image-12.png 158w,
/static/24b7bf7bed3febe422869f67648980f6/6bdcf/image-12.png 315w,
/static/24b7bf7bed3febe422869f67648980f6/f058b/image-12.png 630w,
/static/24b7bf7bed3febe422869f67648980f6/e9beb/image-12.png 730w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;각자의 의사 표현인 &lt;code class=&quot;language-text&quot;&gt;flag[2]&lt;/code&gt;만으로는 문제를 해결할 수 없어서, &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;까지 도입합니다&lt;br&gt;
P0과 P1 함수에서 막 &lt;code class=&quot;language-text&quot;&gt;while(true)&lt;/code&gt;로 C.S와 non-C.S를 무한반복하는 것 처럼 보이는데,&lt;br&gt;
그냥 프로그램은 C.S와 non-C.S의 반복적으로 나온다는 것을 간단히 보이기 위한 장치니까 신경쓰지 않아도 됩니다&lt;br&gt;
아무튼 중요한건 이전의 알고리즘에서 &lt;code class=&quot;language-text&quot;&gt;if(turn==1)&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;while (turn ==1)&lt;/code&gt;이 추가되었다는 점입니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P0는 &lt;code class=&quot;language-text&quot;&gt;flag[1]==true&lt;/code&gt;이면 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;을 확인합니다&lt;/li&gt;
&lt;li&gt;P0가 보니까 &lt;code class=&quot;language-text&quot;&gt;turn == 1&lt;/code&gt;인 경우,
&lt;ul&gt;
&lt;li&gt;내 차례가 아니니까 &lt;code class=&quot;language-text&quot;&gt;flag[0]=false&lt;/code&gt;로 양보하고 기다립니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;turn==0&lt;/code&gt;이 되면 이제 그만 기다리고, &lt;code class=&quot;language-text&quot;&gt;flag[0]=true&lt;/code&gt;로 다시 올립니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;P0가 보니까 &lt;code class=&quot;language-text&quot;&gt;turn == 0&lt;/code&gt;인 경우,
&lt;ul&gt;
&lt;li&gt;내 차례니까 상대편이 &lt;code class=&quot;language-text&quot;&gt;flag[1]=false&lt;/code&gt;로 양보하기를 기다립니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;flag[1] == false&lt;/code&gt;가 되면 C.S로 진입하고, 끝나면 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;을 넘기고 &lt;code class=&quot;language-text&quot;&gt;flag[0]&lt;/code&gt;을 내립니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게, 현재 &lt;em&gt;내 턴이면 버티고 내 턴이 아니면 양보&lt;/em&gt;하도록 하여 Deadlock과 Livelock 문제를 모두 해결합니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 261px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d7bdf9ee4a23115149b95782b2f3a67b/edf96/image-14.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.0506329113924%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADc0lEQVR42g2T6WscdRzG5x/wgEIRQV8JfSFFUKm0BdFGi63QGPIiNQltCKsmTeb6zbFX9pxr59jZe2evmdnJ7OyRNEdTSNOgOQqhxKZKTNvETbfWkvpC/wkHPm8fni98Pw/E64At41ENC+Sm/dmpQGE6rMEuTA1lDCTVotQ2JbcpwcLjFTiuI6yBxKsoq5OcTkCyCYQaGdGwmSIScinBsdJUrAJ7055IYvzb785fuPTRtZEv6cRN1Qa8gXI6Gq/irI6LJgGpdUqq0WwZRDU0oqHxEsJUYMXCh/ovsJ6BBXbyxlefnXn39Km33xoY7lNn3TzG6oRoUlKdglTTJxtevgKYIsKUcLaCM9r0ghnYd7jwjStHt4XXa5kF4dbYlYvvnT41+uPVTIvmdCC4YYuG0qZfMdxmjNHQWBnNlLBfrMhDPZwjRu9nwNMOl5gYoL6/TAx9PTlw6cwH78fy07JFJOogMUtCGSug6l6xQnBlTNXwnXr8sCUdtMRlAX5YnTmaE5Pw8N0U2MhTSXjonTff+Ml7PdMMyKY32fBBWdunml6pRjJlzKkGnzTlgzmlu5A8WUmdLKdeLijLAmIGx3tL6q4ZyWIjdoFQTEI2KcXyu81+1fIlqiBewbQy/Ycj7uT9WwrozkkvF9VXd1L/rmb/W80fz8t/zsv/3Cvsd6S0AaQ6KVleKO+EfPJUNI/JBi3UcLsaqHgGGz/0Hzlc77Z43GKP21y3LR4vpg86wmFH3HTiQgmNFYFYp6FCMyzrtFzzKaaPL6NLq7Xff+4Yg+ea/eca33y4NNK3KUzsWsKLZzuPt+dtK5ixKL4KgmlYdF9VaEZyzkzK8ksmLVTAyrr56I5ue/of362vRae289FNxvNsY+6v3qNX3V8by6pk4mnbn5ylFZuECk4wYweTdZ9oUO7laTtkSvheO3Nyst998qD32/p9evjF/lbv6fbr53srq5psAWnWtRUoDQoqtoJp2yubNK+TkkFLNXzw+q28mNvbWfu7u3u4Pb/FTzw/2l2/t7ixYZecGcWihDrgTIy3AJRzXFcAV8WYCuCrBJ/Db07SZy+So2PhUEQS42w2GiJ9yfFJb6JAijrhWskZOGOiLlDaIeQ6ztXwSAmJaDBbxHkFiSGBa0Pkp33o2fP+j7+IffJ5YAyhUq5Y7oos4HZy7sgM+H8s8OkWLGQ9UgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;봐준다&quot;
        title=&quot;&quot;
        src=&quot;/static/d7bdf9ee4a23115149b95782b2f3a67b/edf96/image-14.png&quot;
        srcset=&quot;/static/d7bdf9ee4a23115149b95782b2f3a67b/c26ae/image-14.png 158w,
/static/d7bdf9ee4a23115149b95782b2f3a67b/edf96/image-14.png 261w&quot;
        sizes=&quot;(max-width: 261px) 100vw, 261px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;또한 이전에 발생했던, 강제로 턴을 기다리는 상황 또는 &lt;em&gt;Mutual Exclusion&lt;/em&gt;이 보장되지 않는 상황 또한 일어나지 않습니다.&lt;/p&gt;
&lt;p&gt;아 근데 좀.. 길지 않나요?&lt;br&gt;
더 짧게도 가능한 방법이 있습니다&lt;/p&gt;
&lt;h1 id=&quot;6-petersons-algorithm&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#6-petersons-algorithm&quot; aria-label=&quot;6 petersons algorithm permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;6. Peterson&apos;s Algorithm&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/eef2dd4a431e8f2624e00339c9ea3c1d/be86f/image-13.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABfElEQVR42p2Th4rDMBBE9f8fF+IU0u303nuf4y3IODk7x8UgbKTd2Smym06nqtVqarfb9l6tVno8Hrper7rdbi/rfr/r+Xza+/3MLzccDlUsFgUwIJfLJbP4fD5ru93qeDxmgjoYlctldbtdrddrA00rZu9wOKharSoMQy2XSwNGzQsgG1EUKQgCk9zv92PAJDCDqEVJPp+3WvpgnRzq8IQiJsNwt9vFsnknvaRhv9+rXq9rMBhos9nEgN4uYzifz1WpVFQoFFQqlex7PB5rsVjEfnkrkA0gdblczph2Oh3NZjOzwfkiwiFpJsOYyWlewoLzVqtlPSxUxR4iGTaw4pBvmrKCoRl7CHEymfxK3HmjfVGz2dTpdPqYNDKpRTq+J++tgw0AbCYTS7vYnBMKwD6498EOI1lMgj4WAP5+v2jk/NPFN0CAuFdIbjQa5iOJjUajj79YJiDSCIR0AcJPfi8G/RfMAJGBuaxer2fMMJ4nzcc/AWmm8ZvmNMAfIa2C/hdN76wAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;#6&quot;
        title=&quot;&quot;
        src=&quot;/static/eef2dd4a431e8f2624e00339c9ea3c1d/f058b/image-13.png&quot;
        srcset=&quot;/static/eef2dd4a431e8f2624e00339c9ea3c1d/c26ae/image-13.png 158w,
/static/eef2dd4a431e8f2624e00339c9ea3c1d/6bdcf/image-13.png 315w,
/static/eef2dd4a431e8f2624e00339c9ea3c1d/f058b/image-13.png 630w,
/static/eef2dd4a431e8f2624e00339c9ea3c1d/be86f/image-13.png 662w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;데커 알고리즘에서는 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;을 C.S가 끝나고서야 반납했으나,&lt;br&gt;
피터슨 알고리즘에서는 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;을 초장에 양보합니다.&lt;br&gt;
이 차이로 인해 전체 코드의 길이가 반으로 줄어버립니다!!&lt;br&gt;
software-approach라는 말은 매번 이 코드를 직접 작성해야 한다는 뜻이라서, 짧고 단순할 수록 당연히 장점이 됩니다.&lt;/p&gt;
&lt;p&gt;아무튼 이 알고리즘은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;P0가 C.S에 들어가려면, &lt;code class=&quot;language-text&quot;&gt;flag[0]=true&lt;/code&gt;로 의사표현을 하되, &lt;code class=&quot;language-text&quot;&gt;turn=1&lt;/code&gt;로 턴을 일단 양보합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;에서 기다리지 않고 넘어갈 조건은
&lt;ul&gt;
&lt;li&gt;P1가 C.S에 들어가려 하지 않는 경우 (&lt;code class=&quot;language-text&quot;&gt;flag[1]==false&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;P1가 C.S에 들어가고자 하는데(&lt;code class=&quot;language-text&quot;&gt;flag[1]==true&lt;/code&gt;), &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;이 내 차례일 경우&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;둘 다 아니면 어쩔 수 없이 .. 기다립니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;재미있는 점은, 양쪽 다 &lt;code class=&quot;language-text&quot;&gt;flag&lt;/code&gt;를 켠 경우 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;에 의해 정해지되,&lt;br&gt;
이 &lt;code class=&quot;language-text&quot;&gt;turn&lt;/code&gt;은 먼저 양보한 쪽이 먼저 C.S에 진입하게 된다는 점입니다. &lt;br&gt;
이러한 특성으로 인해 &lt;em&gt;Mutual Exclusion&lt;/em&gt;을 보장 + deadlock과 livelock을 방지하게 됩니다&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;software-approach의-단점&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#software-approach%EC%9D%98-%EB%8B%A8%EC%A0%90&quot; aria-label=&quot;software approach의 단점 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Software Approach의 단점&lt;/h1&gt;
&lt;p&gt;근데 지금까지 살펴본 방법에서, 공통적으로 등장하는 문제가 있습니다&lt;br&gt;
바로 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;로 기다린다는 것인데요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;을 계속 도는건 사실 CPU 사용권을 받고도 쓰지 않는 것이기 때문에,&lt;br&gt;
CPU 사용권을 낭비하는 셈이 됩니다.&lt;br&gt;
또 머냐.. 자바 수업해주신 교수님이&lt;br&gt;
CPU는 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;이 중요한 줄 알고 최선을 다해서 실행한다는 언급을 하신게 기억이 나네요&lt;/p&gt;
&lt;p&gt;아무튼 이렇게 &lt;em&gt;열심히 기다리는 문제&lt;/em&gt;를 &lt;strong&gt;Busy Waiting&lt;/strong&gt;이라고 합니다&lt;br&gt;
이건 어쩔 수가 없습니다.. OS의 도움이 없으면 이렇게 가짜로 기다리는 것 외에 방법이 없습니다 ㅜㅜ&lt;/p&gt;
&lt;p&gt;그리고 지금까지는 프로세스(또는 스레드)가 딱 둘인 경우를 살펴봤는데&lt;br&gt;
실제로는 더 많을 수 있고, 그렇게 되면 소프트웨어적인 방법으로는 굉장히 복잡해집니다..&lt;/p&gt;
&lt;p&gt;또한 이런 코드들을 직접 작성해야 하므로 아무리 짧아도 어쩔 수 없이 복잡해집니다&lt;/p&gt;
&lt;p&gt;뭐 그런 등등의 문제가 있습니다&lt;/p&gt;
&lt;h1 id=&quot;그럼-우짭니까&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%B8%EB%9F%BC-%EC%9A%B0%EC%A7%AD%EB%8B%88%EA%B9%8C&quot; aria-label=&quot;그럼 우짭니까 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그럼 우짭니까?&lt;/h1&gt;
&lt;p&gt;hardware instruction을 따로 만들어서 매우 단순하게 한 줄로 해결할 수 있도록 하는 방법이 있습니다&lt;br&gt;
그러나 이 경우도 &lt;code class=&quot;language-text&quot;&gt;while&lt;/code&gt;을 써서 가짜로 기다리는 Busy Waiting 이슈를 피할 순 없고, 다른 문제들도 존재합니다&lt;/p&gt;
&lt;p&gt;Busy Waiting 이슈까지 해결해버리는 진짜 베스트는 아예 OS가 제공하는 동기화 툴을 이용하는 것입니다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 260px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b4f2292a355bb0ef679ebf5516cdc531/86c28/image-15.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnklEQVR42gGTA2z8AMjMn9TIisSxgqqQaZubiJ7RxYOehmReUWZnW15fVVRRQVdSQVtXTWRgUHJjS2lmWHdsU2uKoWKlz2ys0wDEyJ7XzYrLuYStk2qcnYik1ct/mIZ0hYmFo655oaBvo3R2pHdyhZOSlph2cVgMBQMaFA8YHCAtRlZumbIAxceh2s+N0cWLs55xoqGNst3ZjKCNdXJofYF9dYJ4co1kcopiaW1tfnNph3RTPjIoWEk2a4OTfajBosLXAMXIoNnOjNfOj8Oyd5ybhq3SzomZiGpiZXBweGNjW2NlYXNsWIt5UIFmR3pWSU08M2hUP4WUnIynuJ2qsQDDx57Zz4vRyI6pqpuxs7PHy895j7BnepyFipWOk5WQnaKfnn7KsWamhVJ8WElQPjNmUT2wtbi9z9vG0NkAwceh3NCMoKSdm6zR0cjFy8PDyc3fgpa5YV9ZcmRab2RddWtWf3JKa1s7aFE6QzEjbllBlIVplYhtlohuAMXLoNjNkKKqq9LV3djS1drW3OXh5cPK2GRZZnpdb3xliWZ4bWeSaXF+WH55UqGXj4qBbp+3o6XAsaK7rQDCxpXXzI22t6Pc3uvl5u/b3OPq6vLFy9lxWFeCX2yDZoNqbVupu5/GxLmjm4qzrayyrqa5zsew0civzsgAxcyd3NSYysCVxL262M3NzsW/0sXIjIiMX1Y/XU48SDo2ioF5lIqGYlZHfWY/YEstamFVusvBsc/IrczGAL21k7GpiKuoh3+GlHJ+o7atnJqeulJsjGtqQEU7K01FRq6tq0lAN72nWuXFU86wVlJGT4mZlK7KsqXBrgCnuqypxLy01NB+pcp7mMbT1trIzdutuc6np4hGPyteVVW1opKhhkrfwlPkw067nExAM0Zyg1ejwmCZuFwAv+Lgu9zctdTOk6yy3t7p1dXgrbPE6eP01OHFiZlWe3Na1qyQ0adszaZgzpZofmVfg36Sr7yVnLddnLheAK3Mt528k5W3cJOzZcXNt7TDq4ijd7nEnrbGiLHJca/Bb7uwcLCycKSmabeqb7W2fsfOnbrBja26crC9dAChxWqfxV+lyGSpyWutxnC1yXW9znm6x3q9yn+/yoTCzIW7x4Ctt3a8xn/Cy4HCyYK/xYHDxoTHyYrGx4sAnLtfmbZfm7RkoLJqpK9spq9xpq92qbB3q7B4r7J8qqt4mZturax8sbB7sK15sKx8sK18r6x8rqx7r6t8UqwMqsy/wNoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;도라에몽 도와줘&quot;
        title=&quot;&quot;
        src=&quot;/static/b4f2292a355bb0ef679ebf5516cdc531/86c28/image-15.png&quot;
        srcset=&quot;/static/b4f2292a355bb0ef679ebf5516cdc531/c26ae/image-15.png 158w,
/static/b4f2292a355bb0ef679ebf5516cdc531/86c28/image-15.png 260w&quot;
        sizes=&quot;(max-width: 260px) 100vw, 260px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
도라에몽 도와줘!&lt;/p&gt;
&lt;p&gt;이 다른 방법들에 대해서는 또 후속작을 내놓겠습니다&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;그러고보니 1번같은 방법을 쓴 적이 있습니다&lt;br&gt;
프론트엔드단에서 제출버튼 연타를 막기 위해&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;isSubmitting &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;postOrPutSomthing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;finally&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
isSubmitting &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대충 이딴식으로 써놓는 것인디..&lt;br&gt;
좀 주먹구구같다는 생각을 버릴 수가 없지만&lt;br&gt;
간단히 의도를 실현시키기에는 꽤나 적당한 것 같습니다 ㅜㅜ&lt;/p&gt;
&lt;p&gt;아무튼 배고파서 이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🖇️ 슬랙에서 깃허브 연동하기]]></title><description><![CDATA[팀 내 소통을 위한 툴로 슬랙이 요새 인기인 것 같은데요 보면 볼수록 뭔가 신기하고 편한 기능이 많습니다. 또한 개발자들은 팀 프로젝트같은 것을 할 때면 깃허브를 빼놓을 수 없죠?? Organization이나 Repository를 만들고, Issue…]]></description><link>https://sungpaks.github.io/slack-github-subscribe/</link><guid isPermaLink="false">https://sungpaks.github.io/slack-github-subscribe/</guid><pubDate>Sun, 31 Mar 2024 13:46:58 GMT</pubDate><content:encoded>&lt;p&gt;팀 내 소통을 위한 툴로 슬랙이 요새 인기인 것 같은데요&lt;br&gt;
보면 볼수록 뭔가 신기하고 편한 기능이 많습니다.&lt;br&gt;
또한 개발자들은 팀 프로젝트같은 것을 할 때면 깃허브를 빼놓을 수 없죠??&lt;br&gt;
Organization이나 Repository를 만들고, Issue나 PR을 올리고, .. 등등&lt;br&gt;
근데 개발자들은 게으르기 때문에 저런 Issue나 PR 확인하러 깃허브 켜기도 귀찮습니다..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 446px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c5aa8fddf45f286125d1d2ef8b98c79a/6244b/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25.316455696202528%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMklEQVR42mP4///foif/ss+frr+w7D+QAwZAxq9fvyIjI69fvw5k//37F04+fPgwLCzs69evQDZD7dM/2ff+l944H3dyfv/tI7///z914kRaetqaNWtCQ0M3b96ck5MTFxe3a9euxYsXh4SELFq0KDo6GkjOnDmTYens/YvWXDp34fTxSx2rj9QBzZsxY6aVldW8efNSUlIsLCymTJlSV1fn6ekZHBx84sSJTZs26evrKyoq3rt3j+Ff59Kvfk3fm5v+XM/4faYa6PCjx457e3s7ODgkJiYmJCTExsYCuWlpaREREYWFhdOnTwdyXV1d586dywC06lX5ktc9NV+fzvwD8uz/u3fvrl69GmjwxYsX379/D7Rq/fr1z549u3Pnzvz58+/fv3/lypVHjx7t3r0bAPEOyOuZbdn1AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;슬랙&quot;
        title=&quot;&quot;
        src=&quot;/static/c5aa8fddf45f286125d1d2ef8b98c79a/6244b/image-1.png&quot;
        srcset=&quot;/static/c5aa8fddf45f286125d1d2ef8b98c79a/c26ae/image-1.png 158w,
/static/c5aa8fddf45f286125d1d2ef8b98c79a/6bdcf/image-1.png 315w,
/static/c5aa8fddf45f286125d1d2ef8b98c79a/6244b/image-1.png 446w&quot;
        sizes=&quot;(max-width: 446px) 100vw, 446px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;따라서 슬랙에서 간단히 깃허브를 연동하여 원하는 레포지토리나 조직의 풀리퀘, 이슈 등을 확인하고&lt;br&gt;
코멘트를 달고 경우에 따라서는 이슈를 닫는 등의 마무리까지 가능하게 할 수 있습니다.&lt;br&gt;
매우 간단하니 바로 시작해봅시다&lt;br&gt;
참고로 Windows 11 기준입니다&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;슬랙-워크스페이스에-깃허브-앱-추가&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%AC%EB%9E%99-%EC%9B%8C%ED%81%AC%EC%8A%A4%ED%8E%98%EC%9D%B4%EC%8A%A4%EC%97%90-%EA%B9%83%ED%97%88%EB%B8%8C-%EC%95%B1-%EC%B6%94%EA%B0%80&quot; aria-label=&quot;슬랙 워크스페이스에 깃허브 앱 추가 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;슬랙 워크스페이스에 깃허브 앱 추가&lt;/h1&gt;
&lt;p&gt;먼저 원하는 슬랙 워크스페이스에서&lt;br&gt;
Slack App Directory로 들어갑시다.&lt;br&gt;
아래와 같이 들어갈 수 있습니다&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/JX2g6n8.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;그 다음 검색으로 Github를 입력하고 &lt;strong&gt;&quot;Slack에 추가&quot;&lt;/strong&gt; 버튼을 클릭합니다.&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/LmBYGWr.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;그럼 아래와 같이 앱이 추가됩니다!&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/fnCOL1B.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;&lt;strong&gt;&quot;Connect Github account&quot;&lt;/strong&gt; 를 눌러 깃허브 계정을 연결하고, 무슨 코드를 주는데 그거 갖다가 &lt;strong&gt;&quot;Enter code&quot;&lt;/strong&gt; 에 집어넣어줍시다.&lt;br&gt;
그럼 이렇게 됩니다
&lt;img src=&quot;https://i.imgur.com/V1eBBVn.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;깃허브-앱을-원하는-채널에-추가하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B9%83%ED%97%88%EB%B8%8C-%EC%95%B1%EC%9D%84-%EC%9B%90%ED%95%98%EB%8A%94-%EC%B1%84%EB%84%90%EC%97%90-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0&quot; aria-label=&quot;깃허브 앱을 원하는 채널에 추가하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;깃허브 앱을 원하는 채널에 추가하기&lt;/h1&gt;
&lt;p&gt;이제 슬랙의 원하는 채널(제 경우 &lt;code class=&quot;language-text&quot;&gt;#issues&lt;/code&gt;)에 가서, 해당 채널 상단의 세부정보를 열어봅니다.&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/ZzedSp8.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;50%&quot;&gt;
&lt;p&gt;세부정보를 열었다면 &lt;strong&gt;통합 - 앱 - 앱 추가 - 깃허브 선택&lt;/strong&gt;&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/NPO41Um.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;60%&quot;&gt;
&lt;p&gt;짜잔&lt;/p&gt;
&lt;h1 id=&quot;슬랙-채널에서-github-organizationrepo-구독하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%AC%EB%9E%99-%EC%B1%84%EB%84%90%EC%97%90%EC%84%9C-github-organizationrepo-%EA%B5%AC%EB%8F%85%ED%95%98%EA%B8%B0&quot; aria-label=&quot;슬랙 채널에서 github organizationrepo 구독하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;슬랙 채널에서 Github organization/repo 구독하기&lt;/h1&gt;
&lt;p&gt;이제 해당 채널에서 &lt;code class=&quot;language-text&quot;&gt;/github subscribe owner/repo&lt;/code&gt;와 같이 입력해줍시다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;owner&lt;/code&gt;에는 연결하려는 레포지토리를 가지고 있는 organization이나 유저 이름을&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;repo&lt;/code&gt;에는 레포지토리 이름을 써줍시다&lt;/p&gt;
&lt;p&gt;그럼 일단 아래와 같은게 나옵니다&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/DfPC9Oq.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;원하는 &lt;code class=&quot;language-text&quot;&gt;owner&lt;/code&gt;를 선택하면, 아래와 같이 나오는데&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/XU5dlIA.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;여기서 레포지토리를 고를 수도 있는데,&lt;br&gt;
방금 만든 organization이라 레포가 없어서 저는 All 선택지밖에 없네요&lt;br&gt;
사실 제가 원하는게 All이긴 합니다&lt;/p&gt;
&lt;p&gt;이제 다시 슬랙으로 돌아와서, 커맨드를 다시 입력하면 끝!!&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;/github subscribe owner/repo&lt;/code&gt;&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/CYbtw1s.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;이 경우 repository를 한정시켜서 테스트했는데&lt;br&gt;
저처럼 organization 자체를 구독시키고자 하는 경우&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;github subscribe organization&lt;/code&gt;과 같이 그냥 repo를 쓰지 않으면 됩니다&lt;/p&gt;
&lt;h1 id=&quot;이제-써봅시다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%A0%9C-%EC%8D%A8%EB%B4%85%EC%8B%9C%EB%8B%A4&quot; aria-label=&quot;이제 써봅시다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이제 써봅시다&lt;/h1&gt;
&lt;p&gt;해치웠나? 한 번 이슈를 열어봅시다&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/HiAOmbW.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;이렇게 깃허브에서 이슈를 열고 슬랙에 가보면..&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/kGT8vGF.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
&lt;p&gt;이렇게 알림도 받아볼 수 있고 코멘트도 달고.. &lt;code class=&quot;language-text&quot;&gt;Close&lt;/code&gt;도 할 수 있습니다!&lt;br&gt;
사실 위 화면은 제가 이미 슬랙에서 이슈를 닫아버린 후입니다 ㅋㅋ ㅈㅅ&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;이렇게 마법의 슬랙고둥님을 만들었습니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 256px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/527608345d8c8463326493f8414e0926/6f3f2/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEz0lEQVR42gHEBDv7AAkdEwYfExE8IxRAKQIKCQEFBw0qHgYjFgYhGhEwJQcMDQYODw0nHxlAJAwlFhA5MRdePh4+H7K0Ld7YIAAHHA8bLDIwQUMcRDBCWFQ+Q1MrPEdSZWssQEUACgkAAgYFFg0YQyoUSyESLhcSOiUVUTEGIBKPlSff1SMABSEMUl+LtbTxsLHR5t/z5uD25tn0/e7/1cXhgIOikJqxW252GUosCjIUCiEQGEAmDkksFD0it7Aq++siABExEzBGXYGV762q58PA5ujc9ePJ6Ne94vPf+P7w//Tq+uvi+36FnQQWEAwkFxU/LQtKNCFNIsfCKvXnJAASORs/Y2x6nPSPmOG5t+m8r9+9rNvy4vfl2O2wp9eamNKtreZ7e68BIhUXVzYaYTsTVDAMNhuhniDs3CMADS8VXYSXgrL/e5DmmZninZja49b449Dsp6XgiJTle4vc1dX3oJ26IEhMDk4vBzoWDjEXBysccHkfzsklAAgiECI+P22f4m2O73uI5aqy7+zb+L6z53qDwFBhpoCg+Jur5MvG7qez6IaSljhHNhEpGQInFnZ/IM3OKAAKJRoJIxhikcNykPNwgOGnru/czPGyredZbqAqQGpdfbmFp/Z2htx7i9u1uOh8hYg2UzUKOBqspCTVzSAACyYaECcoeqTegq3/ZYLmlqLr18zyqanlXn2tWnqgKkZvXHq2f57ybIHie43eNURPSmNCDDUdlpgj89weABQzIwYfFTBXZGug2WSP74uf587I8K2s5nGIuFl9pFZ3nihAaWaCyI+h+3d9uA4iHFRtSwk3GGV+GvneHgATOSMRNyMJOxJEcoxmlv9ujOywsvG8tOieo9JObpVdgKc6VXlCWpGLpPmfn9cqPjlKaTsOSxR2jh/53hwAFz4mEDMhEUokRXaTmKyzjJOAlp6+sKvjv7XsdIWzUHWaQVyAP1aLj6v6oqLWTmFfe5ZyBkMFlaIp8dkYABU1IxU3JhBPNDpiO8S6Ps29K3R7eZKb6Kul4rSx5GqArCQ+ZVNtqIum9qyp2b7Exc7czj1wPH2JFejSGgAaOicZNyYPRi5KdUeVnjqIjUOamF98iJ6SofOnp+W1suhvd6VgfLiIo/O9uufO187M2sZsiXtHXBDMviQAGkUqGDYkEDEfMF9Ai7Bfl58xopo1Y4bJdZryepPhl57ks7HprbHohp3umqPRcIV2iJWLGEAzQ1sj4M8hABlLKhs/JxU2IBNHK0l8UJfAZZ2lRHqgzX+u/3ek/HGY83SP5pSf5o+Y4aSq5i1DRwMgCRI0J3uIOO3ZIAAUQSYYQy0TNSEZUzMQRCY1XT+Gp0+etFVXfJFbi8Bvo+F4qvx0ovqIofaorPJLW3IHHAdPcHuSrmblywsAFUEYGEUkFT4sF08yF0EqFTMhHD4lnrNMZGkpCjgkIVc6NFlrNV1xUX2ejKz5fIzBRFpegsDbbqCfkaVZABtZFxVOGBNAKhVHLh1HNB1ALxQzIl96N7y5RCI/KhtUKBtCLyRTKSZgGE16hYyu/Yql1F6UmWeZq3W61wAZWRYaUR4YQS4ZRzIbSDYdPzAfPiQiRTC2vEdibTUSSi0mTDcuYjAwcSQgUCY6XXp1lblmiiVIaVSGxuSDexAdsjpQ5AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;마법의 소라고둥님!&quot;
        title=&quot;&quot;
        src=&quot;/static/527608345d8c8463326493f8414e0926/6f3f2/image.png&quot;
        srcset=&quot;/static/527608345d8c8463326493f8414e0926/c26ae/image.png 158w,
/static/527608345d8c8463326493f8414e0926/6f3f2/image.png 256w&quot;
        sizes=&quot;(max-width: 256px) 100vw, 256px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;간편한데요?&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🛑 자바스크립트의 비동기 작업과 Async/Await]]></title><description><![CDATA[Promise…]]></description><link>https://sungpaks.github.io/javascript-async-await/</link><guid isPermaLink="false">https://sungpaks.github.io/javascript-async-await/</guid><pubDate>Fri, 22 Mar 2024 23:11:07 GMT</pubDate><content:encoded>&lt;p&gt;Promise로 스마트한 비동기 처리를 살펴봤었는데요..&lt;br&gt;
괜찮은 것 같긴 한데.. 아래와 같은 경우에는 아직도 알아보기 힘든 것 같네요?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getJohnData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//John의 데이터 가져오기&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;John&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;john@example.com&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getSunghoData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//Sungho의 데이터 가져오기&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Sungho&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Sungho@example.com&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//꼭 John, Sungho 순서로 데이터를 가져오려면..&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getJohnAndSunghoData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;getJohnData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getSunghoData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;John, Sungho Data 가져왔어용&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 329px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fafe9f6f4d12986516587366d216eea8/004a5/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.835443037974684%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABd0lEQVR42pWRyVLCQBCGeQOVJRQkISEJSxKy7+ygFEVRelWvcvf9b7/dk0JPFnrodGYy3fP1l0bXimClG0yKPcbZDu7iCN2roNg5JDP4dzQkK0T1/IbD+wWPrx94uXwi3JxgBEtIVoCO6aNj+D/5RjS4a1N18aA6uFcc3Mk2mgNeu2jpnoi27td5+IeGfMjKCwTHFdLzRsR0WSE5rTHbLTApc2hhCv9pCc2PReMbhCEUN4HsRNCjFEacQbZjDCmrboy+HaE3jTAIUnRJQUvzhIrfHdJjVBRwtwtBMdvOkZzXmM4r+IcVQtrj79x8tl9iXBaCkuuuVJJZxzehTBQDP4GZ5YLMotwnKi3MoNO4TNwdBVDpjDqLySmPXROxsqtbQcgvepTBJV88Lo/DTtmjR9Sal9A6F+SsRKaLJmWJaVWJGGUF7MVc1LKOBt/E/ow0w5AK+nZIvhKMqwLOqhJEihfDTDJotN+b1BNxKKRBdmL6WfUU7aGHL/mFCtLCFSdsAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;실행결과 1&quot;
        title=&quot;&quot;
        src=&quot;/static/fafe9f6f4d12986516587366d216eea8/004a5/image.png&quot;
        srcset=&quot;/static/fafe9f6f4d12986516587366d216eea8/c26ae/image.png 158w,
/static/fafe9f6f4d12986516587366d216eea8/6bdcf/image.png 315w,
/static/fafe9f6f4d12986516587366d216eea8/004a5/image.png 329w&quot;
        sizes=&quot;(max-width: 329px) 100vw, 329px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;더 좋아질 수는 없을까요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 276px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a7767145d2ac7b5ebd403d1c7fd8faf4/f2d11/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAChElEQVR42mP4DwP//v37jwD/wIgAYEBS/vfmlQtrlyzYsWnd+3dvkI37CwR//gAJLJohitbMmpDsaOxrqGokK+pvZ3n90kWQFIYGZAcyQMy7efF8TajjoSklV5a1b2rPKPQyrUgM/fsPJPX+7etV82fN6GrZtX7125fPkfVDNa+dM2lFTeyDTdMfbZ31Zs/cU1ML+tJ837198/fntz2Ty7Ls1YP05b11FfzMdSe1N/z4/g1iBMjZ396/2t5deGf9hO0T688v6bu8asLmlqwZhWGfv/24umvF+akFeyYUN8W6Z3qY+RqrqwtxTexogQQESPPHB7euzax6f2TpnQ3Tb6xo29aTv6wmY01z1qPrF3dMqrm+ZsruqY3dmaGVka5JrmYOGvKetua/f/+GBtjf3z+fHNv8dPP0L8dW3l878cSMslMzK5cVBB/oyT80sfTl3sWHZtRPL4lsTfTM9LCwVpbytgFq/gXWDPb9908fbq+beGpex+ra3CNTqleXRsxJdru2oP7NzhlPN086O6vicG/2/LzAinAne1XJmtx0qLMhkQGMxJu7F15bPWlrc9GmxpSuENtDXemnp5Vfml5+aUbJtQW1V6eXTU90D7fSi3CyunvzOszP4IB/PGvxidLUK+snHJpe2mavOSfC8faq5mNTC3a3F2+ojd/XkX6oI3FDnlOzr+aFo/sgOkHOfrNz31XvqDMMwmc4ZI6q6G+UVljJJ3G6O/tgT+oCKYk9jv5P79080R71coLbj6m2j9utnl/cC04rYM2nWYXPMvBeYJY4zyR2hlHkNIPgCW3Dqyvq18c7rmTgXMvAc2lK76s5UU+nBDyfGnClw/9wd+y3T+8h8QwAOJYlaSC9qQgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;속닥속닥...&quot;
        title=&quot;&quot;
        src=&quot;/static/a7767145d2ac7b5ebd403d1c7fd8faf4/f2d11/image-1.png&quot;
        srcset=&quot;/static/a7767145d2ac7b5ebd403d1c7fd8faf4/c26ae/image-1.png 158w,
/static/a7767145d2ac7b5ebd403d1c7fd8faf4/f2d11/image-1.png 276w&quot;
        sizes=&quot;(max-width: 276px) 100vw, 276px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;속닥속닥...&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getJohnData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//John의 데이터 가져오기&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;John&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;john@example.com&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getSunghoData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//Sungho의 데이터 가져오기&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Sungho&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Sungho@example.com&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//이렇게 해보세요..&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getJohnAndSunghoData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; john &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getJohnData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;john&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sungho &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getSunghoData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sungho&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;John, Sungho Data 가져왔어용&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;헉 이렇게 해보라는데요?&lt;br&gt;
코드가 아주 절차적으로 보이고 아무튼 정갈해보입니다&lt;br&gt;
근데 처음보는 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt; 키워드가 있죠?&lt;br&gt;
당장 알아보도록 합시다.&lt;/p&gt;
&lt;h1 id=&quot;async와-await&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#async%EC%99%80-await&quot; aria-label=&quot;async와 await permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Async와 Await&lt;/h1&gt;
&lt;p&gt;Promise를 더 잘 쓰기 위해 나온 특별한 친구들이 바로 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt;입니다.&lt;br&gt;
사실 이름 안에 역할이 다 담겨있고, 사용하기도 쉽습니다.&lt;/p&gt;
&lt;h2 id=&quot;async&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#async&quot; aria-label=&quot;async permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;async&lt;/h2&gt;
&lt;p&gt;먼저, &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt; 키워드는 함수를 비동기(&lt;em&gt;asynchronous&lt;/em&gt;) 함수로 정의하기 위해 쓰입니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;async function myAsyncrhonousFunction() {}&lt;/code&gt;과 같이,&lt;br&gt;
그저 함수 선언 앞에 키워드를 갖다 붙이기만 하면 됩니다.&lt;br&gt;
이렇게 하면 해당 함수는 항상 &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;를 반환하며,&lt;br&gt;
함수가 명시적으로 &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;를 반환하지 않는 경우에도 묵시적으로 &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;객체로 감싸줍니다.&lt;/p&gt;
&lt;p&gt;예를 들어, 아래 두 함수는 동등합니다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;BBOONG&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;BBOONG&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그렇습니다.&lt;/p&gt;
&lt;h2 id=&quot;await&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#await&quot; aria-label=&quot;await permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;await&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt;얘기에 &lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt;가 빠지면 섭합니다?&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt; 함수 내에서 동작하는, 이름 그대로 &lt;em&gt;&quot;기다려&quot;&lt;/em&gt; 키워드입니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt;키워드를 붙이면 해당 줄에서 &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;가 처리될 때까지 함수 진행이 멈춥니다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 204px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4a8ec8f4051b8654da68b800520c86d1/779ef/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 94.30379746835443%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAAES0lEQVR42hWT+09TdxjGD+3p5ZRLz/V7vufe0xtFEFraMlou69W2tOHeAa2wAWoBQcrNMRSFhgmiTKZZIjoMMM0kcfthYcliFuOSZTH7q3b2/va+ySfP8755XsSCkbV1JEmxFAUJGpAEYTCY9AZUAdWT0ablgdB+Kf92e+nj0e6Pu9sQ0iRlpWgrYEkGEAhBAIqmSVrjKQZqM0qPojRu7very1nffK59vjexM559tX7t9Ns7vfEITlSLIoSQghyNEHQdTuKs1vIcEKAsgG632iqTo351NdtWKaSe375xfyRxMNX35w87r588kHhKEgEHaY6nEYoGmiLgFFFSOJFTRXYuFioGnP1NwlzcVymmny0UFjPhzXz6/H75pLLqcUgiZESRFUQaAZqkYIO8jWZ4AIWamjo3AP2XHWN+21zCe2ckWhnvWUiG1gd6jspTZztfczSu8KwksAJPIbwIZUWBnKhZMJownU5fi1XLuDVqx8dDtsVcW+XL7L18fHdq8O/Tp/PFIRzDNFjmWAEyCOR5KDIMC1CjGalCtKqz1KS6OwfbvV94lZFW+Wpn/Uw6cCufWb6az0Y7h3LJeKgt1RVMdX72P0wCUo+aGmzODp837Gsp5jKFXGbjxsRGoW91IDSnkb3xynRxJh4pp5KldKrQHbqaCHU0exAOArMFq0LRJtXmddgbFXvY6fCwIOhpONzafnmwd7a/cby5cPHi2WwwnMf5tN2ZaPN2BtyQsSBGza0eMZpRE4YaMVRv1On1egTRoXo05QvsLS1dnL/59OGPX89fT/jDfZSQcrg7WpqbL7kEntCuLThcDkHiLTUW1KRHMV1tjdkDyXTANd/bvTmWOVz56uJo78n2Wku9KlGkCGhFFS95HG1NLkSUJFe902ZXLNWWKl2V0aALuplil6sU820Xsid3Sz/dnX334Pa/58eVlRlA4yRRezkYzOR6pwaTCEEyBIkTpLUaM5sMqJu1DvrkiVD9ZCy4OpjeGu05Wpl+9c3Ms5XS+7PnyWiIIDEOapEm2v2NCOQkXuAAZAxmkxlDIy443XVpIe6bTgRLudharqsyHHu7ubA01HPx9PHO2gJhxVSFFwW2ucGJcAKAWtZ4JqCKdgrvkKnxdmc5HdyfzL4oF+8NRyf9rndby78fbv3z6uDTbz83up3a2jwPOEBrMMMJrMKBa583J9xigLOOBtTylcBuIXs4PXwr2nqz0/f99dHTjZtv7s6/f/k44PVwDCFLUJU4DeZlmygKfKTBNux1dKtUvlVezLbeG45sDsSmwi2lSHipJ/nd7MQvOyvnD9cbnbLIEjaetkssAqGgvbHBbNTrdC4ajzmZIZ8wn/Fujia3xtJzUf90h28xHX90vfjX8d7Z3jpRa+YAoQi0zDEISeJYNWa3yR67AzOY3XTtlXpuLOgsZ9vX87GNwehOIXVye/bj8aMPJw/XbhRCAU+jA3hU0SEL/wGGmQMdqjs2XQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기다린다&quot;
        title=&quot;&quot;
        src=&quot;/static/4a8ec8f4051b8654da68b800520c86d1/779ef/image-2.png&quot;
        srcset=&quot;/static/4a8ec8f4051b8654da68b800520c86d1/c26ae/image-2.png 158w,
/static/4a8ec8f4051b8654da68b800520c86d1/779ef/image-2.png 204w&quot;
        sizes=&quot;(max-width: 204px) 100vw, 204px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아까 처음에 살펴봤던 코드를 다시 볼까요?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//async function에서&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; john &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getJohnData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;john&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;await가 없었다면 getJohnData()가 1초 대기하는 것을 기다리지도 않고 &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;가 실행되기 때문에, 결과값은 &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;였을 것입니다.&lt;br&gt;
그러나 &lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt; 키워드를 붙여 기다리도록 했으므로, &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;가 이행되고 나서야 &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;가 실행됩니다.&lt;/p&gt;
&lt;p&gt;우리는 &lt;code class=&quot;language-text&quot;&gt;getJohnData()&lt;/code&gt;같은 비동기함수 호출과 그 밑 줄을 차례대로 실행하기 위해&lt;br&gt;
콜백이니 &lt;code class=&quot;language-text&quot;&gt;Promise.then()&lt;/code&gt;이니.. 코드를 새로운 형태로 짜야 했는데&lt;br&gt;
그냥 &lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt; 딸깍으로 가능해졌습니다..&lt;br&gt;
펀하고 쿨한데요?&lt;/p&gt;
&lt;p&gt;흠.. 그리고 &lt;code class=&quot;language-text&quot;&gt;async&lt;/code&gt;함수에서 에러를 반환하고 싶을 수도 있겠죠? &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;reject&lt;/code&gt;처럼요&lt;br&gt;
이 경우에도 그냥 아래와 같이 간단하게 할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wannaReject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;No&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;혹은 예외 &lt;code class=&quot;language-text&quot;&gt;throw&lt;/code&gt;로&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wannaReject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;NO&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 해서, 일상적으로 으레 하듯이 &lt;code class=&quot;language-text&quot;&gt;try-catch&lt;/code&gt;블록을 사용할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; john &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getJohnData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sungho &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getSunghoData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/*두 썸띵*/&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;ref&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ref&quot; aria-label=&quot;ref permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ref&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://ko.javascript.info/async-await&quot;&gt;모던 JavaScript 튜토리얼 - async와 await&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Statements/async_function&quot;&gt;MDN web docs - async function&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://velog.io/@tosspayments/%EC%98%88%EC%A0%9C%EB%A1%9C-%EC%9D%B4%ED%95%B4%ED%95%98%EB%8A%94-awaitasync-%EB%AC%B8%EB%B2%95&quot;&gt;토스 페이먼츠 - 예제로 이해하는 await async 문법&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;br/&gt;
&lt;p&gt;이렇게 Javascript의 비동기 작업 관련해서 3번이나 포스팅을 뽑아냈네요&lt;br&gt;
아무튼 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[📉 Gatsby 블로그에 Progress Bar 넣기]]></title><description><![CDATA[그냥 갑자기 progress bar를 블로그에 추가하고 싶어졌습니다..  그 왜 그런거 있잖아요.  블로그 내리면 스크롤 얼마나 내렸는지 보여주는 상단 바 간단히 스크롤 정보를 얻어다가 몇 퍼센트나 왔는지 확인하고, 그 퍼센트를 bar의 width…]]></description><link>https://sungpaks.github.io/how-to-make-progress-bar-in-gatsby-blog/</link><guid isPermaLink="false">https://sungpaks.github.io/how-to-make-progress-bar-in-gatsby-blog/</guid><pubDate>Sun, 17 Mar 2024 14:24:33 GMT</pubDate><content:encoded>&lt;p&gt;그냥 갑자기 progress bar를 블로그에 추가하고 싶어졌습니다..&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/57be3d00a1b3c10880910846df8f77e0/cc155/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzElEQVR42pXSy04TUQCH8UESeQKWbtwY0I2m1vgARh/DuHNr3BG3bstCoyCXBQqkauItMSEh4WYDCJ220M6Mhc7YGXHaUDq9zEwHxn4eiwmJoSSe5Jfv/LcnR3qZtrk5meXOtMKtV8duT6tia6Iai9oepp5HNwzK5TKlUulUtm3jei6S6bSZ3w1Z0kMW9ePOFwI+5ut8EmzHx3c9XFfUa50pPAqRlu1lXn+f4V3xTUfcmGF9fwmoCw6tsErjsEIjqOCJezdueMDhLw/p3sID+qcuc3H2Rkf/1BXuLtyn1Mxh1tMUq0kUcwXF+oJVS2HWMhSdf21hVGUc30YqemXkikX64EeHXDHRGxXCNhwJfxpyQswzThvpZzGDmnrCzvYI+a3nHUrmKbIcQ07G2NyIsfF1WHSYpNgf3j9jdGSSifEJxsdOvBgdw9ANpLm5h6RliW9aL6om/dVDPt9DNnuO1dU+Eok+1tbOi93L0NAFBgevE41eJRK51hGNRhgYuEQ8PotUbbpkTR1FfA1FzaJoua5ywnZOOZ2i4vk+UrtkwfoKWAXxSE1oORDU/l+rSjtoIgWbCVqPH+F/fotvqfi7afxCpiuvm50Uwf4evwFws6+g4RLEhwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;progress bar&quot;
        title=&quot;&quot;
        src=&quot;/static/57be3d00a1b3c10880910846df8f77e0/f058b/image.png&quot;
        srcset=&quot;/static/57be3d00a1b3c10880910846df8f77e0/c26ae/image.png 158w,
/static/57be3d00a1b3c10880910846df8f77e0/6bdcf/image.png 315w,
/static/57be3d00a1b3c10880910846df8f77e0/f058b/image.png 630w,
/static/57be3d00a1b3c10880910846df8f77e0/cc155/image.png 886w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그 왜 그런거 있잖아요. &lt;br&gt;
블로그 내리면 스크롤 얼마나 내렸는지 보여주는 상단 바&lt;br&gt;
간단히 스크롤 정보를 얻어다가 몇 퍼센트나 왔는지 확인하고, 그 퍼센트를 bar의 width로 주면 될 것 같네요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 185px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1930acb1cee30895c5b7339f5ef3c9a6/1d79a/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 147.46835443037975%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAIAAAAl5NuSAAAACXBIWXMAAAsTAAALEwEAmpwYAAABTUlEQVR42p2Uy4qEMBBF8/8f5UJBdOFCcbBVEPH9aG3f67l0gTDSk64YUBLl5N5KVUqM4zjPc5IkaZpiguWLPQSefd+LosjzHJOXyhBN09i2DcFlWQzDwC58ffF8PqMowhuA7/uYTNOkYHtdV7wh2Pf94/FQg8f3AFyWpeu627YpwOcgcURxE86yTNM0pvgfmMwPwwBxTuTisgZcVZVpmhzxK0zimKDmYEEZhuG6riGOw5ObFx+/gsEuqLabMMQty5LXqZD8Q8xwfgeGeNu2yLlEXKYMDAUrOXMhIZEziOu63nUdHaGCMoWNJkFRqNkmBrzjOB9zLr7WIOD/Ev4FpsgRM5oM8XT5uTAY9LkgCKg9otVR52HZPu+p53lYxnEMF3QEgnPpqWDCMDyO4+c9sBcXPnOOY8cEzrm2zyaBhF+qlQuT+KW9cOFLkgj+BWOtTQvDJAxuAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;어디까지내려가는거에요&quot;
        title=&quot;&quot;
        src=&quot;/static/1930acb1cee30895c5b7339f5ef3c9a6/1d79a/image-5.png&quot;
        srcset=&quot;/static/1930acb1cee30895c5b7339f5ef3c9a6/c26ae/image-5.png 158w,
/static/1930acb1cee30895c5b7339f5ef3c9a6/1d79a/image-5.png 185w&quot;
        sizes=&quot;(max-width: 185px) 100vw, 185px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;시작해봅시다&lt;/p&gt;
&lt;h1 id=&quot;스크롤-정보와-스크롤-이벤트-얻어오기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%A4%ED%81%AC%EB%A1%A4-%EC%A0%95%EB%B3%B4%EC%99%80-%EC%8A%A4%ED%81%AC%EB%A1%A4-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%96%BB%EC%96%B4%EC%98%A4%EA%B8%B0&quot; aria-label=&quot;스크롤 정보와 스크롤 이벤트 얻어오기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;스크롤 정보와 스크롤 이벤트 얻어오기&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1cc1257b5579aabb3ab22a8629868b4c/525d3/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 110.12658227848102%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAADzUlEQVR42oVSyW/aeBT2nzcaaaQ5zCGjGVWzaK5zmD9hDj310CpVCU0aqWES0jYoGYiJzWYwGBsMBEpYjG0wOAmr8W6zZOmD9DBqI83T56e3fW/5ycjNzc10OpUkaTgcqqra7/fBnUwmiqKMRqPBYABBy7Jub2/vvhJE1/VYLBYIBAiCKJfLfr//9PQ0n89XKpVcLkdRVLVa5Xn+cfJisYBR0ELTNJjgOA5o27ZnsxkYrusCbblc3j0mCCSACdWmaQIT3NlsDgbQDMMA/QXhdi2fyfDBVbIsw/HQRep0NGW8XCwgfn9//wUT1oR2MAkeCOoRaAPk6+vr+XwOo+SerCoTsB/dE8hwDuwFb7kiw/eQuFnLw2I3/xE45Gv3oQYBz7Et17HBuV/J3Rr/K+ub3ZlbuahXa9xY0Zz50nLmtgtYAKyVnn/GbLHGfI1VFsYjiuHsRsVtTPCGWx606UE5D9rwnDa2UA7gDXPes9ZrjN/G+B1c2MHWlWe8F20NFQuZGI4X41+FAa1XYe5lqLF1Jngj3ZennAfaQR0mbOPiTqS9E5XeRKWdiPQal7xhYTC1kKnp7hOSLy7txdp7cenNWWPjtz83fvnjn4T4Ni75EpKP6Bykugepnp/sHQJS8kFS3id6I81GNNP9kG4fkiv4k6KflI7R4POnP//194sA0z9MCe/T4lGmE6CkY7r7ALCPMtJEdxDddoN0+5ha4SgtoIw4mykdMff9DxtvsXKI7Z3QnX9z3VC+h7IyWpBBh1g5mJOmhovozuys0Avnu2G2G6Q7dP0K/st+//LHJ78/2z1J1McoK2EFGS/K0eJVrHQVOb/CSpdYUVZNFzFsN0ILWJbH6VaYamVL9cnkusHVvvn2u6cv9jLVEU6LMbabKPSSJZkodYmSHC/KEFFNGzEtJ0HXATGqGooVKTo7Gl0C+acnvz7b9CXoFpoo4elqPFuPZmpxCnQjSjUxsjbVTcS0HYKpE0wDNE5+jCSyg+GlKAm7vnfvg2SCbkQz1WjmIp6txTI1PHWBEdUIWUPjFUU1EMt2yXwryTTTLJ8pCEmGqzfrZBqPpWgyz6dyTTLXyhT5bElkzttUUaRLYorhiGxTh7Vtx2UrHbbcKVSkwsfO+UXvKBDc3HxOpFm6IGQLAlNqgw7Fy+/QQgAv+U5ynv30lj81UjQEGmBklcg2MvkWxQq58zbJ8BTbBpsqCAmag42AD9sRNEcwXJKBV6h9CLOKZiDzxVK+VgZjXVHNwUgfK+ZYMQYjFSJTzR6OIWJAStNtVbcnU0OZrmxFtRaL5ScsWGtfA8zZwQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;어디지&quot;
        title=&quot;&quot;
        src=&quot;/static/1cc1257b5579aabb3ab22a8629868b4c/f058b/image-4.png&quot;
        srcset=&quot;/static/1cc1257b5579aabb3ab22a8629868b4c/c26ae/image-4.png 158w,
/static/1cc1257b5579aabb3ab22a8629868b4c/6bdcf/image-4.png 315w,
/static/1cc1257b5579aabb3ab22a8629868b4c/f058b/image-4.png 630w,
/static/1cc1257b5579aabb3ab22a8629868b4c/40601/image-4.png 945w,
/static/1cc1257b5579aabb3ab22a8629868b4c/525d3/image-4.png 1090w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;먼저, 스크롤이 어디 쯤 있고, 전체 스크롤 높이는 어느 정도인지 알아야겠죠?&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;document&lt;/code&gt;, 또는 &lt;code class=&quot;language-text&quot;&gt;window&lt;/code&gt;객체에서 정보를 가져오면 될 것 같습니다.&lt;br&gt;
저는 &lt;code class=&quot;language-text&quot;&gt;document&lt;/code&gt;썼습니다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;document.documentElement.scrollTop&lt;/code&gt;으로 현재 스크롤이 위치한 높이를 알 수 있습니다.&lt;br&gt;
근데 스크롤은 두께가 있죠? 전체 문서에서 현재 위치한 화면의 가장 위쪽이냐, 가장 밑이냐, 등등..&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;scrollTop&lt;/code&gt;은 현재 위치한 스크롤의 가장 위쪽 좌표값을 줍니다.&lt;/p&gt;
&lt;p&gt;이제 전체 스크롤 높이를 알고자 한다면, &lt;code class=&quot;language-text&quot;&gt;document.documentElement.scrollHeight&lt;/code&gt;를 가져오면 됩니다.&lt;br&gt;
그런데 주의할 점은, 이 전체 &lt;code class=&quot;language-text&quot;&gt;scrollHeight&lt;/code&gt;에서 클라이언트 화면(유저가 보고 있는)의 높이인&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;documentElement.clientHeight&lt;/code&gt;를 빼줘야 합니다.&lt;br&gt;
우리가 방금 &lt;code class=&quot;language-text&quot;&gt;scrollTop&lt;/code&gt;, 즉 스크롤 중에서도 위쪽 좌표를 기준으로 하기로 했죠?&lt;br&gt;
따라서 &lt;code class=&quot;language-text&quot;&gt;documentElement.scrollHeight - documentElement.clientHeight&lt;/code&gt;값을 전체 스크롤 높이로 써야&lt;br&gt;
가장 하단까지 갔을 때 진행률이 100%가 될 수 있습니다.&lt;/p&gt;
&lt;p&gt;이 세 가지 정보를 하나씩 &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;로 찍어보면&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 333px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9a755055e2ff0862734d7dc4303752cb/24c7e/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 128.48101265822785%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEAElEQVR42qVV2W5bRwzV//9Pn/qaNE4kNa5jF7L25e77vt97ekhLtoPCaIASoHiHM8M5XDUrigJOkMLyYnhhhrTsEKY1/Fj0Gb8r1XlxpesgqWE4IRw/hulEejerekRZjYB3ZqvVM3YnA0/rDVabI2JuuFHBBxJyyoup6kxdJ/CTCpvtCX/9WOHhcY3N/oK8HtTw2fQx+/rtDsddAO80wg0zReeGJWw/o2FBlavO9nMYbqIon1wiLXrk1UD0gq5FWnTo+gmzxZ9zXLYB3F3DFyxESUGu1CWbYfDDFElWwSUCm666QYK1nyAuWhRVR6MvUnicaHA+nyNJEghNVAgNFCN5GEWnKvTX75vE9LZ3k0JqMIoTwh2Q5QXKqlbZ0WrbDciLUnVFUem37AnXTafGda+slOu6eTEYxzGqqsL5fIZlmTDNC3o+UPHw5XKB7/twHId6U9kgR1GsXriOC9t2dF88nS0WcxwuPi5eCTfuKFtc/A5Hl5kNGnhJr3phR6SsyU7Uwg4b1XvJAMMvcXbzF4Org4fHrYfVucSnvwv8/j3Fb/MEX58LHOwKe/LOKnHiY3vKnVnqWtnkGafB/crC8uksBhcwbZ9FGhJRjcddiJ1NV4MBex4M04Yl0Wrxng0XSd6hbCby+C+uWmZ5uVwyBjY+f/6ksbz/vkSa5ei6DqZxYawifrM0yhpfvvyBJM2v+XyX2nekCIMgQFmWaNsOTdsy4z2GYbjyiHEc9VvKqude0zQq5dGXs6PeH8fpxaDneWpUsikkBuTyNIkcdH0zKhcPhwNOp5NmVqrgVgn9ML2VjRxu+XIrr5YZOl96tIcV9UTesshHlVJOclYoY2gkJDcSEIpQDKZpiuPxCIM1VXkGhu032CyPxX6gi7XWnMgkieiNh4GuHvY7LJeLn7ps9vXujp0S60IQVFWDJM44YXJNwDD02lpFPRJtp4+k5ciBMHDydDoctF3ZNUEYYSaoJC5Cjm1hs17jtN8jDjkwPFcTJRlNigGPxxKrS8nib1ibNeuQczPrXxH6zMVMBqxkTCgnqrNhIGWvvu/6afp5ALyn6V38xNZMYifpFyqINM8KxEEEy7GZPQuH4xlVXXNMTVibROXU6qoZtNqaUd5fK2NikjLM5OeGsMhzWKaBHw8PijQMOOrZ/H0vc2/Eli4e3YY93LF3W7bifxiU0pB4RnGqyXkrh19z+dXgzeWYNWVblgZXkrXdHrB63nDmlUiY2ft9jicOEEG3t65JSbqPEXYsm4g1ttluOSxrNBI7JkherztmMe04+nvNuLgaU9bt+IowZ8heDY7XlhO0JafvBx5+SGJQumYmVsUg/yk/jNOvkICRyTWTkS4d8n9JEMqQ+AcgmMeBXERhQQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;스크롤 정보 로그&quot;
        title=&quot;&quot;
        src=&quot;/static/9a755055e2ff0862734d7dc4303752cb/24c7e/image-1.png&quot;
        srcset=&quot;/static/9a755055e2ff0862734d7dc4303752cb/c26ae/image-1.png 158w,
/static/9a755055e2ff0862734d7dc4303752cb/6bdcf/image-1.png 315w,
/static/9a755055e2ff0862734d7dc4303752cb/24c7e/image-1.png 333w&quot;
        sizes=&quot;(max-width: 333px) 100vw, 333px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;대충 이런 식입니다&lt;/p&gt;
&lt;p&gt;이제 스크롤 정보 가져오는 것은 알았으니, 이벤트리스너를 등록해봅시다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;document.addEventListener(&quot;scroll&quot;, scrollEventHandlerFunction)&lt;/code&gt;과 같이 해줍니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;scroll&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; currentScroll&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollTop
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; totalScroll&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollHeight &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientHeight
  &lt;span class=&quot;token function&quot;&gt;setScrollPercent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;currentScroll &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; totalScroll&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대충 이런 식의 코드를.. 상단 고정 레이아웃 컴포넌트에서 추가해줬습니다.&lt;/p&gt;
&lt;h1 id=&quot;progress-bar-컴포넌트-생성하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#progress-bar-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;progress bar 컴포넌트 생성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;progress-bar 컴포넌트 생성하기&lt;/h1&gt;
&lt;p&gt;이미 상단에 고정된 레이아웃인 &lt;code class=&quot;language-text&quot;&gt;top-ui&lt;/code&gt; 컴포넌트가 있으므로,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;progress-bar&quot;&lt;/span&gt; style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;scrollPercent&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;밑에 적당히 이런 친구를 추가해줍시다.&lt;br&gt;
css 클래스인 &lt;code class=&quot;language-text&quot;&gt;.progress-bar&lt;/code&gt;는 적당히 원하는대로 작성해줍시다.&lt;br&gt;
width는 변수인 &lt;code class=&quot;language-text&quot;&gt;scrollPercent&lt;/code&gt;를 쓰고싶으니까, 리액트 컴포넌트에서 직접 줍니다.&lt;/p&gt;
&lt;h1 id=&quot;failed-to-server-renderssr이라는-에러가-떴어요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#failed-to-server-renderssr%EC%9D%B4%EB%9D%BC%EB%8A%94-%EC%97%90%EB%9F%AC%EA%B0%80-%EB%96%B4%EC%96%B4%EC%9A%94&quot; aria-label=&quot;failed to server renderssr이라는 에러가 떴어요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Failed to server render(SSR)이라는 에러가 떴어요&lt;/h1&gt;
&lt;p&gt;그대로 진행해보면..
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c313c34e4de767724e95988a1673e56f/432e7/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 110.12658227848102%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAADAklEQVR42pVRW0/TYBju/xETiRnCYMEARo2HxKgXGjVCOIyxcVQBNVyoEBbwEmTDHR1DEoKI94oGbzUBwpUQyOi6rV071m7rDi0+X8vMOJjo2ydfnz7f+3zv2++lOkyO9qopAiOBxUi4xegANxd1c+WUpdphNTmPgGozTHef9/Y2+HvqfN213k6TB582k8dW44bSVevtqfMOXg12VLmaz0y1lDtKQZkNzt563/Mb7x9ffNdX73t0wT9wZaavwf/kcmDwWhCA/vT6bFetp6V8qvWsoxSUucI5dGvuxd354fsLY80fRxsXRx4sjLcsDd9bsDctjrd+GmteGro5h7JHnJrZ4LQaXVaj21btRtu2Gk+nyW0zuTuMLlQDsVS+tVa7jjuJ2VI5/frO8kz/usv6w935Mziwbr/9uc3gaD83ba4gAAGQdhxU0+k33caZZ5c+9NfND9TPg3RVBR6emmgsm2wsm9AwWcREyUpAzdpXAiNffS+/+F8tAyD4hBgcXcE6a/8OogNcV/TdwOg3SlXV/RNCLb7Uw6pKoFliXJRSCgpNR8LhSDzOY6XDTGg3HI1xcV4IhehQKByLcUwkGo2xu6FwNMpCEYQEzJu/NilFUXghgT049SOQCsRYLsxEOC4OzsUh42gGiixn9S62t7cPzCzLafkczws0zXAkWSAKpDjPcnF0BLZLM+gIR8C1s7NDzEhlmCgkUoTkRWganbOxGEsa1o5IpdLpdCZFXhmcq+qVVVWBgOKJxN5eMimlUqIo4a/AoUOCDN+ha9MuTGtbRW1l/x/iz1z0/IN/3tjYWFtbW11dFUVRTzoSJ56it61ms9mMFv/VwtbWFjHDk8/nc8XIapH7e2AXZlwSMcOJaxQEAcXB0TxuSE8qXUuJ3i/550KhkJFleGREJpOSJL0X6PmSwGcuTx4EKqMSqVzI5VJCAsOStcBseJ6XRJFlWRBthhhcEjwpJoWUwEt8tpBFJpkzTsKNpTMoL4PAJkqkc0nC1NGHlNYCMqpJ2E+LBaUgZ+TfWmkBwfQFK/0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Failed to server render(SSR)&quot;
        title=&quot;&quot;
        src=&quot;/static/c313c34e4de767724e95988a1673e56f/432e7/image-2.png&quot;
        srcset=&quot;/static/c313c34e4de767724e95988a1673e56f/c26ae/image-2.png 158w,
/static/c313c34e4de767724e95988a1673e56f/6bdcf/image-2.png 315w,
/static/c313c34e4de767724e95988a1673e56f/432e7/image-2.png 570w&quot;
        sizes=&quot;(max-width: 570px) 100vw, 570px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br&gt;
이런 에러가 납니다&lt;br&gt;
게다가 &lt;code class=&quot;language-text&quot;&gt;gatsby-config&lt;/code&gt;에서 &lt;code class=&quot;language-text&quot;&gt;flags: {DEV_SSR: true}&lt;/code&gt;를 추가하여 서버 사이드 빌드 에러를 활성화하지 않았다면&lt;br&gt;
그냥 &lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;환경에서는 모르고 개발했다가 빌드할 때가 되어서야 에러를 알게 됩니다&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.gatsbyjs.com/docs/debugging-html-builds/&quot;&gt;Debugging HTML Builds&lt;/a&gt;에서 관련 내용을 확인할 수 있는데요&lt;br&gt;
Gatsby는 기본적으로 페이지들을 정적 HTML파일로 빌드하고 서버사이드에서 렌더링해주기 때문에&lt;br&gt;
브라우저 레퍼런스인 &lt;code class=&quot;language-text&quot;&gt;window&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;document&lt;/code&gt;객체에 접근하려고 해도 해당 객체가 없습니다..&lt;/p&gt;
&lt;p&gt;그래서 이걸 해결하기 위해 찾아보다가 &lt;a href=&quot;https://stackoverflow.com/questions/62816197/how-to-implement-document-getelementbyid-in-gatsbyreact&quot;&gt;스택오버플로우&lt;/a&gt;에서 관련 글을 찾았는데&lt;br&gt;
코드를 React Lifecycle에 포함시키기 위해 &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;로 감싸면 간단히 해결된다고 하네요&lt;/p&gt;
&lt;p&gt;그래서 결국 이렇게 됩니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;scrollPercent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setScrollPercent&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;scroll&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; currentScroll&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollTop
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; totalScroll&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
      document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollHeight &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;
      document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientHeight
    &lt;span class=&quot;token function&quot;&gt;setScrollPercent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;currentScroll &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; totalScroll&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;br/&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6d78ecfb851f422642e3f5a1b326c5f5/b97f6/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.87341772151899%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABY0lEQVR42o1QyW7CQAzN/38Ap8IfIE4cQIIDAimCLqmoVLWXSEQkbTKThewbr7ZRKtRTrbHsmed5tp+RqDMc+xOHwwueHp9xOp2QJAniOP63c73v+3BdF4aOXuGcD7Ded3j7MKFUgLquUZaleFEUEquq+o33ON+5JgxD+qtgNF2Nrm9RVjkulxhRFIkPnbk4TVMEQUD4RT7yNJwzrrVG0zRg41qDE9f1sN3uMH4YYzqdYrFYYDabYblc4ng8wrIsjEYjrFYrbDYbTCYTmKaJ9XqN+XwuTdh4CCF0HAf7/R62bQNXOtcr+r4X55xtyAfs/m24e54Hgx/yPEea5cjygjSpSaNG1mCtBr3qpkXTtqJZJW+V1LINTYWw768EZohCj/TwST8NrVwEJLBSGt9+QLkmDTVhMZQOxfO8EFIhxI2QNTV43KoqSYcvInUpBqRFJBP21LnrOlnpPnbdbcW/lmUZfgB+zV0wAepKtwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;결과&quot;
        title=&quot;&quot;
        src=&quot;/static/6d78ecfb851f422642e3f5a1b326c5f5/f058b/image-3.png&quot;
        srcset=&quot;/static/6d78ecfb851f422642e3f5a1b326c5f5/c26ae/image-3.png 158w,
/static/6d78ecfb851f422642e3f5a1b326c5f5/6bdcf/image-3.png 315w,
/static/6d78ecfb851f422642e3f5a1b326c5f5/f058b/image-3.png 630w,
/static/6d78ecfb851f422642e3f5a1b326c5f5/40601/image-3.png 945w,
/static/6d78ecfb851f422642e3f5a1b326c5f5/b97f6/image-3.png 958w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;짜잔 이렇게 태그 색깔과 좀 비슷하게 연두색으로 progress bar를 넣어봤습니다&lt;/p&gt;
&lt;p&gt;별 것도 아닌데 이렇게나 떠들었네요&lt;br&gt;
마치 제 자소서같습니다.&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🤙 자바스크립트의 비동기 작업과 Promise]]></title><description><![CDATA[…]]></description><link>https://sungpaks.github.io/javascript-promise/</link><guid isPermaLink="false">https://sungpaks.github.io/javascript-promise/</guid><pubDate>Sun, 10 Mar 2024 20:12:10 GMT</pubDate><content:encoded>&lt;p&gt;저번 시간에는&lt;br&gt;
비동기 작업이 끝나는 타이밍을 외부에서는 알 방법이 마땅치 않기 때문에,&lt;br&gt;
콜백 함수, 즉 &quot;그거 끝나면 할 일&quot;를 넘겨주는 일련의 과정을 살펴봤었죠?&lt;/p&gt;
&lt;p&gt;그런데 비동기 작업이 진행 중이거나, 완료되었다거나, 등의 상태를 알 수 있다면 해결되는 문제 아닐까요?&lt;br&gt;
그래서 자바스크립트에서 지원하게 된 것이&lt;br&gt;
&lt;strong&gt;작업의 상태를 나타내는 객체&lt;/strong&gt;인 &lt;strong&gt;Promise&lt;/strong&gt;입니다&lt;/p&gt;
&lt;h1 id=&quot;promise란&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#promise%EB%9E%80&quot; aria-label=&quot;promise란 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Promise란&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;Promise 객체는 비동기 작업이 맞이할 미래의 완료 또는 실패와 그 결과 값을 나타냅니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Promise 객체의 상태는 아래와 같이 세 가지로 나뉩니다 :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pending : 작업이 진행중..&lt;/li&gt;
&lt;li&gt;fulfilled : 작업이 성공적으로 완료됨&lt;/li&gt;
&lt;li&gt;rejected : 작업 중 오류 발생&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&quot;https://i.imgur.com/4nXQXJY.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;60%&quot;&gt;
&lt;p&gt;Promise 대충 아래와 같이, 생성자에 &lt;code class=&quot;language-text&quot;&gt;executor&lt;/code&gt;(실행자)를 전달하여 만듭니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; myPromise &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* 성공적 */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;good!!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* 예외 */&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;bad..&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;실행함수인 &lt;code class=&quot;language-text&quot;&gt;executor&lt;/code&gt;에는 &lt;code class=&quot;language-text&quot;&gt;resolve&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;reject&lt;/code&gt;를 인수로 넘겨야 하는데, 이는 JavaScript에서 제공하는 콜백함수입니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;resolve(value) : 작업이 성공적으로 완료된 경우, 그 결과인 &lt;code class=&quot;language-text&quot;&gt;value&lt;/code&gt;와 함께 호출합니다.&lt;/li&gt;
&lt;li&gt;reject(error) : 작업 도중 에러 발생 시, 에러 객체인 &lt;code class=&quot;language-text&quot;&gt;error&lt;/code&gt;와 함께 호출합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;개발자는 Promise 내에 일련의 작업들을 작성하고, 성공/실패 여부에 따라 &lt;code class=&quot;language-text&quot;&gt;resolve/reject&lt;/code&gt;를 호출하기만 하면 됩니다.&lt;/p&gt;
&lt;h1 id=&quot;promise-활용&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#promise-%ED%99%9C%EC%9A%A9&quot; aria-label=&quot;promise 활용 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Promise 활용&lt;/h1&gt;
&lt;p&gt;이제 사용을 해봅시다&lt;br&gt;
작업이 성공적으로 완료된 경우 &lt;code class=&quot;language-text&quot;&gt;then&lt;/code&gt;블록으로 넘어가며,&lt;br&gt;
오류가 발생한 경우 &lt;code class=&quot;language-text&quot;&gt;catch&lt;/code&gt;블록으로 넘어갑니다. &lt;br&gt;
마치 try-catch 구문 같네요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;myPromise
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//비동기작업 뒤에 와야 할 작업&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//오류 시 작업&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;아까 Promise 생성자의 &lt;code class=&quot;language-text&quot;&gt;executor&lt;/code&gt;에서,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;resolve&lt;/code&gt;에서는 인자로 &lt;code class=&quot;language-text&quot;&gt;value&lt;/code&gt;를,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;reject&lt;/code&gt;에서는 인자로 &lt;code class=&quot;language-text&quot;&gt;error&lt;/code&gt;를 넘겼었죠?&lt;br&gt;
이 각각을 위와 같이 &lt;code class=&quot;language-text&quot;&gt;then&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;catch&lt;/code&gt;블록의 첫 번째 인자로 받을 수 있습니다&lt;/p&gt;
&lt;p&gt;다음과 같이 인자로 &lt;code class=&quot;language-text&quot;&gt;time&lt;/code&gt;을 전달하고, &lt;code class=&quot;language-text&quot;&gt;time&lt;/code&gt;만큼 기다린 후 &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;를 찍는 비동기 처리 과정 예제를 살펴보겠습니다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;waitFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isNaN&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; time &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;양수를 넣어주세요 ㅜㅜㅜ&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;time&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ms 기다렸습니다.&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;time&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;ms 기다리기 성공!!!&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;waitFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;waitFunction이 반환하는 Promise 객체는,&lt;br&gt;
유효하지 않은 값이라면 &lt;code class=&quot;language-text&quot;&gt;reject&lt;/code&gt;를 호출하기 때문에 &lt;code class=&quot;language-text&quot;&gt;catch&lt;/code&gt;블록으로,&lt;br&gt;
성공적으로 실행한 후에는 &lt;code class=&quot;language-text&quot;&gt;then&lt;/code&gt;블록으로 향합니다.&lt;/p&gt;
&lt;p&gt;이 때, &lt;code class=&quot;language-text&quot;&gt;then()&lt;/code&gt;에서는 새로운 &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt; 객체가 반환되므로, 연쇄으로 체이닝을 적용할 수 있습니다.&lt;br&gt;
또한 try-catch블럭에서 으레 하듯이, 성공/실패 여부에 관계없이 마지막에 무조건 실행할 작업이 있는 경우 &lt;code class=&quot;language-text&quot;&gt;finally&lt;/code&gt;블록을 사용할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* !!! */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;finally&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ~~~ */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 &lt;code class=&quot;language-text&quot;&gt;then()&lt;/code&gt;에서 새로운 &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;객체가 반환됨을 이용한 체이닝은 비동기 작업 시 후속 작업들을 줄세우기 용이하게 해줍니다.&lt;/p&gt;
&lt;p&gt;그런데 이것도 좀 100% 만족스럽지는 않아보이네요..&lt;br&gt;
어디에서 에러가 발생하여 &lt;code class=&quot;language-text&quot;&gt;catch&lt;/code&gt;문으로 넘어왔는지 알아채기 힘들다거나,&lt;br&gt;
scope가 각각 다르기 때문에 어떤 값을 공유하기도 애매할 수 있을 것 같고요&lt;/p&gt;
&lt;p&gt;물론 &lt;code class=&quot;language-text&quot;&gt;Promise&lt;/code&gt;도 좋지만.. 이러한 이유로 이후에 새로운게 생겨났습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;async/await&lt;/code&gt;인데요&lt;br&gt;
다음에 알아보겠습니다&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[⏯️ 자바스크립트의 비동기 작업과 콜백함수]]></title><description><![CDATA[…]]></description><link>https://sungpaks.github.io/asynchronous-and-callback/</link><guid isPermaLink="false">https://sungpaks.github.io/asynchronous-and-callback/</guid><pubDate>Sun, 03 Mar 2024 21:56:13 GMT</pubDate><content:encoded>&lt;p&gt;자바스크립트 하다보면 항상 등장하는 것이 비동기니 뭐니 하는 개념인데요&lt;/p&gt;
&lt;p&gt;자바스크립트만의 특성때문에 생기는 자바스크립트 특유의 비동기 프로그래밍을 한번 들여다보고자 합니다&lt;/p&gt;
&lt;h1 id=&quot;비동기와-동기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B9%84%EB%8F%99%EA%B8%B0%EC%99%80-%EB%8F%99%EA%B8%B0&quot; aria-label=&quot;비동기와 동기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;비동기와 동기&lt;/h1&gt;
&lt;p&gt;비동기적이라는 말은 무엇이고, 동기적이라는 말은 무엇일까요?&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/hvUyA1o.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;80%&quot;&gt;
출처 https://learnjs.vlpt.us/async/
&lt;blockquote&gt;
&lt;p&gt;비동기 프로그래밍은 작업이 완료될 때까지 기다리지 않고 잠재적으로 오래 실행되는 작업을 시작하여 해당 작업이 실행되는 동안에도 다른 이벤트에 응답할 수 있게 하는 기술입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이 &quot;동기&quot;를 &quot;대기&quot;로 바꿔서 보면 이해하기 편한데요&lt;br&gt;
작업들이 동기적이라는 것은 다음 작업이 시작하려면 이전 작업이 끝나기를 대기한다는 의미입니다&lt;br&gt;
반대로 비동기적이라는 것은 이전 작업이 끝나든 말든 대기하지 않고 시작한다는 의미겠죠?&lt;/p&gt;
&lt;p&gt;브라우저에서 제공하는 웹 API들은 시간이 오래걸릴 수 있으므로 비동기적입니다. 예를 들면..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fetch()&lt;/code&gt;를 이용한 HTTP요청 전송&lt;/li&gt;
&lt;li&gt;DOM (document) 메서드&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;setTimeout()&lt;/code&gt;으로 작업 스케줄링하기&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;showOpenFilePicker()&lt;/code&gt;를 이용해 사용자에게 파일 선택 요청하기&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;작업들을 비동기적으로 처리하는 것은 물론 효율적이지만&lt;br&gt;
그 이점을 제대로 누리려면 비동기 지뢰들을 잘 피할 수 있도록 신경써야합니다..&lt;br&gt;
이에 대해 아래에서 자세히 알아보도록 하겠습니다&lt;/p&gt;
&lt;h1 id=&quot;비동기처리와-콜백함수&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B9%84%EB%8F%99%EA%B8%B0%EC%B2%98%EB%A6%AC%EC%99%80-%EC%BD%9C%EB%B0%B1%ED%95%A8%EC%88%98&quot; aria-label=&quot;비동기처리와 콜백함수 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;비동기처리와 콜백함수&lt;/h1&gt;
&lt;p&gt;간단한 예시로, src를 읽어오는 &lt;code class=&quot;language-text&quot;&gt;loadScript&lt;/code&gt;함수를 다음과 같이 작성했다고 생각해봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; script &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  script&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; src
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;head&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;script&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;script.js&lt;/em&gt;에 작성된 함수인 newFuctnion()을 가져다 쓰려고 &lt;code class=&quot;language-text&quot;&gt;loadScript&lt;/code&gt; 메서드를 다음과 같이 쓰는 것을 생각해 볼 수 있는데&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;script.js&apos;를 로드해서&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;newFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;script.js&apos;내에 정의된 newFunction을 호출해야지!!&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;주의할 점은, 스크립트가 실행되는 것은 비동기적이기 때문에,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;newFunction()&lt;/code&gt;의 실행 타이밍이 &lt;code class=&quot;language-text&quot;&gt;loadScript()&lt;/code&gt;가 끝난 타이밍임이 보장되지 않는다는 것입니다..&lt;br&gt;
따라서 이게 &lt;code class=&quot;language-text&quot;&gt;loadScript()&lt;/code&gt;가 완료되었는지, 아직인지, 알 수가 없습니다..&lt;/p&gt;
&lt;p&gt;그래서 이를 해결하기 위해 간단히 콜백함수를 이용해볼 수 있습니다.
먼저 &lt;code class=&quot;language-text&quot;&gt;loadScript()&lt;/code&gt;의 인자에, 나중에 호출할 함수, 즉 &lt;code class=&quot;language-text&quot;&gt;callback&lt;/code&gt;함수를 추가합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;src&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; script &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;script&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
script&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; src&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

script&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;onload&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;script&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//추가 : script가 로드된 이후의 타이밍을 노림&lt;/span&gt;

document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;head&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;script&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 콜백함수로 newFunction을 실행하도록 넘기려면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;newFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 됩니다.&lt;br&gt;
그러니까 콜백함수는, &quot;비동기 작업 끝나면 실행할 동작들을 함수로 묶어서 가져다 주는 것&quot; 정도가 되겠네요..&lt;/p&gt;
&lt;p&gt;여담이지만 이렇게 자바스크립트에서 함수를 인자로 넘기는 것은&lt;br&gt;
자바스크립트에서는 함수가 &lt;em&gt;일급 객체&lt;/em&gt;로 취급받기 때문인데&lt;br&gt;
&lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%9D%BC%EA%B8%89_%EA%B0%9D%EC%B2%B4&quot;&gt;위키피디아 : 일급 객체&lt;/a&gt;를 살펴보면 일급 객체는 딱히 대단한 의미는 아니고&lt;br&gt;
그냥 이리보고 저리봐도 보통의 객체처럼 다루어질 수 있다면 일급객체라고 합니다&lt;br&gt;
저도 이 글 준비하면서 새로 알게 된 개념인데 한번 읽어보면 꽤나 흥미롭습니다&lt;/p&gt;
&lt;p&gt;아무튼.. 위에서 살펴본 예시와 비슷하게 실제 코드를 작성해서 한번 테스트해보고 싶은데요&lt;br&gt;
범용적인 JavaScript 라이브러리인 lodash.js 스크립트를 가져다가 좀 해보겠습니다&lt;/p&gt;
&lt;p&gt;똑같은 동작을 콜백함수로도 넘겨보고, 그냥 &lt;code class=&quot;language-text&quot;&gt;loadScript&lt;/code&gt;밑에서 실행도 해보면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token doctype&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&quot;token doctype-tag&quot;&gt;DOCTYPE&lt;/span&gt; &lt;span class=&quot;token name&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;use strict&quot;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;src&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; script &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    script&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; src

    script&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onload&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;head&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;script&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.2.0/lodash.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;결과 :
&lt;img src=&quot;https://i.imgur.com/2079HQ6.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;loadScript&lt;/code&gt; 아래의 &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;loadScript&lt;/code&gt; 동작이 끝나든 말든 일단 실행되고,&lt;br&gt;
아직 로드가 끝나지 않았기 때문에 정의되지 않았다고 출력됩니다..&lt;br&gt;
그러나 콜백함수로 넘긴 경우 로드가 끝난 이후 &lt;strong&gt;나중에 호출(callback)&lt;/strong&gt; 했으므로, 출력이 되는 것을 확인할 수 있습니다.&lt;/p&gt;
&lt;h1 id=&quot;콜백의-콜백의-콜백의-콜백의&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BD%9C%EB%B0%B1%EC%9D%98-%EC%BD%9C%EB%B0%B1%EC%9D%98-%EC%BD%9C%EB%B0%B1%EC%9D%98-%EC%BD%9C%EB%B0%B1%EC%9D%98&quot; aria-label=&quot;콜백의 콜백의 콜백의 콜백의 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;콜백의 콜백의 콜백의 콜백의..&lt;/h1&gt;
&lt;p&gt;그런데 만약.. 스크립트를 여러 개 불러오고, 각 스크립트들은 이전 스크립트 로드가 끝난 후 로드를 시작하고 싶다면 어떡하죠? 아래와 같이 하면 될까요?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;script1.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;script2.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;script3.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;//악! 콜백콜백콜백해병님!&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;게다가 여기에서 에러를 처리하기 위해 오류 우선 콜백을 적용한다면?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;여기서 잠깐, 오류 우선 콜백 :
&lt;ul&gt;
&lt;li&gt;callback의 첫 번째 인자는 에러가 차지하도록 하고, 에러가 발생하면 &lt;code class=&quot;language-text&quot;&gt;callback(err)&lt;/code&gt;와 같이 호출&lt;/li&gt;
&lt;li&gt;두 번째(또는 그 뒤의) 인자는 에러가 발생하지 않았을 때를 위한 인자들.. &lt;code class=&quot;language-text&quot;&gt;callback(null, result1, result2, ...)&lt;/code&gt;와 같이 쓴다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;loadScript&lt;/code&gt;를 오류 우선 콜백으로 만들고, 아래와 같이 사용한다고 해봅시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 에러 처리&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//로딩 성공적&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그럼 이제 더 끔찍해집니다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script1.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 에러 처리&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script2.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;//에러 처리&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script3.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;//에러 처리&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;// 악! 오류우선오류우선오류우선콜백콜백콜백 해병님!&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;피라미드는 사람이 만들었음을 몸소 증명해버렸습니다..&lt;br&gt;
게다가 예시에서는 피라미드가 단 3층이지만&lt;br&gt;
필요에 따라서는 4층 5층 ... 잠실타워까지 닿을지도 모릅니다&lt;/p&gt;
&lt;p&gt;이런 형태의 코드는 그 흐름을 파악하기도, 디버깅하기도 매우 힘들어보입니다.&lt;br&gt;
이런 사태를 피하려면 어떻게 할까요?&lt;br&gt;
앗! 좋은 생각이 난 것 같습니다. 이렇게 해보면 안될까요?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script1.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; step1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;step1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 에러 처리&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script2.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; step2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;step2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 에러 처리&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;loadScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script3.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; step3&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;step3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 에러 처리&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//모든 스크립트 로딩 끝!!&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;흠.. 근데 이러면 코드를 갈갈이 찢어놓은 셈이 되어버려서, 가독성도 갈갈이 찢겨져버립니다..&lt;br&gt;
또한 해당 step함수들은 그저 loadScript에 종속된, 재사용 불가한 매립쓰레기가 되어버립니다.&lt;/p&gt;
&lt;p&gt;그래서 이런 콜백지옥을 해결하기 위해 &lt;strong&gt;Promise&lt;/strong&gt;가 등장하는데&lt;br&gt;
앞서 문제를 일으켰던, &lt;strong&gt;비동기 작업이 끝났는지를 모른다&lt;/strong&gt;를 해결하며 등장한 방법입니다.&lt;br&gt;
비동기 작업이 &lt;strong&gt;끝난 상태인지&lt;/strong&gt; 확인할 방법이 있으면 되겠죠?&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;
근데..&lt;br&gt;
다음 포스트에서 알아보도록 하겠습니다.&lt;br&gt;
최근 &quot;사람들은 글이 길면 읽지 않는다&quot;는 말을 봐버렸기 때문인데요..&lt;br&gt;
딱히 보는 사람도 없지만 그냥 끊어쓰겠습니다.&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🌩️ 코딩테스트 SQL문제 벼락치기!! (프로그래머스 SQL 고득점 kit 풀이)]]></title><description><![CDATA[소프트웨어 마에스트로 코딩테스트를 보게됐는데요 어라?? SQL 문항이 하나 있습니다?? 1년전에 데이터베이스 수업을 듣긴 했으나 전부 까먹어버렸습니다.. 그래서 급하게 벼락치기를 갈겼습니다!! 먼저 SQL문의 대략적인 생김새 오랜만에 SQL…]]></description><link>https://sungpaks.github.io/programmers-sql-solutions/</link><guid isPermaLink="false">https://sungpaks.github.io/programmers-sql-solutions/</guid><pubDate>Sun, 25 Feb 2024 10:16:00 GMT</pubDate><content:encoded>&lt;p&gt;소프트웨어 마에스트로 코딩테스트를 보게됐는데요&lt;br&gt;
어라?? SQL 문항이 하나 있습니다??&lt;br&gt;
1년전에 데이터베이스 수업을 듣긴 했으나&lt;br&gt;
전부 까먹어버렸습니다..&lt;br&gt;
그래서 급하게 벼락치기를 갈겼습니다!!&lt;/p&gt;
&lt;h2 id=&quot;먼저-sql문의-대략적인-생김새&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A8%BC%EC%A0%80-sql%EB%AC%B8%EC%9D%98-%EB%8C%80%EB%9E%B5%EC%A0%81%EC%9D%B8-%EC%83%9D%EA%B9%80%EC%83%88&quot; aria-label=&quot;먼저 sql문의 대략적인 생김새 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;먼저 SQL문의 대략적인 생김새&lt;/h2&gt;
&lt;p&gt;오랜만에 SQL문을 마주하니까 교수님께서 해주신 말이 새록새록합니다&lt;br&gt;
sql문은 대소문자를 구별하지 않는다.. 이건 윈도우 기준이네요&lt;br&gt;
또 뭐 있더라?아무튼&lt;/p&gt;
&lt;p&gt;SQL문에서 해야 할 일은 조회(SELECT)뿐입니다&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/acebaed0d515e5d8973c2aa445cbadda/98b29/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 38.60759493670886%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAkklEQVR42q2SQQrCMBBFcxZpTLWCiei0TRQRadLWuijqyvuf45tYFNeJi8fwN4/5zLDD8AQ1d4iqxbx0yTCyD6jzCO4DJzfNFCHfWRRli43pIY2D0g5rHeQ2Cib8Vtv6BlldkanTl5mMg62OI0TdIaNmqkyJlXMvC8JwlA9JRyn2Axbm8mYZ8DnXfbzwH6/yK3wBpo0GPZ5CwscAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;프로그래머스 sql문제&quot;
        title=&quot;&quot;
        src=&quot;/static/acebaed0d515e5d8973c2aa445cbadda/f058b/image.png&quot;
        srcset=&quot;/static/acebaed0d515e5d8973c2aa445cbadda/c26ae/image.png 158w,
/static/acebaed0d515e5d8973c2aa445cbadda/6bdcf/image.png 315w,
/static/acebaed0d515e5d8973c2aa445cbadda/f058b/image.png 630w,
/static/acebaed0d515e5d8973c2aa445cbadda/98b29/image.png 937w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br&gt;
프로그래머스 SQL문제를 풀어보러 들어가보면 SELECT가 먼저 쓰여있는 것을 볼 수 있습니다&lt;/p&gt;
&lt;p&gt;그럼 SELECT로 할 수 있는게 뭐가 있는지 봅시다..&lt;br&gt;
&lt;a href=&quot;https://mariadb.com/kb/en/select/&quot;&gt;MariaDB 문서&lt;/a&gt;를 보면 select문 Syntax를 확인해볼 수 있는데&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;SELECT
    [ALL | DISTINCT | DISTINCTROW]
    [HIGH_PRIORITY]
    [STRAIGHT_JOIN]
    [SQL_SMALL_RESULT] [SQL_BIG_RESULT] [SQL_BUFFER_RESULT]
    [SQL_CACHE | SQL_NO_CACHE] [SQL_CALC_FOUND_ROWS]
    select_expr [, select_expr ...]
    [ FROM table_references
      [WHERE where_condition]
      [GROUP BY {col_name | expr | position} [ASC | DESC], ... [WITH ROLLUP]]
      [HAVING where_condition]
      [ORDER BY {col_name | expr | position} [ASC | DESC], ...]
      [LIMIT {[offset,] row_count | row_count OFFSET offset  [ROWS EXAMINED rows_limit] } |
        [OFFSET start { ROW | ROWS }]
        [FETCH { FIRST | NEXT } [ count ] { ROW | ROWS } { ONLY | WITH TIES }] ]
      procedure|[PROCEDURE procedure_name(argument_list)]
      [INTO OUTFILE &apos;file_name&apos; [CHARACTER SET charset_name] [export_options] |
        INTO DUMPFILE &apos;file_name&apos; | INTO var_name [, var_name] ]
      [FOR UPDATE lock_option | LOCK IN SHARE MODE lock_option]


export_options:
    [{FIELDS | COLUMNS}
        [TERMINATED BY &apos;string&apos;]
        [[OPTIONALLY] ENCLOSED BY &apos;char&apos;]
        [ESCAPED BY &apos;char&apos;]
    ]
    [LINES
        [STARTING BY &apos;string&apos;]
        [TERMINATED BY &apos;string&apos;]
    ]


lock_option:
    [WAIT n | NOWAIT | SKIP LOCKED]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;아휴.. 코테가 당장 코앞인데 언제 이걸 전부 공부하죠?&lt;br&gt;
그러니 많이 쓰이는 것들을 좀 정리해보면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;SELECT column1, column2, column3 as col3&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;먼저 SELECT 뒤에는 조회하고 싶은 컬럼들을 나열합니다.&lt;/li&gt;
&lt;li&gt;컬럼 이름을 따로 정하고 싶다면 &quot;컬럼이름 as 별명&quot;과 같이 작성합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;FROM table&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;이건 그냥 문제에서 주는 테이블 이름 씁니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;WHERE 조건...&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;조건에 맞는 애들만 조회하고 싶은 경우 씁니다(ex : age &gt;= 13)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;GROUP BY 컬럼명 HAVING 조건...&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;같은 값을 가진 행끼리 그룹짓습니다.&lt;/li&gt;
&lt;li&gt;이 때, HAVING절로 조건을 제한할 수 있습니다.&lt;/li&gt;
&lt;li&gt;WHERE와 HAVING이 다른 점은, HAVING은 집계함수(COUNT, SUM 등..)를 사용할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ORDER BY col1 ASC, col2 DESC&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;결과 정렬 기준을 정합니다.&lt;/li&gt;
&lt;li&gt;기본값은 ASC(오름차순)이며, 내림차순을 원할 경우 DESC를 명시합니다.&lt;/li&gt;
&lt;li&gt;기준에 차선, 그 다음 기준, ...을 원하면 위와 같이 기준을 나열합니다. (예시의 경우, col1을 기준으로 오름차순 정렬하며, col1값이 같은 행들은 col2를 기준으로 내림차순 정렬)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;일단.. 이거 말고도 JOIN이나 UNION, 서브쿼리같은 잡기술들이 좀 있는데요&lt;br&gt;
그건 실전에서 보면서 알아보도록 합시다&lt;/p&gt;
&lt;h2 id=&quot;내장함수들&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%82%B4%EC%9E%A5%ED%95%A8%EC%88%98%EB%93%A4&quot; aria-label=&quot;내장함수들 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;내장함수들&lt;/h2&gt;
&lt;p&gt;그리고 내장함수들을 쓸 경우가 꽤나 있습니다?&lt;br&gt;
특히 프로그래머스 문제들 중에&lt;br&gt;
**DATE_FORMAT()**을 써야하는 경우가 굉장히 많습니다&lt;br&gt;
DATE_FORMAT(날짜컬럼, &quot;%Y-%m-%d&quot;)는 꼭 알아두면 좋은데&lt;br&gt;
항상 프로그래머스 SQL문제들은 날짜를 &quot;YYYY-MM-DD&quot;로 해달라고 하거든요&lt;/p&gt;
&lt;p&gt;아무튼 그리고 또 다른것들 대충 주루룩 언급해보면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;문자열
&lt;ul&gt;
&lt;li&gt;LOCATE(&quot;A&quot;, &quot;ABC&quot;) : &quot;ABC&quot;에서 &quot;A&quot;가 몇 번째?&lt;/li&gt;
&lt;li&gt;substring(&quot;abc&quot;, 2) : 2번째 문자부터 반환&lt;/li&gt;
&lt;li&gt;right(&quot;abcd&quot;, 1) : &quot;abcd&quot;에서 오른쪽에서 1번째까지&lt;/li&gt;
&lt;li&gt;left(&quot;abcd&quot;, 1) : &quot;abcd&quot;에서 왼쪽에서 1번째까지&lt;/li&gt;
&lt;li&gt;upper(str), lower(str)&lt;/li&gt;
&lt;li&gt;length(&quot;abc&quot;) : 글자 수 반환&lt;/li&gt;
&lt;li&gt;concat(&quot;ABC&quot;, &quot;DEF&quot;) : 문자열 붙이기&lt;/li&gt;
&lt;li&gt;replace(&quot;ABC&quot;, &quot;A&quot;, &quot;Z&quot;) : &quot;ABC&quot;의 &quot;A&quot;를 &quot;Z&quot;로 변환&lt;/li&gt;
&lt;li&gt;LPAD(&quot;def&quot;, 5, &quot; _ &quot; ) &quot;def&quot; 왼쪽에 &quot; _ &quot;를, 전체 문자열이 5글자가 되도록 붙이기&lt;/li&gt;
&lt;li&gt;TRIM(&quot; _ &quot; from &quot; _ abc _ &quot;) : 특정 문자열 삭제(이건 양 옆)
&lt;ul&gt;
&lt;li&gt;TRIM(leading &quot; _ &quot; from &quot; _ abc _ &quot;) : 앞에꺼. traling은 뒤에꺼&lt;/li&gt;
&lt;li&gt;또는 LTRIM(&quot; _ _ abc _ _ &quot;, &quot; _ &quot;) , RTRIM&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;숫자형 - abs, ceiling, floor, round 반올림, truncate(숫자, 자릿수) : 버림 - power, mod - 순위 매기기 : rank() over(order by 컬럼명)&lt;/p&gt;
&lt;p&gt;날짜형 - NOW() : 현재 날짜시간 - current_date(), current_time() - year(날짜) : 날짜의 연도, month(), monthname(), dayname()이건요일 - week(날짜) : 올해의 몇 번째 주인지 반환 - datediff(날짜, 날짜) : 차이 반환&lt;/p&gt;
&lt;p&gt;사실 이것들은&lt;br&gt;
소마 이전 기수 코테에서&lt;br&gt;
특정 함수 모르면 못 풀게 나왔대서.. 급히 정리했던것들입니다 ㅜㅜ&lt;/p&gt;
&lt;h2 id=&quot;프로그래머스-sql문제-풀이들&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4-sql%EB%AC%B8%EC%A0%9C-%ED%92%80%EC%9D%B4%EB%93%A4&quot; aria-label=&quot;프로그래머스 sql문제 풀이들 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;프로그래머스 SQL문제 풀이들&lt;/h2&gt;
&lt;p&gt;제가 푼 것들 조금 정리해둔건데요&lt;br&gt;
이게 알고리즘도 그렇듯이&lt;br&gt;
제 답이 항상 최적해이고 효율적이고 쉬운 답인건 아닙니다 ㅜ&lt;br&gt;
참고만 해주세요~&lt;/p&gt;
&lt;h3 id=&quot;12세-이하인-여자-환자-목록-출력&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#12%EC%84%B8-%EC%9D%B4%ED%95%98%EC%9D%B8-%EC%97%AC%EC%9E%90-%ED%99%98%EC%9E%90-%EB%AA%A9%EB%A1%9D-%EC%B6%9C%EB%A0%A5&quot; aria-label=&quot;12세 이하인 여자 환자 목록 출력 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;12세 이하인 여자 환자 목록 출력&lt;/h3&gt;
&lt;p&gt;PT_NO, PT_NAME, GEND_CD, AGE, TLNO 이 테이블에서
PT_NAME, PT_NO, GEND_CD, AGE, TLNO 이렇게 해서, 12세 이하인 여자환자만 출력&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;조건에 따라 : WHERE&lt;/li&gt;
&lt;li&gt;NULL값 대체 : &lt;code class=&quot;language-text&quot;&gt;IFNULL(컬럼명, 대체 문자열)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;나이 기준으로 내림차순 정렬 : &lt;code class=&quot;language-text&quot;&gt;ORDER BY AGE DESC&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;컬럼 이름 변경 &lt;code class=&quot;language-text&quot;&gt;IFNULL(TLNO, &quot;NONE&quot;) TLNO&lt;/code&gt; (as를 생략해도 됨)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; PT_NAME&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PT_NO&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; GEND_CD&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; AGE&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; IFNULL&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;TLNO&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NONE&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; TLNO
&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; PATIENT
&lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; GEND_CD &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;W&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;AND&lt;/span&gt; AGE &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;13&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; AGE &lt;span class=&quot;token keyword&quot;&gt;DESC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PT_NAME &lt;span class=&quot;token keyword&quot;&gt;ASC&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;재구매가-일어난-상품과-회원-리스트&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9E%AC%EA%B5%AC%EB%A7%A4%EA%B0%80-%EC%9D%BC%EC%96%B4%EB%82%9C-%EC%83%81%ED%92%88%EA%B3%BC-%ED%9A%8C%EC%9B%90-%EB%A6%AC%EC%8A%A4%ED%8A%B8&quot; aria-label=&quot;재구매가 일어난 상품과 회원 리스트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;재구매가 일어난 상품과 회원 리스트&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;USER_ID와 PRODUCT_ID로 그룹 : &lt;code class=&quot;language-text&quot;&gt;GROUP BY USER_ID, PRODUCT_ID&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;HAVING : where과 비슷하나 집계함수 쓸 때 사용. GROUP BY 다음에 나온다&lt;/li&gt;
&lt;li&gt;집계함수 COUNT를 써서 조건을 줘야 하니 &lt;code class=&quot;language-text&quot;&gt;GROUP BY ~ HAVING ~&lt;/code&gt;을 사용했습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; USER_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PRODUCT_ID &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; ONLINE_SALE
&lt;span class=&quot;token keyword&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; USER_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PRODUCT_ID
&lt;span class=&quot;token keyword&quot;&gt;HAVING&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;COUNT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;PRODUCT_ID&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; USER_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PRODUCT_ID &lt;span class=&quot;token keyword&quot;&gt;DESC&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;오프라인온라인-판매-데이터-통합하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%98%A4%ED%94%84%EB%9D%BC%EC%9D%B8%EC%98%A8%EB%9D%BC%EC%9D%B8-%ED%8C%90%EB%A7%A4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%86%B5%ED%95%A9%ED%95%98%EA%B8%B0&quot; aria-label=&quot;오프라인온라인 판매 데이터 통합하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;오프라인/온라인 판매 데이터 통합하기&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;결과 함께 보여주기 : &lt;code class=&quot;language-text&quot;&gt;UNION ALL&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;PPAP처럼 두 결과를 UH~하고 이어붙입니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;없는 컬럼 NULL로 대체 : &lt;code class=&quot;language-text&quot;&gt;NULL as USER_ID&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;2022-03 만족하는거 가져오기 : &lt;code class=&quot;language-text&quot;&gt;LIKE &apos;2022-03-%&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;LIKE 다음 조건에, &lt;em&gt;어떤 값이 오든 상관없다&lt;/em&gt;는 뜻으로 %를 씁니다&lt;/li&gt;
&lt;li&gt;예를 들어, &quot;%조건%&quot;면, &quot;무조건이야&quot; 또는 &quot;조건이야&quot; 또는 &quot;무조건&quot; 모두 됩니다&lt;/li&gt;
&lt;li&gt;&quot;%조건&quot;이면, &quot;무조건&quot;만 됩니다&lt;/li&gt;
&lt;li&gt;&quot;조건%&quot;이면, &quot;조건이야&quot;만 됩니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;날짜형식지정 : &lt;code class=&quot;language-text&quot;&gt;DATE_FORMAT(날짜, 형식)&lt;/code&gt; : %Y는 4자리 연도, %m는 2자리 월, %d는 2자리 일&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; DATE_FORMAT&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;SALES_DATE&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%Y-%m-%d&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; SALES_DATE&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PRODUCT_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; USER_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; SALES_AMOUNT
&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; ONLINE_SALE &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; onl
&lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; SALES_DATE &lt;span class=&quot;token operator&quot;&gt;LIKE&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2022-03-%&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;UNION&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;ALL&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; DATE_FORMAT&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;SALES_DATE&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%Y-%m-%d&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; SALES_DATE&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PRODUCT_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; USER_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; SALES_AMOUNT
&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; OFFLINE_SALE &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;off&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; SALES_DATE &lt;span class=&quot;token operator&quot;&gt;LIKE&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2022-03-%&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; SALES_DATE&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PRODUCT_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; IFNULL&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;USER_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;가격이-제일-비싼-식품의-정보-출력하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%80%EA%B2%A9%EC%9D%B4-%EC%A0%9C%EC%9D%BC-%EB%B9%84%EC%8B%BC-%EC%8B%9D%ED%92%88%EC%9D%98-%EC%A0%95%EB%B3%B4-%EC%B6%9C%EB%A0%A5%ED%95%98%EA%B8%B0&quot; aria-label=&quot;가격이 제일 비싼 식품의 정보 출력하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;가격이 제일 비싼 식품의 정보 출력하기&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;서브쿼리 : &lt;code class=&quot;language-text&quot;&gt;where PRICE = (SELECT ~~~)&lt;/code&gt; : 괄호 안에 담은 쿼리의 결과를 그대로 가져와서 써먹을 수 있습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; FOOD_PRODUCT
&lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; PRICE &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MAX&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;PRICE&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; FOOD_PRODUCT&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;3월에-태어난-여성-목록-출력&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3%EC%9B%94%EC%97%90-%ED%83%9C%EC%96%B4%EB%82%9C-%EC%97%AC%EC%84%B1-%EB%AA%A9%EB%A1%9D-%EC%B6%9C%EB%A0%A5&quot; aria-label=&quot;3월에 태어난 여성 목록 출력 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3월에 태어난 여성 목록 출력&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;전화번호 NULL인 경우 출력 제외 : &lt;code class=&quot;language-text&quot;&gt;where TLNO is not null&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; MEMBER_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MEMBER_NAME&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; gender&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; date_format&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;date_of_birth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;%Y-%m-%d&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; date_of_birth
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; member_profile
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; gender &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;W&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;and&lt;/span&gt; tlno &lt;span class=&quot;token operator&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;and&lt;/span&gt; date_format&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;date_of_birth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;%m&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;03&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;과일로-만든-아이스크림-고르기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B3%BC%EC%9D%BC%EB%A1%9C-%EB%A7%8C%EB%93%A0-%EC%95%84%EC%9D%B4%EC%8A%A4%ED%81%AC%EB%A6%BC-%EA%B3%A0%EB%A5%B4%EA%B8%B0&quot; aria-label=&quot;과일로 만든 아이스크림 고르기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;과일로 만든 아이스크림 고르기&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;flavor in (서브쿼리)&lt;/code&gt;를 사용하여 포함되어있는 값인지 확인&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; flavor &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; first_half
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; total_order &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3000&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;and&lt;/span&gt; flavor &lt;span class=&quot;token operator&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt; flavor
    &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; icecream_info
    &lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; ingredient_type &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;fruit_based&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;by&lt;/span&gt; total_order &lt;span class=&quot;token keyword&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;강원도에-위치한-생산공장-목록-출력하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%95%EC%9B%90%EB%8F%84%EC%97%90-%EC%9C%84%EC%B9%98%ED%95%9C-%EC%83%9D%EC%82%B0%EA%B3%B5%EC%9E%A5-%EB%AA%A9%EB%A1%9D-%EC%B6%9C%EB%A0%A5%ED%95%98%EA%B8%B0&quot; aria-label=&quot;강원도에 위치한 생산공장 목록 출력하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;강원도에 위치한 생산공장 목록 출력하기&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&quot;강원도&quot;로 시작하는거 찾기 : &lt;code class=&quot;language-text&quot;&gt;address like &apos;강원도%&apos;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;%강원도% : 앞뒤 상관없이 강원도만 있으면 됨 / %강원도 : 강원도로 끝나야함. / 강원도% : 강원도로 시작&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; factory_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; factory_name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; address &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; food_factory
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; address &lt;span class=&quot;token operator&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;강원도%&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;평균-일일-대여-요금-구하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%8F%89%EA%B7%A0-%EC%9D%BC%EC%9D%BC-%EB%8C%80%EC%97%AC-%EC%9A%94%EA%B8%88-%EA%B5%AC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;평균 일일 대여 요금 구하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;평균 일일 대여 요금 구하기&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;반올림 : round(대상, 자릿수)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;avg&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;daily_fee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; average_fee &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; car_rental_company_car
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; car_type &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;SUV&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;조건에-맞는-도서와-저자-리스트-출력하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A1%B0%EA%B1%B4%EC%97%90-%EB%A7%9E%EB%8A%94-%EB%8F%84%EC%84%9C%EC%99%80-%EC%A0%80%EC%9E%90-%EB%A6%AC%EC%8A%A4%ED%8A%B8-%EC%B6%9C%EB%A0%A5%ED%95%98%EA%B8%B0&quot; aria-label=&quot;조건에 맞는 도서와 저자 리스트 출력하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;조건에 맞는 도서와 저자 리스트 출력하기&lt;/h3&gt;
&lt;p&gt;비교적 입문적인 JOIN문제입니다.&lt;br&gt;
TABLE_A 테이블의 col1 칼럼과, TABLE_B 테이블의 col2 칼럼 값들이 같은 것들끼리 쪼인하려면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;FROM TABLE_A AS a JOIN TABLE_B AS b ON a.col1 = b.col1&lt;/code&gt;&lt;br&gt;
이런 식이며.. JOIN에는 INNER JOIN, LEFT OUTER JOIN, RIGHT OUTER JOIN, 등.. 많지만 JOIN만 쓰면 INNER JOIN합니다&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b147f238438524c11f903a62aaac9186/5bf79/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 78.48101265822784%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAADK0lEQVR42j1TOW8TWxQ+AingjgJEFUQBEhUtJSICkSZKhCJBqIASSIWEBFKQIPAzaEHggBKWJPaDxCbBeJl4d0wcG814mbEns1zP4rFnfSczj3eLq7uc797vfN85YA6HbCYjcpxiGANd9zxPkqRUKlUoFNrtdj6f39nZSafTNE3jlTEYqIYhi1KvVLZME37dvLkCsDR+plepKIPBaDjUNG17ezuZTFZ3qwgul8u5XI5hGNuyiKoe1Gofz51HyK+5OVgJhcKhUBQ3i4uq5ymyjD+4rouzY9uu4/y/lQTB9rzUq5drAG9Doa9jY7B56dIHgPCxY61YTB2NdE07jPY8pGBaluU4hmEEYF1Vddtm4/GlsbEwwLeLF0FoNDYWFtLLy61uT1UUzx+6pmqmuf/9e/b1a92y+oQE53y3W603kuFwavGF3GjA0DTrpP+HZRmatm07CJJFUbGs7cnJL8eP9ziOKIppmnguimIum6W5rmCajuMAm0jE5+ao5eUuAvr9gCGRJMVxfs7MrJ44IQgCIX3M4BB8cMAJAgbHb9zoxOOwPj6+fvas3OtJkoz0ND9nzFNUlPLGRubNG1nTVBWl9HDWdV0iROb51QsX1k6eBFTrn4kJvGu3WrIsK3/TRpOLlUqDYQ54/j86hOCjHMsih+j1658BIPf48dqpU6VIBH/AVFHkAKwQ0m42O60WQfN8MF4damEY5Uhk9fTp3NOngDRysdhePt/t9SxflWC4vr/B2rEs28+5y3GV3d1ascju72MBAIqZzmZLlQrNMJokZe7ejVyZWJ+a2rp2TdzbI+127PLln0+ebM3Pp6andykqTVHFUonpdKzRCNADtFclBD/NPXv2HmDl6NFPR468BfgxO5u8c2cJgCsU6M1NPKEezhsop6ZiF6CvEFSf7RMuPn/+4S/4HcDW7Gzq3j0sJpai6GgU303ef6C4ruIrh/GH4Hq9TmUypXKZrjfit25Fr16NTs8kJielWk3l+cTUVHJhIfHo0c7t27/zeaSdSaebTBMLBgIPOizb6XQGhjF0XSfoCs/Drapptt8hQfHxPF8sFqvVaqvZGg2H/wLb0/mW3YtXRQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;joins&quot;
        title=&quot;&quot;
        src=&quot;/static/b147f238438524c11f903a62aaac9186/f058b/image-1.png&quot;
        srcset=&quot;/static/b147f238438524c11f903a62aaac9186/c26ae/image-1.png 158w,
/static/b147f238438524c11f903a62aaac9186/6bdcf/image-1.png 315w,
/static/b147f238438524c11f903a62aaac9186/f058b/image-1.png 630w,
/static/b147f238438524c11f903a62aaac9186/40601/image-1.png 945w,
/static/b147f238438524c11f903a62aaac9186/5bf79/image-1.png 966w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt; from stackoverflow&lt;/p&gt;
&lt;p&gt;대충 이렇습니다.. 조회하려는 용도에 따라 조금씩 나뉩니다.&lt;/p&gt;
&lt;p&gt;이 문제에서는 INNER JOIN이면 오케이입니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; BOOK_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; AUTHOR_NAME&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; date_format&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;PUBLISHED_DATE&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;%Y-%m-%d&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; published_date
&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; BOOK &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; b &lt;span class=&quot;token keyword&quot;&gt;join&lt;/span&gt; AUTHOR &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; a &lt;span class=&quot;token keyword&quot;&gt;on&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;author_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;author_id
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; category &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;경제&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;by&lt;/span&gt; published_date&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;없어진-기록-찾기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%97%86%EC%96%B4%EC%A7%84-%EA%B8%B0%EB%A1%9D-%EC%B0%BE%EA%B8%B0&quot; aria-label=&quot;없어진 기록 찾기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;없어진 기록 찾기&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;left outer join : 왼쪽 테이블을 기준으로 함. 왼쪽 데이터는 무조건 가져오고, 오른쪽 데이터는 없으면 null로 표기&lt;/li&gt;
&lt;li&gt;outs에는 있는데, ins에는 없는걸 null로 표기하여 가져오고 싶으므로, outs left outer join ins&lt;/li&gt;
&lt;li&gt;조인해서 가져와서, isnull인것만&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;-- 코드를 입력하세요&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; outs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;animal_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; outs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; animal_outs &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; outs &lt;span class=&quot;token keyword&quot;&gt;left&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;outer&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;join&lt;/span&gt; animal_ins &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; ins
&lt;span class=&quot;token keyword&quot;&gt;on&lt;/span&gt; ins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;animal_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; outs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;animal_id
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; isnull&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;animal_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;p&gt;이렇게 좀.. 벼락치기를 해봤습니다&lt;br&gt;
후회되는 것은.. 이런 SQL 연습할 수 있는 방법이 있었는데&lt;br&gt;
왜 데베 수업들을 때는 이런거로 연습 안해봤지? 싶네요&lt;br&gt;
이런거라도 풀어봤으면 시험 쪼금이라도 더 잘 봤을텐데&lt;/p&gt;
&lt;p&gt;쩝.. 이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🫸 [WSL] Proxy error : Could not proxy request]]></title><description><![CDATA[이런 에러를 만났었는데요 정적페이지는 띄워지지만 서버로의 요청이 전부 실패하는 상황이었습니다 거두절미하고 해결한 방법부터 말씀드리고 시작하자면.. package.json에서 proxy 요청을 localhost가 아닌 호스트 머신의 IP…]]></description><link>https://sungpaks.github.io/wsl-localhost-issue/</link><guid isPermaLink="false">https://sungpaks.github.io/wsl-localhost-issue/</guid><pubDate>Sun, 18 Feb 2024 12:37:00 GMT</pubDate><content:encoded>&lt;img src=&quot;https://i.imgur.com/coS9OXd.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot;&gt;
&lt;p&gt;이런 에러를 만났었는데요&lt;br&gt;
정적페이지는 띄워지지만 서버로의 요청이 전부 실패하는 상황이었습니다&lt;br&gt;
거두절미하고 &lt;strong&gt;해결한 방법&lt;/strong&gt;부터 말씀드리고 시작하자면..&lt;/p&gt;
&lt;p&gt;package.json에서 proxy 요청을 localhost가 아닌 &lt;strong&gt;호스트 머신의 IP주소&lt;/strong&gt;로 보내도록 해야합니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&quot;proxy&quot;: &quot;http://172.12.89.2:8080&quot;,&lt;/code&gt; 이런식&lt;br&gt;
&lt;strong&gt;호스트 머신의 IP주소&lt;/strong&gt;는 wsl터미널에서 &lt;code class=&quot;language-text&quot;&gt;ip route show | grep -i default | awk &apos;{ print $3}&apos;&lt;/code&gt; 명령으로 가져올 수 있습니다.&lt;/p&gt;
&lt;p&gt;이게 제가 로컬에서 프론트를 여는 것은 wsl위에서 열고&lt;br&gt;
백엔드 서버를 여는 것은 wsl이 아닌 윈도우 터미널에서 열었기 때문으로 보이는데&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://learn.microsoft.com/ko-kr/windows/wsl/networking&quot;&gt;microsoft 설명서&lt;/a&gt;에 이와 관련한 언급이 있습니다&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;기본적으로 WSL은 네트워킹에 NAT 기반 아키텍처를 사용합니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이에 따라 고려할 점이 있는데,&lt;br&gt;
windows -&gt; linux 액세스 시 일반적인 방법과 같이 localhost를 사용하면 되는데&lt;br&gt;
linux -&gt; windows 액세스 시 호스트 IP로 접근해야한다고 하네요&lt;br&gt;
제 상황이랑 딱 맞습니다&lt;/p&gt;
&lt;h3 id=&quot;nat가-뭔데요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#nat%EA%B0%80-%EB%AD%94%EB%8D%B0%EC%9A%94&quot; aria-label=&quot;nat가 뭔데요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;NAT가 뭔데요?&lt;/h3&gt;
&lt;p&gt;NAT(Network Address Translation, 네트워크 주소 변환)은 컴퓨터 네트워크 개념인데요&lt;br&gt;
IPv4 주소 부족 문제를 해결하기 위한 어떤 잡기술 비슷하게 나온 방법입니다&lt;/p&gt;
&lt;p&gt;10개의 호스트가 있는 경우 10개의 IP를 모두 할당하는 것이 아닌&lt;br&gt;
하나의 라우터에 한 개의 IP만 할당하고, 각 호스트들에게는 로컬 주소를 할당하는 방법입니다&lt;br&gt;
마치.. 콘센트가 2구 뿐인데 더 많은 사용이 필요한 경우&lt;br&gt;
멀티탭을 사와서 꽂는 것과 비슷합니다&lt;/p&gt;
&lt;p&gt;이에 대해서 더 쓰려면 좀.. 깊어지니까&lt;br&gt;
이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[💾 직렬화.. 라고 아시나요?]]></title><description><![CDATA[여전히 스프링 공부중입니다 로그인 구현 파트인데요, 세션에 유저 정보를 저장하려고 SessionUser 클래스를 따로 만들었습니다 이미 User…]]></description><link>https://sungpaks.github.io/about-serialization/</link><guid isPermaLink="false">https://sungpaks.github.io/about-serialization/</guid><pubDate>Thu, 25 Jan 2024 11:02:00 GMT</pubDate><content:encoded>&lt;p&gt;여전히 스프링 공부중입니다&lt;br&gt;
로그인 구현 파트인데요,&lt;br&gt;
세션에 유저 정보를 저장하려고 &lt;strong&gt;SessionUser&lt;/strong&gt; 클래스를 따로 만들었습니다&lt;br&gt;
이미 &lt;strong&gt;User&lt;/strong&gt; 엔티티 클래스가 존재하는데도 말이죠??&lt;br&gt;
그 이유를.. &lt;strong&gt;직렬화&lt;/strong&gt;를 언급하시며 설명해주셨습니다&lt;/p&gt;
&lt;p&gt;이 &lt;strong&gt;직렬화&lt;/strong&gt;라는 용어는 며칠 전에 디자인패턴 책을 보다가 잠깐 언급된걸 봤었는데&lt;br&gt;
스프링 공부하다가 &lt;strong&gt;직렬화&lt;/strong&gt;를 또 만나고나서 그날 밤&lt;br&gt;
디자인패턴 책의 &lt;strong&gt;커맨드 패턴&lt;/strong&gt; 부분에서 &lt;strong&gt;직렬화&lt;/strong&gt;가 또! 나와버렸습니다???&lt;/p&gt;
&lt;p&gt;흠..&lt;/p&gt;
&lt;h1 id=&quot;직렬화serialization란&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A7%81%EB%A0%AC%ED%99%94serialization%EB%9E%80&quot; aria-label=&quot;직렬화serialization란 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;직렬화(Serialization)란?&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;serialization은 지속시키거나 전송할 수 있는 형태로 개체 상태를 변환하는 프로세스입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;마이크로소프트 .NET docs에서 가져왔습니다&lt;/p&gt;
&lt;p&gt;여러 글들을 뒤적뒤적해본 결과.. 직렬화는 사실상&lt;br&gt;
어떤 객체나 데이터를 &lt;strong&gt;박제&lt;/strong&gt;한다고 보면 편한 것 같습니다&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;직렬화&lt;/strong&gt;는 어떤 객체나 데이터를 어떤 일관적인 포맷으로 변환하여, 파일이나 데이터베이스 또는 메모리 등에 저장하거나 다른 시스템 환경으로 전송할 수 있도록 하는 과정이며&lt;br&gt;
또한 &lt;strong&gt;역직렬화&lt;/strong&gt;는 이렇게 변환되었던 포맷을 원래의 객체나 데이터로 다시 원상복구하는 과정입니다&lt;/p&gt;
&lt;h1 id=&quot;커맨드-패턴에서-만난-직렬화&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BB%A4%EB%A7%A8%EB%93%9C-%ED%8C%A8%ED%84%B4%EC%97%90%EC%84%9C-%EB%A7%8C%EB%82%9C-%EC%A7%81%EB%A0%AC%ED%99%94&quot; aria-label=&quot;커맨드 패턴에서 만난 직렬화 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;커맨드 패턴에서 만난 직렬화&lt;/h1&gt;
&lt;p&gt;커맨드 패턴의 자세한 설명은 거두절미하겠습니다&lt;br&gt;
&lt;a href=&quot;https://refactoring.guru/ko/design-patterns/command&quot;&gt;여기&lt;/a&gt;에 꽤 설명이 잘 되어 있습니다.&lt;br&gt;
대충.. 어떤 일련의 동작들이나 요청들을 객체의 형태로 캡슐화하는 셈인데요&lt;br&gt;
이렇게 만들어진 커맨드 객체는 다른 여느 객체와 마찬가지로 직렬화될 수 있다는 특징을 가집니다.&lt;br&gt;
그 덕분에 커맨드 패턴을 이용하면 작업들을 대기열에 넣거나, 실행을 지연 또는 예약하거나, ... 할 수 있습니다.&lt;/p&gt;
&lt;p&gt;예를 들어.. 유튜브를 틀어놓고, 파일을 다운로드받으면서, 동시에 이메일을 쓴다고 해봅시다.&lt;br&gt;
공통점 하나 없는 작업들이지만, 커맨드 패턴을 사용한다면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;영상 재생&lt;/li&gt;
&lt;li&gt;파일 다운로드&lt;/li&gt;
&lt;li&gt;키보드 입력&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 세 가지의 서로 다른 작업들은 커맨드 객체로 캡슐화하고, 각 커맨드 객체의 실행 메서드를 트리거하기만 하면 됩니다.&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/EriLecS.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;40%&quot; height=&quot;auto&quot;&gt;&lt;br&gt;
이제 작업의 수행은 객체를 트리거하며 통과시키는 것으로 이루어지게 되었으므로,&lt;br&gt;
커맨드 객체들이 지나간 로그를 찍어두면 상태를 저장하고 나아가 복원해버릴 수 있습니다.&lt;strong&gt;직렬화&lt;/strong&gt;되었네요!&lt;/p&gt;
&lt;h1 id=&quot;java에서의-직렬화&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#java%EC%97%90%EC%84%9C%EC%9D%98-%EC%A7%81%EB%A0%AC%ED%99%94&quot; aria-label=&quot;java에서의 직렬화 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JAVA에서의 직렬화&lt;/h1&gt;
&lt;p&gt;자바에서는 &lt;strong&gt;직렬화&lt;/strong&gt;가 이렇게 통합니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;자바 시스템에서 사용되는 객체 또는 데이터를 바이트 스트림 형태의 연속적 데이터로 변환하는 과정&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;늘 그렇듯이, 객체는 힙 또는 스택 메모리에 존재했다가 프로그램이 종료되면 사라집니다.&lt;br&gt;
이 때 객체를 직렬화하여 &lt;strong&gt;박제&lt;/strong&gt;해버리면 JVM 메모리에 존재하던 객체를 *영속화(Persistence)*하여 휘발성 데이터를 지속적으로 저장하게 됩니다.&lt;/p&gt;
&lt;p&gt;이러한 특징 덕분에, 자바에서는 직렬화를 사용하는 경우가 더러 있는데요, 대표적으로&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;세션 : 톰캣 세션 클러스터링을 수행하거나 세션 데이터를 DB에 저장하고자 하는 경우 등&lt;/li&gt;
&lt;li&gt;캐시 : DB에서 조회한 객체를 직렬화하여 따로 뒀다가, 또 필요할 때 재조회보다는 역직렬화하여 가져다 쓰도록 함&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;직렬화를 구현하려면 클래스 선언 시 &lt;code class=&quot;language-text&quot;&gt;Serializable&lt;/code&gt; 인터페이스를 구현합니다.&lt;br&gt;
이 인터페이스는 따로 구현해야할 추상메서드가 없는 &lt;strong&gt;마커 인터페이스&lt;/strong&gt;입니다.&lt;br&gt;
이제 직렬화하려면 &lt;code class=&quot;language-text&quot;&gt;ObjectOutputStream&lt;/code&gt; 스트림에 객체를 출력합니다 : &lt;code class=&quot;language-text&quot;&gt;.writeObject()&lt;/code&gt; 메서드 호출&lt;br&gt;
또한 역직렬화하려면 &lt;code class=&quot;language-text&quot;&gt;ObjectInputStream&lt;/code&gt; 스트림으로부터 객체를 입력받습니다 : &lt;code class=&quot;language-text&quot;&gt;.readObject()&lt;/code&gt;메서드 호출&lt;br&gt;
역직렬화할 때는 원본 클래스로 캐스팅해줘야 합니다.&lt;/p&gt;
&lt;p&gt;한번 해볼까요?&lt;br&gt;
먼저 대충 &lt;code class=&quot;language-text&quot;&gt;Foo&lt;/code&gt; 클래스를 아무렇게나 만들어봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Serializable&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; staticField &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; email &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sungho@example.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sungho&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; password &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1234&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그런 다음 직렬화하는 테스트 코드를 작성해봅시다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SerializationTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// 객체 생성&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt; foo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// 직렬화된 데이터를 저장할 파일 이름&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; fileName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;foo.ser&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

		&lt;span class=&quot;token comment&quot;&gt;// 직렬화&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ObjectOutputStream&lt;/span&gt; oos &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ObjectOutputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FileOutputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fileName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			oos&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;foo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;직렬화 완료&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;IOException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;자바에서 직렬화된 데이터 파일은 &lt;code class=&quot;language-text&quot;&gt;.ser&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;.obj&lt;/code&gt;등을 사용한다고 하네요. 그냥 바이트의 연속체라서 &lt;code class=&quot;language-text&quot;&gt;.txt&lt;/code&gt;도 무방하긴합니다
아무튼 실행하고 한번 열어보면&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/5gw7b3T.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;50%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
헉 알아볼 수 없는 문자들이 가득하죠?&lt;/p&gt;
&lt;p&gt;이제 역직렬화를 해봅시다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DeserializationTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; fileName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;foo.ser&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// 역직렬화&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ObjectInputStream&lt;/span&gt; ois &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ObjectInputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FileInputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fileName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt; deserializedFoo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; ois&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;역직렬화 완료&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

			&lt;span class=&quot;token comment&quot;&gt;// 역직렬화된 객체의 정보 출력&lt;/span&gt;
			&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Name: &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; deserializedFoo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Email: &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; deserializedFoo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;IOException&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ClassNotFoundException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 해서 실행해보면&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/fp430FX.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;40%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
헉?? &lt;strong&gt;생성자 없이도 객체가 생겨버렸습니다&lt;/strong&gt; !!&lt;/p&gt;
&lt;p&gt;주의할 점이 몇 가지 있는데요&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;직렬화 대상은 인스턴스 필드이며, 메소드나 &lt;code class=&quot;language-text&quot;&gt;static&lt;/code&gt; 필드 등은 제외입니다.&lt;/li&gt;
&lt;li&gt;여러 객체를 직렬화하는 경우, 순서에 유의합니다 :&lt;br&gt;
obj1, obj2, obj3 순서로 직렬화했다면, 동일하게 obj1, obj2, obj3 순서로 역직렬화해야합니다. 이는 사실 직렬화 순서대로 바이트문자가 기록되니 그래야만 하겠죠?
직렬화 대상 객체가 많다면 대신 &lt;code class=&quot;language-text&quot;&gt;ArrayList&lt;/code&gt;같은 컬렉션에 넣고 직렬화합시다. 이렇게 하면 역직렬화 순서를 신경쓰지 않아도 됩니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;private&lt;/code&gt; 필드까지도 직렬화에 포함됩니다. 만약 직렬화에서 제외시키고자 한다면 필드 선언 시 &lt;code class=&quot;language-text&quot;&gt;transient&lt;/code&gt; 키워드를 붙이면 됩니다.&lt;/li&gt;
&lt;li&gt;(당연한 듯 하지만) 부모클래스가 &lt;code class=&quot;language-text&quot;&gt;Serializable&lt;/code&gt; 구현체이면 자식클래스 또한 직렬화 대상입니다. 반대로 자식클래스가 직렬화여도 부모의 인스턴스 필드는 포함되지 않습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;json-쓰면-안될까요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#json-%EC%93%B0%EB%A9%B4-%EC%95%88%EB%90%A0%EA%B9%8C%EC%9A%94&quot; aria-label=&quot;json 쓰면 안될까요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JSON 쓰면 안될까요?&lt;/h1&gt;
&lt;p&gt;JSON으로 데이터를 주고받는 것도 직렬화/역직렬화의 일종입니다. 그냥 JSON써서 데이터를 주고받으면 안될까요? 아니면 XML이라거나..&lt;/p&gt;
&lt;p&gt;물론 JSON도 좋지만 자바에서 자바 직렬화를 사용하는 이유는, 자바 맞춤형이라 자바 시스템끼리의 상호작용에 상당히 효율적입니다.&lt;br&gt;
이는 직렬화된 자바 바이트스트림은 단순 데이터만 포함하는 것이 아닌, 타입 정보, 클래스 메타 데이터 등까지도 포함하기 때문인데요&lt;br&gt;
같은 자바 시스템끼리라는 전제가 있다면 사실상 그대로 갖다 이식해버리는 수준이 되어버립니다.&lt;br&gt;
JSON이었다면 파싱해서 인스턴스화하고, 등등... 귀찮은 일을 더 했어야겠죠?&lt;/p&gt;
&lt;p&gt;물론 이 특징으로 인해 JSON보다 무거워진다거나, 이외에도 다른 단점들이 존재합니다.&lt;/p&gt;
&lt;h1 id=&quot;java-직렬화의-단점-ㅜㅜ&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#java-%EC%A7%81%EB%A0%AC%ED%99%94%EC%9D%98-%EB%8B%A8%EC%A0%90-%E3%85%9C%E3%85%9C&quot; aria-label=&quot;java 직렬화의 단점 ㅜㅜ permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JAVA 직렬화의 단점 ㅜㅜ&lt;/h1&gt;
&lt;p&gt;일단 직렬화를 구현하기로 하면 신경써야 할 점들이 많습니다..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;직렬화하여 일단 한번 배포하고 나면, 이 직렬화된 바이트 스트림 인코딩이 사실상 하나의 공개API가 되어버립니다.&lt;br&gt;
이로 인해 클래스 내부 구현을 수정하기 껄끄러워질 수 있겠죠?&lt;/li&gt;
&lt;li&gt;아까 살펴본 바와 같이, &lt;code class=&quot;language-text&quot;&gt;private&lt;/code&gt;멤버까지도 &lt;code class=&quot;language-text&quot;&gt;transient&lt;/code&gt;가 없다면 그대로 직렬화되므로 캡슐화가 깨진다는 문제가 있습니다.&lt;/li&gt;
&lt;li&gt;객체를 생성자를 통해 생성했던 기존의 방식을 우회하여 제약없이 객체를 생성한다는 특징때문에 버그나 보안에 취약할 수 있습니다.&lt;/li&gt;
&lt;li&gt;역직렬화 과정에서 공격당할 위험이 존재합니다. 역직렬화 시 호출되어 위험한 동작을 수행하는 메서드를 *가젯(gadget)*이라고 합니다.&lt;/li&gt;
&lt;li&gt;직렬화를 지원하는 클래스를 상속받게 된다면 이렇게 신경써야할 문제들 또한 떠안게 되어버립니다..&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;등등 ... 여러가지가 있으니&lt;br&gt;
꽤나 잘 생각해서 적재적소에 써야 하겠습니다&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;reference&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#reference&quot; aria-label=&quot;reference permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;REFERENCE&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://inpa.tistory.com/entry/JAVA-%E2%98%95-%EC%A7%81%EB%A0%AC%ED%99%94Serializable-%EC%99%84%EB%B2%BD-%EB%A7%88%EC%8A%A4%ED%84%B0%ED%95%98%EA%B8%B0&quot;&gt;https://inpa.tistory.com/entry/JAVA-%E2%98%95-%EC%A7%81%EB%A0%AC%ED%99%94Serializable-%EC%99%84%EB%B2%BD-%EB%A7%88%EC%8A%A4%ED%84%B0%ED%95%98%EA%B8%B0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://refactoring.guru/ko/design-patterns/command&quot;&gt;https://refactoring.guru/ko/design-patterns/command&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://namu.wiki/w/%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EC%A7%81%EB%A0%AC%ED%99%94%20%ED%98%95%EC%8B%9D&quot;&gt;https://namu.wiki/w/%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EC%A7%81%EB%A0%AC%ED%99%94%20%ED%98%95%EC%8B%9D&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://learn.microsoft.com/ko-kr/dotnet/standard/serialization/&quot;&gt;https://learn.microsoft.com/ko-kr/dotnet/standard/serialization/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%A7%81%EB%A0%AC%ED%99%94&quot;&gt;https://ko.wikipedia.org/wiki/%EC%A7%81%EB%A0%AC%ED%99%94&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;이거 쓰다가 집에 늦게 갑니다..&lt;br&gt;
이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🫘 스프링 입문자라면 필히 알아둬야 합니다. 스프링 빈(Bean)이란?]]></title><description><![CDATA[요즘 스프링공부중인데요 "이렇게 저렇게 해서 스프링 빈을 주입받습니다~" 라는 말을 정말 자주 봅니다 그럼 저같은 머글들은 당연히도.. 스프링 빈이 도당체 뭔데?? 라고 생각하게 됩니다.. 모르겠으면 응당 알아보고 넘어가야겠죠? Spring Bean…]]></description><link>https://sungpaks.github.io/what-is-spring-bean/</link><guid isPermaLink="false">https://sungpaks.github.io/what-is-spring-bean/</guid><pubDate>Sun, 21 Jan 2024 05:37:00 GMT</pubDate><content:encoded>&lt;p&gt;요즘 스프링공부중인데요&lt;br&gt;
&lt;em&gt;&quot;이렇게 저렇게 해서 스프링 빈을 주입받습니다~&quot;&lt;/em&gt; 라는 말을 정말 자주 봅니다&lt;br&gt;
그럼 저같은 머글들은 당연히도..&lt;br&gt;
&lt;strong&gt;스프링 빈&lt;/strong&gt;이 도당체 뭔데?? 라고 생각하게 됩니다..&lt;br&gt;
모르겠으면 응당 알아보고 넘어가야겠죠?&lt;/p&gt;
&lt;h1 id=&quot;spring-bean-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#spring-bean-&quot; aria-label=&quot;spring bean  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Spring Bean ?&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.spring.io/spring-framework/reference/core/beans/introduction.html&quot;&gt;Spring docs&lt;/a&gt;에서 말하는 bean이란...&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;bean은 Spring IoC 컨테이너에 의해 생성(instanciatiate)되고, 조립(assemble)되며, 관리(manage)되는 객체입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;음... 저같은 사람은 &lt;strong&gt;Spring IoC 컨테이너&lt;/strong&gt;가 뭔지도 모르니까 또 알아봐야겠는데요?&lt;/p&gt;
&lt;p&gt;일단 기존의 Java Programming에서는 먼저 &lt;code class=&quot;language-text&quot;&gt;class&lt;/code&gt;를 작성하고, &lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt;로 객체를 인스턴스화하여 사용하는 구조였습니다. 사용자가 객체들을 직접 생성, 관리했던 것인데요&lt;br&gt;
Spring의 가장 큰 특징은 이 개념을 거꾸로 뒤집는다는 것입니다.&lt;br&gt;
객체의 생성과 유지, 관리를 사용자가 직접 하도록 하는 것이 아닌, 특별한 관리 주체에게 맡겨버리는 것인데요..&lt;br&gt;
이를 &lt;strong&gt;제어의 역전(IoC, Inversion of Control)&lt;/strong&gt; 이라고 하며, 이 대신 관리해주는 주체가 &lt;strong&gt;Spring IoC 컨테이너&lt;/strong&gt;입니다.&lt;/p&gt;
&lt;p&gt;일단 Spring IoC 컨테이너에 &lt;strong&gt;등록&lt;/strong&gt;되면 &lt;strong&gt;Singleton&lt;/strong&gt;으로 단일 객체가 생성되어 관리되고, 사용자는 필요할 때 &lt;strong&gt;주입&lt;/strong&gt;받아 사용합니다.&lt;/p&gt;
&lt;p&gt;그럼 Spring Bean을 등록하는 법과 주입받는 법을 알아봐야겠는데요&lt;/p&gt;
&lt;h1 id=&quot;spring-bean-등록&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#spring-bean-%EB%93%B1%EB%A1%9D&quot; aria-label=&quot;spring bean 등록 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Spring Bean 등록&lt;/h1&gt;
&lt;h3 id=&quot;1-component-어노테이션annotation&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-component-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98annotation&quot; aria-label=&quot;1 component 어노테이션annotation permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt; 어노테이션(Annotation)&lt;/h3&gt;
&lt;p&gt;어노테이션은 소스코드에 메타데이터 정보를 추가해주는... 유사 인터페이스인데요&lt;br&gt;
가장 익숙할만한 것으로는 &lt;code class=&quot;language-text&quot;&gt;@Override&lt;/code&gt; 이런 것이 있겠죠?&lt;/p&gt;
&lt;p&gt;스프링에서도 꽤나 많은 어노테이션들이 존재하고 매우 중하게 이용되며&lt;br&gt;
스프링 빈으로 등록하기 위해서는 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt; 어노테이션을 사용합니다.&lt;br&gt;
또한 &lt;code class=&quot;language-text&quot;&gt;@Controller, @RestController, @Service, @Repository&lt;/code&gt;등의 어노테이션 또한 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt;어노테이션을 내재하므로, 사용 시 스프링 빈으로 등록됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Target&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ElementType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;TYPE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Retention&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RetentionPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;RUNTIME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Documented&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token annotation punctuation&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Controller&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/**
     * The value may indicate a suggestion for a logical component name,     * to be turned into a Spring bean in case of an autodetected component.     * @return the suggested component name, if any (or empty String otherwise)
     */&lt;/span&gt;    &lt;span class=&quot;token annotation punctuation&quot;&gt;@AliasFor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;annotation &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같이, &lt;code class=&quot;language-text&quot;&gt;@Controller&lt;/code&gt; 어노테이션의 구현부를 보면 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt; 어노테이션을 포함하고 있음을 확인할 수 있습니다.&lt;/p&gt;
&lt;h3 id=&quot;2-직접-bean-configuration에-등록&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-%EC%A7%81%EC%A0%91-bean-configuration%EC%97%90-%EB%93%B1%EB%A1%9D&quot; aria-label=&quot;2 직접 bean configuration에 등록 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. 직접 Bean Configuration에 등록&lt;/h3&gt;
&lt;p&gt;또는 아래와 같이, &lt;code class=&quot;language-text&quot;&gt;@Configuration&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;@Bean&lt;/code&gt; 어노테이션으로 설정파일 밑에 직접 스프링 빈을 등록할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Configuration&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooConfig&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Bean&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fooObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위에서 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt;어노테이션은 클래스에 사용했었지만, 이렇게 &lt;code class=&quot;language-text&quot;&gt;@Bean&lt;/code&gt; 어노테이션을 사용하면 메소드 단위로 빈으로 등록할 수 있습니다.&lt;/p&gt;
&lt;h1 id=&quot;spring-bean-주입&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#spring-bean-%EC%A3%BC%EC%9E%85&quot; aria-label=&quot;spring bean 주입 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Spring Bean 주입&lt;/h1&gt;
&lt;p&gt;스프링 빈을 등록했으면 어떻게 가져다 쓸지도 알아야겠죠?&lt;br&gt;
스프링 빈 객체를 주입받는다,&lt;br&gt;
또는 의존성을 주입받는다(&lt;strong&gt;DI&lt;/strong&gt;, Dependency Injection)&lt;br&gt;
이런 식으로 말하는데요&lt;br&gt;
세 가지 방법이 있습니다&lt;/p&gt;
&lt;h3 id=&quot;1-필드&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%ED%95%84%EB%93%9C&quot; aria-label=&quot;1 필드 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. 필드&lt;/h3&gt;
&lt;p&gt;필드에 &lt;code class=&quot;language-text&quot;&gt;@Autowired&lt;/code&gt; 어노테이션을 붙여줍니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;2-setter&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-setter&quot; aria-label=&quot;2 setter permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. setter&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;setter&lt;/code&gt; 메소드를 사용합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setFooObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fooObject &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;3-생성자-권장&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-%EC%83%9D%EC%84%B1%EC%9E%90-%EA%B6%8C%EC%9E%A5&quot; aria-label=&quot;3 생성자 권장 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. 생성자 (권장)&lt;/h3&gt;
&lt;p&gt;스프링 빈 객체를 인자로 하는 생성자를 작성합니다. 이 경우 &lt;code class=&quot;language-text&quot;&gt;@Autowired&lt;/code&gt; 어노테이션은 생략될 수 있습니다.
클래스에 생성자가 하나만 존재하며 인자가 스프링 빈으로 등록된 객체이면 됩니다.
컨테이너가 알아서 생성자에 객체를 넣어주는 셈입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SimpleService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SimpleService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fooObject &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fooOjbect&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;또한 lombok을 사용하는 경우, 클래스에 &lt;code class=&quot;language-text&quot;&gt;@RequiredArgsConstructor&lt;/code&gt; 어노테이션만 붙여주면 자동으로 &lt;code class=&quot;language-text&quot;&gt;final&lt;/code&gt; 필드들을 인자로 받는 생성자를 만들어주니 간단하게 사용할 수 있습니다.&lt;/p&gt;
&lt;p&gt;스프링에서는 생성자 &gt; setter &gt; 필드 순으로 권장하고 있는데요&lt;br&gt;
생성자의 경우 객체 의존성도 꽤나 알아보기 쉽고 &lt;code class=&quot;language-text&quot;&gt;final&lt;/code&gt;의 특성상 일관성을 보장할 수 있는 등의 장점이 있습니다.&lt;br&gt;
그래도 setter의 경우 객체를 나중에 주입받거나 재주입받고 싶은 그런 상황에서 쓰일 수 있겠죠?&lt;br&gt;
본인 상황에 맞게 쓰면 될 것 같습니다&lt;/p&gt;
&lt;h1 id=&quot;스프링-빈-주입-대상이-여럿이면-어쩌죠&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B9%88-%EC%A3%BC%EC%9E%85-%EB%8C%80%EC%83%81%EC%9D%B4-%EC%97%AC%EB%9F%BF%EC%9D%B4%EB%A9%B4-%EC%96%B4%EC%A9%8C%EC%A3%A0&quot; aria-label=&quot;스프링 빈 주입 대상이 여럿이면 어쩌죠 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;스프링 빈 주입 대상이 여럿이면 어쩌죠?&lt;/h1&gt;
&lt;p&gt;헉 그런 일이 있을까요? 싶지만&lt;br&gt;
주입 대상을 상속/구현하는 클래스가 또 여럿 있다면&lt;br&gt;
그 중 어떤 객체를 원하는지 모호하기 때문에 에러가 발생할 수 있습니다.&lt;/p&gt;
&lt;p&gt;확인해볼까요? 먼저 간단히 &lt;code class=&quot;language-text&quot;&gt;FooObject&lt;/code&gt; 클래스에 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt;어노테이션을 붙여 스프링 빈 객체로 등록하고&lt;br&gt;
테스트 코드에서 간단히 &lt;code class=&quot;language-text&quot;&gt;@Autowired&lt;/code&gt; 필드 주입으로 해당 객체를 주입받습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; I&apos;m foo&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@RunWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SpringRunner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		foo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;실행 결과는&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/51e91110a7d71ff35a411f8f7395a2d9/be86f/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 10.126582278481013%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAYElEQVR42m3KVw7AIAwDUG5SZgVlhNFx/5O5KX9I/bCi2E+4PeBIhJQrajuRSp1/oYEYCTk33hqojmnC15WGmIn9xa6jj4dz804Qxnr4kBgWBL5S2d8o7dZOGki9mk0ZvOXlOvpxMr00AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;단일 대상 테스트 결과&quot;
        title=&quot;&quot;
        src=&quot;/static/51e91110a7d71ff35a411f8f7395a2d9/f058b/image.png&quot;
        srcset=&quot;/static/51e91110a7d71ff35a411f8f7395a2d9/c26ae/image.png 158w,
/static/51e91110a7d71ff35a411f8f7395a2d9/6bdcf/image.png 315w,
/static/51e91110a7d71ff35a411f8f7395a2d9/f058b/image.png 630w,
/static/51e91110a7d71ff35a411f8f7395a2d9/be86f/image.png 662w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br&gt;
객체를 잘 주입받은 것 같습니다?&lt;/p&gt;
&lt;p&gt;그런데 &lt;code class=&quot;language-text&quot;&gt;FooObject&lt;/code&gt;를 상속한 친구가 있다면 어떨까요?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ChildFooObject&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; I&apos;m foo child&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 친구를 추가하고 아까와 똑같이 실행해보면&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/76cbc3ae59407a242f66a7d708884b53/af192/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25.316455696202528%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA1UlEQVR42oWOzW7DIBCEeY+qxfgfExMw2LEdqae+/ytNZ0ki5ZbDp50dZndRfynjjBkHOUPClfhlJRkhbXA+ws4B0wdeGeVGh2VwiCRRB+ntjCtrYZjgydTbgusfvWf+Qn158+Rd6apBbAbkdsRv77CybmRtRixkp761lp5FqHtkege11HtncSMdd4xVW6qqTYvEwM6HxGHP5QcvygHp927iEVu8jZlNetaZuZPewozhoi9t8K1rqMZ0ZVhCr6VRflWGLQa+awZrDpknFRGvaP3QP0/+ASFtlLVQCPn2AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;다중 대상 테스트 결과&quot;
        title=&quot;&quot;
        src=&quot;/static/76cbc3ae59407a242f66a7d708884b53/f058b/image-1.png&quot;
        srcset=&quot;/static/76cbc3ae59407a242f66a7d708884b53/c26ae/image-1.png 158w,
/static/76cbc3ae59407a242f66a7d708884b53/6bdcf/image-1.png 315w,
/static/76cbc3ae59407a242f66a7d708884b53/f058b/image-1.png 630w,
/static/76cbc3ae59407a242f66a7d708884b53/af192/image-1.png 645w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br&gt;
헉.. 실패해부렀습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;foo&lt;/code&gt;에 &lt;code class=&quot;language-text&quot;&gt;FooObject&lt;/code&gt;를 넣고싶은건지, &lt;code class=&quot;language-text&quot;&gt;ChildFooObject&lt;/code&gt;를 넣고싶은건지 몰라서 에러가 났는데요&lt;br&gt;
그럼 &quot;내가 원하는 객체는 저거야!&quot;를 알려주는 방법을 알아봅시다&lt;/p&gt;
&lt;h3 id=&quot;1-필드-이름으로-매칭하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%ED%95%84%EB%93%9C-%EC%9D%B4%EB%A6%84%EC%9C%BC%EB%A1%9C-%EB%A7%A4%EC%B9%AD%ED%95%98%EA%B8%B0&quot; aria-label=&quot;1 필드 이름으로 매칭하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. 필드 이름으로 매칭하기&lt;/h3&gt;
&lt;p&gt;위에서 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt;어노테이션을 붙여서 &lt;code class=&quot;language-text&quot;&gt;FooObject&lt;/code&gt;를 스프링 빈 객체로 등록했는데요&lt;br&gt;
이 경우 클래스 명에 대한 camelCase와 동일하게 필드 이름을 작성해주면 해당 객체로 매칭됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@RunWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SpringRunner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; childFooObject&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; FooObject : &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; fooObject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		fooObject&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;-----------&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; ChildFooObject : &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; childFooObject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		childFooObject&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 623px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d76a891588cc189edaf06f0ba4d80ea7/6114d/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABG0lEQVR42o1R7VKEMAzkQYTjoFCg3wXvbhxPR9//ndYkcA6iP/yxs22TbNJNcX//xOvbB5hvL3ek+YqYnxHSgnm5woWMyXpC+IVx9z4aD+MiCk62PiOTUIgz2m6QoHUJmQQ9vRkqSNTEUgE38DELp3yB80lyQ1yglEbR96NMxGDRSJPl+QJrI5pWUwNN3EMRt2qF2sBnjq2sUZ0aFMPoMNFEnr9mgiQ0bYdT3aIsa5TV+R9Y80Rw36U+qx+JnMBg8T2qx/kQE0E9GPHIh5k8WWgp63cVWcFT+82rSXyN8OS3obhzm3dpljdHUGpAMU5ODI1kfpTN3pCIH2deyjDa70n/4j2KXk/oaBoW1oOV1bPA086/Y1F5uO8FvwAIEOs/IwNbfAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;매칭 By Bean Name&quot;
        title=&quot;&quot;
        src=&quot;/static/d76a891588cc189edaf06f0ba4d80ea7/6114d/image-2.png&quot;
        srcset=&quot;/static/d76a891588cc189edaf06f0ba4d80ea7/c26ae/image-2.png 158w,
/static/d76a891588cc189edaf06f0ba4d80ea7/6bdcf/image-2.png 315w,
/static/d76a891588cc189edaf06f0ba4d80ea7/6114d/image-2.png 623w&quot;
        sizes=&quot;(max-width: 623px) 100vw, 623px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;또는 &lt;code class=&quot;language-text&quot;&gt;@Bean&lt;/code&gt;으로 스프링 빈을 생성한 경우, 메소드 이름으로 스프링 빈 객체를 매칭할 수 있습니다.&lt;/p&gt;
&lt;h3 id=&quot;2-primary&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-primary&quot; aria-label=&quot;2 primary permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. &lt;code class=&quot;language-text&quot;&gt;@Primary&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@Primary&lt;/code&gt; 어노테이션을 사용하여 우선순위를 최상위로 올립니다. 이 경우 자동으로 해당 객체를 우선 주입합니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;ChildFooObject&lt;/code&gt;에 어노테이션을 붙여보겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; I&apos;m foo&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Primary&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ChildFooObject&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; I&apos;m foo child&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@RunWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SpringRunner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; ChildFooObject is @Primary : &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		foo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 581px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9d690b32ce13edc914cba98d579db755/92d15/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 20.88607594936709%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAtklEQVR42mWP2Q6CQAxF+RFlmUFZZh8QE1AS/v+frm150fhw0mnTnnYKv8zY3gfWbcdrP7A8V/g4EbMQ8wwXMvrRYbQBg/EC5xyNi18EFFp36HsrhZgfCDEjphnGRnSDpZzEJHQ+o1E3DCNJSCyLfEJZKVzLRmJVaxSXa02DhgYnaWBRSmczi896FimLAkVekmg5w3XpI3o6oGArPxhLVw70lRAmGa6b9ge+8K+m71D0S9V2kn8A3395laroARsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;매칭 By @Primary&quot;
        title=&quot;&quot;
        src=&quot;/static/9d690b32ce13edc914cba98d579db755/92d15/image-3.png&quot;
        srcset=&quot;/static/9d690b32ce13edc914cba98d579db755/c26ae/image-3.png 158w,
/static/9d690b32ce13edc914cba98d579db755/6bdcf/image-3.png 315w,
/static/9d690b32ce13edc914cba98d579db755/92d15/image-3.png 581w&quot;
        sizes=&quot;(max-width: 581px) 100vw, 581px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;3-qualifier&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-qualifier&quot; aria-label=&quot;3 qualifier permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. &lt;code class=&quot;language-text&quot;&gt;@Qualifier&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@Qualifier&lt;/code&gt; 어노테이션으로 어떤 객체를 주입받을지 직접 알릴 수도 있습니다.&lt;br&gt;
주입을 원하는 클래스 명에 대한 camelCase를 어노테이션의 value로 집어넣습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@RunWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SpringRunner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Qualifier&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;fooObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; @Qualifier(\&quot;fooObject\&quot;) : &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		foo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 539px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4496cf39bf696c3115f41bdd8974a4b0/10f9a/image-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 23.417721518987342%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA3ElEQVR42m1QW27DMAzzQdZXmtiJ33aaZutP1hXt/W/ESjYSDMM+CMECSZEWy/2J5fuB5eeJ++OFab4hjVfEcUbME/JlxkiwPsG6CGMDDE1NU7tQ978grEskvBZhJhNHSxY5n+FCrm8yUL1Bp3QxGrQrYuY1rdrQygGi7XokShLTBDYPMRcyG12mL8JnSaaUQT/YwmM+N8kURKoBnazYHxoISUQmsMjHsVaytRoba+MpkacZyhHV2y01z8zfQ0cCaY+nFmKtIgmcsDlLfOyOdO2E3f4f/NkzdwUnfAMmZpcsXVrx4wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;매칭 By @Qualifier&quot;
        title=&quot;&quot;
        src=&quot;/static/4496cf39bf696c3115f41bdd8974a4b0/10f9a/image-4.png&quot;
        srcset=&quot;/static/4496cf39bf696c3115f41bdd8974a4b0/c26ae/image-4.png 158w,
/static/4496cf39bf696c3115f41bdd8974a4b0/6bdcf/image-4.png 315w,
/static/4496cf39bf696c3115f41bdd8974a4b0/10f9a/image-4.png 539w&quot;
        sizes=&quot;(max-width: 539px) 100vw, 539px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;4-모든-스프링-빈-객체-주입받기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-%EB%AA%A8%EB%93%A0-%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B9%88-%EA%B0%9D%EC%B2%B4-%EC%A3%BC%EC%9E%85%EB%B0%9B%EA%B8%B0&quot; aria-label=&quot;4 모든 스프링 빈 객체 주입받기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4. 모든 스프링 빈 객체 주입받기&lt;/h3&gt;
&lt;p&gt;전부 필요하면 어쩌죠?&lt;br&gt;
전부 받도록 합시다.&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 244px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bd0380fa8316549c2838456d7d040288/0cba8/image-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 84.17721518987341%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD6ElEQVR42lWSa1MaBxSG9y90ptNmTIeouIgKBK2AoiSpMcZLAFEiIIgaUAEDgnIRLwgiFmtMvcXoNNHGmmmChtuCCGEv7AKKYpt+yP/ptp186Mw759N5znvmvAeIQ0g4lEzE0EgodXJyGo+jZ2d4IBAPvP1gXjvh2sICJ9RoC7XPQW1zoXszwZaZYNtsuNUZbHEGgUymiGNXKFyA0xd45joWRUa0xubm+3xOcz3vPkdkFFje8RzxR+5431JM5ImJvbGepVOhOypejAEYVsSQSwQuIEghmcyKHkkrK6oZVWxaOZ1GrQLLQXaTsMn4pnE63miLcGyR761hnj1ab4vU2cL/wlgRhi+uCp/nZ30l33wHltHLKSBYSgNvVZZSwDJKObdNLbCH+fYozwHx7BD3i/5ZG0Uv8/m/Dt+c8LgCZhW7Bqx+Iu50aZS2/t6nUiGfXUuj1vD1O40ziQZ7lPt/+JoUgf8p6VZUgTXMmtohUWd0fflwYfKlRfPaOe4f13CZLJZ6td5xVjcZqZuCav+TFQJIWxy/TiVz/Ma7t0pKqWX0cZkk4Hf95p3etelfTOq9eq249cFD/XOpL9nthiSeqMRD1niPJ0Y6X6FoIZ//JO1VfP3Vt9XUSqf68ZbVYB1W2dVy98jAWLfQolIG3oUI4hJNZzE0i2M5Uhk0C5A5YUjh6vLzin/jxg1KA5O9Y9OtmTVPZRL7gGzPaVrQqv0mffj4GMHy6XQGQbMoQpAjMJQACKyYwy+z2etUImOSy9p5vGfGkbc+58aUftc5cbho37aPb9kM4cB7BDuHYRxBiC9wFoCRizOYyOeKGF48Wl9bUD8m77xt0e3ZDZtWw+LYE8/o0KppNHoSRPFzGMFJBsWyKErAHzOAfmtHtOAORVJZnMwst7fsdQwqtqd0m+bRn81jC9pB52D/snHsNHKaTGOpjxgMEzBKkJ35fBFgPeyqqL79Q2d3As6f5z4FIymton9uWO7TDbg0ivnh/tlB5axen0jAF4U/COKCwIgcnkufpX9c8gMswb3bcnnliKZ9fj6dvTo6Cs5YppzDCq2406qSOtTyOe2QTNjb+kBkdfpczw69L6GVI8K1m+S0KoFai6FjyT3z6tXE+qbK7Lgj6JwwWH71TXu0fWaZ2NQnnNNpeiSKmyUVdHptWRkDZDbXtaruKOe7dKuA75eDg/39yPtAv1TNZjWxGHyVchSJBn/fWNlfcZMjVmedHe2S0tJKKAL5F5coNyk0Kp0GMhhMLvB6a2fF5e7q6Kmuqudw7jZwWwRNHVAwGj3+cPD8p3WrYc3rq2M3U6lMk3EKT6YGlUMgyK5hkC/b8DfEY/ThdY8e5QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;끄덕&quot;
        title=&quot;&quot;
        src=&quot;/static/bd0380fa8316549c2838456d7d040288/0cba8/image-5.png&quot;
        srcset=&quot;/static/bd0380fa8316549c2838456d7d040288/c26ae/image-5.png 158w,
/static/bd0380fa8316549c2838456d7d040288/0cba8/image-5.png 244w&quot;
        sizes=&quot;(max-width: 244px) 100vw, 244px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@RunWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SpringRunner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; fooObjects&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FooObject&lt;/span&gt; foo &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; fooObjects&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &gt;&gt;&gt; by list : &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			foo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;---------&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3eb9ed89b3dedd6ebde62d214faf7b3e/084e2/image-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABGklEQVR42n1R7XKDIBD0PWpExE8Uv7Vj2jrT93+o7d0Rkmma6Y+dhbtjYZfILTOOjxPXzxNf5ze2/YAbZvTjSlgwzits26N5hnVSDz3mthsQ5UUtTd64fkJZNqhp35PovLwL98OCgcTDmnmad+FwOWukOkekUgPbjf4100aDGwntmOnASOvOjeCZf0FCicpwSTQinRWo6hZl1aJpHGoCi2SmlIGA+JI+QXnm3m2GRUXQ5BWMqUSEiwndqrMcHIf0iO/r3HNB0fi9r2ldeEF+Mr9qmFbKaaUcfT7bdkitbrpH+DZ8ArmgvO39cwbkJCyWU22kyOFO0+o/prIixDe+xeq3xVeI07+W2W6wHAbF/gsoBjlLlLlF9Oj9ALct6LXi+/ftAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;매칭 By List&quot;
        title=&quot;&quot;
        src=&quot;/static/3eb9ed89b3dedd6ebde62d214faf7b3e/f058b/image-6.png&quot;
        srcset=&quot;/static/3eb9ed89b3dedd6ebde62d214faf7b3e/c26ae/image-6.png 158w,
/static/3eb9ed89b3dedd6ebde62d214faf7b3e/6bdcf/image-6.png 315w,
/static/3eb9ed89b3dedd6ebde62d214faf7b3e/f058b/image-6.png 630w,
/static/3eb9ed89b3dedd6ebde62d214faf7b3e/084e2/image-6.png 632w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;hr&gt;
&lt;br/&gt;
&lt;p&gt;스프링 빈 주입에 관해 정말 좋은 글이 있는데요.. 저도 참고 많이 했습니다&lt;br&gt;
&lt;a href=&quot;https://tech.kakaopay.com/post/martin-dev-honey-tip-2/#6%EC%A4%84-%EC%9A%94%EC%95%BD&quot;&gt;카카오페이 기술블로그 포스팅&lt;/a&gt;인데요&lt;br&gt;
카카오페이 시니어 개발자분께서 빈 주입에 대한 스프링 코드를 직접 뜯고 씹고 맛보고 즐겨주십니다&lt;br&gt;
오픈소스 코드도 까보고 해라.. 이런거는 항상 고수들께서 강조하시지만&lt;br&gt;
막상 하려면 또 잘 모르는 입장에서는 힘들고 부담이고 어디서부터 손대야할지도 모르겠는데&lt;br&gt;
코드 리뷰 흐름을 같이 손잡고 따라가게 해주시니 정말 도움이 많이 됩니다&lt;br&gt;
그 외에도 다른 이야기들과.. 테스트 코드 작성이나.. 결론이나.. 딱딱하지 않으면서도 전부 뼈가 되고 살이 될만한 내용들 뿐이니 한번쯤 보시면 어떤가 싶습니다&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;
&lt;h2 id=&quot;reference&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#reference&quot; aria-label=&quot;reference permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reference&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://melonicedlatte.com/2021/07/11/232800.html&quot;&gt;스프링 빈(Spring Bean)이란? 개념 정리&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://tech.kakaopay.com/post/martin-dev-honey-tip-2/#6%EC%A4%84-%EC%9A%94%EC%95%BD&quot;&gt;Spring Bean Injection 이야기(feat. 모두가 다 알고 있는 스프링빈, 정말 다 알고 있는가?)&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://girawhale.tistory.com/113&quot;&gt;[Spring] Bean 주입하기 : DI&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://docs.spring.io/spring-framework/reference/core/beans/introduction.html&quot;&gt;Spring Docs&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🙃 타입스크립트가 되고 싶은 리액트 컴포넌트는 나에게..]]></title><description><![CDATA[Gatsby는 리액트를 기반으로 하기 때문에, 처음 시작하면 등의 파일들이 각각 Component를 하는 것을 볼 수 있습니다.  리액트 사용자라면 너무 익숙하죠? 이번 시간에는 이렇게 생겨먹은 React Component…]]></description><link>https://sungpaks.github.io/migration-react-component-to-typescript/</link><guid isPermaLink="false">https://sungpaks.github.io/migration-react-component-to-typescript/</guid><pubDate>Thu, 11 Jan 2024 10:31:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 194px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d6e09a0d402674a88c32375fa6cc6c71/2bf95/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 134.17721518987344%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAIAAADzvTiPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGbElEQVR42i2QeUybhxnGv25JITEx4OvzbWxsf/g2xtdnY3xic/mI8YGxsfGFwTgGU7DB4QgBGjpcKNNIIVGlLpWqrMdYSJo2qZo2IvQgScNotvQirdZVXddq0zaWsEnT5j8m/fTo/ef36NELuHpTgXB3R0e7RiV3eH3+ZH84ErA06gz6huN221B2LDOcXXp2eX39N+dW1+LxE/2pbDI5kMtlvZ1ugFVF5jCpfBadB9F5HLpCBCmFkE4hUElqrG3Gb776+qud3Xvv3ti9dfOznbsPP/nttw/3vnu49+3ne0PDgwCZRKRSyDgspppBZrGpdBooF0JqqYBbBTZbDL+7e2/77bd2t259cO3NL3Z3P37v5ubG5a3L6w8+vj0xkQfwIJZIBEEQzWCQSGQ0D6JaGhRmrULAItnbzPdvb396r8idnRvvfPPlZ7+/s721cen2O9f3Hnw6PTEBsJnVEjFPUguJhGw2myrmMv4vs0ltFv3+/v7Bwf6jx48eP370lx9/+Oc//n7wr4Pi/ejg3zOzpwENLNSqhKZ6caOuVinjSvjMJq3crFUK2JQWk+ba9es3Nz96d3O7mHtf/OGj7XvvbX64detOMfNjwwCmEkECyyEGnssiknDlQohuNamLsphDt+iUJo2srVHr99i6/e782Ggi2tUb8qUi/lQ8MNIfAxgMukjA1SgkuvpaIbdaCFWb1HV6lURQU6XXSIv7PXZzIuTtC/tifmeq25eJBQfjwYFYVzoSADisKomwRirmyGqhInIRp17KV8u4Kjm3WKdRiIz1EotRZTbALUbYqIf1eri4yNwgLwIUv6KRi0UshkzIF9SwONUUbjWlhk7kVVN5TKqASa1jki0cip5Dq6FT+5T8YbPcKGaapByNkAVkBpKLhclLv/pZyNcyMdYDlh8t+ymAPPxE2aGflB4C0IcA1iHAjTzsQiOwh0tmIOIFo0BLQsF0kFCBAMZH+u7vvPrf/1yLhqzHDVIG5gi5ooRYXgoeOUxHlIgRTzYhSzN4pJ2K5pAqIhTsFRU7Qcc1k1H0Y6WASimbzAavXlpwtJkEYJmcUCKhIHggglNeCiOP2CuODePLTpFRtRgEDX80RcPvGYWLXFKsCoRRCMDqaPO2ezrdXkmd2G1vdishM+toIwvZSkFa8ce8WNQFJr4dg7I2CGQ8GlyO3FFzLvIonSRUCw4J7P95fev6ysRIT19vPOqz9zs1ITnOxquIMtEJBk5eWenCYVRF2VDHIlbiUWV2Mq6TSNBgMR3ECuDxH9d+fPDz99enrq5mC93wSStj2MyMKkkpEW6WS2ShkYwjpW6IFfM5HCZ9FYgx4TBYxLEGsDJJRwEHf/rl9/eXb1ycPjtinwlICxHFpLOmT0tNwYRZMZikV87QiBsTgatXes5MH29k0dckzBkOLcfGeUgVwN8+L3z/ycrdNwovzYULvZrnEsp5v2ikGepXkwdE+AU+bo1PesqvyfU0ZEJCDw31vor/sph2koPXEcqBv3559v6bI1cXgxfGnStpXSEiOxOQTLULcy1QWk3I8LHP8sE4BVlHKuHjn7SQK+5qBMu1VUkRUc9EA/s/nL95ZezlQuT1Wc/ZAeNiFF7ols53SfJObraVlVKScwJsgUca55DSEJhk4DZ1/HkJNSwi1lJQwHdfv9Xo7A54PS9MuM8/pV+Kys/4BVNO7ng7NO6G0g3kOLc8xSe84rCd09dnhOTn5ew5McUvINt0auCNjXPqJl/Y0ZmMdj1zwr6ccS4N2GYipvmEeSZiyHfq+21wr6H2dHRwXtu00lH3Yps0D6GDWmVzmw146cKSwWKN+6LRYHQi5T+dDp7s7xjt8cwOhmYGA+nO5laN0tdkGOjLPa01plTixSbFIITO9YQS0RAwmU0pZZr2Znd/KDQVb50d9C3kEnPpzsk+z3TGP9objHlMfpfC6VanvJKgE/Y21OjQpa++uPrc/Cyg1rdSefXm6HIsvzby9PnR5YujK7/Or27k1y4Pnd1IzfzCFQ65gja9w+4O2zzdjpY2YwOEfeH5pVNjowBBZMIwJIbQlGtkzTfwTDgzFxqa60zPeXtPeQcKTf6Qw1cf6rWodOpwwtgVb4wFtfGQyuU6roFhoFphxXNgz8hCZHr1ZMTx2lDr62POdKMgIKNl3Pqu4VnXiTFrLNsSGWoOn4BdiaBeLSaiqwkgRKX+D/KhKSEu/OYMAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;다크로드&quot;
        title=&quot;&quot;
        src=&quot;/static/d6e09a0d402674a88c32375fa6cc6c71/2bf95/image.png&quot;
        srcset=&quot;/static/d6e09a0d402674a88c32375fa6cc6c71/c26ae/image.png 158w,
/static/d6e09a0d402674a88c32375fa6cc6c71/2bf95/image.png 194w&quot;
        sizes=&quot;(max-width: 194px) 100vw, 194px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Gatsby는 리액트를 기반으로 하기 때문에,&lt;br&gt;
처음 시작하면 &lt;code class=&quot;language-text&quot;&gt;index.js&lt;/code&gt;등의 &lt;code class=&quot;language-text&quot;&gt;.js&lt;/code&gt;파일들이 각각&lt;br&gt;
Component를 &lt;code class=&quot;language-text&quot;&gt;export&lt;/code&gt;하는 것을 볼 수 있습니다. &lt;br&gt;
리액트 사용자라면 너무 익숙하죠?&lt;/p&gt;
&lt;p&gt;이번 시간에는 이렇게 생겨먹은 &lt;strong&gt;React Component&lt;/strong&gt; 스타일의 &lt;code class=&quot;language-text&quot;&gt;.js&lt;/code&gt;친구들을&lt;br&gt;
&lt;strong&gt;타입스크립트&lt;/strong&gt;(&lt;code class=&quot;language-text&quot;&gt;.ts&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;.tsx&lt;/code&gt;)로 바꿔버리는...&lt;br&gt;
마이그레이션 작업을 좀 해보겠습니다&lt;br&gt;
그냥.. 얼마전에 &lt;strong&gt;TypeScript&lt;/strong&gt; 이론을 공부했으니까.. 이걸 실제로 써보려고 그럽니다&lt;br&gt;
그리고 더 늦기 전에 갈아타야 좀 수월하지 않겠습니까?&lt;/p&gt;
&lt;p&gt;들어가기에 앞서..&lt;br&gt;
&lt;a href=&quot;https://www.gatsbyjs.com/docs/how-to/custom-configuration/typescript/#gatsby-configts&quot;&gt;공홈&lt;/a&gt;도 참고했고&lt;br&gt;
매우 똥같은 번역이 있지만 꽤나 참고가 된 &lt;a href=&quot;https://hackernoon.com/ko/javascript%EC%97%90%EC%84%9C-typescript%EB%A1%9C-%EB%B0%98%EC%9D%91-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95&quot;&gt;링크&lt;/a&gt;도 있습니다&lt;/p&gt;
&lt;h1 id=&quot;typescript-initialize&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#typescript-initialize&quot; aria-label=&quot;typescript initialize permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;TypeScript Initialize&lt;/h1&gt;
&lt;p&gt;그.. 타입스크립트는 준비 하셨죠?&lt;br&gt;
그럼 이제 initialize 하겠습니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm init gatsby -ts&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;그럼 이제 &lt;code class=&quot;language-text&quot;&gt;tsconfig.json&lt;/code&gt;파일이 생기는데요&lt;br&gt;
&lt;a href=&quot;https://github.com/gatsbyjs/gatsby/blob/master/starters/gatsby-starter-minimal-ts/tsconfig.json&quot;&gt;gatsby-minimal-starter-ts&lt;/a&gt;에서 내용을 긁어다 쓰셔도 무방하다고 공홈에서 그러네요&lt;br&gt;
저도 그냥 긁었습니다&lt;/p&gt;
&lt;p&gt;그런 다음 일단 &lt;code class=&quot;language-text&quot;&gt;gatsby-*.js&lt;/code&gt;들을 &lt;code class=&quot;language-text&quot;&gt;.ts&lt;/code&gt;로 바꿔줍시다&lt;br&gt;
얘네들은 제 경험상으론 확장자만 바꿔주고 딱히 뭐 안해줘도 됩니다&lt;/p&gt;
&lt;h1 id=&quot;이제-하나하나-수정해봅시다&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%A0%9C-%ED%95%98%EB%82%98%ED%95%98%EB%82%98-%EC%88%98%EC%A0%95%ED%95%B4%EB%B4%85%EC%8B%9C%EB%8B%A4&quot; aria-label=&quot;이제 하나하나 수정해봅시다 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이제 하나하나 수정해봅시다&lt;/h1&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;src/component/&lt;/code&gt; 또는.. &lt;code class=&quot;language-text&quot;&gt;src/pages/&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;src/templates/&lt;/code&gt; 이런 곳에 있는 &lt;code class=&quot;language-text&quot;&gt;.js&lt;/code&gt;들을 &lt;code class=&quot;language-text&quot;&gt;.ts&lt;/code&gt;로 바꿀건데요&lt;br&gt;
확장자를 바꾸고나면 빨간줄이 좍좍 그어질텐데&lt;br&gt;
겁나지만 하나씩 좀 해봅시다..&lt;/p&gt;
&lt;p&gt;해야 할 일들은 대충&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;혹시 컴포넌트를 &lt;em&gt;Functional Component&lt;/em&gt; 형태로 쓰셨다면 &lt;code class=&quot;language-text&quot;&gt;import {FC} from &quot;react&quot;&lt;/code&gt;를 써서 &quot;이거 리액트 컴포넌트임&quot;을 알려야하는 것 같습니다&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;&lt;code class=&quot;language-text&quot;&gt;props&lt;/code&gt;에 type safety 집어넣기&lt;/em&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt;에 type 주기&lt;br&gt;
(예 : &lt;code class=&quot;language-text&quot;&gt;[data, setData] = useState() =&gt; [data, setData] = useState&amp;lt;typename&gt;()&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;필요한 친구들은 타입스크립트버전(&lt;code class=&quot;language-text&quot;&gt;@types/&lt;/code&gt;)를 다시 설치해줘야 합니다&lt;br&gt;
(예 : &lt;code class=&quot;language-text&quot;&gt;import kebabCase from &quot;lodash.kebabcase&quot;&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;npm i --save-dev @types/lodash.kebabcase&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;마지막에 &lt;code class=&quot;language-text&quot;&gt;gatsby-node.js&lt;/code&gt;에서 &lt;code class=&quot;language-text&quot;&gt;createPages&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;component&lt;/code&gt;항목들을 &lt;code class=&quot;language-text&quot;&gt;.js&lt;/code&gt;-&gt;&lt;code class=&quot;language-text&quot;&gt;.ts&lt;/code&gt;로 바꾸는 것을 잊지 말도록 합시다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이 중에서 props에 type넣기를 한번 같이 보겠습니다&lt;/p&gt;
&lt;h1 id=&quot;props에-type-safety-보장하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#props%EC%97%90-type-safety-%EB%B3%B4%EC%9E%A5%ED%95%98%EA%B8%B0&quot; aria-label=&quot;props에 type safety 보장하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;props에 type safety 보장하기&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 549px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a2d14be78172fbdbe9f4735cf7e2b4c7/928ea/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.21518987341772%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA6UlEQVR42mWQWW6EMBBEOUkUaTAYgw14NwwYJsr9j1RpPIpElI+n3rxUdbWkBfu2I4SAGCP2PUNKhXnWBec8tDYYBollWUturSvx4n728ahR+RBxMU4a2tgyEJ0A512haVo0XICxBjVdqGv2h6t/p9I+wawnXP7G5BIsKQoxIZHyS/1EH5glg4v+/fgd1v7rVdKTRX9iCF9QlCuKvV7f9vNZWJ4bcj5wnC+ocUJP9gey+osstSxrqT67AXU3gimybTQpUhAtg6UVhHTAxw3r80XrcJiVhFEjBOc0n2DnGbMYqCb7bQvOPvADA4KbsuwU+EoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1&quot;
        title=&quot;&quot;
        src=&quot;/static/a2d14be78172fbdbe9f4735cf7e2b4c7/928ea/image-1.png&quot;
        srcset=&quot;/static/a2d14be78172fbdbe9f4735cf7e2b4c7/c26ae/image-1.png 158w,
/static/a2d14be78172fbdbe9f4735cf7e2b4c7/6bdcf/image-1.png 315w,
/static/a2d14be78172fbdbe9f4735cf7e2b4c7/928ea/image-1.png 549w&quot;
        sizes=&quot;(max-width: 549px) 100vw, 549px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;확장자를 바꾸고 나면 가장 먼저 눈에 띄는 빨간줄은 이녀석입니다&lt;br&gt;
사실 이 마이그레이션 작업은 props에 type만 잘 넣어주면 됩니다&lt;br&gt;
만약 &lt;code class=&quot;language-text&quot;&gt;const Component=({description, title}) =&gt; {}&lt;/code&gt;같은 컴포넌트가 있다면&lt;br&gt;
저같은 경우는 &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;를 이용하여&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ComponentProps&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
  title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Component&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; description&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; title &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ComponentProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런식으로 해줬습니다&lt;/p&gt;
&lt;p&gt;근데 문제는 graphql 쿼리로 가져오는 &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;같은 props들은 이렇게 단순하게 끝나지 않는데요...&lt;br&gt;
이 쿼리들 데이터들의 객체관계를 하나하나 &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;로 표현하고 또 &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;로.. 아휴&lt;br&gt;
그냥 GPT한테 query문을 긁어서 가져갑시다..&lt;br&gt;
알아서 잘 해줍니다.&lt;br&gt;
아니면 나중에 안 사실인데&lt;br&gt;
공홈에 보니까 &lt;a href=&quot;https://www.gatsbyjs.com/docs/how-to/local-development/graphql-typegen&quot;&gt;GraphQL Typegen&lt;/a&gt;이라는게 존재합니다 쩝&lt;/p&gt;
&lt;p&gt;아무튼 각 컴포넌트들마다 &lt;code class=&quot;language-text&quot;&gt;export const pageQuery = graphql&lt;/code&gt;로 시작하는 쿼리문들을 긁어다가 GPT한테 인터페이스를 만들어달라고 하면
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e5fb0015d43295207695651b0c559685/36c33/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 76.58227848101265%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB2klEQVR42qWSWW/aUBCF7/WGwRgr3khw2dJFJUgRAUwrtdhgSIIhIWoSd3nq//8Vp8PFaRMpQRF9+DQznvHxub7DPn+/xcU6w2qVIRxN0Tv7iv4gwmAYC876T+stVIcxhuHkCf3BGCxMUlyS2N3db1xd/xRcLu6xSO+xXP2g+peIizTD+cUt0mWG+fk3RJMVpskayfwGyexG5MNwCtbvRYiilF7K8uYaMQ1PpleiniTXNLxlHC8R0/Mv40XuaioIRwm52zifkEMqPnZ6eP+hg0bzGIdBE7V6CwHxhqjX26g38rzRFvVmrtl6K2i136FzcoqT7im63T7Y6NMMrh9ANx2ULRtHBRW+qsEiZEUGYwycM7AN7HkkSRLRJx0h6Pk1FLmGiq7DLcvQVRkS5yTEXxR5zMOc59X+CYqGJIMzDpUGlPyrewk6lJiGC8+x0bYU2IoGg46865g7BOewnSpMpsAtFOBbdGRd2v63vR06h3DlEtoVE0GliIMSh6HL+wmGJFitBvlt0UVIr3f2okPbPYKkm9ANCy6tiqFp+wuGoxl8cmgoJdjlIqqmBE1R/s+h69X+NjhF+WF1COkV6/Ps2hiGA8+qollWCR2OrOJAVqCSW8dxoOxw/VjwD/gmdFTyLxZhAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;GPT 결과&quot;
        title=&quot;&quot;
        src=&quot;/static/e5fb0015d43295207695651b0c559685/f058b/image-2.png&quot;
        srcset=&quot;/static/e5fb0015d43295207695651b0c559685/c26ae/image-2.png 158w,
/static/e5fb0015d43295207695651b0c559685/6bdcf/image-2.png 315w,
/static/e5fb0015d43295207695651b0c559685/f058b/image-2.png 630w,
/static/e5fb0015d43295207695651b0c559685/40601/image-2.png 945w,
/static/e5fb0015d43295207695651b0c559685/36c33/image-2.png 946w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
잘 뱉어줍니다.&lt;/p&gt;
&lt;p&gt;이제 이걸 가져다가 적당히 &lt;code class=&quot;language-text&quot;&gt;interface ComponentProps {}&lt;/code&gt;를 작성하고 타입을 명시해주면 되겠습니다.&lt;/p&gt;
&lt;p&gt;근데 저같은 경우는 어떤 props는 상황에 따라 props를 넣을 수도 넣지 않을 수도 있는&lt;br&gt;
꽤나 양자역학적인 슈뢰딩거의 props문제가 있었습니다&lt;/p&gt;
&lt;p&gt;이 경우 간단히... &lt;code class=&quot;language-text&quot;&gt;:&lt;/code&gt; 대신 &lt;code class=&quot;language-text&quot;&gt;?:&lt;/code&gt;를 씁시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ComponentProps&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Schrödinger&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; cat
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;저처럼 바보같이 &lt;code class=&quot;language-text&quot;&gt;Schrödinger: cat | undefined&lt;/code&gt; 이런 트라이를 하지 말도록 합시다.&lt;br&gt;
그리고 처음 하시면 헷갈리실까봐 말씀드리는건데&lt;br&gt;
함수를 넘길 때는.. 만약 인자는 &lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;타입이고 반환값은 없다면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;function(param: number): void&lt;/code&gt; 이런식입니다&lt;/p&gt;
&lt;h1 id=&quot;해치웠나&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%B4%EC%B9%98%EC%9B%A0%EB%82%98&quot; aria-label=&quot;해치웠나 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;해치웠나?&lt;/h1&gt;
&lt;p&gt;음.. 해치운 것 같습니다.&lt;br&gt;
막상 별거 없죠?&lt;br&gt;
인생이란게 그렇습니다.&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🔌 옵시디언 플러그인 개발 이렇게 시작해보세요]]></title><description><![CDATA[여러분은 노트 앱 뭐쓰시나요 보통 노션 자주들 쓰시는데.. 저도 노션 썼었지만 힙해보여서 여러 이유로 옵시디언으로 갈아탄지…]]></description><link>https://sungpaks.github.io/how-to-make-obsidian-plugin/</link><guid isPermaLink="false">https://sungpaks.github.io/how-to-make-obsidian-plugin/</guid><pubDate>Sun, 07 Jan 2024 12:45:00 GMT</pubDate><content:encoded>&lt;p&gt;여러분은 노트 앱 뭐쓰시나요&lt;br&gt;
보통 노션 자주들 쓰시는데.. 저도 노션 썼었지만&lt;br&gt;
&lt;del&gt;힙해보여서&lt;/del&gt; 여러 이유로 옵시디언으로 갈아탄지 6개월? 됐습니다&lt;/p&gt;
&lt;p&gt;블로그를 쓸 때도 어차피 블로그 글도 마크다운이니까&lt;br&gt;
옵시디언에 어느정도 써놓고 거의 그대로 옮기다시피 할 때도 많습니다.&lt;/p&gt;
&lt;p&gt;그런데 불편한 점이 하나 있다면&lt;br&gt;
옵시디언은 이미지를 붙여넣으면 로컬 이미지파일을 새로 생성하고 &lt;code class=&quot;language-text&quot;&gt;![[image.png]]&lt;/code&gt; 이렇게 붙여넣습니다.&lt;br&gt;
이건 그냥 커뮤니티 플러그인인 imgur 플러그인을 씁니다&lt;br&gt;
이 친구는 &lt;code class=&quot;language-text&quot;&gt;imgur.com&lt;/code&gt;에 이미지를 업로드해주고 그 URL로 &lt;code class=&quot;language-text&quot;&gt;![](URL)&lt;/code&gt; 이렇게 붙여넣어주는 고마운 친구입니다&lt;br&gt;
이러면 로컬에 계속 이미지들이 주르륵 존재할 필요도 없고 편하죠&lt;/p&gt;
&lt;p&gt;그런데 깃허브블로그를 시작하면서 느낀 문제점은..&lt;br&gt;
이렇게 &lt;code class=&quot;language-text&quot;&gt;![](URL)&lt;/code&gt; 형태로 붙여넣으면 크기 조절이 안 되기도 하고&lt;br&gt;
현재 브라우저의 폭 따위는 신경쓰지 않고 원본 크기로 존재하기 때문에&lt;br&gt;
가로 스크롤 바가 생겨버려서 매우 열받는 점이 있습니다&lt;/p&gt;
&lt;p&gt;아무튼.. 그런 이유로 &lt;code class=&quot;language-text&quot;&gt;![](URL)&lt;/code&gt; 형태를 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;img src=&quot;URL&quot;/&gt;&lt;/code&gt; 이렇게 바꿔서&lt;br&gt;
사이즈나 여타 옵션같은걸 마음대로 넣고 싶은데&lt;br&gt;
저렇게 이미지 태그로 바꾸는 과정이 상당히 귀찮습니다..&lt;br&gt;
그래서 버튼 하나로 저걸 모두 이미지태그로 바꿔주는 플러그인을 만들어버리자!&lt;br&gt;
라는 생각을 해서.. 실제로 만들어봤습니다.&lt;/p&gt;
&lt;h1 id=&quot;시작하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0&quot; aria-label=&quot;시작하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;시작하기&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://steemit.com/hive-137029/@anpigon/started-obsidian-plugin-development&quot;&gt;이 블로그 글&lt;/a&gt;을 참고했습니다. 감사합니다 _ _&lt;/p&gt;
&lt;p&gt;링크에 아주 친절한 설명이 잘 나와있습니다&lt;/p&gt;
&lt;p&gt;일단 꼭!! 다른 새로운 Vault를 생성하고 거기서 작업하도록 합시다&lt;/p&gt;
&lt;p&gt;가장 먼저..&lt;br&gt;
기본적으로 Obsidian에서 제공하는 Example Plugin Template이 있습니다&lt;br&gt;
이걸 이용해 새 플러그인 레포지토리를 만들고,&lt;br&gt;
옵시디언 Vault의 &lt;code class=&quot;language-text&quot;&gt;yourVault/.obsidian/plugin&lt;/code&gt; 경로로 들어가서&lt;br&gt;
방금 만든 레포지토리를 클론합니다&lt;br&gt;
레포지토리 이름은, &lt;code class=&quot;language-text&quot;&gt;obsidian-&lt;/code&gt;으로 시작하는게 국룰인 것 같으니 따라해줍시다&lt;/p&gt;
&lt;p&gt;그럼 이제 클론받은 폴더로 이동해서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm i&lt;/code&gt;로 의존성을 설치하고, &lt;code class=&quot;language-text&quot;&gt;npm run dev&lt;/code&gt;로 코드를 빌드합니다&lt;br&gt;
이제 옵시디언에서 설정-&gt;커뮤니티 플러그인-&gt;(먼저 커뮤니티 플러그인 사용을 활성화하고)-&gt;하단에 설치된 플러그인에서 새로고침을 누릅니다.&lt;br&gt;
이제 등장한 &lt;code class=&quot;language-text&quot;&gt;Sample Plugin&lt;/code&gt;을 활성화합니다&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/WpFrrnP.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;100%/&quot;&gt;&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;manifest.json&lt;/code&gt; 파일을 수정하여 &lt;code class=&quot;language-text&quot;&gt;id&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt;같은걸 적당히 바꿔보시고 진행하시면 됩니다..&lt;br&gt;
그리고 마지막에 나오는 &lt;code class=&quot;language-text&quot;&gt;hot-reload&lt;/code&gt;플러그인 받아서 켜놓고 하면 확실히 편합니다.&lt;br&gt;
링크에서 설명을 잘 해주셔서 세팅은 이정도로 하겠습니다&lt;/p&gt;
&lt;h1 id=&quot;어떻게-개발합니까&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%96%B4%EB%96%BB%EA%B2%8C-%EA%B0%9C%EB%B0%9C%ED%95%A9%EB%8B%88%EA%B9%8C&quot; aria-label=&quot;어떻게 개발합니까 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;어떻게 개발합니까?&lt;/h1&gt;
&lt;p&gt;Obsidian Plugin 공식 Docs에서는 &lt;code class=&quot;language-text&quot;&gt;main.ts&lt;/code&gt; 또는 새로운 &lt;code class=&quot;language-text&quot;&gt;.ts&lt;/code&gt;파일을 만들어서 코드를 작성하라고 합니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;main.js&lt;/code&gt;에는 뭔가 작성하지 마세요.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;main.ts&lt;/code&gt;에 작성된 내용이 이곳에 자동으로 컴파일됩니다.&lt;/p&gt;
&lt;p&gt;맞다! &lt;code class=&quot;language-text&quot;&gt;npm run dev&lt;/code&gt; 켜놓으셨죠?&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/sX7r9nP.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;100%/&quot;&gt;&lt;br&gt;
대충 이런 상태여야 합니다&lt;/p&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;main.ts&lt;/code&gt; 열어봅시다&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/MHKQyIf.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;100%/&quot;&gt;&lt;br&gt;
뭐가 많네요... 쩝&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const ribbonIconEl&lt;/code&gt; 밑에 마우스 이벤트가 정의되어 있으니 여기를 한번 수정해볼까요??&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/lMoVNKl.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;100%/&quot;&gt;
이렇게 바꿔봅시다&lt;br&gt;
저장하고 왼쪽 사이드바의 주사위모양 아이콘을 눌러봅시다&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/UAIBAsX.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;70%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
이거 눌러보면.. 짜잔&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/Mff2C1t.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;50%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
귀여운 Notice가 뜹니다!&lt;/p&gt;
&lt;p&gt;오.. 그러면 저 부분을 적당히 작성하면 버튼 한번으로 전부 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;img&gt;&lt;/code&gt; 태그로 바꿔버릴 수 있겠죠??&lt;/p&gt;
&lt;h1 id=&quot;데이터에-접근하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%97%90-%EC%A0%91%EA%B7%BC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;데이터에 접근하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;데이터에 접근하기&lt;/h1&gt;
&lt;p&gt;그럼 이제 데이터를 가져오는 법이 궁금합니다?&lt;br&gt;
데이터를 가져와야 현재 열린 파일에서 &lt;code class=&quot;language-text&quot;&gt;![]()&lt;/code&gt;만 쏙 뽑아서 그 URL 그대로 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;img&gt;&lt;/code&gt;태그로 변환할 수 있겠죠?&lt;/p&gt;
&lt;p&gt;처음엔 이게 제가 못 찾은건지.. 대충써놓은건지.. 잘 못찾다가&lt;br&gt;
&lt;a href=&quot;https://forum.obsidian.md/t/how-to-get-current-file-content-without-yaml-frontmatter/26197&quot;&gt;여기&lt;/a&gt;에서 데이터에 접근하는 적절한 방법을 찾을 수 있었습니다&lt;/p&gt;
&lt;p&gt;일단 현재 앱에서 열린 워크스페이스를 가져오려면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;this.app.workspace&lt;/code&gt; 객체를 가져옵니다.&lt;br&gt;
만약 .. 현재 열린 파일을 가져오려면 &lt;code class=&quot;language-text&quot;&gt;this.app.workspace.getActiveFile();&lt;/code&gt; 이런식이겠고,&lt;br&gt;
현재 활성화된 에디터 객체는 &lt;code class=&quot;language-text&quot;&gt;this.app.workspace.activeEditor.editor&lt;/code&gt;로 가져올 수 있습니다.&lt;br&gt;
이 에디터 객체를 &lt;code class=&quot;language-text&quot;&gt;const editor&lt;/code&gt;로 유지해두고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;editor.getDoc().getValue()&lt;/code&gt;를 메소드를 사용하여 출력해보면..&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; f &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;workspace&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getActiveFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; editor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;workspace&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;activeEditor&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;editor
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;editor &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Notice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;editor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getDoc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/3VrfWm3.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
오호...&lt;br&gt;
이제 값을 잘 변화시킬 수도 있는지 보기 위해&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;editor.getDoc().setLine(0, &quot;Hello!!&quot;)&lt;/code&gt; 줄을 추가해봅시다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;Notice&lt;/code&gt; 밑에 추가하면 먼저 바뀌기 전 값들이 나오고 맨 윗줄이 바뀌어버리겠죠?&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/tVt3PBH.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/Eekqykt.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;40%&quot; height=&quot;auto&quot;&gt;&lt;br&gt;
와우. . 준비가 끝났습니다.&lt;/p&gt;
&lt;h1 id=&quot;구현-ㄱ&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B5%AC%ED%98%84-%E3%84%B1&quot; aria-label=&quot;구현 ㄱ permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;구현 ㄱ&lt;/h1&gt;
&lt;p&gt;흠.. 일단 &lt;code class=&quot;language-text&quot;&gt;replace&lt;/code&gt;나 &lt;code class=&quot;language-text&quot;&gt;match&lt;/code&gt;같은걸 이용해서&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;![](URL)&lt;/code&gt;처럼 생긴 부분을 찾고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;URL&lt;/code&gt;만 뽑아다가 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;img&gt;&lt;/code&gt;태그를 만들어내면 될 것 같습니다&lt;/p&gt;
&lt;p&gt;그럼 일단 정규표현식이 필요한데요&lt;br&gt;
GPT한테 물어보니&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const regex = /!\[]\(([^)]+)\)/;&lt;/code&gt;&lt;br&gt;
이런걸 뱉었습니다.&lt;br&gt;
이제 이 정규표현식으로 &lt;code class=&quot;language-text&quot;&gt;const matchedStrings = content.match(regexByURL);&lt;/code&gt;과 같이 쓰면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;matchedStrings[1]&lt;/code&gt;에 제가 원하던 URL이 추출되어있게 됩니다!!&lt;/p&gt;
&lt;p&gt;이제 이 URL을 가지고 &lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const imgTag = &apos;&amp;lt;img src=&quot;&apos; + url + &apos;&quot; alt loading=&quot;lazy&quot; /&gt;&apos;;&lt;/code&gt;&lt;br&gt;
이렇게 써준다면 이미지 태그를 완성할 수 있습니다&lt;/p&gt;
&lt;p&gt;사이즈나 다른 옵션같은거는 명령어 팔레트로 세팅을 미리 해놓도록 하면 좋겠는데,&lt;br&gt;
귀찮으니 나중에 또 업데이트하려고 합니다&lt;/p&gt;
&lt;p&gt;아무튼.. 근데 그냥 이렇게 만든 &lt;code class=&quot;language-text&quot;&gt;imgTag&lt;/code&gt;를 반환하기에는 앞뒤로 다른 무고한 문자열이 있을 수도 있겠죠?&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;content.replace(regex, imgTag)&lt;/code&gt; 이런식으로 써서 해당 부분만 쏙! 바꿔주도록 합시다&lt;br&gt;
그리고 한 라인 내에 여러 이미지가 있을 수도 있으니까&lt;br&gt;
이미지가 있었으면 바뀐 문자열이 나올거고,&lt;br&gt;
이미지가 없으면 &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;이 반환되도록 한 뒤&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;이 반환될 때까지 반복적으로 수행하도록 해줍니다&lt;/p&gt;
&lt;p&gt;그럼 .. 짜잔 버튼만 누르면&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/eAOkQe1.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;50%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
이랬던게&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/cfgIgZC.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
요래 됩니다&lt;br&gt;
성공적이네요~&lt;/p&gt;
&lt;h1 id=&quot;다른-곳에서-쓰려면&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8B%A4%EB%A5%B8-%EA%B3%B3%EC%97%90%EC%84%9C-%EC%93%B0%EB%A0%A4%EB%A9%B4&quot; aria-label=&quot;다른 곳에서 쓰려면 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;다른 곳에서 쓰려면&lt;/h1&gt;
&lt;p&gt;칼은 사용을 해야 칼이겠죠?&lt;br&gt;
마침 또 작업한건 다른 테스트용 Vault였으니&lt;br&gt;
이걸 원래 쓰던 Vault에 가져와보도록 합시다&lt;/p&gt;
&lt;p&gt;일단 작업한 내용을 github 레포지토리에 푸시하고&lt;br&gt;
Release를 하나 만듭니다&lt;br&gt;
Release에는 세 가지 파일을 넣습니다:&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;manifest.json, main.js, style.css&lt;/code&gt;\&lt;/p&gt;
&lt;p&gt;이제 이 release된 세 파일을 다른 vault에서 쓰려면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;yourAnotherVault/.obsidian/plugins&lt;/code&gt;에 새로운 폴더를 만들고&lt;br&gt;
세 파일을 집어넣으면 됩니다&lt;br&gt;
이제 커뮤니티 플러그인 -&gt; 설치된 플러그인 -&gt; 새로고침 한번 해주면&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/GyoeEBZ.png&quot; alt=&quot;&quot; loading=&quot;lazy&quot; width=&quot;100%&quot; height=&quot;auto/&quot;&gt;&lt;br&gt;
와 우! 이제 사용하면 됩니다!&lt;/p&gt;
&lt;p&gt;깃허브의 obsidian-release 레포지토리에 PR등록하면 커뮤니티 플러그인으로 등록할 수 있는 것 같은데&lt;br&gt;
이런 너무 단순한 플러그인을 받아줄지? 도 의심스러울 뿐더러&lt;br&gt;
쫌.. 귀찮아서 나중에 하렵니다&lt;/p&gt;
&lt;hr&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;p&gt;시작할때는 꽤나 막막했는데&lt;br&gt;
막상 해보니까 별로 한 것도 없어보이네요&lt;br&gt;
쩝.. 인생이란 원래 그런게 아닐지~&lt;/p&gt;
&lt;p&gt;전에 커리어리 눈팅하다가&lt;br&gt;
개발자 공부하고 취준하고 하는게 너무 막막하다 라는 글에&lt;br&gt;
원래 개발이라는게 막막하고 시니어도 그렇다. 그 막막함을 직시하는게 중요한 것 같다.&lt;br&gt;
이런 답변을 본 적 있습니다&lt;/p&gt;
&lt;p&gt;저도 뭔가 새로 할 때마다 너무 막막한데&lt;br&gt;
지나고 보면.. 하면 되는구나 싶습니다&lt;br&gt;
아무튼 이런 것도 해보고&lt;br&gt;
재밌네요~&lt;/p&gt;
&lt;p&gt;이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[😏 저랑.. 타입스크립트 공부 하실래요? (TypeScript)]]></title><description><![CDATA[안녕하세요. 오늘은 TypeScript 가져왔습니다. 저도 TypeScript는 처음 써보는데요.. 이게 저는 C나 C++, Java…]]></description><link>https://sungpaks.github.io/studying-typescript-day1/</link><guid isPermaLink="false">https://sungpaks.github.io/studying-typescript-day1/</guid><pubDate>Thu, 04 Jan 2024 11:43:00 GMT</pubDate><content:encoded>&lt;p&gt;안녕하세요.&lt;br&gt;
오늘은 TypeScript 가져왔습니다.&lt;br&gt;
저도 TypeScript는 처음 써보는데요..&lt;br&gt;
이게 저는 C나 C++, Java..같은&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;int a = 10;&lt;/code&gt; 이런 것만 해봤고&lt;br&gt;
이거에 익숙해서 그런지&lt;br&gt;
그냥 냅다 &lt;code class=&quot;language-text&quot;&gt;const a = 10;&lt;/code&gt; 이런 식으로 쓰는거 정말 적응 안됩니다.&lt;br&gt;
그리고 요새는 파이썬을 또한 다시 만져보고 있는데&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;a = 10&lt;/code&gt; 이건 정말.. 더 그러네요&lt;/p&gt;
&lt;p&gt;아무튼 이렇게 Javscript는 타입이 불분명하다는 점 때문에 다른 사람들도 어지간히 불편했나 봅니다.&lt;br&gt;
이런 니즈가 있었기에 마이크로소프트에서 &lt;strong&gt;TypeScript&lt;/strong&gt;라는 것을 내놓았는데요&lt;br&gt;
꽤나 널리 쓰이게 된지 좀 된 것 같습니다&lt;/p&gt;
&lt;p&gt;그래서 남들 하는건 저도 해야겠으니&lt;br&gt;
어떻게 공부를 시작해볼까? 생각하다가 그냥&lt;br&gt;
쩝.. Document나 열어봐야지.. 하여 좀 살펴봤습니다&lt;br&gt;
TypeScript는 친절하게도 여러 수준의 맞춤형 핸드북을 제공합니다&lt;br&gt;
저는 JavaScript Programmer를 위한.. &lt;a href=&quot;https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html&quot;&gt;이거&lt;/a&gt;를 골라봤습니다.&lt;br&gt;
저랑 같이 공부 허쉴?&lt;/p&gt;
&lt;h2 id=&quot;typescript는요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#typescript%EB%8A%94%EC%9A%94&quot; aria-label=&quot;typescript는요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;TypeScript는요..&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://www.typescriptlang.org/&quot;&gt;여기&lt;/a&gt;에서 소개하는 TypeScript의 특징? 편의성? 머 아무튼 그런거는&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;에디터에서 타입을 체크해줍니다&lt;/li&gt;
&lt;li&gt;자동완성도 해줍니다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;를 제공합니다. (구조체와 유사)&lt;/li&gt;
&lt;li&gt;JSX에서도, props같은거 타입을 지정할 수 있게 해줍니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;음.. 좋네요&lt;br&gt;
이제 본격적으로 뜯어봅니다&lt;br&gt;
아 그리고 이제 귀찮으니까 TypeScript는 TS로 줄여서 쓰겠습니다. JavaScript도 JS로 줄여쓰고싶어지면 그렇게 하겠습니다.&lt;/p&gt;
&lt;h2 id=&quot;types-by-inference&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#types-by-inference&quot; aria-label=&quot;types by inference permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Types By Inference&lt;/h2&gt;
&lt;p&gt;타입을 추론하여 정한다는 내용인데요&lt;br&gt;
예를 들어, 이전에 보통 Javascript에서 으레 하듯이&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;let helloWorld = &quot;Hello World&quot;;&lt;/code&gt;라고 쓴다면&lt;br&gt;
TS는 아! &lt;code class=&quot;language-text&quot;&gt;helloWorld&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt; 타입이다! 를 기억합니다&lt;br&gt;
그럼 이제 나중에 10같은 &lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;값을 실수로 넣는 상황이 되어도 빨간줄을 좍좍 그어줍니다. 이렇게
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 331px; &quot;&gt;
      &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/e994a8e01f3d3e504a0217eb8466d505/62452/image.png&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 24.68354430379747%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABDklEQVR42lWQ6Y6CMBSFff9XM7NEx52JAgq1FLqwFCHyTQd/eZPm3pM23+k9C+8nlJ5w9UBRSLLshjGaJIm5C4m8S6wx9L7HdobM5AibU3sXtCXTGdIV4QhM61jUzUgsRozrieOYcwClAbpar7hcLiRpgpQCay1N5ziJI2mZzABp7kGfuFZX8gB2TQDmccLma8nv7ofd5wer5ZI0ijjvNnj/oHSKg9izPx4YhoH3mt7V9GTRFTlyu2IUN8T2G7lfI8Lv9DkKERSUZVhHSaJgIqVEqQJjDW1bhztFoV5vmrZ5AR9Dhx/87DA+R/qhp9Q69IGqKsOqJmRqZlhVVWhdUTc1vmvn+T9vFbJ3zs2MP9c0eOAgOueFAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&quot;gatsby-resp-image-image&quot; alt=&quot;image&quot; title=&quot;&quot; src=&quot;/static/e994a8e01f3d3e504a0217eb8466d505/62452/image.png&quot; srcset=&quot;/static/e994a8e01f3d3e504a0217eb8466d505/c26ae/image.png 158w,
/static/e994a8e01f3d3e504a0217eb8466d505/6bdcf/image.png 315w,
/static/e994a8e01f3d3e504a0217eb8466d505/62452/image.png 331w&quot; sizes=&quot;(max-width: 331px) 100vw, 331px&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;defining-types&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#defining-types&quot; aria-label=&quot;defining types permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Defining Types&lt;/h2&gt;
&lt;p&gt;타입을 정의한다는 내용인데요&lt;br&gt;
항상 위에서처럼 타입 추론에 의지할 수는 없습니다&lt;br&gt;
디자인 패턴에 따라서는 명시를 해야할 수도 있고,&lt;br&gt;
그게 아니더라도 선언과 동시에 값을 초기화하지 않을 수도 있죠?&lt;/p&gt;
&lt;p&gt;따라서 TS는 사용자에게 타입을 명시할 수 있도록 extension을 제공합니다.&lt;br&gt;
이름이라면 응당 문자열이게끔 &lt;code class=&quot;language-text&quot;&gt;name: string&lt;/code&gt;과 같이 쓴다던가,&lt;br&gt;
학번이라면 당연히 숫자이게끔 &lt;code class=&quot;language-text&quot;&gt;id: number&lt;/code&gt;라고 쓴다던가.. 말입니다&lt;/p&gt;
&lt;p&gt;만약 Sungho라는 이름의, 학번이 190001인 학생이 있다면&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const student = {name: &quot;Sungho&quot;, id: 190001};&lt;/code&gt;
이렇게 작성할 수 있을텐데요
대신 좀 더 엄격하게, TS를 이용하여 &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;를 선언하고 사용해볼 수 있습니다 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Student&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
  id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; student&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Student &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Sungho&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;190001&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게, &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;를 선언하고 사용하여 객체의 각 property의 타입을 강제할 수 있습니다.&lt;br&gt;
이렇게 쓰면 좋은 점은, 타입을 잘못 쓴 경우 (&lt;code class=&quot;language-text&quot;&gt;name: 190001&lt;/code&gt;처럼..)말고도 하나 더있는데요,&lt;br&gt;
예를 들어 property 이름이 헷갈려서 이름을 &lt;code class=&quot;language-text&quot;&gt;username: &quot;Sungho&quot;&lt;/code&gt;라고 써버리는 상황을 또한 방지할 수 있습니다.&lt;/p&gt;
&lt;p&gt;아 그리고 객체지향언어인 JS는 클래스가 있으니까 TS에서도&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StudentAccount&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;
  id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; id
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 타입을 정의할 수 있습니다.&lt;br&gt;
TS의 신기한 특징은, 위에서 살펴본 &lt;code class=&quot;language-text&quot;&gt;interface Student&lt;/code&gt;에 대해&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const student: Student = new StudentAccount(&quot;Sungho&quot;, 190001);&lt;/code&gt;&lt;br&gt;
과 같이 써버릴 수 있습니다.&lt;br&gt;
TS가 &lt;em&gt;Structural Type System&lt;/em&gt;이라서 가능한데, 이거에 관해서는 밑에서 다룹니다&lt;/p&gt;
&lt;p&gt;그리고 함수에서도,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;function setStudent(student: Student) {}&lt;/code&gt;와 같이 인자 타입을 정의할 수도 있고&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;function getStudent(): Student {}&lt;/code&gt;와 같이 리턴값의 타입을 정의할 수도 있습니다.&lt;/p&gt;
&lt;p&gt;이 정의할 수 있는 타입은&lt;br&gt;
JS에서 기본적으로 존재하는 primitive type인&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;boolean&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;bigint&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;symbol&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이런 거에 추가로 TS에서 지원하는 타입으로&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;any&lt;/code&gt; : 뭐든 허용&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;unknown&lt;/code&gt; : &lt;code class=&quot;language-text&quot;&gt;any&lt;/code&gt;와 비슷하지만, 실제로 사용 시 타입을 써야 함&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;never&lt;/code&gt; : 값이 항상 없음..을 의미하는데, 어떤 함수가 무한루프를 돌거나 항상 오류를 발생시키는 등 &quot;리턴 값이 절대 없음&quot; 을 나타내는 상황 등에서 이용하나봅니다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;void&lt;/code&gt; : 함수가 &lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;를 반환하거나 반환값이 없을 때&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;type-alias-vs-interface-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#type-alias-vs-interface-&quot; aria-label=&quot;type alias vs interface  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;type alias&lt;/code&gt; vs &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt; ?&lt;/h3&gt;
&lt;p&gt;새에 관한 타입을 만들고자 할 때, 두 가지 방법이 있습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;type BirdType = {wings: 2;};&lt;/code&gt; : &lt;em&gt;type alias&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;interface BirdInterface {wings: 2;}&lt;/code&gt; : &lt;em&gt;interface&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;대부분의 경우 이 두 방법은 거의 유사하지만, 조금의 차이점이 있고, 공식문서에서는 웬만하면 &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;를 사용하는게 좋겠다고 말하네요&lt;/p&gt;
&lt;p&gt;유사한 점은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;둘 다 property만 공통적이면 섞어쓸 수 있습니다.(intermix.) 이건 위에서 언급한 &lt;em&gt;Structural Type System&lt;/em&gt;에 의한 특징&lt;/li&gt;
&lt;li&gt;확장 가능 : 방식은 다릅니다.. 이런 식으로
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;type Owl = {nocturnal: true} &amp;amp; BirdType&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;interface Chicken extends BirdInterface{colorful : false}&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;근데 이제 다른 점이 무엇이냐&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;property가 공통적이지 않은데 intermix를 시도하는 경우 에러메시지가 다릅니다. 대충 &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;를 쓰는 편이 더 직관적이고 간결하다고 설명하네요&lt;/li&gt;
&lt;li&gt;또 중요한 차이점은, &quot;&lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;open&lt;/code&gt;이고, &lt;code class=&quot;language-text&quot;&gt;type alias&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;close&lt;/code&gt;&quot;라는 것인데 : - &lt;code class=&quot;language-text&quot;&gt;interface&lt;/code&gt;는 두 번 선언하면 확장됩니다. 예를 들어
&lt;code class=&quot;language-text&quot;&gt;interface Kitten {purrs : boolean;}&lt;/code&gt; 그 다음에
&lt;code class=&quot;language-text&quot;&gt;interface Kitten {color: string;}&lt;/code&gt; 이렇게 쓰면 &lt;code class=&quot;language-text&quot;&gt;Kitten&lt;/code&gt; 인터페이스는 확장됩니다. (property 둘 다 가짐)&lt;/li&gt;
&lt;li&gt;근데 &lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt;은 두 번 써버리면 그 자체로 성립이 불가
&lt;img src=&quot;https://i.imgur.com/GROaGdy.png&quot; width=&quot;100%&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;뭐 그렇다네요. 적당히 주의하도록 합시다&lt;/p&gt;
&lt;h2 id=&quot;composing-types&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#composing-types&quot; aria-label=&quot;composing types permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Composing Types&lt;/h2&gt;
&lt;p&gt;이제 타입을 구성해봅시다&lt;br&gt;
TS와 함께라면 복잡한 타입도 구성해볼 수 있습니다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Unions : 여러 타입을 결합합니다. 예컨대 &lt;code class=&quot;language-text&quot;&gt;type MyBool = true | false;&lt;/code&gt; 등..
&lt;ul&gt;
&lt;li&gt;어떤 변수에 들어갈 값을 특정 리터럴로 제한할 때 강력합니다. 예를 들면
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;type siblings = &quot;brother&quot; | &quot;sister&quot;;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;type PrimeNumberUnderTen = 2 | 3 | 5 | 7;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;또는 타입을 둘 이상 허용할 때 쓸 수 있습니다. (&lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;의 배열)
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;참고 : &lt;code class=&quot;language-text&quot;&gt;typeof&lt;/code&gt;연산자로 타입을 확인할 수 있습니다.&lt;/em&gt; &lt;code class=&quot;language-text&quot;&gt;if (typeof obj === &quot;string&quot;)&lt;/code&gt; 이런 식&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Generics : Array가 담을 수 있는 &lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt;을 제한할 수 있습니다.
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;type StringArray = Array&amp;lt;string&gt;;&lt;/code&gt; 이런 식&lt;/li&gt;
&lt;li&gt;또는, &lt;code class=&quot;language-text&quot;&gt;type ObjectWithNameArray = Array&amp;lt;{ name: string} &gt;;&lt;/code&gt; 이렇게 쓰면 property로 &lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt;을 가지는 애들만 넣도록 할 수 있습니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;T&gt;&lt;/code&gt; 와 같이 써서, 타입을 변수처럼 취급할 수 있습니다. (ex : &lt;code class=&quot;language-text&quot;&gt;interface Backpack&amp;lt;T&gt;{}&lt;/code&gt;)&lt;br&gt;
이런 인터페이스에 대해, &lt;code class=&quot;language-text&quot;&gt;declare const backpack: Backpack&amp;lt;string&gt;;&lt;/code&gt;과 같이 작성하여 원하는 타입에 대한 &lt;code class=&quot;language-text&quot;&gt;Backpack&amp;lt;T&gt;&lt;/code&gt; 객체를 생성할 수 있습니다&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;structural-type-system&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#structural-type-system&quot; aria-label=&quot;structural type system permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Structural Type System&lt;/h2&gt;
&lt;p&gt;위에서 계속 언급한 &lt;strong&gt;Structural Type System&lt;/strong&gt;인데요&lt;br&gt;
C++같은 다른 언어에서는 &lt;strong&gt;nominal typing&lt;/strong&gt;이라고 해서, 클래스의 이름으로 타입을 결정하고 구분짓습니다.&lt;br&gt;
이와 달리, TS는 내부 &lt;em&gt;모양&lt;/em&gt;을 보고 타입을 처리합니다.&lt;br&gt;
그말인 즉, 내부가 똑같이 생겼다면 동일한 타입으로 간주할 수 있습니다.&lt;br&gt;
예를 들어, &lt;code class=&quot;language-text&quot;&gt;type MyBoolean = true | false&lt;/code&gt; 이렇게 쓰면 그냥 &lt;code class=&quot;language-text&quot;&gt;boolean&lt;/code&gt;으로 받아들입니다.&lt;/p&gt;
&lt;p&gt;예를 들어&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Point&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  x&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
  y&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//이런 인터페이스가 있고&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;logPoint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Point&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//이런 함수가 있을 때&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; point1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; x&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;26&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; point2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; x&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; z&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;89&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;logPoint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;logPoint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//둘 다 가능&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;point1&lt;/code&gt;은 당연히 가능하고, &lt;code class=&quot;language-text&quot;&gt;point2&lt;/code&gt;또한 property의 subset이 조건을 만족하므로 가능합니다.&lt;br&gt;
예시에서는 살펴보지 않았지만, 클래스에 대해서도 다를 것 없이&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;x: number&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;y: number&lt;/code&gt; 필드만 가지고 있다면 동일한 타입으로 취급받을 수 있습니다.&lt;/p&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;p&gt;여기까지가 TypeScript 문법에 관한 간단한 오버뷰라고 하네요&lt;br&gt;
이 다음은&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;핸드북 다 읽어보기 : &lt;a href=&quot;https://www.typescriptlang.org/docs/handbook/intro.html&quot;&gt;from start to finish&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;예제 풀어보기 : &lt;a href=&quot;https://www.typescriptlang.org/play#show-examples&quot;&gt;Playground examples&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이런게 준비되어있다고 합니다&lt;br&gt;
Day 2를 쓸지는 모르겠지만..&lt;br&gt;
이만 마칩니다&lt;/p&gt;</content:encoded></item><item><title><![CDATA[👥 C++ 멀티스레딩 맛 한번 보세요]]></title><description><![CDATA[저번학기에 게임 만드는 팀플이 있었는데요 처음에는 C로 시작했고 나중에 C++로 확장했지만 사실 사용중인 이미지 렌더링 라이브러리가 C로 작성된거기도 하고 해서 아무튼 시작은 C…]]></description><link>https://sungpaks.github.io/multi-threading-in-cpp/</link><guid isPermaLink="false">https://sungpaks.github.io/multi-threading-in-cpp/</guid><pubDate>Wed, 03 Jan 2024 11:35:00 GMT</pubDate><content:encoded>&lt;p&gt;저번학기에 게임 만드는 팀플이 있었는데요&lt;br&gt;
처음에는 C로 시작했고 나중에 C++로 확장했지만&lt;br&gt;
사실 사용중인 이미지 렌더링 라이브러리가 C로 작성된거기도 하고 해서&lt;br&gt;
아무튼 시작은 C였고 멀티스레딩은 생각을 해두지 않았었습니다&lt;br&gt;
그럼 이제 문제가 뭐냐 모든 동작이 순차적이라는 것인데요&lt;/p&gt;
&lt;p&gt;예를 들어 가장 문제점은&lt;br&gt;
게임에서는 땅을 파는 함수가 있는데&lt;br&gt;
이 함수에서는 진동 모션과 블록의 파괴 등까지 해서 한 동작에 렌더링이 최소 5번 일어납니다&lt;/p&gt;
&lt;p&gt;아래의 진동 모션이야말로 주범인데&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/05czAG6.png&quot; width=&quot;100%&quot;&gt;
앞뒤로 왔다갔다를 보여줘야 하니 렌더링이 다다닥 있습니다&lt;br&gt;
맥북을 쓰는 팀원분은 렌더링이 빨라서 체감이 크지 않는데&lt;br&gt;
제 윈트북은 개느려서 이 렌더링 세 번에 걸리는 시간이 상당히 크고 그동안 다른 동작에 도달하지 못하니 NPC들은 멈춰있고 그렇습니다&lt;/p&gt;
&lt;h3 id=&quot;그래서-어케함&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%96%B4%EC%BC%80%ED%95%A8&quot; aria-label=&quot;그래서 어케함 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그래서 어케함??&lt;/h3&gt;
&lt;p&gt;그래서 이 땅 파는 함수 &lt;code class=&quot;language-text&quot;&gt;dig&lt;/code&gt;을 다른 스레드에서 실행하고자 했습니다&lt;br&gt;
먼저 그러려면 &lt;code class=&quot;language-text&quot;&gt;#include &amp;lt;thread&gt;&lt;/code&gt;로 스레드 헤더를 가져옵니다&lt;br&gt;
이제 스레드 객체를 &lt;code class=&quot;language-text&quot;&gt;thread myThread(함수포인터, 객체, 인자, 인자, ... )&lt;/code&gt;와 같이 생성해줍니다.&lt;br&gt;
예를 들어, 제 경우 &lt;code class=&quot;language-text&quot;&gt;pc.dig(x, y);&lt;/code&gt;에 대한 스레드 객체를 생성하기 위해&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;thread digThread(&amp;amp;PC::dig, &amp;amp;pc, x, y);&lt;/code&gt; 이렇게 작성했습니다&lt;/p&gt;
&lt;p&gt;이제 두 가지 선택지가 있는데&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;myThread.join()&lt;/code&gt; : 메인스레드는 저거 끝나기를 기다림&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;myThread.detach()&lt;/code&gt; : 메인스레드와 분리시켜 백그라운드 작업을 시키고, 메인스레드는 할 일 하러 간다&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;메인스레드는 계속 일하고 &lt;code class=&quot;language-text&quot;&gt;dig&lt;/code&gt;만 따로 실행하면 좋겠으니, &lt;code class=&quot;language-text&quot;&gt;detach&lt;/code&gt;합니다
&lt;br/&gt;
&lt;br/&gt;&lt;/p&gt;
&lt;h3 id=&quot;주의&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A3%BC%EC%9D%98&quot; aria-label=&quot;주의 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;주의..&lt;/h3&gt;
&lt;p&gt;해야 할 점이 있었는데
&lt;code class=&quot;language-text&quot;&gt;switch&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;case&lt;/code&gt;문 내에서 thread 변수를 만드니까 &lt;code class=&quot;language-text&quot;&gt;thread 초기화가 case레이블에 의해 생략되었습니다.&lt;/code&gt; 뭐 이런 에러가 발생합니다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;case&lt;/code&gt;문 내부에서 변수를 선언한게 문제인데,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;switch&lt;/code&gt;시작 전에 변수 선언하거나&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;case&lt;/code&gt;문을 중괄호 &lt;code class=&quot;language-text&quot;&gt;{}&lt;/code&gt;로 묶거나
둘 중 하나 선택해서 해결할 수 있습니다&lt;/p&gt;
&lt;p&gt;대신 후자의 방식은 당연히 scope가 중괄호 내부로 제한되니 그 안에서만 사용할 수 있습니다
&lt;img src=&quot;https://i.imgur.com/MuWI0wV.png&quot; width=&quot;100%&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;동기화&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8F%99%EA%B8%B0%ED%99%94&quot; aria-label=&quot;동기화 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;동기화&lt;/h3&gt;
&lt;p&gt;그리고 이제 연산이 일부 병렬적이므로 자원에 동시에 접근하고 수정하게 될 수도 있습니다..&lt;br&gt;
따라서 동기화하려면&lt;br&gt;
여러 방법이 있는 것 같은데 저는 &lt;code class=&quot;language-text&quot;&gt;std::mutex&lt;/code&gt;를 쓰는 방법을 택했습니다&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;#include &amp;lt;mutex&gt;&lt;/code&gt;로 먼저 뮤텍스를 가져오신 다음에&lt;br&gt;
전역에 &lt;code class=&quot;language-text&quot;&gt;std::mutex m&lt;/code&gt;과 같이 뮤텍스를 하나 생성해줍니다&lt;br&gt;
이제 동기화하려는 코드 앞뒤로 &lt;code class=&quot;language-text&quot;&gt;m.lock()&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;m.unlock()&lt;/code&gt;을 써서 감싸줍니다&lt;br&gt;
대충 이런 식
&lt;img src=&quot;https://i.imgur.com/cSbhn7L.png&quot; width=&quot;100%&quot;&gt;&lt;/p&gt;
&lt;p&gt;그럼 짜잔&lt;/p&gt;
&lt;p&gt;..&lt;/p&gt;
&lt;p&gt;..&lt;/p&gt;
&lt;p&gt;..&lt;/p&gt;
&lt;p&gt;..&lt;/p&gt;
&lt;p&gt;딱히 보여줄 자료는 없고요.. 확실히 효과있었습니다&lt;/p&gt;
&lt;p&gt;처음부터 멀티스레딩을 염두에 두고 개발했으면 좋았을걸 싶네요 아쉽습니다&lt;br&gt;
전부 갈아엎을 수도 없는 노릇이라 그냥 .. 부분적으로만 스레드를 분리했었네요&lt;/p&gt;
&lt;p&gt;이만 마칩니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[✒️ 내 동년배들 다 깃허브 블로그 운영한다]]></title><description><![CDATA[여러분 새해 복 많이 받으십시오 저는 미루고 미뤄왔던 깃허브 블로그를 드디어 만들었습니다 새해 시작이 좋네요 원래 Jeykll로 한번 시도를 했었는데 쩝.. Ruby인 것도 맘에 안 들고 어디서 막혔는지 기억도 안 나네요 대신 React…]]></description><link>https://sungpaks.github.io/github-blog-using-gatsby/</link><guid isPermaLink="false">https://sungpaks.github.io/github-blog-using-gatsby/</guid><pubDate>Wed, 03 Jan 2024 06:30:00 GMT</pubDate><content:encoded>&lt;p&gt;여러분 새해 복 많이 받으십시오&lt;br&gt;
저는 미루고 미뤄왔던 깃허브 블로그를 드디어 만들었습니다&lt;br&gt;
새해 시작이 좋네요&lt;/p&gt;
&lt;p&gt;원래 Jeykll로 한번 시도를 했었는데&lt;br&gt;
쩝.. Ruby인 것도 맘에 안 들고 어디서 막혔는지 기억도 안 나네요&lt;br&gt;
대신 React 기반인 Gatsby를 썼습니다&lt;/p&gt;
&lt;p&gt;제 지인 블로그인 &lt;a href=&quot;https://klloo.github.io/make-blog/&quot;&gt;여기(klloo 블로그)&lt;/a&gt;를 좀 참고했는데요..&lt;br&gt;
질투와 시기심. 그로 인한 동기부여. 가장 큰 도움. 내가 받은.&lt;br&gt;
설치와 프로젝트 구성 과정은 저 안에 있는 &lt;a href=&quot;https://devfoxstar.github.io/web/github-pages-gatsby/&quot;&gt;링크&lt;/a&gt;를 많이 참고했습니다.&lt;br&gt;
감사의 인사 드리며..&lt;/p&gt;
&lt;h2 id=&quot;설치와-프로젝트-생성&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%84%A4%EC%B9%98%EC%99%80-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1&quot; aria-label=&quot;설치와 프로젝트 생성 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;설치와 프로젝트 생성&lt;/h2&gt;
&lt;p&gt;링크에 자세한 설명이 있으니 저는 대략적으로만 쓰겠습니다&lt;br&gt;
설치는 &lt;code class=&quot;language-text&quot;&gt;npm install -g gatsby-cli&lt;/code&gt;&lt;br&gt;
테마는 &lt;a href=&quot;https://www.gatsbyjs.com/starters/&quot;&gt;여기에서&lt;/a&gt; 골라보시면 되는데요&lt;br&gt;
테마를 고르고 해당 깃허브 주소를 가져다가&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;gatsby new 프로젝트명 깃허브URL&lt;/code&gt;&lt;br&gt;
이런식으로 명령줄을 입력하시면 되겠습니다&lt;/p&gt;
&lt;p&gt;근데 저같은 경우&lt;br&gt;
&lt;img src=&quot;https://i.imgur.com/F5qObnj.png&quot; width=&quot;100%&quot; height=&quot;100%/&quot;&gt;&lt;br&gt;
이런 문제가 나타났는데..&lt;br&gt;
찾아보고 찾아보다가 모르겠어서 테마를 그냥 바꿔봤는데 됐습니다..&lt;br&gt;
테마의 문제인가?&lt;br&gt;
아무튼 저는 그냥 그래서 &lt;code class=&quot;language-text&quot;&gt;Gatsby Starter Blog&lt;/code&gt; 테마를 썼습니다.&lt;br&gt;
쩝.. Gatsby 만든 사람이 만드신 스타터팩인가봅니다&lt;/p&gt;
&lt;p&gt;이제 프로젝트 폴더에서 &lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;을 입력하여 로컬 개발환경을 열고&lt;br&gt;
브라우저에서 &lt;code class=&quot;language-text&quot;&gt;localhost:8000&lt;/code&gt;에 가면&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/OOqFGw3.png&quot; width=&quot;100%/&quot;&gt;
이렇게 되어있습니다.
&lt;h2 id=&quot;github-page와-연동&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#github-page%EC%99%80-%EC%97%B0%EB%8F%99&quot; aria-label=&quot;github page와 연동 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Github Page와 연동&lt;/h2&gt;
&lt;p&gt;이제 &lt;em&gt;(본인의 깃허브 이름).github.io&lt;/em&gt;라는 이름의 레포지토리를 만듭시다.&lt;br&gt;
전 이미 있어서 그냥&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;git remote add origin REPO_URL&lt;/code&gt; 이런식으로 프로젝트 폴더에 원격 저장소를 연결하고&lt;br&gt;
쓸데없는 것들이 있었어서.. &lt;code class=&quot;language-text&quot;&gt;--force&lt;/code&gt; 옵션을 붙여서 &lt;code class=&quot;language-text&quot;&gt;push&lt;/code&gt;해주어 덮어씌워버렸습니다&lt;/p&gt;
&lt;p&gt;이제 레포지토리의 &lt;code class=&quot;language-text&quot;&gt;master&lt;/code&gt;브랜치에 프로젝트가 올라가있을건데요&lt;br&gt;
저는 배포를 따로 다른 브랜치에서 하고싶기 때문에 로컬 &lt;code class=&quot;language-text&quot;&gt;deploy&lt;/code&gt; 브랜치를 먼저 생성합니다 : &lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;git branch deploy&lt;/code&gt;&lt;br&gt;
그리고 &lt;strong&gt;package.json&lt;/strong&gt; 파일 보시면 맨 아래쪽에 &lt;code class=&quot;language-text&quot;&gt;&quot;scripts&quot;&lt;/code&gt; 룰이 있는데&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;deploy&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gatsby build &amp;amp;&amp;amp; gh-pages -d public -b deploy&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 &lt;code class=&quot;language-text&quot;&gt;deploy&lt;/code&gt;를 추가해줍니다&lt;/p&gt;
&lt;p&gt;그런 다음 &lt;code class=&quot;language-text&quot;&gt;npm run deploy&lt;/code&gt; 입력해주면 알아서 배포파일을 만들고 원격 &lt;code class=&quot;language-text&quot;&gt;deploy&lt;/code&gt;브랜치에 올라가기까지 합니다&lt;/p&gt;
&lt;p&gt;마지막으로.. Github 레포지토리에서 &lt;strong&gt;Settings&lt;/strong&gt; - &lt;strong&gt;pages&lt;/strong&gt; - &lt;strong&gt;Build and deployment&lt;/strong&gt; 로 가서 브랜치를 deploy로 설정해줍니다&lt;br&gt;
이렇게 하면 deploy를 기준으로 Github Page를 호스팅해줍니다
&lt;img src=&quot;https://i.imgur.com/MGNEGYR.png&quot; width=&quot;100%/&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;초기-작업&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%B4%88%EA%B8%B0-%EC%9E%91%EC%97%85&quot; aria-label=&quot;초기 작업 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;초기 작업&lt;/h2&gt;
&lt;h3 id=&quot;1-프로필&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%ED%94%84%EB%A1%9C%ED%95%84&quot; aria-label=&quot;1 프로필 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. 프로필&lt;/h3&gt;
&lt;p&gt;지금은 Gatsby 개발해주신 Kyle Methews 선생님께서 인사를 하고계시니까.. 먼저 프로필을 바꿔봅시다?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;bio.js&lt;/strong&gt;를 보면 &quot;siteMetadata&quot;를 가져와서 &lt;code class=&quot;language-text&quot;&gt;author&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;social&lt;/code&gt;을 가져오도록 되어 있다고 친절하게도 주석으로 써주셨습니다.&lt;br&gt;
따라서 &lt;strong&gt;gatsby-config.js&lt;/strong&gt; 파일로 가서 적당히 &lt;code class=&quot;language-text&quot;&gt;Title, author, social&lt;/code&gt; 이런 데이터들을 본인 것으로 바꿔주도록 합시다.&lt;/p&gt;
&lt;h3 id=&quot;2-폰트&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-%ED%8F%B0%ED%8A%B8&quot; aria-label=&quot;2 폰트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. 폰트&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://0andme.github.io/blog/gatsby%EB%A1%9C-%EB%B8%94%EB%A1%9C%EA%B7%B8-%EB%A7%8C%EB%93%A4%EA%B8%B0-(4)-%ED%8F%B0%ED%8A%B8-%EB%B0%94%EA%BE%B8%EA%B8%B0/&quot;&gt;여기&lt;/a&gt;를 좀 참고했습니다.&lt;br&gt;
이미 Gatsby Starter Blog 테마는 Fontsource를 이용하고 있습니다.&lt;br&gt;
저는 &lt;strong&gt;IBM&lt;/strong&gt; 폰트를 사용하기 위해
&lt;code class=&quot;language-text&quot;&gt;npm install @fontsource/ibm-plex-sans&lt;/code&gt;와 같이 입력하여 받아와서&lt;br&gt;
&lt;strong&gt;gatsby-browser.js&lt;/strong&gt;에 &lt;code class=&quot;language-text&quot;&gt;import &quot;@fontsource/ibm-plex-sans&quot;&lt;/code&gt;라고 써줬습니다.&lt;br&gt;
그 다음 &lt;strong&gt;style.css&lt;/strong&gt;에서 &lt;code class=&quot;language-text&quot;&gt;body { font-family: &quot;ibm-plex-sans&quot;; }&lt;/code&gt;라고 써주면..&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/kPO51P6.png&quot; width=&quot;50%&quot;&gt;
&lt;p&gt;잘 되네요~&lt;/p&gt;
&lt;h3 id=&quot;3-상단바&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-%EC%83%81%EB%8B%A8%EB%B0%94&quot; aria-label=&quot;3 상단바 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. 상단바&lt;/h3&gt;
&lt;p&gt;그 왜 있잖아요 상단에 고정되어서 따라다니는데 반투명하고
버튼같은거 있어서 블로그 홈으로 가거나 그럴 수 있는 상단 메뉴 UI&lt;br&gt;
그런거를 만들어보겠습니다&lt;br&gt;
이미 테마에서 스타일이 많이 적용되어있고 &lt;code class=&quot;language-text&quot;&gt;wrapper&lt;/code&gt;스타일도 존재하니 적당히 살펴보고 겹치지 않게 잘 해주도록 합시다&lt;/p&gt;
&lt;p&gt;일단 &lt;code class=&quot;language-text&quot;&gt;TopUI&lt;/code&gt; 컴포넌트를 만들어주고&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;top-ui&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h4&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;성훈 블로그&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h4&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;저는 대충 이런식으로 썼습니다&lt;br&gt;
고맙게도 &lt;code class=&quot;language-text&quot;&gt;Link&lt;/code&gt;컴포넌트가 이미 있는데요&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;to=&quot;/&quot;&lt;/code&gt;와 같이 쓰면 블로그 홈으로 가도록 해줄 수 있네요&lt;/p&gt;
&lt;p&gt;이제 이 컴포넌트를 이미 있는 &lt;strong&gt;layout.js&lt;/strong&gt;의 &lt;code class=&quot;language-text&quot;&gt;Layout&lt;/code&gt; 컴포넌트에서 함께 뱉어내도록 합시다&lt;br&gt;
이미 최상위 &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;가 &lt;code class=&quot;language-text&quot;&gt;global-wrapper&lt;/code&gt;스타일로 적용되어있는데요&lt;br&gt;
이 스타일에 구애받지 않고 따로 &lt;code class=&quot;language-text&quot;&gt;top-ui&lt;/code&gt; 스타일을 만들어주고 싶으니 이 &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;의 바깥에 작성하고 새로운 &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;로 감싸줬습니다
&lt;img src=&quot;https://i.imgur.com/0HjPPVL.png&quot; width=&quot;100%/&quot;&gt;&lt;/p&gt;
&lt;p&gt;이제 &lt;strong&gt;style.css&lt;/strong&gt;에 가서 스타일 클래스를 만들어줍시다&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;.top-ui {}&lt;/code&gt;와 같이 쓰고 이 안에다 CSS style을 작성하면 되겠습니다&lt;br&gt;
상단에 고정할거니까 &lt;code class=&quot;language-text&quot;&gt;position: fixed&lt;/code&gt;라고 쓰고&lt;br&gt;
투명도를 조절하려면 &lt;code class=&quot;language-text&quot;&gt;opacity&lt;/code&gt;&lt;br&gt;
가 아닌.. 배경색만 반투명하게 하고싶으니\ &lt;code class=&quot;language-text&quot;&gt;background-color&lt;/code&gt;를 &lt;code class=&quot;language-text&quot;&gt;rgba(255,255,255,0.8)&lt;/code&gt;와 같이 써줍니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;width: 100%&lt;/code&gt;라고 적어주고 적당히 높이와 여백을 써주면??
&lt;img src=&quot;https://i.imgur.com/Um9EDUg.png&quot; width=&quot;100%/&quot;&gt;
좋네요 나중에 적당히 다른 버튼들을 만들어주면 있어보일 것 같습니다&lt;/p&gt;
&lt;h2 id=&quot;글-작성하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B8%80-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;글 작성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;글 작성하기&lt;/h2&gt;
&lt;p&gt;블로그라면 응당 글을 써야겠죠?&lt;br&gt;
프로젝트 폴더에 보면 &lt;strong&gt;content/blog&lt;/strong&gt; 밑에 이미 세 개의 글이 기본적으로 있습니다.&lt;br&gt;
이거 다 지워주고..&lt;br&gt;
새 글을 쓰려면 폴더를 하나 만들고 그 밑에 마크다운 파일을 생성하여 여기에 글을 작성합니다. 이미지같은거 넣으려면 또한 같이 넣으시구요.&lt;br&gt;
이런식으로&lt;/p&gt;
&lt;img src=&quot;https://i.imgur.com/uZfUuLc.png&quot; width=&quot;100%/&quot;&gt;
&lt;p&gt;글의 제목과 날짜, 설명은
마크다운 파일 가장 상단에&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;---
title: 내 동년배들 다 깃허브 블로그 운영한다
date: &quot;2024-01-03T15:30&quot;
description: &quot;Gatsby로 Github 블로그 만들어봤습니다&quot;
---&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 쓰시면 알아서 아래와 같이 됩니다
&lt;img src=&quot;https://i.imgur.com/oVOck6K.png&quot; width=&quot;100%/&quot;&gt;&lt;/p&gt;
&lt;p&gt;쩝.. 이정도면 준비는 얼추 된 것 같네요.
스타일도 좀 만지고 완성도도 높이고 하는건 천천히 하겠습니다
이만 마칩니다&lt;/p&gt;</content:encoded></item></channel></rss>