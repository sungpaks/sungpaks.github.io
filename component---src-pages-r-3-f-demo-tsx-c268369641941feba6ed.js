"use strict";(self.webpackChunkgatsby_starter_blog=self.webpackChunkgatsby_starter_blog||[]).push([[489],{6791:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});r(3462),r(3824);var n=r(520),a=r(780),o=r(7294),c=r(4250),s=r(1565),l=r.p+"static/ceres-7c20bdbe662366525fdbb769dbd44d43.jpg",i=r.p+"static/sun-4b569137334e6108165145a289371d07.jpg",u=r.p+"static/stars-background-09fecfb664aafb77e679fd67c13fc028.jpg";function p(e){let{location:t}=e;return o.createElement(s.Z,{location:t},o.createElement("div",{id:"canvas-container",style:{border:"0.5px solid gray",height:"100vh",backgroundColor:"black",position:"fixed",width:"100vw",top:0,left:0}},o.createElement(n.Xz,{camera:{fov:75,near:.1,far:1e3,position:[0,175,0]}},o.createElement("ambientLight",{intensity:1}),o.createElement(m,null))))}function m(){const e=o.useRef(null),t=(0,a.H)(c.dpR,u),r=(0,a.H)(c.dpR,i);return(0,a.D)((e=>{let{scene:r,camera:n}=e;r.background=t,n.position.x=20})),o.createElement("mesh",{ref:e},o.createElement("sphereGeometry",{args:[5,32,32]}),o.createElement("meshPhongMaterial",{args:[{map:r}]}),o.createElement("pointLight",{position:[0,0,0],intensity:1e3}),o.createElement(f,null))}function f(e){let t=0;const r=o.useRef(null),n=o.useRef(new Float32Array(90)),s=o.useRef(0),l=o.useRef(null);return(0,a.F)((e=>{let{clock:a}=e;if(a.getElapsedTime()-t>1&&r.current){t=a.getElapsedTime();const e=new c.Pa4;if(r.current.getWorldPosition(e),n.current[3*s.current]=e.x,n.current[3*s.current+1]=e.y,n.current[3*s.current+2]=e.z,s.current=(s.current+1)%30,l.current){l.current.geometry.setAttribute("position",new c.a$l(n.current,3)),l.current.geometry.attributes.position.needsUpdate=!0}}})),o.createElement("mesh",e,o.createElement(o.Suspense,{fallback:null},o.createElement(d,{planetRef:r,position:[30,0,0]})),o.createElement("points",{ref:l},o.createElement("bufferGeometry",null),o.createElement("pointsMaterial",{size:1,color:"aqua"})))}const d=e=>{let{planetRef:t,...r}=e;const[n,s]=o.useState(!1),i=o.useRef(null),u=(0,a.H)(c.dpR,l),p=[50,0,0],m=.2;return(0,a.F)((e=>{let{clock:t,scene:r}=e;if(!i.current)return;const n=t.getElapsedTime()*m;i.current.lookAt(0,0,0);const a=100*Math.cos(n),o=40*Math.sin(n);i.current.position.set(p[0]+a,p[1],p[2]+o)})),o.createElement("mesh",Object.assign({ref:e=>{i.current=e,t.current=e},onClick:()=>s((e=>!e)),scale:n?1.5:1},r),o.createElement("axesHelper",{args:[5]}),o.createElement("sphereGeometry",{args:[1,32,32]}),o.createElement("meshStandardMaterial",{args:[{map:u}]}),o.createElement(b,{orbitSpeed:m,color:"#7DF9FF",orbitCenter:p,planetRef:i}),o.createElement(b,{orbitSpeed:m,dust:!0,color:"#FFD700",orbitCenter:p,planetRef:i}),o.createElement(b,{orbitSpeed:m,dust:!0,color:"#FF4500",orbitCenter:p,planetRef:i}),o.createElement(b,{orbitSpeed:m,color:"#6457A6",orbitCenter:p,planetRef:i}))};function b(e){let{color:t,dust:r,orbitSpeed:n,orbitCenter:s,planetRef:l}=e;const i=o.useRef(null),u=(0,o.useCallback)((()=>2*Math.random()-1),[]),p=1e3,m=o.useMemo((()=>{const e=[],t=[];for(let n=0;n<p;n++){const n=5+5*Math.random(),a=r?5*(Math.random()-.9):1.5*(Math.random()-.5),o=1.5*(Math.random()-.5),c=Math.cos(2*Math.PI)*-n;e.push(u(),u(),u());const s=r?.005:.01;t.push(a*s,o*s,c*s)}return{positions:e,velocities:t}}),[]);return(0,a.F)((()=>{var e;if(!i.current)return;const t=new c.Pa4;null==l||null===(e=l.current)||void 0===e||e.getWorldPosition(t);const a=Math.sqrt((t.x-2*s[0])**2+(t.z-2*s[2])**2),o=i.current.geometry.attributes.position.array;for(let c=0;c<p;c++){o[3*c]+=m.velocities[3*c],o[3*c+1]+=m.velocities[3*c+1],o[3*c+2]+=m.velocities[3*c+2];const e=Math.sqrt(o[3*c]**2+o[3*c+1]**2+o[3*c+2]**2);r&&(o[3*c]-=e*n*.01);const t=(a/100)**2*100,s=.01,l=.99,i=Math.pow(e/t,2)*(l-s)+s;Math.random()<i/2&&(o[3*c]=u(),o[3*c+1]=u(),o[3*c+2]=u())}i.current.geometry.attributes.position.needsUpdate=!0})),o.createElement("points",{ref:i},o.createElement("bufferGeometry",null,o.createElement("bufferAttribute",{attach:"attributes-position",count:p,array:new Float32Array(m.positions),itemSize:3})),o.createElement("pointsMaterial",{size:.1,color:t,transparent:!0,opacity:.8}))}}}]);
//# sourceMappingURL=component---src-pages-r-3-f-demo-tsx-c268369641941feba6ed.js.map